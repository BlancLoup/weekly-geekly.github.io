<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Automatic uploading files to Yandex.Disk</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I bring to your attention a PHP script automatically uploading files to the Yandex.Disk service. The script is simple to disgrace, it is enough to tra...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Automatic uploading files to Yandex.Disk</h1><div class="post__text post__text-html js-mediator-article">  I bring to your attention a PHP script automatically uploading files to the Yandex.Disk service.  The script is simple to disgrace, it is enough to transfer to it the login, password and file path as parameters, and as a result, it will upload your file to the service and give you a link to it.  I don‚Äôt know how long Yandex will endure along with my posts, but I‚Äôll still give you the source code of the script :) <br><a name="habracut"></a><br><blockquote><code><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> <font color="black">Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> <ol> <li> <code><font color="black"><font color="#cc6633"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML &lt;?php <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li></li><li> <code><font color="black"><font color="#696969"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; //    <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li></li><li> <code><font color="black"><font color="#696969"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; //      <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li></li><li> <code><font color="black"><font color="#696969"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } //     <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li></li><li> <code><font color="black"><font color="#696969"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; //   print_r($info); <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></font></code> </li> <li> <code><font color="black"><font color="#696969"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> //    <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li></li><li> <code><font color="black"><font color="#696969"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } //       <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } <font color="#cc6633">?&gt;</font></font></code> </li> <li> <code><font color="black"><font color="#cc6633"><a href="http://s-c.me/2800/s"></a> <a href="http://s-c.me/2800/h"></a> <a href="http://www.php.net/manual/en/function.curl-init.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.implode.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-getinfo.php"></a> <a href="http://www.php.net/manual/en/function.mt-rand.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.curl-setopt.php"></a> <a href="http://www.php.net/manual/en/function.curl-exec.php"></a> <a href="http://www.php.net/manual/en/function.curl-close.php"></a> <a href="http://www.php.net/manual/en/function.preg-match.php"></a> <a href="http://www.php.net/manual/en/function.trim.php"></a> Copy Source | Copy HTML <font color="#cc6633">&lt;?php</font> <font color="#0000ff">print</font> uploadFile(_, _, __). <font color="#008000">"\n"</font> ; <font color="#0000ff">function</font> uploadFile( <font color="#cc6633">$login</font> , <font color="#cc6633">$password</font> , <font color="#cc6633">$filename</font> ) { <font color="#cc6633">$cookie_file</font> = <font color="#008000">'cookie.txt'</font> ; <font color="#cc6633">$user_agent</font> = <font color="#008000">'Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.9.0.6) Gecko/2009011913 Firefox/3.0.6'</font> ; <font color="#696969">//   </font> <font color="#cc6633">$ch</font> = curl_init( <font color="#008000">'https://passport.yandex.ru/passport?mode=auth'</font> ); <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [] = <font color="#008000">"login=$login"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"passwd=$password"</font> ; <font color="#cc6633">$fields</font> [] = <font color="#008000">"twoweeks=yes"</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, implode( <font color="#008000">'&amp;'</font> , <font color="#cc6633">$fields</font> )); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_RETURNTRANSFER, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_USERAGENT, <font color="#cc6633">$user_agent</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_FOLLOWLOCATION, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEJAR, <font color="#cc6633">$cookie_file</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_SSL_VERIFYPEER, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//     </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/getstorage/?rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_COOKIEFILE, <font color="#cc6633">$cookie_file</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/"url":"(.*?)", "hash":"(.*?)", "purl":"(.*?)"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$upload_url</font> = <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]; <font color="#cc6633">$hash</font> = <font color="#cc6633">$m</font> [ <font color="#008000">2</font> ]; <font color="#cc6633">$purl</font> = <font color="#cc6633">$m</font> [ <font color="#008000">3</font> ]; } <font color="#0000ff">else</font> { <font color="#0000ff">return false</font> ; } <font color="#696969">//    </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$upload_url</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> ; <font color="#cc6633">$fields</font> = <font color="#0000ff">array</font> (); <font color="#cc6633">$fields</font> [ <font color="#008000">'file'</font> ] = <font color="#008000">'@'</font> . <font color="#cc6633">$filename</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_REFERER, <font color="#008000">'http://narod.yandex.ru/'</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">1</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POSTFIELDS, <font color="#cc6633">$fields</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#cc6633">$info</font> = curl_getinfo( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> ( <font color="#cc6633">$info</font> [ <font color="#008000">'http_code'</font> ] != <font color="#008000">200</font> ) <font color="#0000ff">return false</font> ; <font color="#696969">//   print_r($info);</font> <font color="#696969">//   </font> <font color="#cc6633">$url</font> = <font color="#cc6633">$purl</font> . <font color="#008000">'?tid='</font> . <font color="#cc6633">$hash</font> . <font color="#008000">'&amp;rnd='</font> . (mt_rand( <font color="#008000">0</font> , <font color="#008000">777777</font> ) + <font color="#008000">777777</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_POST, <font color="#008000">0</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (!preg_match( <font color="#008000">'/"status": "done"/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#0000ff">return false</font> ; } <font color="#696969">//      </font> <font color="#cc6633">$url</font> = <font color="#008000">'http://narod.yandex.ru/disk/last/'</font> ; curl_setopt( <font color="#cc6633">$ch</font> , CURLOPT_URL, <font color="#cc6633">$url</font> ); <font color="#cc6633">$result</font> = curl_exec( <font color="#cc6633">$ch</font> ); curl_close( <font color="#cc6633">$ch</font> ); <font color="#0000ff">if</font> (preg_match( <font color="#008000">'/&lt;span class=\'b\-fname\'&gt;&lt;a href="(.*?)"&gt;/'</font> , <font color="#cc6633">$result</font> , <font color="#cc6633">$m</font> )) { <font color="#cc6633">$fileURL</font> = trim( <font color="#cc6633">$m</font> [ <font color="#008000">1</font> ]); <font color="#0000ff">return</font> <font color="#cc6633">$fileURL</font> ; } <font color="#0000ff">return false</font> ; } ?&gt;</font></font></code> </li> <li></li></ol></blockquote></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/67111/">https://habr.com/ru/post/67111/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../67105/index.html">New googlyk</a></li>
<li><a href="../67106/index.html">Yandex.Direct: special placement - first, second or third?</a></li>
<li><a href="../67108/index.html">Create and publish your presentation.</a></li>
<li><a href="../67109/index.html">BBZ.RU - my personal "startup" about breaks music</a></li>
<li><a href="../67110/index.html">You can send SMS to aliens until August 24</a></li>
<li><a href="../67112/index.html">How to create your first iPhone application</a></li>
<li><a href="../67114/index.html">Freedom Mickey Mouse!</a></li>
<li><a href="../67115/index.html">Solid work plus lots of fun - and Opera Unite turns into a great feature.</a></li>
<li><a href="../67116/index.html">Automatically optimize Windows XP services</a></li>
<li><a href="../67117/index.html">There are many entities - code one</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>