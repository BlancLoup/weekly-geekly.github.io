<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Building our full stack on javascript: The Basics</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Building our full stack on javascript: The Basics 



 In the JavaScript world, it is very easy to type your technology stack using a set of small pac...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Building our full stack on javascript: The Basics</h1><div class="post__text post__text-html js-mediator-article"><h1>  Building our full stack on javascript: The Basics </h1><br><div style="text-align:center;"><img src="https://habrastorage.org/files/ecc/a63/fda/ecca63fdad2b451e90112d5ca484a29e.png"></div><br><p>  In the JavaScript world, it is very easy to type your technology stack using a set of small packages, each of which solves its own specific problem.  And this is good, on the one hand, and on the other hand, you have no particular choice - frameworks that perform a wide range of tasks in JavaScript are not popular. </p><br><p>  In this series of articles, I want to share my practical experience of building a JS stack. </p><br><a name="habracut"></a><br><ul><li>  Article 1: Basics </li><li>  <a href="https://habrahabr.ru/post/310042/">Article 2: Server</a> </li><li>  <a href="https://habrahabr.ru/post/310788/">Article 3: Customer</a> </li></ul><br><p>  I switched to full-stack JavaScript from .NET.  And after I had mastered the basics of Node, I had to spend a lot more time building my basic stack of technologies and how to organize the code.  Unfortunately, there are not so many examples of final applications in JS, where you can see how to solve the main tasks for most projects, such as error handling, database access, code organization, authorization, and so on. </p><br><p>  In order to always have at hand an example of using basic technologies, <strong>Contoso Express</strong> was written, an example of a full-stack application on JS.  In our team, we use this project as a starting template for other projects, so it will be maintained and updated in the future. </p><br><p>  <a href="https://github.com/yegor-sytnyk/contoso-express">Github: Contoso Express</a> </p><br><p>  <em>Contoso Express</em> is a remake of a famous Microsoft textbook for learning the basics of developing .NET web projects. </p><br><p>  <a href="http://www.asp.net/mvc/overview/getting-started/getting-started-with-ef-using-mvc/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application">Original Contoso Univerisity</a> </p><br><p>  For many parts of the stack, it is difficult to stay with one alternative.  Therefore, for some technologies there are alternative implementations.  See ALT threads in Contoso Express repository. </p><br><p>  These articles are for those who already know the basics, if you need to fill in knowledge in a certain area, look for the necessary <a href="https://gist.github.com/yegor-sytnyk/a3d2dafb62864016429635527a127c1e">additional resources</a> . </p><br><p>  Let's get started! </p><br><h2>  Why javascript </h2><br><p>  The reasons can be many, here is my top list: </p><br><ul><li><p>  <strong>Simplicity</strong> : Basically, the libraries in Node have simple APIs that are easy to understand and work in an intuitive way.  If it didn‚Äôt work with one library, it‚Äôs usually easy to find a good alternative. </p><br></li><li><p>  <strong>Control</strong> : The programmer builds the project infrastructure himself, selecting and combining small modules for specific tasks.  It takes more time, but the result is worth it.  Having understood once, the received experience is easy for applying further. </p><br></li><li><p>  <strong>Universality</strong> : JavaScript initially worked only on the client.  Initially, along with Node, he moved to the server, and more recently it has become possible to successfully write desktop (Eletctron) and mobile applications.  Moreover, for mobile applications there is an option of hybrid applications (a wrapper over the browser (Cordova) is used) or applications with a native interface (ReactNative, NativeScript).  For Node there is a huge variety of libraries and it is easy to integrate it with other technologies, databases, cloud technologies, various formats and protocols, everything is there. </p><br></li><li><p>  <strong>Easy deployment</strong> : Node is very easy to deploy on a server: both on Linux and on Windows.  After many years of working with .NET, deployment every time was an unpleasant test for me, on Node this process even brings pleasure.  This is just a try. </p><br></li><li><p>  <strong>Performance</strong> : Node is asynchronous and does not block the execution process during lengthy operations, such as reading a file or accessing a database.  This allows you to achieve a high level of performance when using a single thread (single threaded environment).  On the other hand, computations in JavaScript are slower than in statically typed languages.  For most projects, this is not a problem.  If calculations are needed, and not just data transformations, then it is better to write a separate service on something else. </p><br></li><li><p>  <strong>One language on the server and client</strong> : This is convenient, as it allows, without effort, to transfer code between the client and the server, easier to develop and maintain. </p><br></li><li>  <strong>JavaScript language</strong> : JavaScript is very flexible and easy to use, many flaws in the language are fixed in the latest version of ES6, typing can optionally be added using TypeScript. </li></ul><br><p>  And this is not a complete list. </p><br><h2>  JS language options </h2><br><p>  Modern JavaScript can be written in several ways: </p><br><ul><li>  ES5 </li><li>  ES6 / ES7 next </li><li>  JS compiled languages ‚Äã‚Äã(TypeScript and others) </li></ul><br><h3>  JavaScript Standards </h3><br><ul><li><p>  <em>ES5</em> is a 2009 version of JavaScript, fully supported by all modern browsers and Node. </p><br></li><li><p>  <em>ES6</em> is a recent approved language update.  Development of standard support for all JS engines is still under development. </p><br></li><li>  <em>ES7 / Next</em> - not yet approved new JS features. </li></ul><br><p>  You can look at the current status of ES6 support at <br>  <a href="https://kangax.github.io/compat-table/es6/">Kangax ES6</a> . </p><br><p>  Thus, in the near future, it is impossible to develop the client part right away on ES6, because there is no support in all browsers yet. </p><br><p>  For the Node, the V8 engine is used, the current stable LTS version of which (4.x) does not support all the new features of ES6. </p><br><p>  LTS (long term support) is the NodeJs version recommended for production use.  The next LTS Node is expected in October 2016 and already has support for most of the features of ES6. </p><br><h3>  Transpiling </h3><br><p>  In order to use the features of ES6 / ES7, there are several transpilers that convert code written on ES6 to ES5. </p><br><p>  Pay attention to the difference between transpilation and compilation: <a href="https://www.stevefenton.co.uk/2012/11/compiling-vs-transpiling/">here</a> . </p><br><p>  Babel is the most popular transpiler from ES6 / Next to ES5. </p><br><h3>  TypeScript </h3><br><p>  TypeScript is a JavaScript extension language that adds static typing.  Types in TypeScript are used to check the correctness of the code and additional features of refactoring and auto-hints.  When TypeScript is transported to JS, all type definitions are omitted. </p><br><p>  TypeScript supports many ES6 / ESNext features and can be used as a transpiler (instead of Babel). </p><br><p>  In addition, there are additional constructs in TypeScript that are not found in JS - enums, inheritance and polymorphism in classes, and so on.  They are transported to JS using auxiliary JS code. </p><br><p>  Not all the features of TypeScript are equally useful; I‚Äôll list the main categories: </p><br><ul><li><p>  <em>ES6 / ESNext</em> - TS <em>transpilation does a</em> great job with it, although it is inferior to Babel in some aspects, for example, async / await in TypeScript is only available if you translate into the ES6 version.  More on this in the next article. </p><br></li><li><p>  <em>Static typing in the application code</em> is the main reason for using TS, types in TS are optional, if the type is not specified, the type is "any", which means you can write and read any fields from this type, this translates the existing JS code to TS , much easier, no need to add types everywhere, but only where it makes sense.  However, even if you do not describe types in TS, you will have many additional checks that help to detect trivial typo errors, even before you start the application.  In addition, the hints in the code work well for you and you don‚Äôt have to look at what module methods and signatures they have. </p><br></li><li><p>  <em>Typing third-party libraries</em> - TS allows you to describe the structure of third-party libraries (for example, lodash or express), it allows you to control that you call methods with the correct parameters and allows you to see the methods and their signatures without using documentation.  Unfortunately, the quality of such descriptions often leaves much to be desired, and when the description does not contain the required signature, it must be added manually.  Sometimes it is easier not to use third-party descriptions (working with the library as with the type "any").  The problem is that now the descriptions of libraries in TS and the libraries themselves are most often written by different people.  Most likely the situation will improve with the increasing popularity of TS. </p><br></li><li>  <em>TS capabilities that are not found in JS</em> - I would not recommend using them unnecessarily or if you are not using frameworks written directly on TS (for example, Angular2).  Using such features makes the conversion of TS &lt;-&gt; JS much more difficult, they often change between different versions of TS. </li></ul><br><h3>  What to choose </h3><br><p>  I would recommend choosing between ES6 and TypeScript.  ES6 has a lot of useful add-ons that make development easier and more enjoyable and it is worth it to spend more time on the initial setup.  On my projects, I switched to TypeScript, because it really seriously improves the development process, although it requires much more effort to configure and integrate.  Whatever you choose, it‚Äôs good if you make an informed choice by working with both. </p><br><h2>  Development environment </h2><br><p>  <strong>WebStorm</strong> is a smart development environment with many built-in functions.  Good support for typeScript.  Paid.  Configuration details for contoso express on project <a href="https://github.com/yegor-sytnyk/contoso-express/wiki/WebStorm-Setup">wiki</a> .  WebStorm is the main IDE in our team. </p><br><p>  <strong>Visual Studio Code</strong> is a free environment from Microsoft.  The best support for TypeScript, appeared recently, there are some familiar features.  It develops quickly, is fully made and supports JavaScript plugins. </p><br><p> Others - you can use other JavaScript IDEs, such as Atom, Sublime, Brackets.  TypeScript is more or less supported everywhere. </p><br><h2>  We select npm packages </h2><br><p>  Working with npm is easy.  Just install and just publish your packages.  Because of this, there are a lot of packages on npm (currently 330.000+). </p><br><p>  Finding the right package is quite difficult.  For any request on npmjs.com there are a lot of packages, and it‚Äôs not a fact that the main packages will be provided there for solving the necessary task. </p><br><p>  Choosing a package is worth paying attention to: the number of downloads (popularity) and how often the package is updated (commits to the githab repository).  Having found the right package, you can search for information on the Internet, so you can find other packages that perform similar tasks. </p><br><p>  There is a site with an alternative search on npm <a href="https://npms.io/">npms.io</a> , where characteristics such as popularity and regularity of support are immediately calculated. </p><br><p>  In future articles I will describe the basic options for packages for basic development tasks.  If the package name is in quotes (for example, "bluebird"), it means that the name with which the package is registered in npm and can be viewed at <a href="https://www.npmjs.com/package/%257Bpackage_name">https://www.npmjs.com/package/{package_name</a> } (i.e. the case of <a href="https://www.npmjs.com/package/bluebird">https://www.npmjs.com/package/bluebird</a> ). </p><br><h2>  Database </h2><br><h3>  SQL or NoSQL? </h3><br><p>  This question can not be answered unequivocally, depending on the specific situation.  The most popular options for SQL / NoSql are PostgreSQL / MongoDb.  The recent addition of JSON fields in PostgreSQL, makes it a very attractive option, combining the best of the worlds of SQL / NoSql.  But despite this, MongoDb is still the most popular database for Node, and it may be easier to work, especially for those who have not had previous experience with SQL databases. </p><br><h3>  Database access </h3><br><p>  Working with a database you can use access directly with the help of a database driver or some kind of higher level ORM abstraction.  If you do not have much interaction with the database, it is better to use access directly or a low-level abstraction, such as Knex (for SQL databases). </p><br><h4>  ORM </h4><br><p>  <a href="http://docs.sequelizejs.com/en/latest/"><strong>Sequelize</strong></a> is the most popular ORM for SQL databases.  It provides a high level of abstraction over the database schema and supports basic SQL dialects (PostgreSQL, MySQL, SQLite and MSSQL).  Used in Contoso Express. </p><br><p>  <a href="http://knexjs.org/"><strong>Knex</strong></a> is a lower level abstraction.  More like a query designer than a full-fledged ORM.  It supports more dialects and gives more control over the generated SQL.  There are functions for constructing a database schema and its migrations. </p><br><p>  <a href="http://bookshelfjs.org/"><strong>Bookshelf</strong></a> is another popular ORM based on Knex, the level of abstraction is lower than in Sequelize and many things need to be determined manually. </p><br><p>  <a href="http://mongoosejs.com/"><strong>Mongoose</strong></a> - The most popular ORM for the MongoDB database most popular in JS </p><br><h4>  Direct connection </h4><br><p>  For all major databases, there are drivers of good quality, for direct connection.  For Postgres, use "pg" or "pg-promise" packages. </p><br><h2>  What's next </h2><br><p>  In the next article I will talk about working with JS on the server.  It will be more practical and will cover such things as choosing a web framework, organizing the project structure, working with configs, authorization, logging, error handling, and more. </p><br><p>  I would be happy to comment comments, especially directly on the project code Contoso Express :) </p><br><p>  Thanks to everyone who read to the end!  Stay tuned! </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/309466/">https://habr.com/ru/post/309466/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../309454/index.html">The final release of Vivaldi 1.4 or 50 shades of different. In a day</a></li>
<li><a href="../309456/index.html">Dewy calculations "for dummies"</a></li>
<li><a href="../309458/index.html">Retrospective presentation of the next release of ReactOS</a></li>
<li><a href="../309462/index.html">Null, great and terrible</a></li>
<li><a href="../309464/index.html">Parable about synchronous replication and how to get rid of it</a></li>
<li><a href="../309468/index.html">Ways to promote mobile applications</a></li>
<li><a href="../309472/index.html">About our financial department and our own CRM</a></li>
<li><a href="../309474/index.html">How to get a job in an international IT company?</a></li>
<li><a href="../309476/index.html">Trends DDOS attacks 2015-2016</a></li>
<li><a href="../309478/index.html">Tips and tricks for working with Unity3D</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>