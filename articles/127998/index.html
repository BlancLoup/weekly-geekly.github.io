<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Rapid prototyping of a web service on the 1C platform: Enterprise 8</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day, dear habraklyudi! 

 Some of you probably know that on the 1C: Enterprise 8 platform ( 1C: Enterprise 8 ) some crazy craftsmen, in addition ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Rapid prototyping of a web service on the 1C platform: Enterprise 8</h1><div class="post__text post__text-html js-mediator-article">  Good day, dear habraklyudi! <br><br>  Some of you probably know that on the <strong>1C: Enterprise 8</strong> platform ( <strong>1C: Enterprise 8</strong> ) some <s>crazy</s> craftsmen, in addition to applications for accountants, make, for example, games.  But this is not about game development, although to some extent, web services can be used for this. <br><br>  Although the <strong>1C: Enterprise 8</strong> platform is substantively oriented, but due to the presence of <strong>COM</strong> , <strong>OLE</strong> , <strong>XML</strong> , <strong>HTML</strong> , <strong>SOAP</strong> and some other technologies, it can also be used for tasks not directly related to business automation.  Personally, I am attracted to it by a very fast development speed, debugging and deployment of the application.  These characteristics for me are key when choosing a platform for prototyping. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Under the cut, I'll use a simple example to show how quickly you can implement a web service on the <strong>1C: Enterprise 8</strong> platform, develop a database for it and publish it on a web server.  The above example, in a slightly modified form, is used in a large and real project, the prototype of which was decided to be implemented on <strong>1C</strong> .  The project is still under development, but I am increasingly inclined to make the final implementation on this platform. <br><a name="habracut"></a><br><h4>  Setting an example problem </h4><br>  For example, we will develop a small web service that provides remote file storage.  Of the functions of a web service, we implement only the placement of a file on a server and its receipt.  To access the web service, we will use HTTP authentication. <br><br>  Especially for Cyrillic haters, the entire code (and the name of the platform) is presented in English writing. <br><br>  So let's get started. <br><br><h4>  Database Development </h4><br>  I hope to add a new application for development on the <strong>1C</strong> platform will not cause anyone any difficulties.  In general, when adding ( <em>1</em> ) it is necessary to indicate its name and location.  To directly develop an application, go to <strong>Designer</strong> mode ( <em>2</em> ). <br><br><img src="https://habrastorage.org/storage2/bb7/ef9/9c0/bb7ef99c0aff18e957435060b557fc1d.png"><br><br>  We only need a couple of clicks to create a file repository in the database.  To do this, add to the catalog application (reference) <strong>FileStorage</strong> . <br><br><img src="https://habrastorage.org/storage2/cdb/9a1/500/cdb9a15004140210c13198da456e82fc.png"><br><br>  We define for it one single <strong>ValueStorage</strong> requisite with the type <strong>Value</strong> <strong>Storage</strong> . <br><br><img src="https://habrastorage.org/storage2/91f/a72/747/91fa7274701892d93c413b2dfc6c1b3f.png"><br><br>  Everything, the database structure for file storage is implemented.  We will store only the binary data of the file itself, the name is not needed for our example.  If you still need it, it is also solved quite simply - we add another requisite to store the file name. <br><br><h4>  Web service implementation </h4><br>  Now let's start developing the web service itself. <br><br>  Add a new web service to the application.  <strong>Give</strong> it the name <strong>FileStorageService</strong> . <br><br><img src="https://habrastorage.org/storage2/e82/05d/69a/e8205d69a7e3842ec0bc7367fb93e915.png"><br><br>  Be sure to define a namespace for it. <br><br><img src="https://habrastorage.org/storage2/f75/e22/499/f75e2249934a81c060eab5ec4c4f2294.png"><br><br>  And add two methods <strong>PutFile</strong> ( <strong>File</strong> type base64binary) return value of type string and <strong>GetFile</strong> ( <strong>Id</strong> type string) return value of type base64binary.  In the web service module, we write several lines of code for them: <br><br> <code>Function PutFile(File) <br> <br> If File.Size() = 0 Then <br> Raise "INVALID_BINARY_DATA"; <br> EndIf; <br> <br> //    . <br> NewFile = Catalogs.FileStorage.CreateItem(); <br> NewFile.ValueStorage = New ValueStorage(File); <br> NewFile.Write(); <br> <br> Return NewFile.Code; <br> <br> EndFunction <br> <br> Function GetFile(Id) <br> <br> //       . <br> File = Catalogs.FileStorage.FindByCode(Number(Id)); <br> <br> If NOT ValueIsFilled(File) Then <br> Raise "INVALID_FILE_CODE"; <br> EndIf; <br> <br> Return File.ValueStorage.Get(); <br> <br> EndFunction <br></code> <br><br>  All the functions we need to receive and place the file on the server are implemented.  It remains only to get users for HTTP authentication and publish our web service. <br><br><h4>  Publish to web server </h4><br>  At the beginning of development, there are no users in the application and access to the information database is allowed without entering a name and password.  In order to fix this you need to add users to the information database.  These users will also be used for HTTP authentication.  The first thing we do is add a role with full rights. <br><br><img src="https://habrastorage.org/storage2/07e/be4/ffc/07ebe4ffc4a7536ae279363153a9d4ac.png"><br><br>  Next, we assign this role to the first created user (Administration -&gt; Users -&gt; Add) - administrator. <br><br><img src="https://habrastorage.org/storage2/727/243/992/7272439921053741abe08eaa6da571c9.png"><br><br><img src="https://habrastorage.org/storage2/18a/11f/4bd/18a11f4bd319377f33c949658d3de730.png"><br><br>  After that we will add normal users to the list. <br><br><img src="https://habrastorage.org/storage2/676/515/fb7/676515fb7b822b3ca558e795678b5121.png"><br><br>  After adding users will publish our web service.  Publishing (Administration -&gt; Publishing on web-server ...) is possible on <strong>IIS</strong> or <strong>Apache</strong> .  The platform performs all the necessary actions for this.  We just need to press the <strong>Publish</strong> button. <br><br><img src="https://habrastorage.org/storage2/4f9/c44/384/4f9c443840efcd1a34fe00601a1aa05e.png"><br><br>  This is all published by the web service can already be used. <br><br>  It seems to me that reading this text will take much longer than the implementation took.  I hope the respected habra people were interested to learn that prototyping web services on the <strong>1C: Enterprise 8</strong> platform is quite fast and easy.  In some development environments, the usual ‚ÄúHello world‚Äù is much more difficult to implement. </div><p>Source: <a href="https://habr.com/ru/post/127998/">https://habr.com/ru/post/127998/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../127992/index.html">What progress has reached, or c 1C can work on iPod</a></li>
<li><a href="../127993/index.html">Download map of Georgia on OpenStreetMap is over!</a></li>
<li><a href="../127994/index.html">HTML and SVG: creating an interactive map</a></li>
<li><a href="../127996/index.html">Creating virtual hosts in apache under Linux in Python</a></li>
<li><a href="../127997/index.html">Connecting encrypted TrueCrypt partitions using Asterisk IP telephony server</a></li>
<li><a href="../127999/index.html">Finding the minimum distance to a curve using the Yandex.Maps API</a></li>
<li><a href="../128000/index.html">Javascript: "classes" and inheritance</a></li>
<li><a href="../128001/index.html">ASP.NET and Flex - friendship forever</a></li>
<li><a href="../128003/index.html">Digital communication with radio amateurs</a></li>
<li><a href="../128004/index.html">Ubuntu LiveUSB + Black Screen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>