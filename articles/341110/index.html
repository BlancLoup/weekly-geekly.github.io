<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Another operating system architecture</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I decided to take a short pause in daily hobby coding, and share with you a description of what I actually do. So, I try to develop and implement a vi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Another operating system architecture</h1><div class="post__text post__text-html js-mediator-article">  I decided to take a short pause in daily hobby coding, and share with you a description of what I actually do.  So, I try to develop and implement a virtual machine for a non-existent operating system, which I, perhaps, will also someday begin to implement.  I will not argue with foaming at the mouth, proving why another OS is needed, I will answer briefly: mainly because I am interested. <br><br><img src="https://habrastorage.org/storage1/c0f58ae0/812bd24a/b6d43d86/126a7296.jpg"><br><a name="habracut"></a><br><br><h5>  So, my current vision of the system architecture. </h5><br>  <i>1. There are two main entities: module and stream.</i> <i><br></i>  <i>2. The module contains unchanged code and changeable data.</i> <i><br></i>  <i>3. The module is permanent.</i> <i><br></i> <br>  The last point says that the module always exists.  In practice, this should be implemented through virtual memory.  Those.  the module pages currently in use are loaded into RAM, and unused pages are downloaded to disk.  Permanent support should be at the system level, i.e.  completely transparent to the application programmer.  This can be considered a swap, brought to a logical conclusion, when we no longer need to load the module into RAM, since it will be in the ‚Äúeternal‚Äù swap, and automatically loaded upon request.  In other words, the file system is no longer needed. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>4. The module has many external procedures available to call from the outside.</i>  <i>Module data is only available indirectly through its external procedures.</i> <i><br></i>  <i>5. The module has an instance UUID (ID) and a type UUID (TID).</i> <i><br></i>  <i>6. When copying a module, a new ID is generated for the copy, but the old TID is saved.</i> <i><br></i>  <i>7. The module can be found by ID in the global network, or by TID on the local host.</i> <i><br></i> <br>  Each TID on the local host corresponds to only one module, even if there are several modules with the same TID. <br><br>  <i>8. A thread can call an external procedure by its module ID and its numeric identifier.</i> <i><br></i>  <i>9. A thread can call an external procedure using the TID of its module located on the same host and its numeric identifier.</i> <i><br></i> <br>  Roughly speaking, TID is necessary for using modules as dynamically loaded libraries.  In fact, the hosts will have a lot of the same code (system software, codecs, etc.), access to which must be very effective, and which does not make sense to use remotely. <br><br><img src="https://habrastorage.org/storage1/348d4550/e2b5db8c/e6785287/972131a7.png"><br><br><h5>  Now the multithreaded synchronization model. </h5><br>  <i>1. The external procedure call is synchronous.</i> <i><br></i>  <i>2. An external procedure can be a function (f-procedure), a reader (r-procedure) or a writer (w-procedure).</i>  <i>The F-procedure does not use modifiable module data, the r-procedure reads modifiable data, and the w-procedure modifies it.</i> <i><br></i>  <i>3. Calling the f-procedure of the module is called without blocking.</i> <i><br></i>  <i>4. The r-procedure call is not blocked if other r-procedures are already called in this module.</i> <i><br></i>  <i>5. The call of the r-procedure and the w-procedure is blocked if the w-procedure is already called in this module.</i> <i><br></i>  <i>6. If r-procedures and w-procedures are blocked, when unlocking the first one, the w-procedure is performed.</i> <i><br></i> <br>  Those.  there may be many readers without a writer, or just one writer.  The writer has a higher priority over readers. <br><br><img src="https://habrastorage.org/storage1/1727bd01/3bb8289b/96bb8c44/4be86b5a.png"><br><br>  In the above theses, a lot of things are missing.  In particular, the security architecture is completely absent.  Alas, I cannot formulate it yet. <br><br>  In subsequent posts, I will describe the overall architecture of the virtual machine, as well as the details of its implementation up to the current state of the project.  By the way, the current implementation is able to execute programs for calculating factorial and quick sorting.  For those who are prematurely curious, I give a link to the repository: <a href="https://github.com/ababo/AntOS-VM-Prototype">github.com/ababo/AntOS-VM-Prototype</a> </div><p>Source: <a href="https://habr.com/ru/post/341110/">https://habr.com/ru/post/341110/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../341096/index.html">Fake emails from almost any person in less than 5 minutes and ways to protect</a></li>
<li><a href="../341100/index.html">We help taxi service: redesign of the logo and the appearance of corporate identity</a></li>
<li><a href="../341102/index.html">Sharing with RAIDIX and Apple Xsan. Apple saved for video editors</a></li>
<li><a href="../341106/index.html">Android O and background services</a></li>
<li><a href="../341108/index.html">Moxy Strategies (Part 2)</a></li>
<li><a href="../341112/index.html">Another virtual machine architecture (part one)</a></li>
<li><a href="../341114/index.html">Another virtual machine architecture (part two)</a></li>
<li><a href="../341116/index.html">‚ÄúI will find out! I recognize my brother Kohl! "- The realities of modern information security in the field of wireless technologies</a></li>
<li><a href="../341118/index.html">Those. support. How much money can you make on this? (Part 2 - "Abroad")</a></li>
<li><a href="../341120/index.html">The project is blind: we dive headlong</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>