<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Inheritance implementations: bury stewardess</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Key Contradiction OOP 


 As you know, the classic OOP rests on three pillars: 


1. Encapsulation 
2. Inheritance 
3. Polymorphism 


 Classic defaul...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Inheritance implementations: bury stewardess</h1><div class="post__text post__text-html js-mediator-article"><h1>  Key Contradiction OOP </h1><br><p>  As you know, the classic OOP rests on three pillars: </p><br><ol><li>  <a href="https://ru.wikipedia.org/wiki/%25D0%2598%25D0%25BD%25D0%25BA%25D0%25B0%25D0%25BF%25D1%2581%25D1%2583%25D0%25BB%25D1%258F%25D1%2586%25D0%25B8%25D1%258F_(%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5)">Encapsulation</a> </li><li>  <a href="https://ru.wikipedia.org/wiki/%25D0%259D%25D0%25B0%25D1%2581%25D0%25BB%25D0%25B5%25D0%25B4%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5_(%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5)">Inheritance</a> </li><li>  <a href="https://habrahabr.ru/post/37576/">Polymorphism</a> </li></ol><br><p>  Classic default implementation: </p><br><ol><li>  Encapsulation - public and private class members </li><li>  Inheritance is the implementation of a functional due to the expansion of one ancestor class, protected class members. </li><li>  Polymorphism - virtual methods of ancestor class. </li></ol><br><p>  But back <a href="http://dl.acm.org/citation.cfm%3Fid%3D28702">in 1986, a serious problem was identified</a> , briefly formulated as follows: </p><br><h3>  Inheritance breaks encapsulation <a name="habracut"></a></h3><br><ol><li>  The descendant class has protected ancestor class members.  All the rest is available only public class interface.  The ultimate case of hacking is the antipublic <a href="http://dic.academic.ru/dic.nsf/ruwiki/377452">frost</a> pattern; </li><li>  Actually, ancestor behavior can only be changed by overlapping virtual methods; </li><li>  <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D1%2580%25D0%25B8%25D0%25BD%25D1%2586%25D0%25B8%25D0%25BF_%25D0%25BF%25D0%25BE%25D0%25B4%25D1%2581%25D1%2582%25D0%25B0%25D0%25BD%25D0%25BE%25D0%25B2%25D0%25BA%25D0%25B8_%25D0%2591%25D0%25B0%25D1%2580%25D0%25B1%25D0%25B0%25D1%2580%25D1%258B_%25D0%259B%25D0%25B8%25D1%2581%25D0%25BA%25D0%25BE%25D0%25B2">The principle of substitution Liskov</a> obliges the descendant class to satisfy all the requirements for the ancestor class; </li><li>  To carry out step 2 in exact accordance with clause 3, the descendant class needs complete information about the time of the call and the implementation of the overlapped virtual method; </li><li>  The information from clause 4 depends on the implementation of the ancestor class, including private members and their code. </li></ol><br><p>  In theory, we already have an epic rejection, but what about practice? </p><br><ol><li>  The dependency created by inheritance is extremely strong; </li><li>  Heirs are hypersensitive to any changes in the ancestor; </li><li>  Inheriting from someone else's code adds hellish pain when accompanied: library developers are at risk of getting obstructed due to broken backward compatibility with the slightest change in the base class, and applied programmers regress with any updating of the libraries used. </li></ol><br><p>  Anyone who uses frameworks that require inheritance from their classes (WinForms, WPF, WebForms, ASP.NET) will easily find confirmation of all three points in their experience. <br>  is it so bad? </p><br><h1>  Theoretical solution </h1><br><p>  The effect of the problem can be weakened by the adoption of certain conventions: </p><br><p>  <strong>1. Protected members are not needed.</strong> <br>  This agreement eliminates frost-like publics as a class. </p><br><p>  <strong>2. Ancestor Virtual Methods Do Nothing</strong> <br>  This agreement allows you to combine knowledge about the implementation of the ancestor with the independence of her implementation already in the offspring. </p><br><p>  <strong>3. Ancestor virtual methods are never called in its code.</strong> <br>  This agreement allows descendants not to depend on the internal implementation of the ancestor, and also requires the publicity of all virtual methods. </p><br><p>  <strong>4. Ancestor instances are never created.</strong> <br>  This agreement allows you to get rid of the inconsistency of requirements for virtual methods (public class contract) on the one hand and the duty to do nothing (protected class contract) on the other.  Now the Liskov substitution principle can be observed without entering into a vicious relationship with the closed contents of the ancestor. </p><br><p>  <strong>5. Ancestor has no non-virtual members</strong> <br>  Given previous agreements, non-virtual members of the ancestor become useless and are subject to liquidation. </p><br><p>  Result: if the ancestor class consists of public virtual empty methods and requirements for them for descendants, then inheritance no longer breaks the encapsulation.  Q.E.D. </p><br><p>  Along the way, we are able to solve the rhombus problem in the case of multiple inheritance from conventional ancestors.  But this is all theory, and we need ... </p><br><h1>  Practical solutions </h1><br><ol><li>  Virtual dummy methods already exist in many languages ‚Äã‚Äãand carry the proud title of the <a href="https://ru.wikipedia.org/wiki/%25D0%2590%25D0%25B1%25D1%2581%25D1%2582%25D1%2580%25D0%25B0%25D0%25BA%25D1%2582%25D0%25BD%25D1%258B%25D0%25B9_%25D0%25BC%25D0%25B5%25D1%2582%25D0%25BE%25D0%25B4">abstract</a> . </li><li>  Classes, instances of which can not be created, also exist in many languages ‚Äã‚Äãand even have the same <a href="https://ru.wikipedia.org/wiki/%25D0%2590%25D0%25B1%25D1%2581%25D1%2582%25D1%2580%25D0%25B0%25D0%25BA%25D1%2582%25D0%25BD%25D1%258B%25D0%25B9_%25D0%25BA%25D0%25BB%25D0%25B0%25D1%2581%25D1%2581">title</a> . </li><li>  Full compliance with these agreements in the C ++ language was used as a pattern for the design and implementation of the <a href="http://igrocoder.ru/tiki-index.php%3Fpage%3D%25D0%25A2%25D0%25B5%25D1%2585%25D0%25BD%25D0%25BE%25D0%25BB%25D0%25BE%25D0%25B3%25D0%25B8%25D1%258F%2BCOM%2B(Component%2BObject%2BModel)">Component Object Model</a> . </li><li>  And the best part: in C # and many other languages, conventions are implemented as a first-class <a href="https://ru.wikipedia.org/wiki/%25D0%2598%25D0%25BD%25D1%2582%25D0%25B5%25D1%2580%25D1%2584%25D0%25B5%25D0%25B9%25D1%2581_(%25D0%25BE%25D0%25B1%25D1%258A%25D0%25B5%25D0%25BA%25D1%2582%25D0%25BD%25D0%25BE-%25D0%25BE%25D1%2580%25D0%25B8%25D0%25B5%25D0%25BD%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5)">"interface"</a> element. <br>  The origin of the name is obvious - as a result of compliance with the agreements, the class leaves only its public interface.  And if multiple inheritance from ordinary classes is rare, it is accessible from interfaces without any restrictions. </li></ol><br><h1>  Results </h1><br><ol><li>  Languages ‚Äã‚Äãwhere there is no inheritance from classes, but there are - from interfaces (for example, Go), cannot be stripped of object-oriented titles.  Moreover, such an implementation of OOP is more theoretically and safer in practice. </li><li>  Inheritance from ordinary classes (with implementation) is an extremely specific and extremely dangerous archaism. </li><li>  Avoid inheriting implementations unless absolutely necessary. </li><li>  Use the sealed modifier (for .NET) or its equivalent for all classes, except those specifically designed for implementation inheritance. </li><li>  Avoid public unprinted classes: as long as inheritance does not go beyond the scope of your assemblies, you can still benefit from it and limit the damage. </li></ol><br><p>  PS: Additions and criticism are traditionally welcome. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/310314/">https://habr.com/ru/post/310314/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../310300/index.html">How to officially accept foreign currency payments from abroad in Russia (PI)</a></li>
<li><a href="../310302/index.html">Universal (Isomorphic) project on Koa 2.x + React + Redux + React-Router</a></li>
<li><a href="../310308/index.html">The digest of fresh materials from the world of the frontend for the last week ‚Ññ228 (September 12 - 18, 2016)</a></li>
<li><a href="../310310/index.html">So, the manager asked to fix the bug ...</a></li>
<li><a href="../310312/index.html">Programmer on Mars: Shutdown Dammit Until</a></li>
<li><a href="../310318/index.html">Getting Started with Intel Active Management (AMT)</a></li>
<li><a href="../310320/index.html">The language of arithmetic expressions with the let construction as dsl on Kotlin</a></li>
<li><a href="../310324/index.html">Rag I limp or have power?</a></li>
<li><a href="../310326/index.html">UWP beginner: Window title in applications (VB.NET + C #)</a></li>
<li><a href="../310328/index.html">Database Performance Testing with tSQLt and SQLQueryStress</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>