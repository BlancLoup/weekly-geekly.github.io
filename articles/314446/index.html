<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Random number generator without programming and even computer: how to surprise a young programmer?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Now, when the Arduino continues the triumphal march across the planet, it is unlikely anyone will be surprised by the schemes on the breadboard. White...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Random number generator without programming and even computer: how to surprise a young programmer?</h1><div class="post__text post__text-html js-mediator-article">  Now, when the Arduino continues the triumphal march across the planet, it is unlikely anyone will be surprised by the schemes on the breadboard.  White solderless design boards have already become an indispensable element of sets for geeks.  Nevertheless, I decided to try to interest young programmers from GoToCamp summer school: to hold for them a master class on the basics of digital circuitry, ending with assembling an interesting device - a random number generator. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/152/ed9/e53/152ed9e5380c48efb5a427425d59ad7e.gif"></div><br>  When you press a button, a random number is displayed on the indicator.  What is the accident, where does it come from?  Immediately reveal the secret.  The numbers are generated in order: 0, then 1, 2, and so on.  The trick is this: a very high frequency of pulses.  They are issued so quickly that the numbers merge into one on the indicator.  And it is absolutely impossible to guess the number! <br><br>  Next, you will read about how such a generator is arranged, and how to assemble it yourself. <br><a name="habracut"></a><br><h1>  Prehistory </h1><br><img src="https://habrastorage.org/files/be7/2f8/951/be72f895104c4beea5c350dc265be4d8.jpg" align="right">  I work as a methodologist at the <a href="http://liot.mipt.ru/">Center for Innovative Educational Technologies</a> (CIOT) at MIPT, and more specifically <b>, I</b> represent the direction of supporting the development of technical creativity.  And also participate in the development of products of the company <b>" <a href="http://cyberphysica.ru/">Cyberphysics</a> "</b> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      At the moment, we are actively developing two courses: fundamentals of electronics and programming on the Arduino.  For each course we make videos, write guidelines, collect ready-made kits. <br><br>  The Arduino course is already well developed: a wonderful <a href="https://www.coursera.org/learn/roboty-arduino">online course is</a> ready for it, which recently received the EdCrunch OOC Award in the category ‚ÄúNatural and Technical Sciences‚Äù. <br><br>  But the direction of the fundamentals of electronics has great prospects: it is not as well known and popular as the Arduino, which means there is a lot of room for methodical work.  At our GoToCamp friendly school, for example, the Arduino has been around for a long time, but nobody has been engaged in the "clean" electronics.  I was invited to hold a small master class with senior children.  It is worth noting that the guys were already engaged in Arduino by that time, which means it was not worth counting on the wow effect from the flashing LED.  Therefore, I thought about the program of the master class, I will write about the result further. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/422/2d5/55a/4222d555a42c475cafa16df4a8c0c68d.png"></div><br>  <a href="http://edurobots.ru/2016/08/master-klass-kiberfiziki-v-goto-camp/">A photo report</a> about the camp itself and my event was published on the website ‚ÄúEntertaining Robotics‚Äù, and in this material I would like to reveal a little technical details. <br>  We collected schemes from the Cyber ‚Äã‚ÄãPhysics kits that I brought with me: <br><div style="text-align:center;"><img src="https://habrastorage.org/files/f14/f4a/d8a/f14f4ad8a3e14a77ba307075ddbaa4ca.png"></div><br><h1>  How does the "iron" random number generator </h1><br>  Here is the scheme of the random number generator, which I proposed to collect (clickable): <br> <a href=""><img src="https://habrastorage.org/files/46e/cf5/b54/46ecf5b543084bf48f31285a4b70438a.JPG" width="750"></a> <br>  Looks hard?  In fact, it is close to the heart of any programmer.  After all, it is made of four separate elements - as a program of four functions.  Then the components simply fit together: the output of one element is redirected to the input of the next. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/68f/ce4/ef3/68fce4ef347144b1919f8e991ceb94a4.png"></div><br>  Those who like to program in Linux will surely remember the concept of a pipe - such ‚Äúpipes‚Äù, which are indicated by a dash ‚Äú|‚Äù and allow you to quickly create a working script from many small programs (even written in different programming languages).  Personally, I simply adore these ‚Äúpipes‚Äù and often use them.  Feel like a plumber Mario <br>  Now let's take a closer look at the elements of this scheme. <br><br><h2>  Pulse generator </h2><br>  The most popular timer 555 acts as a pulse generator. At the output, the timer produces a series of pulses that will ‚Äúpush‚Äù the counter and make it add value. <br>  The internal device of the timer chip is not very easy to explain to a beginner.  But on the other hand, this chip is very convenient to use as programmers like - in the ‚Äúblack box‚Äù mode.  Conclusions of the timer 555: <br><div style="text-align:center;"><img src="https://habrastorage.org/files/b7b/45f/edb/b7b45fedb90648b28774fb27567e82f8.png"></div><br>  In this figure, the power pins are marked in red, the inputs are green, and the outputs are blue.  I liked this way of displaying the chipset pinout, I took it from the English-language Wikipedia. <br>  And this is how this chip is used in our particular scheme.  Nothing complicated - absolutely standard way, according to a typical scheme. <br><div style="text-align:center;"><img src="https://habrastorage.org/files/48b/273/a99/48b273a9912341c0b4d9ac481ab80f64.jpg"></div>  The timer mode is set by three elements: resistors R1 and R2 and capacitor C1. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/347/de1/55a/347de155a6a54e108f279cd8e92908c1.png"></div><br>  Simply substituting values ‚Äã‚Äãinto this formula (or using an <a href="http://www.ohmslawcalculator.com/555-astable-calculator">online calculator</a> , if lazy to count), we get a frequency of 40 Hz - that is, 40 oscillations per second.  Accordingly, the period will be 25 milliseconds, and the human eye will never notice such a frequent change of the number on the indicator. <br>  The fourth conclusion is responsible for the reset and works in the inverse mode: for the reset to occur, you need to close it to the "minus".  Therefore, through a pull-up resistor, it is connected to the ‚Äúplus‚Äù of the power, and through a button with a ‚Äúminus‚Äù.  As long as we hold the reset button, the timer stands still and does not give out anything - at this time you can admire the number on the indicator. <br><br><h2>  Counter </h2><br>  A counter is a very simple thing, almost like a variable i in programming.  The counter accumulates in itself a number, that's all.  And the increment of the counter occurs on an external impulse.  You can do it by pressing a button, but you can, as in our case, from a timer. <br>  The counter chip is arranged as follows: <br><div style="text-align:center;"><img src="https://habrastorage.org/files/c5c/877/ad7/c5c877ad70df4f4c894da2d694b7ab49.png"></div><br><ul><li>  The digit is displayed as a binary number at the outputs Q1 ... Q4 <br></li><li>  On a signal at the 15th pin (‚ÄúClock signal‚Äù), the counter adds one <br></li><li>  In decimal mode, after the digit 9, the counter is reset and starts again from 0 <br></li></ul><br>  In our scheme, the meter is also connected quite simply: <br><div style="text-align:center;"><img src="https://habrastorage.org/files/198/54c/996/19854c9968ae40c4841158f6e071588c.JPG" width="450"></div><ul><li>  The U / D input (counting direction) is connected to the ‚Äúplus‚Äù of the power supply so that the score goes upwards. <br></li><li>  PE (preset resolution), J1 ... J4 (data inputs for preset counter), B / D (binary counting mode), CI and CO (transfer input and output) are all connected to ground as their functionality in this circuit we do not need <br></li></ul><br><h2>  Decoder </h2><br>  If we again draw an analogy with programming, then a decoder is like a library function that associates a binary number with a set of luminous segments on an object of the type ‚Äústandard seven-segment indicator‚Äù.  There are some geeks who prescribe all this themselves through a microcontroller - I saw examples on both the Arduino and the ‚Äúpure‚Äù ATMega.  Do not do this!  There is a special convenient microcircuit for this! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/302/239/859/3022398597894a39a42bb0f7e3f85545.png"></div><br><br>  Here the most important are the inputs for the binary number (A, B, C, D) and the outputs (‚Äúa‚Äù ... ‚Äúf‚Äù), which are directly connected to the corresponding segments, which are also labeled with letters. <div style="text-align:center;"><img src="https://habrastorage.org/files/1ac/929/03f/1ac92903f40a48d2b0dd56f7c4e81c6e.jpg"></div>  Service Inputs: <br><br><ul><li>  the input for testing the indicator (LT) and for its extinguishing (Bl) is set to ‚Äúplus‚Äù <br></li><li>  input for "freezing" the numbers (LE) - to "minus". <br></li></ul><br><h2>  Seven-segment indicator </h2><br>  Everything is quite simple here.  A seven-segment indicator with a common cathode is used. <div style="text-align:center;"><img src="https://habrastorage.org/files/f9d/230/b0f/f9d230b0f0dc4f0ebb1263e8965cb977.jpg"></div>  Each of the LEDs is connected via a current limiting resistor.  It happens that some try to save on resistors and connect the seven-segment through only one resistor - in this case there is a special picture in the documentation for the indicator: <br><div style="text-align:center;"><img src="https://habrastorage.org/files/717/2b1/7b4/7172b17b4783403c8d792699f17bbe1f.png"></div>  On the left - ‚Äúconnecting a healthy person.‚Äù  Each LED is through its own resistor.  On the right is a ‚Äúsmoker connection‚Äù, only one resistor at all.  Failure to comply with this rule leads to the fact that some LEDs take more current than others, and because of this, the segments glow unevenly. <br><br><h1>  Wiring diagram of the random number generator </h1><br>  That's all!  Now, for those who want to assemble such a scheme themselves: <br><br> <a href=""><img src="https://habrastorage.org/files/0b6/292/5ea/0b62925eaab84ad5a75215c5a4e8aa81.png" width="640"></a> <br><br>  And the list of components to it: <br><br><ol><li>  NE555 Timer Chip <br></li><li>  Chip Counter CD 4029 <br></li><li>  CD 4511 Decoder Chip <br></li><li>  Clock Button <br></li><li>  Seven-segment indicator with a common cathode (for example, Kingbright SC56-11SRWA) <br></li><li>  Electrolytic capacitor 10 microfarad, operating voltage not less than 25 V <br></li><li>  1.2 kŒ© resistor: 3 pcs. <br></li><li>  560 ohm resistor: 7 pcs <br></li><li>  Jumpers <br></li><li>  Solderless Breadboard <br></li><li>  Battery (in our case, 9 volts, but the circuit also works in a wider range - from 5 to 12 volts, you only need to adjust the values ‚Äã‚Äãof the resistors) <br></li><li>  Battery Connector <br></li></ol><br>  Scheme assembled (clickable photo): <br><br> <a href=""><img src="https://habrastorage.org/files/250/c21/7cc/250c217cc04740809dbf51ca159608fb.jpg"></a> <br><br><h1>  Why do you need it? </h1><br>  Many may ask: why do we need an ‚Äúiron‚Äù random number generator at all?  Isn't it easier to take a microcontroller, program it ... After all, the random number generator is a ready-made solution that has long been known to all! <br><br>  Then I remembered the story of how I, in a group of comrades, participated in the technical equipment of the field role-playing game "Aliens under the ground" (of course, based on the famous film).  An important element of the game was the lanterns, which should have been ‚Äúknock up‚Äù some time after switching on and off for a while - to create a terrible and hopeless atmosphere.  For small flashlights, a tiny board with a microcontroller, so small that a standard random number generator library along with the program did not fit into it, was divorced!  There was no time to optimize, in no case was it possible to replace the microcontroller either. <br><br>  As a result, I began to seriously look in the direction of an alternative option - to take the value from the freely ‚Äúhanging‚Äù input of the microcontroller, from the ADC.  I even tested it, and I remember that the result was not completely random (some values ‚Äã‚Äãwere systematically met more often than others), but it was quite suitable for the needs of the game.  It‚Äôs funny that creating a pseudo-random number from the depths of a microcontroller turned out to be more difficult in a purely mathematical way than taking uncertainty directly from the outside world ... <br><br>  Pro hardware random number generators have a good Wikipedia article. <br><br><h1>  Results </h1><br>  The master class I conducted at GoToCamp showed that high school students can quite easily compile and understand such a scheme if they explain in detail all the steps and give a preliminary ‚Äúload‚Äù in the form of 10 more simple entry level schemes. <br><br><img src="https://habrastorage.org/files/095/9a0/bc8/0959a0bc80064a69959b17940a2c13af.png"><br><br>  The guys got an important experience of combining several simple schemes into one complex.  We have combined a pulse generator, a counter, a decoder and a seven-segment indicator into a scheme - a random number generator.  Notice how easy this happened because of the clear interfaces between the small circuits.  The first scheme - a pulse generator - has a square wave at the output, that is, a square wave.  The frequency of this meander sets the speed of the counter.  The counter, in turn, "talks" with the decoder in the language of binary code.  And that, in turn, transmits data in a form already convenient for the seven-segment indicator. <br><br><img src="https://habrastorage.org/files/8e4/182/9de/8e41829de7af44a69a576790cc0669ef.png"><br>  <i>In the photo - testing of generators for randomness using a stopwatch on the phone :)</i> <br><br>  The simplicity and consistency of this scheme due to the fact that the chips in it are chosen so that they are most easily joined to each other.  Hence the conclusion for the future for both engineers and programmers: try to be well aware of the interaction of the components with each other and select them so that they ‚Äúcommunicate‚Äù in the language that is as simple and understandable as possible. <br><br>  And most importantly - learn ready-made solutions and successful practices!  Much has been invented before us.  Learn the alphabet of digital electronics, even if you are already a confident arduinschik or hardcore microcontroller.  You never know why these or other cases can be useful. <br><br><img src="https://habrastorage.org/files/c0b/c73/0c7/c0bc730c7c92406eaa3152740cfa12de.jpg" align="left">  <i>The scheme is borrowed from Tronix Book 2 of the remarkable American circuitry popularizer Gary Gibson.</i>  <i>And no less remarkable graduate of MIPT, engineer, microprocessor developer <a href="https://habrahabr.ru/users/YuriPanchul/">Yuri Panchul</a> told us about this book, for which he thanks a lot!</i> <i><br></i>  <i>The author is <a href="https://www.facebook.com/tanja.volkova">Tatyana Volkova</a> , a specialist in educational and methodical work at <a href="http://liot.mipt.ru/">CIET MIPT</a> (direction of supporting the development of technical creativity), developer of <a href="http://cyberphysica.ru/">Cyber ‚Äã‚ÄãPhysics</a> products <a href="http://cyberphysica.ru/">.</a></i> </div><p>Source: <a href="https://habr.com/ru/post/314446/">https://habr.com/ru/post/314446/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../314428/index.html">Few will pass your game, so is it worth spending time on the ending?</a></li>
<li><a href="../314432/index.html">Richard Stallman Manifesto: How I do my computing</a></li>
<li><a href="../314434/index.html">Security Week 44: zero-day in Windows, vulnerability in the Mirai botnet, serious holes in MySQL</a></li>
<li><a href="../314442/index.html">Text translation HighLoad ++ 2016. Day Two</a></li>
<li><a href="../314444/index.html">27 open-source nishtyachkov for iOS developer</a></li>
<li><a href="../314448/index.html">Manage development tasks. Life story</a></li>
<li><a href="../314450/index.html">Information security: five ways to protect against cyber attacks</a></li>
<li><a href="../314454/index.html">Automating defragmentation of indexes in MS SQL Server database</a></li>
<li><a href="../314456/index.html">Canonical has released a new version of Ubuntu Core for IoT applications.</a></li>
<li><a href="../314458/index.html">Attackers continue to use Linux / Moose malware to compromise devices</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>