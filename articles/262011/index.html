<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The first steps in working with Arduino</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Anyone who is just taking their first steps in radio electronics, learning programming, would like to help, give confidence, so that there is an inter...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The first steps in working with Arduino</h1><div class="post__text post__text-html js-mediator-article">  Anyone who is just taking their first steps in radio electronics, learning programming, would like to help, give confidence, so that there is an interest to study this interesting topic further.  Therefore, I decided to make step-by-step instructions for those who are taking their first steps, but do not know where to start? <br><br>  We will analyze the Arduino platform from the purchase of the controller itself, to ‚Äúflooding‚Äù the program code (hereinafter, the sketch *) and managing your own model using an Android phone;  Further we will write our own algorithm, according to which our robot will choose the path where to go (the next lesson). <br><br>  Here we have such a robot after all the lessons have expired (I apologize for the quality, this is a freeze-frame video): 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/984/5d6/253/9845d62537aa4bf5b1a6357def6fe565.JPG" alt="image"><br><br><h4>  Content </h4><br>  1. Buying parts <br>  2. Analysis of each position <br>  3. Building and programming the model. <br>  4. Connect to Android <br><br>  So, let's begin! <br><a name="habracut"></a><br><h4>  1. Buying parts </h4><br>  First you need to choose a controller.  There is a lot of choice on the official Arduino website, but in this matter you can save a little by ordering a similar and fully compatible Freeduino model. <br>  1) For this project, we are perfect model UNO.  All parameters fit our criteria perfectly - this is the average size, the ability to connect different modules, shields, and the price does not bite as much as on the more ‚Äúolder‚Äù models.  I ordered it <a href="http://www.freeduino.ru/arduino/freeduino2009.html">here</a> , came in 3 weeks (Volgograd), the quality is excellent, there were no problems in operation. <br>  2) Next we order the consumables, shields, modules that we need for assembly.  To control the motors, we, accordingly, need the following detail: Motor Shield ordered <a href="http://ru.aliexpress.com/item/Freeshipping-L293D-motor-control-shield-motor-drive-expansion-board-FOR-Arduino-best-price/818263787.html">here</a> .  Delivered too quickly, everything was packed well, without damage. <br>  3) To connect the phone with our robot, we need a Bluetooth module that was ordered <a href="http://www.miniinthebox.com/ru/hc-06-wireless-bluetooth-transceiver-rf-main-module-serial-for-arduino_p903460.html">here</a> .  No complaints in the work. <br>  4) Of course, all this should have a platform on which we will fix all this.  We use the <a href="http://ru.aliexpress.com/item/Smart-car-chassis-Tracing-car-The-robot-car-chassis-With-code-disc-tachometer-Send-the-battery/764411208.html">finished option</a> . <br><br>  These are all the details that are vital for the work of our robot, but there are still a few things that, in my opinion, greatly simplify the life and work with the Arduino.  I decided to abandon the batteries that power the platform, I ordered a small Power Bank, with which the whole thing will start.  Here is the <a href="http://www.miniinthebox.com/ru/2600mah-concise-designed-mini-portable-usb-power-bank-with-micro-usb-to-usb-cable-5-3v-1a-75cm-optional-colors_p726829.html">link</a> .  At the time of ordering, the course was about 35 rubles, so I got all the details much cheaper than at the time of writing this lesson. <br><br><h4>  2. Analysis of each position </h4><br>  We ordered the details and, while we wait for the notice, in order to take our order as soon as possible, we can study each item in more detail, and indeed the purpose of our work. <br><br>  We ordered Freeduino 2009 - analogue of the Arduino Duemilanove. <br><br>  Specifications: <br><ul><li>  Microcontroller: ATmega328 (ATmega168 in early versions of the board) </li><li>  Digital I / O ports: 14 ports (6 of them with PWM signal) </li><li>  Analog input ports: 6 ports </li><li>  EPROM (Flash Memory): 32 K (16 K), of which 2 K is used by the bootloader </li><li>  RAM (SRAM): 2 Kbytes (1 Kbytes) </li><li>  ROM (EEPROM): 1024 bytes (512 bytes) </li><li>  Clock frequency: 16 MHz </li><li>  PC Interface: USB </li><li>  Powered by USB or external source, selectable via jumper </li></ul><br>  Next, consider the Motor Shield, which will help us in controlling the motors of the robot. <br><br><img src="https://habrastorage.org/files/b59/7ec/abe/b597ecabe47f4651b54cad7ace5332ce.jpg" alt="image"><br><br>  We can connect up to 4 motors to this module, and programming each one for a certain power and speed of rotation.  This module has one drawback - this is the absence of pins, where we could connect subsequent modules with the help of special cables, which made the task a bit more difficult for me.  It was possible to order pins separately and solder them, but I decided to just solder the modules directly to the motor shield. <br><br>  A wireless connection will be provided to us by a Bluetooth module, which has cables for connecting to the board directly. <br><br><img src="https://habrastorage.org/files/a20/e87/76c/a20e8776cfc24af280053514f50caf0f.jpg" alt="image"><br><br>  The platform also has a complete set for assembly.  There was even a screwdriver, which is convenient to assemble our model. <br><br><img src="https://habrastorage.org/files/b42/e89/b33/b42e89b336894501b2c12413c42ca0c4.jpg" alt="image"><br><br><h4>  3. Building and programming the model. </h4><br>  In the assembly should not have any problems, except that only with the connection of the Bluetooth-module.  The connection diagram is attached below, and in simple words it looks like this: <br><br>  Bluetooth module -&gt; controller <br>  VCC -&gt; 5V <br>  GND -&gt; Gnd <br>  TXD -&gt; PIN-0 <br>  RXD -&gt; PIN-1 <br><br>  Try not to confuse food and land, because  It can easily ruin your items.  If the detail began to heat up sharply, it means that you have messed up something. <br><br><img src="https://habrastorage.org/files/cf3/f9b/934/cf3f9b93489d41b49582fc08e4565745.jpg" alt="image"><br><br>  For programming, we need <a href="http://arduino.ru/Arduino_environment">an Arduino development environment</a> - download it. <br><br>  Arduino IDE is a special development environment for Arduino boards.  With its help, you can write code, compile it and ‚Äúfill‚Äù it to the board to make our device work.  Also in this environment there is a large number of connected libraries containing a lot of additional ready-made sketches, which allow you to quickly check the performance of individual modules, additions to our board.  A programming language is very similar to the C language family, which is quite easy to learn, if you know the basics of the C language, this is a big plus in programming this platform. <br><br>  We start, as always with the connection of the necessary libraries.  Most likely, you will have to search the Internet AFMotor.h, problems to find this library should not be. <br><br><pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;AFMotor.h&gt; //      #include &lt;SoftwareSerial.h&gt; //      Serial   </span></span></span></span></code> </pre> <br>  Next, create objects for the engines: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">AF_DCMotor </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">motor1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">// 1  Motor Shield AF_DCMotor motor2(2); // 2  Motor Shield</span></span></code> </pre><br>  The channel M1 and M2 is determined easily; it is enough to look at our module and there near the fasteners with clamps M1, M2, M3, M4 are signed, respectively: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">SoftwareSerial </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BTSerial</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">// RX, TX,   //    Bluetooth char vbt; //     int vL, vR; /*  ,         .       .             */ int vspd = 200; void setup() { //C    Bluetooth BTSerial.begin(9600); // C     Serial.begin(9600); //      vspeed(255,255); }</span></span></code> </pre><br>  Next, we need the help of the <a href="https://play.google.com/store/apps/details%3Fid%3Dbraulio.calle.bluetoothRCcontroller">application on Android</a> , whose commands we will accept and process. <br><br>  In this part we simply describe the functionality of the program (speed, variables). <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loop</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//     if (BTSerial.available()) { //  ,      vbt = (char)BTSerial.read(); //  if (vbt == 'F') { vforward(); } //  if (vbt == 'B') { vbackward(); } //  if (vbt == 'L') { vright(); } //  if (vbt == 'R') { vleft(); } //    if (vbt == 'G') { vforwardright(); } //    if (vbt == 'I') { vforwardleft(); vforwardright(); } //    if (vbt == 'H') { vbackwardleft(); } //    if (vbt == 'J') { vbackwardright(); } //  if (vbt == 'S') { vrelease(); } //  0% if (vbt == '0') { vspeed(0,0); } //  10% if (vbt == '1') { vspeed(25,25); } //  20% if (vbt == '2') { vspeed(50,50); } //  30% if (vbt == '3') { vspeed(75,75); } //  40% if (vbt == '4') { vspeed(100,100); } //  50% if (vbt == '5') { vspeed(125,125); } //  60% if (vbt == '6') { vspeed(150,150); } //  70% if (vbt == '7') { vspeed(175,175); } //  80% if (vbt == '8') { vspeed(200,200); } //  90% if (vbt == '9') { vspeed(225,225); } //  100% if (vbt == 'q') { vspeed(255,255); } } }</span></span></code> </pre><br>  Next, we describe each action, in this case FORWARD causes the engine to spin forward, and BACKWARD turns the engine in the opposite direction.  The combination of these actions allows you to rotate, move left and right, deviate from the direct direction of movement of the robot. <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//  void vforward() { vspeed(vL,vR); vforwardRL(); } //   RL void vforwardRL() { motor1.run(FORWARD); motor2.run(FORWARD); } //  void vbackward() { vspeed(vL,vR); vbackwardRL(); } //   RL void vbackwardRL() { motor1.run(BACKWARD); motor2.run(BACKWARD); } //  void vleft() { vspeed(vL,vR); motor1.run(BACKWARD); motor2.run(FORWARD); } //  void vright() { vspeed(vL,vR); motor1.run(FORWARD); motor2.run(BACKWARD); } //    void vforwardleft() { if (vL &gt; vspd) { vspeed(vL-vspd,vR); } else { vspeed(0,vR); } vforwardRL(); } //    void vforwardright() { if (vR &gt; vspd) { vspeed(vL,vR-vspd); } else { vspeed(vL,0); } vforwardRL(); } //    void vbackwardleft() { if (vL &gt; vspd) { vspeed(vL-vspd,vR); } else { vspeed(0,vR); } vbackwardRL(); } //    void vbackwardright() { if (vR &gt; vspd) { vspeed(vL,vR-vspd); } else { vspeed(vL,0); } vbackwardRL(); } //  void vrelease(){ motor1.run(RELEASE); motor2.run(RELEASE); } //   void vspeed(int spdL,int spdR){ if (spdL == spdR) { vL=spdL; vR=spdR; } motor1.setSpeed(spdL); motor2.setSpeed(spdR); }</span></span></code> </pre><br>  In this video, I simply connected the propeller to the M1 connector and changed the program code, leaving only the ‚Äúforward‚Äù and ‚Äúbackward‚Äù motion: <br><br><video>  https://vk.com/video?section=uploaded&amp;z=video13851736_170562161%2Falbum13851736_-1 </video><br><br>  But such a robot turned out at the end of our lesson: <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/Z8eaWrVr6Lc%3Ffeature%3Doembed&amp;xid=17259,15700022,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi7DWwRjQFTRutIfcqvnWuP0zUrsQ" frameborder="0" allowfullscreen=""></iframe><br><br>  In the next part, I will explain how to build the logic of the robot, connect the range finder to it, with which it will be oriented in space. </div><p>Source: <a href="https://habr.com/ru/post/262011/">https://habr.com/ru/post/262011/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../262001/index.html">The Evolution of Emails in Email Microsites</a></li>
<li><a href="../262003/index.html">Free summer school on HPC in scientific and engineering problems - applications are accepted until July 24</a></li>
<li><a href="../262005/index.html">Statistical analysis of association rules in survey results</a></li>
<li><a href="../262007/index.html">Phalcon 2.0.4 release</a></li>
<li><a href="../262009/index.html">Teach telnet.exe to play the correct MUDs</a></li>
<li><a href="../262013/index.html">Critical security update for node.js and io.js</a></li>
<li><a href="../262015/index.html">The mystery of flicker noise unraveled</a></li>
<li><a href="../262017/index.html">Shadow DOM: Specification</a></li>
<li><a href="../262019/index.html">The first acquaintance with the coprocessor Intel Xeon Phi</a></li>
<li><a href="../262021/index.html">Creating the simplest data structures using functions in Python</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>