<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We harness R for business service at "1-2-3"</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This post is, in fact, a summary, summarizing the previous "technological" publications [ 1 , 2 , 3 , 4 , 5 ] and the discussions and discussions that...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We harness R for business service at "1-2-3"</h1><div class="post__text post__text-html js-mediator-article"><p>  This post is, in fact, a summary, summarizing the previous "technological" publications [ <a href="https://habrahabr.ru/post/309246/">1</a> , <a href="https://habrahabr.ru/post/309350/">2</a> , <a href="https://habrahabr.ru/post/309420/">3</a> , <a href="https://habrahabr.ru/post/310108/">4</a> , <a href="https://habrahabr.ru/post/310472/">5</a> ] and the discussions and discussions that have arisen.  The latter have shown that the tasks in which the application of R could be of great assistance to business is very, very much.  However, even in those cases when R is used, modern capabilities of R. are not always used for this. <a name="habracut"></a></p><br><p>  The niche for applying R in business is open and very relevant both in the west and in Russia. </p><br><p>  Why is this statement particularly interesting for Russia? </p><br><p>  <strong>1. An</strong> active process of import substitution is underway, controlled at the level of ministries and government.  Many will prefer to use software from the allowed list, rather than inventing justifications and proving the need to acquire foreign software, albeit slightly better than their Russian counterparts.  And to state-owned companies attention to the order more closely. </p><br><p>  <strong>2.</strong> Unfortunately, there are no reports that the crisis has ended and recovery begins.  Tightening the belt is yes.  So budgets for expensive toys and not very much in sight.  At the same time, nobody cancels the solution of problems; the number and ambitiousness of tasks rather only increases. </p><br><p>  <strong>3.</strong> Business rightly believes that if IT does not create competitive advantages, then at least it should help to quickly prepare the information field for manual or automated decision making.  At the same time, requests from business are often quite prosaic and unpretentious in order to attract Nobel laureates to solve them. </p><br><p>  In fact, for confident navigation in the ‚Äúdigital‚Äù sea, business only needs local ‚Äústitching‚Äù of the information space and the formation of interactive presentations to simplify the decision-making process in the context of a very limited set of questions and processes. </p><br><p>  In general, the decision making situation can be described as follows: </p><br><ul><li>  In every company, every employee makes many important business decisions every day. </li><li>  Time for decision making is small (seconds-hours). </li><li>  The question is not always formulated in a clear and unambiguous form. </li><li>  Decision making may require complex mathematical processing of data. </li></ul><br><p>  Technologically, this process is described by the chain ‚ÄúCollection - Processing - Modeling and Analysis - Visualization / Unloading‚Äù. </p><br><p>  The localization of the ‚Äústitching‚Äù leads to the fact that the use of powerful industrial ETL \ BI \ BigData solutions is completely unjustified from a technical or economic point of view. </p><br><p>  In order to plant a bed of carrots, do not plow a dozen hectares of land. </p><br><p>  On the other hand, such a context is very comfortable for the R ecosystem and is performed at times.  For business, the ‚Äú1-2-3‚Äù approach can be summarized as follows (the business likes pictures): </p><br><img src="https://habrastorage.org/getpro/habr/post_images/f17/50d/24c/f1750d24cbf1a1088bf0051681e352bc.png" alt="&quot;3 steps&quot;"><br><p>  When using R, it makes almost no difference to technologically what data sources and formats are there, how clean they are, what to draw and how to draw.  You can almost everything.  The main thing is to have a formulated business problem. </p><br><h1 id="vozvraschaemsya-k-prakticheskomu-primeru">  Back to the practical example </h1><br><p>  As a demonstration of the applicability of the above approach, let us turn again to the topic mentioned earlier in the post <a href="https://habrahabr.ru/post/309246/">‚ÄúData Science Tools as an Alternative to the Classical Integration of IT Systems‚Äù</a> , namely, the example of the agronomist console in one of the subtasks of the modern direction ‚ÄúPrecision Agriculture‚Äù. </p><br><p>  The subtask itself sounds quite prosaic: ‚Äú <em>Optimize field irrigation with regard to the characteristics of the cultivated crop, phenological phases and climatic conditions (past, present, forecast) to improve the quality of the crop and reduce costs</em> .‚Äù </p><br><p>  Naturally, the IT analytics subsystem is just one of the subsystems.  The full complex covers the tasks of choosing the optimal method and direct measurement of the physical indicators of soil moisture (which is difficult in itself) and environmental parameters, autonomous sensor operation and telemetry transmission over the radio channel taking into account the field scales (units-tens of kilometers), low cost + compactness + work without changing the battery throughout the season, optimizing the placement of sensors and protecting them from various influences, including the increased interest of local residents, as well as taking into account the water balance in  plants (rough, absorption - evaporation).  But all these tasks are beyond the scope of this publication. </p><br><p>  So, console agronomist.  Everything is done on R + Shiny + DeployR.  An example of a working version of the console is shown in the following screenshot: </p><br><img src="https://habrastorage.org/getpro/habr/post_images/585/175/2a5/5851752a538ceec1f98703261a97e216.png" alt="Smart Agriculture"><br><p>  Everything looks simple and trivially smooth, until you get into the details.  Namely, the proposed approach to <strong>local data stitching</strong> is manifested in the details. </p><br><p>  <strong>1.</strong> There is no global repository with a rigid data model containing all of the information.  On the contrary, there is a set of autonomous or semi-autonomous subsystems containing a subset of information in its own form. </p><br><p>  <strong>2.</strong> Since the agronomist console and the information displayed in it is needed when there is someone to watch, the application itself acts as an infinite loop for the message manager.  The console is dynamic, checking the need for recalculation is done on a timer, the elements are updated automatically, using reactive elements of the Shiny platform.  At the same time, the autonomous operational analytics lives on the R server in a mode independent of the console. </p><br><p>  <strong>3.</strong> Current weather.  The data is taken from several sources, including web sources (REST API) and data from actual sensors on the field (log \ csv + git).  Since all sensors on the field save batteries and get in touch in their own mode, the data in the console comes in asynchronous mode.  The git repository was used as a field data store. </p><br><p>  <strong>4.</strong> For on-line analysis, the interface contains, among other things, elements that control the displayed slices.  The entire recalculation takes place upon changing the settings. </p><br><p>  <strong>5.</strong> GIS-map with installed sensors on the field.  A multi-layered map (exactly here as the OpenStreet substrate) with a superimposed infrastructure of field sensors, and dynamically recalculated indicators of these sensors, such as: current status, current readings, time of the last reading.  Meta-information about sensors is obtained from the cloud accounting system for IoT equipment.  Due to the rather complex internal logical structure of the IoT platform objects, in order to obtain data about the sensors, it is necessary to perform a chain of 3-4 REST API requests with intermediate processing. </p><br><p>  <strong>6.</strong> Tabular representation for the output of event information: indications, logs, recommendations, problems, forecasts.  Each type of output information is obtained either from a separate source (connection, collection, parsing, preprocessing), or is the result of the work of the mat.  algorithms (for example, forecasts and recommendations). </p><br><p>  <strong>7.</strong> The data area (on the right) combines information obtained and processed from a dozen different sources into a single console: </p><br><ul><li><p>  Data on historical indicators of weather.  Data from field sensors (txt + git) and weather data from open web sources are used.  Due to the fact that free accounts (after a preliminary analysis of several web sources) far from have a deep history, and the idea of ‚Äã‚Äãpaying $ 100-150 a month for accessing the weather data of agricultural producers is not encouraging, a separate process of accumulating historical web sites was raised data based on monitoring of current (REST API -&gt; txt + git).  And, of course, in case of conflict of data from different sources, it is necessary to resolve it.  As one of the main sources, we stopped at the <a href="http://openweathermap.org/">Open Weather Map - OWM</a> </p><br></li><li><p>  The forecast part also caused a number of questions.  Different sources give different information with different granularities.  Not all sources give a forecast of precipitation in mm.  If given, then not all give hourly.  Can issue units.  They need to somehow reduce. </p><br></li><li><p>  In particular, when requesting precipitation, OWM produces a 3-hour unit in mm, starting from the moment of fixation.  If we talk about the past, then the moment of fixation can also be issued random.  Thus, we get an arbitrary time series with a 3-hour aggregates and a large number of repetitions, for which it is necessary to restore the hourly picture. </p><br></li><li><p> The data from the sensors come through various channels.  The sensors themselves ‚Äúlive‚Äù in asynchronous mode (battery ecology), so the data from them comes in stream mode, without the possibility of forced polling.  The lack of guarantee of communication channels (everything in the field, sometimes in a bad coverage area) and different versions of the sensor hardware platforms make it necessary for the analysis to collect data from all potential stores.  Currently, sensor data is coming in to git (structured view and logs) and to the cloud-based IoT device control platform. </p><br></li><li>  The data from the sensors (and in the field they are not 2 and not 5) undergo preliminary mathematical processing.  Due to the specifics of measuring soil moisture and the impossibility of direct measurements (with a certain reservation for NMR or radiometric methods), the result of indirect measurements strongly depends on the structural properties of the soil.  It is necessary to determine the reliability of the readings of each of the sensors, based both on its particular calibration curves, and on historical data, expected indicators, data on irrigation carried out and information from other sensors on the field. </li></ul><br><h1 id="zaklyuchenie">  Conclusion </h1><br><p>  In the west, the community R, as well as the circle of tasks, is developing exponentially.  Open-source is actively coming.  To get acquainted with the novelties in part R, you can use the <a href="https://www.r-bloggers.com/">R-bloggers</a> aggregator as a launching pad.  For example, a very interesting fresh business post: <a href="http://blog.revolutionanalytics.com/2016/09/fraud-detection.html">‚ÄúUsing R to detect fraud at 1 million transactions per second‚Äù</a> . </p><br><p>  In Russia, there are all prerequisites for using R in business problems, but so far a relatively weak community.  On the other hand, the active and inquisitive audience Habra is the best conductor of modern IT technologies in our country. </p><br><p>  It's time to try to solve the problems existing in your companies in a new way, with the use of new tools, and start sharing your experiences.  A discussion of questions and incomprehensible moments in open discussions will only contribute to this. </p><br><p> <strong>PS</strong> By the way, now the semantics of the <code>dplyr</code> package is <code>dplyr</code> available for working with Apach Spark.  Sparkly package came out providing this transparency. </p><br><p>  Previous post: <a href="https://habrahabr.ru/post/310472/">"You do not have enough speed R? We are looking for hidden reserves"</a> <br>  Next post: <a href="https://habrahabr.ru/post/312632/">"Using R for preparing and transmitting live analytics to other business units"</a> </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/311330/">https://habr.com/ru/post/311330/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../311318/index.html">Video Recording of the Data Scientist Tools Webinar</a></li>
<li><a href="../311320/index.html">VP8, VP9 and H265. Hardware accelerated video encoding and decoding in 6th generation Skylake processors</a></li>
<li><a href="../311322/index.html">Sunset stack overflow</a></li>
<li><a href="../311324/index.html">How to stop worrying and conquer Windows Update?</a></li>
<li><a href="../311328/index.html">Artificial Intelligence in Excel predicts the gold medal winner in the men's tournament at Rio 2016</a></li>
<li><a href="../311332/index.html">Moscow Droidcon 2016: a side view</a></li>
<li><a href="../311334/index.html">Manage dependencies in Swift iOS apps with peace of mind</a></li>
<li><a href="../311336/index.html">8 tips on lead generation from Khalisi</a></li>
<li><a href="../311338/index.html">Mobile trade on the example of Mobi-S</a></li>
<li><a href="../311340/index.html">Neuromarketing: how brain research helps brands sell</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>