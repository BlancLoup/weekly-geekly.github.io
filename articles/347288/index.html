<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Universal data converter on the .Net Framework</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article I would like to tell the experience of our team to create a universal data converter. At first glance it sounds very simple, what is s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Universal data converter on the .Net Framework</h1><div class="post__text post__text-html js-mediator-article"><p>  In this article I would like to tell the experience of our team to create a universal data converter.  At first glance it sounds very simple, what is so complicated?  Take one data type lead to another type.  And if the data is a structure?  Not hard either, you say, you just need to do the mapping of fields.  Yes, just.  But when there are several target structures, they are all complex and it needs to be converted on the fly, and with data enrichment, as they say, ‚ÄúI have to think‚Äù. <a name="habracut"></a><br>  The team was assigned the task: <br>  Write a data converter from one structure to several other target structures.  Moreover, the storage format of the source data and destination data can be completely arbitrary.  Conversion should be based on rules with the possibility of reuse and editing.  During the conversion process, some data needs to be recoded, for example, transfer the string ‚Äú# ff0000‚Äù to the string ‚Äúred‚Äù. <br>  In addition, as you know, the user wants to be able to read and edit all integration conversions, i.e.  The developed functionality should be placed on the UI with the possibility of editing. <br>  So let's get started.  In theory, input and output formats can be of any type (csv, json, etc.).  For clarity, choose the format of XML. </p><br><p>  An example XML source is "convert FROM": </p><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Car</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Color</span></span></span><span class="hljs-tag">&gt;</span></span>#ff0000<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Color</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Length</span></span></span><span class="hljs-tag">&gt;</span></span>5296 cm<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Length</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Width</span></span></span><span class="hljs-tag">&gt;</span></span>1848 cm<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Width</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Price</span></span></span><span class="hljs-tag">&gt;</span></span>31000 USD<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Price</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Car</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  An example XML destination is "convert to": </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Vehicle</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Exterior</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Color</span></span></span><span class="hljs-tag">&gt;</span></span>red<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Color</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Exterior</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Size</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">MeasureUnit</span></span></span><span class="hljs-tag">&gt;</span></span>ft<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">measureUnit</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Length</span></span></span><span class="hljs-tag">&gt;</span></span>17.3753<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Length</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Width</span></span></span><span class="hljs-tag">&gt;</span></span>6.0630<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Width</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Size</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Msrp</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Currency</span></span></span><span class="hljs-tag">&gt;</span></span>RUB<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Currency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Value</span></span></span><span class="hljs-tag">&gt;</span></span>1600000<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Value</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Msrp</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Vehicle</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  As you can see, there are recalculations and conversions on the way, not only the location of values ‚Äã‚Äãin the structure changes, but also their types, there are calculated values, and the source data does not contain all the necessary data for successful conversion to the final format (enrichment is required).  I will list a few: </p><br><ol><li>  The color of the Car.Color car in the source is displayed as RBG code ‚Äú# ff0000‚Äù, and in the destination object it needs to be recoded into the verbal interpretation ‚Äúred‚Äù in the Vehicle.Body.Exterior.Color tag; </li><li>  The length of the Car.Lenght car needs to be parsed into several components, the measurement value and the unit of measurement and converted to US feet, the resulting value should be put into Vehicle.Size.Length; </li><li>  The price of the Car.Price car should also be parsed into components, recalculated at the exchange rate of the Central Bank in rubles on the date of the recalculation put in Vehicle.Msrp. </li></ol><br><h3 id="vybor-konteynera-dlya-dostupa-k-dannym">  Choosing a container for accessing data </h3><br><p>  We cannot work directly with the XML format, since  firstly this is the text, and secondly there is the requirement not to bind to the format.  In this case, it is logical to work with container objects in the computer's memory, which will have a convenient interface for accessing their data and have a structured type for referring to parts of it. <br>  For this, the usual C # classes are best suited for which the structure exactly matches the data for storage.  Creating this class is greatly simplified if the XML is typed and there is an XSD schema.  With the help of utilities, you can build a class automatically and use it in the code without extra work. <br>  The classes for our structures are described below. </p><br><p>  Container class C # source: </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Car</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Color; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Length; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Width; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Price; }</code> </pre> <br><p>  Container class C # destination: </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Vehicle</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Body Body; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Msrp Msrp; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Body</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Exterior Exterior; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Size Size; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Msrp</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Currency; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">decimal</span></span> Value; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Exterior</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Color; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Size</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> MeasureUnit; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">decimal</span></span> Length; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">decimal</span></span> Width; }</code> </pre> <br><h3 id="zagruzka-dannyh-istochnika-v-konteyner">  Loading source data into container </h3><br><p>  In the .Net Framework, there are ready-made components that perform de-serialization of XML data, with which we get an instance of the class that is automatically filled with the source data. <br>  If the file is of a more specific format, it will not be difficult to write a custom data loading library. </p><br><h3 id="dostup-k-dannym-konteynerov">  Access to container data </h3><br><p>  The first thing we need to learn is to have a single way to access container data with arbitrary structures.  Those.  we need access to the container metadata.  This is solved through .Net reflection.  We can get to any property or field of a class, and knowing the type and location of the data we can modify them. <br>  For the direct indication of the structural element (node) we will use the XPath analogy for XML.  For example, in order to indicate in the source the node we need it is enough to indicate the line ‚ÄúCar.Color‚Äù. </p><br><h3 id="pravila-konvertacii-dannyh-konteynera-istochnika-v-konteyner-naznacheniya">  Rules for converting source container data to destination container </h3><br><p>  So, we have two containers, both have a structured architecture.  Now we need to learn how to convert one into another, from the source container to the destination container. <br>  As stated in the problem statement, the conversion should be performed based on a set of rules.  The rules must be universal so that they can be used repeatedly. <br>  The code displays the following interaction scheme (see the diagram below): Data is serialized from XML into a .Net object (1-2), then by referring to the data of the container (2), the conversion is performed based on the list (3) of the rules into the destination container (2 -3-4).  Moreover, the rules have the ability to enrich the data (3-3'-3).  After the target container has been initialized, the data is uploaded to the final format (4-5). </p><br><p>  Scheme 1. The scheme of interaction of components inside the converter: </p><br><img src="https://habrastorage.org/getpro/habr/post_images/d37/b73/0d6/d37b730d6c9b965eceedfef8fa525d5c.png" alt="The interaction scheme of components inside the converter"><br><p>  Now we will develop a conversion mechanism using the rules.  With their help, we should be able to describe any conversion. <br>  To write a new rule language, and then implement a separate compiler or interpreter for it - this is clearly superfluous.  We decided to use ordinary C # code, which can always be compiled and connected to existing functionality.  Several interfaces and C # base classes have been developed. </p><br><p>  Converter itself: </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">IConverter</span></span> { T Convert&lt;T&gt;(Object source, IDictionary&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>, ConversionRule&gt; rules) <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> T : <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>, <span class="hljs-title"><span class="hljs-title">new</span></span>(); ... }</code> </pre> <br><p>  where the list of rules is IDictionary &lt;string, ConversionRule&gt;, in which the string keys are the paths to the destination container data, for example, "Vehicle.Msrp" </p><br><p>  And the rule of conversion: </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ConversionRule</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">object</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetValue</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params"> source</span></span></span><span class="hljs-function">)</span></span>; ... }</code> </pre> <br><p>  The task of the converter is to convert the specified source object source into a new object of type T in accordance with the list of rules. <br>  When converting the ‚Äúsource‚Äù to ‚Äúdestination‚Äù, the converter performs the following actions. </p><br><ul><li>  Creates an instance of type T (type of destination container) </li><li>  Recursively runs through each field and property of the target object of type T (container-destination), searches for its corresponding conversion rule and performs initialization (assignment of values ‚Äã‚Äãcalculated based on the rule).  If no rule is found, but the node is left empty. </li></ul><br><p>  The source container source object is passed to each rule.  The rule must perform the calculation and return the resulting value.  As you can see in the example, there is no strict typing in the conversion rules, an object can be passed to the input, we also get an object at the output. <br>  Consider an example of a rule that: gets the price of a car. </p><br><p>  Below is a table of settings for the conversion rule: </p><br><table><thead><tr><th>  Target node in the destination </th><th>  Conversion Rule (class in assembly) </th><th>  Parameters for the conversion rule </th></tr></thead><tbody><tr><td>  Vehicle.Msrp </td><td>  ConvertStringPriceToMsrp </td><td>  TargetCurrency = ‚ÄúRUB‚Äù, SourcePath = ‚ÄúCar.Price‚Äù </td></tr></tbody></table><br><p>  Example of a custom conversion rule class: </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ConvertStringPriceToMsrp</span></span>: <span class="hljs-title"><span class="hljs-title">ConvertionRule</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> TargetCurrency; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> SourcePath; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">object</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetValue</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params"> source</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> targetObject = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Msrp(); targetObject.Currency = TargetCurrency; targetObject.Value = SplitAndCalc(GetFiled(source(), SourcePath, TargetCurrency); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> targetObject; } ... }</code> </pre> <br><p>  Before starting the rule, it is initialized by iterating through its fields and properties through reflection and filling the same values ‚Äã‚Äãwith TargetCurrency and SourcePath values ‚Äã‚Äãfrom the config (a set of parameters for a specific rule instance). <br>  By processing this rule, the ConvertStringPriceToMsrp object takes the field value in the Car.Price source container, splits the string into components: price and currency, and creates the resulting Msrp object by filling in the Msrp.Curreny = RUB and Msrp.Value fields = [price in rubles]. <br>  As can be seen from the description, the rule still needs to refer to an external data source in order to get the current exchange rate of the ruble against the dollar.  Those.  The conversion rule can connect to any external data source and perform data enrichment. </p><br><h3 id="vygruzka-dannyh-naznacheniya-iz-konteynera">  Uploading destination data from container </h3><br><p>  Uploading data from the target object to XML is performed in the same way by the finished .Net Framework library by serializing the object.  The component neatly adds the data of the fields and class properties into an XML structure. </p><br><p>  If the destination file is also specific, then you need to write an adapter, which will save our destination container in the required format. </p><br><h3 id="deystvuyuschiy-prototip-dostoinstva-i-problemy">  The current prototype dignity and challenges </h3><br><p>  For automatic loading of service reference libraries (for data enrichment, for reusable reference books), we introduced Autofac IoC.  Thus, when converting a large amount of homogeneous data, we solved the problem of an extra load on I / O and accelerated processing. </p><br><p>  Conversion to the destination takes place in a single pass without unnecessary cycles. <br>  Due to recursiveness, it is possible to substitute the node value optionally ‚Äúby choice‚Äù.  This option is very useful for XML, when the structure of one tag depends on another (for example, on the type of product, different tags are filled in - we actively use this when generating XML in the Amazon API). </p><br><p>  At the same time, all work with metadata is based on reflection, and on the horizon there is a potential problem of speed.  The problem will manifest itself when delays in the calculations of reflection will dominate us with fast calculations within the rules of converters.  Currently, this problem has not yet declared itself.  But, if it does appear, then there is the idea of ‚Äã‚Äãcaching container-destination types during batch processing. </p><br><p>  We brought all the rule settings to the Web interface so that users could quickly change the settings.  The conversion settings were first stored in XML, but for the convenience of editing they decided to transfer to the database. </p><br><p>  With all the advantages and disadvantages, we did get the desired ‚ÄúUniversal Data Converter on the .Net Framework‚Äù.  Now he is actively working in the modules for publishing goods on the Amazon, Wallmart and other trading platforms, this is where constant mapping, conversion and enrichment of data is required. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/347288/">https://habr.com/ru/post/347288/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../347278/index.html">Learning online programming - is everything as simple as it seems?</a></li>
<li><a href="../347280/index.html">[DotNetBook] Stack stream. Its editing and stream cloning</a></li>
<li><a href="../347282/index.html">How to write a diploma using three open projects</a></li>
<li><a href="../347284/index.html">About errors and exceptions</a></li>
<li><a href="../347286/index.html">Making games in Python 3 and Pygame: Part 5</a></li>
<li><a href="../347294/index.html">Type system in mathematics</a></li>
<li><a href="../347296/index.html">Backup with Software-defined Storage and Erasure Coding - is the game worth the candle?</a></li>
<li><a href="../347298/index.html">The school of interface developers of Yandex again opens the set</a></li>
<li><a href="../347300/index.html">Netscaler SD-WAN - Shuttle for "Network Factory"</a></li>
<li><a href="../347302/index.html">Getting a personal phone number by analyzing and sorting social resources and accounts</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>