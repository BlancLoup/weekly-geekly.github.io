<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creating an Asymmetric Mesh with Grid Layout</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="At the moment, according to Can I Use , 84% of browsers support Grid Layout . Every month this number is growing. But just recently, this module was b...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creating an Asymmetric Mesh with Grid Layout</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/kj/za/w1/kjzaw1pfp_asx3xoosqkecubtim.png"><br><br>  At the moment, according to <i>Can I Use</i> , 84% of browsers support <i>Grid Layout</i> .  Every month this number is growing.  But just recently, this module was behind the flag.  Therefore, if you are not familiar with the opportunities that it provides, then it's time to fix it. <br><br>  As an example, I chose a gallery of images from the Kinopoisk site, which was created using relative positioning.  When implementing, we will be guided by the principle of ‚Äústeal, but improve,‚Äù so our gallery will be flexible and adapted to different resolutions. <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The first step is to create a container under the photo.  Each element will be assigned two classes: common, for all photos, and unique (I hope that you do not use identifiers, right?). <br><br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"container"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"photo photo1"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--   --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"photo photo20"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Our parent element is asked to behave like a <s>gentleman</s> grid-container with a 13 by 4 grid, where each cell is a square with a side of 75 and indents of 5 pixels.  For clarity, I added a background color to each block so that you can see the distribution of blocks in the container.  Our twenty elements are located in the cells from left to right.  If you open the developer tool, you will see the remaining empty cells.  Then you will understand why we created them. <br><br><div class="spoiler">  <b class="spoiler_title">Distribution of elements in the grid container</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/qw/dh/hh/qwdhhhtkhdlzrngavzkodkmd8qm.png"><br></div></div><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://codepen.io/ovarn/embed/preview/BrdMmL" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Then create an asymmetrical grid of the available elements.  We will do this by specifying the starting and ending coordinates of the tracks (the strip between the cells). <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.photo1</span></span> { <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span> <span class="hljs-attribute"><span class="hljs-attribute">grid-row-start</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span> <span class="hljs-attribute"><span class="hljs-attribute">grid-row-end</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>; <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span> <span class="hljs-attribute"><span class="hljs-attribute">grid-column-start</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span> <span class="hljs-attribute"><span class="hljs-attribute">grid-column-end</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>; }</code> </pre><br>  It looks cumbersome.  Do not you think? <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.photo1</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">grid-row</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">grid-column</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span>; }</code> </pre><br>  Already better, but even shorter. <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.photo1</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">grid-area</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> / <span class="hljs-number"><span class="hljs-number">1</span></span> / span <span class="hljs-number"><span class="hljs-number">2</span></span> / span <span class="hljs-number"><span class="hljs-number">2</span></span>; }</code> </pre><br>  You certainly noticed that we also replaced the triples by <i>span 2</i> .  This is done in order not to count the tracks.  We simply tell the browser - through how many cells the element will be stretched.  And now we need to do this for each block.  By the way, if you do not specify the final position, the element will occupy exactly one cell. <br><br>  After that, add the elements of the background image that will be scaled with the proportions. <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.photo</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background-size</span></span>: cover; } <span class="hljs-selector-class"><span class="hljs-selector-class">.photo1</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background-image</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">url</span></span>(...); }</code> </pre><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://codepen.io/ovarn/embed/preview/ZxJwVM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><img src="https://habrastorage.org/webt/es/jy/vj/esjyvjywcjz-ticpcwz_hvq7fkk.png"><br>  <sub><sup>Visual numbering of tracks.</sup></sub>  <sub><sup>Oh yeah, you can count them from the end, just before the value you need to remember to specify a minus.</sup></sub> <br>  We will perform the same operation for the next breakpoint, where our gallery will be 10 by 5. All we did was change the value of the <i>grid-area</i> property of the elements and add one image due to the fact that when we redefine the grid empty area.  Unfortunately, when creating a <i>media</i> expression, you cannot use the <i>calc</i> function (at the time of this writing, this <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/calc">feature is implemented</a> only in Chrome 66, Firefox 59 and Opera 53), so the calculations are given in the comments to the code.  It is considered this way: the sum of the width of the element and its indent multiplied by the number of columns in the previous breakpoint. <br><br><pre> <code class="css hljs"><span class="hljs-comment"><span class="hljs-comment">/* (75px + 5px) * 13 columns = 1040px */</span></span> @<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> (max-width: <span class="hljs-number"><span class="hljs-number">1040px</span></span>) { <span class="hljs-selector-class"><span class="hljs-selector-class">.container</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">grid</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">repeat</span></span>(5, 75px) / <span class="hljs-built_in"><span class="hljs-built_in">repeat</span></span>(10, 75px); } <span class="hljs-comment"><span class="hljs-comment">/*         */</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.photo20</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">grid-area</span></span>: <span class="hljs-number"><span class="hljs-number">4</span></span> / <span class="hljs-number"><span class="hljs-number">9</span></span> / span <span class="hljs-number"><span class="hljs-number">2</span></span> / span <span class="hljs-number"><span class="hljs-number">2</span></span>; } }</code> </pre><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://codepen.io/ovarn/embed/preview/Gxdoyq" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  At the very last breakpoint, all our images will be the same size, which means that they will occupy exactly one cell.  To implement this behavior, we will redefine the number of elements in the container by 20 and set the class <i>photo</i> (each image has this class) <i>grid-area</i> property to the default value - <i>auto</i> .  Thus, we reset the parameters set in the previous breakpoint.  Now our blocks are automatically distributed into cells from left to right. <br><br><pre> <code class="css hljs"><span class="hljs-comment"><span class="hljs-comment">/* (75px + 5px) * 10 columns = 800px */</span></span> @<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> (max-width: <span class="hljs-number"><span class="hljs-number">800px</span></span>) { <span class="hljs-selector-class"><span class="hljs-selector-class">.container</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">grid</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">repeat</span></span>(4, 75px) / <span class="hljs-built_in"><span class="hljs-built_in">repeat</span></span>(5, 75px); } <span class="hljs-selector-class"><span class="hljs-selector-class">.photo</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">grid-area</span></span>: auto / auto; } }</code> </pre><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://codepen.io/ovarn/embed/preview/WzJryX" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h4>  Conclusion </h4><br>  As you can see, the new <i>CSS</i> module is quite flexible and easy to learn.  Of course, I did not use in this article all the possibilities that it provides.  But already on this example, the power of this tool is clearly demonstrated.  I hope that for you this will become a tear-off point in the study of the <i>Grid Layout</i> , and you will be ready to use it as soon as your blog / website can afford to stop supporting old browsers. <br><br>  <b>UPD:</b> Thanks to the user <a href="https://habr.com/users/loki3000/" class="user_link">Loki3000</a> , a <a href="https://codepen.io/ovarn/pen/OvaEBV">solution</a> was found that is more elegant.  You can read about its benefits in the comments to this publication. </div><p>Source: <a href="https://habr.com/ru/post/352534/">https://habr.com/ru/post/352534/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../352524/index.html">Conference DEFCON 16. "Cisco iOS Development Crime." Felix Lindner, head of Recurity Labs</a></li>
<li><a href="../352526/index.html">Pot vari or 4 methods of creative approach to solving problems</a></li>
<li><a href="../352528/index.html">Anatomical code metaphor. Where does muscle code</a></li>
<li><a href="../352530/index.html">Dependency injection patterns. Part 1</a></li>
<li><a href="../352532/index.html">Bitcoin & AI. Victory is inevitable</a></li>
<li><a href="../352536/index.html">Thymeleaf tutorial: Chapter 14. A few more pages of our groceries</a></li>
<li><a href="../352538/index.html">DEFCON 23. "Let'sEncrypt: chasing free encryption certificates for the Internet." Yang Zhu, Peter Eckersley, James Kasten</a></li>
<li><a href="../352540/index.html">4 tips on working with Vue.js</a></li>
<li><a href="../352542/index.html">Thymeleaf Tutorial: Chapter 15. Configuration Details</a></li>
<li><a href="../352544/index.html">Thymeleaf Tutorial: Chapter 16. Template Cache</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>