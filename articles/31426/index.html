<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Writing Qt-based Python Applications</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good time of day. 
 Recently decided to learn another programming language. The choice fell on python. Wrote a few small scripts. But above all, I wan...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Writing Qt-based Python Applications</h1><div class="post__text post__text-html js-mediator-article">  <em>Good time of day.</em> <em><br></em>  <em>Recently decided to learn another programming language.</em>  <em>The choice fell on python.</em>  <em>Wrote a few small scripts.</em>  <em>But above all, I wanted to write applications with a graphical interface.</em>  <em>On the Internet I came across this small tutorial, the reading of which resulted in the translation offered to your attention.</em>  <em>I hope that it will be useful to someone.</em> <em><br></em> <br><br>  This tutorial aims to get an idea of ‚Äã‚Äãhow to write small python applications using the Qt library. <br><br><a name="habracut"></a><br>  To successfully complete all tasks, you need to have basic knowledge of python, however, Qt is not necessary to know.  I use linux in these examples and I assume that you already have working <a href="http://www.python.org/">Python</a> and <a href="http://www.riverbankcomputing.co.uk/pyqt/">PyQt</a> .  To test this, open the python shell by simply typing ‚Äúpython‚Äù in the console in and type 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote><pre>  import qt </pre></blockquote><br><br>  If no error message appears, you are ready to begin.  The examples in this manual are simplified as much as possible, and show useful ways to write and structure your program.  It is important that you read the source code of the examples, most of the things explained there.  Use examples and try to change them, play with them.  This is the best way to get used to. <br><br><h2>  Hello, world! </h2><br>  Let's start with the simple.  The program opens a window and shows something.  The code below shows a window that says ‚ÄúHello, world!‚Äù.  Obviously. <br><br><blockquote><pre>  #! / usr / bin / python
 import sys
 from qt import *
 # create an application and pass arguments
 a = QApplication (sys.argv)
 # create widget
 # The first argument is the text we want to see.
 The second argument is the parent widget, 
 # because  Hello - the only widget, then he has no parent
 hello = QLabel ("Hello world!", None)
 # make the widget mainly
 a.setMainWidget (hello)
 # show widget
 hello.show ()
 #launch the application
 a.exec_loop ()
</pre><br></blockquote><br>  About 7 lines of code, and it is as simple as possible. <br>  And this is how it looks like: <br><img src="https://habrastorage.org/getpro/habr/post_images/87b/2e9/a5e/87b2e9a5edc78b68ad5b7ea40cca9162.png"><br><br><h2>  Button </h2><br>  Add a bit of interactivity!  We will replace the ‚ÄúHello, World!‚Äù With the button and assign an action to it.  This designation is called ‚Äúsignal attachment‚Äù, an event that is sent to the slot when the button is pressed, which is a function.  This function is triggered when an event occurs. <br><br><blockquote><pre>  #! / usr / bin / python
 # coding = utf-8
 import sys
 from qt import *
 a = QApplication (sys.argv)
 # Our function to be called when a button is pressed
 def sayHello ():
     print "Hello, World!"
 # create button
 hellobutton = QPushButton ("Say 'Hello world!'", None)
 # assign a click handler to the button
 a.connect (hellobutton, SIGNAL ("clicked ()"), sayHello)
 # assign a button to the main widget
 a.setMainWidget (hellobutton)
 # show shows
 hellobutton.show ()
 #launch the application
 a.exec_loop ()
</pre><br></blockquote><br><img src="https://habrastorage.org/getpro/habr/post_images/edb/f5b/944/edbf5b944833b5ef220591c9c516b3e3.png"><br><br><h2>  This is more like a normal application. </h2><br>  You can imagine that programming in this way is not expandable and do not stop to continue.  Well, let's do it in Python, adding structure and using an object-oriented approach.  We will create our own class inherited from QApplication and put the things we need into its methods: one method to create widgets and a slot that holds the code that runs when the signal arrives. <br><br><blockquote><pre>  #! / usr / bin / python
 # coding = UTF-8
 import sys
 from qt import *
 # class inherits from QApplication
 class HelloApplication (QApplication):
     def __init __ (self, args):
         "" "
             In the constructor, we do everything we need to run our application, which
             creates a QApplication in the __init__ method, then adds our widgets, and finally
             runs exec_loop
         "" "
         QApplication .__ init __ (self, args)
         self.addWidgets ()
         self.exec_loop ()        
     def addWidgets (self):
         "" "In this method, we add widgets and attach signal handlers.
             The signal handler for the widget is also called a "slot"
         "" "
         self.hellobutton = QPushButton ("Say 'Hello, World!'", None)
         self.connect (self.hellobutton, SIGNAL ("clicked ()"), self.slotSayHello)
         self.setMainWidget (self.hellobutton)
         self.hellobutton.show ()
     def slotSayHello (self):
         "" "
             This is an example of a slot - a method that is called when a signal comes.
         "" "
         print "Hello, World!"
 # This script should only be executed separately, so we have to check it,
 # but we should also be able to connect this program without running any code
 if __name__ == "__main__":
     app = HelloApplication (sys.argv)
</pre><br></blockquote><br><h2>  Interface coding sucks </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/a02/057/4b6/a020574b6dc726913f1ab614b36d8298.png" align="right"><br>  So we want to use Qt3 Designer to create a GUI.  In the picture you can see a simple interface.  The names of the widgets are written in green.  All we have to do <br><ol><li>  Compile a .ui file from Qt designer into a python class </li><li>  Write a subclass and use it as mainWidget </li></ol><br>  That way, we can change the interface in Qt designer without digging through the code <br><br>  Team <br><blockquote><pre>  pyuic testapp_ui.ui -o testapp_ui.py </pre></blockquote><br><br>  make a python class with which we can work. <br><br>  The work of our program can be described as follows: <br><ol><li>  We fill lineedit </li><li>  By clicking on the add button, we will attach a method that reads text from lineedit and adds it to the listview. </li><li>  Clicking on the delete button will remove the selected item from the listview. </li></ol><br>  Here is the code with comments: <br><blockquote><pre>  #! / usr / bin / python
 # coding = utf-8
 from testapp_ui import TestAppUI
 from qt import *
 import sys
 class HelloApplication (QApplication):
     def __init __ (self, args):
         "" "
             In the constructor, we do everything that is necessary to run our application, which
             creates a QApplication in the __init__ method, then adds our widgets, and finally
             runs exec_loop
         "" "
         QApplication .__ init __ (self, args)
         # We pass None because  this top level widget
         self.maindialog = TestApp (None)
         self.setMainWidget (self.maindialog)
         self.maindialog.show ()
         self.exec_loop ()
 class TestApp (TestAppUI):
     def __init __ (self, parent):
         # Run the parent constructor and attach the slots to the methods
         TestAppUI .__ init __ (self, parent)
         self._connectSlots ()
         # Initially, the list is empty, so the delete button should not work
         # Make it inactive
         self.deletebutton.setEnabled (False)
     def _connectSlots (self):
         # Install handlers on the buttons
 self.connect (self.addbutton, SIGNAL ("clicked ()"), self._slotAddClicked)
 self.connect (self.lineedit, SIGNAL ("returnPressed ()"), self._slotAddClicked)
 self.connect (self.deletebutton, SIGNAL ("clicked ()"), self._slotDeleteClicked)
     def _slotAddClicked (self):
         # Read teskt from lineedit,
         text = self.lineedit.text ()
         # if lineedit is not empty,
         if len (text):
             # insert a new item in the list ...
             lvi = QListViewItem (self.listview)
             # with text from lineedit ...
             lvi.setText (0, text)
             # and clear the lineedit.
             self.lineedit.clear ()
             # Delete button m.  off, so turn it on.
             self.deletebutton.setEnabled (True)
     def _slotDeleteClicked (self):
         # Remove the selected item from the list
         self.listview.takeItem (self.listview.currentItem ())
         # Check if the list is empty - if yes, disable the deletebutton.
         # If the list after this was empty, then we will make the delete button inactive
         if self.listview.childCount () == 0:
             self.deletebutton.setEnabled (False)
 if __name__ == "__main__":
     app = HelloApplication (sys.argv)
</pre><br></blockquote><br>  And here is the result of works: <br><img src="https://habrastorage.org/getpro/habr/post_images/169/8ce/8e5/1698ce8e57aa600201f41ba2a1abe636.png"><br><h2>  Good to know </h2><br>  Creating an interface in Qt designer not only makes it easier to create a GUI, but it is also a good tool for learning Qt.  You can test how the widget looks, see what is available in Qt, and see the properties you may want to use. <br><br>  API documentation for C ++ is also very useful (read required) when working with PyQt.  The API is translated very simple, so after practicing, you will realize that the API documentation for developers is one of the tools you really need.  While working in KDE, you can type qt: [widgetname] in concver.  So  qt: qbutton will open the documentation for you directly on the description of qbutton.  <a href="http://doc.trolltech.com/3.3/classes.html">The Trolltech site</a> contains much more documentation that you may find useful. <br><br>  The examples in this manual are created using Qt 3.3.  I might be updating the manual when a usable version of pyQt for Qt 4 appears. <br></div><p>Source: <a href="https://habr.com/ru/post/31426/">https://habr.com/ru/post/31426/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../314250/index.html">What makes games funny? Comedy and humor in video games. Part two</a></li>
<li><a href="../314252/index.html">ASP.NET Core: Deploying a web app in Azure App Service using Visual Studio</a></li>
<li><a href="../314254/index.html">Phone number verification using Ruby on rails and Twilio</a></li>
<li><a href="../314256/index.html">Out of range: anomalous communication areas</a></li>
<li><a href="../314258/index.html">Composition and interfaces</a></li>
<li><a href="../314260/index.html">Home ad blocker</a></li>
<li><a href="../314262/index.html">DisTalk. If you can't read, it doesn't mean that you can't communicate.</a></li>
<li><a href="../314264/index.html">Localization of indie games in Unity: implicit costs</a></li>
<li><a href="../314266/index.html">Malefactors use 0day vulnerabilities in cyber attacks on users</a></li>
<li><a href="../314268/index.html">How to run Python through SAS?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>