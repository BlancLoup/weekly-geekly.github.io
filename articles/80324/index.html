<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>PHP implementation of noSQL</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Speed, friends, is one of the important components of your project. While the resource is visited by 10-100 users per day, then everything is fine - t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>PHP implementation of noSQL</h1><div class="post__text post__text-html js-mediator-article">  Speed, friends, is one of the important components of your project.  While the resource is visited by 10-100 users per day, then everything is fine - the user is happy and invites his friends to you, friends of his friends and so on.  The load is increasing ... <br><a name="habracut"></a><br>  A person who looks at pictures, reads blogs, listens to music on the Internet, no matter what language your website is written in, which database is used and whether you use caching.  It is important for him that access to interesting content be as fast as possible. <br><br>  But over time, a successful project will always require <strong>more performance</strong> due to an increase in project attendance. <br><br>  Consider a bunch of <strong>PHP + MySQL + Memcached</strong> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      To show the user an article with comments, you need: <br><ol><li>  See if there is an article (with comments) in the cache. </li><li>  If not, then make an "expensive" JOIN text + comments </li><li>  Put everything in the cache </li><li>  Give content to user </li></ol>  The big minus in this algorithm is a muscular <strong>JOIN</strong> (or any other DBMS). <br>  The modern noSQL concept emerged as a response to normalized data structures. <br><br>  Consider a bunch of <strong>PHP + Memcached</strong> in the previous example: <br><ol><li>  See if there is an article (with comments) in the cache. </li><li>  If not, then put it in the cache </li><li>  Give content to user </li></ol>  One point has become <em>"easier</em> . <em>"</em>  No JOIN, but where to get the data?  Store <strong>in files</strong> . <br><br>  The concept of ‚Äúdocument‚Äù appears (for example: an article with comments).  To specifically understand the <strong>noSQL</strong> technology, I wanted, <s>as always, to</s> ‚Äúinvent a bicycle.‚Äù <br><br>  <a title="Jim2" href="http://code.google.com/p/platcode/source/browse/branches/jim2.php">JIM2 Prototype</a> <br><br>  Wanted: <strong>Apache + mod_php + <a title="XCache" href="httpd.net/">php_xcache</a></strong> <br><br>  Specify the path where the files will be stored: <br><blockquote><code><font color="black">define( <font color="#A31515">'STORAGE_PATH'</font> , <font color="#A31515">'F:\\tmp\\jim2'</font> );</font></code> </blockquote> <br>  Example of use: <br><br>  <em>a record</em> <br><blockquote> <code><font color="black">$collection = <font color="#0000ff">new</font> Collection(); <br> <br> $vasya = array <br> ( <br> <font color="#A31515">'name'</font> =&gt; <font color="#A31515">'Vasya'</font> , <br> <font color="#A31515">'sex'</font> =&gt; <font color="#A31515">'male'</font> <br> ); <br> <br> $masha = array <br> ( <br> <font color="#A31515">'name'</font> =&gt; <font color="#A31515">'Masha'</font> , <br> <font color="#A31515">'sex'</font> =&gt; <font color="#A31515">'female'</font> <br> ); <br> <br> $jim = array <br> ( <br> <font color="#A31515">'name'</font> =&gt; <font color="#A31515">'Jim'</font> , <br> <font color="#A31515">'sex'</font> =&gt; <font color="#A31515">'male'</font> , <br> <font color="#A31515">'type'</font> =&gt; <font color="#A31515">'dog'</font> <br> ); <br> <br> $collection-&gt;put($vasya); <br> $collection-&gt;put($masha); <br> $collection-&gt;put($jim); <br> <br> $collection-&gt;createIndex( array ( <font color="#A31515">'name+sex'</font> , <font color="#A31515">'sex'</font> ) );</font></code> </blockquote> <br>  <em>reading</em> <br><blockquote> <code><font color="black">$collection = <font color="#0000ff">new</font> Collection(); <br> <br> $keys = xcache_get( <font color="#A31515">'./index/sex/male'</font> ); <br> <br> <font color="#0000ff">foreach</font> ($keys <font color="#0000ff">as</font> $key) <br> { <br> print_r( $collection-&gt; <font color="#0000ff">get</font> ($key) ); <br> }</font></code> </blockquote>  Features: <br><ol><li>  Documents are stored as key / value. </li><li>  You can build indexes by document properties (additional keys are created) </li><li>  Each document has a _rev field indicating the document version.  This will avoid collisions when locking a file for writing, as document versions are checked. </li><li>  Also the collection itself stores the version.  Made in order to be able to convert the relevance of caches based on the collection of documents </li></ol>  What else is not, but will be: <br><ol><li>  Fetching a collection using the API </li><li>  Pagination </li><li>  ... any of your suggestions </li></ol>  PS I didn‚Äôt compare read speeds, as it‚Äôs obvious that a direct access to the cache will always work quickly.  But the insertion speed (100 items) pleased me: a bunch of MySQL + memcached fell behind (0.5417142) from JIM2 (0.4791223) </div><p>Source: <a href="https://habr.com/ru/post/80324/">https://habr.com/ru/post/80324/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../80315/index.html">New control without touching the screen</a></li>
<li><a href="../80319/index.html">Page for happy owners of IE6</a></li>
<li><a href="../80320/index.html">The first electronic journal about Apple written by the users themselves.</a></li>
<li><a href="../80322/index.html">Special type of customers</a></li>
<li><a href="../80323/index.html">Adaptive boosting</a></li>
<li><a href="../80327/index.html">Literary hashtag # lit140</a></li>
<li><a href="../80328/index.html">Perl Mini-FAQ (Frequently Asked Questions, FAQ)</a></li>
<li><a href="../80329/index.html">Progress has reached!</a></li>
<li><a href="../80330/index.html">Doctrine, extending the capabilities of your favorite ORM framework! Part 1.b (I18n, modification of quick access to translatable attributes)</a></li>
<li><a href="../80331/index.html">Dan Pink on the amazing science of motivation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>