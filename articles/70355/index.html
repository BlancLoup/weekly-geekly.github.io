<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Online Store on Google App Engine (UPD: 1/20/2010)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The shop has been operating for almost half a year - welcome :) 
 http://www.digital-mode.ru 

 How it all works. 
 Front Office - generates pages wit...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Online Store on Google App Engine (UPD: 1/20/2010)</h1><div class="post__text post__text-html js-mediator-article">  The shop has been operating for almost half a year - welcome :) <br>  <a href="http://axiomashop.appspot.com/">http://www.digital-mode.ru</a> <br><br><h5>  How it all works. </h5><br>  Front Office - generates pages with groups and products, and also allows you to add a product to the cart and place an order. <br>  Image storage - gives photos of the goods in the right size.  All other pictures are static, downloaded from the GAE server. <br>  Back office - administrative part, allows you to edit products and groups, view orders, upload photos for products, as well as upload price updates, availability and new positions. <br><br>  Django templates are used to generate almost all pages. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In general, nothing complicated :) <br><br><h5>  Problems encountered during development. </h5><br>  Currently there are problems with loading / unloading a large amount of data.  At the moment I use CSV to download updates (prices, products, availability).  If a large amount of data is exceeded, the timeout for 30 seconds is exceeded.  <s>In addition, the GAE restriction on 30 write requests (put).</s>  Accordingly, it is impossible to update more than 30 products in one pass.  This moment can be optimized and update the data is not a piece, but immediately packs because  in GAE, the record in the storage can be done in whole arrays. <br><br>  Data upload for Yandex.Market takes almost 10 seconds (200 products), 90% of the time is HTML generation. <br><br>  Also, the problem with filters and sorting of goods by characteristics has not been solved yet.  Because  The database is not relational, it is difficult to attach characteristics to goods.  As an option to do for each type of product manually in the code its own fixed set of characteristics, it is possible as long as the types of goods are no more than ten. <br><br><h5>  Advantages of GAE </h5><br>  No need to purchase / configure / maintain your own server. <br>  Automatic scaling. <br>  The same access time to the application at different loads. <br>  Ease of development. <br><br><h5>  Total </h5><br>  The speed of the store does not depend on the number of visitors. <br>  Currently, at 500-600 hits per day, 0.3-0.4 hours of processor time out of 6.5 is used. <br><br>  After posting in the comments to the topic: ‚Äú <a href="http://habrahabr.ru/blogs/webdev/70252/">Should you use Google AppEngine?</a> ‚Äù Links to the store were used resources: <br>  - 0.44 CPU hours of 6.5 <br>  - 28000 requests from 1.3 million <br>  - 210 MB of 1 GB of outgoing traffic <br>  - 5.59 GB of 116 GB obtained from the API <br>  - 0,22 hours from 62,11 used by storage <br>  In just 12 hours - 700 hits (180 hosts). <br><br>  This is micro-effect: <br><img src="http://images.eabc.ru/image/k/l/agppbWFnZXNlYWJjcg0LEgZJbWFnZXMY0Q8M" alt="image"><br><a name="habracut"></a><br><br>  UPDATE 12.30: <br>  Pictures are push :) <br><h5>  Statistics for this morning </h5><br> <a href="http://images.eabc.ru/picture/agppbWFnZXNlYWJjcg0LEgZJbWFnZXMYoR8M%3Ftag%3D%25D1%2585%25D0%25B0%25D0%25B1%25D1%2580"><img src="http://images.eabc.ru/image/k/m/agppbWFnZXNlYWJjcg0LEgZJbWFnZXMYoR8M" alt="image"></a> <br>  Resource consumption is indicated from 11.00 (daily statistics reset). <br>  Over the past 9 hours there were 4 errors with the opening of the main page: <br>  Timeout - 2pcs. <br>  Datastore_v3.RunQuery () - 2 pcs. <br>  And also about 20 errors with loading images.  All timed out due to waiting for a response from the repository. <br>  In any case, I included billing in the morning, but I suspect that the limit of free quotas for today will most likely not be exceeded. <br><br><h5>  Secret experiment number 2 </h5><br>  All screenshots in this topic are given from my other GAE application.  Billing on it is off. <br> <a href="http://images.eabc.ru/picture/agppbWFnZXNlYWJjcg0LEgZJbWFnZXMYuhcM%3Ftag%3D%25D1%2585%25D0%25B0%25D0%25B1%25D1%2580"><img src="http://images.eabc.ru/image/k/m/agppbWFnZXNlYWJjcg0LEgZJbWFnZXMYuhcM" alt="image"></a> <br>  The first screenshot in the topic is still on the main page of the habr.  No errors have been noticed yet. <br>  10 thousand hits per hour.  - caching is not used, the image is sent directly from the repository. <br><br>  UPD: 01.20.2010 <br><h5>  Store Presentation on GDD2009 </h5><br>  You can watch the video from GDD 2009 where I talk about our online store on App Engine. <br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/24gQVBhhO0w%3Ffeature%3Doembed&amp;xid=17259,15700002,15700021,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhj2eLHI1GoCd3sF13fJqgEpOmSEXA" frameborder="0" allowfullscreen=""></iframe><br>  <a href="http://www.youtube.com/watch%3Fv%3D24gQVBhhO0w">GDD Moscow 2009. Online store on the Google App Engine platform</a> </div><p>Source: <a href="https://habr.com/ru/post/70355/">https://habr.com/ru/post/70355/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../70349/index.html">Emulation of old (and not only) consoles on GNU / Linux</a></li>
<li><a href="../70351/index.html">Google Chrome Frame - HTML5 for IE users</a></li>
<li><a href="../70352/index.html">Spree 0.9.0 released</a></li>
<li><a href="../70353/index.html">Habra Illumination or Experiments in an Isolated Python Environment</a></li>
<li><a href="../70354/index.html">Firestarter! Part # 1 White Hat</a></li>
<li><a href="../70356/index.html">Google SketchUp 7.1</a></li>
<li><a href="../70359/index.html">Posting to Twitter links to the topic Habrahabra</a></li>
<li><a href="../70360/index.html">Change the password of the root or any other account in Mac OS</a></li>
<li><a href="../70363/index.html">Trabant is back</a></li>
<li><a href="../70365/index.html">Acer Extensa 5635Z laptop test: office plankton instrument</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>