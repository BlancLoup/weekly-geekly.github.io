<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>A little more about SDH and PDH</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="After listening to the second release of the LinkMiAp podcast published on habrahabr.ru , I had a desire to supplement and correct a little what was s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>A little more about SDH and PDH</h1><div class="post__text post__text-html js-mediator-article">  After listening to the second release of the <a href="http://linkmeup.ru/">LinkMiAp</a> podcast published on <a href="http://habrahabr.ru/post/177899/">habrahabr.ru</a> , I had a desire to supplement and correct a little what was said in the first part of the issue devoted to SDH / PDH.  But since all my thoughts did not fit into the framework of the usual commentary, I used the May holidays to write this post. <br><a name="habracut"></a><br><br><h5>  About the Kotelnikov theorem </h5><br>  <a href="https://ru.wikipedia.org/wiki/%25D0%25A2%25D0%25B5%25D0%25BE%25D1%2580%25D0%25B5%25D0%25BC%25D0%25B0_%25D0%259A%25D0%25BE%25D1%2582%25D0%25B5%25D0%25BB%25D1%258C%25D0%25BD%25D0%25B8%25D0%25BA%25D0%25BE%25D0%25B2%25D0%25B0">The Kotelnikov theorem (the Nyquist ‚Äì Shannon theorem)</a> answers the question: - How often do you need to take readings from an analog signal in order to be able to restore it according to these indications? <br><br>  An analog signal has such a property as a spectrum (the frequency range in which the signal is located), for example, a medium-statistical person hears sound in the range from 20 Hz to 20 kHz.  In order to digitize the entire audible spectrum of human sounds without loss, according to Kotelnikov's theorem, the signal level should be measured with a frequency <b>twice as</b> high <b>as the upper frequency of the spectrum</b> , that is, 40 kHz.  It is natural to digitize the entire audible spectrum - great luxury, 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Even in the era of analog systems with frequency multiplexing of channels, it turned out that in order to maintain speech intelligibility, it is enough to leave the range from 300 Hz to 3400 Hz (standard <a href="https://ru.wikipedia.org/wiki/%25D0%259A%25D0%25B0%25D0%25BD%25D0%25B0%25D0%25BB_%25D1%2582%25D0%25BE%25D0%25BD%25D0%25B0%25D0%25BB%25D1%258C%25D0%25BD%25D0%25BE%25D0%25B9_%25D1%2587%25D0%25B0%25D1%2581%25D1%2582%25D0%25BE%25D1%2582%25D1%258B">PM channel</a> ) from the audio signal.  Moreover, the spectrum can be cut even more, but although a person will be able to understand the speech, it will no longer be possible to recognize the speaker‚Äôs voice.  Thus, the developers of systems with frequency multiplexing of channels spread channels in frequency, allocating a <b>4 kHz</b> band to each channel to provide a guard interval between channels.  So, the first channel in K-60 systems was located in the range of 252-248 kHz, the second channel in the range of 248-244 kHz, and so on, up to 12 kHz.  Modern <a href="https://ru.wikipedia.org/wiki/DWDM">DWDM</a> systems work on the same principle, but with an optical signal. <br><br>  Developers of digital systems also decided to use channels with a width of 4 kHz for compatibility with the analog compression systems existing at that time.  Well, according to Kotelnikov's theorem, such a signal must be read at a frequency of 8 kHz. <br><br>  The signal level is encoded by an eight-bit code, and quantization does not occur evenly, and the smaller the level, the more accurately the signal is measured, since the human ear can better distinguish the same difference between two small levels than between two large ones. <br><br><img src="https://habrastorage.org/storage2/67c/cb9/14e/67ccb914e52e772cd8d850f1260fd954.jpeg"><br><br>  To betray 8 bits with a frequency of 8000 Hz, a speed of 8000x8 = 64000 bps is needed - this will be the <a href="https://ru.wikipedia.org/wiki/%25D0%259E%25D1%2581%25D0%25BD%25D0%25BE%25D0%25B2%25D0%25BD%25D0%25BE%25D0%25B9_%25D1%2586%25D0%25B8%25D1%2584%25D1%2580%25D0%25BE%25D0%25B2%25D0%25BE%25D0%25B9_%25D0%25BA%25D0%25B0%25D0%25BD%25D0%25B0%25D0%25BB">Main Digital Channel (BCC)</a> .  32 such channels form the E1 stream. <br><br>  In addition to E1, it is rather difficult to meet other levels of the pleo-ohron hierarchy in Russia today.  The exception may be sometimes encountered optical modems on four or eight E1 streams that they have inside, E2 or STM-1, I do not know.  But these modems, as a rule, are installed in pairs and work with each other without configuration requiring high knowledge. <br><br><h5>  Why are <a href="https://ru.wikipedia.org/wiki/PDH">PDH (PDH)</a> systems called plesochronous (almost synchronous)? </h5><br>  If we present the transmission system as a kind of conveyor, on which at one end one worker puts the boxes with books, and at the other end the second worker removes these boxes.  So in order for there to be no congestion or downtime, these workers must work synchronously, that is, remove and install the boxes at the same speed, and this requirement is fulfilled in PDH systems.  But the authorities decided to increase the productivity of the conveyor and increased its speed four times, this does not affect the work of these two workers, since the boxes from the conveyor should be removed at the same speed with which they are put there, but now there is room on the conveyor.  And the authorities put three more workers at the beginning of the conveyor and three at the end.  Each of the four workers at the loading should work synchronously with their partner at unloading, and again with this there is no problem.  But besides this, the workers during the loading should not interfere with each other, they should put the boxes at the same speed, that is, synchronously and that's the problem with the PDH systems.  This problem is solved by allocating additional space on the conveyor, the conveyor moves a little faster than necessary, and each worker has the opportunity to work on loading, without much adjusting to the rest of the workers exposing the boxes to the conveyor. <br><br>  As a result, it is impossible to snatch one book out of the box in the middle of the conveyor or put the book in the box to a specific place, since it is impossible to determine where this place is at a particular moment in time, eight more workers need to be installed so that they remove the box, remove the book from one of them put this book on an empty seat, and then returned boxes to the place. <br><br>  Another problem of PDH systems was the incompatibility of hierarchies developed in the USA, Japan, and Europe.  But when developing the next generation of systems (SDH), we managed to get rid of these shortcomings, and how to be led increased speed. <br><br><h5>  Why does the transmission system issue an over-cycle synchronization crash if IP packets are sent down the E1 stream? </h5><br>  In addition to the zero time slot (T0), there is another service channel in the cycle, usually it is located on the 16th place (T16), a little less often on the last 31st channel (T31), some equipment allows you to put it in general at any place, for example SHDSL can cut the cycle (reduce the transmission rate, reducing the number of time slots transmitted) depending on the cable parameters and in order not to cut the service time slot, it is transferred to the beginning of the cycle.  This time slot slots the ‚ÄúControl and Interaction Signals‚Äù (WMS), more simply the service information is exchanged between the PBX (DSS1, OKS7, etc.), as well as some manufacturers use this channel for remote monitoring of PDH multiplexers. <br><br>  How multiframe synchronization works is best explained by the example of the 2VSK signaling (2 Dedicated Signal Channels), for the time being it is rather outdated and it is rather difficult to find it in real life, but it is rather simple. <br><br>  16 cycles (frames) in a row form a superframe (multi frame). <br><br>  In the 16th time slot of the 1st cycle (not zero) in the first four bits, the signaling information is transmitted (channel seizure, hang up, dialing) for the 1st cycle slot slot.  In the second four bits of the signal information for the 17th time slot. <br><br>  In the 16th time slot of the 2nd cycle, in the first four bits, the signal information for the 2nd time slot of the cycle is transmitted, in the second four bits, the signal information for the 18th time slot, and so on. <br><br><img src="https://habrastorage.org/storage2/59b/9b0/457/59b9b0457c65cf62a1573f7068074701.jpeg"><br><br>  The picture shows the 10th superframe cycle, so bits B0-B3 contain signal information for the 10th time slot, and bits B4-B7 for the 26th time slot. <br><br>  The 16th time slot of the 0th cycle contains information to provide frame-synchronization, similar to how information on frame synchronization is transmitted to T0. <br><br>  When an IP network runs on top of an E1 stream, IP packet headers are not transferred to a separate time slot, but are transmitted along with useful information, therefore, an unstructured E1 stream is used for data transmission: without frame-synchronization, without a signaling time slot, and 31 time slots are allocated for the payload instead of 30. <br><br>  But the transmission system, through which the E1 stream is transmitted, may attempt to track the presence of frame-to-frame synchronization and issue an alarm message, in which case the control of the super-frame can simply be turned off. <br><br><h5>  Does the equipment have PDH and SDH addresses? </h5><br>  There is, but only for the equipment management system, these addresses do not affect the payload. <br><br>  Each multiplexer contains a special cross connect table, which indicates which VC container or time slot is connected to which port or how the transit is performed. <br><br><img src="https://habrastorage.org/storage2/bfb/86f/5ee/bfb86f5ee8209bd0615a2f773d4787ea.jpeg"><br><br>  Remote control and monitoring is organized on a separate channel, in SDH systems these are Bytes D (Data Communication Channel - DCC), in PDH systems this channel was not originally provided, therefore manufacturers usually use the 16th E1 time slot.  This separation has several advantages: firstly, it is enough to disable the control channel at the interfaces with other operators or clients and the control system will be completely inaccessible from outside;  secondly, in case of equipment reboot for some reason, the connection is restored even before the multiplexer is fully loaded, since the brains of the equipment and the module responsible for switching are independent of each other. <br><br>  Addressing within the control channel can be very different, each manufacturer implements a control system in its own way, including, you can see the IP network over DCC.  Such a zoo of implementations is another reason to disable D bytes in the headers at the interfaces of equipment from different manufacturers, since incomprehensible information on the control channel may introduce hardware into a stupor. <br><br>  Here we should mention the attempt to standardize the communication network management system - the <a href="https://ru.wikipedia.org/wiki/TMN">Telecommunication Management Network (TMN)</a> , but this standard has the same relation to real life as the 7-level OSI network model. <br><br><h5>  Can PDH and SDH systems organize point-to-point channels only? </h5><br>  In most applications, the PDH and SDH systems are used for the organization of point-to-point connections, but much equipment operating at the PDH level can organize so-called group channels.  In essence, this is a regular, permanent conference, that is, the simple addition of information from several channels.  But there is one problem. In order to add information, equipment needs to know what type of information is being formed, most of the equipment can add voice from different channels, but problems arise with something more exotic, for example RS-485. <br><br><h5>  How are the four STM-1 merged into one STM-4? </h5><br>  When STM-1 is combined in STM-4, the usual multiplexing of STM-1 bytes occurs as shown in the figure, while the distance between the bytes of the same STM-1 remains the same. <br><br><img src="https://habrastorage.org/storage2/a11/5b2/d3d/a115b2d3d893c462252ad79012fc684d.jpeg"><br><br><h5>  How does redundancy work in PDH and SDH systems? </h5><br>  In the first variant, the transfer of information is organized in two directions at once, at the receiving end the equipment receives information from the main direction, and in the event of a major accident from the backup.  Such a switching scheme can be organized at the level of both virtual containers (VC) and the level of the entire path. <br><br>  Some manufacturers implement this type of backup even at the level of individual time slots (BCC), but since the BCC is not able to report a channel failure, this information is taken from the next level.  That is, in the event of an E1 flow crash, only one time slot from this flow can be switched to the backup direction. <br><br>  In the second case, a ring is organized, each multiplexer transmits and receives in two directions.  In the ring, a node is selected, which plays the role of a ring controller - this is a network element that by default breaks the ring, thus excluding the signal turn-around (returning the signal back to the ring).  The ring controller over the service channel sends a special signal to one side and waits for it on the other hand, in case the signal does not return, the controller closes the ring through itself. <br><br>  Switching time to reserve is a fraction of a second.  If you know that the switch will happen now and specially listen to the voice of the speaker at the other end, then you can hear not a big click, and if the subscriber does not know what is happening on the network, then he will most likely not notice anything. <br><br>  Here it should be said that in the event of a power failure, some manufacturers implement electrical signal transit between the equipment's outputs in pairs.  For example: there is a multiplexer with four E1 outputs (1E1, 2E1, 3E1, 4E1), in the case of loss of power to the multiplexer, the relay contacts close the flows connected to outputs 1E1-2E1 and 3E1-4E1.  Thus, the multiplexer can preserve the integrity of the ring even in the event of a power outage. <br><br><h5>  Why all the things described above are needed in the age of victory of packet-switched networks? </h5><br>  Well, first of all, the packet-switched network has not yet won.  At the moment, equipment with dynamic circuit switching (PBX) is actively being replaced by packet-switched equipment.  But on highways, equipment with static circuit switching reigns, and taking into account the advantages that will be described below, it will be very difficult to force out their packet-switched networks, at least in their current implementation. <br><br>  If you imagine a packet-switched network as a highway, where the traffic controller stands at the intersections and tells you where to go on the basis of the packet header, or if there is no traffic controller, copies of cars are created that are moving in all directions at once.  That circuit-switched network will be similar to a network of pipelines connecting, as a rule, no more than two subscribers. <br><br>  From here you can understand the main drawbacks of the circuit-switched network: if at the moment the pipeline is not used by the subscriber, then no one else can use the idle pipe anyway;  it is also not possible to dynamically change the diameter of the pipe;  Yes, and pipe there are only certain standard diameters. <br><br>  All of the above is at the same time an advantage of circuit-switched networks: no one can climb into your pipe, either to overhear your traffic, or to clog your pipe with its traffic, that is, you always have guaranteed and secure bandwidth regardless of other clients connected to the same equipment without any add-ons (lanes for public transport - VLAN);  pipes have no intersections - all multiplexers and regenerators for traffic look like pumping stations, and at intersections, unlike pumping stations, even if there are no traffic jams, there is still a delay for header analysis, in circuit-switched systems there is no need to analyze the header to find out where to send information, it is already known in advance. <br><br>  The same circuit-switched equipment that processes similar volumes of traffic is simpler in its device and, accordingly, more reliable: the switch operation logic is arranged, so that no traffic can lead to overload of the multiplexer.  Well, as mentioned above, the switching speed of circuit-switched equipment to the reserve is significantly higher. <br><br>  The only significant drawback of multiplexers at the moment is the price.  Manufacturers of this equipment are focused on large players in the telecommunications market, for which the cost of equipment is not the most important parameter. <br><br><h5>  And in conclusion about the eyes and lasers. </h5><br>  As a rule, in all optical equipment, for the safety of service personnel, manufacturers implement the function of automatic laser quenching.  When the optical signal at the input disappears, the multiplexer turns off the output optical signal (laser) and periodically (usually once a minute) turns it on to check if the line has recovered. <br><br>  Therefore, if you accidentally looked into the output of the multiplexer, and this did not affect your vision, you should not look there a second time. <br><br>  If an extra minute break is a lot for the operator, and for SDH systems it is really a lot, then this function is disabled. </div><p>Source: <a href="https://habr.com/ru/post/178825/">https://habr.com/ru/post/178825/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../178813/index.html">Introducing GStreamer: Introduction</a></li>
<li><a href="../178815/index.html">Chaos within us</a></li>
<li><a href="../178817/index.html">Probability Theory and Anthropogenic Factor</a></li>
<li><a href="../178819/index.html">Xmenu - a small "framework" for building console menus</a></li>
<li><a href="../178823/index.html">MVC model metadata output to dynamic markup</a></li>
<li><a href="../178827/index.html">Tools that we use for team development.</a></li>
<li><a href="../178831/index.html">Quickly squaring numbers from 1 to 100</a></li>
<li><a href="../178833/index.html">How I chose a lightweight PHP framework</a></li>
<li><a href="../178839/index.html">Assembling a Cmake packer or training on cats</a></li>
<li><a href="../178849/index.html">The story of a developer, or shooting at the stars, you will hit the moon</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>