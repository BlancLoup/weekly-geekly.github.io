<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Add SHA-1 and MD5 hashes calculation to the context menu of files</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day! 
 How often do you check downloaded files for hash sum equality? I never. But today, for some reason, I decided to break with this evil prac...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Add SHA-1 and MD5 hashes calculation to the context menu of files</h1><div class="post__text post__text-html js-mediator-article">  Good day! <br>  How often do you check downloaded files for hash sum equality?  I never.  But today, for some reason, I decided to break with this evil practice and make my life more secure. <br>  Agree, the main reason for not comparing the hash sum of a file is laziness.  You need to look for some program, run it, set it on a file, and this is just a lot of action.  How can I simplify this procedure?  I did not think of anything better than adding the option "Calculate hash" in the context menu of the file.  Interested offer a brief instruction. <br><a name="habracut"></a><br><h4>  1. Installing the program </h4><br>  <a href="http://support.microsoft.com/kb/841290">From here, we</a> take File Checksum Integrity Verifier utility, a console utility for calculating and comparing Microsoft MD5 and SHA-1 hashes.  There you can read what kind of animal and what it eats.  The downloaded Windows-KB841290-x86-ENU.exe file can be opened as a zip archive and you can see that it contains two files: fciv.exe itself and ReadMe.txt, which contains help for the utility.  The ReadMe file does not interest us, and fciv.exe needs to be placed in one of the directories specified in the PATH variable in order to call it from the command line without specifying the full path.  I placed in system32.  You can check that the utility is working by setting it from the command line to any file: <br><br>  <code>fciv -md5 C:\test.dat</code> - for calculating MD5 <br>  <code>fciv -sha1 C:\test.dat</code> - to calculate SHA-1 <br><br><h4>  2. Creating a context menu item </h4><br>  To expand the context menu of files you will need a little podshamanit in the registry. <br>  Run regedit.exe, go to HKEY_CLASSES_ROOT \ * - this is the section responsible for the context menu of all file types.  In the shell section we create a subsection with any name (I have this fciv_md5).  In the default setting, write the desired name of the menu item (for example, Compute MD5).  At the created subsection (fciv_md5) we create another subsection with the name command, and in its parameter we write the magic line in the default parameter: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <code>cmd.exe /k fciv -md5 "%1"</code> <br> <br>  The line instructs to run cmd.exe with the <code>fciv -md5 "%1"</code> command and display the result. <br>  To add an item for calculating SHA-1, we perform the same sequence of actions, changing only the names.  The command in this case looks like this: <br><br> <code>cmd.exe /k fciv -sha1 "%1"</code> <br> <br>  It should get something like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cc0/7bd/f4b/cc07bdf4b05f305a184d787251ee03ff.png"><br><br>  All of the above in one file: <br><br><pre> <code class="dos hljs">Windows Registry Editor Version <span class="hljs-number"><span class="hljs-number">5</span></span>.<span class="hljs-number"><span class="hljs-number">00</span></span> [HKEY_CLASSES_ROOT\*\shell\fciv_md5] @="Compute MD5" [HKEY_CLASSES_ROOT\*\shell\fciv_md5\command] @="<span class="hljs-built_in"><span class="hljs-built_in">cmd</span></span>.exe /k fciv -md5 \"%<span class="hljs-number"><span class="hljs-number">1</span></span>\"" [HKEY_CLASSES_ROOT\*\shell\fciv_sha] @="Compute SHA" [HKEY_CLASSES_ROOT\*\shell\fciv_sha\command] @="<span class="hljs-built_in"><span class="hljs-built_in">cmd</span></span>.exe /k fciv -sha1 \"%<span class="hljs-number"><span class="hljs-number">1</span></span>\""</code> </pre><br><h4>  3. Calculate the SHA-1 hash with two mouse clicks: </h4><br>  Time: <br><img src="https://habrastorage.org/getpro/habr/post_images/b74/b74/9f7/b74b749f74b7f3dc65a2dc22cf054e6f.png"><br><br>  Two: <br><img src="https://habrastorage.org/getpro/habr/post_images/a45/496/7d2/a454967d2dc94dbe66047265e4c7b9ed.png"><br><br>  All good and matching hashes! <br><br>  UPD.  As <a href="https://geektimes.ru/users/navion/" class="user_link">navion</a> suggests in the first comment, you can do without installing FCIV and use the built-in utility CertUtil.  In this case, item 1 becomes irrelevant, and the command in regedit changes to: <br>  for MD5: <code>cmd.exe /k CertUtil -hashfile "%1" MD5</code> <br>  for SHA1: <code>cmd.exe /k CertUtil -hashfile "%1" SHA1,</code> <br>  and, in addition, it is possible to calculate the SHA256 hash: <code>cmd.exe /k CertUtil -hashfile "%1" SHA256</code> </div><p>Source: <a href="https://habr.com/ru/post/224303/">https://habr.com/ru/post/224303/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../224291/index.html">MVP for 7 weeks. How it was</a></li>
<li><a href="../224295/index.html">Impressions about attending the CRAFT conference in Budapest (April 23-25) and video presentations</a></li>
<li><a href="../224297/index.html">Development of a commercial electronic device from scratch</a></li>
<li><a href="../224299/index.html">Review article on 3D building technologies</a></li>
<li><a href="../224301/index.html">Work with foreign texts. How to increase the percentage of understanding and learn the language?</a></li>
<li><a href="../224307/index.html">Twitter has transferred the entire base of tweets to six universities since 2006</a></li>
<li><a href="../224311/index.html">Planetariums of all countries unite</a></li>
<li><a href="../224313/index.html">Watch the online broadcast of the DevCon 2014 conference</a></li>
<li><a href="../224317/index.html">Forum avast! cracked</a></li>
<li><a href="../224323/index.html">We invite developers from Krasnoyarsk to take part in the hapathon ‚ÄúForward with Google‚Äù</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>