<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Hakintosh: we deploy macOS Sierra on Intel-PC in detail and clearly</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="READ ME PLEASE  If you CAN'T unpack files on a USB flash drive, please step back from the climat and immediately read the book Computer for Dummies: a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Hakintosh: we deploy macOS Sierra on Intel-PC in detail and clearly</h1><div class="post__text post__text-html js-mediator-article"><div class="spoiler">  <b class="spoiler_title">READ ME PLEASE</b> <div class="spoiler_text"><h4>  If you CAN'T unpack files on a USB flash drive, please step back from the climat and immediately read the book Computer for Dummies: a detailed guide on how to use a PC !!! </h4><br><br>  1. All files are uploaded to MEGA.  Who has problems with it - in the comments perezalili on the torrent. <br>  2. Please do not ask me about installing Macs on laptops.  I ask you to.  You are welcome.  This is a very hemorrhoidal process.  Set yourself a Ubuntu and connect the Mac theme.  The same experience will get <br>  3. I rarely answer Habr√©, write in all questions. <br></div></div><br><br>  This manual / guide / etc is written for those who are too lazy to collect pieces of this or that information about installing "Mac" on a PC, everything is clear and on the shelves. <br><a name="habracut"></a><br>  To begin with, before, in fact, installing the system on a PC, you need to decide whether we need it or not, as the system itself is very specific in terms of installation and configuration, if you, of course, do not have an apple device.  It makes no sense to explain that the deployment of the system, which was not originally planned for desktop PCs, is difficult and you can kill everything from 2 to N hours, depending on the compatibility of hardware. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Now, let's look into what Hackintosh is: the word ‚Äúhackintosh‚Äù was formed from the merger of two words ‚ÄúMacintosh‚Äù and ‚ÄúHack‚Äù, which in essence means ‚Äúcracked mac‚Äù, although there is nothing in common with ‚Äúhacking‚Äù. <br><br>  In this guide, we will consider the creation of an installation flash drive from under Windows (since this is the most popular system among ‚Äúbeginner hackintoshkans‚Äù), installing the system on a blank disk, kernel extensions for your hardware and, in fact, installing and configuring the bootloader (at this very moment and many problems arise) <br><br><div class="spoiler">  <b class="spoiler_title">Machine author:</b> <div class="spoiler_text">  CPU: Intel Core i5 4460 3.2 GHz (Haswell) <br>  Memory: 16 GB Crucial Ballistix Sport <br>  Graphics: MSI GeForce GTX 760 2048MB <br>  Motherboard: Gigabyte GA-H81-S2V (UEFI Bios) <br></div></div><br><div class="spoiler">  <b class="spoiler_title">ACHTUNG</b> <div class="spoiler_text">  The author DOES NOT WARRANT the performance of the system at the same level as his.  The system works on different machines in different ways and you do not need to blame the author for the "curved instruction" <br></div></div><br>  I also want to note that in this article, the work goes with NVidia video cards and UEFI BIOS. <br><br>  Well, let's go. <br><cut></cut><br><h2>  Step 1. Evaluation and analysis of iron </h2><br>  Yes, despite the fact that Hakintosh somehow runs on almost any configuration, he always does it in different ways.  Therefore, we should immediately analyze our hardware. <br><br><h3>  Processors </h3><br>  So, let's start with the fact that the <b>system WILL NOT work</b> on the machines on AMD processors (the very death state of agony, in which it will arrive, is very difficult to call ‚Äúwork‚Äù).  Yes, in fact, you can put a custom kernel, reflash it, and so on, but it makes sense to reinvent the bicycle from the sticks, if one way or another it will break.  The system rises without any problems on Intel processors, starting with Core i3 (we are talking specifically about macOS Sierra 10.12, previous releases can also be installed on Core 2 Duo and Pentium processors).  In my case, the i5 4460 stone fell out (4 cores, 4 streams, turbo-boost to 3.4 GHz). <br><br><div class="spoiler">  <b class="spoiler_title">ACHTUNG 2</b> <div class="spoiler_text">  There are problems on socket 2011-3 processors, in particular on the X99 chipset.  Usually manifested due to too large bells and whistles of the motherboard. </div></div><br><h3>  Video Cards </h3><br>  Next, we determine the graphics.  If you use Intel's integrated graphics (in my case, this is the HD4600), then you will most likely need a separate ‚Äúfactory‚Äù graphics (although they can get started natively). <br><br><div class="spoiler">  <b class="spoiler_title">List of supported Intel Graphics Graphics</b> <div class="spoiler_text">  Intel HD 3000 <br>  Intel HD 4000 <br>  Intel HD 4600 (laptops) <br>  Intel HD 5000 <br></div></div><br>  Radeons (AMD) are turned on, but again with a bang.  For example, new cards (RX-4 **), as well as the well-known R9 380 or R9 380x can simply display the download on a black screen. <br><br><div class="spoiler">  <b class="spoiler_title">List of precisely supported AMD cards</b> <div class="spoiler_text">  Radeon HD 4000 series <br>  Radeon HD 5000 series <br>  Radeon HD 6000 series (Desirable 6600 and 6800) <br>  Radeon HD 7000 series (Desirable 7700, 7800, and 7900) <br>  Radeon R9 200 series (R9 290 will not start) <br>  Radeon R9 300 series (There may be problems with the R9 380. I haven‚Äôt personally checked, but judging by the reviews on Reddit, <b>there are</b> problems with these cards) <br></div></div><br>  In this manual, we will not consider the AMD graphics factory, since it all boils down to framebuffer patches and Device ID substitutions in the bootloader (which is individual for each).  Read more about AMD cards here: <a href="https://www.tonymacx86.com/threads/radeon-compatibility-guide-ati-amd-graphics-cards.171291/">tyk</a> (English). <br><br>  Quite another thing is with the cards from NVidia.  Plant almost everything, except for some very talented.  <s>Problems are observed in the 10th series, but, most likely, they will not be soon.</s> Already all the rules.  On GTX cards, graphics start up with half a pint, GT release cards are also not lagging behind, although there are some exceptions. <br><br><div class="spoiler">  <b class="spoiler_title">List of NVidia work cards</b> <div class="spoiler_text">  Geforce 7000 series <br>  Geforce 8000 series <br>  Geforce 9000 series <br>  Geforce 200 series <br>  Geforce 400 series <br>  Geforce 500 series <br>  Geforce 600 series <br>  Geforce 700 series <br>  Geforce 900 series <br>  <b>UPD 14.05 Geforce GTX 1000 Series</b> <br></div></div><br>  More than sure that you will find your card in the list. <br><br><h3>  Network Controller </h3><br>  I think you do not need to chew on how you can determine your network card ... <br><br><div class="spoiler">  <b class="spoiler_title">Newbie guide</b> <div class="spoiler_text">  Open Task Manager ‚Üí Performance tab ‚Üí Ethernet (Windows 10); network black is in big black letters there. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ba3/613/ca0/ba3613ca080257bfe7d0a727ebad5544.jpg" alt="image"><br><br>  By the way, you can still see the BIOS <br></div></div><br>  Anyway, we will not dwell on this in detail.  The network card in any case will have to start, so just give a list of supported network cards. <br><br><div class="spoiler">  <b class="spoiler_title">Network cards</b> <div class="spoiler_text"><h4>  Intel Gigabit </h4><br>  5 Series - 82578LM / 82578LC / 82578DM / 82578DC <br>  6 and 7 Series - 82579LM / 82579V <br>  8 and 9 Series - I217LM / I217V / I218LM / I218V / I218LM2 / I218V2 / I218LM3 <br><br><h4>  Realtek </h4><br>  RTL8111, 8168, 8101E, 8102E, 8131E, 8169, 8110SC, 8169SC <br>  RTL8111 / 8168 B / C / D / E / F / G <br>  RTL8101E / 8102E / 8102E / 8103E / 8103E / 8103E / 8401E / 8105E / 8402 / 8106E / 8106EUS <br>  RTL8105 / 8111E / 8111F / 8136 / 8168E / 8168F <br><br><h4>  Atheros </h4><br>  AR8121, 8113, 8114, 8131, 8151, 8161, 8171, 8132,8151, 8152, 8162, 8172 <br>  AR816x, AR817x supported <br><br><h4>  Broadcom </h4><br>  BCM5722, 5752, 5754, 5754M, 5755, 5755M, 5761, 5761e, 57780, 57781, 57785.5784M, 5787, 5787M, 5906, 5906M, 57788, 5784M <br><br><h4>  Marvell </h4><br>  88E8035, 88E8036, 88E8038, 88E8039, 88E8056, 88E8001 <br><br><h4>  Killer </h4><br>  E2200 </div></div><br><h3>  Memory </h3><br>  There are no restrictions.  The system runs on two gigabytes.  Recommended 4. Author recommends 8. <br><br>  With iron, in fact, sorted out.  If at this stage you do not change your mind, go ahead. <br><br><h2>  Step 2. Make a bootable USB flash drive and deploy the installer to it. </h2><br>  So, here we come to the practice.  Let me remind you that we are doing all this from under Windows.  Immediately I say that we will not use images from the rutreker, which are so vehemently advised by <s>people who have everything</s> under H-18.  First we need the BDU (BootDiskUtiliy) utility. <br><br>  A flash drive&gt; 8 GB is required.  Any. <br><br>  Downloading: <a href="">tyk</a> <br><br>  1. Run the utility <br>  2. Destination disk ‚Üí choose our flash drive <br>  3. Format disk <br><br>  Now we wait.  The flash drive will be formatted in Apple HFS and split into two sections, one of which will have the bootloader (CLOVER) installed, and the second will remain clean so that the installer can be deployed there. <br><br>  After the executed manipulations we get approximately the following picture: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f23/ce7/334/f23ce7334c39676bfa33e78f71ff92bf.png" alt="image"></div><br>  Next, you need to deploy the installer to the second section.  We also do this through the BDU utility.  However, the question is where to get the image.  Option two: take ready, already unpacked, or personally get it from Install Mac OS Sierra.app from the AppStore.  Since the second method requires a lot of time, and look for this .app itself for a very long time, we will use the first one.  Craftsmen have already prepared ready-made HFS files for this utility, have extracted them from .app for us.  All we need is to download it (the image weighs almost 5 gigs, so you can just put it on download).  Actually, download macOS 10.12 Sierra <a href="https://mega.nz/">from here</a> . <br><br>  Downloaded. <br><br>  1. We get from the archive HFS Partition File (HFS +), a file with the extension <i>.hfs</i> . <br>  2. In the BDU "Destination disk" utility window, select Part 2 of our broken flash drive. <br>  3. Open the "Restore partiton". <br>  4. Search and select our * .hfs file.  <b>Please note that it should be no more than PART 2 section</b> . <br>  5. We are waiting for its unpacking. <br>  That's all, the installer on the flash drive is unpacked and ready to go. <br><br>  Now we need some files for your system.  Everything I need is collected in this archive.  I will explain later what and for what. <br><br>  ‚Üí <a href="https://mega.nz/"><b>Download</b></a> <br><br>  You will also need this kexte, download it too: <a href="">tyk</a> .  We unpack the folder from the archive into the root of the section with Clover, and the kext into the folder that we unpacked.  All is ready.  The flash drive is made.  Go ahead. <br><br><h3>  Step 3. Install macOS Sierra on Intel-PC </h3><br>  We check that the flash drive is inserted into port 2.0.  Reboot, go in the BIOS.  Let me remind you that the BIOS we have - UEFI.  Disable virtualization (Intel Virtualization).  In the boot priority (BOOT) we specify our flash drive.  <b>Make sure that it will be loaded exactly in UEFI mode.</b>  Save and apply settings, reboot.  We fall into the Clover'a menu. <br><br>  Clover ("Clover") - the hackintosh bootloader, as well as its installer. <br><br>  Press the down arrow until we get to the Options menu.  Press Enter.  All we need here is this line: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/90d/85d/135/90d85d135944f49e6e8cef4d426c2a90.png" alt="image"><br><br>  We register the following in it: <br><br><pre><code class="hljs dos">kext-dev-<span class="hljs-built_in"><span class="hljs-built_in">mode</span></span>=<span class="hljs-number"><span class="hljs-number">1</span></span> rootless=<span class="hljs-number"><span class="hljs-number">0</span></span> -v npci=<span class="hljs-number"><span class="hljs-number">0</span></span>x2000 nv_disable=<span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br>  Let me explain what each of these arguments do: <br><br><blockquote>  <code>kext-dev-mode=1</code> - required arg, without which the hack will not start.  Allows you to load into the system cakes (Initially, FakeSMC.kext). <br>  <code>rootless=0</code> disables SIP (System Integrity Protection).  Required arg. <br>  <code>-v</code> - "Verbose mode".  Instead of a beautiful apple, we will see a ‚Äúconsole‚Äù download so that you can recognize the error, if one appears. <br>  <code>npci=0x2000</code> (or 0x3000, depending on the PCI-e version) - optional.  We warn you to stop loading at the PCI scanning stage.  You can not register. <br>  <code>nv_disable=1</code> - at will.  To avoid artifacts when loading and other debris, disable the graphical shell.  Loaded in native graphics mode in orthodox 144p resolution.  You can not register. </blockquote><br>  Apply arguments by pressing Enter.  Select Boot Mac OS Sierra from OS X Base System.  And so, went to my dear download.  Immediately analyze some errors: still waiting for root device - the IDE controller does not have time to connect. <br><br><div class="spoiler">  <b class="spoiler_title">Fix</b> <div class="spoiler_text">  Reconnect the USB flash drive to another 2.0 port, boot with the following arguments: <br> <code>kext-dev-mode=1 rootless=0 cpus=1 npci=0x2000 -v UseKernelCache=No</code> <br> </div></div><br>  Missing Bluetooth controller transport - the video card did not turn on, or FakeSMC.kext did not get stuck.  Check that there is FakeSMC.kext in the kexts / other folder.  Sinezub has nothing to do with it. <br><br><div class="spoiler">  <b class="spoiler_title">Fix</b> <div class="spoiler_text">  Load up like this: <br><br> <code>kext-dev-mode=1 rootless=0 -v npci=0x2000</code> <br>  Or so: <br> <code>kext-dev-mode=1 rootless=0 -v -x npci=0x2000</code> <br> </div></div><br>  If such errors still remain, then we try to load as follows: <br><br><pre> <code class="hljs dos">kext-dev-<span class="hljs-built_in"><span class="hljs-built_in">mode</span></span>=<span class="hljs-number"><span class="hljs-number">1</span></span> rootless=<span class="hljs-number"><span class="hljs-number">0</span></span> -v npci=<span class="hljs-number"><span class="hljs-number">0</span></span>x3000 darkwake=<span class="hljs-number"><span class="hljs-number">0</span></span> nv_disable=<span class="hljs-number"><span class="hljs-number">1</span></span> cpus=<span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br>  In other cases, only Google will help, although these fixes should solve these problems. <br><br>  We wait.  At some points may hang.  If it hangs more than a minute - reboot.  Should help in some cases. <br><br>  And here we are, in fact, in the installer.  Choose a language and click on the arrow.  There will be a loading of the language pack (it may hang for a minute).  Now open Utilities&gt; Disk Utility, we need to format the disk under macOS.  Select the desired disk, click "Erase."  For convenience, we call the new disc ‚ÄúMacintosh HD‚Äù.  We format, close the disk utility.  Next, select the disk on which we will install the system (in our case, Macintosh HD), install. <br><br>  Installation takes from 15 to 30 minutes, it all depends on the speed of writing to disk.  After installation, the system will offer us to set up an Internet connection - skip, we will do this later.  We do the user.  Done, we are in the system.  Rather, in its stump.  While we still do not work.  If you restart the machine, it will be impossible to get into the system (due to the absence of a bootloader). <br><br><div class="spoiler">  <b class="spoiler_title">Fix</b> <div class="spoiler_text">  If the computer is still rebooted or out, then you can choose to boot from a flash drive, then select ‚ÄúBoot macOS Sierra from Macintosh HD‚Äù in the clover menu, while not forgetting to set the boot arguments in the options menu. </div></div><br>  Go ahead‚Ä¶ <br><br><h2>  Step 4. Basic system setup and installation of cakes </h2><br>  So, here we are in the system.  As long as she can do little, we won‚Äôt go online, the graphics aren‚Äôt working, and in general everything looks like something very, very bad.  It needs to be fixed. <br><br>  We will understand what the cakes are. <br><br>  <b>Kext</b> (Kernel Extension) - kernel extensions that launch this or that equipment that is incompatible with the original poppy (for example, from where in the aimak will we find a network card from Realtek or a sound card?).  Here we need them now. <br><br>  To begin, we will need the PostInstall folder, which you unpacked into the CLOVER partition on the bootable USB flash drive.  From there, we need, first of all, the Kext Utility utility, which allows you to install cakes into the system.  Run it, enter the password from the user, wait until we see the inscription "All done". <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/58b/a5f/79c/58ba5f79c43ba6d87da48234fc584ed0.jpg" alt="image"></div><br>  We install the cake on the network card (Network folder, sorted it into folders under each network card), just drag it into the program window.  We are waiting for the ‚ÄúAll done‚Äù message to appear.  Next, go to the CLOVER section of our flash drive, then to kexts, then to Other.  We copy from there FakeSMC.kext to any place (Better to the same PostInstall), then by the same way as the text on the network card, install it.  Also need a box on USB 3.0.  It was in the archive Legacy_13.2_EHC1.kext.zip, which you unpacked in PostInstall.  Install it. <br><br>  Done, we started the Internet, USB and allowed the system to boot at all (FakeSMC.kext simulates the System Management Control chip, which is only present on Apple motherboards. Without this catex, the system simply will not start). <br><br>  Now install the bootloader.  Go to the folder PostInstall ‚Üí Clover_v2.3k_r3949.  There is a * .pkg file, open it. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/270/5f9/b2a/2705f9b2a2c932e2cbe6b60337a21a62.jpg" alt="image"></div><br>  We click to continue, we read info about the loader (I say lies, also click continue).  Next, in the lower left corner click "Configure". <br><br>  For UEFI-boot set the following settings: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5df/892/db3/5df892db3291aa4c0fc742c3730d19ac.jpg" alt="image"></div><br>  We'll talk about Legacy download later, since everything is a bit more complicated there and DSDT will have to be patched. <br>  Click "Install".  Let's go the bootloader installation process. <br>  Done, the bootloader is installed. <br><br><h2>  Step 5. Configure the bootloader </h2><br>  After installation, we get a clean, unconfigured Clover loader, which needs to be slightly configured.  Open Clover Configurator (in the future I do not advise using this program for point editing of the bootloader config). <br><br>  First we need to get to the EFI partition with the loader.  In the left menu, click Mount EFI.  Then click Check partition, a table of all sections will appear.  The partition we need should be on the same partition as the Apple_HFS, it is displayed as EFI EFI.  Click Mount partition.  In the list, select the disk we need (for example, disk0s1).  Please note that there is a bug when you can not see all sections.  Roll the mouse wheel, so you can scroll between sections and select the desired one. <br><br>  Next, click Open Partition.  Open the "folder" with the desired section.  Go to EFI&gt; CLOVER.  Copy plist.config to the PostInstall folder, for convenience.  Also just in case, copy it somewhere else, since the one we just copied will be edited.  And one more for backup.  Copy, open plist.config. <br><br>  We see about the following: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/572/4ef/f47/5724eff47f99cbe4017a35951abbe957.jpg" alt="image"><br><br>  ACPI - Do not touch the fixes, drop (DropOEM) our video card (DropOEM_DSM works when there are two DSDT patches. Therefore, we leave the original autopatch method in the loader, and turn off our, if one appears). <br>  Go to the BOOT section. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f82/e46/205/f82e462059bfd23467fec9edf253d0b1.jpg" alt="image"><br><br>  So, here we should dig.  Arguments expose themselves, depending on the system. <br><br><blockquote>  <code>-v (verbose)</code> is the familiar ‚Äútext‚Äù boot mode.  It is better not to turn it on, but to prescribe manually if necessary. <br>  <code>arch</code> - architecture.  In my case x86_64 <br>  <code>npci</code> is the key already known to us.  Expose if necessary.  I recommend doing the first boot without it, but in Verbose mode. <br>  <code>darkwake</code> - responsible for sleep and hibernation.  It has 7 modes.  If the dream does not start changing hibernatemode in the terminal, then I recommend by trial and error to find the desired darkwake mode. <br>  <code>cpus=1</code> - run using only one kernel.  I do not recommend to choose. <br>  <code>nvda_drv=1</code> - activation of Nvidia's web driver, which we will install later.  Choose if you have nVidia. <br>  <code>nv_disable=1</code> - disable the invisible graphics and launch on the native poppy driver.  It is better not to choose, but manually prescribe if necessary. <br>  <code>kext-dev-mode=1</code> and <code>rootless=0</code> already explained earlier. </blockquote><br>  Go to the right subsection. <br><br><blockquote>  <code>Default Boot Volume</code> - the partition from which the default will begin the selection of the disk to boot.  The default is LastBootedVolume (the last selected partition). <br>  <code>Legacy</code> - Legacy Boot for older versions of Windows and Linux.  Very much depends on the hardware and the construction of BIOS, so several algorithms were developed: <br>  <code>LegacyBiosDefault</code> - for those BIOS UEFI, where there is a protocol LegacyBios. <br>  <code>PBRTest, PBR</code> - PBR Boot options, then just brute force.  In my case, PBR works. <br>  <code>XMPDetection=YES</code> is an important parameter.  Fixes the amount of RAM, slots, dies, frequency and number of channels. <br>  <code>DefaultLoader</code> - if there are several boot loaders on a partition, select the default one.  <b>Should not be empty!</b> <br>  <code>Timeout</code> - time to automatic boot. <br>  <code>Fast</code> - a parameter that skips the selection of a partition and immediately goes to the download <br>  <code>-1 (Timeout -1)</code> - disable autoboot. </blockquote><br>  The CPU section is skipped, the loader itself will pick up the desired values.  Devices are also better to skip if you have nothing to "fake."  Disable Drivers - disable unnecessary drivers on boot.  GUI - customize the appearance of the loader.  I think there is nothing to explain here, there are no special parameters here.  Screen resolution, language and menu theme.  It's simple.  Graphics - graphics settings and injections. <br><br>  <b>Parameter Inject NVidia do not touch!</b>  <b>On launch will be artifacts.</b>  <b>It is designed to run old GT cards</b> <br><br>  Kernel and Kext Patches - patches and kernel customization.  Apple RTC is selected by default.  Better not to touch.  SMBIOS - the most juice, customization and fake "poppy". <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b9a/fb5/352/b9afb5352c2cb3708cb92d53ca25f1bd.jpg" alt="image"><br><br>  To configure the factory information, click on the icon of the magic wand.  Next, select the iMac (If PC) or MacBook (if laptop). <br><br><div class="spoiler">  <b class="spoiler_title">ACHTUNG 3</b> <div class="spoiler_text">  You can also look among the older configs, such as MacMini, or Mac Pro.  Your task is to find the poppy most similar to your iron. </div></div><br>  Do not add anything to the Memory and Slots.  These are purely cosmetic parameters that clover picks up at the loading stage.  Incorrectly set parameters can cause conflicts. <br><br>  <b>WARNING: Nvidia video cards with no policy changes only work on iMac13.1 and iMac14.2 mac models.</b> <br><br>  In AppleGraphicsControl.kext / Contents / PlugIns / AppleGraphicsDevicePolicy.kext / Contents / info.plist fix Config1 to none here: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0ba/248/772/0ba248772f51a4031c2a3598433e6751.jpg" alt="image"></div><br>  Now it should work. <br><br>  Is done.  We don‚Äôt touch anything else, we‚Äôve done the basic settings.  Save our file.  Now we copy it to the CLOVER folder of the EFI section, authorize, replace.  Let me remind you that before that you had to make a backup. <br><br><h2>  Step 6. Installing the graphics driver and first rebooting </h2><br>  Here we are almost there.  Now it remains only to start a video card.  In the PostInstall folder is the WebDriver * .pkg package.  Open it, install it.  Next, it prompts us to reboot.  Reboot. <br><br>  Now make sure that we boot not from the USB flash drive, but <b>from the hard disk in UEFI mode</b> .  Select Boot macOS Sierra from Macintosh HD.  We start. <br><br><div class="spoiler">  <b class="spoiler_title">Note</b> <div class="spoiler_text">  I recommend using the -v option for the first run so that if something goes wrong, you can immediately identify the error.  If the boot loader breaks down and you cannot get into the system, then boot from the USB flash drive, write the necessary keys in the options and load the system into Verbose mode. </div></div><br>  Done, here we are in the system.  In the picture, I approximately showed how the axis will look after all the settings.  Pay attention to how the system understood your "poppy", as well as the frequency of the processor. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a3c/608/f8c/a3c608f8c147229833b53df4c0ad16df.jpg" alt="image"><br><br>  A sure sign of the operation of the nvidia driver is its logo on the taskbar.  I turned it off, by the way, since it interferes, but you can get access to the invisible control panel through the "System Settings ...".  Internet can be checked through Safari.  USB 3.0 is trivially sticking a USB flash drive into port 3.0. <br><br><h2>  Additionally </h2><br><h3>  - Sound </h3><br>  With regard to the sound, the situation is different.  If you have an external sound card, then simply download the drivers for it from the manufacturer‚Äôs website (analog devices, such as mixing consoles, do not require drivers and start up right away).  For the embedded sound card, use one of these cases: <br><br>  <a href="https://sourceforge.net/projects/voodoohda/">VoodoHDA</a> .  Craftsmen have written down instructions for setting it up.  I will not copy it, but just give a link to the <a href="">archive</a> . <br><br>  <b>PS</b> The author recommends moving the kext by hand, however, all this can be done through the Kext Utility. <br><br>  <a href="">AppleHDA</a> <br><br><div class="spoiler">  <b class="spoiler_title">Regards AppleHDA</b> <div class="spoiler_text">  The following conditions must be met in order for it to work: <br><br><ol><li>  Presence of vanilla (pure) AppleHDA.kext cake in the system. </li><li>  Presence of HDEF section in your DSDT (or fix Clover FixHDA_8000-&gt; True) </li><li>  Specify the layout in DSDT (or in the config.plist of Clover Devices-&gt; Audio-&gt; Inject-&gt; 1,2,28 ... etc. Choose from those that are registered for your codec above) </li><li>  Remove <b>ALL</b> patches for sound (if they were in your config.plist) from the KextsToPatch section </li><li>  Remove DummyHDA.kext (if used) </li><li>  If used VoodooHDA.kext - delete.  Also delete AppleHDADisabler.kext and rebuild the cache. </li><li>  Intel HDMI 4000/4600 requires Clover Fix UseIntelHDMI-&gt; True </li></ol><br></div></div><br>  Actually, that's all.  After we get macos Sierra ready for work. <br><br><h2>  <b>UPD on 05/14/2017</b> </h2><br>  - In the comments, kind people reloaded the file from mega to torrent.  This is due to the fact that many have a problem when downloading a file from mega.  I admit honestly, I did not know that Mega has a download speed limit (I use a premium account).  Also, all questions, please write to me in the VC, but first check the comments.  There is a chance that your problem has already been solved there.  Again, I am not responsible for any risk that may be caused to your computer.  Also, I want to stipulate one point that the article is presented solely for educational purposes.  The fact of installing hackintosh on a PC is a gross violation of Apple‚Äôs policy on their system, which is punishable by law.  The author does not call for using MacOS on non-Apple computers and does not encourage changing the source code of the system. <br>  - <b>The end</b> </div><p>Source: <a href="https://habr.com/ru/post/318448/">https://habr.com/ru/post/318448/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../318436/index.html">Anti-virus protection of the enterprise</a></li>
<li><a href="../318438/index.html">Asterisk. Abnormal translation</a></li>
<li><a href="../318440/index.html">How IT professionals work. Dmitry Stolyarov, Technical Director of Flant</a></li>
<li><a href="../318444/index.html">How to become the first in sports programming: ITMO University shares experience. Part 1</a></li>
<li><a href="../318446/index.html">Seattle's voice: talking to Sergey Teplyakov</a></li>
<li><a href="../318450/index.html">The most popular programming languages ‚Äã‚Äã2016</a></li>
<li><a href="../318452/index.html">We deliver a cup of hot coffee to our office with one team of console using TestCafe</a></li>
<li><a href="../318454/index.html">Analysis of the statistical language model from Google - part 1: vector representation of characters</a></li>
<li><a href="../318456/index.html">The history of one bug: the alignment of data on x86</a></li>
<li><a href="../318458/index.html">On a combinatorial problem</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>