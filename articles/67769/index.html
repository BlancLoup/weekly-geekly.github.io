<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Other Java Features</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I continue to translate the source of the first article . More and more obvious things, in spite of this, I nevertheless decided that repetition is no...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Other Java Features</h1><div class="post__text post__text-html js-mediator-article">  I continue to translate the <a href="http://stackoverflow.com/questions/15496/hidden-features-of-java">source of the</a> <a href="http://habrahabr.ru/blogs/java/67483/">first article</a> .  More and more obvious things, in spite of this, I nevertheless decided that repetition is not such a bad thing. <br><br>  And if the source runs out of itself - a call to the <nobr>habra-java-community</nobr> : ‚ÄúDon't be jealous!‚Äù, <nobr>Add</nobr> this list in the comments, share your experience.  For now - a continuation of the <a href="http://habrahabr.ru/blogs/java/67483/">previous article</a> , after editing, dubbing and diluting with your own experience: <br><br><h4>  JDK tools </h4><br>  Almost everyone knows that an impressive number of tools are included in the JDK distribution.  However, in everyday work, I think many people do not use it except java, javac, jar.  What else can be taken from the bin folder: <br><a name="habracut"></a><br><ul><li>  <a href="http://java.sun.com/javase/6/docs/technotes/tools/share/jstack.html">jstack</a> - allows you to make a thread dump for any java application by its PID. </li><li>  <a href="https://visualvm.dev.java.net/features.html">jvisualvm</a> is a new (1.6_07 +) graphical shell for monitoring, profiling. </li><li>  <a href="http://java.sun.com/javase/6/docs/technotes/tools/windows/javap.html">javap</a> - <s>decompiler</s> disassembler, including can show <a href="http://java.sun.com/docs/books/jvms/second_edition/html/VMSpecTOC.doc.html">jvm instructions</a> . </li><li>  The rest: <a href="http://java.sun.com/javase/6/docs/technotes/tools/">java.sun.com/javase/6/docs/technotes/tools</a> </li></ul><br><h4>  Java VM </h4><br>  JVM can run code compiled into byte code from other programming languages ‚Äã‚Äãsuch as <a href="http://www.jython.org/">Jython</a> , <a href="http://jruby.codehaus.org/">JRuby</a> , <a href="http://groovy.codehaus.org/">Groovy</a> , <a href="http://www.scala-lang.org/">Scala</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  System tray </h4><br>  Starting with Java 1.6, you can add an icon to the system tray: <a href="http://java.sun.com/docs/books/tutorial/uiswing/misc/systemtray.html">http://java.sun.com/docs/books/tutorial/uiswing/misc/systemtray.</a>  <a href="http://java.sun.com/docs/books/tutorial/uiswing/misc/systemtray.html"><acronym>html</acronym></a> <br><br><h4>  Dynamic proxies </h4><br>  <a href="http://java.sun.com/j2se/1.3/docs/guide/reflection/proxy.html">Dynamic proxies</a> added in 1.3 allow you to define a new type at runtime (runtime) using the specified interface. <br><br><h4>  Do you know that: </h4><br><br>  - Fast copying of arrays is possible via the native method System.arraycopy (...) <br><br>  - This keyword allows access to fields and methods from an inner class.  For example, in the case where the inner class has a method or field with the same name: OuterClass.this.methodName () or OuterClass.this.fieldName. <br>  * Only in the case of a non-static inner class - <a href="https://habrahabr.ru/users/gribozavr/" class="user_link">gribozavr</a> <br><br>  - Java 1.5 received variable-length argument lists: <br><blockquote><code><font color="black"><font color="#0000ff">public</font> <font color="#0000ff">void</font> foo( <font color="#2B91AF">String</font> ... bars) { <br> <font color="#0000ff">for</font> ( <font color="#2B91AF">String</font> bar: bars) <br> System. <font color="#0000ff">out</font> .println(bar); <br> }</font></code> </blockquote> <br><br>  - checking for null before instanceof is optional: <br>  if (null! = aObject &amp;&amp; aObject instanceof String) { <br>  same as <br>  if (aObject instanceof String) <br><br>  - There is a serialization magic serialization, but not an Externalizable object via private methods writeObject, readObject <br>  <a href="http://java.sun.com/developer/technicalArticles/Programming/serialization/">java.sun.com/developer/technicalArticles/Programming/serialization</a> <br><br>  - Classes for primitives can be obtained using int.class, float.class ... <br><br>  - The class String is the only type, besides the primitives, for which + and + = work.  In this case, the str = str + "1" construction is replaced by the compiler by str = new StringBuffer (str) .append ("1"). ToString ().  Are you still concatenating strings in a loop? <br>  * Starting with Java 1.5, <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/StringBuilder.html">StringBuilder</a> is used - <a href="https://habrahabr.ru/users/malkolm/" class="user_link">malkolm</a> <br><br>  - C-style sprintf is possible in java, try <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Formatter.html">String.format ()</a> . <br><blockquote> <code><font color="black"><font color="#2B91AF">String</font> w = ¬´world¬ª; <br> <font color="#2B91AF">String</font> s = <font color="#2B91AF">String</font> .format(¬´Hello %s %d¬ª, w, 3);</font></code> </blockquote> <br><br>  - For float i = Float.NaN - the expression i == i is false <br>  * This is an IEEE 754 requirement. You can check double for NaN using Double.isNan () - <a href="https://habrahabr.ru/users/gribozavr/" class="user_link">gribozavr</a> <br><br><h4>  Semi-closed constructors </h4><br><br>  Source: <a href="http://javaekspert.blogspot.com/2007/11/semi-private-constructors.html">javaekspert.blogspot.com/2007/11/semi-private-constructors.html</a> <br><br>  It is often necessary to make the creation of an object inaccessible to other classes (for example, when using factories) or to close access to some constructors, declaring them to be the ‚Äúprivate property‚Äù of the object.  However, you have to step on your own rake during unit testing - it is impossible to create an object. <br><br>  Half-closed constructors, the use of protected constructors and anonymous classes come to the rescue.  Example: <br>  If the User class wants to hide one of its User constructors (int id), leaving only User (String name) available - that is its right.  However, declaring a class as follows (it is protected, not private): <br><br><blockquote> <code><font color="black"><font color="#0000ff">public</font> <font color="#0000ff">class</font> User { <font color="#008000">//   User  final</font> <br> <font color="#0000ff">protected</font> User( <font color="#0000ff">int</font> id) {‚Ä¶} <br> <font color="#0000ff">public</font> User( <font color="#2B91AF">String</font> name) { <br> <font color="#0000ff">this</font> (getId(name)); <br> } <br> }</font></code> </blockquote> <br><br>  we leave a loophole for subsequent use of the first constructor, namely: <br><br><blockquote> <code><font color="black"><font color="#0000ff">public</font> <font color="#0000ff">class</font> TestUser { <br> <font color="#0000ff">public</font> <font color="#0000ff">void</font> testUserIdConstructor() { <br> User hack = <font color="#0000ff">new</font> User(1) {}; <br> } <br> }</font></code> </blockquote> <br><br>  And the hack variable was assigned an object of an anonymous class inherited from User, in addition, by calling the User constructor (1). <br><br><h4>  Self-bound generics </h4><br><br>  class SelfBounded &lt;T extends SelfBounded&gt; { <br>  } <br><br>  From Bruce Ekkel's staty <a href="http://www.artima.com/weblogs/viewpost.jsp%3Fthread%3D136394">www.artima.com/weblogs/viewpost.jsp?thread=136394</a> <br>  In the load HUGE FAQ for generics - all that you were afraid to ask: <a href="http://www.angelikalanger.com/GenericsFAQ/FAQSections/TypeParameters.html">www.angelikalanger.com/GenericsFAQ/FAQSections/TypeParameters.html</a> <br><br><h4>  And again about enum </h4><br><br>  Enum can implement interface <br><br><blockquote> <code><font color="black"><font color="#0000ff">public</font> <font color="#0000ff">interface</font> Room { <br> <font color="#0000ff">public</font> Room north(); <br> <font color="#0000ff">public</font> Room south(); <br> <font color="#0000ff">public</font> Room east(); <br> <font color="#0000ff">public</font> Room west(); <br> } <br> <br> <font color="#0000ff">public</font> <font color="#0000ff">enum</font> Rooms implements Room { <br> FIRST { <br> <font color="#0000ff">public</font> Room north() { <br> <font color="#0000ff">return</font> SECOND; <br> } <br> }, <br> SECOND { <br> <font color="#0000ff">public</font> Room south() { <br> <font color="#0000ff">return</font> FIRST; <br> } <br> } <br> <br> <font color="#0000ff">public</font> Room north() { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } <br> <font color="#0000ff">public</font> Room south() { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } <br> <font color="#0000ff">public</font> Room east() { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } <br> <font color="#0000ff">public</font> Room west() { <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; } <br> }</font></code> </blockquote> <br><br><h4>  Black magic </h4><br>  Another way to call it a language does not turn.  Drumroll‚Ä¶ <br>  The sun.misc.Unsafe class allows you to implement direct memory management in your application.  You can: <br><ol><li>  Create an object without calling a constructor </li><li>  Throw Exception without specifying this Exception in the throws list. </li><li>  Allocate, free, copy blocks of memory </li><li>  Take and return object monitor (lock / unlock) without synchronized declaration </li><li>  <s>Declare a class from the bytecode</s> - this item grieves people working with custom ClassLoader </li></ol><br>  Why is this all I want to ask?  I do not find the answer, and I think the pampering with this class can kill the JVM <br><br>  A source - <br>  <a href="http://www.docjar.com/html/api/ClassLib/Common/sun/misc/Unsafe.java.html">http://www.docjar.com/html/api/ClassLib/Common/sun/misc/Unsafe.java.</a>  <a href="http://www.docjar.com/html/api/ClassLib/Common/sun/misc/Unsafe.java.html"><acronym>html</acronym></a> <br>  and another interesting link, already in Russian - <br>  <a href="http://wasm.ru/article.php%3Farticle%3Dunsjav1">http://wasm.ru/article.php?article=unsjav1</a> <br>  <a href="http://wasm.ru/article.php%3Farticle%3Dunsafe_ii">http://wasm.ru/article.php?article=unsafe_ii</a> <br>  use in open source: <br>  <a href="http://www.google.com/codesearch%3Fhl%3Den%26start%3D10%26sa%3DN%26q%3D%2522import%2Bsun.misc.Unsafe%2522%2Blang:java">google code search</a> <br><br><blockquote>  <font color="gray">* Source code was highlighted with <a href="http://virtser.net/blog/post/source-code-highlighter.aspx"><font color="gray">Source Code Highlighter</font></a> .</font> </blockquote></div><p>Source: <a href="https://habr.com/ru/post/67769/">https://habr.com/ru/post/67769/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../67751/index.html">Cycle of articles on the basics of Software Configuration Management</a></li>
<li><a href="../67754/index.html">The new 15th issue of the electronic journal "ITFormat"</a></li>
<li><a href="../67755/index.html">True or lovelace, chimp or gorilla, who are you?</a></li>
<li><a href="../67761/index.html">6 simple ways to increase your freelance productivity</a></li>
<li><a href="../67763/index.html">Bookshelf: Java</a></li>
<li><a href="../67772/index.html">Mobile Internet in Belarus. What we have</a></li>
<li><a href="../67773/index.html">There is an opportunity to win a personal license for R #</a></li>
<li><a href="../67774/index.html">Never say the word ... or check-in in 2 clicks</a></li>
<li><a href="../67775/index.html">Future branding</a></li>
<li><a href="../67777/index.html">Java in Russian. Part Two: Internet Resources</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>