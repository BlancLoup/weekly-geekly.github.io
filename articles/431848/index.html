<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>As I wrote the biggest script for Altium Designer</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="15680 lines, 800 053 characters - exactly this size today is my script created inside Altium Designer - a system for developing printed circuit boards...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>As I wrote the biggest script for Altium Designer</h1><div class="post__text post__text-html js-mediator-article">  15680 lines, 800 053 characters - exactly this size today is my script created inside Altium Designer - a system for developing printed circuit boards. <br><br><img src="https://habrastorage.org/webt/gn/r8/hj/gnr8hjasogum1gkcjwwceh-ce8s.png" alt="image"><br><a name="habracut"></a><br><h2>  Start </h2><br>  It was 2014, I worked as a design engineer, developed printed circuit boards.  Military acceptance, design of the full design documentation (CD), normative control ESKD - all this makes Australian-Chinese-American software, which is the Altium system, tremble.  Since they are alien to the Soviet guests, the old instructions and standards for the design of drawings.  One employee of our department sometimes spent the whole work shift, so that the drawing of the board satisfies all the rules and regulations on the design of the design documentation. <br>  Now it is done in 10 minutes. <br><br>  I decided that it was possible to simplify life for myself and for another ten people at work.  I started to understand, I found that there is an open API, I began to look at examples and voila, my first script for Altium already draws a line on the board - there is no limit to joy. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Little by little I was expanding my programming knowledge, because before that I hadn‚Äôt come across much of it, I remember a pendulum in the university I wrote for a semester and that's it. <br><br><h2>  First interface </h2><br>  It got to the point that the interface had to be done, at the very beginning it was: <br><br><img src="https://habrastorage.org/webt/9z/8u/jg/9z8ujgbx3wq3h6z0l3-qykmiqru.jpeg" alt="image"><br><br>  This version already knew how to draw dimensions, callouts with arrows. <br><br>  It should be understood that there was no specific explanation in the documentation, no one had any experience in using functions from the API either, only some githaba <a href="https://github.com/Altium-Designer-addons/scripts-libraries">scripts</a> and standard altiumovskie.  Description on the wiki to this day from the category: <br><br><pre><code class="plaintext hljs">SetState_Enabled method (IPCB_Primitive interface) Syntax Procedure SetState_Enabled (Value : Boolean); Description Example See also IPCB_Primitive interface</code> </pre> <br>  And the whole description, although by trial and error it was possible to determine how it works. <br><br>  Every new time, the introduction of new functions was enjoyable, because when you see how people use your work and everything turns out - that‚Äôs not why programs are being created.  At this stage, the time for drawing up drawings has already been reduced almost by half. <br><br><h2>  Development </h2><br>  The next version already looked like this: <br><br><img src="https://habrastorage.org/webt/st/le/on/stleonhnmrxreegets8jue8vngw.jpeg" alt="image"><br><br>  She already knew how to insert sheets into the board, to stroke polygons for a drawing, to insert a grid and other elements for a drawing. <br><br>  The main problem was that the Altium development environment is a system for developing printed circuit boards.  It does not have enough tools to design a CD, and even more so according to Russian standards.  Basically, scripting expanded the standard environment toolkit so that you could also develop a CD and print it out. <br><br>  For example, I inserted the insertion of sheets of different formats directly into the code, did not begin to make separate files.  I applied excel tables for this, inserted a format file with my hands into the pcb file, selected all the properties of all lines, their coordinates, widths, coordinates of texts, etc.  and put it all in the usual array.  Then, the script in turn created each of the formatting lines in the board file itself.  And so for each sheet of all formats. <br><br><h2>  Our days </h2><br>  Now the program looks like this: <br><br><img src="https://habrastorage.org/webt/d5/t-/h2/d5t-h2pw8u7pak-tmo6qpntrdqw.png" alt="image"><br><br><img src="https://habrastorage.org/webt/mp/pg/ze/mppgzexoeu6qnnvpdnqj9ebfu-e.png" alt="image"><br><br>  I have never been a designer, sometimes I had to sculpt buttons, I looked at the most famous CAD systems, how menus, settings, drop-down buttons and so on were made there. <br><br><div class="spoiler">  <b class="spoiler_title">Here is an example of the script itself.</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/oo/mj/ho/oomjhojolqjabtyjlpg-huftcau.gif" alt="image"><br><br><img src="https://habrastorage.org/webt/y0/tp/ho/y0tpho_54yp0fe3zztiuxbtq2xm.gif" alt="image"><br></div></div><br>  Total on board: <br><br><ul><li>  More than 50 settings, saving them inside the board file </li><li>  Updating drawings when making changes to the board </li><li>  Automatic insertion of species in the center of sheets </li><li>  PDF formation in one button </li><li>  Editing of sizes with recalculation of deviations on the fly </li><li>  Radial grid, 4-sided grid, risks, custom step </li><li>  Saving sketches in txt format for further use </li></ul><br>  and much more. <br><br>  A lot of nerves, strength, patience, sleepless nights - spent.  We make drawings at work - priceless. <br><br>  The script is written by me alone for the fourth year, and without the use of the gita, dark themes and other things).  Only pascal, only hardcore.  Thank you for listening to the end, I will be glad to communicate! <br><br>  <a href="http://www.draftmaker.ru/101_example.PcbDoc">An example of a decorated drawing inside the PCB</a> <br><br>  <a href="">Version of the program to try</a> </div><p>Source: <a href="https://habr.com/ru/post/431848/">https://habr.com/ru/post/431848/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../431838/index.html">3CX WebMeeting Video Conferencing - The Complete Guide</a></li>
<li><a href="../431840/index.html">Created the first modular vinyl player printed on a 3D printer; a DIY kit is planned to be mass-produced.</a></li>
<li><a href="../431842/index.html">0xc00007b or installation of drivers from under the program</a></li>
<li><a href="../431844/index.html">Swift Heroes 2018. How It Was</a></li>
<li><a href="../431846/index.html">GeekBrains begins to prepare full-stack developers in Python</a></li>
<li><a href="../431852/index.html">Hack 50,000 network printers and print custom text? There is nothing easier</a></li>
<li><a href="../431854/index.html">Data consistency in high load systems</a></li>
<li><a href="../431856/index.html">Unity Editor Extension via the Editor Window, Scriptable Object and Custom Editor</a></li>
<li><a href="../431858/index.html">Mitap Sberteha in Rostov-on-Don</a></li>
<li><a href="../431862/index.html">Mitap Sberteha in Yekaterinburg</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>