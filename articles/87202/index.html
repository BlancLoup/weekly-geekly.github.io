<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Development by testing with Zend Framework and PHPUnit</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="After spending the past few days studying the Zend Framework documentation, I was pleasantly surprised by the new functionality that was added to the ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Development by testing with Zend Framework and PHPUnit</h1><div class="post__text post__text-html js-mediator-article">  After spending the past few days studying the Zend Framework documentation, I was pleasantly surprised by the new functionality that was added to the latest version of this Web application framework. <br>  My first thought was the realization of the speed with which the PHP technology matures. <br>  The ease of sharing the Zend Framework and PHPUnit is, in my opinion, one of the most significant achievements. <br><br><a name="habracut"></a><br>  I've already done enough with PHPUnit to understand how powerful, customizable and easy it is to <br>  using the tool (it belongs to <a href="http://en.wikipedia.org/wiki/XUnit">the xUnit family of testing frameworks</a> ), but the most remarkable thing is that Zend Framework is fully ready to work with PHPUnit (in my opinion such readiness will allow to choose Zend Framework for any PHP project, but this is a topic for another post. ..). <br><br>  Here's what we know about PHPUnit: You can not only unit-test your PHP classes, but also <a href="http://www.smartyit.ru/php/85">create dependencies</a> between tests, <a href="http://www.smartyit.ru/php/85">use dataProviders</a> to increase the sample size of test input parameters, test <a href="http://www.smartyit.ru/php/85">exceptions</a> and <a href="http://www.smartyit.ru/php/85">errors</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In addition, PHPUnit allows you to do the following: <a href="http://www.smartyit.ru/php/87">organize tests</a> , <a href="http://www.phpunit.de/manual/current/en/database.html">provide database testing</a> , perform double testing to cover source code, and, moreover, can be used for <a href="http://www.phpunit.de/manual/current/en/other-uses-for-tests.html">quick documentation</a> . <br>  In conclusion, PHPUnit works very well in conjunction with Selenium, Apache Ant, Apache Maven, Phing, Atlassian Bamboo, CruiseControl, and other environments. <br><br>  I can only refer to the <a href="http://www.phpunit.de/manual/3.4/en/index.html">documentation for PHPUnit</a> and you can return to the main topic of the article. <br><br>  According to the structure of the Zend Framework project directories, it is clearly seen that the authors of the Zend Framework have always paid great attention to the ‚Äúdevelopment through testing‚Äù methodology.  The official documentation, reference materials, literature emphasize the place of the test catalog in the overall project structure.  You can talk about the <em>"Zend way of PHP development"</em> ( <em>"Zend way of PHP development"</em> ). <br>  For a more detailed study, in the Zend_Test package, we find the Zend_Test_PHPUnit and Zend_Test_PHPUnit_Db classes that are inherited from PHPUnit. <br><br>  <strong>Zend_Test_PHPUnit</strong> provides classes that can be used to test the framework‚Äôs MVC classes. <br>  In the most typical case, the class for testing the controller will be the successor of Zend_Test_PHPUnit_ControllerTestCase. <br>  Below is an example class for testing the controller. <br><br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">class</font> UserControllerTest extends Zend_Test_PHPUnit_ControllerTestCase&lt;br&gt;{&lt;br&gt; <font color="#0000ff">public</font> function setUp()&lt;br&gt;    {&lt;br&gt;        $ <font color="#0000ff">this</font> -&gt;bootstrap = array($ <font color="#0000ff">this</font> , <font color="#A31515">'appBootstrap'</font> );&lt;br&gt;        parent::setUp();&lt;br&gt;    }&lt;br&gt;&lt;br&gt; <font color="#0000ff">public</font> function appBootstrap()&lt;br&gt;    {&lt;br&gt;        $ <font color="#0000ff">this</font> -&gt;frontController&lt;br&gt;             -&gt;registerPlugin( <font color="#0000ff">new</font> Bugapp_Plugin_Initialize( <font color="#A31515">'development'</font> ));&lt;br&gt;    }&lt;br&gt;&lt;br&gt; <font color="#0000ff">public</font> function testCallWithoutActionShouldPullFromIndexAction()&lt;br&gt;    {&lt;br&gt;        $ <font color="#0000ff">this</font> -&gt;dispatch( <font color="#A31515">'/user'</font> );&lt;br&gt;        $ <font color="#0000ff">this</font> -&gt;assertController( <font color="#A31515">'user'</font> );&lt;br&gt;        $ <font color="#0000ff">this</font> -&gt;assertAction( <font color="#A31515">'index'</font> );&lt;br&gt;    }&lt;br&gt;&lt;br&gt; <font color="#0000ff">public</font> function testIndexActionShouldContainLoginForm()&lt;br&gt;    {&lt;br&gt;        $ <font color="#0000ff">this</font> -&gt;dispatch( <font color="#A31515">'/user'</font> );&lt;br&gt;        $ <font color="#0000ff">this</font> -&gt;assertAction( <font color="#A31515">'index'</font> );&lt;br&gt;        $ <font color="#0000ff">this</font> -&gt;assertQueryCount( <font color="#A31515">'form#loginForm'</font> , 1);&lt;br&gt;    }&lt;br&gt;&lt;br&gt; <font color="#0000ff">public</font> function testValidLoginShouldGoToProfilePage()&lt;br&gt;    {&lt;br&gt;        $ <font color="#0000ff">this</font> -&gt;request-&gt;setMethod( <font color="#A31515">'POST'</font> )&lt;br&gt;             -&gt;setPost(array(&lt;br&gt; <font color="#A31515">'username'</font> =&gt; <font color="#A31515">'foobar'</font> ,&lt;br&gt; <font color="#A31515">'password'</font> =&gt; <font color="#A31515">'foobar'</font> &lt;br&gt;             ));&lt;br&gt;        $ <font color="#0000ff">this</font> -&gt;dispatch( <font color="#A31515">'/user/login'</font> );&lt;br&gt;        $ <font color="#0000ff">this</font> -&gt;assertRedirectTo( <font color="#A31515">'/user/view'</font> );&lt;br&gt;&lt;br&gt;        $ <font color="#0000ff">this</font> -&gt;resetRequest()&lt;br&gt;             -&gt;resetResponse();&lt;br&gt;&lt;br&gt;        $ <font color="#0000ff">this</font> -&gt;request-&gt;setMethod( <font color="#A31515">'GET'</font> )&lt;br&gt;             -&gt;setPost(array());&lt;br&gt;        $ <font color="#0000ff">this</font> -&gt;dispatch( <font color="#A31515">'/user/view'</font> );&lt;br&gt;        $ <font color="#0000ff">this</font> -&gt;assertRoute( <font color="#A31515">'default'</font> );&lt;br&gt;        $ <font color="#0000ff">this</font> -&gt;assertModule( <font color="#A31515">'default'</font> );&lt;br&gt;        $ <font color="#0000ff">this</font> -&gt;assertController( <font color="#A31515">'user'</font> );&lt;br&gt;        $ <font color="#0000ff">this</font> -&gt;assertAction( <font color="#A31515">'view'</font> );&lt;br&gt;        $ <font color="#0000ff">this</font> -&gt;assertNotRedirect();&lt;br&gt;        $ <font color="#0000ff">this</font> -&gt;assertQuery( <font color="#A31515">'dl'</font> );&lt;br&gt;        $ <font color="#0000ff">this</font> -&gt;assertQueryContentContains( <font color="#A31515">'h2'</font> , <font color="#A31515">'User: foobar'</font> );&lt;br&gt;    }&lt;br&gt;}</font> &lt;br&gt;&lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  <strong>Zend_Test_PHPUnit_Db</strong> inherits the PHPUnit database extension with the Zend Framework specific code, which allows you to significantly <br>  simplify writing tests for the database. <br>  The following is a test: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">class</font> BugsTest extends Zend_Test_PHPUnit_DatabaseTestCase&lt;br&gt;{&lt;br&gt; <font color="#0000ff">private</font> $_connectionMock;&lt;br&gt;&lt;br&gt; <font color="#008000">/**</font> &lt;br&gt; <font color="#008000">*      .</font> &lt;br&gt; <font color="#008000">*</font> &lt;br&gt; <font color="#008000">* @return PHPUnit_Extensions_Database_DB_IDatabaseConnection</font> &lt;br&gt; <font color="#008000">*/</font> &lt;br&gt; <font color="#0000ff">protected</font> function getConnection()&lt;br&gt;    {&lt;br&gt; <font color="#0000ff">if</font> ($ <font color="#0000ff">this</font> -&gt;_connectionMock == <font color="#0000ff">null</font> ) {&lt;br&gt;            $connection = Zend_Db::factory(...);&lt;br&gt;            $ <font color="#0000ff">this</font> -&gt;_connectionMock = $ <font color="#0000ff">this</font> -&gt;createZendDbConnection(&lt;br&gt;                $connection, <font color="#A31515">'zfunittests'</font> &lt;br&gt;            );&lt;br&gt;            Zend_Db_Table_Abstract::setDefaultAdapter($connection);&lt;br&gt;        }&lt;br&gt; <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;_connectionMock;&lt;br&gt;    }&lt;br&gt;&lt;br&gt; <font color="#008000">/**</font> &lt;br&gt; <font color="#008000">* @return PHPUnit_Extensions_Database_DataSet_IDataSet</font> &lt;br&gt; <font color="#008000">*/</font> &lt;br&gt; <font color="#0000ff">protected</font> function getDataSet()&lt;br&gt;    {&lt;br&gt; <font color="#0000ff">return</font> $ <font color="#0000ff">this</font> -&gt;createFlatXmlDataSet(&lt;br&gt;            dirname(__FILE__) . <font color="#A31515">'/_files/bugsSeed.xml'</font> &lt;br&gt;        );&lt;br&gt;    }&lt;br&gt;}</font> &lt;br&gt;&lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  When your application is almost finished, functional testing will be appropriate. <br>  Together with the Zend Framework with PHPUnit support, Selenium IDE can be used. <br>  There are tests that mimic the behavior of the end user and are designed to test usability, security and performance. <br><br>  The usual test Selenium inherits <strong>PHPUnit_Extensions_SeleniumTestCase</strong> and looks like this: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">&lt;?php&lt;br&gt;require_once <font color="#A31515">'PHPUnit/Extensions/SeleniumTestCase.php'</font> ;&lt;br&gt; <font color="#0000ff">class</font> seleniumExampleTest extends PHPUnit_Extensions_SeleniumTestCase&lt;br&gt;{&lt;br&gt; <font color="#0000ff">protected</font> function setUp()&lt;br&gt; {&lt;br&gt;     $ <font color="#0000ff">this</font> -&gt;setBrowser( <font color="#A31515">'*firefox'</font> );&lt;br&gt;     $ <font color="#0000ff">this</font> -&gt;setBrowserUrl( <font color="#A31515">'http://www.google.com.au/'</font> );&lt;br&gt; }&lt;br&gt; function testMyTestCase()&lt;br&gt; {&lt;br&gt;     $ <font color="#0000ff">this</font> -&gt;open( <font color="#A31515">'http://www.google.com.au/'</font> );&lt;br&gt;     $ <font color="#0000ff">this</font> -&gt;type( <font color="#A31515">'q'</font> , <font color="#A31515">'zend framework'</font> );&lt;br&gt;     $ <font color="#0000ff">this</font> -&gt;click( <font color="#A31515">'btnG'</font> );&lt;br&gt;     $ <font color="#0000ff">this</font> -&gt;waitForPageToLoad( <font color="#A31515">'30000'</font> );&lt;br&gt; <font color="#0000ff">try</font> {&lt;br&gt;         $ <font color="#0000ff">this</font> -&gt;assertTrue($ <font color="#0000ff">this</font> -&gt;isTextPresent( <font color="#A31515">'framework.zend.com/'</font> ));&lt;br&gt;     } <font color="#0000ff">catch</font> (PHPUnit_Framework_AssertionFailedError $e) {&lt;br&gt;         array_push($ <font color="#0000ff">this</font> -&gt;verificationErrors, $e-&gt;toString());&lt;br&gt;     }&lt;br&gt; }&lt;br&gt;}</font> &lt;br&gt;&lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  This article does not touch upon a small fraction of all testing capabilities. <br>  The purpose of this article is to show that the Zend framework is very closely integrated into its environment and that <br>  This integration contributes to a group of PHP users to practice using technology. <br>  "Development through testing" (TDD). <br>  Use these features to improve the quality of your products. <br></div><p>Source: <a href="https://habr.com/ru/post/87202/">https://habr.com/ru/post/87202/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../87196/index.html">New technology transfer of emotions on a mobile phone</a></li>
<li><a href="../87197/index.html">SSH VPN over Internet (SSH tun tunneling)</a></li>
<li><a href="../87198/index.html">Poison began to massively block accounts?</a></li>
<li><a href="../87199/index.html">Git on Windows in Technicolor</a></li>
<li><a href="../87201/index.html">Simple Time Manager for Android</a></li>
<li><a href="../87205/index.html">OOP with examples (part 2)</a></li>
<li><a href="../87206/index.html">Small (???) Youtube design changes</a></li>
<li><a href="../87208/index.html">Unlimited Detail is interesting, but I have very specific doubts ...</a></li>
<li><a href="../87209/index.html">Working days are a little more fun.</a></li>
<li><a href="../87210/index.html">Pylons framework</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>