<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Indexing handwriting in images: from European languages ‚Äã‚Äãto Asian</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="By Evgeny Livshits, Head of Research Group, Evernote Moscow Office 

 With the recently added support of the Chinese recognition system, Evernote (ENR...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Indexing handwriting in images: from European languages ‚Äã‚Äãto Asian</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/761/747/db4/761747db406b6407a2c0dd80781e07d5.jpg" alt="image"><br><br>  <i>By Evgeny Livshits, Head of Research Group, Evernote Moscow Office</i> <br><br>  With the recently added support of the Chinese recognition system, Evernote (ENRS, Evernote Recognition System) now indexes handwritten notes in 24 languages.  Every time we take on a new language, we face new challenges related to the specifics of a particular alphabet and writing style. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Additional difficulties arose when we took up the East Asian languages: Chinese, Japanese, and Korean (CJK).  These languages ‚Äã‚Äãrequire support by two orders of magnitude more characters, and each of them is much more complicated than those with which we dealt before;  spaces between words are optional;  with a high writing rate, people often switch to cursive, which makes the interpretation largely context-dependent. <br><a name="habracut"></a><br><br>  Before diving into the specifics of supporting CJK, let's quickly go through the difficulties that we had to overcome in recognizing handwriting in European languages.  Our recognition engine starts parsing the handwritten page by finding text strings.  This may already be a non-trivial task.  Consider this example: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/97c/bde/139/97cbde13948228ec3a8d37a3a855a7e9.png" alt="image"><br><br>  Lines can be jagged, letters from different lines intersect with each other, and the distance between lines can vary in a wide range.  The string segmentation algorithm should unravel random intersections of the trajectories of adjacent rows. <br><br>  After the lines are built, we are faced with the next task - how to properly divide them into words.  This is usually not difficult for typed text, where the difference in spacing between letters and between words is relatively well defined.  In the case of handwriting, in many cases it is impossible simply to determine from the distance between letters whether we are faced with a word or word break. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1ae/be2/a95/1aebe2a95bf4222b6041b19019142786.png" alt="image"><br><br>  Understanding what is written in the text can help here.  Then, understanding the words, we will be able to determine where their beginning is and where the end is.  However, this requires the ability to understand the entire line, and not just read one word after another - as most text recognition engines usually do.  For European languages, the problem of handwriting recognition is often not much easier than for Asian texts.  For example, here‚Äôs a sample of handwriting in Korean: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/213/0ce/c65/2130cec65bd557adf64840faa05fcf4e.png" alt="image"><br><br>  Similarly, you need to select the lines of the text, unraveling the possible intersection.  When it is clear that the construction of a separate unit, engaged in word segmentation, is unrealistic.  As in the case of European handwriting, the solution was the recognition and segmentation within a single algorithm by understanding the recognized words and defining their boundaries accordingly. <br><br>  Now let's take a look at the character recognition process.  First of all, we need to find the boundaries of symbols.  They can pass through small spaces between the strokes or along connecting lines characteristic of fast writing.  We do not have a reliable way to determine the points of borders between characters, so we are forced to select potential points of intersymbol fission with a certain margin (we do oversegmentation).  At the same time, at this stage, we do not have a clear understanding of whether this or that potential dividing point is in the right place and separates the symbols, or falls inside one of them.  As a result, the entire string falls into small blocks. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5e9/95b/725/5e995b72596fae29233a9a67210e0bda.png" alt="image"><br><br>  To collect real characters, we try to combine these small blocks into bigger blocks, evaluating each such combination.  The image below shows an attempt to recognize a combination of the first two blocks. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2a3/4ea/d0e/2a34ead0e45bc0dbb6809b5388fde943.png" alt="image"><br><br>  Of course, this means that we will have to recognize many more character variants than were actually written.  And for CJK languages, this in turn means that the recognition process will be much slower than for European languages, since the evaluation of various combinations requires consideration of a much larger number of ‚Äúcandidates‚Äù.  The core of our character recognition system is a set of SVM-solvers (Support Vector Machine), each of which solves the problem ‚Äúone against all‚Äù for the symbol assigned to it. <br><br>  And if for English we need about 50 such solvers (all Latin letters + characters), then we would need 3,750 to support the most common Chinese characters!  This would make the process 75 times slower, unless we found a way to run only a fraction of all these solvers each time. <br><br>  To do this, we first launch a set of much simpler and faster SVMs, which would select a group of characters similar in writing.  A standard SVM work only on characters found in the first stage.  This approach usually allows us to use only 5-6% of the entire character set, which speeds up the recognition process as a whole by about 20 times. <br><br>  In order to decide which options from among the many possible interpretations of written characters to choose for the final answer, we need to refer to different language models - this is the context that would allow us to create a more meaningful interpretation of all possible options generated by SVM.  Interpretation begins with a simple weighting of the most common two-character combinations, then the context level expands to frequent three-character sequences and then to words from dictionaries and familiar structured models - dates, phones, email addresses.  Next come the probable combinations of suggested words and patterns.  And without weighing all the possibilities, we cannot say for sure how best to interpret this or that line.  Only a comparative assessment of millions and millions of possible combinations, similar to how Deep Blue analyzed a variety of chess positions, playing against Kasparov, allows you to get closer to the optimal interpretation. <br><br>  As soon as the best interpretation for the string is presented, we can finally define word boundaries.  The green frames in the image below show the best way to separate the words, from those that managed to come up. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/804/da5/00c/804da500cb9c8bf1536cde437d267b54.png" alt="image"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/4da/005/886/4da0058864eff5c2e56a06917af8bcee.png" alt="image"><br><br>  And, as you can see, the process is obtained in many respects the same for both European handwritten texts and CJK. </div><p>Source: <a href="https://habr.com/ru/post/220369/">https://habr.com/ru/post/220369/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../220357/index.html">Docsvision start - and continue</a></li>
<li><a href="../220359/index.html">The architecture of the online game server on the example of Skyforge</a></li>
<li><a href="../220363/index.html">Wolf hunters from Wall Street. Part 2</a></li>
<li><a href="../220365/index.html">FORTH: Self-Defined Words</a></li>
<li><a href="../220367/index.html">LibreSSL: a clean version of OpenSSL (the OpenBSD project)</a></li>
<li><a href="../220371/index.html">History of torrent rendering for 3ds max</a></li>
<li><a href="../220373/index.html">Personal Finance - Save and Grow</a></li>
<li><a href="../220377/index.html">A new online course on sales in the studio / agency and a little humor about the life of the agency in verse</a></li>
<li><a href="../220379/index.html">Zabbix + Pushbullet: a simple way to push alerts</a></li>
<li><a href="../220381/index.html">Handling touch input in Windows 8 applications</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>