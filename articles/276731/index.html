<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Full-featured REST API for perfectionists in 5 minutes</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr! My name is Vladimir, I'm 28 years old and I'm a drug addict. My drug is simplicity. I got addicted to simplicity because of my perfectionism...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Full-featured REST API for perfectionists in 5 minutes</h1><div class="post__text post__text-html js-mediator-article"> <a href="https://habrahabr.ru/post/276731/"><img src="https://habrastorage.org/files/2f2/e45/c50/2f2e45c507a846ec88030b21a1d0610c.png"></a> <br><br>  Hi, Habr!  My name is Vladimir, I'm 28 years old and I'm a <s>drug</s> addict.  My drug is simplicity.  I got addicted to simplicity because of my perfectionism, which I was awarded at birth. <br><br>  Doctors say that it is interconnected, they say perfectionism is the pursuit of perfection, and simplicity allows you to get close to this mythical perfection.  The simpler the solution, the fewer mistakes you can make, so I am hooked.  I did not argue with them and instead of looking for the perpetrators of my story, I decided to live with it and try to improve the quality of this very life. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The world around is not perfect, it‚Äôs incredibly difficult to do a complicated thing, so everything is overly complicated.  People like to feel like professionals, so they operate with complex terms when this is not necessary, because they feel their importance and fill the void that was formed because of the fear of lost time. <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">You can complicate everything: you / you / you</b> <div class="spoiler_text">  Why should I constantly remember whether I spoke with this person or not?  Have we switched to you?  I am writing some kind of commercial offer and I need to "Vyknut" or is it an answer to an ordinary letter and a rather simple "you".  Why do I constantly have to get upset when a completely unfamiliar person starts to ‚Äúpoke‚Äù me from the doorway, as if I am his friend from the smoking room? <br><br>  I basically ‚Äúvykayut‚Äù all with a small letter and I am convinced that this has its price.  Surely there are people who do not like that they were called with a small letter and they will not respond to my letter. <br><br>  So why these difficulties? <br></div></div><br>  When I mentioned improving the quality of life, I meant some rules that help to make quick decisions and not regret it.  For example, I do not use complex things all the time, I do not communicate with people who like to complicate things.  If the thing you use every day is complicated, it only means that you didn‚Äôt pay enough attention to it.  If a person cannot explain to you even a difficult topic to understand in simple language, it means that he himself does not fully understand what he is talking about. <br><br>  There is something else that is equally important - time.  Time is an invaluable resource, and the expression ‚ÄúTime is money‚Äù from the mouth of smart people makes me smile with disappointment ( <i>you look like an idiot and feel the same way</i> ).  I still do not know a single billionaire who was helped by money to live longer than other people. <br><br><h4>  <font color="#d62631">Introduction</font> </h4><br>  It's about a tool that allows you to build a complete and easy-to-use <i>REST API</i> in the minimum amount of time.  It is called - <a href="http://python-eve.org/index.html">Python Eve</a> . <br><br>  Unfortunately, there are many instructions on the Internet on this topic, but they are all misleading.  Beginner developers, after reading such articles, think that the <i>REST API</i> is <i>GET / POST / PUT / DELETE</i> .  Customers think that this is a matter of a couple of hours.  And when they meet together, magic happens in the form of <i>Express.js / Mongoose / Passport</i> and a lot of rubbish that flows and sometimes blocks the event-loop.  All this is started with the help of some <i>supervisor</i> , because sometimes it falls and you need to somehow restart. <br><br>  And everything would be fine, but yesterday I had a conversation with a habr-user who suggested using " <i>Express.js, MongoDB, Mongoose, Passport, WebStorm debugger and head on shoulders</i> ".  Similar conversations happened often, so I decided to write this article and ‚Äúsend‚Äù a link to it. <br><br><h4>  <font color="#d62631">Full REST API?</font> </h4><br>  This includes not only the implementation of the <a href="https://ru.wikipedia.org/wiki/REST">architectural style of the <i>REST API</i></a> , but also <a href="https://ru.wikipedia.org/wiki/HTTP">the HTTP protocol</a> , <a href="http://python-eve.org/features.html">validation</a> and <a href="http://python-eve.org/features.html">caching</a> , and <a href="http://python-eve.org/features.html">HATEOAS</a> ( <a href="https://en.wikipedia.org/wiki/HATEOAS"><i>wikipedia</i></a> ), which, it seems, they generally prefer not to recall.  Then we will need to <a href="http://python-eve.org/features.html">filter the results</a> and <a href="http://python-eve.org/features.html">sort</a> , <a href="http://python-eve.org/features.html">page by page navigation</a> and partially update the records.  Then we think about <a href="http://python-eve.org/features.html">data integrity</a> and <a href="http://python-eve.org/features.html">conditional queries</a> .  Surely we need <a href="http://python-eve.org/features.html">authentication</a> , maybe we want to display the data <a href="http://python-eve.org/features.html">not only in JSON, but also in XML</a> .  This is about the <a href="http://python-eve.org/features.html">versioning</a> and <a href="http://python-eve.org/features.html">nested entries,</a> I did not mention.  Then, as is usually the case, some # $% $% ^ will begin to hammer into our powerful API with a heavy query and we will need <a href="http://python-eve.org/features.html">to limit the frequency of requests</a> . <br><br>  Even if we imagine that an incredibly cool developer with 3 monitors, a WebStorm debugger and a head on his shoulders will be engaged in developing such an API, he will spend not only a lot of time, but a lot of it.  Support of the code base will be costly, and the introduction of new functions will be long. <br><br><img src="https://habrastorage.org/files/07c/1f0/d59/07c1f0d590fe4b4fbee0345e2054427d.jpg"><br><br>  But we love simplicity with you, and we respect time.  So let's get started! <br><br><h4>  <font color="#d62631">Installation</font> </h4><br>  This is a regular python package, so it is installed in the standard way: <br><br><pre><code class="bash hljs">$ pip install eve</code> </pre> <br>  If you are interested in alternative installation methods, you can look at the <a href="http://python-eve.org/install.html">official documentation</a> . <br><br><h4>  <font color="#d62631">Fast start</font> </h4><br>  Before we begin to ‚Äúcreate‚Äù magic, we need a <i>MongoDB</i> database.  If you do not have it, you can use any free service, for example <a href="https://mongolab.com/">MongoLab</a> .  Registration will take no more than a minute.  After registration, create a database and user for this database. <br><br>  Now let's write the minimum version of our <i>REST API</i> .  First, create the main <b>run.py</b> file with the following contents: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> eve <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Eve app = Eve() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> __name__ == <span class="hljs-string"><span class="hljs-string">'__main__'</span></span>: app.run()</code> </pre><br>  Now we need to create the settings.py file: <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#  user, password, ds049945.mongolab.com, example      . MONGO_URI = "mongodb://user:password@ds049945.mongolab.com:49945/example" #   Eve  API   "read-only" (..   GET ), #     POST, PUT, PATCH, DELETE. RESOURCE_METHODS = ['GET', 'POST', 'DELETE'] ITEM_METHODS = ['GET', 'PATCH', 'PUT', 'DELETE'] DOMAIN = { #   `/users` 'users': { #     .     Cerberus   Eve. #          http://docs.python-cerberus.org/en/stable/. #       EVE http://python-eve.org/validation.html#validation. 'schema': { 'username': { 'type': 'string', 'minlength': 5, 'maxlength': 32, 'required': True, #   (  ,     ) 'unique': True, }, 'firstname': { 'type': 'string', 'minlength': 1, 'maxlength': 10, 'required': True, }, 'lastname': { 'type': 'string', 'minlength': 1, 'maxlength': 15, 'required': True, }, 'role': { 'type': 'list', # :  'allowed': ["author", "contributor"], #   : "author", "contributor" }, 'location': { 'type': 'dict', # :  #  ""  'schema': { 'address': {'type': 'string'}, 'city': {'type': 'string'} }, }, 'born': { 'type': 'datetime', }, 'active': { 'type': 'boolean', 'default': True } } }, #   `/groups` 'groups': { #    (. ). 'schema': { 'title': { 'type': 'string', 'minlength': 5, 'maxlength': 32, 'required': True, 'unique': True }, 'users': { 'type': 'list', # :  'default': [], #  :   #  ""  'schema': { 'type': 'objectid', #  : objectid #       'data_relation': { 'resource': 'users', #   `users` (   ) 'field': '_id', #   `_id` 'embeddable': True } } } } } }</span></span></code> </pre><br>  In my opinion, everything is quite simple here and there should be no questions.  If this is not the case - welcome to the comments.  A complete list of configuration options can be found in the <a href="http://python-eve.org/config.html">documentation</a> . <br><br>  Everything is ready, run: <br><br><pre> <code class="bash hljs">$ python3.5 run.py * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)</code> </pre><br><br><h4>  <font color="#d62631">Prelude</font> </h4><br>  You have already thought that now we will start to curse godlessly, but I have to disappoint you.  We, with peculiar perfectionism, will use the tool of the author, who has a sense of beauty: <br><br><img src="https://habrastorage.org/files/98b/5e6/5a3/98b5e65a30c9467fae795626e25a3e8b.png"><br>  The tool is called <a href="httpie">HTTPie</a> and put in <s>one click</s> one command: <br><br><pre> <code class="bash hljs">$ pip install httpie</code> </pre><br><h4>  <font color="#d62631">Games and fun</font> </h4><br>  <i>HTTPie</i> is called with the " <i>http</i> " command.  In order to send a <i>GET</i> request to our <i>API</i> , execute: <br><br><pre> <code class="bash hljs">$ http http://0.0.0.0:5000/ HTTP/1.0 200 OK Content-Length: 99 Content-Type: application/json Date: Sun, 07 Feb 2016 18:13:33 GMT Server: Eve/0.6.1 Werkzeug/0.10.4 Python/3.5.0 { <span class="hljs-string"><span class="hljs-string">"_links"</span></span>: { <span class="hljs-string"><span class="hljs-string">"child"</span></span>: [ { <span class="hljs-string"><span class="hljs-string">"href"</span></span>: <span class="hljs-string"><span class="hljs-string">"users"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"users"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"href"</span></span>: <span class="hljs-string"><span class="hljs-string">"groups"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"groups"</span></span> } ] } }</code> </pre><br>  Thanks to <a href="http://python-eve.org/features.html">HATEOAS,</a> we see that we have 2 resources: <i>users</i> and <i>groups</i> .  Let's look inside: <br><br><pre> <code class="bash hljs">¬ª http http://0.0.0.0:5000/users HTTP/1.0 200 OK Content-Length: 166 Content-Type: application/json Date: Sun, 07 Feb 2016 18:20:41 GMT Server: Eve/0.6.1 Werkzeug/0.10.4 Python/3.5.0 X-Total-Count: 0 { <span class="hljs-string"><span class="hljs-string">"_items"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"_links"</span></span>: { <span class="hljs-string"><span class="hljs-string">"parent"</span></span>: { <span class="hljs-string"><span class="hljs-string">"href"</span></span>: <span class="hljs-string"><span class="hljs-string">"/"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"home"</span></span> }, <span class="hljs-string"><span class="hljs-string">"self"</span></span>: { <span class="hljs-string"><span class="hljs-string">"href"</span></span>: <span class="hljs-string"><span class="hljs-string">"users"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"users"</span></span> } }, <span class="hljs-string"><span class="hljs-string">"_meta"</span></span>: { <span class="hljs-string"><span class="hljs-string">"max_results"</span></span>: 25, <span class="hljs-string"><span class="hljs-string">"page"</span></span>: 1, <span class="hljs-string"><span class="hljs-string">"total"</span></span>: 0 } }</code> </pre><br>  Let's create the user <i>johndoe</i> : <br><br><pre> <code class="bash hljs">$ http http://0.0.0.0:5000/users username=johndoe HTTP/1.0 422 UNPROCESSABLE ENTITY Content-Length: 184 Content-Type: application/json Date: Sun, 07 Feb 2016 18:22:44 GMT Server: Eve/0.6.1 Werkzeug/0.10.4 Python/3.5.0 { <span class="hljs-string"><span class="hljs-string">"_error"</span></span>: { <span class="hljs-string"><span class="hljs-string">"code"</span></span>: 422, <span class="hljs-string"><span class="hljs-string">"message"</span></span>: <span class="hljs-string"><span class="hljs-string">"Insertion failure: 1 document(s) contain(s) error(s)"</span></span> }, <span class="hljs-string"><span class="hljs-string">"_issues"</span></span>: { <span class="hljs-string"><span class="hljs-string">"firstname"</span></span>: <span class="hljs-string"><span class="hljs-string">"required field"</span></span>, <span class="hljs-string"><span class="hljs-string">"lastname"</span></span>: <span class="hljs-string"><span class="hljs-string">"required field"</span></span> }, <span class="hljs-string"><span class="hljs-string">"_status"</span></span>: <span class="hljs-string"><span class="hljs-string">"ERR"</span></span> }</code> </pre><br>  The first thing you should pay attention to is our team: <br><br><pre> <code class="bash hljs">$ http http://0.0.0.0:5000/users username=johndoe</code> </pre><br>  <i>HTTPie</i> saw that we send the <i>username</i> parameter and turned it into <i>JSON</i> : <br><br><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"username"</span></span>: <span class="hljs-string"><span class="hljs-string">"johndoe"</span></span> }</code> </pre><br>  Then sent to our <i>API</i> using the <i>POST</i> method.  Let's pay attention to errors: <br><br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">"_issues"</span></span>: { <span class="hljs-string"><span class="hljs-string">"firstname"</span></span>: <span class="hljs-string"><span class="hljs-string">"required field"</span></span>, <span class="hljs-string"><span class="hljs-string">"lastname"</span></span>: <span class="hljs-string"><span class="hljs-string">"required field"</span></span> }</code> </pre><br>  We immediately see the entire list of validation errors, and this is great.  Correct them and rerun the query: <br><br><pre> <code class="bash hljs">$ http http://0.0.0.0:5000/users username=johndoe firstname=John lastname=Doe HTTP/1.0 201 CREATED Content-Length: 276 Content-Type: application/json Date: Sun, 07 Feb 2016 18:34:42 GMT Server: Eve/0.6.1 Werkzeug/0.10.4 Python/3.5.0 { <span class="hljs-string"><span class="hljs-string">"_created"</span></span>: <span class="hljs-string"><span class="hljs-string">"Sun, 07 Feb 2016 18:34:41 GMT"</span></span>, <span class="hljs-string"><span class="hljs-string">"_etag"</span></span>: <span class="hljs-string"><span class="hljs-string">"24509359443095dd05dece6d0eb7d98cce70b076"</span></span>, <span class="hljs-string"><span class="hljs-string">"_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"56b78e41cf7b35255aa5a1e6"</span></span>, <span class="hljs-string"><span class="hljs-string">"_links"</span></span>: { <span class="hljs-string"><span class="hljs-string">"self"</span></span>: { <span class="hljs-string"><span class="hljs-string">"href"</span></span>: <span class="hljs-string"><span class="hljs-string">"users/56b78e41cf7b35255aa5a1e6"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"User"</span></span> } }, <span class="hljs-string"><span class="hljs-string">"_status"</span></span>: <span class="hljs-string"><span class="hljs-string">"OK"</span></span>, <span class="hljs-string"><span class="hljs-string">"_updated"</span></span>: <span class="hljs-string"><span class="hljs-string">"Sun, 07 Feb 2016 18:34:41 GMT"</span></span> }</code> </pre><br>  Well, we have just successfully created a new user.  Let's check this: <br><br><pre> <code class="bash hljs">$ http http://0.0.0.0:5000/users HTTP/1.0 200 OK Content-Length: 504 Content-Type: application/json Date: Sun, 07 Feb 2016 18:36:00 GMT Last-Modified: Sun, 07 Feb 2016 18:34:41 GMT Server: Eve/0.6.1 Werkzeug/0.10.4 Python/3.5.0 X-Total-Count: 1 { <span class="hljs-string"><span class="hljs-string">"_items"</span></span>: [ { <span class="hljs-string"><span class="hljs-string">"_created"</span></span>: <span class="hljs-string"><span class="hljs-string">"Sun, 07 Feb 2016 18:34:41 GMT"</span></span>, <span class="hljs-string"><span class="hljs-string">"_etag"</span></span>: <span class="hljs-string"><span class="hljs-string">"24509359443095dd05dece6d0eb7d98cce70b076"</span></span>, <span class="hljs-string"><span class="hljs-string">"_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"56b78e41cf7b35255aa5a1e6"</span></span>, <span class="hljs-string"><span class="hljs-string">"_links"</span></span>: { <span class="hljs-string"><span class="hljs-string">"self"</span></span>: { <span class="hljs-string"><span class="hljs-string">"href"</span></span>: <span class="hljs-string"><span class="hljs-string">"users/56b78e41cf7b35255aa5a1e6"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"User"</span></span> } }, <span class="hljs-string"><span class="hljs-string">"_updated"</span></span>: <span class="hljs-string"><span class="hljs-string">"Sun, 07 Feb 2016 18:34:41 GMT"</span></span>, <span class="hljs-string"><span class="hljs-string">"active"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"firstname"</span></span>: <span class="hljs-string"><span class="hljs-string">"John"</span></span>, <span class="hljs-string"><span class="hljs-string">"lastname"</span></span>: <span class="hljs-string"><span class="hljs-string">"Doe"</span></span>, <span class="hljs-string"><span class="hljs-string">"username"</span></span>: <span class="hljs-string"><span class="hljs-string">"johndoe"</span></span> } ], <span class="hljs-string"><span class="hljs-string">"_links"</span></span>: { <span class="hljs-string"><span class="hljs-string">"parent"</span></span>: { <span class="hljs-string"><span class="hljs-string">"href"</span></span>: <span class="hljs-string"><span class="hljs-string">"/"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"home"</span></span> }, <span class="hljs-string"><span class="hljs-string">"self"</span></span>: { <span class="hljs-string"><span class="hljs-string">"href"</span></span>: <span class="hljs-string"><span class="hljs-string">"users"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"users"</span></span> } }, <span class="hljs-string"><span class="hljs-string">"_meta"</span></span>: { <span class="hljs-string"><span class="hljs-string">"max_results"</span></span>: 25, <span class="hljs-string"><span class="hljs-string">"page"</span></span>: 1, <span class="hljs-string"><span class="hljs-string">"total"</span></span>: 1 } }</code> </pre><br>  There is no doubt that this is so.  It's time to try to overwrite ( <i>note, not edit, and overwrite</i> ) the user.  This is done using the <i>PUT</i> method, which must be explicitly specified ( <i>if not specified, POST will be performed</i> ): <br><br><pre> <code class="bash hljs">$ http put http://0.0.0.0:5000/users/56b78e41cf7b35255aa5a1e6 username=janedoe firstname=<span class="hljs-string"><span class="hljs-string">"Jane"</span></span> lastname=<span class="hljs-string"><span class="hljs-string">"Doe"</span></span> HTTP/1.0 403 FORBIDDEN Content-Length: 101 Content-Type: application/json Date: Sun, 07 Feb 2016 18:43:04 GMT Server: Eve/0.6.1 Werkzeug/0.10.4 Python/3.5.0 { <span class="hljs-string"><span class="hljs-string">"_error"</span></span>: { <span class="hljs-string"><span class="hljs-string">"code"</span></span>: 403, <span class="hljs-string"><span class="hljs-string">"message"</span></span>: <span class="hljs-string"><span class="hljs-string">"An etag must be provided to edit a document"</span></span> }, <span class="hljs-string"><span class="hljs-string">"_status"</span></span>: <span class="hljs-string"><span class="hljs-string">"ERR"</span></span> }</code> </pre><br>  Oops, mistake.  I mentioned <a href="http://python-eve.org/features.html">data integrity above</a> .  The fact is that a situation may occur in which someone has already changed the record that you want to change.  And when you edit it, you will think that you have changed one record, but in fact it is already completely different. <br><br>  In order for us not to be in such a situation, the <a href="https://ru.wikipedia.org/wiki/HTTP_ETag"><i>ETag</i> identifier is <i>used</i></a> .  In a nutshell, this is a unique identifier that is generated by <i>Eve</i> with each change of record.  Using this identifier, we can tell our <i>API</i> that we only want to change the record of a certain version and if it has been edited since then, our changes will not be made.  This is done using a <a href="http://python-eve.org/features.html">conditional request</a> with the <i>HTTP</i> header " <i>If-Match</i> ": <br><br><pre> <code class="bash hljs">$ http put http://0.0.0.0:5000/users/56b78e41cf7b35255aa5a1e6 <span class="hljs-string"><span class="hljs-string">"If-Match"</span></span>:<span class="hljs-string"><span class="hljs-string">"24509359443095dd05dece6d0eb7d98cce70b076"</span></span> username=janedoe firstname=<span class="hljs-string"><span class="hljs-string">"Jane"</span></span> lastname=<span class="hljs-string"><span class="hljs-string">"Doe"</span></span> HTTP/1.0 200 OK Content-Length: 276 Content-Type: application/json Date: Sun, 07 Feb 2016 18:46:56 GMT ETag: 0138d193174528c205827ba9af25b7b8fb93940e Last-Modified: Sun, 07 Feb 2016 18:46:56 GMT Server: Eve/0.6.1 Werkzeug/0.10.4 Python/3.5.0 { <span class="hljs-string"><span class="hljs-string">"_created"</span></span>: <span class="hljs-string"><span class="hljs-string">"Sun, 07 Feb 2016 18:34:41 GMT"</span></span>, <span class="hljs-string"><span class="hljs-string">"_etag"</span></span>: <span class="hljs-string"><span class="hljs-string">"0138d193174528c205827ba9af25b7b8fb93940e"</span></span>, <span class="hljs-string"><span class="hljs-string">"_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"56b78e41cf7b35255aa5a1e6"</span></span>, <span class="hljs-string"><span class="hljs-string">"_links"</span></span>: { <span class="hljs-string"><span class="hljs-string">"self"</span></span>: { <span class="hljs-string"><span class="hljs-string">"href"</span></span>: <span class="hljs-string"><span class="hljs-string">"users/56b78e41cf7b35255aa5a1e6"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"User"</span></span> } }, <span class="hljs-string"><span class="hljs-string">"_status"</span></span>: <span class="hljs-string"><span class="hljs-string">"OK"</span></span>, <span class="hljs-string"><span class="hljs-string">"_updated"</span></span>: <span class="hljs-string"><span class="hljs-string">"Sun, 07 Feb 2016 18:46:56 GMT"</span></span> }</code> </pre><br>  Notice how we passed the <i>HTTPie HTTPie</i> header.  This is not the only thing for which the <i>ETag</i> identifier and conditional queries can be used.  I will not dwell on this here, but I advise you to familiarize yourself with this topic, if you have not done it yet. <br><br>  It's time to create a new group.  To begin, let's try to create a group with a nonexistent user: <br><br><pre> <code class="bash hljs">$ http http://0.0.0.0:5000/groups title=<span class="hljs-string"><span class="hljs-string">"Friends"</span></span> users:=<span class="hljs-string"><span class="hljs-string">'["56b77466cf7b352414deb451"]'</span></span> HTTP/1.0 422 UNPROCESSABLE ENTITY Content-Length: 220 Content-Type: application/json Date: Sun, 07 Feb 2016 19:14:31 GMT Server: Eve/0.6.1 Werkzeug/0.10.4 Python/3.5.0 { <span class="hljs-string"><span class="hljs-string">"_error"</span></span>: { <span class="hljs-string"><span class="hljs-string">"code"</span></span>: 422, <span class="hljs-string"><span class="hljs-string">"message"</span></span>: <span class="hljs-string"><span class="hljs-string">"Insertion failure: 1 document(s) contain(s) error(s)"</span></span> }, <span class="hljs-string"><span class="hljs-string">"_issues"</span></span>: { <span class="hljs-string"><span class="hljs-string">"users"</span></span>: { <span class="hljs-string"><span class="hljs-string">"0"</span></span>: <span class="hljs-string"><span class="hljs-string">"value '56b77466cf7b352414deb451' must exist in resource 'users', field '_id'."</span></span> } }, <span class="hljs-string"><span class="hljs-string">"_status"</span></span>: <span class="hljs-string"><span class="hljs-string">"ERR"</span></span> }</code> </pre><br>  And indeed, a user with such <i>_id</i> does not exist.  Notice how we pass the list of users: <br><br><pre> <code class="bash hljs">users:=<span class="hljs-string"><span class="hljs-string">'["56b77466cf7b352414deb451"]'</span></span></code> </pre><br>  You can read more in the <a href="httpie">official documentation</a> for the HTTPie, which is as good as the tool itself. <br><br>  This time we will indicate the correct <i>_id</i> : <br><br><pre> <code class="bash hljs">¬ª http http://0.0.0.0:5000/groups title=<span class="hljs-string"><span class="hljs-string">"Friends"</span></span> users:=<span class="hljs-string"><span class="hljs-string">'["56b78e41cf7b35255aa5a1e6"]'</span></span> HTTP/1.0 201 CREATED Content-Length: 278 Content-Type: application/json Date: Sun, 07 Feb 2016 19:21:42 GMT Server: Eve/0.6.1 Werkzeug/0.10.4 Python/3.5.0 { <span class="hljs-string"><span class="hljs-string">"_created"</span></span>: <span class="hljs-string"><span class="hljs-string">"Sun, 07 Feb 2016 19:21:41 GMT"</span></span>, <span class="hljs-string"><span class="hljs-string">"_etag"</span></span>: <span class="hljs-string"><span class="hljs-string">"c6fc02a0bd4bae92a1310be0748ff8bc971ff209"</span></span>, <span class="hljs-string"><span class="hljs-string">"_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"56b79945cf7b35255aa5a1e7"</span></span>, <span class="hljs-string"><span class="hljs-string">"_links"</span></span>: { <span class="hljs-string"><span class="hljs-string">"self"</span></span>: { <span class="hljs-string"><span class="hljs-string">"href"</span></span>: <span class="hljs-string"><span class="hljs-string">"groups/56b79945cf7b35255aa5a1e7"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"Group"</span></span> } }, <span class="hljs-string"><span class="hljs-string">"_status"</span></span>: <span class="hljs-string"><span class="hljs-string">"OK"</span></span>, <span class="hljs-string"><span class="hljs-string">"_updated"</span></span>: <span class="hljs-string"><span class="hljs-string">"Sun, 07 Feb 2016 19:21:41 GMT"</span></span> }</code> </pre><br>  "Truth is good," as my great-grandmother used to say.  Check: <br><br><pre> <code class="bash hljs">$ http http://0.0.0.0:5000/groups HTTP/1.0 200 OK Content-Length: 488 Content-Type: application/json Date: Sun, 07 Feb 2016 19:24:50 GMT Last-Modified: Sun, 07 Feb 2016 19:21:41 GMT Server: Eve/0.6.1 Werkzeug/0.10.4 Python/3.5.0 X-Total-Count: 1 { <span class="hljs-string"><span class="hljs-string">"_items"</span></span>: [ { <span class="hljs-string"><span class="hljs-string">"_created"</span></span>: <span class="hljs-string"><span class="hljs-string">"Sun, 07 Feb 2016 19:21:41 GMT"</span></span>, <span class="hljs-string"><span class="hljs-string">"_etag"</span></span>: <span class="hljs-string"><span class="hljs-string">"c6fc02a0bd4bae92a1310be0748ff8bc971ff209"</span></span>, <span class="hljs-string"><span class="hljs-string">"_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"56b79945cf7b35255aa5a1e7"</span></span>, <span class="hljs-string"><span class="hljs-string">"_links"</span></span>: { <span class="hljs-string"><span class="hljs-string">"self"</span></span>: { <span class="hljs-string"><span class="hljs-string">"href"</span></span>: <span class="hljs-string"><span class="hljs-string">"groups/56b79945cf7b35255aa5a1e7"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"Group"</span></span> } }, <span class="hljs-string"><span class="hljs-string">"_updated"</span></span>: <span class="hljs-string"><span class="hljs-string">"Sun, 07 Feb 2016 19:21:41 GMT"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"Friends"</span></span>, <span class="hljs-string"><span class="hljs-string">"users"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"56b78e41cf7b35255aa5a1e6"</span></span> ] } ], <span class="hljs-string"><span class="hljs-string">"_links"</span></span>: { <span class="hljs-string"><span class="hljs-string">"parent"</span></span>: { <span class="hljs-string"><span class="hljs-string">"href"</span></span>: <span class="hljs-string"><span class="hljs-string">"/"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"home"</span></span> }, <span class="hljs-string"><span class="hljs-string">"self"</span></span>: { <span class="hljs-string"><span class="hljs-string">"href"</span></span>: <span class="hljs-string"><span class="hljs-string">"groups"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"groups"</span></span> } }, <span class="hljs-string"><span class="hljs-string">"_meta"</span></span>: { <span class="hljs-string"><span class="hljs-string">"max_results"</span></span>: 25, <span class="hljs-string"><span class="hljs-string">"page"</span></span>: 1, <span class="hljs-string"><span class="hljs-string">"total"</span></span>: 1 } }</code> </pre><br>  Great-grandmother would be right.  This could be finished, but we will act differently. <br><br>  We will get a group with users who are included in it, in expanded form: <br><br><pre> <code class="bash hljs">$ http http://0.0.0.0:5000/groups/56b79945cf7b35255aa5a1e7/\?embedded=<span class="hljs-string"><span class="hljs-string">'{"users":1}'</span></span> HTTP/1.0 200 OK Content-Length: 646 Content-Type: application/json Date: Sun, 07 Feb 2016 19:38:27 GMT ETag: c6fc02a0bd4bae92a1310be0748ff8bc971ff209 Last-Modified: Sun, 07 Feb 2016 19:21:41 GMT Server: Eve/0.6.1 Werkzeug/0.10.4 Python/3.5.0 { <span class="hljs-string"><span class="hljs-string">"_created"</span></span>: <span class="hljs-string"><span class="hljs-string">"Sun, 07 Feb 2016 19:21:41 GMT"</span></span>, <span class="hljs-string"><span class="hljs-string">"_etag"</span></span>: <span class="hljs-string"><span class="hljs-string">"c6fc02a0bd4bae92a1310be0748ff8bc971ff209"</span></span>, <span class="hljs-string"><span class="hljs-string">"_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"56b79945cf7b35255aa5a1e7"</span></span>, <span class="hljs-string"><span class="hljs-string">"_links"</span></span>: { <span class="hljs-string"><span class="hljs-string">"collection"</span></span>: { <span class="hljs-string"><span class="hljs-string">"href"</span></span>: <span class="hljs-string"><span class="hljs-string">"groups"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"groups"</span></span> }, <span class="hljs-string"><span class="hljs-string">"parent"</span></span>: { <span class="hljs-string"><span class="hljs-string">"href"</span></span>: <span class="hljs-string"><span class="hljs-string">"/"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"home"</span></span> }, <span class="hljs-string"><span class="hljs-string">"self"</span></span>: { <span class="hljs-string"><span class="hljs-string">"href"</span></span>: <span class="hljs-string"><span class="hljs-string">"groups/56b79945cf7b35255aa5a1e7"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"Group"</span></span> } }, <span class="hljs-string"><span class="hljs-string">"_updated"</span></span>: <span class="hljs-string"><span class="hljs-string">"Sun, 07 Feb 2016 19:21:41 GMT"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"Friends"</span></span>, <span class="hljs-string"><span class="hljs-string">"users"</span></span>: [ { <span class="hljs-string"><span class="hljs-string">"_created"</span></span>: <span class="hljs-string"><span class="hljs-string">"Sun, 07 Feb 2016 18:34:41 GMT"</span></span>, <span class="hljs-string"><span class="hljs-string">"_etag"</span></span>: <span class="hljs-string"><span class="hljs-string">"0138d193174528c205827ba9af25b7b8fb93940e"</span></span>, <span class="hljs-string"><span class="hljs-string">"_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"56b78e41cf7b35255aa5a1e6"</span></span>, <span class="hljs-string"><span class="hljs-string">"_updated"</span></span>: <span class="hljs-string"><span class="hljs-string">"Sun, 07 Feb 2016 18:46:56 GMT"</span></span>, <span class="hljs-string"><span class="hljs-string">"active"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"firstname"</span></span>: <span class="hljs-string"><span class="hljs-string">"Jane"</span></span>, <span class="hljs-string"><span class="hljs-string">"lastname"</span></span>: <span class="hljs-string"><span class="hljs-string">"Doe"</span></span>, <span class="hljs-string"><span class="hljs-string">"username"</span></span>: <span class="hljs-string"><span class="hljs-string">"janedoe"</span></span> } ] }</code> </pre><br>  Ask for the same in <i>XML</i> : <br><br><pre> <code class="xml hljs">$ http http://0.0.0.0:5000/groups/56b79945cf7b35255aa5a1e7/\?embedded='{"users":1}' "Accept":"application/xml" HTTP/1.0 200 OK Content-Length: 690 Content-Type: application/xml; charset=utf-8 Date: Sun, 07 Feb 2016 19:43:36 GMT ETag: c6fc02a0bd4bae92a1310be0748ff8bc971ff209 Last-Modified: Sun, 07 Feb 2016 19:21:41 GMT Server: Eve/0.6.1 Werkzeug/0.10.4 Python/3.5.0 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resource</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"groups/56b79945cf7b35255aa5a1e7"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Group"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"groups"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"collection"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"groups"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"home"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">_created</span></span></span><span class="hljs-tag">&gt;</span></span>Sun, 07 Feb 2016 19:21:41 GMT<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">_created</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">_etag</span></span></span><span class="hljs-tag">&gt;</span></span>c6fc02a0bd4bae92a1310be0748ff8bc971ff209<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">_etag</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">_id</span></span></span><span class="hljs-tag">&gt;</span></span>56b79945cf7b35255aa5a1e7<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">_id</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">_updated</span></span></span><span class="hljs-tag">&gt;</span></span>Sun, 07 Feb 2016 19:21:41 GMT<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">_updated</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>Friends<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">users</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">_created</span></span></span><span class="hljs-tag">&gt;</span></span>Sun, 07 Feb 2016 18:34:41 GMT<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">_created</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">_etag</span></span></span><span class="hljs-tag">&gt;</span></span>0138d193174528c205827ba9af25b7b8fb93940e<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">_etag</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">_id</span></span></span><span class="hljs-tag">&gt;</span></span>56b78e41cf7b35255aa5a1e6<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">_id</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">_updated</span></span></span><span class="hljs-tag">&gt;</span></span>Sun, 07 Feb 2016 18:46:56 GMT<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">_updated</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">active</span></span></span><span class="hljs-tag">&gt;</span></span>True<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">active</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">firstname</span></span></span><span class="hljs-tag">&gt;</span></span>Jane<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">firstname</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">lastname</span></span></span><span class="hljs-tag">&gt;</span></span>Doe<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">lastname</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">username</span></span></span><span class="hljs-tag">&gt;</span></span>janedoe<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">username</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">users</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resource</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Let's try to change only the name of our user ( <i>without full rewriting</i> ).  To do this, use the <i>HTTP</i> method <i>PATCH</i> : <br><br><pre> <code class="bash hljs">$ http patch http://0.0.0.0:5000/users/56b78e41cf7b35255aa5a1e6 firstname=John <span class="hljs-string"><span class="hljs-string">"If-Match"</span></span>:<span class="hljs-string"><span class="hljs-string">"0138d193174528c205827ba9af25b7b8fb93940e"</span></span> HTTP/1.0 200 OK Content-Length: 276 Content-Type: application/json Date: Sun, 07 Feb 2016 19:46:48 GMT ETag: 86f3495cf1d6edf301e25563099844bd816c5a3c Server: Eve/0.6.1 Werkzeug/0.10.4 Python/3.5.0 { <span class="hljs-string"><span class="hljs-string">"_created"</span></span>: <span class="hljs-string"><span class="hljs-string">"Sun, 07 Feb 2016 18:34:41 GMT"</span></span>, <span class="hljs-string"><span class="hljs-string">"_etag"</span></span>: <span class="hljs-string"><span class="hljs-string">"86f3495cf1d6edf301e25563099844bd816c5a3c"</span></span>, <span class="hljs-string"><span class="hljs-string">"_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"56b78e41cf7b35255aa5a1e6"</span></span>, <span class="hljs-string"><span class="hljs-string">"_links"</span></span>: { <span class="hljs-string"><span class="hljs-string">"self"</span></span>: { <span class="hljs-string"><span class="hljs-string">"href"</span></span>: <span class="hljs-string"><span class="hljs-string">"users/56b78e41cf7b35255aa5a1e6"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"User"</span></span> } }, <span class="hljs-string"><span class="hljs-string">"_status"</span></span>: <span class="hljs-string"><span class="hljs-string">"OK"</span></span>, <span class="hljs-string"><span class="hljs-string">"_updated"</span></span>: <span class="hljs-string"><span class="hljs-string">"Sun, 07 Feb 2016 19:46:47 GMT"</span></span> }</code> </pre><br>  What would grandma say? <br><br><pre> <code class="bash hljs">¬ª http http://0.0.0.0:5000/users/56b78e41cf7b35255aa5a1e6 HTTP/1.0 200 OK Content-Length: 431 Content-Type: application/json Date: Sun, 07 Feb 2016 19:50:06 GMT ETag: 86f3495cf1d6edf301e25563099844bd816c5a3c Last-Modified: Sun, 07 Feb 2016 19:46:47 GMT Server: Eve/0.6.1 Werkzeug/0.10.4 Python/3.5.0 { <span class="hljs-string"><span class="hljs-string">"_created"</span></span>: <span class="hljs-string"><span class="hljs-string">"Sun, 07 Feb 2016 18:34:41 GMT"</span></span>, <span class="hljs-string"><span class="hljs-string">"_etag"</span></span>: <span class="hljs-string"><span class="hljs-string">"86f3495cf1d6edf301e25563099844bd816c5a3c"</span></span>, <span class="hljs-string"><span class="hljs-string">"_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"56b78e41cf7b35255aa5a1e6"</span></span>, <span class="hljs-string"><span class="hljs-string">"_links"</span></span>: { <span class="hljs-string"><span class="hljs-string">"collection"</span></span>: { <span class="hljs-string"><span class="hljs-string">"href"</span></span>: <span class="hljs-string"><span class="hljs-string">"users"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"users"</span></span> }, <span class="hljs-string"><span class="hljs-string">"parent"</span></span>: { <span class="hljs-string"><span class="hljs-string">"href"</span></span>: <span class="hljs-string"><span class="hljs-string">"/"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"home"</span></span> }, <span class="hljs-string"><span class="hljs-string">"self"</span></span>: { <span class="hljs-string"><span class="hljs-string">"href"</span></span>: <span class="hljs-string"><span class="hljs-string">"users/56b78e41cf7b35255aa5a1e6"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"User"</span></span> } }, <span class="hljs-string"><span class="hljs-string">"_updated"</span></span>: <span class="hljs-string"><span class="hljs-string">"Sun, 07 Feb 2016 19:46:47 GMT"</span></span>, <span class="hljs-string"><span class="hljs-string">"active"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"firstname"</span></span>: <span class="hljs-string"><span class="hljs-string">"John"</span></span>, <span class="hljs-string"><span class="hljs-string">"lastname"</span></span>: <span class="hljs-string"><span class="hljs-string">"Doe"</span></span>, <span class="hljs-string"><span class="hljs-string">"username"</span></span>: <span class="hljs-string"><span class="hljs-string">"janedoe"</span></span> }</code> </pre><br>  "Barring good."  I liked it so much that I would create users in batches: <br><br><pre> <code class="bash hljs">$ <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">'[{"username": "userone", "firstname": "First", "lastname":"Last"},{"username":"usertwo", "firstname":"First", "lastname":"Last"}]'</span></span> | http http://0.0.0.0:5000/users HTTP/1.0 201 CREATED Content-Length: 585 Content-Type: application/json Date: Sun, 07 Feb 2016 20:01:33 GMT Server: Eve/0.6.1 Werkzeug/0.10.4 Python/3.5.0 { <span class="hljs-string"><span class="hljs-string">"_items"</span></span>: [ { <span class="hljs-string"><span class="hljs-string">"_created"</span></span>: <span class="hljs-string"><span class="hljs-string">"Sun, 07 Feb 2016 20:01:33 GMT"</span></span>, <span class="hljs-string"><span class="hljs-string">"_etag"</span></span>: <span class="hljs-string"><span class="hljs-string">"6f397b570ef12769d372c902fa6149bb7e9eaf89"</span></span>, <span class="hljs-string"><span class="hljs-string">"_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"56b7a29dcf7b35255aa5a1e8"</span></span>, <span class="hljs-string"><span class="hljs-string">"_links"</span></span>: { <span class="hljs-string"><span class="hljs-string">"self"</span></span>: { <span class="hljs-string"><span class="hljs-string">"href"</span></span>: <span class="hljs-string"><span class="hljs-string">"users/56b7a29dcf7b35255aa5a1e8"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"User"</span></span> } }, <span class="hljs-string"><span class="hljs-string">"_status"</span></span>: <span class="hljs-string"><span class="hljs-string">"OK"</span></span>, <span class="hljs-string"><span class="hljs-string">"_updated"</span></span>: <span class="hljs-string"><span class="hljs-string">"Sun, 07 Feb 2016 20:01:33 GMT"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"_created"</span></span>: <span class="hljs-string"><span class="hljs-string">"Sun, 07 Feb 2016 20:01:33 GMT"</span></span>, <span class="hljs-string"><span class="hljs-string">"_etag"</span></span>: <span class="hljs-string"><span class="hljs-string">"378f30b37724139c213a85079185226ab2b209f3"</span></span>, <span class="hljs-string"><span class="hljs-string">"_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"56b7a29dcf7b35255aa5a1e9"</span></span>, <span class="hljs-string"><span class="hljs-string">"_links"</span></span>: { <span class="hljs-string"><span class="hljs-string">"self"</span></span>: { <span class="hljs-string"><span class="hljs-string">"href"</span></span>: <span class="hljs-string"><span class="hljs-string">"users/56b7a29dcf7b35255aa5a1e9"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"User"</span></span> } }, <span class="hljs-string"><span class="hljs-string">"_status"</span></span>: <span class="hljs-string"><span class="hljs-string">"OK"</span></span>, <span class="hljs-string"><span class="hljs-string">"_updated"</span></span>: <span class="hljs-string"><span class="hljs-string">"Sun, 07 Feb 2016 20:01:33 GMT"</span></span> } ], <span class="hljs-string"><span class="hljs-string">"_status"</span></span>: <span class="hljs-string"><span class="hljs-string">"OK"</span></span> }</code> </pre><br>  Find the user " <i>John Doe</i> " by his name: <br><br><pre> <code class="bash hljs">$ http http://0.0.0.0:5000/users\?<span class="hljs-built_in"><span class="hljs-built_in">where</span></span>=<span class="hljs-string"><span class="hljs-string">'{"firstname":"John"}'</span></span> HTTP/1.0 200 OK Content-Length: 535 Content-Type: application/json Date: Sun, 07 Feb 2016 20:05:28 GMT Last-Modified: Sun, 07 Feb 2016 19:46:47 GMT Server: Eve/0.6.1 Werkzeug/0.10.4 Python/3.5.0 X-Total-Count: 1 { <span class="hljs-string"><span class="hljs-string">"_items"</span></span>: [ { <span class="hljs-string"><span class="hljs-string">"_created"</span></span>: <span class="hljs-string"><span class="hljs-string">"Sun, 07 Feb 2016 18:34:41 GMT"</span></span>, <span class="hljs-string"><span class="hljs-string">"_etag"</span></span>: <span class="hljs-string"><span class="hljs-string">"86f3495cf1d6edf301e25563099844bd816c5a3c"</span></span>, <span class="hljs-string"><span class="hljs-string">"_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"56b78e41cf7b35255aa5a1e6"</span></span>, <span class="hljs-string"><span class="hljs-string">"_links"</span></span>: { <span class="hljs-string"><span class="hljs-string">"self"</span></span>: { <span class="hljs-string"><span class="hljs-string">"href"</span></span>: <span class="hljs-string"><span class="hljs-string">"users/56b78e41cf7b35255aa5a1e6"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"User"</span></span> } }, <span class="hljs-string"><span class="hljs-string">"_updated"</span></span>: <span class="hljs-string"><span class="hljs-string">"Sun, 07 Feb 2016 19:46:47 GMT"</span></span>, <span class="hljs-string"><span class="hljs-string">"active"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"firstname"</span></span>: <span class="hljs-string"><span class="hljs-string">"John"</span></span>, <span class="hljs-string"><span class="hljs-string">"lastname"</span></span>: <span class="hljs-string"><span class="hljs-string">"Doe"</span></span>, <span class="hljs-string"><span class="hljs-string">"username"</span></span>: <span class="hljs-string"><span class="hljs-string">"janedoe"</span></span> } ], <span class="hljs-string"><span class="hljs-string">"_links"</span></span>: { <span class="hljs-string"><span class="hljs-string">"parent"</span></span>: { <span class="hljs-string"><span class="hljs-string">"href"</span></span>: <span class="hljs-string"><span class="hljs-string">"/"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"home"</span></span> }, <span class="hljs-string"><span class="hljs-string">"self"</span></span>: { <span class="hljs-string"><span class="hljs-string">"href"</span></span>: <span class="hljs-string"><span class="hljs-string">"users?where={\"firstname\":\"John\"}"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"users"</span></span> } }, <span class="hljs-string"><span class="hljs-string">"_meta"</span></span>: { <span class="hljs-string"><span class="hljs-string">"max_results"</span></span>: 25, <span class="hljs-string"><span class="hljs-string">"page"</span></span>: 1, <span class="hljs-string"><span class="hljs-string">"total"</span></span>: 1 } }</code> </pre><br>  We sort the users by their login in the reverse order: <br><br><pre> <code class="bash hljs">$ http http://0.0.0.0:5000/users\?sort\=-username HTTP/1.0 200 OK Content-Length: 1203 Content-Type: application/json Date: Sun, 07 Feb 2016 20:08:08 GMT Last-Modified: Sun, 07 Feb 2016 20:01:33 GMT Server: Eve/0.6.1 Werkzeug/0.10.4 Python/3.5.0 X-Total-Count: 3 { <span class="hljs-string"><span class="hljs-string">"_items"</span></span>: [ { <span class="hljs-string"><span class="hljs-string">"_created"</span></span>: <span class="hljs-string"><span class="hljs-string">"Sun, 07 Feb 2016 20:01:33 GMT"</span></span>, <span class="hljs-string"><span class="hljs-string">"_etag"</span></span>: <span class="hljs-string"><span class="hljs-string">"378f30b37724139c213a85079185226ab2b209f3"</span></span>, <span class="hljs-string"><span class="hljs-string">"_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"56b7a29dcf7b35255aa5a1e9"</span></span>, <span class="hljs-string"><span class="hljs-string">"_links"</span></span>: { <span class="hljs-string"><span class="hljs-string">"self"</span></span>: { <span class="hljs-string"><span class="hljs-string">"href"</span></span>: <span class="hljs-string"><span class="hljs-string">"users/56b7a29dcf7b35255aa5a1e9"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"User"</span></span> } }, <span class="hljs-string"><span class="hljs-string">"_updated"</span></span>: <span class="hljs-string"><span class="hljs-string">"Sun, 07 Feb 2016 20:01:33 GMT"</span></span>, <span class="hljs-string"><span class="hljs-string">"active"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"firstname"</span></span>: <span class="hljs-string"><span class="hljs-string">"First"</span></span>, <span class="hljs-string"><span class="hljs-string">"lastname"</span></span>: <span class="hljs-string"><span class="hljs-string">"Last"</span></span>, <span class="hljs-string"><span class="hljs-string">"username"</span></span>: <span class="hljs-string"><span class="hljs-string">"usertwo"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"_created"</span></span>: <span class="hljs-string"><span class="hljs-string">"Sun, 07 Feb 2016 20:01:33 GMT"</span></span>, <span class="hljs-string"><span class="hljs-string">"_etag"</span></span>: <span class="hljs-string"><span class="hljs-string">"6f397b570ef12769d372c902fa6149bb7e9eaf89"</span></span>, <span class="hljs-string"><span class="hljs-string">"_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"56b7a29dcf7b35255aa5a1e8"</span></span>, <span class="hljs-string"><span class="hljs-string">"_links"</span></span>: { <span class="hljs-string"><span class="hljs-string">"self"</span></span>: { <span class="hljs-string"><span class="hljs-string">"href"</span></span>: <span class="hljs-string"><span class="hljs-string">"users/56b7a29dcf7b35255aa5a1e8"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"User"</span></span> } }, <span class="hljs-string"><span class="hljs-string">"_updated"</span></span>: <span class="hljs-string"><span class="hljs-string">"Sun, 07 Feb 2016 20:01:33 GMT"</span></span>, <span class="hljs-string"><span class="hljs-string">"active"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"firstname"</span></span>: <span class="hljs-string"><span class="hljs-string">"First"</span></span>, <span class="hljs-string"><span class="hljs-string">"lastname"</span></span>: <span class="hljs-string"><span class="hljs-string">"Last"</span></span>, <span class="hljs-string"><span class="hljs-string">"username"</span></span>: <span class="hljs-string"><span class="hljs-string">"userone"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"_created"</span></span>: <span class="hljs-string"><span class="hljs-string">"Sun, 07 Feb 2016 18:34:41 GMT"</span></span>, <span class="hljs-string"><span class="hljs-string">"_etag"</span></span>: <span class="hljs-string"><span class="hljs-string">"86f3495cf1d6edf301e25563099844bd816c5a3c"</span></span>, <span class="hljs-string"><span class="hljs-string">"_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"56b78e41cf7b35255aa5a1e6"</span></span>, <span class="hljs-string"><span class="hljs-string">"_links"</span></span>: { <span class="hljs-string"><span class="hljs-string">"self"</span></span>: { <span class="hljs-string"><span class="hljs-string">"href"</span></span>: <span class="hljs-string"><span class="hljs-string">"users/56b78e41cf7b35255aa5a1e6"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"User"</span></span> } }, <span class="hljs-string"><span class="hljs-string">"_updated"</span></span>: <span class="hljs-string"><span class="hljs-string">"Sun, 07 Feb 2016 19:46:47 GMT"</span></span>, <span class="hljs-string"><span class="hljs-string">"active"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"firstname"</span></span>: <span class="hljs-string"><span class="hljs-string">"John"</span></span>, <span class="hljs-string"><span class="hljs-string">"lastname"</span></span>: <span class="hljs-string"><span class="hljs-string">"Doe"</span></span>, <span class="hljs-string"><span class="hljs-string">"username"</span></span>: <span class="hljs-string"><span class="hljs-string">"janedoe"</span></span> } ], <span class="hljs-string"><span class="hljs-string">"_links"</span></span>: { <span class="hljs-string"><span class="hljs-string">"parent"</span></span>: { <span class="hljs-string"><span class="hljs-string">"href"</span></span>: <span class="hljs-string"><span class="hljs-string">"/"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"home"</span></span> }, <span class="hljs-string"><span class="hljs-string">"self"</span></span>: { <span class="hljs-string"><span class="hljs-string">"href"</span></span>: <span class="hljs-string"><span class="hljs-string">"users?sort=-username"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"users"</span></span> } }, <span class="hljs-string"><span class="hljs-string">"_meta"</span></span>: { <span class="hljs-string"><span class="hljs-string">"max_results"</span></span>: 25, <span class="hljs-string"><span class="hljs-string">"page"</span></span>: 1, <span class="hljs-string"><span class="hljs-string">"total"</span></span>: 3 } }</code> </pre><br>  Well, finally remove all users: <br><br><pre> <code class="bash hljs">$ http delete http://0.0.0.0:5000/users HTTP/1.0 204 NO CONTENT Content-Length: 0 Content-Type: application/json Date: Sun, 07 Feb 2016 20:10:06 GMT Server: Eve/0.6.1 Werkzeug/0.10.4 Python/3.5.0</code> </pre><br>  I would not include this feature in <i>production</i> .  This is indicated in the <i>RESOURCE_METHODS</i> parameter ( <i>remove from the DELETE list</i> ): <br><br><pre> <code class="python hljs">RESOURCE_METHODS = [<span class="hljs-string"><span class="hljs-string">'GET'</span></span>, <span class="hljs-string"><span class="hljs-string">'POST'</span></span>, <span class="hljs-string"><span class="hljs-string">'DELETE'</span></span>]</code> </pre><br><h4>  <font color="#d62631">Conclusion</font> </h4><br>  We did not consider <a href="http://python-eve.org/features.html">all the features of</a> Eve, but even taking this into account, we received a complete version of the <i>REST API</i> . <br><br>  In this article I wanted to draw attention to the fact that a real RESTful service is much more than a couple of modules for Node.js and in most cases there is no need to develop such things from scratch, and even more so to write articles on how to do it in one hour.  Just look at the <a href="https://github.com/nicolaiarocci/eve/commits/develop">history of the project</a> , to once again make sure that a couple of hours / days / weeks is not enough even for a good team. <br><br>  <a href="http://nicolaiarocci.com/">Nicola Iarocci</a> , the author of <a href="http://python-eve.org/">Eve</a> , has created an excellent tool for quickly deploying the <i>REST API</i> , has given it enough attention and retained its ease of use. <br><br><h4>  <font color="#d62631">Links</font> </h4><br><ul><li>  <a href="http://python-eve.org/">Python eve</a> </li><li>  <a href="http://python-eve.org/rest_api_for_humans.html">Python Eve Presentation</a> </li><li>  <a href="httpie">Httpie</a> </li><li>  <a href="https://github.com/vkozlovski/python-eve">Project ID from an article in GitHub</a> </li></ul><br>  <a href="https://twitter.com/vkozlovski">Follow me on Twitter</a> , I talk about working in a startup, my mistakes and the right decisions, about python and everything related to web development. <br><br>  PS <i>I'm looking for developers to the company, the details in my <a href="http://habrahabr.ru/users/vladkozlovski/">profile</a> .</i> </div><p>Source: <a href="https://habr.com/ru/post/276731/">https://habr.com/ru/post/276731/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../276719/index.html">java.net.URL or the old horse will not spoil the furrow</a></li>
<li><a href="../276723/index.html">View the source (almost) total</a></li>
<li><a href="../276725/index.html">Monitoring Task Execution in IPython Notebook</a></li>
<li><a href="../276727/index.html">Checking a Microsoft Orleans project with PVS-Studio</a></li>
<li><a href="../276729/index.html">How to get a Spring logger</a></li>
<li><a href="../276737/index.html">The digest of interesting materials for the mobile # 139 developer (February 1-7)</a></li>
<li><a href="../276739/index.html">Why Yandex refused to confirm sites txt file</a></li>
<li><a href="../276741/index.html">‚ÄúDevilish‚Äù ACL - my version of rights verification</a></li>
<li><a href="../276745/index.html">Compare prices in online bookstores using python, pandas and matplotlib</a></li>
<li><a href="../276747/index.html">Perfect UI framework</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>