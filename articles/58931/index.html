<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>.Net: Multithreading Costs</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently I received a simple task: write a windows service to process user requests. The question of what these requests are and according to what pro...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>.Net: Multithreading Costs</h1><div class="post__text post__text-html js-mediator-article">  Recently I received a simple task: write a windows service to process user requests.  The question of what these requests are and according to what protocol the service works is beyond the scope of this article.  Another factor seemed to me more interesting. Is it multi-threaded to do request processing?  On the one hand, sequential execution slows down information processing.  On the other hand, the costs of creating and launching a stream may not be justified. <br>  So, the initial data: 20 simplest requests per second (1200 requests per minute) at peak time.  Test "server": Celeron, 3G, 1GB (70% free). <br><a name="habracut"></a><br><h3>  Single threaded system </h3><br>  First, we write a class base for single-threaded query execution. <br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } }</font> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> <ol><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> </ol> <code><font color="gray"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">using</font> System; <font color="#0000ff">using</font> System.Diagnostics; <font color="#0000ff">using</font> System.Threading; <font color="#0000ff">namespace</font> TestConsoleApplication { <font color="#0000ff">class</font> mockClass { <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; <font color="#0000ff">public</font> mockClass( <font color="#0000ff">int</font> incriment_speed) { <font color="#0000ff">this</font> .incriment_speed = incriment_speed; inc = 0; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment() { Thread.Sleep(incriment_speed); <font color="#0000ff">return</font> inc++; } <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment() { <font color="#0000ff">return</font> inc; } } <font color="#0000ff">class</font> TestConsoleApplication { <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main( <font color="#0000ff">string</font> [] args) { <font color="#0000ff">if</font> (args.Length&lt;1) <font color="#0000ff">return</font> ; <font color="#2B91AF">Int32</font> mockSpeed = 0; <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse(args[0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; <font color="#0000ff">var</font> mock = <font color="#0000ff">new</font> mockClass(mockSpeed); <font color="#0000ff">int</font> beginTick = Environment.TickCount; <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt; 1200; j++) { mock.incriment(); } <font color="#0000ff">int</font> endTick = Environment.TickCount; <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess().ProcessName); <font color="#2B91AF">Console</font> .WriteLine(mock.getIncriment()); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"tick: {0}"</font> , endTick - beginTick); <font color="#2B91AF">Console</font> .WriteLine( <font color="#A31515">"memory: {0:N0}K"</font> , (performance.RawValue/1024)); <font color="#2B91AF">Console</font> .ReadLine(); } } }</font> * This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Run the program with several parameters for delaying the request: 2, 5, 10 <br><table><tbody><tr><td colspan="2">  2 </td><td colspan="2">  five </td><td colspan="2">  ten </td></tr><tr><td>  tick </td><td>  memory </td><td>  tick </td><td>  memory </td><td>  tick </td><td>  memory </td></tr><tr><td>  3688 </td><td>  10 792K </td><td>  7281 </td><td>  10 780K </td><td>  13125 </td><td>  10 792K </td></tr></tbody></table><br>  As you can see, the memory practically does not suffer, and the time is approximately equal to (mockSpeed ‚Äã‚Äã+ 1) * 1200.  An extra millisecond will be written off for overhead. <br><br><h3>  Multithreaded system </h3><br>  Let's rewrite the program for working with multithreading, optimize it and check the results: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a></code> <ol><li>  <font color="#0000ff">using</font> System; </li><li>  <font color="#0000ff">using</font> System.Diagnostics; </li><li>  <font color="#0000ff">using</font> System.Threading; </li><li></li><li>  <font color="#0000ff">namespace</font> TestConsoleApplication </li><li>  { </li><li></li><li>  <font color="#0000ff">class</font> mockClass </li><li>  { </li><li>  <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> <font color="#2B91AF">Int32</font> incriment_speed; </li><li>  <font color="#0000ff">private</font> <font color="#2B91AF">Int32</font> inc; </li><li></li><li>  <font color="#0000ff">public</font> mockClass ( <font color="#0000ff">int</font> incriment_speed) </li><li>  { </li><li>  <font color="#0000ff">this</font> .incriment_speed = incriment_speed; </li><li>  inc = 0; </li><li>  } </li><li></li><li>  <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> incriment () </li><li>  { </li><li>  Thread.Sleep (incriment_speed); </li><li>  <font color="#0000ff">return</font> inc ++; </li><li>  } </li><li></li><li>  <font color="#0000ff">public</font> <font color="#2B91AF">Int32</font> getIncriment () </li><li>  { </li><li>  <font color="#0000ff">return</font> inc; </li><li>  } </li><li></li><li>  } </li><li></li><li>  <font color="#0000ff">class</font> TestConsoleApplication </li><li>  { </li><li>  <font color="#0000ff">private</font> <font color="#0000ff">static</font> mockClass mock = <font color="#0000ff">null</font> ; </li><li></li><li>  <font color="#0000ff">static</font> <font color="#0000ff">void</font> threadmethod () </li><li>  { </li><li>  <font color="#0000ff">lock</font> (mock) </li><li>  { </li><li>  mock.incriment (); </li><li>  } </li><li>  } </li><li></li><li>  <font color="#0000ff">static</font> <font color="#0000ff">void</font> Main ( <font color="#0000ff">string</font> [] args) </li><li>  { </li><li>  <font color="#0000ff">if</font> (args.Length &lt;1) <font color="#0000ff">return</font> ; </li><li></li><li>  <font color="#2B91AF">Int32</font> mockSpeed ‚Äã‚Äã= 0; </li><li>  <font color="#0000ff">if</font> (! <font color="#2B91AF">Int32</font> .TryParse (args [0], <font color="#0000ff">out</font> mockSpeed)) <font color="#0000ff">return</font> ; </li><li>  mock = <font color="#0000ff">new</font> mockClass (mockSpeed); </li><li></li><li>  <font color="#0000ff">var</font> performance = <font color="#0000ff">new</font> PerformanceCounter ( <font color="#A31515">"Process"</font> , <font color="#A31515">"Private Bytes"</font> , Process.GetCurrentProcess (). ProcessName); </li><li>  <font color="#0000ff">long</font> performance_RawValue = 0; </li><li>  <font color="#0000ff">int</font> beginTick = Environment.TickCount; </li><li>  <font color="#0000ff">lock</font> (mock) </li><li>  { </li><li>  <font color="#0000ff">for</font> ( <font color="#0000ff">int</font> j = 0; j &lt;1200; j ++) </li><li>  { </li><li>  <font color="#0000ff">var</font> trd = <font color="#0000ff">new</font> thread (threadmethod, 65536);  <font color="#008000">// select 1 page per stack</font> </li><li>  trd.Start (); </li><li>  } </li><li>  performance_RawValue = performance.RawValue; </li><li>  } </li><li>  <font color="#0000ff">int</font> end1Tick = Environment.TickCount; </li><li>  <font color="#0000ff">while</font> (mock.getIncriment () &lt;1200) </li><li>  { </li><li>  Thread.Sleep (2); </li><li>  } </li><li>  <font color="#0000ff">int</font> end2Tick = Environment.TickCount; </li><li></li><li>  <font color="#2B91AF">Console</font> .WriteLine ( <font color="#A31515">"starttick: {0}"</font> , end1Tick - beginTick); </li><li>  <font color="#2B91AF">Console</font> .WriteLine ( <font color="#A31515">"alltick: {0}"</font> , end2Tick - beginTick); </li><li>  <font color="#2B91AF">Console</font> .WriteLine ( <font color="#A31515">"memory: {0: N0} K"</font> , (performance_RawValue / 1024)); </li><li>  <font color="#2B91AF">Console</font> .ReadLine (); </li><li>  } </li><li>  } </li><li>  } </li></ol>  <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> </blockquote><br><br><table><tbody><tr><td>  - </td><td colspan="3">  2 </td><td colspan="3">  five </td><td colspan="3">  ten </td></tr><tr><td>  - </td><td>  start tick </td><td>  all tick </td><td>  memory </td><td>  start tick </td><td>  all tick </td><td>  memory </td><td>  start tick </td><td>  all tick </td><td>  memory </td></tr><tr><td>  Single threaded </td><td>  - </td><td>  3688 </td><td>  10 792K </td><td>  - </td><td>  7281 </td><td>  10 780K </td><td>  - </td><td>  13125 </td><td>  10 792K </td></tr><tr><td>  Multithreaded </td><td>  656 </td><td>  4234 </td><td>  323 508K </td><td>  625 </td><td>  7719 </td><td>  323 508K </td><td>  750 </td><td>  13735 </td><td>  323 508K </td></tr></tbody></table><br>  When testing the performance of multithreading, a new value of the start time of processes appeared.  It is this value that the total duration of the program runs.  The approximate process start is 0.5 millisecond.  We also see a significantly increased amount of used memory that is spent on the stack of the threads being run. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  Results </h3><br>  Select all compared values ‚Äã‚Äãin the table. <br><table><tbody><tr><td>  - </td><td>  Single threaded </td><td>  Multithreaded </td></tr><tr><td>  Total time </td><td>  The total time of the main thread depends on the execution time of all requests. </td><td>  The time of the main thread depends only on the number of requests. </td></tr><tr><td>  Total CPU Time </td><td>  Low parasitic loads </td><td>  Parasitic loads 2 times higher </td></tr><tr><td>  Memory </td><td>  Low memory queries, independent of the number of requests </td><td>  Each request consumes at least 256KB of memory per thread stack. </td></tr></tbody></table><br><br>  Such a ‚Äústudent laboratory work‚Äù came out in the study of this issue.  Please do not throw stones :) </div><p>Source: <a href="https://habr.com/ru/post/58931/">https://habr.com/ru/post/58931/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../58920/index.html">iRiver D7 - dictionary player</a></li>
<li><a href="../58924/index.html">Voting. Top Startups April</a></li>
<li><a href="../58927/index.html">Yota invites everyone to its booth at Expocomme.</a></li>
<li><a href="../58928/index.html">Suggest on Google - no Ajax</a></li>
<li><a href="../58930/index.html">"Recall" the password in Opera in 10 seconds if it is stored in Wand</a></li>
<li><a href="../58933/index.html">Apple Netbook? You are welcome!</a></li>
<li><a href="../58934/index.html">Pinarik online. Answers on questions</a></li>
<li><a href="../58937/index.html">Started accepting startups on the Second Russian Tech Tour</a></li>
<li><a href="../58939/index.html">Backup for everyone</a></li>
<li><a href="../58940/index.html">hover scoot: a selection of real jammen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>