<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Why use static types in javascript? (Example of static typing on Flow)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="As a JavaScript developer, you can program all day long, but not meet a single static type. So why think about studying them? 

 Well, in fact, learni...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Why use static types in javascript? (Example of static typing on Flow)</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/b81/b42/c72/b81b42c729ca4baca2957ab2708640bc.jpg" align="left">  As a JavaScript developer, you can program all day long, but not meet a single static type.  So why think about studying them? <br><br>  Well, in fact, learning about types is not just an exercise for developing thinking.  If you invest some time in the study of static types, their advantages, disadvantages and examples of use, this can greatly improve your programming skills. <br><br>  Interested?  Then you are lucky - this is what our series of articles is about. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h1>  First, the definition </h1><br>  The easiest way to understand static types is to contrast them with a dynamic one.  A language with static types is called a <b>language with static typing</b> .  On the other hand, a language with dynamic types is called a <b>language with dynamic typing</b> . <br><a name="habracut"></a><br>  The key difference is that languages ‚Äã‚Äãwith <b>static typing</b> perform type checking <b>at compile time</b> , and <b>dynamically typed</b> languages ‚Äã‚Äãperform type checking during program execution. <br><br>  Here it remains to learn another concept: what does ‚Äú <b>type checking</b> ‚Äù mean? <br><br>  To understand, look at the types of Java and JavaScript. <br><br>  ‚Äú <b>Types</b> ‚Äù refers to the data type being defined. <br><br>  For example, in Java you set <code>boolean</code> like this: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> result = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>;</code> </pre> <br>  This value has the correct type, because the <code>boolean</code> annotation corresponds to the logical value specified in <code>result</code> , and not to an integer or something else. <br><br>  On the other hand, if you try to declare: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> result = <span class="hljs-number"><span class="hljs-number">123</span></span>;</code> </pre> <br>  ... this will not compile because the wrong type is specified.  The code clearly indicates the result as a <code>boolean</code> , but sets it as an integer <code>123</code> . <br><br>  JavaScript and other languages ‚Äã‚Äãwith dynamic typing use a different approach, allowing the context to determine what type of data we are setting. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> result = <span class="hljs-literal"><span class="hljs-literal">true</span></span>;</code> </pre> <br>  In short: static typed languages ‚Äã‚Äãrequire you to specify data types for your constructs before you can use them.  Languages ‚Äã‚Äãwith dynamic typing do not require.  JavaScript takes the data type out of context, and Java requires it to be explicitly stated. <br><br>  So you see, types allow you to define program <b>invariants</b> , that is, logical statements and the conditions under which the program will run. <br><br>  <b>Type</b> checking verifies and ensures that the type of the construction (constant, logical type, number, variable, array, object) matches the invariant that you defined.  For example, you can specify that "this function always returns a string."  When the program starts, you can safely assume that it will return a string. <br><br>  The differences between static type checking and dynamic type checking are more important when a type error occurs.  In a static-typed language, errors occur at compile time.  In languages ‚Äã‚Äãwith dynamic typing - only when the program starts.  That is, <b>during the execution</b> . <br><br>  This means that a program in a dynamically typed language (like JavaScript or Python) can be compiled, even if it contains type errors. <br><br>  On the other hand, if a program in a language with static typing (like Scala or C ++) contains type errors, it will not compile until errors are fixed. <br><br><h1>  New Era JavaScript </h1><br>  Since JavaScript is a dynamically typed language, you can safely declare variables, functions, objects, and anything else without declaring a type. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> myString = <span class="hljs-string"><span class="hljs-string">"my string"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> myNumber = <span class="hljs-number"><span class="hljs-number">777</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> myObject = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">"Preethi"</span></span>, <span class="hljs-attr"><span class="hljs-attr">age</span></span>: <span class="hljs-number"><span class="hljs-number">26</span></span>, }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x, y</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x + y; }</code> </pre> <br>  Convenient, but not always perfect.  This is why tools such as <a href="https://flowtype.org/">Flow</a> and <a href="https://www.typescriptlang.org/">TypeScript</a> have recently appeared that give JavaScript * developers the option of using static types. <br><br>  <b><a href="https://flowtype.org/">Flow</a></b> is an open source static type checking library developed and released by Facebook.  It allows you to gradually add types to your JavaScript code. <br><br>  <b><a href="https://www.typescriptlang.org/">TypeScript</a></b> , on the other hand, is a superset that compiles into JavaScript ‚Äî although it feels TypeScript looks like a new language with static typing in itself.  That is very similar to JavaScript and is not difficult to master. <br><br>  In each case, if you want to use types, then explicitly tell the tool in which files to perform type checking.  In the case of TypeScript you do, creating files with the extension <code>.ts</code> instead of <code>.js</code> .  In the case of Flow, you specify the <code>@flow</code> comment at the beginning of the code. <br><br>  Once you have declared that you want to perform type checking in a file, you can use the appropriate syntax to specify types.  The difference between the tools is that Flow is a ‚Äúcontroller‚Äù of types, not a compiler, and TypeScript, on the other hand, is a compiler. <br><br>  I really think tools like Flow and TypeScript mark a <i>generational change and progress</i> for JavaScript. <br><br>  I personally learned a lot using types in my daily work.  That is why I hope you will join me on this short and pleasant journey into the world of static types. <br><br>  In the rest of this article will be considered: <br><br>  Part 1. A small introduction to the syntax and language Flow (this part). <br><br>  <a href="https://habrahabr.ru/post/326394/">Parts 2 and 3. Advantages and disadvantages of static types (with detailed examples)</a> . <br><br>  <a href="https://habrahabr.ru/post/326394/">Part 4. Do I need to use static types in javascript or not?</a> <br><br>  Notice that in the examples for this article I chose Flow instead of TypeScript, because I know it better.  For your own purposes, you can study them and choose a suitable tool.  TypeScript is also fantastic. <br><br>  Without further ado, let's get started! <br><br><h1>  Part 1. A Brief Introduction to Flow Syntax and Language </h1><br>  To understand the advantages and disadvantages of static types, you must first learn the basics of syntax for static types using Flow.  If you have never worked in a language with static typing before, it may take some time to get used to the syntax. <br><br>  Let's start by learning how to add types to JavaScript primitives, as well as constructs like arrays, objects, functions, etc. <br><br><h3>  boolean </h3><br>  This type in JavaScript describes boolean values ‚Äã‚Äã(true or false). <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> isFetching: boolean = <span class="hljs-literal"><span class="hljs-literal">false</span></span>;</code> </pre> <br>  Please note that the following syntax is always used when specifying a type: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/05e/b9b/c79/05eb9bc795566d0055eb31648cb68140.png"><br><br><h3>  number </h3><br>  This type describes floating-point numbers according to the IEEE 754 standard. Unlike many other programming languages, JavaScript does not distinguish between different types of numbers (such as integers, short, long, floating-point).  Instead, all numbers are always stored as double precision numbers.  Therefore, you only need one type to describe any number. <br><br>  <code>number</code> includes <code>Infinity</code> and <code>NaN</code> . <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> luckyNumber: number = <span class="hljs-number"><span class="hljs-number">10</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> notSoLuckyNumber: number = <span class="hljs-literal"><span class="hljs-literal">NaN</span></span>;</code> </pre> <br><h3>  string </h3><br>  This type matches the string. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> myName: string = <span class="hljs-string"><span class="hljs-string">'Preethi'</span></span>;</code> </pre> <br><h3>  null </h3><br>  The data type is <code>null</code> in javascript. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> data: <span class="hljs-literal"><span class="hljs-literal">null</span></span> = <span class="hljs-literal"><span class="hljs-literal">null</span></span>;</code> </pre> <br><h3>  void </h3><br>  The data type is <code>undefined</code> in javascript. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> data: <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> = <span class="hljs-literal"><span class="hljs-literal">undefined</span></span>;</code> </pre> <br>  Note that <code>null</code> and <code>undefined</code> interpreted differently.  If you try to write: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> data: <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-comment"><span class="hljs-comment">/*------------------------FLOW ERROR------------------------*/</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> data: <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> = <span class="hljs-literal"><span class="hljs-literal">null</span></span> ^ <span class="hljs-literal"><span class="hljs-literal">null</span></span>. This type is incompatible <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> data: <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> = <span class="hljs-literal"><span class="hljs-literal">null</span></span> ^ <span class="hljs-literal"><span class="hljs-literal">undefined</span></span></code> </pre> <br>  Flow will give an error because the type assumed an <code>undefined</code> type, and this is not the same as the <code>null</code> type. <br><br><h3>  Array </h3><br>  Describes a JavaScript array.  You use the <code>Array&lt;T&gt;</code> syntax to define an array whose elements have a certain type <code>&lt;T&gt;</code> . <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> messages: <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>&lt;string&gt; = [<span class="hljs-string"><span class="hljs-string">'hello'</span></span>, <span class="hljs-string"><span class="hljs-string">'world'</span></span>, <span class="hljs-string"><span class="hljs-string">'!'</span></span>];</code> </pre> <br>  Note that we replaced <code>T</code> with <code>string</code> .  This means that we declare <code>messages</code> as an array of strings. <br><br><h3>  An object </h3><br>  Describes the JavaScript object.  There are different ways to add types to objects. <br><br>  You can add types to describe the shape of an object: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> aboutMe: { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: string, <span class="hljs-attr"><span class="hljs-attr">age</span></span>: number } = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Preethi'</span></span>, <span class="hljs-attr"><span class="hljs-attr">age</span></span>: <span class="hljs-number"><span class="hljs-number">26</span></span>, };</code> </pre> <br>  You can define an object as a map, in which the rows are assigned certain values: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> namesAndCities: { [name: string]: string } = { <span class="hljs-attr"><span class="hljs-attr">Preethi</span></span>: <span class="hljs-string"><span class="hljs-string">'San Francisco'</span></span>, <span class="hljs-attr"><span class="hljs-attr">Vivian</span></span>: <span class="hljs-string"><span class="hljs-string">'Palo Alto'</span></span>, };</code> </pre> <br>  You can also define an Object data type: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> someObject: <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span> = {}; someObject.name = {}; someObject.name.first = <span class="hljs-string"><span class="hljs-string">'Preethi'</span></span>; someObject.age = <span class="hljs-number"><span class="hljs-number">26</span></span>;</code> </pre> <br>  In the latter case, we can set any key and any value for an object without restrictions, so from the point of view of type checking there is no special meaning here. <br><br><h3>  any </h3><br>  It is literally any type.  The <code>any</code> type effectively avoids any checks, so you should not use it unless absolutely necessary (for example, if you need to bypass type checking or need an emergency hatch). <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> iCanBeAnything:any = <span class="hljs-string"><span class="hljs-string">'LALA'</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-comment"><span class="hljs-comment">// 'LALA2'</span></span></code> </pre> <br>  The <code>any</code> type can be useful if you use a third-party library that extends other system prototypes (like Object.prototype). <br><br>  For example, if the library extends the Object.prototype with the <code>doSomething</code> property: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.prototype.someProperty(<span class="hljs-string"><span class="hljs-string">'something'</span></span>);</code> </pre> <br>  then you may get an error: <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">41</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.prototype.someProperty(<span class="hljs-string"><span class="hljs-string">'something'</span></span>) ^^^^^^ property <span class="hljs-string"><span class="hljs-string">`someProperty`</span></span>. Property not found <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">41</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.prototype.someProperty(<span class="hljs-string"><span class="hljs-string">'something'</span></span>) ^^^^^^^^^^^^ <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span></code> </pre> <br>  To avoid this, use <code>any</code> : <br><br><pre> <code class="javascript hljs">(<span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.prototype: any).someProperty(<span class="hljs-string"><span class="hljs-string">'something'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// No errors!</span></span></code> </pre> <br><h3>  Functions </h3><br>  The most common way to add types to functions is to assign types to the arguments to be passed and (when appropriate) the return value: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> calculateArea = (radius: number): <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">number</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">3.14</span></span> * radius * radius };</code> </pre> <br>  You can even add types to async functions (see below) and generators: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">amountExceedsPurchaseLimit</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> amount: number, getPurchaseLimit: (</span></span></span><span class="hljs-function">) =&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Promise</span></span></span><span class="hljs-function">&lt;</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">number</span></span></span><span class="hljs-function">&gt; ): </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Promise</span></span></span><span class="hljs-function">&lt;</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">boolean</span></span></span><span class="hljs-function">&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> limit = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> getPurchaseLimit(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> limit &gt; amount; }</code> </pre> <br>  Notice that our second parameter <code>getPurchaseLimit</code> described as a function that returns <code>Promise</code> .  And the <code>amountExceedsPurchaseLimit</code> function <code>amountExceedsPurchaseLimit</code> also return a <code>Promise</code> , as described. <br><br><h3>  Type Aliases </h3><br>  Assigning type aliases is my favorite way to use static types.  Ptsvedonyms allow you to create new types of existing types (number, string, etc.): <br><br><pre> <code class="javascript hljs">type PaymentMethod = { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: number, <span class="hljs-attr"><span class="hljs-attr">name</span></span>: string, <span class="hljs-attr"><span class="hljs-attr">limit</span></span>: number, };</code> </pre> <br>  Above we have created a new type called <code>PaymentMethod</code> , whose properties are composed of the <code>number</code> and <code>string</code> types. <br><br>  Now, if you want to use <code>PaymentMethod</code> , you can write: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> myPaypal: PaymentMethod = { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-number"><span class="hljs-number">123456</span></span>, <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Preethi Paypal'</span></span>, <span class="hljs-attr"><span class="hljs-attr">limit</span></span>: <span class="hljs-number"><span class="hljs-number">10000</span></span>, };</code> </pre> <br>  You can also create pseudonyms for any primitive by wrapping the underlying type inside another type.  For example, if you want type aliases for <code>Name</code> and <code>Email</code> : <br><br><pre> <code class="javascript hljs">type Name = string; type Email = string; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> myName: Name = <span class="hljs-string"><span class="hljs-string">'Preethi'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> myEmail: Email = <span class="hljs-string"><span class="hljs-string">'iam.preethi.k@gmail.com'</span></span>;</code> </pre> <br>  By doing this, you emphasize that <code>Name</code> and <code>Email</code> are two different things, not just strings.  Since the name and mailing address do not really replace each other, now you will not confuse them by accident. <br><br><h3>  Parameterized Types </h3><br>  Parameterized types (Generics) is a level of abstraction over the types themselves.  What is meant? <br><br>  Let's get a look: <br><br><pre> <code class="javascript hljs">type GenericObject&lt;T&gt; = { <span class="hljs-attr"><span class="hljs-attr">key</span></span>: T }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> numberT: GenericObject&lt;number&gt; = { <span class="hljs-attr"><span class="hljs-attr">key</span></span>: <span class="hljs-number"><span class="hljs-number">123</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> stringT: GenericObject&lt;string&gt; = { <span class="hljs-attr"><span class="hljs-attr">key</span></span>: <span class="hljs-string"><span class="hljs-string">"Preethi"</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> arrayT: GenericObject&lt;<span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>&lt;number&gt;&gt; = { <span class="hljs-attr"><span class="hljs-attr">key</span></span>: [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>] }</code> </pre> <br>  An abstraction for type <code>T</code> .  Now you can use any type you want to represent <code>T</code>  For <code>numberT</code> our <code>T</code> will be a number.  And for <code>arrayT</code> , it will be of type <code>Array&lt;number&gt;</code> . <br><br>  Yes I know.  Your head is spinning a little if you are dealing with types for the first time.  I promise that this ‚Äúgentle‚Äù introduction is almost over! <br><br><h3>  Maybe </h3><br>  Maybe allows us to set a type for a value that could potentially be <code>null</code> or <code>undefined</code> .  For some <code>T</code> will be set type <code>T|void|null</code> .  This means that it can be either <code>T</code> , or <code>void</code> , or <code>null</code> .  To establish the type of <code>maybe</code> you need to add a question mark before determining the type: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> message: ?string = <span class="hljs-literal"><span class="hljs-literal">null</span></span>;</code> </pre> <br>  Here we say that the message is either a <code>string</code> , either <code>null</code> , or <code>undefined</code> . <br><br>  You can also use maybe to indicate that a property of an object will either be of some type <code>T</code> , or <code>undefined</code> : <br><br><pre> <code class="javascript hljs">type Person = { <span class="hljs-attr"><span class="hljs-attr">firstName</span></span>: string, middleInitial?: string, <span class="hljs-attr"><span class="hljs-attr">lastName</span></span>: string, };</code> </pre> <br>  By placing a question mark after the <code>middleInitial</code> property <code>middleInitial</code> , you can specify that this is an optional field. <br><br><h3>  Non-intersecting sets </h3><br>  Another powerful way to present data models.  Non-overlapping sets are useful if the program needs to process different data types simultaneously.  In other words, the data format may depend on the situation. <br><br>  Extend the PaymentMethod type from our previous examples on parameterized types.  Suppose that a user in an application can have one of three payment methods.  In this case, you can write something like this: <br><br><pre> <code class="javascript hljs">type Paypal = { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: number, <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'Paypal'</span></span> }; type CreditCard = { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: number, <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'CreditCard'</span></span> }; type Bank = { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: number, <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'Bank'</span></span> };</code> </pre> <br>  Then you can set the PaymentMethod type as a non-overlapping set of these three options. <br><br><pre> <code class="javascript hljs">type PaymentMethod = Paypal | CreditCard | Bank;</code> </pre> <br>  Now the payment method will always be one of three options.  The set is assigned to "non-intersecting" due to the <code>type</code> property. <br><br>  Further in the second part you will see more practical examples of non-intersecting sets. <br><br>  So, almost finished.  Let's just say a couple of other features of Flow that are worth mentioning. <br><br>  <b>1) Type inference</b> : Flow tries to infer types wherever possible.  This function is activated when the type controller is able to automatically display the data type in the expression.  This helps to avoid unnecessary annotations. <br><br>  For example, you can write: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/* @flow */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Rectangle</span></span></span><span class="hljs-class"> </span></span>{ width: number; height: number; <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(width, height) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.width = width; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.height = height; } circumference() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.width * <span class="hljs-number"><span class="hljs-number">2</span></span>) + (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.height * <span class="hljs-number"><span class="hljs-number">2</span></span>) } area() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.width * <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.height; } }</code> </pre> <br>  Although there are no types in this class, Flow is able to adequately check them: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> rectangle = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Rectangle(<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> area: string = rectangle.area(); <span class="hljs-comment"><span class="hljs-comment">// Flow errors 100: var area: string = rectangle.area(); ^^^^^^^^^^^^^^^^ number. This type is incompatible with 100: var area: string = rectangle.area(); ^^^^^^ string</span></span></code> </pre> <br>  Here I tried to set the <code>area</code> as a <code>string</code> , but in the definition of the <code>Rectangle</code> class, we found that <code>width</code> and <code>height</code> are numbers.  Accordingly, by the definition of the <code>area</code> function, it must return a <code>number</code> .  Suppose I did not explicitly define the types for the <code>area</code> function, Flow found an error. <br><br>  One thing to note is that the flow maintainers recommend adding explicit definitions when exporting a class definition so that it is easier to later determine the cause of errors when the class is not used in a local context. <br><br>  <b>2) Dynamic type tests</b> : Essentially this means that the Flow logic allows you to determine what type the value will have during program execution, so this information can be used during static analysis.  Such tests are useful in situations where Flow finds an error, but you need to convince Flow that you are doing everything correctly. <br><br>  I do not want to go into details, because it is a more advanced function, which I hope to write a separate article, but if you want to study it, you should study the <a href="https://flowtype.org/docs/dynamic-type-tests.html">documentation</a> . <br><br><h1>  We are done with the syntax. </h1><br>  We have considered a lot in the first part!  Hope this superficial review was helpful and clear.  If it is interesting to dig deeper, then I advise you to dive into <a href="https://flowtype.org/docs/">well-written documentation</a> and study. <br><br>  With the end of the syntax description, let's finally move on to the interesting part: studying the advantages and disadvantages of using types! <br><br><img src="https://habrastorage.org/files/2f6/52a/c99/2f652ac99bf147f385b4fc45b2e22cf6.jpg" align="left">  <font color="gray">About the author: Preethi Kasireddy, Co-Founder and Lead Engineer, Sapien AI, California</font> <br clear="all">  <b><a href="https://habrahabr.ru/post/326394/"><i>Continued: "The advantages and disadvantages of static types"</i></a></b> </div><p>Source: <a href="https://habr.com/ru/post/326304/">https://habr.com/ru/post/326304/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../326292/index.html">‚ÄúHow it works‚Äù: introduction to SSL / TLS</a></li>
<li><a href="../326294/index.html">The book "User stories. The Art of Agile Software Development</a></li>
<li><a href="../326296/index.html">Oscillating link model in resonant oscillation mode in Python</a></li>
<li><a href="../326298/index.html">Problems with the speed of the "gettimeofday" and "clock_gettime" system calls in AWS EC2</a></li>
<li><a href="../326302/index.html">Writing a 2-d game in Java # 2</a></li>
<li><a href="../326308/index.html">Google released technical data and TPU appointment</a></li>
<li><a href="../326312/index.html">How to write a chat bot for vk.com in 3 minutes</a></li>
<li><a href="../326314/index.html">Delta has lost $ 150 million due to the desire of the manufacturer of emergency generators for the data center</a></li>
<li><a href="../326316/index.html">Useful Plugins and Security Tips for WordPress</a></li>
<li><a href="../326318/index.html">In the Canadian airport discovered devices to spy on smartphones</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>