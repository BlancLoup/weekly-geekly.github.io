<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Administer the server through a single console</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! 

 For a long time I was going to write on Habr√©, but somehow I put it off. But I recently read a couple of articles ( one , two ) and realized...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Administer the server through a single console</h1><div class="post__text post__text-html js-mediator-article">  Hello! <br><br>  For a long time I was going to write on Habr√©, but somehow I put it off.  But I recently read a couple of articles ( <a href="http://habrahabr.ru/post/243613/">one</a> , <a href="http://habrahabr.ru/company/microsoft/blog/242863/">two</a> ) and realized that I needed to pull myself together.  This is my first post on Habr√©, I hope that it will be successful. <br><br><img align="left" src="https://habrastorage.org/files/1ac/d79/f0c/1acd79f0cb9c45288f10f2df4da09c28.png" alt="Logo"><h4>  <b>Start</b> </h4><br>  To begin with, I work as a system administrator and is a bit far from programming, but I often write all sorts of scripts that facilitate everyday work.  Often it is necessary to solve similar tasks on servers, for example, open a port for an ip list on all servers or check service status, check which servers are allowed to log in for a specific user, etc.  The list of tasks of the same type is great, and I think that many administrators are familiar with them. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  <b>Attempt at writing</b> </h4><br>  As soon as the number of servers exceeded the critical point, I had a question: how to manage all this and not spend a lot of time on it.  It is clear that logging into the servers via RDP \ SSH and executing the same commands there is not Feng Shui. <br><a name="habracut"></a><br>  A quick analysis showed that Powershell is best suited for managing Windows servers.  This was the reason for his study.  To begin with, a simple script was written that allowed you to connect to Windows servers and execute scripts and commands there.  In a relatively short period of time, this script was upgraded and became more or less suitable for everyday tasks.  This has greatly simplified the work.  However, along with this, there were difficulties: it was necessary each time to edit a text file with a list of servers in order to execute commands only on the necessary servers.  It was also inconvenient to store ready-made scripts for execution.  In addition, I wanted to make something universal and easy to use.  Here a little PHP programming experience came in handy.  The idea was simple - to tie the script to the WEB interface and make it work for you and your colleagues.  Denwer was raised on a work computer and work began to boil. <br><br>  After a short time, the first prototype appeared.  Now it was possible to enter commands directly in the browser and list the servers "separated by commas".  The result of the execution was also displayed in the browser.  After a short period of time, separate functions for managing processes and services appeared.  The site began to use colleagues, began to receive new ideas. <br><br><h4>  <b>Version 2</b> </h4><br>  As you understand, there was no talk about design and ‚Äúusability‚Äù.  It was just a set of links, input and output windows.  Minimal error handling.  In addition, I quickly realized that the site is not only a convenience, but also carries a threat - there was no control over the execution of commands through the site, no logs were kept (Apache logs are not taken into account).  Anyone who knew the address could easily connect and execute any commands, including shutting down the servers and deleting data from them.  Authorization on the site was not.  At the same time, it was not necessary to know either logins or server passwords.  It was enough to enter the name of the server (s) and the command, the website did the rest itself.  For the sake of fairness, I must say that the site was on my working computer and there was no access from the outside, but it didn‚Äôt really warm the soul. <br><br>  In this state, the site did not last long and it was decided to redo it a bit.  So there was a second version of the site.  Authorization via ‚Äú.htaccess‚Äù was added to the menu, a list of ‚Äúfrequently used scripts‚Äù appeared, the first version of the ‚Äúengine‚Äù appeared.  Also began to appear highly specialized functions related to the specifics of the company.  The site "moved" to the server, under the normal bundle of Apache \ PHP \ MySQL.  Below are screenshots from the second version. <br><br><div class="spoiler">  <b class="spoiler_title">Screenshots</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/dc4/68d/a08/dc468da08cae4c4bacc9934c2f38a2a0.png" alt="Service"><br>  <i>1. Work with services</i> <br><br><img src="https://habrastorage.org/files/989/630/975/989630975f194dc6ba296f48e508d84a.png" alt="Help"><br>  <i>2. Frequently used scripts</i> <br><br><img src="https://habrastorage.org/files/4ab/9ab/5b3/4ab9ab5b30a04287a198dfd7ca2f1c40.png" alt="Run command"><br>  <i>3. Run the script</i> <br></div></div><br><br><h4>  <b>Version 3</b> </h4><br>  At the next stage, it became necessary to differentiate user access to different servers.  For simplicity, a copy of the site with a different set of servers was raised.  At that time it was enough.  So the idea was to make a normal authorization with the delineation of rights. <br>  This was the impetus for the development of the third version.  When writing it, all the problems and wishes that were available at that time were taken into account.  As a result, the engine was upgraded, its own authorization was written, the admin section appeared (user and accessible server management), and the missing sections were added.  At the moment, the site has been working on this version for more than a year and has the following features: <br><br><ul><li>  Work with services </li><li>  Work with processes </li><li>  Remote command line (the ability to save scripts) </li><li>  Information: about iron, DB lists, Firewall rules </li><li>  Knowledge base </li><li>  Logging </li><li>  Highly specialized functions </li></ul><br><br><div class="spoiler">  <b class="spoiler_title">Screenshots</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/c02/d0e/a70/c02d0ea704d044cf8601f9563d61adfa.png" alt="Service"><br>  <i>4. Work with services</i> <br><br><img src="https://habrastorage.org/files/5df/62a/dc7/5df62adc787544ab885a3575a7be8fff.png" alt="KB"><br>  <i>5. Knowledge base</i> <br><br><img src="https://habrastorage.org/files/441/d18/e0a/441d18e0ad764ad4bc0822e4b6b28207.png" alt="Run command"><br>  <i>6. Run the script</i> <br></div></div><br><br>  The main disadvantage of the site is to work only with Windows servers.  This is due to the fact that the overwhelming number of servers used in our company is a Windows server.  Recently, the number of servers running Linux began to grow, and the question arose of how to adapt the site for them.  To add support for Linux, it was necessary to rewrite the code a lot and "break" the ideology of the site, which was not what I wanted to do.  In addition, there have been many attempts to find ways to execute Linux commands from under Windows in the console and somehow screw it to scripting languages.  A few months later a solution was found. <br><br><h4>  <b>Project</b> </h4><br>  A year ago, I began to study frameworks and I had a final thought in my head - to make a project.  The project received the name: SSC Panel - Smart Server Control Panel.  At the moment, laid the foundation of the site.  There is an implementation of working with both Windows and Linux servers.  Implemented admin, remote command line, it is possible to save scripts, logging.  So far a little, but, over time, I hope there will be more of them.  The site uses the Kohana 3.3.2 engine, the commercial theme is ‚ÄúSmartAdmin‚Äù (not very well, I think I need to change), Powershell v3 is used for working with Windows (required on the server, the client may have v2), Linux is used for working with Linux <a href="http://www.powershellmagazine.com/2014/07/03/posh-ssh-open-source-ssh-powershell-module/">Posh-ssh</a> .  As they say, it's better to see once: <br><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/yJgb1zW5bzI%3Ffeature%3Doembed&amp;xid=17259,1500004,15700023,15700186,15700190,15700253&amp;usg=ALkJrhimZreVZH_JWoqBPveBVorDRrIiPg" frameborder="0" allowfullscreen=""></iframe><br><br><h4>  <b>Future plans</b> </h4><br>  Develop the project and make it professional.  There are a lot of ideas for implementation.  What is planned in the near future: <br><ul><li>  Work with server groups </li><li>  Section "Information" (hardware, software, possibly inventory, etc.) </li><li>  Knowledge base. </li><li>  Run scripts by cron. </li></ul><br>  This is not a definitive list, and it will grow. </div><p>Source: <a href="https://habr.com/ru/post/246485/">https://habr.com/ru/post/246485/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../246471/index.html">My personal Sony Hack</a></li>
<li><a href="../246473/index.html">Club of anonymous Santa Clauses in Habr√© 2014-2015</a></li>
<li><a href="../246477/index.html">Yii 1.1.16</a></li>
<li><a href="../246481/index.html">Quick Rollback in Veeam Backup & Replication: a new mode for fast recovery of virtual machine disks</a></li>
<li><a href="../246483/index.html">Google's Quantum Online Sandbox</a></li>
<li><a href="../246487/index.html">Peace, friendship and chewing on the digital services market</a></li>
<li><a href="../246489/index.html">Contest of games with gamepad support</a></li>
<li><a href="../246491/index.html">Work with sound and library SuperPowered</a></li>
<li><a href="../246495/index.html">Interview with David Allen</a></li>
<li><a href="../246497/index.html">6 games in 6 weeks - the fifth game</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>