<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Red Hat replaces Docker with Podman</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It is clear that at the moment passions around Red Hat have a very different and very global focus , but we are still talking about our local and appl...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Red Hat replaces Docker with Podman</h1><div class="post__text post__text-html js-mediator-article">  It is clear that at the moment passions around Red Hat have a very different and very global <a href="https://habr.com/post/428035/">focus</a> , but we are still talking about our local and applied from the world of containers.  Since the beginning of this year, Red Hat has been actively working on a replacement for Docker called <a href="https://podman.io/">Podman</a> (or <a href="https://github.com/containers/libpod">libpod</a> ).  For some reason, they did not write about this project in Habr√©, and now it‚Äôs a very good time to get to know him, learn about his background and think about prospects.  Go! <br><br><img src="https://habrastorage.org/webt/hd/wj/kz/hdwjkzhgebmi5nh0kqny89ujgoi.png"><a name="habracut"></a><br><br><h2>  CRI-O as prehistory </h2><br>  If you take a look at the modern world of Linux containers, it is easy to see that the topic of today's article is just one of the steps in the Red Hat long-term strategy.  A striking confirmation of this is <a href="http://cri-o.io/">the CRI-O project</a> , which we <a href="https://habr.com/company/flant/blog/340010/">wrote about a</a> year ago.  In short, CRI-O is a implementation of the Kubernetes CRI (Container Runtime Interface) interface for launching executable container environments that are compatible with the OCI (Open Container Initiative) standard.  If it is even shorter, then this is a replacement for Docker as a Kubernetes runtime.  <i>(A technically similar initiative for K8s on the part of Docker Inc. is <a href="https://github.com/containerd/cri">cri-containerd</a> , which we <a href="https://habr.com/company/flant/blog/414875/">also wrote about</a> ; in the same article there is a comparison of the performance of these two solutions.)</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The story behind CRI-O is such that while OCI was preparing standards for containers ( <a href="https://github.com/opencontainers/runtime-spec/">Runtime Specification</a> and <a href="https://github.com/opencontainers/image-spec">Image Specification</a> ) <i>[which, incidentally, also happened with the participation of Red Hat]</i> , they created and placed a new project called OCID in Kubernetes in an incubator ( Open Container Initiative Daemon), which was later [at the request of OCI] renamed CRI-O.  Its mission sounded like ‚Äúthe implementation of a standard interface for the executable environment for containers in Kubernetes‚Äù, and promotion to the ‚Äútechnical masses‚Äù was carried out as part of a larger project on the creation of an operating system for containers - <a href="https://www.projectatomic.io/">Project Atomic</a> . <br><br><img src="https://habrastorage.org/webt/ev/lg/29/evlg29gpllaqx4dpakb6viu8wtc.jpeg"><br>  <i><a href="https://twitter.com/ryanj/status/938576648043147264">Caps</a> with CRI-O logo on KubeCon + CloudNativeCon North America 2017</i> <br><br>  Over the past time, CRI-O has matured to <a href="https://medium.com/cri-o/cri-o-1-0-is-here-d06b97b92a98">version 1.0</a> , <a href="https://twitter.com/bitfield/status/929219893274333185">received</a> support in Minikube, and its latest achievement can be considered as the interface for the default container executable environment in <a href="https://kubic.opensuse.org/">the Kubic project</a> , which, most notably, is being developed by the competitive community (for Red Hat) Linux distribution - openSUSE. <br><br>  Returning to the topic of the article: Podman was originally part of CRI-O. <br><br><h2>  The appearance and essence of Podman </h2><br>  The official announcement of the project Podman (the name is short for ‚Äúpod manager‚Äù) <a href="https://www.projectatomic.io/blog/2018/02/reintroduction-podman/">took place</a> in February of this year: <br><br><blockquote>  <i>‚ÄúPodman (formerly known as kpod) has existed since last summer.</i>  <i>It was originally part of the <a href="https://github.com/kubernetes-sigs/cri-o">CRI-O</a> project.</i>  <i>We selected podman into a separate project - <a href="https://github.com/containers/libpod">libpod</a> .</i>  <i>We wanted both Podman and CRI-O to evolve with their speed.</i>  <i>Both work fine both individually (as independent utilities) and together. ‚Äù</i> </blockquote><br>  For this reason, the announcement itself was titled as ‚Äú <i>reintroduction‚Äù</i> .  And the first public release of Podman - <a href="">v0.2</a> - took place 2 weeks before this announcement.  So what is the essence of Podman? <br><br>  The goal of Podman is to provide a console interface for running containers outside the orchestration system.  It is noteworthy that launched containers can be combined into special groups with common namespaces, i.e.  pods - this concept has already become well known thanks to Kubernetes.  The project follows the ideology of UNIX-commands, where each utility does only one thing, but well.  Another important detail, which the developers constantly emphasize, was already cited above in the announcement: Podman can be used both with CRI-O and independently of it. <br><br>  In general, the main idea of ‚Äã‚ÄãPodman is to provide Kubernetes users, who chose CRI-O as an executable environment for containers, with an analogue of the Docker CLI console interface (to interact with containers and images running in clusters): <br><br><blockquote>  <i>‚ÄúPodman implements 38 of the 40 Docker CLI commands defined in Docker 1.13 (at the time of the announcement in February - <b>approx. Transl.</b> ), But we did not specifically repeat some of them.</i>  <i>For example, those related to Docker Swarm ‚Äî instead, for pods / containers that need orchestration, we suggest using Kubernetes.</i>  <i>Also, some commands for the Docker Plugins like volume plug-ins and for the network were not implemented.</i>  <i>A complete list of Podman commands and their equivalents in Docker can be found on the <a href="">Podman Usage Transfer</a> page. ‚Äù</i> </blockquote><br><img src="https://habrastorage.org/webt/a-/tm/uo/a-tmuolifndysjinywi1xj16wf8.png"><br>  <i>Fragment of the Docker and Podman command comparison table: most of them are the same, but there are also differences</i> <br><br>  However, behind this apparent identity in the interface lies the fundamental difference in architecture: if the Docker CLI communicates with the Docker daemon to execute commands, then Podman is an independent utility that does not require any daemons to work. <br><br>  At least because of this architectural difference, it would be more correct to compare Podman not with Docker as such, but with crictl, a console utility from the <a href="https://github.com/kubernetes-sigs/cri-tools">cri-tools</a> (it is used, in particular, to <a href="https://habr.com/company/flant/blog/414875/">integrate containerd</a> with Kubernetes).  And here there are functional differences: Podman can restart the stopped containers, and also provides image container management.  (For a more detailed comparison, see the <a href="https://blog.openshift.com/crictl-vs-podman/">OpenShift blog</a> .) <br><br>  With the <a href="https://fedoramagazine.org/fedora-28-atomic-host-brings-podman-automatic-update-check/">release of</a> Fedora 28 Atomic Host (May of this year), Podman has become the default Linux distribution tool for managing containers.  And only recently, in September, at the Linux conference All Systems Go!  in Berlin, Dan Walsh, head of the Red Hat Container Engineering team, introduced Podman to an even wider audience - a recording of the performance can be seen <a href="https://media.ccc.de/v/ASG2018-177-replacing_docker_with_podman">here</a> (and only the presentation <a href="https://podman.io/slides/2018_10_01_Replacing_Docker_With_Podman.pdf">here</a> ). <br><br><img src="https://habrastorage.org/webt/33/tb/qx/33tbqxv_zc2u_rzyexnlimwf224.jpeg"><br>  <i>Podman Presentation on All Systems Go!</i>  <i>2018</i> <br><br><h3>  Technical Notes </h3><br>  The latest release of Podman is <a href="">v0.10.1.3</a> (of October 18), and the latest with new features is <a href="">v0.10.1</a> (of October 12), which absorbed several new commands and additional flags. <br><br>  Podman code is written in the Go language and is distributed under the terms of the free Apache License 2.0.  Ready-to-install packages are available for Fedora version 27 and higher (there is also a Ubuntu installation <a href="">guide</a> ).  Among the dependent components for Podman operation are utilities for Linux containers, such as <a href="https://github.com/opencontainers/runc">runc</a> and <a href="https://github.com/kubernetes-sigs/cri-o/tree/master/conmon">conmon</a> , as well as <a href="https://github.com/containernetworking/cni">CNI network plugins</a> . <br><br>  Both the launch of the container with Podman and the subsequent work with it are similar to the usual <code>docker</code> usage scenario: <br><br><pre> <code class="bash hljs">$ sudo podman run -dt -e HTTPD_VAR_RUN=/var/run/httpd -e HTTPD_MAIN_CONF_D_PATH=/etc/httpd/conf.d \ -e HTTPD_MAIN_CONF_PATH=/etc/httpd/conf \ -e HTTPD_CONTAINER_SCRIPTS_PATH=/usr/share/container-scripts/httpd/ \ registry.fedoraproject.org/f27/httpd /usr/bin/run-httpd $ sudo podman ps ... $ sudo podman inspect -l ... $ sudo podman logs --latest 10.88.0.1 - - [07/Feb/2018:15:22:11 +0000] <span class="hljs-string"><span class="hljs-string">"GET / HTTP/1.1"</span></span> 200 612 <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"curl/7.55.1"</span></span> <span class="hljs-string"><span class="hljs-string">"-"</span></span> 10.88.0.1 - - [07/Feb/2018:15:22:30 +0000] <span class="hljs-string"><span class="hljs-string">"GET / HTTP/1.1"</span></span> 200 612 <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"curl/7.55.1"</span></span> <span class="hljs-string"><span class="hljs-string">"-"</span></span> 10.88.0.1 - - [07/Feb/2018:15:22:30 +0000] <span class="hljs-string"><span class="hljs-string">"GET / HTTP/1.1"</span></span> 200 612 <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"curl/7.55.1"</span></span> <span class="hljs-string"><span class="hljs-string">"-"</span></span> 10.88.0.1 - - [07/Feb/2018:15:22:31 +0000] <span class="hljs-string"><span class="hljs-string">"GET / HTTP/1.1"</span></span> 200 612 <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"curl/7.55.1"</span></span> <span class="hljs-string"><span class="hljs-string">"-"</span></span> 10.88.0.1 - - [07/Feb/2018:15:22:31 +0000] <span class="hljs-string"><span class="hljs-string">"GET / HTTP/1.1"</span></span> 200 612 <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"curl/7.55.1"</span></span> <span class="hljs-string"><span class="hljs-string">"-"</span></span> $ sudo podman top &lt;container_id&gt; UID PID PPID C STIME TTY TIME CMD 0 31873 31863 0 09:21 ? 00:00:00 nginx: master process nginx -g daemon off; 101 31889 31873 0 09:21 ? 00:00:00 nginx: worker process</code> </pre><br>  For a practical introduction to Podman, you can also use the corresponding online script on Katacoda: ‚Äú <a href="https://www.katacoda.com/courses/containers-without-docker/running-containers-with-podman">Containers without Docker - Launching Containers using Podman and Libpod</a> ‚Äù. <br><br>  Finally, a separate mention is made of the <a href="https://github.com/containers/libpod/tree/master/contrib/python/pypodman">pypodman</a> project, which is under active development and offers an interface written in Python for the remote execution of Podman commands. <br><br><h2>  Not only Podman: libpod and ecosystem </h2><br>  Along with Podman, the article has already come across a mention of the libpod project.  What is the difference? <br><br>  If we talk about the ‚Äúfull‚Äù Red Hat project, then it is actually called libpod and <a href="https://github.com/containers/libpod">is hosted on GitHub</a> just under that name.  Today, libpod is positioned as a "library for applications that need to work with the concept of pods from containers, popularized by Kubernetes."  Podman itself is a utility included in the libpod library. <br><br>  If you go back to a wider view of the containers, then Red Hat has its own vision, which is brought to life by a whole set of utilities for all occasions.  Most of them are concentrated in the repositories with the speaking name <a href="https://github.com/containers">github.com/containers</a> , and this alone shows the obvious ambitions of the company <i>(by the way, some of these projects used to be located on <a href="https://github.com/projectatomic">github.com/projectatomic</a> )</i> . <br><br>  Red Hat's views on the standardization and development of the container ecosystem are <a href="https://github.com/containers/libpod">formulated</a> directly in the libpod project's README: <br><br><img src="https://habrastorage.org/webt/r7/hk/e_/r7hke_irtz2uodzez8z8e5e-yb4.png"><br><br>  We have already written about all these projects (runc, containers / image, containers / storage, CNI, conmon) in <a href="https://habr.com/company/flant/blog/340010/">the CRI-O review</a> , however, an important addition has since become a utility for building container images called <a href="https://github.com/containers/buildah">buildah</a> .  In addition, Red Hat already has ready-made answers to some of the other needs of the modern world of containers, such as <a href="https://github.com/containers/udica">udica</a> for generating SELinux security profiles and <a href="https://github.com/containers/skopeo">skopeo</a> for working with remote image registries. <br><br><h2>  Summarizing </h2><br>  Just as Red Hat is not only behind its enterprise-wide platform for OpenShift containers, it also takes an active part in the life of Kubernetes, the underlying Open Source project, an American company realizes its view on modern IT infrastructure and on a more fundamental level - the containers themselves, orchestrated by DevOps and SRE engineers.  Podman and libpod are important components of the entire ecosystem that Red Hat forms in the world of open standards containers.  If you look at what is happening, then the IBM deal mentioned at the very beginning of the article, which is <a href="https://www.redhat.com/en/blog/red-hat-ibm-creating-leading-hybrid-cloud-provider">presented</a> as an initiative to form a leading provider of solutions in the field of hybrid clouds, looks even more interesting throughout the industry ... <br><br>  Finally, I suggest a small survey about the awareness of Habra readers about the Podman project before the appearance of this article.  Thanks for participating! <br><br><h2>  PS </h2><br>  Read also in our blog: <br><br><ul><li>  " <a href="https://habr.com/company/flant/blog/340010/">CRI-O - Docker alternative to launch containers in Kubernetes</a> "; </li><li>  ‚Äú <a href="https://habr.com/company/flant/blog/414875/">Containd integration with Kubernetes, replacing Docker, is ready for production</a> ‚Äù; </li><li>  ‚Äú <a href="https://habr.com/company/flant/blog/329136/">What is the essence of the Moby project and why the main Docker repository suddenly became moby / moby?</a>  "; </li><li>  ‚ÄúThe <a href="https://habr.com/company/flant/blog/352432/">Linux distribution from scratch for building Docker images is our experience with dappdeps</a> ‚Äù; </li><li>  ‚Äú <a href="https://habr.com/company/flant/blog/413959/">The smallest Docker image is less than 1000 bytes</a> ‚Äù; </li><li>  " <a href="https://habr.com/company/flant/blog/329830/">Container Networking Interface (CNI) - network interface and standard for Linux-containers</a> ." </li></ul></div><p>Source: <a href="https://habr.com/ru/post/426141/">https://habr.com/ru/post/426141/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../426125/index.html">Career steroids. Elevators</a></li>
<li><a href="../426131/index.html">Download configuration to FPGA via USB or disassemble FTDI MPSSE</a></li>
<li><a href="../426133/index.html">We get acquainted with the alpha version of snapshots volumes in Kubernetes</a></li>
<li><a href="../426135/index.html">Private cloud for the Internet of Things</a></li>
<li><a href="../426137/index.html">Age of Honesty</a></li>
<li><a href="../426143/index.html">3D animation - video or interactive?</a></li>
<li><a href="../426145/index.html">Seminar "Independent acceptance", October 23, Moscow</a></li>
<li><a href="../426147/index.html">ASP.NET Core 2 Boilerplate with React, Redux and Buns</a></li>
<li><a href="../426149/index.html">Do-it-yourself Python installer for Android builds from TeamCity</a></li>
<li><a href="../426151/index.html">Friday programmer, or as I wrote a library for lexical and parsing code</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>