<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Kotlin M3 released</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Our programming language is developing steadily: we released the Kotlin M3 - a big milestone, which included a lot of interesting things: from updatin...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Kotlin M3 released</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/c51/4c5/24c/c514c524c3382f3763c78dc3dcc82792.png" align="right">  Our <a href="http://kotlin.jetbrains.org/">programming language is</a> developing steadily: we released the Kotlin M3 - a big milestone, which included a lot of interesting things: from updating the <a href="http://kotlin.jetbrains.org/">home page</a> to supporting script mode.  Our team also started active dogfudding: in the near future, more and more code in the Kotlin project will be written to Kotlin. <br><br>  In this post I will briefly describe the two most interesting things that were made in M3: multi-declarations and the ‚Äúsplitting‚Äù of the interfaces of the collections. <a name="habracut"></a><br><br><h4>  Multi-declaration </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>What it looks like.</b>  Now you can write, for example, such code in Kotlin: <br><br><pre><code class="hljs swift">val <span class="hljs-built_in"><span class="hljs-built_in">map</span></span> = hashMap(<span class="hljs-string"><span class="hljs-string">"one"</span></span> to <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"two"</span></span> to <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"three"</span></span> to <span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> ((k, v) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">map</span></span>) { <span class="hljs-built_in"><span class="hljs-built_in">println</span></span>(<span class="hljs-string"><span class="hljs-string">"$k -&gt; $v"</span></span>) }</code> </pre> <br><br>  Note that in <b>for</b> not declared one variable, but two, in parentheses.  This is one example of multiple declarations, or "multi-declarations".  A simpler example: <br><br><pre> <code class="hljs lisp">val (<span class="hljs-name"><span class="hljs-name">a</span></span>, b) = pair</code> </pre><br><br>  As a result of this declaration, two variables appear that can be used completely independently of each other. <br><br>  <b>How it works.</b>  The declaration from the last example is translated to this code: <br><pre> <code class="hljs scala"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> a = pair.component1() <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> b = pair.component2()</code> </pre><br><br>  Like many other things in Kotlin, multi-declarations are based on a convention: the componentN () functions are called by name, that is, they can be declared both in the pair class and outside of it - as <a href="http://confluence.jetbrains.net/display/Kotlin/Extension%2Bfunctions">extensions</a> .  This makes it possible to bypass the map as shown at the beginning: two extension-functions are declared for the Map.Entry: <br><pre> <code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-type"><span class="hljs-function"><span class="hljs-type">&lt;K, V&gt;</span></span></span><span class="hljs-function"> Map.Entry</span><span class="hljs-type"><span class="hljs-function"><span class="hljs-type">&lt;K, V&gt;</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">component1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> = getKey() <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-type"><span class="hljs-function"><span class="hljs-type">&lt;K, V&gt;</span></span></span><span class="hljs-function"> Map.Entry</span><span class="hljs-type"><span class="hljs-function"><span class="hljs-type">&lt;K, V&gt;</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">component2</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> = getValue()</code> </pre><br><br>  In the general case, for each class you need to implement such functions in its own way, but there is one very common case: when a class simply stores data and does nothing else.  This is called the ‚Äúdata class‚Äù: <br><br><pre> <code class="hljs haskell"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class"> class </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">User</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">val</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">name</span></span></span><span class="hljs-class">: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">String</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">val</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">password</span></span></span><span class="hljs-class">: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">String</span></span></span><span class="hljs-class">) {}</span></span></code> </pre><br><br>  The ‚Äúdata‚Äù annotation tells the compiler to generate several standard methods in this class: equals () / hashCode (), toString () and component1 (), component2 ().  All of these functions use class properties declared in the primary constructor, for example, component1 () returns the name, and component2 () the password: <br><br><pre> <code class="hljs lisp">val (<span class="hljs-name"><span class="hljs-name">name</span></span>, pass) = getUser()</code> </pre><br><br>  Data classes, in particular, make it possible to return several values ‚Äã‚Äãfrom a function without resorting to the use of tuples (tuples), which significantly improves the readability of the code.  We decided to completely get rid of the tuples, but if you have some code on Kotlin that uses them, you can <a href="http://blog.jetbrains.com/kotlin/migrating-tuples/">automatically migrate it</a> . <br><br>  More about the multi-declaration in <a href="http://blog.jetbrains.com/kotlin/2012/09/how-do-you-traverse-a-map/">this post</a> in English. <br><br><h4>  Types of collections </h4><br><br>  Collections are used everywhere and always, therefore the convenience of a programming language depends on the design of the corresponding part of the library.  That is why many ‚Äúalternative‚Äù languages ‚Äã‚Äãon the Java platform use their own collections that are incompatible with the standard ones, which creates various difficulties when using Java libraries (which the majority and thanks to which Java is such a wonderful platform). <br><br>  Kotlin focuses on compatibility with existing code, so we use standard collection classes, but <b>make them better</b> : <br><img src="https://habrastorage.org/getpro/habr/post_images/32d/43d/c2d/32d43dc2de5344f5b69cc3fe4eba4170.png" alt="image"><br><br>  Note that the collection interfaces are divided into read-only and mutable.  Good old java.util.ArrayList and HashSet are still available - these are mutable collections.  But if it's just a List &lt;String&gt; written somewhere, you can't change it. <br><br>  This helps not only to restore order, but also to simplify your life: now you can assign a List &lt;String&gt; to where List &lt;Any&gt; was expected, because immutable collections are <i>covariant</i> . <br><br><h4>  Conclusion </h4><br><br>  The M3 has a lot more interesting.  Read more about it <a href="http://blog.jetbrains.com/kotlin/2012/09/kotlin-m3-is-out/">here</a> (in English). <br><br>  Installation instructions - <a href="http://confluence.jetbrains.net/display/Kotlin/Getting%2BStarted">here</a> (need <a href="http://eap.jetbrains.com/idea">IntelliJ IDEA 12</a> ). <br><br>  As always, we will be grateful for your comments / thoughts / suggestions.  <a href="http://kotlin.jetbrains.org/">Have a nice Kotlin</a> :) </div><p>Source: <a href="https://habr.com/ru/post/152126/">https://habr.com/ru/post/152126/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../152118/index.html">Default structures and constructors</a></li>
<li><a href="../152119/index.html">LispyScript - Lisp JavaScript</a></li>
<li><a href="../152122/index.html">Test automation for Android applications</a></li>
<li><a href="../152123/index.html">User queries to the database in MODx Revolution</a></li>
<li><a href="../152125/index.html">Sectioning: Shot and forget</a></li>
<li><a href="../152129/index.html">Dots without a point - for and against</a></li>
<li><a href="../152131/index.html">oDesk for beginners</a></li>
<li><a href="../152132/index.html">New Design SurfPatrol</a></li>
<li><a href="../152135/index.html">Export layouts from Planner 5D</a></li>
<li><a href="../152136/index.html">SHA-3 will be born soon</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>