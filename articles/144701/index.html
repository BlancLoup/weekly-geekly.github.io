<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Using Windows Azure in a bootstrapping SaaS startup</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Greetings Habrazhiteley! This is my first post here, I hope you will like it, and someone will be useful. In the post I will describe our practice of ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Using Windows Azure in a bootstrapping SaaS startup</h1><div class="post__text post__text-html js-mediator-article">  Greetings Habrazhiteley!  This is my first post here, I hope you will like it, and someone will be useful.  In the post I will describe our practice of using Windows Azure as a hosting for a SaaS project.  The article will be useful to those working with .NET and thinking about moving to the "cloud". <br><br>  UPD: the article describes the technical issues, the financial issue will be discussed in the next article. <br><a name="habracut"></a><br><h5>  About service and team </h5><br>  In the beginning I will say a few words about the service itself.  SportFort automates the process of creating the official website of a sports team.  Our platform is used by both amateurs and professionals.  Perhaps, SportFort will be useful for small studios and freelancers for making a team or league site.  Our project is the first of its kind in the CIS market. <br><br><img src="https://habrastorage.org/storage2/d47/d2c/90d/d47d2c90dc98ce77bbdda7b92d1cbf86.jpg"><br>  <i>team site appearance</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      As is often the case, we run into funding, so our team is small and each member is ‚Äúa reaper, a successor, and a igrets on a dude‚Äù.  There are three of us: I develop the product, I program, we also have a person who is looking for funding and administrative issues, and a sales manager.  We are helped by other guys, paint on the design, set up an advertising campaign, make a video, etc. <br><br><h5>  Technical details of the service </h5><br>  Windows Azure really helped us out.  Especially considering that at first we used it through the BizSpark program.  Before the transition to WA, we had regular hosting, which often let us down.  No one in the team has any server administration skills, and there was no opportunity to allocate a budget for a new specialist.  Sometimes our hoster fell for a whole day and absolutely nothing could be done, the support service simply ignored all incoming messages and it remained only to spoil their twitter.  I considered the option to organize your own servers, but it is expensive both in finance and in time.  WA allowed not to be distracted by the hardware infrastructure, but to focus on the product.  It works much more comfortably when you know that everything is reliable and that no major changes are required for scaling. <br><br>  In the Azure architecture, functional components are roles, these can be Web Roles serving external requests or Worker Role for internal tasks.  Each role can be allocated corresponding to the computing power.  For example, a video processing site other than Web Role, which will be directly responsible for the site, will contain one Worker Role for video processing.  And if there are many requests at once, WA will be able to add the power of this Worker Role. <br><br>  In our case, the service used to be a regular ASP.NET MVC 3 website with an MS SQL database and the storage of user files (mainly pictures) in the file system.  Respectively, this is now Web Role on ASP.NET MVC 3 with SQL Azure database and image storage in Blob Storage, a special cloud storage for binary files.  In addition to Blob Storage, there are two more types of storage in WA - Table Storage and Queue Storage.  Table Storage is a non-relational database, we use it to store logs, and Queue Storage is a built-in mechanism for working with message queues, which we are not using yet. <br><br>  To manage all the services in Windows Azure, there is a browser-based control panel.  Here you can configure both technical parameters and view usage statistics. <br><br><img src="https://habrastorage.org/storage2/656/30d/cf2/65630dcf21b85e89273a34d7ae56dfcd.png"><br>  <i>Azure admin panel, here is hosted service, and storages and databases</i> <br><br>  Deploy on Windows Azure is different from deploying to regular hosting.  To post a new version, you need to create a special package and download it through the administration panel.  In this case, the update will occur automatically - all servers will be updated in turn, the service will not go offline.  It is not possible to replace a separate file.  But working with SQL Azure is the same as with ordinary SQL Server, through Management Studio.  There are some minor differences with the keys, but they have not touched me. <br><br>  In addition to differences in the Deploy, we have changed the testing process.  In Azure, this is more convenient: we first lay out the new version in the preliminary environment, the so-called ‚ÄúStaging Environment‚Äù, then we test and, if everything is fine, then we change the current version to the new one.  It happens very quickly in one click.  I have not yet explored other Azure features, but I know that there is an automatic allocation of new resources when the load increases.  In the future, we need it.  We can say that for the time being we mainly use WA as usual hosting, except for deployment and testing, nothing has changed. <br><br>  Recently, with the development of service and the emergence of new features, there is a need to use other features of Azure.  In particular, for non-urgent and long-term tasks in WA, Queue Storage is great in conjunction with Worker Role.  I plan to send a separate Worker Role to send notifications and use Queue Storage queues to send messages to this role.  In general, many functions related to remote services need to be reworked to work using queues, but their hands have not yet reached. <br><br>  Going to WA was pretty easy, because  Initially, the service was programmed using the ‚Äúcorrect‚Äù patterns, albeit in haste.  First of all, I mean Dependency Injection, the use of which allowed, for example, only in one place to replace FileSystemPictureStorage with AzurePictureStorage as an implementation of the IPictureStorage interface.  Well, write a migration script, of course.  Thus, instead of a file system that cannot be used as permanent storage in WA, we switched to using cloud storage. <br><br>  On the local developer‚Äôs machine, Windows Azure emulation and the SDK are pretty straightforward, and the database is local (in our case, SQL Server 2008 R2). <br><br><h5>  My conclusion </h5><br>  The most important advantage for me is reliability.  No need to blush in front of users when the hoster is something wrong.  Users of stability, of course, also like.  Pleases the speed of innovation for the development environment.  When in MS they make SQL Azure support in Database Project it will be generally super).  Also, a huge advantage was the fact that it was possible to simply move to the ‚Äúcloud‚Äù: I didn‚Äôt have to redo anything capital and managed to figure everything out myself.  And we did not need to hire a highly qualified specialist to build a scalable architecture. <br><br>  If there is interest in the article, I will describe the financial side of the question. <br>  Thanks for attention! </div><p>Source: <a href="https://habr.com/ru/post/144701/">https://habr.com/ru/post/144701/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../144689/index.html">Erlang, Cassandra: First Steps</a></li>
<li><a href="../144692/index.html">Some search in cold water</a></li>
<li><a href="../144693/index.html">PHP founder, Rasmus Lerdorf will give a master class at DevConf 2012 June 10</a></li>
<li><a href="../144694/index.html">Sean Parker launches new project</a></li>
<li><a href="../144700/index.html">Development and application of the PAM module for authentication in Astra Linux using Rutoken EDS and Rutoken S</a></li>
<li><a href="../144703/index.html">Smashing Magazine refused button Like</a></li>
<li><a href="../144705/index.html">Eric Schmidt: disconnect from computers for an hour every day</a></li>
<li><a href="../144706/index.html">Electronic door peephole</a></li>
<li><a href="../144707/index.html">Qt / Objective-C ++ 11 or building a Qt project using GCC-4.7 and Clang</a></li>
<li><a href="../144708/index.html">ZooKeeper or write distributed locking service</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>