<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The code in the style of "dump of the stream of consciousness"</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Some time ago in one of my articles I described the concept of plasticine architecture . In continuation, I would like to describe one of the most com...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The code in the style of "dump of the stream of consciousness"</h1><div class="post__text post__text-html js-mediator-article">  Some time ago in one of my articles I described the concept of <a href="http://habrahabr.ru/blogs/complete_code/115628/">plasticine architecture</a> .  In continuation, I would like to describe one of the most common ‚Äúprogramming styles‚Äù, which, unfortunately, is very often found among young and inexperienced specialists. <br><br>  So, let's imagine that a programmer has to write a new module or add some functionality to an existing system.  What will an experienced specialist do?  He poured himself Chinese tea, leaned back in his chair, took a pencil and began to think.  He will draw the structure of the module, consider the entities, the interfaces and the interaction between them, go down to the level of specific methods, and probably write unit tests on the interfaces.  Only then will he begin to fill the existing structure with code (or delegates this task to a dozen Hindu coders). <br><br>  Now let's see what a typical junior will do in this case.  There is a task - it must be solved.  They were so taught in universities.  Many of them are still under the influence of the marginal slogan ‚ÄúWrite the code, b ## db!‚Äù.  So, he pours himself instant coffee, puts on headphones with something harder and louder and goes into the <a href="http://habrahabr.ru/blogs/gtd/103572">stream</a> for a couple of hours. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      All anything.  I have nothing against coffee, headphones or flow conditions.  Moreover, it is usually the most efficient and often the only way to write good code.  But we are considering a typical case of a young and inexperienced programmer, so let's look at the results. <br><a name="habracut"></a><br><h1>  What it looks like </h1><br>  First, the functionality is implemented.  She works on most cases and looks quite satisfactory to herself.  The first thing I want to do is to rejoice that the intern has so quickly accomplished the task, to praise him and give the next one.  But try to look into the code.  You will immediately understand why the fragment was implemented so quickly.  And it will be scary. <br><br>  Here is the code that I usually call the <i>‚Äúdump of the stream of consciousness‚Äù</i> .  I call the code this way because it is written in a single block, without trying to realize it, without trying to return and change something.  Below I will list its main characteristics. <br><br>  First, the code usually consists of one long, very long method.  In it, for example, it can sequentially initialize the connection to the database, form the necessary request, retrieve data, process it and (let it be webdesigns) generate HTML for the final presentation.  The author writes about what he is thinking at the moment, he is completely in the flow and focused on solving the problem.  His consciousness gradually solves the problem and these steps are immediately reflected in the code. <br><br>  Secondly, this code is usually filled with commented lines and more unnecessary pieces, which are a pity to throw out and do not need to be left. <br><br>  Thirdly, usually in such code only basic use cases, standard conditions and branches are processed.  With a slight deviation from the standard user behavior, the code mercilessly fails and falls with unhandled exceptions. <br><br><h1>  Why is that bad </h1><br>  Partly I wrote about this a little higher, but there are still quite a large number of factors that need to be said. <br><br>  The greatest evil from such a code is the absolute <b>impossibility of accompanying it</b> .  Indeed, in a few days, not only the ‚Äúman from the street,‚Äù but also the author himself, will not be able to understand what is happening inside this piece, and for which this branching is responsible.  It is obvious that programmers, including the author, will be engaged in supporting such code not only reluctantly, but also extremely inefficiently. <br><br>  By the way, this will affect not only the project objectives, <b>delaying the deadlines and lowering the quality</b> , which will undoubtedly upset PMA.  Working with such a code will seriously <b>undermine the motivation of the</b> team from two directions at once, depriving the programmer of his favorite aspects of work: ‚ÄúI am doing something cool and interesting‚Äù and ‚ÄúI am doing an excellent job with my task.‚Äù <br><br>  Another of the sick and unpleasant properties of the ‚Äúdump of the stream of consciousness‚Äù is that the problems are not immediately visible, since at first glance ‚Äúeverything works.‚Äù  Very often, when testing such a code (of course, according to the black box principle), the tester encounters bugs, <b>which are very difficult to reproduce</b> .  Usually they arise from the intertwined, completely devoid of structure of the mass of calls and the implicit ‚Äúinterferences‚Äù associated with it, when one piece of code affects the other in a completely surprising way. <br><br>  Thus, in the piggy bank of the "victims" to the programmer and project manager already existing there, a specialist in testing is added.  And, in conclusion, in order to assemble a complete project team under this leaky umbrella, we‚Äôll add that the product manager (or the customer in the case of customized development) cannot effectively add new features to the product, and the analyst has no idea whether it‚Äôs possible to make a minimal change , and whether he will hear transcendental deadlines (and even obscene expressions) from programmers for the simple sentence ‚Äúto slightly change the operation of the search filter‚Äù. <br><br>  The conclusion is simple: a ‚Äúdump‚Äù is an evil that must be fought. <br><br>  To prevent this article from being too theoretical, I will try to give some tips on how to do this, which I put into practice in my company. <br><br><h1>  How to deal with it </h1><br>  The first and most important thing to understand when you encounter such code is <b>‚Äúthis is normal‚Äù</b> . <br><br>  If you have not yet begun to deal with ‚Äúdumps‚Äù (and your predecessor did not do this), then most likely you have several programmers in the team who use this approach, absolutely sincerely believing that they are doing everything right. <br><br>  Chances are that they are also abused by newcomers taken into your team right from college. <br><br>  And this is the normal behavior of yesterday's student, who is faced with a task, and who must fulfill it.  He sees the goal - to implement the desired feature, but does not understand that creating bad code does not come close, but only moves away from it. <br><br>  So, the first thing that needs to be done to combat the ‚Äúdumps‚Äù is to introduce <b>regular code inspections</b> . <br><br>  If you have an experienced specialist in your team who understands the ‚Äúspirit and letter‚Äù of good architecture, proper decomposition, transparent code and other good tone rules, then the first inspections should be entrusted to him. <br><br>  At the same time, both he, as a performer, and you, as a manager, need to understand that the purpose of inspections is not to arrange a dressing out for a careless coder, but <b>to teach him to write correctly</b> and ‚Äúinfect‚Äù with his love for beautiful (no frills!) Code and architecture. <br><br>  If your team consists of beginners and there is no such specialist, you will have to educate him yourself. <br><br>  Improving the code is best to start with the separation of large (sometimes just huge) methods into small and neat.  Usually it is enough to ask the programmer what this or that piece does step by step and put these steps into separate methods.  Then it is necessary to divide each of the methods according to the same scheme (there is such a word - recursion) until the meaning of each is simple and clear.  I plan to describe this recursive approach in more detail in one of the following articles. <br><br>  In addition, you can easily set the rule "do not write methods more than 20 lines long" and check it on inspections.  The programmer will be forced to reflect on how to divide his ‚Äúdump‚Äù in order not to violate the established ‚Äústandards‚Äù.  Of course, this rule, like any others, should not be regarded as dogma.  I can easily imagine a method for describing which will have to be used much more than 20 lines.  But, in any case, the programmer will think about it, making the process of writing code more meaningful. <br><br>  In fact, <i>thinking about</i> it is already a very big and often decisive step on the path to quality code. <br><br>  Then, using the same scheme, you can teach a programmer to divide one class into several classes, organizing the latter in the form of layers and modules, and so on. <br><br>  But that's another story.  But now the programmer looks at you in surprise and does not understand why his wonderful method, which took two days of work and which ‚Äúmakes everything work‚Äù you suddenly did not like. <br><br>  Explain to him! </div><p>Source: <a href="https://habr.com/ru/post/135340/">https://habr.com/ru/post/135340/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../135335/index.html">Setting up and creating an application for publishing on Facebook timeline</a></li>
<li><a href="../135336/index.html">New style editor and 3D display of DOM-structure of the page in Firefox 11</a></li>
<li><a href="../135337/index.html">SQLite Optimization for iOS</a></li>
<li><a href="../135338/index.html">Rope like in ‚ÄúCut the Rope‚Äù</a></li>
<li><a href="../135339/index.html">Let css search or database in HTML 2</a></li>
<li><a href="../135341/index.html">Create a lightbox effect with CSS3</a></li>
<li><a href="../135342/index.html">Simple sharing with Facebook and Twitter</a></li>
<li><a href="../135343/index.html">Offtopic: OMG brain slugs exist</a></li>
<li><a href="../135344/index.html">Draw pictures using the Hilbert curve</a></li>
<li><a href="../135345/index.html">GoDaddy, SOPA and all-all-all. Part 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>