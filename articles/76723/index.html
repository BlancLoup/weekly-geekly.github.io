<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>OpenCV. Video output</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Today I will show you how to display a video in our application using OpenCV. It's as easy as working with an image. In addition to past actions, we w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>OpenCV. Video output</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/geektimes/post_images/7e8/cc6/fd5/7e8cc6fd537d4e8776572aabff4b47dc.png" alt="image"><br><br>  Today I will show you how to display a video in our application using OpenCV.  It's as easy as working with an image.  In addition to past actions, we will need to do a cycle, to read each frame of the video, as well we will need a team, by which we can get out of this cycle, if the video seems too boring. =) <br>  Let's get started! <br><br><a name="habracut"></a><br> <code>#include ‚Äúhighgui.h‚Äù <br> <br> int main( int argc, char** argv ) <br> { <br> cvNamedWindow( ‚ÄúAVI Video‚Äù, CV_WINDOW_AUTOSIZE ); <br> CvCapture* capture = cvCreateFileCapture( argv[1] ); <br> IplImage* frame; <br> while(1) <br> { <br> frame = cvQueryFrame( capture ); <br> if( !frame ) break; <br> cvShowImage( ‚ÄúAVI Video‚Äù, frame ); <br> char c = cvWaitKey(33); <br> if( c == 27 ) break; <br> } <br> cvReleaseCapture( &amp;capture ); <br> cvDestroyWindow( ‚ÄúAVI Video‚Äù ); <br> }</code> <br> <br><img src="https://habrastorage.org/getpro/geektimes/post_images/8ef/398/53f/8ef39853fbd866e39cad923e4f6e1dac.png" alt="image"><br>  <i>The result of the program (a frame from the movie "Transformers").</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The functions that we considered in the last lesson will not be described in this section. <br><br> <code>CvCapture* capture = cvCreateFileCapture( argv[1] );</code> <br>  This function takes as an argument the parameter in which we pass the path of the readable AVI file and returns a pointer to the CvCapture structure.  This structure stores all information about the AVI file. <br><br> <code>frame = cvQueryFrame( capture );</code> <br>  Inside the while (1) loop, we start reading the AVI file.  cvQueryFrame () takes as its argument a pointer to a CvCapture structure.  And then with each cycle, the next frame of the video is memorized.  The pointer returns to this frame. <br><br> <code>char c = cvWaitKey(33); <br> if( c == 27 ) break;</code> <br>  When we have displayed the next frame, we are waiting for 33 milliseconds (in fact, you can set any delay, but this is considered optimal for displaying 30 frames per second, and take 3 milliseconds for granted :)) before displaying the next frame.  If the user presses a key on the keyboard, the cvWaitKey () function sends the ASCII code of this key to the variable ‚Äúc‚Äù and if the user presses Esc (ASCII 27), then we exit the cycle, otherwise it goes 33 ms and the cycle continues. <br><br> <code>cvReleaseCapture( &amp;capture );</code> <br>  One way or another, the cycle has been interrupted (the video has ended or the Esc key has been pressed), then with this function we release the memory associated with the CvCapture structure. <br>  That's all!  A little later, I will talk about how to add a slidebar to our application so that you can rewind the video. <br>  Good luck!;) </div><p>Source: <a href="https://habr.com/ru/post/76723/">https://habr.com/ru/post/76723/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../76707/index.html">Tweet Cloud - create a tag cloud of your twitter</a></li>
<li><a href="../76714/index.html">Stocking up for the winter</a></li>
<li><a href="../76716/index.html">How to get Kaspersky Anti-Virus 2010 for 43 cents</a></li>
<li><a href="../76717/index.html">Fast creation of CRUD-based application on the Entity Framework / ASP.Net MVC</a></li>
<li><a href="../76718/index.html">Wave Spam</a></li>
<li><a href="../76725/index.html">Install from external HDD</a></li>
<li><a href="../76728/index.html">Place of opinion leaders in the individual infosphere in modern society</a></li>
<li><a href="../76729/index.html">MediaMarkt Discovery, Lemmings and Consumer Protection Act</a></li>
<li><a href="../76730/index.html">Test for a strong JS programmer</a></li>
<li><a href="../76731/index.html">Text at any cost: PPT. Take the second</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>