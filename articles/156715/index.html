<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Windows Azure: Queues and Service Bus Queues - Similarities and Differences</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article analyzes the similarities and differences between the two types of queues available in the modern Windows Azure platform: Windows Azure q...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Windows Azure: Queues and Service Bus Queues - Similarities and Differences</h1><div class="post__text post__text-html js-mediator-article"> <a href="http://windowsazure.com/ru-ru/"><img src="https://az83882.vo.msecnd.net/css/cobrand/images/Azure_logo.jpg" alt="image"></a> <br><br>  This article analyzes the similarities and differences between the two types of queues available in the modern Windows Azure platform: Windows Azure queues and Windows Azure service bus queues.  Based on this information, you can highlight the similarities and differences of the relevant technologies and choose the solution that best meets your needs. <br><br><h3>  Introduction </h3><br>  Windows Azure supports two types of queuing mechanisms: <b>Windows Azure</b> <b>queues</b> and <b>service bus queues</b> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>The Windows Azure queues</b> that are part of <a href="http://www.windowsazure.com/en-us/home/tour/storage">the Windows Azure storage</a> infrastructure support a simple REST interface with Get / Put / Peek functions to create reliable and fault-tolerant messaging between and within services. <br><br>  <b>Service bus queues</b> are part of a larger <a href="http://www.windowsazure.com/en-us/home/tour/service-bus/">Windows Azure messaging</a> infrastructure that supports queuing, as well as publishing, subscribing, web services, and integration patterns. <br><br>  Both queuing technologies exist in parallel, but Windows Azure queues have appeared earlier.  This add-on for Windows Azure storage services is a specialized mechanism for working with data warehouses using queues.  Service bus queues are presented in the newest release of the service bus.  They are an add-on to a more extensive messaging infrastructure.  This infrastructure is designed to integrate applications or application components that can use several different messaging protocols, data contracts, trusted domains, and network environments. <br><br>  This article provides a comparative analysis of the two queuing technologies implemented in Windows Azure.  The modes of operation and functionality of both technologies are discussed.  The article also provides recommendations for choosing the functions best suited for solving your application development tasks. <br><a name="habracut"></a><br><h3>  Technology selection </h3><br>  Windows Azure queues and service bus queues are an implementation of Message Queuing service that is currently available in Windows Azure.  These technologies have different sets of functions.  You can choose either of them or both at once, depending on your needs or the problem being solved (technical or commercial). <br><br>  When choosing a queuing technology for a specific solution, its architects and developers should consider the recommendations below.  For more information, see the following section. <br><br>  Architects or solution developers <b>need to consider using Windows Azure queues</b> in the following cases. <br><br><ul><li>  The application needs to store in the queue more than 5 GB of messages, and the lifetime of these messages does not exceed seven days. </li><li>  The application requires flexible lease options for handling messages.  This allows you to assign messages to a very short rental period.  Then in the event of a critical failure of the workflow, you can quickly re-process the message.  It also allows the workflow to extend the lease of a message if additional time is required to process it.  This feature is useful for non-deterministic message processing time. </li><li>  The application requires the ability to track the processing of messages that are attached to other messages.  This is useful in case of a critical failure of the workflow that processes the message.  Then the next workflow can use this information to continue processing the message from the place where the previous workflow ended. </li><li>  Server logs are required for all transactions performed on queues. </li></ul><br>  Architects or solution developers <b>need to consider using Windows Azure service bus queues</b> in the following cases. <br><br><ul><li>  Full integration with the Windows Communication Foundation (WCF) data exchange stack, which is implemented in the .NET Framework, is required. </li><li>  Support is needed to automatically detect duplicate messages. </li><li>  The ability to process related messages as a separate logical group is required. </li><li>  Transaction and atomicity support is required when sending or receiving multiple messages from a queue. </li><li>  The lifetime (time-to-live, TTL) for the workload of specific applications may exceed a seven-day period. </li><li>  The application processes messages that can exceed 64 KB in length, but most likely will not reach the limit of 256 KB. </li><li>  Queue support is required, which ensures guaranteed message delivery in the ‚Äúfirst in, first out‚Äù mode (first-in-first-out, FIFO). </li><li>  Requires the ability to receive messages without polling the queue.  When using the service bus, this is a getting operation with a long polling time. </li><li>  It is necessary to implement a role-based access model for queues, as well as to provide support for various rights and authorities for senders and recipients. </li><li>  The size of the queues used will not exceed 5 GB. </li><li>  There are prospects for migration from point-to-point data exchange based on queues to the use of a messaging pattern.  This template will provide integrated integration of additional recipients (subscribers), each of whom receives independent copies of some or all of the messages sent to the queue.  This is possible thanks to the publish and subscribe feature built into the maintenance bus. </li><li>  The messaging solution must support At-Most-Once Delivery Assurance (Maximum Once) without the need to develop additional infrastructure components. </li><li>  Requires the ability to publish and process batch messages. </li></ul><br><h3>  Comparing Windows Azure Queues and Service Bus Queues </h3><br>  The tables in the following sections contain logically grouped queue functions.  These tables clearly demonstrate the difference in the capabilities of Windows Azure queues and service bus queues. <br><br><h4>  Basic features </h4><br>  This section provides a comparative analysis of the main functions of Windows Azure Queues and service bus queues. <br><br><table><tbody><tr><td>  <b>Comparison criterion</b> <br></td><td>  <b>Windows Azure Queues</b> <br></td><td>  <b>Service Bus Queues</b> <br></td></tr><tr><td>  Ordering guarantee <br></td><td>  <b>Not</b> <br></td><td>  <b>Yes - ‚Äúfirst entered, first released‚Äù (FIFO)</b> <br><br>  (using messaging sessions) <br></td></tr><tr><td>  Delivery guarantee <br></td><td>  <b>At-Least-Once (At least Once)</b> <br></td><td>  <b>At-Least-Once (At least Once)</b> <br><br>  <b>At-Most-Once (Maximum Once)</b> <br></td></tr><tr><td>  Transaction support <br></td><td>  <b>Not</b> <br></td><td>  <b>Yes</b> <br><br>  (using local transactions) <br></td></tr><tr><td>  Reaction to receive <br></td><td>  <b>Non-blocking</b> <br><br>  (terminates immediately if new messages are not found) <br></td><td>  <b>Blocking (with and without waiting time)</b> <br><br>  (support for long polling intervals or <a href="http://en.wikipedia.org/wiki/Comet_(programming)">method based on long-lived HTTP connections</a> ) <br><br>  <b>Non-blocking</b> <br><br>  (only using the API managed by the .NET platform) <br></td></tr><tr><td>  Receiving mode <br></td><td>  <b>Read and rent</b> <br></td><td>  <b>Read and lock</b> <br><br>  <b>Receiving and deleting</b> <br></td></tr><tr><td>  Exclusive access mode <br></td><td>  <b>Based on rent</b> <br></td><td>  <b>Lock based</b> <br></td></tr><tr><td>  Duration of lease and blocking <br></td><td>  <b>30 seconds (default)</b> <br><br>  <b>7 days (maximum)</b> <br></td><td>  <b>60 seconds (default)</b> <br><br>  <b>5 minutes (maximum)</b> <br></td></tr><tr><td>  Detail lease / lock <br></td><td>  <b>Message level</b> <br><br>  (each message can have its own timeout value) <br></td><td>  <b>Queue level</b> <br><br>  (each queue has its own lock specification that is valid for all messages and fixed for the entire period of the queue‚Äôs life) <br></td></tr><tr><td>  Batch receipt <br></td><td>  <b>Yes</b> <br><br>  (explicit indication of the number of messages upon receipt, no more than 32 messages) <br></td><td>  <b>Yes</b> <br><br>  (including prefetching implicitly (using a parameter) or explicitly (using transactions)) <br></td></tr><tr><td>  Batch shipping <br></td><td>  <b>Not</b> <br></td><td>  <b>Yes</b> <br><br>  (using transactions or batch sending by the client) <br></td></tr></tbody></table><br><h4>  Additional Information </h4><br><ul><li>  To use the FIFO guaranteed delivery pattern used in the maintenance bus queues, you must use messaging sessions.  In the event of a critical application crash during the processing of a message received in <b>Peek &amp; Lock</b> mode (Read and Lock), when you start the next messaging session, you will receive a message about the failure after a waiting time. </li><li>  Service bus queues support <i>At-Least-Once</i> delivery guarantee.  In addition, the semantics of the <i>At-Most-Once</i> mode is supported by using session states in which the state of the application is stored, as well as by using transactions for atomizing message retrieval and updating the session state.  Windows Azure Workflow Service uses this technique to ensure guaranteed <i>At-Most-Once</i> delivery. </li><li>  Service bus queues support local transactions in the context of a single queue. </li><li>  <i>Receive and Delete</i> mode supported by the service bus, while reducing delivery guarantees, reduces the number of control messages and reduces the associated costs. </li><li>  Windows Azure queues support the lease feature with the option to extend the lease of messages.  This allows workflows to provide short message rental times.  Due to this, in case of a critical failure of the workflow, another workflow can quickly process the message.  In addition, the workflow may extend the lease of a message if its processing period exceeds the current lease time. </li><li>  Windows Azure queues support visibility timeout, which can be set when a message is placed on a queue or when it is removed from a queue.  In addition, you can update the message by setting new values ‚Äã‚Äãfor the lease parameters in the runtime environment, as well as update various parameters in the messages of the same queue.  In contrast, the service bus locks the timeout parameters specified in the queue metadata.  These parameters cannot be changed without re-creating the queue. </li><li>  The maximum wait time for a blocking receive operation that is available for the maintenance bus is 24 days. </li><li>  Client-side batch processing supported by the service bus allows the queue client to batch process several messages in a single send operation.  Batch processing is available only for asynchronous send operations. </li></ul><br><h3>  Extended capabilities </h3><br>  This section provides a comparative analysis of the advanced capabilities of Windows Azure queues and service bus queues. <br><br><table><tbody><tr><td>  <b>Comparison criterion</b> <br></td><td>  <b>Windows Azure Queues</b> <br></td><td>  <b>Service Bus Queues</b> <br></td></tr><tr><td>  Scheduled Delivery <br></td><td>  <b>Yes</b> <br></td><td>  <b>Yes</b> <br></td></tr><tr><td>  Automatic marking of deleted messages <br></td><td>  <b>Not</b> <br></td><td>  <b>Yes</b> <br></td></tr><tr><td>  Deferred messaging <br></td><td>  <b>Yes</b> <br><br>  (using update on-site visibility timeout) <br></td><td>  <b>Yes</b> <br><br>  (using the specialized API function) <br></td></tr><tr><td>  Fault reporting support <br></td><td>  <b>Yes</b> <br></td><td>  <b>Yes</b> <br></td></tr><tr><td>  In-place upgrade <br></td><td>  <b>Yes</b> <br></td><td>  <b>Not</b> <br></td></tr><tr><td>  Server side transaction log <br></td><td>  <b>Yes</b> <br></td><td>  <b>Not</b> <br></td></tr><tr><td>  Storage metrics <br></td><td>  <b>Yes</b> <br></td><td>  <b>Not</b> <br></td></tr><tr><td>  Queue cleaning function <br></td><td>  <b>Yes</b> <br></td><td>  <b>Not</b> <br></td></tr><tr><td>  Message groups <br></td><td>  <b>Not</b> <br></td><td>  <b>Yes</b> <br><br>  (using messaging sessions) <br></td></tr><tr><td>  Duplicate message detection <br></td><td>  <b>Not</b> <br></td><td>  <b>Yes</b> <br><br>  (configured on the sender side) <br></td></tr><tr><td>  WCF integration <br></td><td>  <b>Not</b> <br></td><td>  <b>Yes</b> <br><br>  (contains ready-made WCF bindings) <br></td></tr><tr><td>  WF Integration <br></td><td>  <b>Customization</b> <br><br>  (requires the creation of a custom action WF) <br></td><td>  <b>Own</b> <br><br>  (contains ready-made WF actions) <br></td></tr></tbody></table><br><h4>  Additional Information </h4><br><ul><li>  As of November 2012, both queue processing technologies implemented in the Windows Azure SDK release allow you to create deferred sending schedules. </li><li>  Windows Azure Queues provide an update of message content.  This feature allows you to save status information and add processing information to a message in order to continue processing the message from the last known checkpoint instead of starting over. </li><li>  The tagging mechanism for deleted messages is supported only by service bus queues.  It is designed to isolate messages that could not be successfully processed by the receiving application.  This mechanism is also used when the message life time (TTL) has expired and the message cannot reach the recipient.  The TTL value defines the period during which the message remains in the queue.  When using the maintenance bus, the message will be moved to a special queue called <i>$ DeadLetterQueue</i> after its lifetime. </li><li>  To detect failure messages in Windows Azure queues, the application analyzes the <a href="http://msdn.microsoft.com/ru-ru/library/windowsazure/microsoft.windowsazure.storageclient.cloudqueuemessage.dequeuecount.aspx">DequeueCount</a> property of this message when deleting a message from the queue.  If the <a href="http://msdn.microsoft.com/ru-ru/library/windowsazure/microsoft.windowsazure.storageclient.cloudqueuemessage.dequeuecount.aspx">DequeueCount</a> value exceeds the specified threshold, the application moves the message to the message queue to be deleted. </li><li>  Windows Azure queues allow detailed logs of all queuing transactions, as well as aggregate indicator logs.  These logs are intended for debugging and analyzing the use of Windows Azure queues by an application.  They are also useful for optimizing application performance and reducing the costs associated with queuing. </li><li>  The ‚Äúmessage session‚Äù mechanism supported by the service bus allows you to associate messages with a specific logical group with a specific recipient.  In turn, this leads to the creation of a connection between messages and recipients, in its properties similar to a session.  This extended service bus feature can be enabled by setting the Message <a href="http://msdn.microsoft.com/ru-ru/library/windowsazure/microsoft.servicebus.messaging.brokeredmessage.sessionid.aspx">SessionID</a> property.  Recipients awaiting the transmission of a specific session identifier may receive messages with this identifier. </li><li>  Duplicate message detection is supported by the service bus.  This function uses the <a href="http://msdn.microsoft.com/ru-ru/library/windowsazure/microsoft.servicebus.messaging.brokeredmessage.messageid.aspx">MessageID</a> property and automatically deletes duplicate messages sent to a queue or subject. </li></ul><br><h3>  Capacities and quotas </h3><br>  This section provides a comparative analysis of Windows Azure Queues and service bus queues in terms of capacity and effective quotas. <br><br><table><tbody><tr><td>  <b>Comparison criterion</b> <br></td><td>  <b>Windows Azure Queues</b> <br></td><td>  <b>Service Bus Queues</b> <br></td></tr><tr><td>  Maximum message size <br></td><td>  <b>64 KB</b> <br><br>  (48 KB using <b>Base64</b> encoding) <br></td><td>  <b>256 KB</b> <br><br>  (including the header and text of the message; the maximum header size is 64 KB) <br></td></tr><tr><td>  Maximum queue size <br></td><td>  <b>100 TB</b> <br><br>  (limited to one storage account) <br></td><td>  <b>1, 2, 3, 4 or 5 GB</b> <br><br>  (determined when creating a queue) <br></td></tr><tr><td>  Maximum lifetime of the message <br></td><td>  <b>7 days</b> <br></td><td>  <b>With no restrictions</b> <br></td></tr><tr><td>  Maximum number of queues <br></td><td>  <b>With no restrictions</b> <br></td><td>  <b>10,000</b> <br><br>  (for one service namespace, can be increased) <br></td></tr><tr><td>  Maximum number of concurrent clients <br></td><td>  <b>With no restrictions</b> <br></td><td>  <b>With no restrictions</b> <br><br>  (A limit of 100 simultaneous connections applies only to TCP communication) <br></td></tr></tbody></table><br><h4>  Additional Information </h4><br><ul><li>  For Windows Azure queues, you must use <b>Base64</b> encoded messages if their contents are not XML-safe.  For a <b>Base64</b> message, the user payload may be reduced from 64 to 48 KB. </li><li>  When using service bus queues, each message stored in the queue consists of two parts: a header and a text field.  The total length of the message cannot exceed 256 KB. </li><li>  When exchanging data between clients using the service bus queues and the TCP protocol, you can create up to 100 simultaneous connections to one service bus queue.  This number is common for senders and receivers.  If the quota is exceeded, subsequent requests to create additional connections will be rejected;  an exception will be received with the calling code.  This quota does not apply to clients that connect to queues using a REST-based API. </li><li>  The maximum queue size is enforced by the service bus.  The maximum queue size is specified when the queue is created and can be 1, 2, 3, 4, or 5 GB.  If the maximum queue size is exceeded, all subsequent incoming messages will be rejected with an exception by call code.  For more information about service bus quotas, see the <a href="http://msdn.microsoft.com/ru-ru/library/windowsazure/ee732538.aspx">Windows Azure Service Bus Quotas</a> document. </li><li>  If you need more than 10,000 queues in the same service namespace associated with a service bus, you can contact the Windows Azure support team and ask it to increase this value.  If you need to scale the solution and use more than 10,000 service bus queues, you can create additional service namespaces using the Windows Azure management portal. </li></ul><br><h3>  Management and operation </h3><br>  This section provides a comparative analysis of the Windows Azure queue management and service bus queue management features. <br><br><table><tbody><tr><td>  <b>Comparison criterion</b> <br></td><td>  <b>Windows Azure Queues</b> <br></td><td>  <b>Service Bus Queues</b> <br></td></tr><tr><td>  Control protocol <br></td><td>  <b>REST over HTTP / HTTPS</b> <br></td><td>  <b>REST over HTTPS</b> <br></td></tr><tr><td>  Runtime protocol <br></td><td>  <b>REST over HTTP / HTTPS</b> <br></td><td>  <b>REST over HTTPS</b> <br><br>  <b>TCP with TLS support</b> <br></td></tr><tr><td>  API running .NET <br></td><td>  <b>Yes</b> <br><br>  (Storage Client API Running .NET) <br></td><td>  <b>Yes</b> <br><br>  (.NET Intermediate Messaging API) <br></td></tr><tr><td>  Java API <br></td><td>  <b>Yes</b> <br></td><td>  <b>Yes</b> <br></td></tr><tr><td>  PHP API <br></td><td>  <b>Yes</b> <br></td><td>  <b>Yes</b> <br></td></tr><tr><td>  Node.js API <br></td><td>  <b>Yes</b> <br></td><td>  <b>Not</b> <br></td></tr><tr><td>  Support for custom metadata <br></td><td>  <b>Yes</b> <br></td><td>  <b>Not</b> <br></td></tr><tr><td>  Queue Naming Rules <br></td><td>  <b>Up to 63 characters</b> <br><br>  (in the queue name only lower case should be used) <br></td><td>  <b>Up to 260 characters</b> <br><br>  (queue names are not case sensitive) <br></td></tr><tr><td>  The function of getting the queue length <br></td><td>  <b>Yes</b> <br><br>  (approximate value) <br></td><td>  <b>Yes</b> <br><br>  (exact value for a specific point in time) <br></td></tr><tr><td>  Read function <br></td><td>  <b>Yes</b> <br></td><td>  <b>Not</b> <br></td></tr></tbody></table><br><h4>  Additional Information </h4><br><ul><li>  Windows Azure queues support arbitrary attributes that can be used in the queue description.  Each attribute is a name-value pair. </li><li>  Windows Azure queues also allow you to read messages without blocking them.  This feature is used when developing software tools for viewing queues. </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> The intermediate messaging API, implemented for the service bus using the .NET platform, uses full-duplex TCP connections, which improves performance compared to using REST over HTTP. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows Azure queues impose certain restrictions on queue names. </font><font style="vertical-align: inherit;">For more information, see the </font></font><a href="http://msdn.microsoft.com/en-us/library/windowsazure/dd179349.aspx"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Naming Queues and Metadata</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> article </font><a href="http://msdn.microsoft.com/en-us/library/windowsazure/dd179349.aspx"><font style="vertical-align: inherit;">(Naming Queues and Metadata)</font></a><font style="vertical-align: inherit;"> .</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The name of the queue for the maintenance bus cannot exceed 260 characters; </font><font style="vertical-align: inherit;">for these queues, less stringent naming rules apply. </font><font style="vertical-align: inherit;">Service bus queue names can contain only letters, numbers, periods (.), Dashes (-), and underscores (_).</font></font></li></ul><br><h3>  Performance </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> This section provides a comparative analysis of Windows Azure Queues and service bus queues in terms of performance. </font></font><br><br><table><tbody><tr><td> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comparison criterion</font></font></b> <br></td><td> <b> Windows Azure</b> <br></td><td> <b>  </b> <br></td></tr><tr><td>    <br></td><td> <b> 2000   </b> <br></td><td> <b> 2000   </b> <br><br> (        1 ) <br></td></tr><tr><td>    <br></td><td> <b>10 </b> <br><br> (   <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2010/06/25/nagle-s-algorithm-is-not-friendly-towards-small-requests.aspx">TCP Nagle</a> ) <br></td><td> <b>100 </b> <br></td></tr><tr><td>     <br></td><td> <b>      HTTP 503</b> <br><br> (,      ,  ) <br></td><td> <b>        HTTP 503</b> <br><br> (,      ,  ) <br></td></tr></tbody></table><br><h4>  Additional Information </h4><br><ul><li>   Windows Azure    2000   .       : <b>Put</b> , <b>Get</b>  <b>Delete</b> .      ( <b>Put</b> )   ,        ,      ( <b>Get</b> ),         ( <b>Delete</b> ).  ,          . </li><li>        Windows Azure,      HTTP 503 Server Busy.              . </li><li>    Windows Azure    10       ( 10 )    ,    ()      . </li><li>  Windows Azure          .        ,     .   ,      ,  . </li><li>      ,         2000        1 .          .             <a href="http://msdn.microsoft.com/ru-ru/library/windowsazure/hh528527.aspx">Best Practices for Performance Improvements Using Service Bus Brokered Messaging (           )</a> . </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When the maximum bus bandwidth of the service bus queue is exceeded, either a </font></font><a href="http://msdn.microsoft.com/ru-ru/library/windowsazure/microsoft.servicebus.messaging.serverbusyexception.aspx"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ServerBusExException is</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> returned to the queue client </font><font style="vertical-align: inherit;">(when using the .NET intermediate message exchange API), or an HTTP 503 response (when using the REST-based API). </font><font style="vertical-align: inherit;">This indicates that the queue is in the mode of controlling the number of requests</font></font></li></ul><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Authentication and Authorization </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> This section provides a comparative analysis of the authentication and authorization features of Windows Azure queues and service bus queues. </font></font><br><br><table><tbody><tr><td> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comparison criterion</font></font></b> <br></td><td> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows Azure Queues</font></font></b> <br></td><td> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Service Bus Queues</font></font></b> <br></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Authentication </font></font><br></td><td> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Symmetric key</font></font></b> <br></td><td> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ACS Applications</font></font></b> <br></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Role Based Access Control </font></font><br></td><td>  <b>Not</b> <br></td><td>  <b>Yes</b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (using ACS roles) </font></font><br></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Federation of Identity Providers </font></font><br></td><td>  <b>Not</b> <br></td><td>  <b>Yes</b> <br></td></tr></tbody></table><br><h4>  Additional Information </h4><br><ul><li>   ,     ,     .       . </li><li>   ,    Windows Azure,      ,   -    (Hash-Based Message Authentication Code, HMAC),     SHA-256   <b>Base64</b> .          <a href="http://msdn.microsoft.com/en-us/library/windowsazure/hh225339.aspx">Authenticating Access to Your Storage Account (       )</a> . </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows Azure Access Control (ACS), supported by the service bus, contains three distinct roles: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Admin</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Admin), </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sender</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Sender) and </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Receiver</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Recipient), which are not currently supported by Windows Azure queues.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> The service bus supports ACS integration, so you can integrate it with Active Directory (using ADFS) and with frequently used online identity providers, such as Live ID, Google, Facebook and Yahoo. </font></font></li></ul><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Expenses </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> This section provides a comparative analysis of the costs of using Windows Azure queues and service bus queues. </font></font><br><br><table><tbody><tr><td> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comparison criterion</font></font></b> <br></td><td> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows Azure Queues</font></font></b> <br></td><td> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Service Bus Queues</font></font></b> <br></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Transaction Cost for Queue </font></font><br></td><td> <b>0,01 . </b> <br><br> ( 10 000 ) <br></td><td> <b>0,01 . </b> <br><br> ( 10 000 ) <br></td></tr><tr><td>   <br></td><td>  <b>Everything</b> <br></td><td> <b>   </b> <br><br> (     ) <br></td></tr><tr><td>     <br></td><td> <b></b> <br><br> (      ) <br></td><td> <b></b> <br><br> (     ) <br></td></tr><tr><td>    <br></td><td> <b>0,14 . </b> <br><br> (   ) <br></td><td> <b>0,00 . </b> <br></td></tr><tr><td>    <br></td><td> <b>0,12‚Äì0,19 . </b> <br><br> (    ) <br></td><td> <b>0,12‚Äì0,19 . </b> <br><br> (    ) <br></td></tr><tr><td>      Windows Azure Access Control (ACS) <br></td><td> <b>0,00 . </b> <br><br> ( ACS  ) <br></td><td> <b>1,99 . </b> <br><br> ( 10 000  ; .  ) <br></td></tr></tbody></table><br><h4>  Additional Information </h4><br><ul><li>        ,      Windows Azure      . </li><li>     Windows Azure,       ,  . </li><li>           . </li><li>           ACS     .      ACS        .        ,    20 . ,             ACS ,     . </li><li>           ,            . </li></ul><br>  <strong>Note.</strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">All cost indicators are subject to change. </font><font style="vertical-align: inherit;">The table above reflects pricing at the time of this writing. </font><font style="vertical-align: inherit;">The article does not contain promotional offers available at the time of reading. </font><font style="vertical-align: inherit;">For current pricing information, see the </font></font><a href="http://www.windowsazure.com/en-us/pricing/details"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pricing Overview</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> page </font><font style="vertical-align: inherit;">.</font></font><br><br><h3>  Conclusion </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Obviously, deciding whether to use Windows Azure queues or service bus queues depends on a large number of factors. </font><font style="vertical-align: inherit;">These factors depend on the specific requirements of your application and its architecture. </font><font style="vertical-align: inherit;">If your application already uses the basic functions of Windows Azure, you can select Windows Azure queues. </font><font style="vertical-align: inherit;">This is especially true if you need basic data and message exchange between services, or if you need queues that exceed 5 GB.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Service bus queues have many advanced features: sessions, transactions, duplicate detection, automatic queuing for deletion, fault-tolerant publishing and subscription tools. You can choose this solution if you are creating a hybrid application, or if the above features are needed for your application to work. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">At the beginning of this article, an overview of the prescriptions and recommendations is given. Next, we consider the capabilities of queuing technologies available in the Windows Azure environment. The grouping of features by function allows for a visual comparative analysis to identify similarities and differences between Windows Azure queues and service bus queues.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">An in-depth study of these issues will help you choose the queuing technology that is most appropriate for specific tasks.</font></font><br><br><h4>  see also </h4><br> <a href="http://msdn.microsoft.com/ru-ru/library/windowsazure/hh545245.aspx">Best Practices for Leveraging Windows Azure Service Bus Brokered Messaging API (    API       Windows Azure)</a> <br><br> <a href="http://msdn.microsoft.com/ru-ru/library/windowsazure/hh528527.aspx">Best Practices for Performance Improvements Using Service Bus Brokered Messaging (             )</a> <br><br> <a href="http://www.windowsazure.com/en-us/develop/net/how-to-guides/service-bus-queues">How to Use Service Bus Queues (   )</a> <br><br> <a href="http://www.windowsazure.com/en-us/develop/net/how-to-guides/queue-service">How to Use the Queue Storage Service (     )</a> <br><br> <a href="http://www.code-magazine.com/article.aspx%3Fquickid%3D1112041">Introducing Queues and Topics in Azure Service Bus (   ,     Azure)</a> <br><br> <a href="http://www.cloudcasts.net/devguide/">The Developer's Guide to Service Bus ( ;  )</a> <br><br> <a href="http://www.microsoftpdc.com/2009/SVC09">Windows Azure Tables and Queues Deep Dive (   Windows Azure ‚Äî  )</a> <br><br> <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2011/11/20/windows-azure-storage-a-highly-available-cloud-storage-service-with-strong-consistency.aspx">Windows Azure Storage Architecture (  Windows Azure)</a> <br><br> <a href="http://www.developerfusion.com/article/120197/using-the-queuing-service-in-windows-azure/">Using the Queuing Service in Windows Azure (    Windows Azure)</a> <br><br> <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2010/07/09/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity.aspx">Understanding Windows Azure Storage Billing ‚Äì Bandwidth, Transactions, and Capacity (   Windows Azure ‚Äî  ,   )</a> </div><p>Source: <a href="https://habr.com/ru/post/156715/">https://habr.com/ru/post/156715/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../156699/index.html">About how we came up with a live online translator Nitro and did</a></li>
<li><a href="../156705/index.html">Review of the Bluetooth speakerphone Parrot MINIKIT Neo: talk "without hands" in the car</a></li>
<li><a href="../156707/index.html">How to gather developers together: Mobile Developer Day. Interview with Misha Denisov and Yulya Basyrova</a></li>
<li><a href="../156709/index.html">How to create a working landing pages</a></li>
<li><a href="../156711/index.html">Interception of HTTPS traffic between an Android device and an external server</a></li>
<li><a href="../156717/index.html">Big: Sony Xperia ion review</a></li>
<li><a href="../156719/index.html">I will give the project in good hands</a></li>
<li><a href="../156723/index.html">What book to read to make reports better?</a></li>
<li><a href="../156725/index.html">Accelerator or business incubator?</a></li>
<li><a href="../156731/index.html">Simple support for environments in Spring 3.1+</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>