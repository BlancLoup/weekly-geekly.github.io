<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>GUI in the game World of Tanks. Part One: The Evolution of Game Interfaces</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Today we will take a look at the history of the Graphical User Interface (GUI) development in World of Tanks. 

 The game went a long way to success, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>GUI in the game World of Tanks. Part One: The Evolution of Game Interfaces</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/d69/167/c66/d69167c66edc6299c760de9f0223763c.jpg" alt="image"><br><br>  Today we will take a look at the history of the Graphical User Interface (GUI) development in World of Tanks. <br><br>  The game went a long way to success, and its GUI was changed and completely reworked several times in pursuit of the increasing demands of the army of tankers, which grew steadily. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Having worked in the GUI Programming department for two and a half years, I got an idea of ‚Äã‚Äãhow the interface itself developed in terms of technology and how the approaches and processes changed, this development was accompanied. <br><br><a name="habracut"></a><h5>  First Steps: Using BigWorld Tools </h5><br>  It all started with the fact that in December 2008 the idea of ‚Äã‚Äãthe project was born.  Everyone who played tanks, I think, knows that the original idea was to make a game about elves and orcs, but when everything was thought out well, we decided to stop with tanks (see the title photo). <br><br>  The game began to make the engine BigWorld, which provided its own set of tools for creating GUI.  We took the path of least resistance and did the first interfaces on the BigWorld GUI. <br><br>  How it worked in terms of technical implementation: <br><br><ul><li>  the structure and the visual part of the GUI were described declaratively in XML; </li><li>  The overall layout for a large view is the styles of the view itself and the set of basic blocks that make it up, described in XML; </li><li>  Each block is described in a separate XML with an indication of the styles and components used.  For components, their settings were specified (naming, localization messages, style references); </li><li>  The styles were described in separate XML files, where the dimensions, positions, used textures, fonts, colors, z-order and God knows what else were set; </li><li>  when the client started, all these XML files were loaded in Python and parsed, after which the process of creating interfaces, initializing them and connecting to the game logic began. </li></ul><br>  Here is an example, torn from the depths of the SVN project: <br><br>  <b>hangar.xml - description of UI blocks in the hangar:</b> <br><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hangar</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">styles</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"><span class="undefined">window</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">hangar</span></span></span><span class="hljs-selector-pseudo"><span class="css"><span class="hljs-selector-pseudo">:window</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">styles</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">childs</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AccountBlock</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>account_info<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">import</span></span></span><span class="hljs-tag">&gt;</span></span> components/account <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">import</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AccountBlock</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Fitting</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>fitting<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">import</span></span></span><span class="hljs-tag">&gt;</span></span> components/fitting <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">import</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Fitting</span></span></span><span class="hljs-tag">&gt;</span></span> ... <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">childs</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hangar</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  <b>account.xml - description of the account information block:</b> <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">account</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">styles</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">hangar</span></span></span><span class="hljs-selector-pseudo"><span class="css"><span class="hljs-selector-pseudo">:account_info</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">styles</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">childs</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextLabel</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>account_name<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">text</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">text</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">textElideMode</span></span></span><span class="hljs-tag">&gt;</span></span>ElideRight<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">textElideMode</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">styles</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">hangar</span></span></span><span class="hljs-selector-pseudo"><span class="css"><span class="hljs-selector-pseudo">:account_name</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">styles</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">toolTip</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">format</span></span></span><span class="hljs-tag">&gt;</span></span>#tips:hangar/account_name<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">format</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">toolTip</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextLabel</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextLabel</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>account_exp<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">text</span></span></span><span class="hljs-tag">&gt;</span></span>#menu:hangar/account_info/experience<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">text</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">styles</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">hangar</span></span></span><span class="hljs-selector-pseudo"><span class="css"><span class="hljs-selector-pseudo">:account_exp</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">styles</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">toolTip</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">format</span></span></span><span class="hljs-tag">&gt;</span></span>#tips:hangar/account_exp<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">format</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">toolTip</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextLabel</span></span></span><span class="hljs-tag">&gt;</span></span> ... <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">childs</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">account</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  <b>styles / common.xml - style description for common components:</b> <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">window</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">bgcolor</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> 200 200 200 255</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">bgcolor</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">overlaycolor</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> 255 255 255 255 </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">overlaycolor</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">border</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">texture</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">gui/maps/window_border.tga</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">texture</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">size</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> 5 </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">size</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">border</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">focus</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">bgcolor</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> 255 255 255 255</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">bgcolor</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">focus</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">window</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> ‚Ä¶ </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  <b>styles / hangar.xml - style description for components in the hangar:</b> <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">window</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">color</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">0 0 0 255</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">color</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">bgcolor</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">255 255 255 255</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">bgcolor</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">window</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">account_info</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">position</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">x</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">10</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">x</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">y</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">10</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">y</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">z</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">0.9</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">z</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">position</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">height</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">32</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">height</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">bgcolor</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">100 100 100 255</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">bgcolor</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">color</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">200 200 200 255</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">color</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">account_info</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">account_name</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">height</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">100%</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">height</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">textAlign</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">LEFT</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">textAlign</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">position</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">x</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">10</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">x</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">position</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">account_name</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">account_exp</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">height</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">100%</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">height</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">horizontalAnchor</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">RIGHT</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">horizontalAnchor</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">font</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">default_smaller.font</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">font</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">account_exp</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> ‚Ä¶ </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Everything seems to be very structured and understandable.  But, as it turned out, this approach had several drawbacks: <br><br><ul><li>  Working with multi-level XML is difficult to understand and led to a large number of errors that are difficult to locate and correct (for example, miswritings in the naming of components and paths to textures, violation of the structure of an XML document); </li><li>  lack of visual development environment.  The only way to get a visual result is to launch the game client and recreate the necessary environment to view the desired interface.  Imagine what it would all look like by looking at XML, it was just unreal; </li><li>  poor performance when processing user input (this was especially noticeable in the chat); </li><li>  a small set of components out of the box and the difficulty of adding new components; </li><li>  high involvement of programmers in the process of creating and making changes (even minimal) in the GUI; </li><li>  no tool to create animation. </li></ul><br>  All these disadvantages led to the creation of interfaces in the style of Programmer Art.  According to a schematic sketch, programmers made layouts in XML, and only then artists created the necessary textures and passed everything back to programmers for final customization and loading.  Here is an example of such an interface (in the photo - the workplace of project manager Alexander Shilyaev with a tank client launched at the stage of a closed alpha test): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/065/256/4d7/0652564d72cda9542e5ed741d33a7ac1.jpg" alt="image"><br><br>  One of the first versions of the combat interface: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8f5/0ed/e8c/8f50ede8c485db4cb231c9d3b9643ba8.jpg" alt="image"><br><br>  And a little later version: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4a4/6ee/453/4a46ee453cffbfabe720c713fb9691f7.jpg" alt="image"><br><br>  It quickly became clear that this approach was a dead end.  An analysis of the market for middleware solutions was conducted.  As it turned out, the mainstream GUI development at the time was a solution from Scaleform: almost all AAA projects used it in development, and the results looked very attractive. <br><br><h5>  Pre-release period: transition to Scaleform </h5><br>  Scaleform suggested using Flash for GUI development.  In essence, the solution consisted of three parts: <br><br><ul><li>  custom implementation of Flash Player, which could be embedded in the game client; </li><li>  a set of tools for exporting SWF to a specialized format; </li><li>  CLIK component libraries - a set of standard UI components and classes that allowed to speed up development. </li></ul><br>  In the fall of 2009, a license was purchased, and a new stage of GUI development in the project began.  At first, everything looked promising: the Flash development process was worked out over the years, and there were a lot of developers who knew and loved this process.  However, it turned out that the situation on the labor market in Belarus at that time was such that the majority of Flash developers were already sitting on interesting and ‚Äúfat‚Äù projects, and it was difficult to quickly find and attract high-quality personnel from outside. <br><br>  For this reason, the entire GUI department started to learn Flash urgently (before that, they did php, Java, and were engaged in web development).  We studied and started working on ActionScript 2, because Scaleform did not yet support ActionScript 3 at that time. Here‚Äôs what happened at first: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9d3/896/f77/9d3896f7789280100681112bf1fed8dd.jpg" alt="image"><br><br>  For six months, the entire interface of the hangar was converted to Flash.  As I already wrote, the Flash development pipeline is a proven and logical process.  Designers create sketches, and programmers embody them in the game. <br><br>  Sketch: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/54d/f80/0c5/54df800c510ea2f0a8f263439b3f2bfd.jpg" alt="image"><br><br>  Implementation: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/df4/432/f8d/df4432f8d157f7003915f9b247d80b27.jpg" alt="image"><br><br>  In February 2010, a closed beta testing of the project began with the already updated hangar.  But the combat interface was still in Python: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e03/eac/5a0/e03eac5a015de6272d38f01ff218ef84.jpg" alt="image"><br><br>  In the spring of 2010, his turn came to move on to the Scaleform.  When this happened, the gaming community was divided into two camps.  One liked everything (or they simply did not notice a big difference) - and they silently continued to chop their tanks vigorously.  The rest began to lay mountains of bricks against the "bloody potato", saying that new sights and interface elements do not match the setting, that there is not enough torn metal, bolts and rivets, that sights should be historical, and not similar to space control elements. by ship. <br><br>  One of the working sketches of the new combat interface: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bd3/c9e/6ae/bd3c9e6aef9b1e74d98ba3dd5fa5cfbd.jpg" alt="image"><br><br>  The implementation of the combat interface on Scaleform: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e66/da4/62c/e66da462cd1b060f05723e729679423c.jpg" alt="image"><br><br>  But over time, dissatisfaction has passed, since the new interfaces have brought a lot of new things to the gameplay.  The game has become more dynamic, more intuitive and informative. <br><br>  In addition, the use of Scaleform has opened up possibilities for customizing interfaces.  Any schoolchild who knows how to work with Flash to a minimum could decompile SWF from the game‚Äôs distribution kit and change everything from the images and fonts used to the logic of the code at its discretion.  Fashions appeared, replacing the sights on the historical ones, the tank ‚Äúdoll‚Äù with a more brutal or, on the contrary, minimalist one.  It was possible to find mods for any part of the interface in battle.  There were fashion and for the hangar: watches, calculators, multi-level carousel, etc. <br><br>  Wargaming has changed its attitude towards mods several times.  At first, since these were isolated cases, they were simply ignored.  With time and an increase in their number and popularity, they began to look closely and realized that some of the mods could give a game advantage to the player using them.  Development began to lead on the principle of "client in the hands of the enemy."  This, of course, does not mean that the players are our enemies.  Our task was to protect players from other attempts to gain a gaming advantage. <br><br>  The situation on the mod market has become closely monitored.  Now in case of detection of dangerous mods or modifying the game balance, we promptly react and close the possibility of using them, changing the logic of the client‚Äôs work.  In the last few years, making honest mods is supported.  In essence, this is user generated content - players make these mods for themselves and other players, which increases the value of our product. <br><br>  But back to the story.  Working with Scaleform greatly refreshed the GUI and gave impetus to its development in the project.  The functionality grew and became more complicated during the passage of the closed and open beta and the release of the project to release in August 2010. New features were added, existing ones were refined and drew.  The design changed, different approaches were tried to present information in the game and organize interaction with the player. <br><br>  Options for the implementation of filter technology: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1c0/682/9b5/1c06829b59f40312a274a5f334c60787.jpg"><br><br>  Minimap changes: <br><br><img src="http://habrastorage.org/files/256/2a2/6d5/2562a26d59274d4eac2554c07bd4e6cd.jpg" alt="image"><br><br><h5>  Post-release: growth problems and their solutions </h5><br>  With the increase in the amount of code and assets, various jambs began to creep out. <br><br>  Scaleform marketing overtook the actual product development and, as it turned out, many of the declared features either did not work the way they wanted, or were severely beaten in performance, or even were in their infancy.  A lot of work has been done to improve the performance of the Scaleform player, both from our side and from the developers of the technology. <br><br>  The increased amount of code led to an interesting special effect.  Each view (or window) was in its FLA, contained its assets and code, and compiled into a separate SWF file.  There were a lot of such SWFs, and on runtime they were loaded into the client to display the desired window or control, and, characteristically, the order of loading could change depending on what the user was doing in the game. <br><br>  The problem was that if the code that was used in several SWFs changed, and not all of these SWFs were reassembled after the changes, the following could happen on runtime.  SWF was first loaded with obsolete code, and at best everything worked the old way, and at worst, the client crashed.  It was difficult to understand exactly what leads to such results.  We had to invent tools and techniques that allowed us to track what exactly needs to be rebuilt after the changes. <br><br>  There was also a problem with the quality and consistency of the code and the use of various patterns and programming styles.  It happened because Flash development in the project was started by people who were not professional Flash developers.  They learned Flash "in battle", and each had its own background (C ++, php, Java).  It turned out that when working in different parts of the project, it was necessary to switch from one approach to another. <br><br>  Another pain was the interaction of Flash with Python.  It was possible to transfer data in any direction only in the form of primitive types, which, of course, did not satisfy our requests.  There were two ways to solve it: use JSON or lay out all complex types in long arrays at one end and collect objects from these arrays at the other. <br><br>  The first approach worked well when the objects were small.  But with an increase in the size of objects, the volumes of the resulting lines grew, and this affected the speed of code execution ‚Äî it fell.  The second approach worked quickly, but was difficult to understand when reading the code and required titanic efforts when implementing changes in the data structure. <br><br>  By the time all these problems began to slow down the development, Scaleform had already brought ActionScript 3 support to an acceptable level.  We had a plan to transfer the hangar interfaces to a new version of the language and at the same time to restructure the project and create our own framework, which allows us to quickly and according to certain rules add new functionality to the project. <br><br>  Work on preparing the transition to ActionScript 3 began in late 2012.  How we solved the problems we faced, and what tasks we set. <br><br>  <b>Problem:</b> problems with different versions of code in different SWF. <br>  <b>Solution:</b> all application code is compiled into one SWF file, which is loaded when the application starts. <br><br>  <b>Problem:</b> Flash communication &lt;-&gt; Python. <br>  <b>Solution:</b> switch to using Direct Access API.  This mechanism allows you to transfer complex data objects using automatic serialization / deserialization of them at the C ++ level.  Also, using this approach increases performance by linking to Flash objects in Python and manipulating them in Python directly, instead of searching for the desired object in Flash along the full path to it each time data is required. <br><br>  <b>Problem:</b> standardization and code unification. <br>  <b>Solution:</b> we implemented the service infrastructure and defined sets of interfaces and base classes, implementing which new functionality is added to the project. <br><br>  <b>Problem:</b> automating the assembly and adding new functionality to the project. <br>  <b>Solution:</b> for the assembly we use Maven.  The project was restructured and divided into more logical subprojects and subsystems.  To automate the addition of new functionality, we used YAML as a language to describe the interfaces between Flash and Python.  On the basis of YAML, automatically when building, code is generated and the necessary entities are created, both in Flash and in Python.  All that remains is to write the code and define the entry point for launching the new functionality. <br><br>  So, in September 2013, with the release of version 8.8, the game lobby was completely redone for ActionScript 3. <br><br>  That's all for today.  Details about the project structure and future plans are in the next article. </div><p>Source: <a href="https://habr.com/ru/post/228309/">https://habr.com/ru/post/228309/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../228293/index.html">Now Bitcoin in Ukraine can be bought for cash at any of the 4000 terminals</a></li>
<li><a href="../228295/index.html">Radioisotope thermoelectric generator for Cassini: 10 years on plutonium batteries</a></li>
<li><a href="../228297/index.html">Apple has released a set of updates for its products.</a></li>
<li><a href="../228301/index.html">Console Audio Tools - a package of utilities for checking and converting audio files</a></li>
<li><a href="../228305/index.html">The determinant of the type of blocking sites at the provider</a></li>
<li><a href="../228311/index.html">Get & Check - we deliver content and send push notifications to mobile devices</a></li>
<li><a href="../228315/index.html">How I overcame DDoS in 15 minutes</a></li>
<li><a href="../228317/index.html">How to patch 11 different firmware and do not go crazy with diversity</a></li>
<li><a href="../228321/index.html">Samsung has introduced a high-capacity, productive SSD with a vertical structure of memory cells.</a></li>
<li><a href="../228323/index.html">Sony SmartWatch 2 Review</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>