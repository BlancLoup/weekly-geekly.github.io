<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>IOMeter2 v1.1.0</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Quite unexpectedly for me came the stable version of the multiplatform IGeter2 v1.1.0 synthetic load controller . IOMeter is often used for disk subsy...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>IOMeter2 v1.1.0</h1><div class="post__text post__text-html js-mediator-article">  Quite unexpectedly for me came the <a href="http://sourceforge.net/projects/iometer/">stable version of the multiplatform IGeter2 v1.1.0 synthetic load controller</a> .  IOMeter is often used for disk subsystem tests, although it can also generate network load.  The interface didn‚Äôt completely change.  In the previous article, I tested <a href="http://habrahabr.ru/post/209422/">NetApp FAS storage connected via FC4 to a host on a stable version of IOMeter2 2008-06-22-rc2</a> . <br><br>  With load testing, do not forget that you need to optimally configure the chain: <br>  Storage -&gt; Network ( <a href="http://habrahabr.ru/post/243119/">Ethernet</a> / FC) -&gt; Host ( <a href="http://habrahabr.ru/post/243153/">Windows</a> / <a href="http://habrahabr.ru/post/245357/">Linux</a> / <a href="http://habrahabr.ru/post/247833/">VMware ESXi</a> ) -&gt; Application. <br>  To get the best results in both synthetic tests and real data.  One server may not be enough to load the storage. <br><br>  Of the important innovations: <ul><li>  Windows <abbr title="User Account Control">UAC</abbr> support. </li><li>  Fixed Windows Disk detection, allowing to work with new disks.  A disk with a <abbr title="GUID Partition Table">GPT</abbr> partition table as a block device is still not supported. </li><li>  Data randomization - there were three options, very different generated random pattern. </li><li>  Unfortunately, not all old versions of configs are compatible with the new version of IOMeter2, here are the load patterns for the new version just below. </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/30d/de8/6a4/30dde86a4c2b45e384f9875d211fb019.png"><br>  For Outstanding <abbr title="Input-Output Operation">I / O, the</abbr> maximum value can be 256, while 128 means a high load similar to a high-loaded <abbr title="Database">database</abbr> . <br><a name="habracut"></a><br><br>  Set the maximum size of the test file ‚ÄúMaximum Disk Size‚Äù (0 means all free space on the disk), the value is set in sectors, for example 20971520 sectors (where one sector is 512 Byte, so 20971520 sectors will give 10 GByte).  And we set the load pattern in the ‚ÄúWrite IO Data Patern‚Äù field.  It is worth noting that IOMeter can work with a <i>block</i> device (that is, without a file system) for which it is created by the <abbr title="Master boot record">MBR</abbr> partition table, and ‚Äúon top‚Äù of the file system on the disk.  In the case of running the test ‚Äúon top‚Äù of the file system, IOMeter needs to create a test file, which can take a lot of time and depends on the ‚ÄúMaximum Disk Size‚Äù value.  When working with a <i>block</i> device "directly", creating a test file is not required, IOMeter immediately starts the test. <br><br><h4>  <a href="https://habr.com/ru/post/245859/">Load patterns</a> </h4><a name="iometer_patterns"></a><br>  All patterns: <abbr title="Database">DB</abbr> server, Web server, <a href="http://blog.atlantiscomputing.com/2013/08/how-to-use-iometer-to-simulate-a-desktop-workload/">VDI</a> and virtualization server, for IOMeter in the spoiler below.  Start a text editor and save the contents of the spoiler, to a file with the <i>icf</i> extension. <br><br><div class="spoiler">  <b class="spoiler_title">iometer_v110_4k_ALL.icf</b> <div class="spoiler_text">  Version 1.1.0 <br>  'ACCESS SPECIFICATIONS =============================================== ========== <br>  'Access specification name, default assignment <br>  Default, NONE <br>  'size,% of size,% reads,% random, delay, burst, align, reply <br>  4096,100,67,100,0,1,4096,0 <br>  'Access specification name, default assignment <br>  4 KiB;  100% Read;  0% random, NONE <br>  'size,% of size,% reads,% random, delay, burst, align, reply <br>  4096,100,100,0,0,1,4096,0 <br>  'Access specification name, default assignment <br>  4 KiB;  75% Read;  0% random, NONE <br>  'size,% of size,% reads,% random, delay, burst, align, reply <br>  4096,100,75,0,0,1,4096,0 <br>  'Access specification name, default assignment <br>  4 KiB;  50% Read;  0% random, NONE <br>  'size,% of size,% reads,% random, delay, burst, align, reply <br>  4096,100,50,0,0,1,4096,0 <br>  'Access specification name, default assignment <br>  4 KiB;  25% Read;  0% random, NONE <br>  'size,% of size,% reads,% random, delay, burst, align, reply <br>  4096,100,25,0,0,1,4096,0 <br>  'Access specification name, default assignment <br>  4 KiB;  0% Read;  0% random, NONE <br>  'size,% of size,% reads,% random, delay, burst, align, reply <br>  4096,100,0,0,0,1,4096,0 <br>  'Access specification name, default assignment <br>  4 KiB aligned;  100% Read;  100% random, NONE <br>  'size,% of size,% reads,% random, delay, burst, align, reply <br>  4096,100,100,100,0,1,4096,0 <br>  'Access specification name, default assignment <br>  4 KiB aligned;  50% Read;  100% random, NONE <br>  'size,% of size,% reads,% random, delay, burst, align, reply <br>  4096,100,50,100,0,1,4096,0 <br>  'Access specification name, default assignment <br>  4 KiB aligned;  0% Read;  100% random, NONE <br>  'size,% of size,% reads,% random, delay, burst, align, reply <br>  4096,100,0,100,0,1,4096,0 <br>  'Access specification name, default assignment <br>  16 KiB;  100% Read;  0% random, NONE <br>  'size,% of size,% reads,% random, delay, burst, align, reply <br>  16384,100,100,0,0,1,4096,0 <br>  'Access specification name, default assignment <br>  16 KiB;  75% Read;  0% random, NONE <br>  'size,% of size,% reads,% random, delay, burst, align, reply <br>  16384,100,75,0,0,1,4096,0 <br>  'Access specification name, default assignment <br>  16 KiB;  50% Read;  0% random, NONE <br>  'size,% of size,% reads,% random, delay, burst, align, reply <br>  16384,100,50,0,0,1,4096,0 <br>  'Access specification name, default assignment <br>  16 KiB;  25% Read;  0% random, NONE <br>  'size,% of size,% reads,% random, delay, burst, align, reply <br>  16384,100,25,0,0,1,4096,0 <br>  'Access specification name, default assignment <br>  16 KiB;  0% Read;  0% random, NONE <br>  'size,% of size,% reads,% random, delay, burst, align, reply <br>  16384,100,0,0,0,1,4096,0 <br>  'Access specification name, default assignment <br>  32 KiB;  100% Read;  0% random, NONE <br>  'size,% of size,% reads,% random, delay, burst, align, reply <br>  32768,100,100,0,0,1,4096,0 <br>  'Access specification name, default assignment <br>  32 KiB;  75% Read;  0% random, NONE <br>  'size,% of size,% reads,% random, delay, burst, align, reply <br>  32768,100,75,0,0,1,4096,0 <br>  'Access specification name, default assignment <br>  32 KiB;  50% Read;  0% random, NONE <br>  'size,% of size,% reads,% random, delay, burst, align, reply <br>  32768,100,50,0,0,1,4096,0 <br>  'Access specification name, default assignment <br>  32 KiB;  25% Read;  0% random, NONE <br>  'size,% of size,% reads,% random, delay, burst, align, reply <br>  32768,100,25,0,0,1,4096,0 <br>  'Access specification name, default assignment <br>  32 KiB;  0% Read;  0% random, NONE <br>  'size,% of size,% reads,% random, delay, burst, align, reply <br>  32768,100,0,0,0,1,4096,0 <br>  'Access specification name, default assignment <br>  64 KiB;  100% Read;  0% random, NONE <br>  'size,% of size,% reads,% random, delay, burst, align, reply <br>  65536,100,100,0,0,1,4096,0 <br>  'Access specification name, default assignment <br>  64 KiB;  50% Read;  0% random, NONE <br>  'size,% of size,% reads,% random, delay, burst, align, reply <br>  65536,100,50,0,0,1,4096,0 <br>  'Access specification name, default assignment <br>  64 KiB;  0% Read;  0% random, NONE <br>  'size,% of size,% reads,% random, delay, burst, align, reply <br>  65536,100,0,0,0,1,4096,0 <br>  'Access specification name, default assignment <br>  256 KiB;  100% Read;  0% random, NONE <br>  'size,% of size,% reads,% random, delay, burst, align, reply <br>  262,144,100,100,0,0,1,4096,0 <br>  'Access specification name, default assignment <br>  256 KiB;  50% Read;  0% random, NONE <br>  'size,% of size,% reads,% random, delay, burst, align, reply <br>  262,144,100,50,0,0,1,1,4096,0 <br>  'Access specification name, default assignment <br>  256 KiB;  0% Read;  0% random, NONE <br>  'size,% of size,% reads,% random, delay, burst, align, reply <br>  262,144,100,0,0,0,1,4096,0 <br>  'Access specification name, default assignment <br>  All in one, NONE <br>  'size,% of size,% reads,% random, delay, burst, align, reply <br>  4096,5,100,0,0,1,4096,0 <br>  4096,5,75,0,0,1,4096,0 <br>  4096,5,50,0,0,1,4096,0 <br>  4096,5,25,0,0,1,4096,0 <br>  4096,5,0,0,0,1,4096,0 <br>  4096,5,100,100,0,1,4096,0 <br>  4096,5,50,100,0,1,4096,0 <br>  4096,5,0,100,0,1,4096,0 <br>  16384,4,100,0,0,1,4096,0 <br>  16384,4,75,0,0,1,4096,0 <br>  16384,4,50,0,0,1,4096,0 <br>  16384,4,25,0,0,1,4096,0 <br>  16384,4,0,0,0,1,4096,0,0 <br>  32768,4,100,0,0,1,4096,0 <br>  32768.4.75.0.0.1.4096.0 <br>  32768,4,50,0,0,1,4096,0 <br>  32768.4.25.0.0.1.4096.0 <br>  32768,4,0,0,0,1,4096,0 <br>  65536,4,100,0,0,1,4096,0 <br>  65536,4,50,0,0,1,4096,0 <br>  65536,3,0,0,0,1,4096,0 <br>  262,144.3,100,0,0,1,4096,0 <br>  262144,3,50,0,0,1,4,496,0,0 <br>  262,144.3.0.0.0.1.4096.0 <br>  'Access specification name, default assignment <br>  Database pattern, NONE <br>  'size,% of size,% reads,% random, delay, burst, align, reply <br>  8192,100,67,100,0,1,4096,0 <br>  'Access specification name, default assignment <br>  Fileserver pattern (Intel), NONE <br>  'size,% of size,% reads,% random, delay, burst, align, reply <br>  512,10,80,100,0,1,4096,0 <br>  1024,5,80,100,0,1,4096,0 <br>  2048,5,80,100,0,1,4096,0 <br>  4096,60,80,100,0,1,4096,0 <br>  8192,2,80,100,0,1,4096,0 <br>  16384,4,80,100,0,1,4096,0 <br>  32768.4.80.100.0.1.4096.0 <br>  65536,10,80,100,0,1,4096,0 <br>  'Access specification name, default assignment <br>  Workstation pattern (StorageReview.com), NONE <br>  'size,% of size,% reads,% random, delay, burst, align, reply <br>  8192,100,80,80,0,1,8192,0 <br>  'Access specification name, default assignment <br>  Webserver pattern (unknown), NONE <br>  'size,% of size,% reads,% random, delay, burst, align, reply <br>  512,22,100,100,0,1,4096,0 <br>  1024,15,100,100,0,1,4096,0 <br>  2048,8,100,100,0,1,4096,0 <br>  4096,23,100,100,0,1,4096,0 <br>  8192,15,100,100,0,1,4096,0 <br>  16384,2,100,100,0,1,4096,0 <br>  32768,6,100,100,0,1,4096,0 <br>  66560,7,100,100,0,1,4096,0 <br>  131072,1,100,100,0,1,4096,0 <br>  524288,1,100,100,0,1,4096,0 <br>  'Access specification name, default assignment <br>  VDI, NONE <br>  'size,% of size,% reads,% random, delay, burst, align, reply <br>  4096,100,20,80,0,1,4096,0 <br>  'END access specifications <br>  'MANAGER LIST =============================================== =================== <br>  'Manager ID, manager name <br>  1, NetApp <br>  'Manager network address <br><br>  'End manager <br>  'END manager list <br>  Version 1.1.0 <br><br></div></div><br><br>  Example of setting a synthetic load pattern for a <abbr title="Database">database</abbr> <br><img src="https://habrastorage.org/files/381/23e/20e/38123e20e91141f4900cbc63a4758bcc.png"><br><ul><li>  Transfer Request Size: 8KB </li><li>  Percent Read / Write Distribution: 67% read / 33% write </li><li>  Percent Random / Sequential Distribution: 100% random </li><li>  Align <abbr title="Input-Output Operation">I / O</abbr> on: should always be 4KB </li><li>  Outstanding <abbr title="Input-Output Operation">I / O</abbr> : 128 </li></ul><br><br>  Align <abbr title="Input-Output Operation">I / O</abbr> on should always be <a href="http://blog.aboutnetapp.ru/archives/794">4K, as the most suitable</a> in the case of modern <abbr title="Operating system">operating systems</abbr> and <abbr title="Storage System">storage systems</abbr> .  So for Windows starting from NT 4.0 for <abbr title="New Technology File System">NTFS, the</abbr> <a href="http://support.microsoft.com/KB/140365">minimum cluster value is 4KB</a> , for <a href="http://en.wikipedia.org/wiki/Ext4">EXT3 / EXT4</a> on the x86 platform, the default block size is often 4KB.  <abbr title="Serial ATA">SATA drives</abbr> work with 4KB blocks of information.  The block size for a <abbr title="Database">database</abbr> with an <abbr title="Online transaction processing">OLTP</abbr> load is generally recommended to be set from 2KB to 8KB, and for mixed and <abbr title="Decision Support System">DSS</abbr> loads, the recommended block value is usually higher (8 KB, 16 KB, or 32 KB).  VMware VMFS-5 uses <a href="http://kb.vmware.com/selfservice/microsites/search.do%3Flanguage%3Den_US%26cmd%3DdisplayKC%26externalId%3D2003813">a block size of 1MB</a> and sub-blocks of 8KB.  <a href="http://geektimes.ru/post/78632/">More about setting up IOMeter</a> .  VMware VMFS-6 (starting with vSphere 6.5) uses a 4K sector size with 512 bytes emulation (512e). <br>  All of the above written off and to the Transfer request size: it makes no sense to make it less than 4KB. <br><br><h6>  <a href="https://habr.com/ru/post/245859/">Other load generators</a> </h6><a name="other_simulators"></a><br>  <a href="http://support.netapp.com/NOW/download/tools/sio_ntap/">sio</a> <br>  <a href="http://blog.aboutnetapp.ru/archives/1243">fio</a> <br>  <a href="http://docs.oracle.com/cd/E11882_01/server.112/e16638/iodesign.htm">Oracle Orion</a> <br>  <a href="http://www.microsoft.com/en-us/download/details.aspx%3Fid%3D20163">MS SQLIO Disk Subsystem Benchmark Tool</a> <br>  <a href="http://www.iozone.org/">Iozone</a> <br>  <a href="http://www.attotech.com/disk-benchmark/">ATTO Disk Benchmark</a> <br>  <a href="http://www.intel.com/content/www/us/en/storage/nas-performance-toolkit.html">Intel NASPT - sequential read / write operations for NAS</a> <br><br>  <b>I ask to send messages on errors in the text to the <abbr title="Private message">LAN</abbr> .</b> <br>  <b>Notes and additions on the contrary please in the comments</b> </div><p>Source: <a href="https://habr.com/ru/post/245859/">https://habr.com/ru/post/245859/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../245847/index.html">Replication slots in PostgreSQL</a></li>
<li><a href="../245849/index.html">Dagaz: Again about XSLT</a></li>
<li><a href="../245851/index.html">MyLifeOrganized: folders vs contexts</a></li>
<li><a href="../245853/index.html">Business is not childish - Or how did an eighth-grader deliver fruit?</a></li>
<li><a href="../245857/index.html">Installing BIND9 DNS on CentOS</a></li>
<li><a href="../245861/index.html">We simulate the prestress of the concrete shell of the nuclear power plant</a></li>
<li><a href="../245863/index.html">New office Synesis: how we created the space for the birth of ideas</a></li>
<li><a href="../245867/index.html">Textolite 1.04: you can create templates and edit scripts</a></li>
<li><a href="../245869/index.html">The course from Yandex about what every developer who wants to make large systems should know. Buzz word DevOps and more</a></li>
<li><a href="../245871/index.html">How to live if you have a laptop, and the screens are not enough</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>