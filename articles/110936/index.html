<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Native Instruments Reaktor: synthesis of sawtooth, square, triangular and sine waves</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The article is devoted to the synthesis of four main sound waves: sawtooth (saw), square (square), triangular (triangle) and sinusoidal (sine). To wor...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Native Instruments Reaktor: synthesis of sawtooth, square, triangular and sine waves</h1><div class="post__text post__text-html js-mediator-article"><img src="http://codestudio.org/habr/3/reaktor.jpg" alt="intro"><br><br>  The article is devoted to the synthesis of four main sound waves: sawtooth (saw), square (square), triangular (triangle) and sinusoidal (sine).  To work, you need a software environment for processing sound <b>Reaktor</b> from the company Native Instruments.  The demo version can be downloaded <a href="http://www.native-instruments.com/index.php%3Fid%3Dr5pcdemo_us">on the official website of Native Instruments</a> (the work limit is 30 minutes, project saving is disabled).  Information will be useful not only to the owners of this software, but also to those who are interested in programming and sound processing in general.  Tackle decently screenshots, careful traffic! <br><a name="habracut"></a><br><h4>  Theory </h4><br>  It is assumed that before starting work, you familiarized yourself with the manual, main modules and Reaktor interface.  The program has two levels of work: <b>Primary Level</b> (primary) and <b>Core Level</b> (internal).  The differences speak for themselves - at the Primary level, all solutions are ready (wave generators, amplitude envelopes, effects, etc.), while at the Core level, you can create everything yourself.  Core Level is your own programming language created by the NI developer company.  It contains the same operators, cycles and variables as in other programming environments. <br><br>  We know that digital audio is different from analog.  An analog signal is continuous in contrast to digital signal, therefore such a concept as the sampling frequency <b>SR.R</b> (Sample Rate) is used to convert the first to the second.  The sampling frequency (or sampling frequency) is the number of samples per second required to convert a continuous signal to a discrete one.  Accordingly, the greater the sampling frequency, the richer the spectrum of the discrete signal.  In Reaktor, for convenience, there is still such a thing as a <b>SR.C</b> (Sample Rate Clock) sampling frequency event: SR.C = 1 / SR.R. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      If we have a standard sampling frequency of 44100 Hz, this means that the sampling frequency event occurs 44100 times in 1 second.  Thus, Reaktor recognizes two signal levels - the audio signal (Audio) and the event signal (Event).  With the first, everything is clear, and the second type of signal can be compared with a flash that occurs when fireworks are launched.  The event signal does not sound at all - it is just a figure with a value at a certain time interval, therefore SR.C is an event with a value of 0. <br><br><h4>  Sawtooth wave </h4><br>  Synthesis in Reaktor is the easiest to start with a saw wave.  The fact is that its phase is fundamental for constructing the phases of all other waves. <br><br><img src="http://codestudio.org/habr/3/1saw.png" alt="saw"><br><br>  From the figure it is clear that the sound wave as a whole is of itself and it is characterized by two main indicators - <b>phase</b> and <b>amplitude</b> .  This is a kind of function with repeated cycles (phase with a certain frequency), which in this case takes values ‚Äã‚Äãfrom 0 to 1 (amplitude).  Phase frequency can be expressed both in Hertz and in pitch.  The pitch of the sound is measured in tones and takes values ‚Äã‚Äãfrom 0 to 127. For example, note C (to) on the 3rd octave corresponds to tone 48, which is approximately equal to 130.8137 Hz.  The amplitude can also be represented both as a numerical value (1), and in decibels (0 dB).  In practice, we need that each time at a sampling frequency event we get some value from 0 to 1 in accordance with the function shown in the figure.  Using ready-made solutions in Reaktor is strictly punishable with unwritten rules. <br><br><img src="http://codestudio.org/habr/3/pic1.png" alt="scheme1"><br><br><img src="http://codestudio.org/habr/3/pic2.png" alt="scheme2"><br><br><img src="http://codestudio.org/habr/3/pic3.png" alt="scheme3"><br><br>  * - <i>for work, I used the new version of Reaktor, as I became the owner of a new licensed beta version after buying an old one, but the interface of Core and Primary levels is no different from the previous one.</i> <br><br>  To begin, we need to create a new project (File - New Ensemble).  Screenshots are presented in accordance with the depth of the open level of the project.  The first screenshot shows the main tool connected to the outputs of the audio card (in the old version it looks a little different).  The second screenshot already shows the insides of the main instrument (Primary level).  All modules can be called up with the right mouse button.  The Note Pitch and Gate modules located in the Built-in Module - MIDI In section are responsible for receiving a MIDI signal from a keyboard or MIDI controller, i.e.  Note Pitch receives values ‚Äã‚Äãfrom 0 to 127 and is responsible for the pitch of the sound, and Gate is from 0 to 1 and is responsible for the amplitude of the sound (on the keyboard, as a rule, from 0 to 0.6299).  Inside the Saw Waveform module, there is a continuous phase of the sawtooth wave, so we use the Multiply module (multiplication) in conjunction with the Gate module so that the signal is controlled by the MIDI device, rather than being played continuously.  The third screenshot is the most interesting, because  it is here that the phase of the wave occurs.  The first part of the structure is the conversion of the pitch to the phase frequency.  The calculation is made according to the following formula: <br><br><img src="http://codestudio.org/habr/3/formula_pitch.png" alt="formula1"><br><br>  Consider the structure of a specific example.  At pitch 48, our cycle, which begins with the SR.C sampling frequency event, receives the following data: F = 130.8128, 2 / SR.R = 0.000045351 (with a standard sampling frequency of 441000 Hz) - Nyquist frequency ( equal to half the sampling frequency), F * Nyquist frequency = 0.0059325. <br><br>  If the value coming into the modulus sum (+) exceeds one, it is sent to the difference modulus, where one is subtracted from it.  Thus, our function takes a strict range from 0 to 1. After that, the value is stored in the memory module (Write) and again enters the memory reading module (Read), where at the next sample frequency event is added to the previous value.  If we connect an oscilloscope (Micro Scope module) to the output of the Core module (Phase), we will get exactly the same function as on the sawtooth wave graph.  In the next cycle, we have: 0.0059325 + 0.0059325 = 0.018665, 0.018665 + 0.0059325 = 0.01777975, etc. <br><br>  * - <i>important note: the article omits the question of antialiasing (anti-aliasing), since</i>  <i>This is a topic for individual discussions.</i> <br><br><h4>  Square wave </h4><br><img src="http://codestudio.org/habr/3/2pulse.png" alt="pulse"><br><br>  Unlike a sawtooth, a square wave takes values ‚Äã‚Äãequal to only 0 or 1. It is not difficult to guess how to synthesize this wave using the previous phase: if the sawtooth wave phase is greater than 0.5, then the square wave phase value is 1, if it is less, 0. <br><br><img src="http://codestudio.org/habr/3/pic4.png" alt="scheme4"><br><br><img src="http://codestudio.org/habr/3/pic5.png" alt="scheme5"><br><br><h4>  Triangular wave </h4><br><img src="http://codestudio.org/habr/3/3triangle.png" alt="triangle"><br><br>  In order to transform the phase of the sawtooth wave into a triangular wave, it is necessary to transform the first one so that it takes negative values, and then take its module.  Everything is quite simple - we subtract 0.5 from the phase of the sawtooth wave, getting the range of values ‚Äã‚Äãfrom -0.5 to 0.5, take the absolute value of this range and multiply by 2, returning to the range of values ‚Äã‚Äãfrom 0 to 1. Transformations occur inside the same Core module Square . <br><br><img src="http://codestudio.org/habr/3/pic6.png" alt="scheme6"><br><br><h4>  Sine wave </h4><br><img src="http://codestudio.org/habr/3/4sine.png" alt="sine"><br><br>  With the synthesis of a sine wave, things are a little more complicated.  The point is that the sine function is continuous and periodic with a fundamental period of 2œÄ, unlike other functions.  One solution is to decompose the sine function using the Taylor Series, i.e.  its transformation to an infinite sum of power functions.  It looks like this: <br><br><img src="http://codestudio.org/habr/3/formula_sin.png" alt="formula2"><br><br>  Transforming the phase of the sawtooth wave to 2œÄ and shifting the function for conversion, we obtain the following picture in Reaktor: <br><br><img src="http://codestudio.org/habr/3/pic7.png" alt="scheme7"><br><br>  In this scheme, the sums 6, 120, 5040 and 362880 are the factorials of the numbers 3 !, 5, 7!  and 9!  accordingly, x is the Quick Bus used for convenience (added by calling the additional menu), and numeric conversions at the end of the formula are conversions to functions in the usual range from 0 to 1. <br><br><h5>  Resources used </h5><br>  <b>Wikipedia</b> : <br><br>  <a href="http://en.wikipedia.org/wiki/Waveform">Waveform</a> <br>  <a href="http://ru.wikipedia.org/wiki/%25D0%2592%25D1%258B%25D1%2581%25D0%25BE%25D1%2582%25D0%25B0_%25D0%25B7%25D0%25B2%25D1%2583%25D0%25BA%25D0%25B0">Pitch</a> <br>  <a href="http://ru.wikipedia.org/wiki/%25D0%25A7%25D0%25B0%25D1%2581%25D1%2582%25D0%25BE%25D1%2582%25D0%25B0">Frequency</a> <br>  <a href="http://ru.wikipedia.org/wiki/%25D0%2590%25D0%25BC%25D0%25BF%25D0%25BB%25D0%25B8%25D1%2582%25D1%2583%25D0%25B4%25D0%25B0">Amplitude</a> <br>  <a href="http://ru.wikipedia.org/wiki/%25D0%25A7%25D0%25B0%25D1%2581%25D1%2582%25D0%25BE%25D1%2582%25D0%25B0_%25D0%259D%25D0%25B0%25D0%25B9%25D0%25BA%25D0%25B2%25D0%25B8%25D1%2581%25D1%2582%25D0%25B0">Nyquist frequency</a> <br>  <a href="http://ru.wikipedia.org/wiki/%25D0%25A0%25D1%258F%25D0%25B4_%25D0%25A2%25D0%25B5%25D0%25B9%25D0%25BB%25D0%25BE%25D1%2580%25D0%25B0">Taylor series</a> <br><br>  <b>Other resources (including my projects) are in English:</b> <br><br>  <a href="http://co.native-instruments.com/index.php%3Fid%3Duserlibrary%26type%3D0%26ulbr%3D1%26plview%3Ddetail%26patchid%3D8685">Reaktor For You Archive (my archive of articles for Reaktor)</a> * - available only to users of licensed versions <br><br>  <b>My threads on Reaktor‚Äôs official forum:</b> <br><br>  <a href="http://www.native-instruments.com/forum/showthread.php%3Ft%3D77977">Beginner Lessons</a> <br>  <a href="http://www.native-instruments.com/forum/showthread.php%3Ft%3D82420">Core sound waves creation</a> <br><br>  <b>Additional resource:</b> <br><br>  <a href="http://www.reaktor.soundproector.ru/">Reaktor Community in Russia</a> </div><p>Source: <a href="https://habr.com/ru/post/110936/">https://habr.com/ru/post/110936/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../110927/index.html">Special project in Kaznet using Yandex cards</a></li>
<li><a href="../110928/index.html">Cartoon "Gypsy": Despediya</a></li>
<li><a href="../110930/index.html">History of ABBYY Lingvo. Four-zero</a></li>
<li><a href="../110933/index.html">Torrent tracker KickassTorrents compiled a list of the most popular user requests</a></li>
<li><a href="../110935/index.html">South Korean government fails to tighten control over the Internet in their country</a></li>
<li><a href="../110939/index.html">Add support for different languages ‚Äã‚Äãin the program for BlackBerry</a></li>
<li><a href="../110941/index.html">Tool for drawing snowflakes in the browser</a></li>
<li><a href="../110945/index.html">New victories over Sony PS3 protection</a></li>
<li><a href="../110946/index.html">Three Stars: Aerospace Program</a></li>
<li><a href="../110948/index.html">Skype launches video calls on iPhone</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>