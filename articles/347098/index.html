<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Kubernetes success stories in production. Part 7: BlackRock</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="BlackRock is one of the largest investment companies in the world and the largest in terms of assets under management (5.7 trillion USD as of July'17)...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Kubernetes success stories in production. Part 7: BlackRock</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/-5/s4/xd/-5s4xdo0t_mdxo_pxfj8zbnrzno.png"><br><br>  BlackRock is one of the largest investment companies in the world and the largest in terms of assets under management <i>(5.7 trillion USD as of July'17)</i> .  It is also called the world's largest ‚Äú <a href="https://ru.wikipedia.org/wiki/%25D0%25A2%25D0%25B5%25D0%25BD%25D0%25B5%25D0%25B2%25D0%25B0%25D1%258F_%25D0%25B1%25D0%25B0%25D0%25BD%25D0%25BA%25D0%25BE%25D0%25B2%25D1%2581%25D0%25BA%25D0%25B0%25D1%258F_%25D1%2581%25D0%25B8%25D1%2581%25D1%2582%25D0%25B5%25D0%25BC%25D0%25B0">shadow bank</a> ‚Äù.  With a 30-year history and such impressive performance, the company does not lag behind the current trends in IT infrastructure.  Last Friday, the CNCF organization‚Äôs blog showed that BlackRock managed to roll out its production environment to Kubernetes in 100 days.  How did they come to this? <a name="habracut"></a><br><br><h2>  Prehistory </h2><br>  BlackRock‚Äôs potential interest in Kubernetes became publicly known in 2015‚Äì2016, when the company began hosting relevant thematic meetings.  For example, in September 2015, representatives of the Mesosphere and Calico spoke at an <a href="http://rockthecode.io/tech-events/mesos-kubernetes/">event</a> organized in BlackRock, and in January 2016, another <a href="https://tech.spaceapegames.com/2016/01/22/coreos-london-january-meetup-2016/">CoreOS London Meetup was</a> held at the company's office. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  Aladdin and Docker </h3><br>  However, interest in technology itself still does not guarantee anything when it comes to practical application.  And in May of last year, a <a href="http://rockthecode.io/blog/transitioning-blackrocks-aladdin-cloud-architecture/">note</a> on the transfer of the Aladdin software platform to the cloud architecture appears in the BlackRock tech blog. <br><br>  <a href="https://www.blackrock.com/aladdin">Aladdin</a> <i>(stands for Asset Liability and Debt and Derivatives Investment Network)</i> offers investment managers risk analytics combined with portfolio management and trading tools. <br><br><img src="https://habrastorage.org/webt/xy/sr/ct/xysrcti5wiovurwvu_wd6cvu7yy.jpeg"><br>  <i>The functionality of Aladdin (for details, see <a href="https://www.blackrock.com/aladdin/offerings/aladdin-overview">the product website</a> )</i> <br><br>  The core of the Aladdin Core Platform, originally created for this solution, appeared to be ‚Äúa single unified technological stack for all applications, also called the Aladdin Operation System‚Äù.  This ‚Äúoperating system‚Äù was launched on each host where the platform applications worked.  The chosen approach ensured the availability of all necessary (common for applications) capabilities in the host system and did not require a virtualization layer. <br><br>  However, over time began to show serious problems caused by: <br><br><ul><li>  the need to run on the same machines third-party utilities for analyzing Big Data (Hadoop and Spark); </li><li>  the need for simple scaling with a surge in the number of requests; </li><li>  the need for simple Deployed isolated test environments for various development teams. </li></ul><br>  All this has led the company's engineers to decide to switch to the <b>cloud architecture</b> , which implies the possibility of allocating a common pool of resources for any workloads (both core applications and third-party analytical software) and running processes on any hosts (for horizontal scaling of applications). <br><br><img src="https://habrastorage.org/webt/vf/3h/ki/vf3hkitpmnekaqncipoz3lwjng8.png"><br>  <i>Schematic comparison of the architecture of the application according to BlackRock</i> <br><br>  Aladdin decided to implement the cloud architecture using <b>Docker</b> containers.  At the same time, there was a need for an orchestration system, the key requirements for which were designated as follows: dynamic planning, service discovery, and isolation.  However, details about its selection and use at that time were not reported. <br><br>  And in December last year, Bitnami reported that BlackRock was already a <b>Kubeless</b> user ‚Äî a serverless framework for Kubernetes.  And later in the same month <a href="https://www.ftfnews.com/blackrock-builds-aladdin-web-app-for-investor-research/19423">, the</a> first public details about the use of K8s are <a href="https://www.ftfnews.com/blackrock-builds-aladdin-web-app-for-investor-research/19423">distributed</a> to various media in the same Aladdin platform.  Finally, they were complemented by a <a href="https://kubernetes.io/case-studies/blackrock/">success story</a> on the Kubernetes website. <br><br><h2>  Aladdin and Kubernetes </h2><br>  The objectives of the new web application for Aladdin, the infrastructure of which was implemented with the help of Kubernetes, were to provide a user-friendly interface offering investors access to the analytical data they need.  This approach has replaced complex client <i>(i.e., installed on user desktops)</i> installations with Python and R, interacting with project servers, where distributed computing has been launched.  To implement it, a team of 20 people from different departments of BlackRock (for the development, operation of infrastructure and products, project management) was assembled, who managed to achieve a successful result in <b>100 days</b> . <br><br>  The initial plan for creating a cloud-based web application was proposed by the developers of the company and consisted in using Ansible to describe all the necessary infrastructure.  However, the operators pointed to the poor prospects for such an approach (according to their version, it will lead to ‚Äúthe emergence of a completely different product‚Äù and ‚Äúprove to be too expensive‚Äù) and began to search for another solution. <br><br>  Having already had experience with ‚Äúother cloud environments‚Äù (which, unfortunately, it is not specified exactly), the joint team of engineers chose Kubernetes.  The two main reasons are the <b>open source code and confidence in the long-term prospects of the project</b> .  As explained by the vice president of product operations at BlackRock (Uri Morris), companies usually choose technologies that will be relevant in one form or another in another 5-10 years, and the young Kubernetes already looked quite convincing.  In part, this was due to the fact that the number of non-Google people who make changes to the K8s codebase exceeded the number of committers from Google.  As a distribution Kubernetes, the implementation was chosen from a commercial company - <b>OpenShift</b> from Red Hat. <br><br><img src="https://habrastorage.org/webt/fm/m9/in/fmm9inpmapignz34l-yl8zbbu5e.png"><br>  <i><a href="https://github.com/openshift-cs/commons.openshift.org/issues/531">Pull-request</a> to add BlackRock to the list of users OpenShift</i> <br><br><h3>  Features and Results of Implementation </h3><br>  In the process of implementing the architecture based on Kubernetes, for the Aladdin platform it was not without challenges.  The main ones were: <br><br><ul><li>  corporate firewalls that prevented the installation of various packages using ready-made instructions (as a result, some improvements were sent to the Minikube project codebase); </li><li>  the difficulty of finding services caused by the use of a proprietary messaging bus to interoperate multiple Aladdin services, providing an API for quickly building applications; </li><li>  integration with existing tools - for example, with the same message bus, which was done using a separate gateway, through which the Kubernetes cluster interacts and whose built-in mechanisms allowed us to control and regulate incoming requests. </li></ul><br>  <i><b>Note</b> : At the core of the BlackRock Messaging System (BMS) is the request-response paradigm.</i>  <i>The server part ‚Äî BmsServer ‚Äî is a multi-threaded application in C ++, and client libraries are available in Java, C ++, Python, JavaScript, Perl, C #, and Julia.</i>  <i>Read more about this system in the <a href="http://rockthecode.io/blog/bms-blackrock-messaging-system/">company's blog</a> .</i> <br><br><img src="https://habrastorage.org/webt/gv/hq/lp/gvhqlpbyqoa5ipx0w_uiap0mk4w.png"><br>  <i>Illustrations of the device and operation of the BlackRock Messaging System</i> <br><br>  In general, the new infrastructure for the application, based on Kubernetes, was complemented <b>by the existing</b> and familiar <b>tools</b> for the operation team, which saved staff (minimized the need to hire new people to service the project). <br><br>  The process of rolling out the infrastructure became phased and began with the development environment, followed by a test and two production environments.  Throughout the project, the team held weekly 1-hour meetings with all participants (distributed across different countries), as well as additional shorter discussions on specific technical issues.  An important feature of this implementation in general, representatives of BlackRock called the <b>initiative on the part of engineers</b> , who have been entrusted to do what they themselves think is right. <br><br>  The result of the project was the launch of the platform for internal users 100 days after the start of implementation.  The infrastructure was designed for 30 users who appeared during the first hours after launch, therefore, the services for servicing 150 people were scaled promptly.  The success of the implemented infrastructure allowed BlackRock to talk about the intention to transfer to Kubernetes and other applications of the company, but before making a final (and large-scale) decision on this issue, they want to gain operating experience in production, which they estimate will take from six months to a year.  In addition, the already mentioned <a href="https://www.ftfnews.com/blackrock-builds-aladdin-web-app-for-investor-research/19423">interview</a> confirms the information that the company began working with the serverless framework for Kubernetes - Kubeless. <br><br>  But the technological stack used in BlackRock, which is listed in the current vacancy of the company - <a href="https://careers.blackrock.com/job/BLACUS2098/Senior-Big-Data-Engineer-Research-Analytics">Senior Big Data Engineer</a> : <br><br><ul><li>  Java, Python, Greenplum (SQL, SP, Functions), Java, Cassandra, ESP (Complex Event Processing), Git, Maven, Linux; </li><li>  New product development may include Docker, Kubernetes, Spark, Kafka and Kafka Streams (the same list is specified in the candidate requirements). </li></ul><br>  Among the duties is also a clause on ‚Äúdeploying, designing and scaling microservices‚Äù. <br><br><h2>  Other articles from the cycle </h2><br><ul><li>  ‚Äú <a href="https://habrahabr.ru/company/flant/blog/334140/">Kubernetes success stories in production.</a>  <a href="https://habrahabr.ru/company/flant/blog/334140/">Part 1: <b>4,200 pods and TessMaster on eBay</b></a> . ‚Äù </li><li>  ‚Äú <a href="https://habrahabr.ru/company/flant/blog/334770/">Kubernetes success stories in production.</a>  <a href="https://habrahabr.ru/company/flant/blog/334770/">Part 2: <b>Concur and SAP</b></a> . ‚Äù </li><li>  ‚Äú <a href="https://habrahabr.ru/company/flant/blog/335814/">Kubernetes success stories in production.</a>  <a href="https://habrahabr.ru/company/flant/blog/335814/">Part 3: <b>GitHub</b></a> . </li><li>  ‚Äú <a href="https://habrahabr.ru/company/flant/blog/339724/">Kubernetes success stories in production.</a>  <a href="https://habrahabr.ru/company/flant/blog/339724/">Part 4: <b>SoundCloud (by Prometheus)</b></a> . ‚Äù </li><li>  ‚Äú <a href="https://habrahabr.ru/company/flant/blog/342412/">Kubernetes success stories in production.</a>  <a href="https://habrahabr.ru/company/flant/blog/342412/">Part 5: <b>Monzo Digital Bank</b></a> . </li><li>  ‚Äú <a href="https://habrahabr.ru/company/flant/blog/345780/">Kubernetes success stories in production.</a>  <a href="https://habrahabr.ru/company/flant/blog/345780/">Part 6: <b>BlaBlaCar</b></a> . </li><li>  ‚Äú <a href="https://habrahabr.ru/company/flant/blog/349940/">Kubernetes success stories in production.</a>  <a href="https://habrahabr.ru/company/flant/blog/349940/">Part 8: <b>Huawei</b></a> . </li><li>  ‚Äú <a href="https://habr.com/company/flant/blog/349940/">Kubernetes success stories in production.</a>  <a href="https://habr.com/company/flant/blog/349940/">Part 9: <b>CERN and 210 K8s clusters.</b></a> ‚Äù </li><li>  ‚Äú <a href="https://habr.com/ru/company/flant/blog/441754/">Kubernetes success stories in production.</a>  <a href="https://habr.com/ru/company/flant/blog/441754/">Part 10: <b>Reddit</b></a> . </li></ul></div><p>Source: <a href="https://habr.com/ru/post/347098/">https://habr.com/ru/post/347098/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../347088/index.html">Information security models in the work of Windows VPS</a></li>
<li><a href="../347090/index.html">Scale blockchain while maintaining decentralization with Fairlayer</a></li>
<li><a href="../347092/index.html">Communication between computer and Android device through Processing</a></li>
<li><a href="../347094/index.html">Ship oranges barrels. Golang Releases</a></li>
<li><a href="../347096/index.html">Analyze it. Mista.ru</a></li>
<li><a href="../347100/index.html">#NotNULL Series - Twig</a></li>
<li><a href="../347104/index.html">Report c St. Petersburg Scala MeetUp 2017.3</a></li>
<li><a href="../347106/index.html">As I wrote a telegram bot and uploaded it to a remote server</a></li>
<li><a href="../347108/index.html">Peter Hinchens: The Psychology of Software Architecture</a></li>
<li><a href="../347110/index.html">Attention! S in Ethereum stands for Security. Part 3. Solidity in practice</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>