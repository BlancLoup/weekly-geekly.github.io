<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Experience using IP ATC Askozia in our office</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="First meeting 
 A couple of years ago, I was captured by the idea of ‚Äã‚Äãintegrating 1C and telephony, I reread many forums and websites and came to the...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Experience using IP ATC Askozia in our office</h1><div class="post__text post__text-html js-mediator-article"><h5>  First meeting </h5><br><img src="https://habrastorage.org/storage2/a55/964/ef6/a55964ef68baa63e6e81dcdea873bf48.png" align="left">  A couple of years ago, I was captured by the idea of ‚Äã‚Äãintegrating 1C and telephony, I reread many forums and websites and came to the conclusion that the most "simple" way would be to study IP PBX Asterisk.  AsteriskNOW was installed on the test server, and the study began with parallel implementation in my company.  Since then, I have gained quite serious competences in this area, I have tried many distributions, learned how to compile and even edit Asterisk source codes for my purposes.  In parallel, we have released a number of solutions for the integration of 1C and telephony Asterisk.  Unfortunately, we faced huge problems with the implementation of each new client, and Asterisk was set up in its own way.  At this moment we met with the decision of Askozia from our German colleagues. <br>  Askozia is a Linux + Asterisk operating system + user-friendly web interface.  From the distribution was cut all the excess, and to run it enough to burn the image on a USB flash drive and boot from it. <br><a name="habracut"></a><br><br><h5>  Installation and Setup </h5><br>  Askozia comes in the form of a LiveCD image and a firmware image for installation directly on a memory card or USB flash drive. <br>  You can install both on a regular computer and on embedded solutions.  For example, based on the ALIX board. <br><img src="https://habrastorage.org/storage2/908/8f0/424/9088f04241515f2e05c7879b1373ea45.jpg"><br>  According to the developers, Askozia on such a platform, using the ALAW codec, can serve up to 40 parallel conversations. <br><br>  If there is a DHCP server on the network, then when booting, Askozia gets an IP address, if there is no DHCP server, then the default address is 192.168.1.2.  This is convenient if you need to gain access to the embedded system and assign the address manually, because  when using embedded systems, we can access the console only through the com port. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So, immediately after the download, which lasts 6 seconds, we see the console menu, where you can perform basic operations: <br><img src="https://habrastorage.org/storage2/e54/0c8/2ed/e540c82edf02b969243ff72c801e4daf.png"><br>  If we are loading from the LiveCD image, then 8 installation point on the HDD or memory card will be available. <br><br>  We remember the IP address and go to it through the WEB browser, simultaneously entering a username and password (by default <b>admin / askozia</b> ) <br><br>  We fall into the status window with a summary of the state of the system: <br><img src="https://habrastorage.org/storage2/0b6/f61/002/0b6f61002d787eebe8e2b375aa022bd8.png">  " <br><br>  The first thing we do is configure network settings: <br><img src="https://habrastorage.org/storage2/e73/5fc/7b5/e735fc7b5f4e728802a57eed7db5111e.png"><br><br>  Unfortunately, Askozia supports only one network interface at a time, and if there are several, you need to choose the one through which it will work. <br><br>  Change passwords, and if not Russian is used, choose it: <br><img src="https://habrastorage.org/storage2/b37/dc6/95a/b37dc695ab84b316342fc4a49168ed6b.png"><br><br>  Next, set up the first telephone SIP accounts: <br><img src="https://habrastorage.org/storage2/4c9/270/243/4c927024318c201c7ee5820d75eb9b30.png"><br><br>  First you need to register an internal phone number and password.  If necessary, advanced settings are available, such as managing the recording of conversations, allowing / barring calls by directions, choosing codecs, specifying SIP peer specific parameters and much more.  Also interesting is the auto-tuning feature.  Askozia can automatically scan the network for non-configured IP phones and offer them for this extension number.  Once selected, the telephone will be automatically configured. <br><br>  We can get so-called external numbers so that they can be controlled from other Askozia modules.  We brought all mobile numbers of employees there. <br><br>  Our working Askozia looks like this: <br><img src="https://habrastorage.org/storage2/d3c/49b/538/d3c49b5388222505c2b7c35b38db4dc4.png"><br><br>  After setting up the phones, all the basic telephony functions within the company are already working. <br><br>  But for calls to external numbers, we need a provider and a number.  We bought the number from the company mangoofis, as a result we received a multichannel SIP trunk, which we register in Askozia as the main provider. <br><br>  Register the settings received from the vendor numbers: <br><img src="https://habrastorage.org/storage2/6e0/96e/f85/6e096ef852c9bc37318483887489b889.png"><br><br>  Configure inbound and outbound routing: <br><img src="https://habrastorage.org/storage2/cc7/0c9/079/cc70c90799633e958592343c73bdfc81.png"><br><br>  Just in case, we set up a backup provider for outgoing calls.  We use SIP trunk from Megaphone for this purpose, which is very easy to get by connecting the Multiphone service to any SIM card.  Well, to save all calls to the megaphone, we send through it, simply by writing in more detail the phone templates. <br><br><img src="https://habrastorage.org/storage2/0d0/d8c/cbe/0d0d8ccbebabce2ad6f8f5adf4c06c13.png"><br><br>  As a result, all calls to Russia, except for a mobile megaphone, go first through the trunk from the mango office, and in the event of a failure - via the Multiphone.  Conversely, all calls to the megaphone go through the Multiphone, and if there are problems, then a mango trunk is used.  As a result, both savings and fault tolerance :) <br><br><h5>  Call Route Editor </h5><br>  When receiving an incoming call from the client, we can wrap it on a group of phones.  Askozia supports both sequential call groups and parallel call groups. <br>  For example, a simple sales force option might look like this: <br><img src="https://habrastorage.org/storage2/495/5cf/1e8/4955cf1e8248352ee186ef652a6dde63.png"><br>  In the case of an incoming call, all numbers from the group are called in parallel.  The group has its own internal number, and the numbers are added by dragging the internal numbers of the employees from the list. <br><br>  You probably heard the following phrase when calling the company: ‚ÄúDial 1 to call the sales department, 2 to technical support‚Äù. <br>  In order to create such a scenario, we can create sales force groups and technical support groups, and then use the call route designer: <br><img src="https://habrastorage.org/storage2/550/a2b/119/550a2b119ad34fc7dff21c29b074ab5d.png"><br><br>  Each route has its own internal number, and we set this number by default in the provider settings to organize an incoming call.  If necessary, contact the recording studio for a professional voice announcer.  We used the services of ivr-voice.com, it was inexpensive and very cool :) <br><br>  It is convenient to use consecutive dialing of internal numbers to combine the employee‚Äôs SIP phone and employee‚Äôs mobile phone.  When calling a group number, the SIP phone first 15 seconds, and then within 30 seconds the call goes to a mobile phone, if there is no answer, the call goes to voicemail and the employee receives a notification with a sound file on an e-mail. <br><img src="https://habrastorage.org/storage2/6d7/56e/52d/6d756e52d399ef4eb17d9cb2b256ab73.png"><br><br>  Groups can also be used for departments, but this is not very convenient.  If all employees are busy talking, the client will receive a busy signal, and we will lose it.  In this case, it is convenient to use the queue mechanism.  The call enters the queue and turns inside the queue (your call is very important to us ...) until the agent is released.  This allows you to serve a greater number of customers and receive some statistics. <br><br>  Here is an example of a call route with a queue: <br><img src="https://habrastorage.org/storage2/06d/1dc/768/06d1dc7684bfd812f4f81839997b4208.png"><br>  On the queues, we built the work of the sales department and technical support. <br>  Queues have the ability to generate an online report in the form of a web page with statistics of the queue, which can be displayed on the screen or some kind of plasma, and hang it on the wall in the department :) <br>  Statistics looks like this: <br><img src="https://habrastorage.org/storage2/b6d/761/e92/b6d761e9213123898bd273c93cdf111f.png"><br><br><h5>  Experience of use </h5><br>  We have Askozia installed on a virtual machine running Vmware ESXi, 2 disks are allocated for work: the first one, 200 megabytes in size, for Askozia itself, the second - 50 Gb for recording conversations.  Selected one core processor and 256mb RAM.  Askozia serves about 15-20 staff and closes most of our tasks.  The developers are positioning it as a solution for up to 50 workplaces; this is most likely due to the organization of the web interface, and not to technical limitations.  You can read more about Askozia on the site <a href="http://www.askozia.ru/">www.askozia.ru</a> .  Ask questions, and we will be happy to share our experiences. </div><p>Source: <a href="https://habr.com/ru/post/154533/">https://habr.com/ru/post/154533/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../154523/index.html">Office 2013, Lync 2013, Exchange 2013 went gold</a></li>
<li><a href="../154525/index.html">Repair mouse clicks Logitech MX Revolution</a></li>
<li><a href="../154527/index.html">"Technical interview with a human face" Victoria Pridatko</a></li>
<li><a href="../154529/index.html">Silverlight. Practical guide</a></li>
<li><a href="../154531/index.html">AppSurfer: YouTube for Android Applications</a></li>
<li><a href="../154535/index.html">ejabberd: we migrate from mnesia to mysql</a></li>
<li><a href="../154537/index.html">Optimizing JavaScript performance for V8</a></li>
<li><a href="../154539/index.html">More mobile. Rambler-Mail for smartphones</a></li>
<li><a href="../154541/index.html">Google released a new colorful and educational project - Cultural Institute</a></li>
<li><a href="../154543/index.html">Samsung introduced in Germany GALAXY S III Mini</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>