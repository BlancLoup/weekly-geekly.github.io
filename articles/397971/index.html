<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Donkey Kong and I</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the fall of 1981, I entered the university and became addicted to the games Centipede and Tempest on the Atari arcade machines. I was a little vers...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Donkey Kong and I</h1><div class="post__text post__text-html js-mediator-article">  In the fall of 1981, I entered the university and became addicted to the games Centipede and Tempest on the Atari arcade machines.  I was a little versed in the hardware of the Atari 400/800 personal computers and decided to make a ruinous purchase for the student budget - the Atari 400 and a black and white TV (I could not afford the color one).  Having played enough with Basic, I bought a cartridge with Assembler / Editor and began to pore over Centipede clone.  I did not have the opportunity to rely on the experience of previous game projects and I was forced to understand everything on my own.  Just like with school tasks: you need to find a solution using only small hints from textbooks and lectures. <br><img src="https://habrastorage.org/files/f3d/09a/7f3/f3d09a7f303c4db8922f7af70fc5f58a.jpg"><br>  Everyone who has worked with Asm / Editor, most likely, bears the same deep emotional scars on himself as I do!  The editor was incredibly slow, the debugger worked for incense, and I had to delete comments and use overlays in a couple of kilobytes ( <i>there were not many RAMs and all variables could not fit, so the overlay technique was used - different groups of variables were located at the same addresses. It is clear At the same time, variables from different sections could not be used, and not only variables with one address, but generally variables from different overlay sections.</i> ) in order to fit the whole code.  Making the game, which I called Myriapede, took three months.  I still keep sketches and sketches: graph paper, striated with multicolored pens and with hexadecimal values ‚Äã‚Äãof colors, carefully written out on the field.  I picked up the colors randomly: I only had a cheap black and white screen, and I went to visit a friend for a couple of hours to check and adjust the color values ‚Äã‚Äãon his TV. <br><a name="habracut"></a><br>  Atari Program Exchange (pocket publishing) announced a competition with the main prize of $ 25,000.  For the entire semester, I was skipping university classes and was engaged only in Myriapede.  I finished the game with a margin of a week or two and sent it to the competition. <br><br>  A few weeks later, a letter came from Atari, in which they reported: firstly, they were very impressed with my work, but, secondly, it was very similar to Centipede (well, yes, it was) and therefore they are forced to reject it.  The subtext went that they would probably sue me if I tried to sell the game.  I was crushed.  Closing this topic for himself, he took a couple of copies to a local hobby group.  I think that the game was distributed from there, and I heard that people liked it (‚Äúthe best program of 1982‚Äù or something like that). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/744/f49/33d/744f4933d3e64d10ab2abf1e108d2e3e.png"></div><br>  Some time later, I received a call from Atari: they invited me for an interview.  I shook with excitement.  I flew to them, and each interviewer was shown Myriapede.  And always on this place conversation faded.  Before the start of the game, they seemed to be just giving me attention - ‚ÄúOk, man, you wrote the game‚Äù - but after the start they got involved in the process and I reminded them that we were actually at an interview!  One of the interviewees was the author of the original Centipede and he immediately said on the spot that my version is better. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The job offer was received in a couple of weeks.  Atari pledged to transport all my junk that occupied the entire room to California.  And I flew right away and spent two weeks at the hotel while I waited for the arrival of my things.  The company really wanted to get me very much! <br><br>  At that time, there were two popular games on arcade machines that I simply could not stand - Zaxxon, a dull and boring scrolling shooter, and Donkey Kong - loud, meaningless and annoying.  And, of course, the reason why they needed me in California was porting Donkey Kong.  After going through fits of hopelessness (and feigned enthusiasm in front of the bosses), I gritted my teeth to squeak, took a tube of quarters and spent a lot of time in front of a small arcade machine at the hotel, playing in DK to learn this game very, very well. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/ed6/0ab/a6f/ed60aba6fb604acd9895cbe8ced2a349.png"></div><br>  Here it is necessary to explain how the department for porting games from arcade machines worked in Atari.  In essence, the guys from the marketing department agreed on a license to distribute "Imenk" from IgroDela on cartridges for Atari computers.  Everything.  That was the whole deal. We had no help from the original developers.  No listings, no conversations with engineers, no project documentation - nothing.  In fact, we were forced to buy our own arcade machine and learn how to play this game (by the way, that's why I played in the hotel - our copy of the game has not even been brought yet!). <br><br>  So I played Donkey Kong as much as I could and started to beat the ideas.  I wrote a 25-30 page design document in which the game was divided into modules and the development time was estimated at 5 months (this was in November 1982), and, worrying, brought it to my boss, Ken, Was the document good enough?  Or will they send me to pack my things as a non-professional designer and amateur programmer? <br><br>  "We are completely delighted with your TK," said Ken.  And I just listed the objects in the game, wrote some pseudo-code for some key game modules and assumed that this was only a reserve for a real TK!  But all around perceived this document as completely finished.  And it seems like I just need to write the code, according to him.  It was scary. <br><br>  "The marketing department is waiting for the game for Christmas," Ken issued.  And I, making careful calculations, approached the mark of 150 working days.  There was not a single chance to port the game in a couple of weeks, but I clearly felt the pressure.  From idleness (of all the worries, I only had to look for an apartment and place my things upon arrival), I spent almost all my time at work.  I spent the first time all night without sleep, raising the bar higher and higher, in order to walk at a pace with the guy in the office across from me, who also worked all night long.  The dining room provided three meals a day. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/9b4/ce9/9a3/9b4ce99a37a146348d3daa4d26165076.png"></div><br>  The great thing is that if you get into the project so much, then from a certain moment it starts to write on its own, and you just seem to be floating next to it.  Your life is divided into work and all the boring nonsense - sleep and eating.  Yes, I know, it sounds like hell, but in fact it's amazing fun.  I was about 21, and even if they didn‚Äôt pay me, I would still do something similar for free. <br><br>  For cross-development, we used MV / 8000 minicomputers from Data General.  About the exact same machine Tracy Kidder wrote the book Soul of a New Machine.  Despite the fact that it was not VAX with Unix on board (which would be preferable for me), the environment was still quite comfortable and contained some good utilities (although there was no Emacs!).  We used the Atari Macro Assembler version ported to the MV / 8000, and it was much better than the unspeakably slow Assembler / Editor in which I wrote Myriapede.  But we had to upload all the code to the development systems with a speed of 9600baud, therefore, closer to the completion of the project, the processing time of my requests to the system became a serious problem, especially considering 40 or 50 of my colleagues with whom I shared MV / 8000 during the day .  I remembered the loaded mainframe in my university.  I often stayed up late, and somewhere around six o'clock in the evening, the cars started to work quite quickly (5 minutes to wait instead of about an hour). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/bd2/45a/9a9/bd245a9a94f345839834cd9759ab1d9a.png"></div><br>  On my first day after arriving at the office, after introducing a course of affairs, I found a packed Atari 800. I quickly assembled it, checked it out and earned it, and went for coffee. <br><br>  When I came back, the supply girl was standing in the doorway.  ‚ÄúWow,‚Äù she gasped, ‚Äúyou know how to assemble a computer!  And I just had to do it. " <br><br>  Yeah, thanks, but shouldn't everybody have this skill here?  Connecting and configuring Atari is not the easiest and most obvious task, but it's not at all difficult. <br><br>  The alarm bell ... The first officemate did not know how to set up his computer.  In fact, he did not know anything, as it turned out later.  He was hired to work on Dig Dug and he was at a loss.  I had to teach him everything, including programming in assembler, how the Atari hardware works, how to download various information, how to debug it.  It was sad. <br><br>  This situation was a red thread through my work at Atari.  It was not necessary for beginners to know how to do their work, and I spent time trying to help me figure out the things that they should have already known before starting work.  The tactics of hiring employees were imperfect. <br><br>  I have written in C for several years, and therefore I developed something like a C dialect for describing the work of modules.  At first I scribbled a few pages not of this high-level pseudo-C, then spent half a day ‚Äúcompiling‚Äù it into 6502 assembler. Sometimes it turned out that a rather large portion of the code worked the first time!  But in general, it was a rather frightening experience. <br><br>  Another experience has been to understand that commentary is for some reason important.  I saw pieces of Atari operating system code (including OS sources for 400/800) and they were quite clear and beautiful.  But most of the game sources coming from the consumer software department were terrible, heaps of garbage: almost no comments, no understanding of what was going on.  Just listings consisting of LDA / STA / ADD, a set of letters, and possibly a random label that had a meaningful name.  In other words, completely unsupported code!  In most situations, this is quite the norm for the gaming industry: almost no code has ever been reused or transferred to libraries (except for well-established procedures from the Atari Coin-Op division, performing mathematical operations and working with coin mechanisms in arcade machines). <br><br>  I think that DK is best commented among all consumer products released by Atari (Super Pacman is even cooler, but it was not on sale).  Users do not see comments, unlike other engineers who are useful to learn what you wrote.  For example, Mario jumps are calculated according to simple physical laws of motion, and the equations are written in the source code, well formatted, and you can always see where these magic expressions come from in the code.  After the release of DK, my colleague got a copy of the code, spent a week in reading and said that he was just shocked ("I don‚Äôt know how you could print all this. Not exactly in five months! When I saw the code associated with the movement, my jaw dropped on the floor.").  It drove me into the paint!  The source code should simultaneously serve entertainment and education. <br><br>  Donkey Kong went on sale in mid-March 1983. I vaguely recall a small party at work on this issue, but at that moment I was most happy that it all ended. <br><br>  Technical details.  Kong uses the $ E graphics mode (192 lines image for 160 columns).  When the level was loaded, the background was drawn once.  The barrels and the rest of the creatures were displayed on the screen via xor (I had the code responsible for building the masks and redrawing, but it turned out to be too slow).  Mario consisted of several game objects (I think there were three of them).  Prize things (umbrellas, ...) also belonged to game objects.  The output of graphics with the help of xor annoyed me, but most did not steam, and some thought it was cool to do that!  ( <i>when drawing, the color of the background pixel xor was with the pixel color of the object, when it was necessary to remove the object from this position, just xor'or back, and the background color was restored</i> ). <br><br>  Brad Fuller has created all the sounds.  Mona Lundstrom was working on a significant piece of graphic design (but I redrawn most of it).  Another engineer was responsible for the ‚Äúcut-scenes‚Äù, whose code I had to completely rewrite (he initially wanted to use the Fort and did not understand that the game could not allow half of the space on the cartridge to be given to the fort interpreter just to make his life easier). <br><br>  At the peak, DK occupied 20 kilobytes, but it was necessary to put it on a diet, because the cartridge contained 16Kb.  Many images have been compressed (note, for example, that Kong is symmetrical).  In the end, I gnawed just a few bytes a day, and the game came out with a margin of maybe ten free bytes. <br><br>  I left pascalha, but it is not worth the effort to find it.  Besides, I don‚Äôt remember how to get to it exactly (something like dying at the ‚Äúheap of sand‚Äù level with three lives and more than 7000 points earned). <br><br>  Adjusting the complexity, I slowed down the game and just made sure that it was passable.  Some trajectories of objects are random, but limited to such limits that you can still pass them if you are fast enough. <br><br>  At the first meeting in the department, I walked with confidence in the future Atari.  Although I did not understand much, the main idea of ‚Äã‚Äãmanagement was that sales slowed down, profits fell sharply, and the company had to go through restructuring in order to remain profitable. <br><br>  The building opposite was the first sign: Atari used it to manufacture 2600 gaming consoles. They moved production abroad and fired most people from a local factory. <br><br>  Small cuts in the marketing department.  A small porting group of 8 programmers with me, among them, were transferred to a small building, which was rather far from all the main Atari buildings, and we were actually isolated from what was happening.  But even from this distance, we have seen that things are not going very well.  The gaming industry has been shaken badly, and Atari has dumped millions of unsold cartridges into landfills.  All those mistakes, which for the time being were covered with furious success, suddenly flared up and hit the company hard. <br><br>  My colleague has finally finished Robotron.  Upon request, she made three versions of the ROM image, differing in ROM addressing.  Unfortunately, the Q / A department was able to check only 2 of them.  Guess what version of Atari sent to production and which version had a critical bug?  I saw how hardware engineers suffered when they realized that a cheap logical gate could fix the game.  In this case, only a few bytes were incorrect.  In the end, Atari threw out $ 200,000 cartridges into the trash. <br><br>  I had a feeling that similar errors occurred constantly.  In addition, all this was complemented by the fact that the games simply were not sold.  Focusing on the time-to-market metric, marketing Atari forced engineers to write unpolished, boring games.  And this practice has turned against them!  People are tired of playing the same games for old reasons. <br><br>  Mass layoffs and reorganizations were held every few months.  Our group was transferred to the corner of the building for the Coin-Op division: consolidation for the sake of cost savings.  I was working on Super Pacman at the time, but nobody cared, so I went into the process and did a good job on the game. <br><br>  Ultimately, Jack Tramiel bought the parts of Atari that he needed, and I found myself involved in work on the Atari ST, but that‚Äôs another story. </div><p>Source: <a href="https://habr.com/ru/post/397971/">https://habr.com/ru/post/397971/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../397961/index.html">The Ministry of Culture proposes to fine users for illegal content download. Ministry of Communications opposes</a></li>
<li><a href="../397963/index.html">New IBM servers are designed to work with artificial intelligence and deep learning technologies.</a></li>
<li><a href="../397965/index.html">How the Universe will die</a></li>
<li><a href="../397967/index.html">HyperX on "Igromir": tons of prizes and quest in Telegram</a></li>
<li><a href="../397969/index.html">Programmable chips help Microsoft optimize the performance of its cloud services.</a></li>
<li><a href="../397975/index.html">Ultra-budget spot welding of lithium batteries at home</a></li>
<li><a href="../397977/index.html">We connect the "domestic" LCD 16x2 MT-16S2S by SPI</a></li>
<li><a href="../397979/index.html">This is not a race, this is an ultramarathon: the spread of cryptotechnologies</a></li>
<li><a href="../397981/index.html">Apple Pay launch in Russia</a></li>
<li><a href="../397983/index.html">Man of the future</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>