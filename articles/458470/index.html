<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Texturing, or what you need to know to become an artist on surfaces. Part 2. Masks and Textures</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Masks and textures 
 We continue a series of lessons on how to become an artist on surfaces. The first part is here . 

 Masks 
 In the last part, we ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Texturing, or what you need to know to become an artist on surfaces. Part 2. Masks and Textures</h1><div class="post__text post__text-html js-mediator-article"><h2>  Masks and textures </h2><br>  We continue a series of lessons on how to become an artist on surfaces.  The first part is <a href="https://habr.com/ru/post/458342/">here</a> . <br><br><h3>  Masks </h3><br>  In the last part, we looked at the principles of the channels and our first mask that I created - the transparency mask. <br><br>  The transparency mask in the cat example was created using a separate channel called Alpha Channel.  This channel also had a dimension of 8 bits per pixel. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Each mask pixel can have a value from 0 to 255 (or up to 1), where 0 is a fully transparent pixel, and 255 (or 1) is a completely NOT transparent pixel. <br><br>  Now, if you look at the Alpha channel as a normal channel, it will become clear that it is no different from any other RGB channel.  In fact, these are all the same pixels that have the same intensity from 0 to 255 (up to 1).  This is all the same gradient gray.  And if we took any other channel, copied it and inserted it into the Alpha channel, we would get an interesting effect: <br><a name="habracut"></a><br><img src="https://habrastorage.org/getpro/habr/post_images/4c2/c9c/aaa/4c2c9caaadcc38b7a032d5307357a211.jpg" alt="image"><br><br>  The mask is superimposed on the entire image, but where the pixel intensity is the brightest (close to 1 or 255), the mask color is the smallest, and where the intensity is the lowest (closer to 0), then the mask is displayed on the contrary: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/588/49f/39e/58849f39ee9373932bf1ecf5632e4b04.jpg" alt="image"><br><br>  And now, if such an image is exported and opened in any program for viewing images, you get the following image: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8db/8cb/738/8db8cb7388baaa7b0731393ce5a92ae6.jpg" alt="image"><br><br>  Most of the pixels have a semi-transparency according to the intensity specified in the alpha channel.  But if the transparency mask is the same as other channels, then the question should be whether it is necessary to use it in the Alpha channel? <br><br>  Actually, not necessarily.  An alpha channel is needed so that the image can store color data while still having transparency data.  That is, it turns out that in the image 1 pixel has 3 mandatory channels, and the 4th channel is optional and not mandatory. <br><br>  Total, in our image not 32 bits of color, but only 24 bits of color (8 bits * 3 channels) + 8 bits of transparency.  Moreover, we can not include the transparency channel in the image, and then the file size will be 1/4 smaller. <br><br><h3>  What is a mask? </h3><br>  The mask in texturing (yes, probably, and not only) This image, which consists of the 1st channel and is necessary for regulating other channels and visualizing the parameters of textures (This is already PBR, and we will definitely encounter it later). <br><br>  That is, the mask is used to solve 2 tasks: <br><br><ul><li>  Determining the degree of transparency. </li><li>  Determining the intensity of something in a pixel (more on that later, but necessary). </li></ul><br>  In fact, it is not necessary to divide the work of masks into two tasks - both there and there the intensity is used, just in the first case for transparency, and in the second case for the purpose of regulating the appearance of the texture. <br><br>  Now we will consider visually the principle of the masks in the Substance Painter and try to pull the cap on my cat. <br><br>  To do this, we will create a new project, indicate and add our photos of the cap and the cat to the program.  (Note: Substance Painter will not allow you to create a project without a 3D model, so I created a square plane in Autodesk Maya. Model creation is beyond our scope, so you need to find this information yourself. Also, we will not consider the Substance Painter interface in detail. in order not to delay the tutorials to the maximum, however, you are working with Substance Painter for the first time, then if you don‚Äôt press anything extra, all windows should be displayed correctly, and finding the necessary parameters will not be difficult). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1da/622/8c8/1da6228c848542aca807413874b11fdc.jpg" alt="image"><br><br>  Next we need to create 2 fill layers: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/244/830/2d2/2448302d27ce6b5a05ab21deee3eaf83.jpg" alt="image"><br><br>  The fill layer in Substance Painter is a huge set of parameters for how the texture should look.  Here you can customize the visual representation of metal, plastic and any other textures.  However, we will talk about this later, but now we should have a clear idea that the fill layer is an image (Color) consisting of 3 channels and a bunch of additional channels of 8 bits, which are responsible for how this fill layer should look like. <br><br>  That is, the fill layer has a more complex combination than a regular image.  In this case, the fill layer consists of: <br><br><ul><li>  3 main channels that stand out to build color.  These three channels are combined into one ‚ÄúBaseColor‚Äù parameter. </li><li>  3 additional channels, each of which is responsible for some visual effects (for example, the Metal channel is responsible for how much a pixel will be considered a metal from the point of view of PBR texturing). </li><li>  3 channels for working with the normal map (Normal map). </li></ul><br>  We are not interested in additional channels right now, since we have not yet become acquainted with PBR texturing, and we will definitely return to them later, and now our task is to learn using masks to control which layers in the pixels we need will dominate (in the case of transparent mask) which layers will be completely hidden, and which layers will be displayed in their own way. <br><br>  We will now analyze this on a cat and a hat, and then proceed to simpler monotonous colors and more deeply analyze the difficult-combined use of masks to control layers. <br><br>  Our task now is to disable all those channels in this layer that we are not interested in at the moment.  Turn off the channels Height, Rough, Metal, Nrm (Normal) and leave only the color (color): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1fd/edd/435/1fdedd435198fea809675de2d7b2e7fb.jpg" alt="image"><br><br>  Now we need to distribute our pictures into layers and set up their correct display.  To do this, select the layer, find the image, import it into the Project folder (in the Shelf panel) and drag the image into the Base Color parameter. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/190/d6f/2e0/190d6f2e0e4de7657d8818d4d12ae0bd.jpg" alt="image"><br><br>  Repeat this action with a second layer and a hat. <br><br>  <b>Important.</b>  The layer with the hat should be higher in the hierarchy than the cat, since we want the hat to be ON the cat, and not UNDER it.  Remember that you can control the visibility of layers using the eye button to the left of the layer. <br><br>  Since the project is designed for textures, and textures are supposed to be made square (preferably, the size is always a multiple of 2. m. That is, the size of 64 * 64 pixels is 2 * 2 * 2 * 2 * 2), the image of the cat will be slightly stretched in breadth since the photo of it is rectangular vertically, and the Substance Painter has stretched it to square shape. <br>  In this regard, we need to zoom the image and stretch the photo on a layer vertically.  To do this, we remove the lock for the preservation of ratios and stretch the image by setting the vertical scale to 0.7. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fe2/b4e/ef7/fe2b4eef70ad16ab614c02031157d2fe.jpg" alt="image"><br><br>  Now you need to adjust the size of the hat in the same way, but now you do not need to turn off saving relationships.  Since my hat turned out to be very large, when zooming in, an effect like <b>tiling</b> starts to work - the texture begins to repeat horizontally and vertically, so the system does not allow to leave empty places if the image is smaller than the size of the final image (in our case, less than 1024x1024 pixels). <br><br>  <b>A small digression: Why do I need tiling?</b> <br><br>  Tiling is needed when we need to fill in some duplicate elements of textures.  For example, a mesh or some kind of fabric pattern.  The image below has a specially structured picture structure in such a way that if we attach a copy of this picture from above, below or from either side, it will still look as solid and wider (specifically in the lower example, the picture already consists of 16 repeating pictures ): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a18/92f/5cf/a1892f5cf45a09f1de359e7f18dd7b47.jpg" alt="image"><br><br>  These repetitions are called <b>patterns</b> (or more simply, seamless textures) and they are designed to allow these patterns to be repeated over and over again at least a million times.  We will use this repetition in the future to improve the quality of the image, but we will mainly use this when creating shaders, so we will not return to tiling and patterns soon. <br><br>  <b>And so, we continue</b> <br><br>  We made scale hats to fit our size.  Now we need to place the hat plus or minus over the cat's head - for this we begin to turn the parameters Offset (offset), shifting the hat we need to the cat. <br><br>  We got about the following picture: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e0d/36c/c39/e0d36cc39d099c446fdbbc0088ef4ad1.jpg" alt="image"><br><br>  Well, now it is time to use masks in order to edit the visibility of the layer with hats.  Masks in Substance Painter can be created in 2 ways: <br><br><ul><li>  Create a mask on the layer itself, limiting its visibility. </li><li>  Create a folder in which to place the layer.  And put a mask on the folder. </li></ul><br>  The second option allows you to create more combinations of masks, but now we are interested in the principle of the mask itself, and not the complexity of the combinations, so we will create a mask on the layer and immediately make it black.  To do this, we click on the PKM layer and select ‚ÄúAdd Black Mask‚Äù. <br><br>  And what happens to a pixel when the channel of the pixel transparency mask on it is 0 (completely black)?  That's right, the pixel becomes completely transparent and is not displayed at all: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/35f/e5e/3e3/35fe5e3e32e67c79d7f156ad43bd725d.jpg" alt="image"><br><br>  As you noticed, now the layer consists of two images: one image is hats, and the second image is a completely black mask.  The mask in Substance Painter (as elsewhere, in principle) is created from a single channel with a size of 8 bits.  And now, controlling the intensity, we can paint on the mask in shades of gray, ‚Äúrevealing‚Äù the top layer.  The higher the intensity of the pixel filling, the brighter will be the layer of pixels with hats up to the full display of pixels. <br><br>  Now our task is to make the hat we need visible, and for this we need to indicate on the mask which zone of the hat fill layer will be displayed.  To do this, select the layer with the mask, and select the mask itself (this is important, since you cannot edit the fill layer, you can only edit the mask).  When selecting a mask, we open the settings of the brush, which we will draw on the mask, and at the very bottom of the settings there is an intensity setting (Grayscale) from 0 to 1 (from 0 to 255, respectively). <br><br>  Now, drawing on the mask over the head of the cat, we will show a hat: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/26f/ca0/56b/26fca056b80db797dbb7793519d44c06.jpg" alt="image"><br><br>  Well, and remove too much with a brush with 0 intensity: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0d8/1b8/328/0d81b83289c29e2d3612fd9bfe6350ef.jpg" alt="image"><br><br>  The mask itself looks like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e5f/956/2ff/e5f9562ff1c5beb83f45d55777a0ced0.jpg" alt="image"><br><br>  Thus, the mask allowed us to determine which area in the layer with hats to display. <br>  Well, this applies to editing cats.  How does this apply to textures in games? <br><br><h3>  Difficult combinations of masks. </h3><br>  Now let's look at a clean floor tile.  More precisely, its texture: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/36e/084/c2b/36e084c2b7e1c8fcb8f43b8ccf491f8f.jpg" alt="image"><br><br>  Now imagine that we need to create a tile texture that would be broken with cracks and dirt.  And not just with dirt, but just like the one below on the texture: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6b5/e0f/bb1/6b5e0fbb1ee301063b04d0e3ae3dd809.jpg" alt="image"><br><br>  Accordingly, we already know how to create fill layers with textures and now our task is: <br><br><ul><li>  Create a new project with the same settings that were in the previous (we will consider them standard). </li><li>  Create 2 layers - one for tile, the other for dirt.  Since the dirt should be on top of the tile, we have a layer of dirt above. </li></ul><br>  But now we do not put a mask on the layer with dirt, but create an empty folder for the layers and place the layer with dirt in this folder (remember that the folder should still be higher in the hierarchy than the tile). <br><br>  And we create a mask already on the folder. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f97/c05/4d6/f97c054d6d239ee9d347160bbcfb0f71.jpg" alt="image"><br><br>  Now let's define the areas in which you can draw dirt (you do yours, and I mine).  And do not forget that to edit the mask, we need to select the mask on the folder, not the layers. <br><br>  So, I got about the following picture: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5d0/88a/077/5d088a07707344fe2019248ce9b02320.jpg" alt="image"><br><br>  Not a masterpiece, but the zones in which the dirt should be displayed, we have defined. <br><br>  Now create another folder in the folder with a layer of dirt and move the layer with dirt into this folder.  So, it turned out that the layer with dirt is in a folder that is in another folder: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d96/77a/1d2/d9677a1d289438ba86de7a97aa1f4f04.jpg" alt="image"><br><br>  We will also create a mask on the new folder, but this time it is not a solid fill, but choose something from the existing various masks.  For example, I found this on the Internet: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ee0/afb/ccd/ee0afbccd648395815fe22d7e6b4a326.jpg" alt="image"><br><br>  <b>Offtop.</b> <br>  To upload an image and then use it as a mask, you need to transfer it to the shelf (in the folder) from the browser and select the following parameters: <br><img src="https://habrastorage.org/getpro/habr/post_images/06b/191/bd3/06b191bd373ea285c33341f1ff64a37d.jpg" alt="image"><br><br>  Perhaps you can specify a different format, rather than ‚Äútexture,‚Äù and the image will still connect as a mask, but I do not know (tell me in the comments). <br><br>  <b>We continue.</b> <br>  Setting this texture as a mask is easy.  We click on the folder in the same way with PKM and select Add Bitmap Mask.  In the window that appears, we find the texture we need and select it as a mask.  The hierarchy with folders began to look like this: <br><img src="https://habrastorage.org/getpro/habr/post_images/803/fff/a16/803fffa163cd7f6406dd55e53905b94c.jpg" alt="image"><br><br>  Note that in the small thumbnail window at the top folder, instead of full-fledged dirt, a bunch of little squares with little visible glimpses of dirt began to appear.  This is the result of how the current layer of dirt will be processed, taking into account all the masks that we added. <br>  But in general, we got about the following picture: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bc7/eee/dd9/bc7eeedd9f2c32a60568c0358bbc2071.jpg" alt="image"><br><br>  In this example, we have a mixture of masks.  The first level of the mask defined areas where 100% should NOT appear dirt, and where it can appear.  The second level of the mask determined where 100% dirt will appear and where not.  Those pixels in which both masks had values ‚Äã‚Äãgreater than 0 began to display dirt depending on the lower intensity limit (if the first mask has a pixel intensity of 0.5 and the second has 0.2, then the pixel will be transparent at 0.2).  Simply put, each pixel takes into account all the masks that affect its display.  And if at least one mask is 0, then the pixel will not be displayed. <br><br>  <b>Total:</b> <br><br>  Layers are the fill for the entire project area, which has a bunch of channels to control the image state. <br><br>  A mask is 1 channel of an image pixel (texture) that is needed to process the visibility of something. <br><br>  The number of channels for the 1st pixel can be very large.  With the default settings, Substance Painter takes into account 9 channels already in the 1st layer - 3 per color, and 3 for different effects, 3 on normal maps.  The image itself in the picture in your browser contains only 3 channels + 1 additional if there is transparency. <br><br>  Moreover, the layers can be superimposed on each other, and the program is already doing calculations for 1 pixel much larger than for 9 channels.  That is, in the case of mixing 2 layers in the 1st pixel, the software needs to calculate 9 channels of one layer, then take into account the transparency that was specified in the mask channel and calculate the total pixel intensity taking into account the mask.  Then it is necessary to calculate the second layer, and its 9 channels.  Then apply a translucent layer on top.  Total 18 channels of layers and 1 channel of mixing.  Of course, when you upload it to images (textures), there will be no 19 channels - Substance Painter will create 3 images (textures): <br><br><ul><li>  Image (texture) with color (3 channels per pixel). </li><li>  Image (texture) with channels for PBR parameters. </li><li>  Image (texture) to determine the normals. </li></ul><br>  That is, the Substance Painter already does all the calculations so that you can simply get the final result in the image.  Well, as you understand, controlling the dirt transparency mask in these images is no longer possible - the images (textures) in this case turned out to be the final result, which we can place on the model and get a painted model. <br><br><h3>  Texture </h3><br>  I deliberately wrote in the results about the masks ‚ÄúImage (texture)‚Äù, so that you would begin to postpone the understanding that texture in fact is not an image in our usual understanding. <br><br>  A texture is a set of parameters in order for game engines or programs for working with textures to understand how to process a pixel. <br><br>  A texture can contain 1 channel.  For example, for transparency.  Or it can contain 3 channels at once for various purposes (for example, for metallic operation parameters, rustiness and shading). <br><br>  There are a lot of variations in the use of textures, but they all boil down to one thing - to work with 1 or several channels. <br><br>  For example, the texture Cavity (cracks) usually describes the edges (edges) of an object on the scan, highlighting the maximum white pixels along the entire length of the edges.  But in fact - it's just a texture, the channel of which is directed to display the intensity of the pixels at the right points.  Such a texture can be used, for example, for mud masks - that is, by it we can display dirt on the object. <br><br>  <b>Applying masks outside texturing software.</b> <br><br>  Masks are needed not only for programs like Substance Painter.  In game engines, texturing is very similar to the work of Substance Painter - you can simply stick in ready-made textures from Painter, or you can start customizing shaders (materials) at your own discretion, combining textures through masks in various ways.  And if the Painter gives the finished result, the mask based shader makes calculations on the fly (roughly speaking online). <br><br><h3>  Some PBR texturing </h3><br>  Based on how the texture works and why it is needed, you can very quickly explain what PBR is. <br><br>  PBR is a physics-based render texture.  That is, this is a set of parameters, by controlling which we can make the texture look cinematic. <br><br>  To do this, use the parameters that are responsible for how the light should be displayed on the pixel. <br><br>  Here is a list of these parameters: <br><br><ul><li>  Metallic.  Responsible for representing a pixel as metal.  How easily light is reflected from a pixel. </li><li>  Roughness  Responsible for the degree of pixel roughness.  How much light is scattered when touching a pixel. </li><li>  Ambient Occlusion (outdated).  Responsible for shading pixels.  That parameter, which becomes obsolete and, soon, it will not be used at all. </li><li>  Normal Map.  Responsible for how light can be distorted on a pixel, creating imaginary false depth or bending. </li><li>  Albedo (Color) - the color with which the pixel should be displayed. </li></ul><br>  There are a ton of different parameters that you can or should not take into account to get the desired result.  It all depends on what effect you are seeking. <br><br>  For example, if a program sticks a pixel into a metal channel with a single channel whose intensity is 1 (255), then this pixel will reflect everything around it as pure metal as possible. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d7a/ce3/e4c/d7ace3e4cb71794769110a2878523de6.jpg" alt="image"><br><br>  By adjusting the Roughness channel to the maximum (specifying all the pixels as 1 or 255), we see that now the pixel stopped reflecting everything around and began to scatter the light so strongly that it turned gray: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e77/ee0/7b9/e77ee07b927e9261052fd3522a805f91.jpg" alt="image"><br><br>  It is very important to understand that there are no separate textures that specialize in one thing.  All textures are channels whose pixels have intensity or values, indicating that you tell a parameter to react one way or another. <br><br>  We will analyze PBR in as much detail as possible in the next part of the lesson.  And also consider additional techniques for mixing masks to improve the picture. <br><br>  If I have written something incorrectly or not clearly, I beg you to inform me about it so that I can correct this lesson. <br><br>  Thank you all for your attention =) </div><p>Source: <a href="https://habr.com/ru/post/458470/">https://habr.com/ru/post/458470/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../458450/index.html">Characteristics of quantum computers</a></li>
<li><a href="../458452/index.html">How to make office kitchen through a grocery approach</a></li>
<li><a href="../458458/index.html">Depth cameras are a quiet revolution (when robots see) Part 2</a></li>
<li><a href="../45846/index.html">Project Management with Unfuddle</a></li>
<li><a href="../458460/index.html">News from the world of OpenStreetMap ‚Ññ 466 (06/18/2019-24.06.2019)</a></li>
<li><a href="../458472/index.html">Rating of territories by the method of thermal potentials using open data</a></li>
<li><a href="../458474/index.html">The best reports from HighLoad ++ 2018</a></li>
<li><a href="../458478/index.html">10 mistakes novice programmers</a></li>
<li><a href="../458486/index.html">Secrets of working with a cloth in the game Alan Wake</a></li>
<li><a href="../458488/index.html">Data Science Digest (July 2019)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>