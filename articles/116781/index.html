<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to design software to avoid problems: data processing web-form</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When answering this question it is always necessary to ask yourself the question of software evolution. Which part of the system is most likely to cha...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to design software to avoid problems: data processing web-form</h1><div class="post__text post__text-html js-mediator-article">  When answering this question it is always necessary to ask yourself the question of software evolution.  Which part of the system is most likely to change, and which is likely to remain constant? <br><br>  We will consider this issue with examples.  Consider several tasks that regularly occur in more or less large systems.  The reasons for the emergence of this type of tasks are taken out of the scope of this post, but here we stop at the implementation. <br><br><h4>  Processing web form data </h4><br>  Forms are similar: added one field, removed another, cut down possible values ‚Äã‚Äãto numbers, made a multiple choice instead of a single one, etc.  From the point of view of performance, a minor change.  How much does the internal logic change? <br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The first thing that comes to mind when looking at simple forms is to match an object to a form, for each field of the form to provide the corresponding field of the object.  When we receive a request, we write all the form fields into the appropriate fields of the object, validate, if there are errors, we give them to the user with fields binding and edit them, if everything is ok, we transfer them for further processing (how it will be processed - this already depends on the task ), if as a result of processing errors occurred - errors were drawn (possibly, together with the form). <br><br>  We will develop the idea. <br><br>  Let's look at the evolution of forms.  As a rule, there are tendencies to (any combinations are possible): <br><ul><li>  Adding new fields </li><li>  Remove optional fields </li><li>  Context change </li><li>  Change the obligation to fill out (both ways) </li><li>  Remove required fields (= change required + delete optional field) </li><li>  Changing possible field values, including changing the type of values </li></ul><br>  From here, the following problems may occur: <br><ul><li>  Added new field.  A set of fields for previously identical forms may become completely different over time. </li><li>  Removed any optional field.  Just remove the handlers for this parameter.  It would be good to clean the table in the database and the code for working with this field, but not critical. </li><li>  The field was required, it became optional.  Checks on null thoroughly spoil life. </li><li>  The field was optional, it became mandatory.  The problem is in the existing data: how to process if there is no value, but it is required for the operation? </li><li>  Changing possible field values, including changing the type of values.  I think the problems are obvious, all the dependencies on the type of field should be changed. </li></ul><br><br>  What conclusions suggest themselves? <br><ul><li>  Do in the database checks for NULL need only for <i>guaranteed</i> mandatory fields.  These are the fields, without which the record in the database loses its meaning.  As a rule, these fields are few, and often they represent an alternative key (or its subset).  If you do not believe it, try to consider the possibility of introducing anonymous users (that is, users without registration). </li><li>  If a set of fields varies depending on the context in forms similar in semantics, depending on the context (for example, the format of the questionnaire for different customers), it makes sense to introduce attribute logic, where one record in the database corresponds to one field value (and not the entire set of form fields). </li><li>  If there are a lot of optional fields, and they are intended only for storing any data, it also makes sense to use attribute logic - their set in practice is subject to change. </li><li>  If different logic is tied to an optional field in different parts of the system, it makes sense to consolidate it into one place.  First, let it be a class with two or three methods - then their number will easily grow to 15-20.  This will also help solve a potential problem in the event the field becomes mandatory. </li><li>  To eliminate typing problems for each field, we store its type, and <i>always</i> transmitting the value of this field together with a link to the meta information about the field and its type.  If you need to share with external systems, we introduce clear rules for serialization (for example, in a string, including in XML) and parsing error handling. </li><li>  Regular refactoring requires deleting the old code to work with fields that no longer exist.  No comments with code blocks - we will leave history for the version control system. </li></ul><br><br>  PS In the following topics we will consider the generation of reports, the analysis of the ‚Äúraw‚Äù data of network protocols and other problems as desired by the habrasoobshchestva. </div><p>Source: <a href="https://habr.com/ru/post/116781/">https://habr.com/ru/post/116781/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../116775/index.html">Mastering F #: building a colorful Mandelbrot set with navigation and integration with C #</a></li>
<li><a href="../116776/index.html">Google has become the most expensive brand of the planet.</a></li>
<li><a href="../116777/index.html">Happy webmasters!</a></li>
<li><a href="../116778/index.html">St. Petersburg Startup Weekend - business in exchange for technology</a></li>
<li><a href="../116779/index.html">Methods to attract customers for the hoster. Inside view</a></li>
<li><a href="../116783/index.html">Training creative thinking designer</a></li>
<li><a href="../116784/index.html">How to write a good April Fools article</a></li>
<li><a href="../116785/index.html">[Translation] Three reasons not to worry about the absence of IPv4 addresses, and three reasons to worry about it</a></li>
<li><a href="../116786/index.html">Untethered jailbreak for iOS 4.3.1 released</a></li>
<li><a href="../116788/index.html">Domain search and Network Manager</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>