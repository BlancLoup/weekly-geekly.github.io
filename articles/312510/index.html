<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ÄúThe world is a collection of facts, not things‚Äù: Wittgenstein and operation-oriented programming</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Our programs model the world. Anyone who accepts the PLO‚Äôs postulates to heart will quickly face the fact that the modeling process in this method is ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>‚ÄúThe world is a collection of facts, not things‚Äù: Wittgenstein and operation-oriented programming</h1><div class="post__text post__text-html js-mediator-article">  Our programs model the world.  Anyone who accepts the PLO‚Äôs postulates to heart will quickly face the fact that the modeling process in this method is fundamentally beyond determination.  We will discuss in more detail. <br><br>  Hereinafter I will consider a general book example with employees of the enterprise, we will write on something SI-like.  Inherit the Employee class from the Person class is a great idea, especially if you store data exclusively in memory: SQL has some problems with the inheritance of tables, but this is not the point - the OOP with its hierarchism, aggregations, compositions and inheritances offers the ideal way to organize data.  Problems with methods. <br><br>  Behind each method of business logic stands the fact of the world, which this method (more often not alone) models.  The facts of programming are operations: we will further call them so.  By making a method a member of a class, OOP requires us to bind an operation to an object, which is impossible, because an operation is an interaction of objects (two or more), except in the case of a unary operation, pure reflection.  The Payroll (PaySalary) method can be assigned to the classes Employee (Employee), Cash Desk (Cash), Bank Account (Account) - all of them are equivalent in the right of ownership to them.  The dilemma about the location of methods accompanies the entire development process: its awkward resolution can be critical and even fatal. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In books on programming, honest authors bashfully admit that ‚Äúobjects are not quite objects, as it were,‚Äù and OOP is only a way of organizing code, not a modeling mechanism.  But the whole point is that ‚Äúthe world is a collection of facts, not things‚Äù - hence the fundamental inability to build an adequate model, using the PLO in the form that textbooks require.  It is important to understand: in the code it is possible to model the world, but the atoms of the model should be facts, not objects. <br><a name="habracut"></a><br>  Once two years ago in the world of software development, I realized with horror that Aristotle still reigns supreme here: OOP is a direct product of his philosophy.  This odious thinker invented phlogiston for chemists, the driving force for physicists - but what can I say!  - Attached to each of the major disciplines.  The history of European progress is the story of overcoming Aristotle.  Science brought more evil than the whole Holy Inquisition.  It took our scientists two thousand years to erase the traces of his ‚ÄúPhysics‚Äù.  PLO - the last refuge of his dark shadow.  When meeting him here - at the core of the most advanced technologies - I want to take the antique <s>stylus</s> Stimulus (as they used to call the cattle drover in Rome) and drive the evil Greek back into his stone crypt, as everyone else has done. <br><br>  Ludwig Wittgenstein (his aphorism is in the title) is interesting because, being a Ph.D., I did not read two pages from Aristotle: this is his - Wittgenstein - words.  It is not surprising that neopositivism is the only "working" philosophical system, in fact, the only correct philosophy for today: in confirmation I can mention, for example, the neo-positivist Karl Popper, who developed the modern methodology of scientific knowledge. <br><br>  Functional programming has become the intuitive response of millions of developers to the PLO nebula ‚Äî its total negation.  I myself see no reason to completely abandon the hierarchical principles: they have a lot of convenience.  Well-known languages ‚Äã‚Äãdo not offer ready-made tools for building a hierarchy of operations, and now it‚Äôs hard for me to imagine what its syntax should look like and sound keywords.  It is also possible to transfer the focus from the object to the operation in cash: any known OOP language will cope with this. <br><br>  To begin with, let's divide business logic into two spaces: data and operations.  The data space is nothing special - these are data classes built into the usual hierarchy ‚Äî living only in main memory (POJO) or with the ability to save state (.NET entities, models YII).  Classes of data can have their own methods, as required by the framework: it is important only that these methods are not related to business logic. <br><br><pre><code class="hljs vbscript"><span class="hljs-keyword"><span class="hljs-keyword">Public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Class</span></span> Account { <span class="hljs-keyword"><span class="hljs-keyword">Public</span></span> <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> accountBankName; <span class="hljs-keyword"><span class="hljs-keyword">Public</span></span> <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> accountMfo; <span class="hljs-keyword"><span class="hljs-keyword">Public</span></span> <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> accountNumber; } <span class="hljs-keyword"><span class="hljs-keyword">Public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Class</span></span> Company { <span class="hljs-keyword"><span class="hljs-keyword">Public</span></span> <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> companyTitle; <span class="hljs-keyword"><span class="hljs-keyword">Public</span></span> <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> companyPhone; <span class="hljs-keyword"><span class="hljs-keyword">Public</span></span> Account companyAccount; } <span class="hljs-keyword"><span class="hljs-keyword">Public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Class</span></span> Department { <span class="hljs-keyword"><span class="hljs-keyword">Public</span></span> <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> departmentTitle; <span class="hljs-keyword"><span class="hljs-keyword">Public</span></span> Company departmentCompany; } <span class="hljs-keyword"><span class="hljs-keyword">Public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Class</span></span> Person { <span class="hljs-keyword"><span class="hljs-keyword">Public</span></span> <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> personName; <span class="hljs-keyword"><span class="hljs-keyword">Public</span></span> <span class="hljs-built_in"><span class="hljs-built_in">date</span></span> personBirthDate; } <span class="hljs-keyword"><span class="hljs-keyword">Public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Class</span></span> Employee inherits Person { <span class="hljs-keyword"><span class="hljs-keyword">Public</span></span> Department employeeDepartment; <span class="hljs-keyword"><span class="hljs-keyword">Public</span></span> double employeeSalary; <span class="hljs-keyword"><span class="hljs-keyword">Public</span></span> Account employeeAccount; }</code> </pre> <br>  There is a company (Company) with several divisions (Department) and employees (Employee) inherited from the class of people (Person).  The company has an account (Account) from which the salary is transferred to employees.  Accordingly, each employee has an account (Account) for salary.  Suppose that our program should be able to: <br><br>  - to hire an employee; <br>  - pay the employee a salary; <br>  - dismiss employee with severance pay; <br><br>  Hiring and firing an employee can be called personnel (Staff) operations, and the payment of severance pay and salaries - accounting (Accounting) operations. <br><br>  For each of the operations you will need: <br><br>  - initialize company data; <br>  - initialize employee data; <br>  - print a document. <br><br>  To accept / dismiss an employee we will have to: <br><br>  - initialize the data on the relevant division of the company; <br><br>  For these two accounting transactions, we also need: <br><br>  - initialize data on bank accounts of the employee and the company. <br><br>  We turn to the main thing - the actual space of operations.  We implement it as a hierarchy of classes, each of which is something that we call the ‚ÄúOperation Context‚Äù.  The public methods (APIs) of these classes will be business logic operations, while properties and private methods will help in the formation of abstractions.  In accordance with the previously adopted division, in our program the classes StaffOperationContext and AccountingOperationContext, inherited from the base BaseOperationContext, will appear.  Putting auxiliary members in the hierarchy of operations will be easier than in the hierarchy of objects. <br><br><pre> <code class="hljs pgsql"><span class="hljs-built_in"><span class="hljs-built_in">Public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Class</span></span> BaseOperationContext { //  BaseOperationContext () { InitCompanyData(); } BaseOperationContext (Employee employee) { InitEmployeeData(Employee employee); InitCompanyData(); } //     private <span class="hljs-type"><span class="hljs-type">void</span></span> InitCompanyData(); private <span class="hljs-type"><span class="hljs-type">void</span></span> InitEmployeeData(Employee employee); protected <span class="hljs-type"><span class="hljs-type">void</span></span> PrintDocument(Document doc); } <span class="hljs-built_in"><span class="hljs-built_in">Public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Class</span></span> AccountingOperationContext <span class="hljs-keyword"><span class="hljs-keyword">inherits</span></span> BaseOperationContext { //  AccountingOperationContext () { super(); } //     Private InitAccountData(Account account); Private BankTransfer(Account account, <span class="hljs-type"><span class="hljs-type">Double</span></span> amount); //   ‚Äì API  <span class="hljs-built_in"><span class="hljs-built_in">Public</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> PaySalary (Employee employee) //  / { // ‚Ä¶    InitAccountData (employee.employeeAccount); // ‚Ä¶    BankTransfer (employee. employeeAccount, salaryAmount); // ‚Ä¶    PrintDocument (someSalaryPayDocument); } <span class="hljs-built_in"><span class="hljs-built_in">Public</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> PayRedundancy (Employee employee) //    { // ‚Ä¶    InitAccountData (employee. employeeAccount); // ‚Ä¶    BankTransfer (employee. employeeAccount, redundancyAmount); // ‚Ä¶    PrintDocument (someRedundancyPayDocument); } } <span class="hljs-built_in"><span class="hljs-built_in">Public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Class</span></span> StaffOperationContext <span class="hljs-keyword"><span class="hljs-keyword">inherits</span></span> BaseOperationContext { //  StaffOperationContext (Employee employee) { super(employee); } //     Private InitDepartmentData(Department department); //   ‚Äì API  <span class="hljs-built_in"><span class="hljs-built_in">Public</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> RecruitEmployee (Person person, Department department) //   { InitDepartmentData(department); Employee employee = person; // ‚Ä¶    PrintDocument (someRecruiteDocument); } <span class="hljs-built_in"><span class="hljs-built_in">Public</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> FireEmployee (Employee employee, Department department) //  { InitDepartmentData(department); // ‚Ä¶    //  AccountingOperationContext     AccountingOperationContext accountingOC = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> AccountingOperationContext (); accountingOC.PayRedundancy (employee); // ..    PrintDocument (someFireDocument); } }</code> </pre><br>  With this code, we break the principles of OOP: our FireEmployee method refers to its StaffOperationContext class as ‚Äúis‚Äù and not ‚Äúcontained‚Äù: that is, dismissing an employee becomes a particular case of a personnel operation (heir), and not its element (member).  Compensation will be gaining common sense.  Incorrect statement ‚Äúdismissal of an employee is a member of the object 'employee'‚Äù we replace with a correct ‚Äúdismissal of an employee is a personnel operation‚Äù.  The correctness of statements gives hope for the construction of a correct model. <br><br>  The problem of determination (which method to put) does not seem to be resolved by default, but it is solvable.  In my only application developed according to Wittgenstein, I relied on the interface.  Having about ten screens on the front end, I divided the logic into ten operations contexts with the base context at the top of the hierarchy. <br><br>  It is possible to classify operations in different ways, the principle itself is important: we replace object-oriented programming with operation-oriented.  I repeat once again: we are talking exclusively about business logic - the world of the program.  To use classes of the environment and to generate their successors nothing prevents. <br><br>  Not having a wide IT erudition, I can assume that such thoughts have already been visited by many philosophers and programmers.  Probably, they were even presented in the form of texts - independently and repeatedly.  I myself have not met with such research, and it took me two years to come independently to this successful - I think - a combination of object-oriented and functional programming (as it seems outwardly). <br><br>  In the manner described, I implemented the business logic in my latest project to date.  As a result of complete refactoring (the project was inherited by me), the code was reduced by 70% and became incredibly friendly with respect to any - even very significant - edits.  The experience was successful: I suggest to try. <br></div><p>Source: <a href="https://habr.com/ru/post/312510/">https://habr.com/ru/post/312510/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../312498/index.html">A few words about moving to Cyprus</a></li>
<li><a href="../312500/index.html">Do not step on our rake with TK: an epic contest experience and a couple of tales</a></li>
<li><a href="../312504/index.html">Web Alerts in Loaded Projects</a></li>
<li><a href="../312506/index.html">.NET Portability Analyzer</a></li>
<li><a href="../312508/index.html">Toolkit for front-end development for Linux</a></li>
<li><a href="../312512/index.html">BizTalk Server Support: helpful tips. Part 2</a></li>
<li><a href="../312514/index.html">Do not postpone to the mailbox: 2GIS b2c-messenger</a></li>
<li><a href="../312516/index.html">Making the Android app loading screen right</a></li>
<li><a href="../312518/index.html">BCP and DRP. The difference is sometimes not obvious.</a></li>
<li><a href="../312520/index.html">Automatic test generation: Excel, XML, XSLT, hereinafter - everywhere</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>