<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>FIAS and the seven mortal rake developer</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In order to work normally with postal addresses, the sites connect the directory of tax service addresses (FIAS). Five thousand online stores, CRM and...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>FIAS and the seven mortal rake developer</h1><div class="post__text post__text-html js-mediator-article">  In order to work normally with postal addresses, the sites connect the directory of tax service addresses (FIAS).  Five thousand online stores, CRM and startups have already done this on <a href="http://www.dadata.ru/">dadata.ru</a> . <br><br>  And we looked at the problems of customers, thought and collected a weighty set of rakes, which developers like to embrace with FIAS love to walk. <br><br><img src="https://habrastorage.org/files/135/038/773/135038773e744c35881c300596db4d18.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><br><h4>  1. FIAS postal codes for parcel delivery </h4><br>  Those who use <a href="http://fias.nalog.ru/">FIAS</a> to deliver letters and parcels are in for a surprise.  For some reason, everyone thinks that if FIAS is the all-Russian address database, then the indices in it must be correct. <br><br>  This is not true. <br><br>  There are several thousand irregular or missing indexes in FIAS.  For example, look at the address ‚ÄúNovosibirsk region, Novosibirsk, Sorge street, 56‚Äù at <a href="http://fias.nalog.ru/ExtendedSearchPage.aspx">fias.nalog.ru</a> : <br><img src="https://habrastorage.org/files/6e0/049/12e/6e004912e8d74922af48c107f137633e.png"><br><br>  Index no.  If you look at the same address on the <a href="https://www.pochta.ru/post-index">website of the Russian post office</a> , we will see the index: <br><img src="https://habrastorage.org/files/fae/f66/595/faef6659577e46ebaa3c4c8ebfa5ffae.png"><br><br>  Unfortunately, the FTS data disagree with reality and with the data of the Post.  At the <a href="https://dadata.userecho.com/">Dadat forum,</a> every month they ask a new question on this topic. <br><br>  Experienced owners of online stores know about the setup with indexes and additionally check FIAS indexes on the basis of Russian Post.  But the Post is not doing well either: there are not some of the indices that exist in FIAS (for example, 742602, 103340, and several thousand other indices). <br><br>  We in Dadat are working on a unified database of FIAS indices and the Post of Russia.  It compensates for the mistakes of the departments and is useful for the delivery of letters and parcels.  We plan to release before the end of the year. <br><br><h4>  2. KLADR code as an address identifier to the house </h4><br>  The developers use the KLADR code as a house identifier - although FIAS and the unique address code in it (GUID) have been around for a long time.  This is usually done for compatibility with older systems. <br><br>  Identifying a house with the KLADR code is very tempting from a developer‚Äôs point of view, but this is not worth doing.  Because the code to the house is unstable and changes every month (examples are not exhaustive, just illustrate the problem): <br><table><tbody><tr><td>  Address </td><td>  KLADR code in FIAS from 03.10.16 </td><td>  KLADR code in FIAS from 04/18/16 </td></tr><tr><td>  Kazan, Kosmonavtov St., 12 </td><td>  1600000100006330009 </td><td>  1600000100006330082 </td></tr><tr><td>  g Nizhny Novgorod, Panfilovtsev str, 4B </td><td>  5200000100008060003 </td><td>  5200000100008060018 </td></tr><tr><td>  Samara, Mekhzavod settlement, kv-l 16th, d 7 </td><td>  6300000103700170018 </td><td>  6300000103700170043 </td></tr></tbody></table><br>  It is more reliable to identify the address using the KLADR code of the street and the home part of the address: <i>160000010000633, d 12</i> .  Better yet, instead of the KLADR code, keep the FIAS-code of the street. <br><br><h4>  3. FIAS code as an address identifier to the house </h4><br>  Identifying the address to the house using the FIAS code is also not the best idea. <br><br>  The FIAS code often designates not a separate house, but a range of houses, for example ‚Äú1‚Äì10‚Äù.  Of course, all the houses within the range will have the same code.  If the house was originally in the range, and then climbed into a separate entry - its code will change: <br><table><tbody><tr><td>  Address </td><td>  FIAS code range, FIAS from 10.03.16 </td><td>  FIAS code for house, FIAS from 04/18/16 </td></tr><tr><td>  Moscow region, Istra district, with Pavlovskaya Sloboda, Dzerzhinsky St., 1 </td><td>  720b25da-f43e-4204-9013-3cb06be3e9e4 <br>  house range 1‚Äì6 </td><td>  5bbc0463-ffc4-4d8f-bc5f-632c46eeedca </td></tr><tr><td>  Volgograd, ul im Parkhomenko, d 33 </td><td>  44de3bc5-a650-4f77-b19a-7a12bb619c21 range of houses 15‚Äì35, odd </td><td>  98216a50-2c52-4b0c-8864-a19dc7a30a73 </td></tr><tr><td>  Izhevsk, Udmurtskaya St., 267 to 3 </td><td>  92ff5f38-01fb-42e6-97d6-a95f541644f4 <br>  range of houses 261‚Äì277, odd </td><td>  ac8015c8-0e73-442d-a6aa-427f2e973ec5 </td></tr></tbody></table><br>  Therefore, I recommend doing the same as with the KLADR code - use the FIAS street code and the home part of the address. <br><br><h4>  4. Address in one line - instead of FIAS-code </h4><br>  If you store the address in one line, then over time the database will be filled with records of different formats.  Like "Uryupinsk, Lenin Avenue" and "Uryupinsk, Lenin Ave." <br><br>  This is because the format of entries in FIAS changes all the time: <br><br>  1. Change street type: <br><blockquote>  Obninsk Lenin Street ‚Üí Lenin Ave. <br>  Tyumen region, Ishim, line 5th ‚Üí 5th line ul <br></blockquote><br>  2. Re-subordination (the city became a micro-district or the street moved from city to village): <br><blockquote>  Samara, Simferopol St. ‚Üí Samara, n Management, Simferopol St. <br></blockquote><br>  3. Renaming (or fix on trifles): <br><blockquote>  Krasnoyarsk, ul im Akademik Vavilova ‚Üí ul Akademik Vavilov <br>  Chechen Rep, Itum-Kalinsky district, Guchum-Kala village ‚Üí Guchum-Kali village <br>  Yamalo-Nenets Autonomous Okrug, Gubkinsky District, md 12 ‚Üí mkr 12 <br></blockquote><br>  Therefore, in addition to the address in one line, it is good to keep the street FIAS-code. <br><br><h4>  5. Houses only from FIAS </h4><br>  It happens that developers restrict entry of a house only to FIAS houses.  This paradoxically leads simultaneously to the lack and excess of information: <br><br>  <b>FIAS lacks houses</b> <br>  A recent example: <br><blockquote>  Moscow region, Balashikha, Gorensky boulevard, 3 ( <a href="https://maps.yandex.ru/-/CVHk7LNM">on the map</a> ). </blockquote><br>  In FIAS there is no house 3, but there are 3 to A. <br><br>  <b>And sometimes there are too many</b> <b><br></b>  There are fake ‚Äúhouses‚Äù with letters in FIAS, which are not in real life (or there is, but there is no <s>joy from them ‚Äî</s> this is a transformer booth). <br><blockquote>  St. Petersburg, st.  Shipbuilders <br>  house 383 <br>  house 38k3 letter A <br>  house 38k3 letters T <br></blockquote><br>  It is better not to restrict entry at home, but to offer the person at home from FIAS and allow him to enter his own version (in the <a href="https://dadata.ru/suggestions/">Tips</a> we do this way). <br><br><h4>  6. Villages and streets only from FIAS </h4><br>  FIAS is poor not only with houses.  In Russia, new streets and townships appear all the time, and the tax authorities do not have time for life.  For example, there is no settlement Novogorelovo from the Leningrad Region, and Novy Lapino from the Moscow Region. <br><br>  We in Dadat collect such addresses from users and conduct them as an additional reference to FIAS in order to help users enter non-existent addresses into FIAS. <br><br><h4>  7. The form of entering the address on the structure of FIAS </h4><br>  Some developers, succumbing to the magic of FIAS, make the input forms of the address according to the structure of FIAS: they force the user to distinguish between a city and a settlement, it is necessary to enter a region and a region. <br><br>  For example, the online store <a href="https://market.pochta.ru/">of the Russian Post</a> : <br><img src="https://habrastorage.org/files/12c/a74/333/12ca7433329546c19f07fd03f84e07d1.png"><br><br>  How, you still do not remember by heart your index? <br><br>  The correct guys allow clients to specify the address in one line and not bother entering the index. <br><br><h4>  Conclusion </h4><br>  I also once thought that with the help of FIAS I would get rid of problems with entering addresses once and for all.  But FIAS has its own problems: jumping identifiers, curved indexes and forgotten addresses. <br><br>  To make your life easier and not to step on the famous rake: <br><ul><li>  Use the FIAS code to the street + house + apartment to identify the address. </li><li>  Do not limit the entry of houses from FIAS - allow users to enter their homes. </li><li>  Give users the ability to specify villages and streets not from FIAS. </li><li>  Enter addresses in one line. </li><li>  If you deliver packages, check the indexes on Mail and 2GIS. </li></ul><br>  And the most convenient option is to use <a href="https://dadata.ru/suggestions/">Tips</a> to enter an address.  They solved all the problems, except the last one - we plan to close it by the end of the year. </div><p>Source: <a href="https://habr.com/ru/post/301014/">https://habr.com/ru/post/301014/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../301000/index.html">Separation of control and data plane in network equipment</a></li>
<li><a href="../301002/index.html">TypeScript syntax basics</a></li>
<li><a href="../301004/index.html">Unchangeable objects in PHP</a></li>
<li><a href="../301006/index.html">C ++ compiler warnings: cannot be refused</a></li>
<li><a href="../301008/index.html">Racing in the sky: an interview with a professional drone pilot</a></li>
<li><a href="../301016/index.html">Vulnerabilities in the proxy connection: how antiviruses reduce the security of the Internet browser</a></li>
<li><a href="../301018/index.html">Compress and stream TCP video over OpenCV</a></li>
<li><a href="../301020/index.html">The foundation of scalability javascript application</a></li>
<li><a href="../301022/index.html">The right offer at the device programmer in the office</a></li>
<li><a href="../301024/index.html">Announcement: on June 8, Microsoft will host a virtual forum, Data. Technology. SQL Server 2016 ¬ª</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>