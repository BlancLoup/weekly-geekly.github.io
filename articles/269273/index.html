<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Algorithm for extracting information in ABBYY Compreno. Part 2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello again! 

 I hope you are interested in our yesterday's post about the information extraction system ABBYY Compreno , in which we talked about th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Algorithm for extracting information in ABBYY Compreno. Part 2</h1><div class="post__text post__text-html js-mediator-article">  Hello again! <br><br>  I hope you are interested in <a href="http://habrahabr.ru/company/abbyy/blog/269191/">our yesterday's post</a> about the information extraction system <a href="http://www.abbyy.ru/infoextractor/compreno/%3Futm_source%3Dhabrahabr.ru%26utm_medium%3Darticle%26utm_term%3Dcompreno%26utm_content%3Dpost%26utm_campaign%3Dhabr">ABBYY Compreno</a> , in which we talked about the system architecture, the semantic-syntactic parser and its role and, most importantly, about information objects. <br><br>  Now it is time to talk about the most interesting - how the information extraction engine is arranged. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/f27/1e0/fd7/f271e0fd7f904d90ae93700ede88a8ce.jpg"><br><a name="habracut"></a><br><h4>  RDF and approval bag </h4><br>  So the goal of our system is to build an RDF graph with the extracted information. <br><br>  However, the generation of the RDF-graph occurs only at the very end of the system.  In the course of work, a more complex object is used to store retrieved information, which we call the ‚Äúbag of statements‚Äù.  It is a set of non-contradictory logical statements about information objects and their properties. <br><br>  The entire work of the information extraction system can be described as the process of filling a bag of statements. <br><br>  Important properties of bag statements: <br><ul><li>  Assertions can only be added.  Delete - not. <br></li><li>  All statements in the bag do not contradict each other. <br></li><li>  By a bag of statements, at any time you can construct an annotated RDF-graph consistent with the ontology. <br></li></ul><br>  The main difference between the RDF-graph and the bag of statements is that the latter allows for functional dependencies. <br><br>  For example, it can be argued that the set of values ‚Äã‚Äãof a property of one object always includes the set of values ‚Äã‚Äãof some other property of another object.  Such dependencies are dynamic, the system implements their recalculation itself. <br><br>  This article is not possible to parse allegations in detail.  The main types of statements are shown in the figure below. <br><br><img src="https://habrastorage.org/files/f47/17a/f19/f4717af199a945a7857a67a2dfce7c20.png"><br><br>  We talked more about the statements <a href="http://www.dialog-21.ru/digests/dialog2014/materials/pdf/StarostinAS.full.pdf">in an article at the Dialog conference</a> . <br><br><h4>  Inference based on data </h4><br>  Who fills the bag of statements? <br><br>  The bag of statements is filled in the process of applying the rules.  There are two types of rules: <br><br><ul><li>  Rules for extracting information. <br>  We have already discussed them in the previous article; they allow us to describe fragments of semantic-syntactic trees, upon detection of which certain sets of logical statements come into force.  Schematically, the rule can be represented as follows: <br><br><pre><code class="hljs cs">[<span class="hljs-meta"><span class="hljs-meta">   </span></span>] =&gt; [ ]</code> </pre> <br>  Extraction rules are of two types: without object conditions (based only on the tree template) and with object conditions (based on both the tree template and previously selected objects) <br><br></li><li>  Identification rules. <br>  Used in situations where you need to combine multiple information objects.  It can be schematically represented as follows: <br><br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">%</span></span></span><span class="hljs-tag">    </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span><span class="hljs-tag"> %&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">%</span></span></span><span class="hljs-tag">    </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">2</span></span></span><span class="hljs-tag"> %&gt;</span></span> [  ] =&gt; [   ]</code> </pre><br>  If the rule manages to work, then the bag is replenished with new statements: in the rules for extracting information - due to explicitly written statements in the right part of the rule;  in the identification rules - due to the statement of identity. <br></li></ul><br><h4>  Information Extraction Algorithm </h4><br>  But how do the rules trigger? <br><br>  A key concept for understanding the algorithm is matching.  By mapping, we mean the following: <br><br><ul><li>  For the rules for extracting information, overlaying the tree pattern described in the rule onto a fragment of the semantic-syntactic tree. <br></li><li>  For identification rules, correlation of the restrictions of the identification rule with specific information objects. <br></li></ul><br>  The operation of the algorithm begins with the fact that the system processes the rules that contain only templates for parse trees (without object conditions).  There is not a single object in the ‚Äúbag of statements‚Äù so far; therefore, rules with object conditions are not yet involved in generating comparisons. <br><br>  All matches found are placed in a special sorted list queue.  This queue is an important structure, the extraction process continues until this queue contains at least one match.  The queue is dynamically updated with new comparisons in the process of work, but we will not get ahead of ourselves. <br><br>  So, the first mappings were generated and placed in a queue.  Now the system starts to turn to the queue and at each step extracts the highest priority mapping.  On the one hand, priority can be influenced by onto-engineers (a partial order relation is set on the set of rules), on the other hand the system itself can calculate the most successful match. <br><br>  After the highest priority matching is chosen, a set of statements is formed on the right side of the rule from which it was obtained.  The system tries to make these statements take effect, i.e.  tries to put this set in a general bag of statements.  Here nuances are possible - assertions may conflict with assertions added to the bag earlier. <br>  Contradictions can be of different types: <br><br><ul><li>  Ontological contradictions (the cardinality of properties is violated, the compatibility of concepts of one object with each other) <br></li><li>  Conflict with a constraint already added to the bag.  Such conditions can be set by the onengineers themselves in the rules, as a rule, they are arbitrary conditions on the graph. <br></li></ul><br>  If the insertion failed (there was a contradiction), then the matching is discarded and the following is selected from the queue.  In case of successful insertion, before the selection of the next match is started, the search mechanism for new matches is launched, and the queue of comparisons can be replenished.  Please note that as a result of placing new statements in the bag, new rules may start to work, as the overall context changes.  The following changes are possible - the emergence of new objects and "anchors", the filling of new attributes of the object, the emergence of new concepts in the object.  Because of these changes, those rules can start to work, the template part of which could not be matched before, and the line of comparisons will be replenished. <br><br>  The following process illustrates the process well. <br><img src="https://habrastorage.org/files/1e7/3dd/d63/1e73ddd636c0495e8ce1a27ab5bd7bc7.png"><br>  In order to realize all this, we had to work hard.  One of the most complex components of the system is the search engine for matching.  It has a built-in bytecode interpreter of compiled rules, a system of special indexes over semantic-syntactic trees, a module for tracking changes in the bag of statements, and some other mechanisms.  We note some basic features of the mapping search mechanism: <br><br><ul><li>  Able to find all the mappings for the rules for extracting information without object conditions <br></li><li>  Constantly monitors the contents of the statements bag and every time new statements appear in it, it tries to generate new comparisons (already with object conditions) <br></li><li>  At each work step, it is possible to generate both comparisons for new rules for information extraction and identification, and comparisons for rules for which other comparisons have already been generated. <br>  This happens in cases when more than one information object satisfies a certain object condition of a rule ‚Äî each variant is considered as part of a separate comparison. <br></li></ul><br>  As a result of the work, we have an algorithm that has the following features: <br><br><ul><li>  Does not consider alternatives.  If any mapping is in conflict with the current state of the bag of statements, it is simply discarded. <br>  The use of such a greedy principle was possible primarily due to the fact that linguistic homonymy has already been removed by the semantic-syntactic parser - we almost do not have to hypothesize what a particular tree node is. <br></li><li>  The engineer has the ability to influence the order of the rules.  A partial order relation is introduced on the rule set.  If both triggers are possible and an order is set between them, then the system ensures that the trigger of one of the rules must occur before the trigger of the other.  For convenience, the ability to organize groups of rules is also supported.  The partial order relation is transitive.  When compiling the system of rules, it is checked that the partial order is entered correctly, the system is able to detect cycles.  At the same time, the described approach is significantly different from the consistent application of all rules, since  the partial order set on the rules only affects the choice between successive triggers, but does not block the reapplication of the same rules. <br></li></ul><br>  If you want to learn a more formal description of the algorithm, we advise you to refer to <a href="http://www.dialog-21.ru/digests/dialog2014/materials/pdf/StarostinAS.full.pdf">the article from the Dialog conference</a> . <br><br>  This technology provides a wide range of opportunities that allow us to solve various problems, focused on current market needs.  About what real business challenges we face, and how Compreno copes with them, we will soon tell in our blog. </div><p>Source: <a href="https://habr.com/ru/post/269273/">https://habr.com/ru/post/269273/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../269261/index.html">Back to the future, or Hello World today and thirty years ago</a></li>
<li><a href="../269263/index.html">Alpha version of SocketPush - universal notifications for all browsers + 3 million free notifications</a></li>
<li><a href="../269267/index.html">Knowledge Management with KCS</a></li>
<li><a href="../269269/index.html">Let's Encrypt is now trusted</a></li>
<li><a href="../269271/index.html">Go Planner</a></li>
<li><a href="../269275/index.html">Creating a MySQL database within Microsoft Azure for students</a></li>
<li><a href="../269281/index.html">Oracle, typical SQL tasks. Guaranteed choice</a></li>
<li><a href="../269285/index.html">3 ways to use the operator? .. wrong in C # 6</a></li>
<li><a href="../269287/index.html">Multiklet became more accessible</a></li>
<li><a href="../269289/index.html">How can you make a fault-tolerant storage system of data from domestic servers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>