<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What's new in Babylon.js</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently, the babylon.js development team has released a new version of the eponymous library (v2.1) with many improvements, as well as new tools for ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>What's new in Babylon.js</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/9dc/c70/b58/9dcc70b582c84295a9b2fbd73226ada2.png"><br>  Recently, the <code>babylon.js</code> development team has released a new version of the eponymous library <code>(v2.1)</code> with many improvements, as well as new tools for creating 3D in the browser, already having experience creating games such as <a href="http://flightarcade.com/">Flight Arcade</a> and <a href="http://race.assassinscreedpirates.com/%3FWT.mc_id%3D13405-DEV-sitepoint-article29">Assassin's Creed Pirates</a> .  This article will cover some of the major updates, as well as links to demos and a sandbox, so you can try it yourself. <br><a name="habracut"></a><br><br><h3>  Unity 5 Exporter. </h3><br>  <i>On Habr√© was the publication of <a href="http://habrahabr.ru/post/260391/">Blend4Web vs Unity</a> with the mention that Unity, too slowly and disproportionately large, imports files into <code>WebGl</code> .</i>  <i>Perhaps this is an option for such cases.</i> <br><br>  <code>Unity</code> an amazing tool for creating games that can work on almost all operating systems.  I like the <code>Unity</code> 5 WebGL exporter - this is a good way to export all games to the <code>WebGL/ASM.JS/WebAudio</code> site. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      To make this solution more complete, and if we want easier export of mesh projections that could run without <code>ASM.JS</code> , you can install the <code>Babylon.js</code> exporter: <a href="https://github.com/BabylonJS/Babylon.js/tree/master/Exporters/Unity%25205%3FWT.mc_id%3D13405-DEV-sitepoint-article29">available here</a> . <br><br>  When installed, the <code>exporter</code> can export the scene by going to the Babylon.js <code>exporter</code> menu: <br><img src="https://habrastorage.org/getpro/habr/post_images/785/07f/d3a/78507fd3a68bfb27532d0ad184523919.png" alt="Unity dashboard" width="624" height="364"><br><br>  After a few seconds, a <code>.babylon</code> file will be generated along with its associated textures: <br><img src="https://habrastorage.org/getpro/habr/post_images/04a/9d7/359/04a9d7359a6a6fd1dab5df857e869b11.png" alt="Sci-fi fighter images" width="552" height="226"><br><br>  Now you can download <code>Babylon</code> from a <code>JavaScript</code> project or directly test using the <a href="http://www.babylonjs.com/sandbox%3FWT.mc_id%3D13405-DEV-sitepoint-article29">Babylon.js sandbox</a> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3b7/f56/9b9/3b7f569b9710108fa6590dcdbbe7a967.png" alt="The Babylon.js sandbox" width="624" height="417"><br><br><h3>  Decals - I would probably translate as ‚Äúblots‚Äù :) </h3><br>  Decals (spots) are usually used to add some details to 3D objects (bullet holes, some local information, etc.).  Inside the decals (spot) there is a mesh created from the previous one, with only a slight offset to be on top. <br><br>  Offset can be considered by analogy with the property of <code>CSS zindex</code> .  Without this, it will be seen that when two <code>3D</code> objects appear in the same place: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ea7/4f1/1ff/ea74f11ff9c1bd415d1f5026feaf755d.png" alt="Adding decals" width="130" height="119"><br><br>  Code to create a new spot: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> newDecal = BABYLON.Mesh.CreateDecal(<span class="hljs-string"><span class="hljs-string">"decal"</span></span>, mesh, decalPosition, normal, decalSize, angle);</code> </pre><br>  For example, on this <a href="http://www.babylonjs-playground.com/">demo,</a> you can click on the cat to see the traces of bullet holes on it. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/de0/831/a7e/de0831a7e13a32423f981ec0dd1a211d.png" alt="BAPRM" width="400" height="250"><br><br><h3>  SIMD.js </h3><br><br>  Microsoft, Firefox and Chrome, have announced support for <code>SIMD.js</code> - in the API for using the processor's multi-scalar capabilities directly from JavaScript code.  This is especially useful for using scalar operations, such as matrix multiplication. <br><br>  It was decided (with the participation of Intel) to integrate <code>SIMD.js</code> support directly into the math library. <br><br>  And this, for example, leads to code evolution where the same operation is applied 4 times: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ab8/19d/0bb/ab819d0bb70dbfcd907706f608744144.png" alt="Babylon.js code" width="624" height="100"><br><br>  Also: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/764/a0f/fab/764a0ffab5562b4c628d679dcc364da3.png" alt="More Babylon.js code" width="624" height="192"><br><br>  The main idea is to load <a href="http://www.club155.ru/x86internalreg-simd">SIMD</a> register with data and execute only one instruction, whereas earlier it was required to execute several. <br><br>  See how it works <a href="http://www.babylonjs.com/scenes/simd.html%3FWT.mc_id%3D13405-DEV-sitepoint-article29">here.</a> <br><br>  This demo tries to maintain a constant frame rate (50 fps by default) when adding new dancers every few seconds.  This leads to the appearance of a large number of ‚Äúmatrix multiplications‚Äù for animating skeletons used by dancers. <br><br>  If your browser supports <code>SIMD</code> , you can enable it and see the performance boost. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/532/fde/d92/532fded9207f5bfc79a92f3bce094a62.png" alt="A collection of robots" width="624" height="366"><br><br><h3>  Web Worker Collisions </h3><br>  Ranaan Weber (top contributor Babylon.js) did a great job to seriously improve the collision engine, and allow Babylon.js to calculate collisions using individual web workers. <br><br>  Previously, if it was necessary to include collisions at the site of the alleged collision, we added invisible objects around our objects to reduce the number of required calculations.  Now this is still true, but since calculations are not done in the main stream, it is easy to solve the problem of creating much more complex scenes. <br><br>  For example, take the scene where we have a large mesh (beautiful skull) with collisions in the camera (this means that using the mouse wheel will not work through the skull).  This demo does not use invisible objects.  A real mesh with more than 41,000 vertices is used, each of which needs to be checked. <br><br>  Previously, with constant collisions, the main stream should be involved in showing the scene.  And calculate collisions. <br><br>  When you enable web workers, the main thread should not care about collisions, because another thread works for it.  Since in most cases currently all processors have at least 2 cores, this is really a big optimization. <br><br>  To enable collisions, use the following code: <br><pre> <code class="javascript hljs">scene.workerCollisions = <span class="hljs-literal"><span class="hljs-literal">true</span></span>|<span class="hljs-literal"><span class="hljs-literal">false</span></span>;</code> </pre><br>  You can learn more about collisions <a href="http://doc.babylonjs.com/page.php%3Fp%3D22091%3FWT.mc_id%3D13405-DEV-sitepoint-article29">here</a> . <br><br>  Raanan also wrote two good publications: <br><ul><li>  <a href="http://blog.raananweber.com/2015/05/26/collisions-using-workers-for-babylonjs/%3FWT.mc_id%3D13405-DEV-sitepoint-article29">Using Collision Handlers for Babylon.js</a> </li><li>  <a href="http://blog.raananweber.com/2015/05/30/web-worker-without-a-separate-file/%3FWT.mc_id%3D13405-DEV-sitepoint-article29">Automated Build of Web Workers without a Separate JS File</a> </li></ul><br><br><h3>  New shadow engine </h3><br>  Adding shadows to the scene always adds realism.  The previous version of the implementation of shadows could create dynamic shadows for directional light sources (Directional Light). <br>  The new version adds support for light sources that mimic a spotlight (Spot Light) like a flashlight, and two new filters have been added that create very nice soft shadows, <br>  <a href="http://www.babylonjs.com/%3FSOFTSHADOWS%3FWT.mc_id%3D13405-DEV-sitepoint-article29">This can be seen in the demo</a> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7cc/d34/04c/7ccd3404c53bc142d551e8bceea5eed7.png" alt="Cheshire cat in color" width="624" height="442"><br><br>  <a href="http://www.babylonjs.com/%3FADVANCEDSHADOWS%3FWT.mc_id%3D13405-DEV-sitepoint-article29">And this demo</a> shows various options for changing dynamic shadows. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/090/672/2c1/0906722c1c55b45de672a4865fc7e7b2.png" alt="Advanced shadows" width="624" height="363"><br><br>  For more information on working with shadows, read the <a href="http://doc.babylonjs.com/page.php%3Fp%3D22151%3FWT.mc_id%3D13405-DEV-sitepoint-article29">documentation</a> . <br><br><h3>  Forms specified by parameters </h3><br>  Jerome Bousquie (another top contributor) has added many new meshes based on parametric shapes. <br><br>  As you can see, in <code>Babylon.js</code> , the base mesh still had the standard form originally set: that is, if we create a spherical mesh, we expect to see a sphere. The same goes for the cube, torus, cylinder, etc. <br><br>  There is another type of shape, the final shape of which is not fixed.  Their final form depends on the parameters used in the particular function.  Thus, these figures can be called "Parametric figures". <br><br>  Jerome, using these ‚Äúparametric shapes,‚Äù added a list of meshes for working out of the box: <br><br><ul><li>  <a href="http://www.babylonjs.com/%3FRIBBONS%3FWT.mc_id%3D13405-DEV-sitepoint-article29">Ribons</a> </li><li>  Disc </li><li>  Dashed lines </li><li>  Lathe </li><li>  Tube </li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/fb2/916/e45/fb2916e451e2cdcc4a91dfcb68bb4c20.png" alt="Green and blue image" width="624" height="411"><br><br>  If you want to learn more about parametric figures: <a href="http://doc.babylonjs.com/page.php%3Fp%3D24847%3FWT.mc_id%3D13405-DEV-sitepoint-article29">you can study this guide</a> . <br>  Jerome also created learning material to better understand ribbons: <a href="http://doc.babylonjs.com/page.php%3Fp%3D25088%3FWT.mc_id%3D13405-DEV-sitepoint-article29">read it here</a> . <br><br><h3>  New Optical Effect </h3><br>  Jahow (another top contributor) used Babylon.js pipe-line post-processing rendering, which will allow to achieve photographic realism. <br><br>  Two types of postprocessing used in pipeline: <br><ol><li>  " <a href="https://ru.wikipedia.org/wiki/%25D0%25A5%25D1%2580%25D0%25BE%25D0%25BC%25D0%25B0%25D1%2582%25D0%25B8%25D1%2587%25D0%25B5%25D1%2581%25D0%25BA%25D0%25B0%25D1%258F_%25D0%25B0%25D0%25B1%25D0%25B5%25D1%2580%25D1%2580%25D0%25B0%25D1%2586%25D0%25B8%25D1%258F">chromatic aberrations</a> " of shaders, which shifts slightly red, green and blue channels on the screen.  This effect is stronger around the edges. </li><li>  "Depth of field" shaders, including: </li></ol><br><ul><li>  Blur on the edge of the lens </li><li>  Lens distortion </li><li>  Adjusting the sharpness and blur of the image </li><li>  <code></code> effect - depth of field (shapes appearing in blurry areas) </li><li>  Grit effect (noise or custom textures) </li></ul><br><br>  This demo can also be viewed in the <a href="http://www.babylonjs-playground.com/">playground</a> . <br><img src="https://habrastorage.org/getpro/habr/post_images/01f/af2/6bb/01faf26bbc7743a64157d396b187d5c9.png" alt="Skulls" width="624" height="488"><br><br>  For more detailed study use: <br><ul><li>  <a href="http://www.babylonjs.com/%3FWT.mc_id%3D13405-DEV-sitepoint-article29">Main website</a> </li><li>  <a href="">GitHub Repository</a> </li><li>  <a href="http://www.babylonjs.com/playground%3FWT.mc_id%3D13405-DEV-sitepoint-article29">Sandbox for experiments</a> </li><li>  <a href="http://doc.babylonjs.com/%3FWT.mc_id%3D13405-DEV-sitepoint-article29">Documentation</a> </li></ul><br><br>  PS Request for grammatical errors and translation errors to write to the PM. </div><p>Source: <a href="https://habr.com/ru/post/260813/">https://habr.com/ru/post/260813/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../260801/index.html">Writing a wrapper for FUSE in Java Native Runtime</a></li>
<li><a href="../260803/index.html">Beginner site optimization guide. Part 1</a></li>
<li><a href="../260805/index.html">The digest of interesting materials from the world of web development and IT for the last week No. 165 (June 15 - 21, 2015)</a></li>
<li><a href="../260809/index.html">Using monads in C ++. Part 1: List Monad</a></li>
<li><a href="../260811/index.html">"Her" or another fixator</a></li>
<li><a href="../260819/index.html">BPMS Bizagi video description</a></li>
<li><a href="../260823/index.html">AllMyChanges Mission</a></li>
<li><a href="../260829/index.html">Wheel-indicator - a touchstart emulation plugin when working with trackpads</a></li>
<li><a href="../260831/index.html">Network Interface for BMW</a></li>
<li><a href="../260833/index.html">How and where should SKZI be used - FSB point of view</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>