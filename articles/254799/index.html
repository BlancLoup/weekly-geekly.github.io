<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Development of MMO RPG - a practical guide. Episode 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="- Wondering how much online game development costs? 
- Do you want to know how to organize the development of MMOs from idea to release? 
- Have you e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Development of MMO RPG - a practical guide. Episode 1</h1><div class="post__text post__text-html js-mediator-article"><table><tbody><tr><td><img src="https://habrastorage.org/files/ba4/3da/43c/ba43da43cdb74bbcacb1ec1b436e4f47.png" alt="image"></td><td><ul><li>  Wondering how much online game development costs? </li><li>  Do you want to know how to organize the development of MMOs from idea to release? </li><li>  Have you ever thought about the technical difficulties of creating online games? </li></ul></td></tr></tbody></table><br><br>  In the series of articles "Development of MMO RPG - a practical guide" you will get answers to these and many other questions.  All numbers are real.  All schemas, tables, source code, database diagrams, etc. are taken from a real-life and successfully working project. <br>  The text will be a lot of references to the gameplay and appearance of our game <a href="http://starghosts.com/index.php%3Ftrsrc%3D108%26trclcl%3D1%26tringame%3D1"><b>"Star Ghosts</b></a> . <a href="http://starghosts.com/index.php%3Ftrsrc%3D108%26trclcl%3D1%26tringame%3D1"><b>"</b></a>  I will try to present the material so that you do not need to delve into (and play) our product, but to better understand the material it is advisable to spend a couple of minutes and see how it all looks. <br>  Ready?  Then go! <a name="habracut"></a><br><br><h3>  <b>Labor costs</b> </h3><br>  We begin, perhaps, with the most interesting - with the cost of development.  The diagram (see Figure 1) shows the costs as a percentage of the total project budget.  The calculation did not take into account the cost of the office, depreciation of equipment and taxes. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/323/fce/d13/323fced132a649059886b3081acd0e0a.png" alt="image"><br><br>  As you can see, the creation of the client cost the most.  And this is not surprising, given that the game - in real time and using 3D.  In second place is the server, and this is also expected.  What is unexpected is the high management costs and low costs for 2D and 3D graphics.  "Maybe just plain nondescript?" - You say.  Just no: the graphics players like it.  The secret is in the active use of outsourcing to create graphics.  We managed to significantly reduce the cost of production graphics, but at the same time, of course, increased management costs.  Due to this, the total budget of the project was reduced by almost 10%.  But the high cost of game design is our mistake.  Initially, we did not correctly estimate the strength and cost of development, so we threatened that we were unable to do so.  As a result, we had to redo the plot 3 times, change the combat system several times, rework the interface circuitry and so on.  With a more sober initial assessment, I think it would be possible to reduce the cost of game design by a factor of two (or 5% of the total project budget). <br><br>  At outsourcing, we gave concept art and the creation of 3D-models, and the first units of equipment in the line (for example, the turret of the 1st and 20th level) were created in the office.  But the rest (the turrets of the 40th, 60th, and 80th) - both the concepts and the 3D modeling were outsourced.  Why is that?  At the office, first of all, the concept is searched and displayed in 3D.  And, like any research work, it required highly qualified (and, therefore, expensive) specialists.  And when the form is found, production can be safely given to outsourcing. <br>  The creation of videos, voice acting, musical accompaniment, sound creation and site layout were also completely outsourced.  This type of content didn‚Äôt need much for our game, so there wasn‚Äôt any point in taking people to the state.  And our attempts to outsource a part of the program code (in the form of finite tasks) were not successful, therefore the whole program part was completely written by our forces. <br><br>  Another value in the chart may seem strange - only 1% of the cost of testing.  The main contribution to the testing was made by the players themselves at stages from alpha to open beta test, and we paid them in the apsidium (premium game currency).  Therefore, it was possible to significantly reduce costs in real money. <br><br><h3>  <b>Line-up</b> </h3><br>  In the office, five people worked on the project on a permanent basis.  About 2 months before the alpha, we took two more testers to the office part-time, but they worked for us for a short time ‚Äî about three months each (or 1.5 man-months each).  Starting from the closed beta, we were able to completely pass the testing on to remote testers: some for real money, some for gaming. <br><br>  The table (see Table 1) shows the composition of the team, their roles and total labor costs.  Each row of the table is one person who could combine several functions at the same time.  Labor costs are indicated from the beginning of the work (preparation of the first documents and the creation of a demo) until the release of the product. <br><br>  <b>Table 1.</b> <table><tbody><tr><td>  Role </td><td>  Costs man-months </td></tr><tr><td>  Director, Manager, Architect, Server Programmer, Client and Admin Panel </td><td>  26 </td></tr><tr><td>  Client programmer </td><td>  12 </td></tr><tr><td>  Art director, concept artist, 2D artist </td><td>  sixteen </td></tr><tr><td>  3D modeler, text level </td><td>  sixteen </td></tr><tr><td>  Game designer </td><td>  sixteen </td></tr><tr><td>  Tester-1 (part-time) </td><td>  1.5 </td></tr><tr><td>  Tester-2 (part-time) </td><td>  1.5 </td></tr></tbody></table><br>  <b>findings</b> <br><ol><li>  The most realistic estimate of your strength and budget of the project.  Otherwise, you will spend extra money and eventually create a less successful product than they could. </li><li>  Make the most of outsourcing to produce content.  For employees in the office, leave only interesting research work, as well as critical in time or quality. </li><li>  Strive to minimize the size of the team, but take only talented and highly qualified specialists. </li></ol><br><br><h3>  <b>System diagram and development plan</b> </h3><br>  Formally, <a href="http://starghosts.com/index.php%3Ftrsrc%3D108%26trclcl%3D1%26tringame%3D1"><b>"Star Ghosts"</b></a> - browser game.  But the web part is running Adobe Flash and uses a socket connection.  Therefore, in fact, this is a client-server game, only the client download is transparent to the user.  What are the components of the game?  It would seem that everything should be simple - from the client and the server.  But in fact (see Fig. 2) everything is somewhat more complicated. <br><br><img src="https://habrastorage.org/files/d53/ca0/b46/d53ca0b46d704ecbae82a1d901f13f0c.png" alt="image"><br><br>  We followed the following order of development: <br><br><ol><li>  Main customer </li><li>  "Tube" for 3Dshnikov. </li><li>  Main server </li><li>  DB </li><li>  Admin (partially: creation of items, locations, bots) </li><li>  Auto Scripts </li><li>  Chat server </li><li>  Admin (everything else) </li><li>  Drivers for the payment system </li><li>  Drivers for traffic providers </li><li>  Web site </li><li>  Reg.  server and reg.  customer </li><li>  Drivers of social networks (authorization). </li></ol><br><br>  At the early stages of development, this procedure allowed us to obtain an operating system and test certain concepts on it. <br><br>  Below I will give a brief description of each of the components, for a general understanding of the system, after which we will focus on each of them in detail. <br><br>  <b>Stage 1.</b> First of all, a prototype game was developed without any server, but which included almost all technologies intended for use in the client, namely, Adobe Flash, Adobe Away3D, Adobe Starling.  We had a space in which the user flew a lone ship.  On this prototype we tested the basic system for calculating the curve of the ship's movement, the movement of space (parallax), checked the possibility of drawing models on the texture.  In general, we tested all the bottlenecks that we saw at the beginning of development and understood in a nutshell how things look like.  This led to the conclusion about the possibility of technical implementation of the conceived, as well as gave a demo with which it was possible to go to investors. <br><br>  <b>Stage 2.</b> After the approval of the technical specifications, we have developed technical requirements for 3D models: at this stage we already had an idea of ‚Äã‚Äãthe appearance of the game, the platform and the engine.  In addition, we created a ‚Äútest tube‚Äù for 3D-shakers - a separate tool into which you could upload a 3D model and see how it will look after the render in Away3D.  The fact is that after exporting directly to the engine, the model looks a bit different from the modeling tool.  Therefore, it was extremely important for our art department, and especially the art director, to see how everything would look like in order to ‚Äúpull up the textures,‚Äù as he said.  I will immediately make a reservation: during the work we switched to a new version of Away3D, in which the shaders were different, and this led to a change in the visual display of the models.  "Tighten the texture" had to again.  From here there are two very important conclusions: first, demand that the texture makers have an order in the texture files, layouts all over the layers with human names, so that in six months another person can open the file and find the desired layer, and, second, all the ‚Äúpull-ups‚Äù Schedules do not immediately on its readiness, but closer to the end of the project. <br><br>  <b>Step 3.</b> Then we started creating the server and the network part in the client.  C ++ was chosen as the programming language, since  we already had some groundwork and our own libraries in this language.  At this stage, the server worked without a database, it loaded data from an XML file.  The task of this stage is to test selected server technologies, as well as to enable the game designer and the whole team to play "online."  The most important thing is to test here - with which maximum ping the game can still be played.  That is, you need to find out whether it is possible to play on the network at all, or if everything is so twitching that it is impossible to play.  At this stage, the ships could not even shoot, we just flew one after another and tested different synchronization algorithms. <br><br>  <b>Stage 4.</b> Then for some time there was an iterative development of the client and server.  The first thing that appeared is the XML configuration of the equipment, so that the game designer can test the parameters of guns and ships.  Also at this stage there were many experiments, the creation of various types of weapons and the search for a mechanism of battle. <br><br>  <b>Stage 5.</b> When the game mechanics more or less settled, it was possible to connect the database to the server.  MySQL was chosen as the DBMS.  The connection meant, first of all, the transfer of data loading equipment from XML files to the database, as well as loading and saving the state of users.  Naturally, it was necessary to create an admin panel that would allow the game designer to create / edit objects and locations.  The admin panel was written in PHP.  When there was no need to edit XML files, the game designer was very happy, and the process of filling the game with objects and locations began to move much faster. <br><br>  <b>Stage 6.</b> As the project became more complex, we were faced with the fact that the creation by hands of each new package took a lot of time and was fraught with errors.  Therefore, again, a script was written on PHP that receives the XML file and generates source code files for the client and server (and, later, for the chat server).  A similar problem arose in a game designer: as the range of items grew, it became extremely difficult to control and modify them.  Therefore, a number of scripts were written for it, which facilitated the generation of the entire line of objects at once. <br><br>  <b>Step 7.</b> Initially, we were going to use an IRC chat server.  It seemed that everything was simple there and the question of the chat was postponed.  But when it came the turn to create a chat, it turned out that integrating the IRC server with our system is not so easy.  After all, we need not just authorization, but also a system of moderation, as well as the display of specific data in the chat - level, clan, etc.  We appreciated that it is easier to write your chat server than to modify the IRC server.  In fact, on the client, we spent less time integrating with our server than with IRC, so this solution was right. <br><br>  <b>Stage 8.</b> We were approaching a closed beta test (CBT).  It became obvious that statistics would be required.  Improvements have affected the server and database, plus the display in the admin.  There was a lot of work, but mostly routine, except for the design of the database. <br><br>  <b>Step 9.</b> After the PTA, we fixed bugs and performed some modifications, after which we began to prepare for the open beta test (MBT).  Of course, it was necessary to realize the possibility of receiving payments.  Such improvements have affected the client, server, database, and also had to create a special script.  Here, again, no particular magic - all on PHP. <br><br>  <b>Stage 10.</b> It's time to deal with traffic providers.  We work with them in two ways: a fixed cost per month regardless of the number of transitions / registrations or payment for registration (CPA).  To work on the CPA model, it was necessary to integrate with the API of these traffic providers.  Improvements have affected the client, server, database, website and admin panel (filters in the statistics). <br><br>  <b>Stage 11.</b> Immediately before the OBT, we created a game site (during the PTA, the players moved to the Flash page, and the registration and login were implemented in a flash).  Most of the time it took the integration of the game with the base of the forum to provide a pass-through login forum / game. <br><br>  <b>Step 12.</b> After OBT and load testing, we realized that pouring traffic to the main game server is a bad idea.  The fact that the number of traffic is very dependent on the time of day.  And at peak times, up to one hundred requests per second could arrive.  The players we threw straight into the game, for each new player a separate instance was created.  This very heavily loaded the game server and caused lags on it.  Therefore, a special registration server was created (in fact, another instance of the main server, but launched with a special key, so it loads only the registration locations) and a separate client in which the player plays only before registration (after that, he redirects to the main server).  In addition, we reduced the amount of data loaded in the registration client, because we knew exactly what was needed for the player.  This reduced the client download time and solved the problem with lags on the main server, and also made the system scalable - if necessary, we can deploy at least one hundred separate registration servers. <br><br>  <b>Stage 13.</b> Immediately before the release, integration with social networks was added, namely the possibility of authorization through social networks.  This increased conversion conversions in registrations by about 10%. <br><br><h3>  <b>Conclusion</b> </h3><br>  In the next article of the ‚ÄúMMO RPG Development - Practical Guide‚Äù cycle we will take a detailed look at the server part, its components, touch on working with the database and much more. </div><p>Source: <a href="https://habr.com/ru/post/254799/">https://habr.com/ru/post/254799/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../254789/index.html">Translation of hours in Russia, again ... and php5-intl</a></li>
<li><a href="../254791/index.html">Aspect-oriented programming. The basics</a></li>
<li><a href="../254793/index.html">Two worlds of virtual machines</a></li>
<li><a href="../254795/index.html">Worst API ever created</a></li>
<li><a href="../254797/index.html">The taste and color or coloring for Android</a></li>
<li><a href="../254801/index.html">Android Volley custom Loader</a></li>
<li><a href="../254803/index.html">About interfaces</a></li>
<li><a href="../254805/index.html">Import data from YouTube and Vimeo to Google.Docs</a></li>
<li><a href="../254811/index.html">Updated Windows VPS from Infobox with triple data replication and Enterprise SSD caching. We test disk performance</a></li>
<li><a href="../254813/index.html">Getting the path to the SD Card on Android</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>