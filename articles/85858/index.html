<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Forms in the Zend Framework</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I am often asked what my favorite component is in the Zend Framework, and I always answer: ‚ÄúForms‚Äù (forms). 
 In the paradigm, model-representation-co...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Forms in the Zend Framework</h1><div class="post__text post__text-html js-mediator-article">  I am often asked what my favorite component is in the Zend Framework, and I always answer: ‚ÄúForms‚Äù (forms). <br>  In the paradigm, model-representation-controller forms always play a difficult role.  Of course, the form is just HTML, <br>  but for me it is something more abstract. <br>  In essence, a form is HTML, by means of which the user enters and receives data, but besides this the form also performs <br>  Normalization, validation, data filtering and error messages, if any. <br>  This may require quite a lot of code. <br><br><a name="habracut"></a><br>  If you can automate all these things, then you will only have the configuration. <br>  Each form consists of elements, each element has several attributes that override the functionality <br>  forms. <br>  Let's look at some of these aspects. <br><br><br>  <strong>Form creation</strong> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      A form is an instance of the class Zend_Form.  An instance can be created in many ways. <br>  I prefer to create my own classes by inheriting the Zend_Form class.  And already in my classes I make the changes I need. <br>  Each form consists of several important fields (action, method) and contains at least one element. <br>  Let's see how you can create an item. <br>  Each element can have several type attributes: field type, label, name and description. <br>  Let's describe such an element in ZF. <br>  Please note there are several different ways to create forms.  This is my favorite way. <br><br><br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">$username = <font color="#0000ff">new</font> Zend_Form_Element_Text( <font color="#A31515">'username'</font> , array(&lt;br&gt; <font color="#A31515">'label'</font> =&gt; <font color="#A31515">'Username'</font> ,&lt;br&gt; <font color="#A31515">'description'</font> =&gt; <font color="#A31515">'This is a description'</font> ));</font> &lt;br&gt;&lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br><br><br>  As you can see, in the example I set all these attributes. <br><br>  <i>Note</i>  <i>translator:</i> <i><br></i>  <i>field type - Zend_Form_Element_Text</i> <i><br></i>  <i>label (label) - 'Username'</i> <i><br></i>  <i>name - 'username'</i> <i><br></i>  <i>description (description) - 'This is a description'</i> <i><br></i> <br><br>  In addition to the above, there are several important attributes of the element.  Let's add some more. <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">$ <font color="#0000ff">this</font> -&gt;addElements(array(&lt;br&gt; <font color="#0000ff">new</font> Zend_Form_Element_Text( <font color="#A31515">'username'</font> , array(&lt;br&gt; <font color="#A31515">'label'</font> =&gt; <font color="#A31515">'Username'</font> ,&lt;br&gt; <font color="#A31515">'required'</font> =&gt; <font color="#0000ff">true</font> )),&lt;br&gt;    ));</font> &lt;br&gt;&lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br><br>  <strong>Filters and validators</strong> <br><br>  Building up chains of filters and validators is one of the very useful features of the form component. <br>  A filter is one that automatically converts input data. <br>  A validator is a mechanism for automatic data verification during form processing. <br>  These mechanisms greatly simplify the controller code and model, since  logic moves to a more organized <br>  structure. <br><br><br>  Consider an example.  On the registration form is the input element of the user name.  It is necessary to implement the check <br>  uniqueness of the name, the name must consist only of allowed characters and its length must be within the allowable range. <br><br><br>  If you have an element on a form in which the user can enter arbitrary text, for example about himself, then you will surely <br>  want to apply filters to make sure that ‚Äúclean‚Äù data is entered. <br>  It will be useful to add filters like StripTags to remove all HTML tags, StringTrim, to remove all extra spaces. <br>  If you wish, you can add filters to handle BB codes. <br>  To do this, you can create your own filter or use a Callback filter, which you can use in other forms. <br><br><br>  The idea is to check the data as carefully as possible. You must be sure that the data is 100% consistent with your <br>  application.  If you have a VARCHAR type field (255), then limit the input field to 255 characters, and you will not have to use the function to cut lines. <br>  Take great care. <br><br><br>  Filters help to preserve the integrity of data, can also be used in the process of cleaning data entered into the form. <br>  If you allow the user to enter something, be sure to remove all HTML tags.  I think you understand the idea ... <br><br><br>  I present a more complete example of the registration form: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">$ <font color="#0000ff">this</font> -&gt;addElements(array(&lt;br&gt; <font color="#0000ff">new</font> Zend_Form_Element_Text( <font color="#A31515">'username'</font> , array(&lt;br&gt; <font color="#A31515">'label'</font> =&gt; <font color="#A31515">'Username'</font> ,&lt;br&gt; <font color="#A31515">'required'</font> =&gt; <font color="#0000ff">true</font> ,&lt;br&gt; <font color="#A31515">'validators'</font> =&gt; array(&lt;br&gt;      array( <font color="#A31515">'StringLength'</font> , <font color="#0000ff">false</font> , array(4, 16)),&lt;br&gt;      array( <font color="#A31515">'Alnum'</font> ),&lt;br&gt;      array( <font color="#A31515">'Db_NoRecordExists'</font> , <font color="#0000ff">false</font> , array( <font color="#A31515">'users'</font> , <font color="#A31515">'username'</font> ))&lt;br&gt;    )&lt;br&gt;  )),&lt;br&gt; <font color="#0000ff">new</font> Zend_Form_Element_Text( <font color="#A31515">'email'</font> , array(&lt;br&gt; <font color="#A31515">'label'</font> =&gt; <font color="#A31515">'Email Address'</font> ,&lt;br&gt; <font color="#A31515">'required'</font> =&gt; <font color="#0000ff">true</font> ,&lt;br&gt; <font color="#A31515">'validators'</font> =&gt; array(&lt;br&gt;      array( <font color="#A31515">'EmailAddress'</font> ),&lt;br&gt;      array( <font color="#A31515">'Db_NoRecordExists'</font> , <font color="#0000ff">false</font> , array( <font color="#A31515">'users'</font> , <font color="#A31515">'email'</font> ))&lt;br&gt;    )&lt;br&gt;  )),&lt;br&gt; <font color="#0000ff">new</font> Zend_Form_Element_Password( <font color="#A31515">'password'</font> , array(&lt;br&gt; <font color="#A31515">'label'</font> =&gt; <font color="#A31515">'Password'</font> ,&lt;br&gt; <font color="#A31515">'required'</font> =&gt; <font color="#0000ff">true</font> &lt;br&gt;  ))&lt;br&gt;));</font> &lt;br&gt;&lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br><br>  <strong>Slim controller, fat model</strong> <br><br>  For the form described above, you can design a very simple controller. <br>  I believe that the controller should manage the application logic, but should not work with the data. <br>  Here is an example of the action for the registration form. <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">if</font> ($ <font color="#0000ff">this</font> -&gt;_request-&gt;isPost()) &lt;br&gt;{&lt;br&gt; <font color="#0000ff">if</font> ($form-&gt;isValid($ <font color="#0000ff">this</font> -&gt;_request-&gt;getPost())) &lt;br&gt;  {&lt;br&gt;    $user-&gt;register($form-&gt;getValues());&lt;br&gt;    $ <font color="#0000ff">this</font> -&gt;redirector-&gt;goToUrl( <font color="#A31515">'/welcome'</font> );&lt;br&gt;  }&lt;br&gt;}&lt;br&gt;$ <font color="#0000ff">this</font> -&gt;view-&gt;form = $form;</font> &lt;br&gt;&lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br><br>  After the user completes the data entry, validators validate the information entered. <br>  If the check succeeds, the data array is transferred to the model.  By the time data is transferred to the model, all <br>  filters and validators must complete their work.  Now we already know how to format the data and how to increase their security. <br>  In the controller, you can redirect the user to another page or perform other actions in accordance with the logic of your application. <br><br><br>  The form is displayed to the user through the view.  In general, a view simply loads the form and displays it to the user. <br>  If the user input contains an error, the view will not only display the form and display error messages, but <br>  and will show the entered data. <br><br><br>  <strong>View Scripts and Decorators</strong> <br><br>  Below is the entire presentation code with which you can display a form.  If additional form adjustment is required, it can be <br>  run by CSS or decorators. <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">&lt;?= $ <font color="#0000ff">this</font> -&gt;form ?&gt;</font> &lt;br&gt;&lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  By default, Zend_Form generates quite decent HTML code.  I do not have any difficulties with the imposition of additional <br>  CSS styles.  Using CSS fits well with the concept of separating different functional parts of an application. <br>  However, it is often necessary to change not only the display style, but also the arrangement of elements.  Zend uses for this <br>  decorators.  Decorators are somewhat difficult to understand, so I will leave them for the next post. <br><br><br>  <strong>Interaction with models</strong> <br><br>  In accordance with the code of our controller, the result of the $ form-&gt; getValues ‚Äã‚Äã() function is passed to the model. <br>  The result of this function is a previously checked and filtered data array. <br>  Here is an example: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#008000">// ...</font> &lt;br&gt; <font color="#0000ff">public</font> function register(array $user) {&lt;br&gt;&lt;br&gt;}&lt;br&gt;// ...</font> &lt;br&gt;&lt;br&gt; <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  I think that's great.  We work with a very simple interface, and we do not need to manually specify each value, <br>  which we want to convey.  Of course, this is an economic matter, but I do not understand people who transfer 5-10 values ‚Äã‚Äãto a model. <br>  Such controllers will certainly be large. <br>  Of course, the code does not depend on the form, since it works with an array of data.  This makes <em>calling the</em> model very simple. <br>  The model is the place where the complex code should begin. <br>  With this approach, we can use our database adapter object or several other libraries. <br><br>  <strong>Conclusion</strong> <br><br>  The form component is one of the largest, and perhaps the largest, component in Zend.  Do not be afraid to ask questions <br>  in various forums, or ask questions in the form below, I will direct you to a good resource.  As I said, for me this is the most <br>  useful component in Zend.  I highly recommend taking the time to study it. <br><br><br>  You may be interested in the <a href="http://www.siradrian.com/blog/2010/02/caching-zend-framework-forms/">form caching</a> material. <br><br><br>  <i>Petrelevich Sergey</i> <br>  <a href="">petrelevich@yandex.ru</a> <br>  <a href="http://www.smartyit.ru/">www.SmartyIT.ru</a> </div><p>Source: <a href="https://habr.com/ru/post/85858/">https://habr.com/ru/post/85858/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../85849/index.html">Nvidia ION in the face of Acer Aspire Revolution</a></li>
<li><a href="../85851/index.html">Deploying the site to Django using FastCGI</a></li>
<li><a href="../85852/index.html">Singleton and Late static binding</a></li>
<li><a href="../85853/index.html">√úr√ºn - another look at online shopping</a></li>
<li><a href="../85856/index.html">Databases in MIDP Part 1: The Concept of Record Management System</a></li>
<li><a href="../85859/index.html">Transcend T.Sonic 330 (8Gb)</a></li>
<li><a href="../85860/index.html">Mysterious file copying bug during Opera 10.10</a></li>
<li><a href="../85861/index.html">Patch to the Drupal-module Date - show months in the genitive case</a></li>
<li><a href="../85865/index.html">Bookmark design for books. Progress and does not think to stop</a></li>
<li><a href="../85867/index.html">Counting Total Relevance</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>