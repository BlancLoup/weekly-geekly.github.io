<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Disk performance in VMWare: Mistress note</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I want to share with readers the results of many hours of torment with the performance of VMWare. First the result, then the lyrics: 

 OS: Windows 20...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Disk performance in VMWare: Mistress note</h1><div class="post__text post__text-html js-mediator-article">  I want to share with readers the results of many hours of torment with the performance of VMWare.  First the result, then the lyrics: <br><br>  <b>OS:</b> Windows 2003 Server <br>  VMWare 6.5 (probably other versions) with large volumes of disk operations (server applications) starts to slow down (tens of times) after active use for several hours.  And this is not fragmentation. <br><br>  <b>Decision:</b> <br>  In the .vmx virtual machine description file, we add: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote>  MemTrimRate = "0" <br>  sched.mem.pshare.enable = "FALSE" <br>  mainMem.useNamedFile = "FALSE" <br></blockquote><br><br>  MemTrimRate can be configured via GUI, Options-&gt; Advanced-&gt; Disable memory page trimming <br><br>  After that, everything starts working in accordance with the expectations (fly :-)). <br><br><a name="habracut"></a><br><br>  <b>A few words about the process:</b> <br>  It was assumed that on the server itself - NAT, DNS, DHCP <br>  In the first virtual server there is a WSUS server: an Internet account through which only updates from Microsoft can be uploaded by agreement with the provider. <br>  In the 2nd and 3rd - a proxy server to other networks (due to different networks, it‚Äôs not possible to place everything in 1 system). <br><br>  A few hours after the start of the initial boot of WSUS, there was a noticeable sharp drop in performance, and the virtual machine restart took up to 10-15 minutes. <br><br>  I didn‚Äôt think that I thought in Head-less (without a video card) VMWare mode starts to slow down, or I think it starts to slow down through RDC ... It turned out that VMWare by default cleverly works with memory - dynamically allocates memory to virtual machines, and separately deals with swap.  Everything adds up to such problems. <br><br>  Ps.  Yes, if you have a Windows 2003 server and above, error checking is disabled in the BIOS, the server will load and work normally without a video card, you do not need to configure anything further.  Access to the GUI via RDC remains.  But installing an OS without a video card is not so trivial :-) </div><p>Source: <a href="https://habr.com/ru/post/57637/">https://habr.com/ru/post/57637/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../57628/index.html">Becoming an engineer - part five</a></li>
<li><a href="../57629/index.html">Once again on the phenomenon of YouTube (Susan Boyle - more than 30 million views)</a></li>
<li><a href="../57630/index.html">ok2009.ru - rating: 666</a></li>
<li><a href="../57632/index.html">Cry of the soul about copying and gratuity</a></li>
<li><a href="../57635/index.html">Google invented a new kind of captcha (captcha)</a></li>
<li><a href="../57640/index.html">PHP: Step to Quality Code and ZendStudio (Code Assist)</a></li>
<li><a href="../57642/index.html">What is quality in web design: examples and recommendations. Part 3</a></li>
<li><a href="../57646/index.html">Let's sit down and think</a></li>
<li><a href="../57647/index.html">Photo report from the Imagine Cup 2009. Part Two</a></li>
<li><a href="../57648/index.html">Meet PowerShell</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>