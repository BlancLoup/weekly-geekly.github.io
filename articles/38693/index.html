<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>CSS Sprites 2: Javascript Time</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The feeling of dynamics was often what distinguished rich Flash sites from sites based on html standards. Until recently, flash interfaces always seem...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>CSS Sprites 2: Javascript Time</h1><div class="post__text post__text-html js-mediator-article">  The feeling of dynamics was often what distinguished rich Flash sites from sites based on html standards.  Until recently, flash interfaces always seemed more alive, they interacted with the user dynamically, and this is the functionality that other sites could not just take and copy. <br><br>  Of course, later the state of affairs changed - effects for dynamic interfaces appeared, supported by such JS libraries as <a href="http://prototypejs.org/">Prototype</a> , <a href="http://script.aculo.us/">Scriptaculous</a> , <a href="http://mootools.net/">Moo</a> , <a href="http://developer.yahoo.com/yui/">YUI</a> , <a href="http://mochikit.com/">MochiKit</a> (and this list can be continued).  Now is the time (in 4 years) to remember the <a href="http://alistapart.com/articles/sprites/"><b>CSS Sprites</b></a> technique and see if we can add ‚Äúa little dynamics‚Äù to it. <br><a name="habracut"></a><br><h4>  <b>Meet jQuery</b> </h4><br>  Here we are faced with the first condition: we need to use <a href="http://jquery.com/"><b>jQuery</b></a> for everything to work out.  jQuery is a well-designed JS-library that provides us with the same necessary functionality as other libraries, but has, in addition, an additional advantage, which allows us to simplify the expansion of CSS Sprites: we can use the same constructions for selecting page elements used in CSS. <br><br>  It should be noted that this library requires downloading a few extra kilobytes of scripts.  Of course, external JS libraries are cached and loaded only once - when a site visitor opens the page for the first time.  The most compact version of jQuery weighs 15 kb.  This is an inevitable increase in page size, and it can be a problem.  If you already use jQuery for other purposes, then everything is fine.  But if you are interested in adding only this technique, then count the size of the loaded page and decide for yourself whether the effect is worth it.  (Since <a href="http://code.google.com/p/jqueryjs/">jQuery is hosted by Google</a> , you can link to the version of the library used, as we have in the examples, and hope that most browsers on your site have already cached the library's URL) (Per: <i>In my opinion, the author there is a little exaggerating the problem: jQuery is one of the smallest JS-libraries and 15 extra kilobytes for the dynamics when first loaded - it is not a bad thing</i> ) 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      What about other JS libraries?  Absolutely nothing prevents you from using them.  View this article as an open invitation to port this technique to the library that you use. <br><br><h4>  <b>HTML and CSS</b> </h4><br>  The first thing we want to do is to create the basis of the navigation menu for site visitors with disabled JavaScript. <br><br>  We already have a CSS-based method for the rollover effect (i.e. hover effect), so let's start creating our site navigation using CSS Sprites.  And, since we are lazy, in the future we will not create everything a second time, but simply take these developments, just adding jQuery on top. <br><br><img src="http://cacg.uz/images/i/blue-nav.gif"><br>  <sup>CSS Sprites Image</sup> <br><br>  If you have any questions about the CSS Sprites technique, you can take a look at the <a href="http://alistapart.com/articles/sprites/">original article</a> , but there are a few points that are worth explaining below.  Let's start with HTML.  Pay special attention to this structure, we will often refer to it in the future: <br><br>  &lt;ul class = 'nav current-about'&gt; <br>  &lt;li class = 'home'&gt; &lt;a href='#'&gt; Home &lt;/a&gt; &lt;/ li&gt; <br>  &lt;li class = 'about'&gt; &lt;a href='#'&gt; About &lt;/a&gt; &lt;/ li&gt; <br>  &lt;li class = 'services'&gt; &lt;a href='#'&gt; Services &lt;/a&gt; &lt;/ li&gt; <br>  &lt;li class = 'contact'&gt; &lt;a href='#'&gt; Contact &lt;/a&gt; &lt;/ li&gt; <br>  &lt;/ ul&gt; <br><br>  Each class serves a specific purpose: the <code>nav</code> tag <code>ul</code> allows you to point to this element using CSS (and later Javascript), while the second <code>current-about</code> class is used to highlight the page being viewed or the section of the site.  Each <code>li</code> element has its own unique class, which is also used to point to this tag in CSS or JS. <br><br>  So, our navigation markup is a simple and accessible HTML list, and we have enough classes to make Sprites work: <br><br> <code>.nav { <br> width: 401px; <br> height: 48px; <br> background: url(../i/blue-nav.gif) no-repeat; <br> position: absolute; <br> top: 100px; <br> left: 100px; <br> }</code> <br> <br>  We set the <code>position</code> property to <code>absolute</code> to change the reference point for positional shifts of <code>li</code> tags.  We could also use the value of <code>relative</code> to achieve the same effect and, at the same time, leaving the <code>.nav</code> element in the normal flow.  There are some reasons to use the value <code>relative</code> , but in this article we will use the value <code>absolute</code> .  More information on this subject can be found in the <a href="http://www.stopdesign.com/articles/absolute/">article by Douglas Bowman</a> . <br><br>  The basis of the Sprites technique itself in our case is the use of background-images for each navigation element and their absolute positioning within the parent <code>ul</code> tag: <br><br> <code>.nav li a:link, .nav li a:visited { <br> position: absolute; <br> top: 0; <br> height: 48px; <br> text-indent: -9000px; <br> overflow: hidden; <br> } <br> <br> .nav .home a:link, .nav .home a:visited { <br> left: 23px; <br> width: 76px; <br> } <br> <br> .nav .home a:hover, .nav .home a:focus { <br> background: url(../i/blue-nav.gif) no-repeat -23px -49px; <br> } <br> <br> .nav .home a:active { <br> background: url(../i/blue-nav.gif) no-repeat -23px -98px; <br> }</code> <br> <br>  We are going to move a little further than in the original article, and define the <code>focus</code> and <code>active</code> states.  The first state is a small addition to the image selector, when the link is subject to a <code>hover</code> or <code>focus</code> state, the <code>active</code> state adds a new property ‚Äî when you click on an element.  They are optional, but it is a good idea to define styles for both states.  The ‚Äú <code>overflow: hidden</code> ‚Äù rule is also new in our styles; it serves to prevent the appearance of a visual bug in some browsers. <br><br>  <a href="http://alistapart.com/d/sprites2/examples/example1-css.html">Example 1</a> : Customizing CSS Sprites for a menu. <br><br>  So, we‚Äôve come to the starting point - we now have a working navigation menu based on the CSS Sprites technique, with the ability to select the active element.  Let's develop our idea further. <br><br><h4>  <b>Initial jQuery setup</b> </h4><br>  Note that all the code written below will be located inside this jQuery function, it guarantees that the code will run only once and only after the entire page has been completely loaded.  All the pieces of code below assume that they run inside this function, so if you encounter errors, do not forget to check the location of the code: <br><br> <code>$(document).ready(function(){ <br> //    <br> });</code> <br> <br>  Since the sprite menu is our ‚Äúdefault menu‚Äù for disabled Javascript (if we did everything right), we‚Äôd better get rid of all the background images in the styles for the hover elements, so we will create new background images using the script: <br><br> <code>$(".nav").children("li").each(function() { <br> $(this).children("a").css({backgroundImage:"none"}); <br> });</code> <br> <br>  The first line requests the element (s) of the class <code>nav</code> and then applies the function to each child element <code>li</code> that they contain.  This function is shown in the second line of the code; it interrogates the <code>this</code> object ( <code>this</code> means the <code>li</code> tags found) for the presence of child tags a inside it.  If there are such, then the CSS <code>background-image</code> property of these elements is set to <code>none</code> . <br><br>  <a href="http://alistapart.com/d/sprites2/examples/example2-disabledcss.html">Example 2</a> : Disabling styles when hovering using jQuery. <br><br>  It works ... but we also lost the selection of the selected menu item in the process.  Therefore, we need to check the name of our <code>current-(  )</code> class for the parent <code>ul</code> tag to save the background image for the selected item.  The previous code needs to be expanded a little: <br><br> <code>$(".nav").children("li").each(function() { <br> var current = "nav current-" + ($(this).attr("class")); <br> var parentClass = $(".nav").attr("class"); <br> if (parentClass != current) { <br> $(this).children("a").css({backgroundImage:"none"}); <br> } <br> });</code> <br> <br>  (Per.: <i>The next paragraph explains in detail what the above code does. I found this redundant - this is obvious even to those who are not familiar with jQuery. :)</i> ) <br><br><h4>  <b>Event binding</b> </h4><br>  Now we need to bind the function to each of the <code>li</code> elements for each interaction event to which the styles are applied.  Let's create a function for this and call it <code>attachNavEvents</code> : <br><br> <code>function attachNavEvents(parent, myClass) { <br> $(parent + " ." + myClass).mouseover(function() { <br> // -  <br> }).mouseout(function() { <br> // -  <br> }).mousedown(function() { <br> // -  <br> }).mouseup(function() { <br> // -  <br> }); <br> }</code> <br> <br>  This function takes 2 arguments.  The first argument is a string containing the class name of the parent element.  The second argument is a string containing the name of the class name of the <code>li</code> tag to which events are bound.  We combined both arguments in the next line of the function to create a selector similar to that used in CSS, such as <code>.nav .home</code> . <br><br>  Since jQuery allows you to bind several functions at once to a single object, we were able to create all the functions for handling events at once (in one chain).  The function chain is a unique jQuery concept.  Do not bother about her - not so important as it works.  Therefore, if you are in a bit of confusion, just take on faith what we are doing now. <br><br>  Now we will tie these functions to each item in our menu.  For now, we will not do this in the best way (but later we will optimize it), and simply run the function we have created for each <code>li</code> tag.  As arguments, we pass the parent element for each menu item, as well as our own class name for the <code>li</code> tag: <br><br> <code>attachNavEvents(".nav", "home"); <br> attachNavEvents(".nav", "about"); <br> attachNavEvents(".nav", "services"); <br> attachNavEvents(".nav", "contact");</code> <br> <br>  So far we have done almost nothing, but we have everything ahead. <br><br>  <a href="http://alistapart.com/d/sprites2/examples/example3-scriptsetup.html">Example 3</a> : Initial script configuration for events. <br><br><h4>  <b>Theory</b> </h4><br>  I'm going to explain what we will do next.  This is important to understand, because you will need to create styles for the elements with which we will work. <br><br>  For each of the links, we will create a new <code>div</code> tag inside the <code>li</code> tag.  We will use this new tag for jQuery effects.  The background image for the <code>div</code> tag will be the same as what we used earlier for the a tag (and it also depends on the parent <code>li</code> tag).  We are absolutely positioning the <code>div</code> tag (it will be positioned relative to the <code>.nav</code> element).  Thus, we almost completely copied the existing a tag from our initial CSS Sprites construct.  Through trial and error, I found out that creating a new <code>div</code> tag makes it less difficult to create dynamic effects on jQuery than if we manage only existing tags, so this is a necessary step. <br><br>  Styles for the <code>div</code> tag must be pre-written in CSS.  We will create a new unique class for a <code>div</code> (for example, <code>.nav-home</code> ), depending on the name of the parent class <code>li</code> , and add styles to it: <br><br> <code>.nav-home { <br> position: absolute; <br> top: 0; <br> left: 23px; <br> width: 76px; <br> height: 48px; <br> background: url(../i/blue-nav.gif) no-repeat -23px -49px; <br> }</code> <br> <br><h4>  <b>Practice</b> </h4><br>  It's time to add effects.  When the mouseover event fires, we create a <code>div</code> element with the appropriate class name.  We need this tag to be invisible before it appears, so we use the jQuery css function to set its <code>display: none</code> property.  Finally, we use the <code>fadeIn</code> jQuery function to <code>fadeIn</code> in a <code>div</code> and pass it the value 200 as an argument to determine the duration of the animation in milliseconds: <br><br> <code>function attachNavEvents(parent, myClass) { <br> $(parent + " ." + myClass).mouseover(function() { <br> $(this).before('&lt;div class="nav-' + myClass + '"&gt;&lt;/div&gt;'); <br> $("div.nav-" + myClass).css({display:"none"}).fadeIn(200); <br> }); <br> }</code> <br> <br>  Then we do the same, just the opposite, for a mouseout event ‚Äî our <code>div</code> should fade out.  After it disappears, we remove the <code>div</code> from the DOM.  Here‚Äôs how our <code>attachNavEvents</code> function should work: <br><br> <code>function attachNavEvents(parent, myClass) { <br> $(parent + " ." + myClass).mouseover(function() { <br> $(this).before('&lt;div class="nav-' + myClass + '"&gt;&lt;/div&gt;'); <br> $("div.nav-" + myClass).css({display:"none"}).fadeIn(200); <br> }).mouseout(function() { <br> // -     <br> $("div.nav-" + myClass).fadeOut(200, function() { <br> $(this).remove(); <br> }); <br> }); <br> }</code> <br> <br>  And this is enough for hover effects. <br><br>  <a href="http://alistapart.com/d/sprites2/examples/example4-scriptedhovers.html">Example 4</a> : Adding effects on hover. <br><br>  We should think about handling the mousedown and mouseup events, since we have specified the <code>active</code> state for the links in the styles.  Create another class so that we can only refer to it in CSS and change the name of the class when the mousedown event occurs.  When a mouseup event occurs, the former class name for the <code>div</code> tag will be returned.  Here is how the <code>attachNavEvents</code> function will look like after these changes: <br><br> <code>function attachNavEvents(parent, myClass) { <br> $(parent + " ." + myClass).mouseover(function() { <br> $(this).before('&lt;div class="nav-' + myClass + '"&gt;&lt;/div&gt;'); <br> $("div.nav-" + myClass).css({display:"none"}).fadeIn(200); <br> }).mouseout(function() { <br> $("div.nav-" + myClass).fadeOut(200, function() { <br> $(this).remove(); <br> }); <br> }).mousedown(function() { <br> $("div.nav-" + myClass).attr("class", "nav-" + myClass + "-click"); <br> }).mouseup(function() { <br> $("div.nav-" + myClass + "-click").attr("class", "nav-" + myClass); <br> }); <br> }</code> <br> <br>  We can reuse styles when hovering on a <code>div</code> tag, just by slightly changing the position of the background sprite image to create styles when clicked: <br><br> <code>.nav-home, .nav-home-click { <br> position: absolute; <br> top: 0; <br> left: 23px; <br> width: 76px; <br> height: 48px; <br> background: url(../i/blue-nav.gif) no-repeat -23px -49px; <br> } <br> <br> .nav-home-click { <br> background: url(../i/blue-nav.gif) no-repeat -23px -98px; <br> }</code> <br> <br>  Now we have hover effects, we see the selected navigation item, and the effects on click also work. <br><br>  <a href="http://alistapart.com/d/sprites2/examples/example5-all-together.html">Example 5</a> : Putting it all together. <br><br><h4>  <b>Other reflections</b> </h4><br>  We are not limited to the fade effect.  jQuery has built-in functions ‚ÄúslideUp / slideDown‚Äù, which can also be used (the <a href="http://alistapart.com/articles/sprites2">second example in the article</a> ).  Or we can even show imagination and use our own animation effects based on styles and using the jQuery-function animate (the <a href="http://alistapart.com/articles/sprites2">third example</a> ).  Immediately warn about the function animate - the animation may not be very smooth, as you might have noticed in our example. <br><br>  Cross-browser compatibility is like a kind of small gift for you, jQuery works great in all modern browsers, and everything you see here works in IE6, IE7, FF2, FF3, Safari, Opera, etc.  We even provided many graceful ways to circumvent the limitations of the functional.  So, if Javascript is disabled on the site visitor, he will see the dynamics implemented using CSS Sprites.  (Trans .: <i>It does not work in IE6</i> ) If CSS and JS are disabled, the visitor will see a simple <code>ul</code> list.  We get other advantages of CSS Sprites besides this, since we can use one image for various navigation states and effects. <br><br>  Although it is not necessary, it is still recommended to take into account that the speed of animation more than a few hundred milliseconds may be pleasant at first, and then begin to get on your nerves to visitors of your site after the effect of the site‚Äôs novelty for them disappears.  So prefer faster animation. <br><br>  Another small problem that you may encounter is when the text on the site begins to "blink" during the animation.  This complex phenomenon is associated with the <a href="http://mezzoblue.com/archives/2006/12/12/opacity_bugs/">sub-pixel rendering</a> inherent in modern operating systems.  The best solution to this problem is to set an almost opaque opacity value so that the text is rendered in a special way.  If you add this line to your styles, the ‚Äúblinking of the text‚Äù should stop, only the text will be smoothed out in the usual way, and not with the help of sub-pixels: <br><br> <code>p { <br> opacity 0.9999; <br> }</code> <br> <br><h4>  <b>Feature Pack for Sprites2</b> </h4><br>  There is no need to memorize any code in this article, since we have prepared the <a href="">function</a> used in our final example.  Using the JavaScript code in the HTML file, as an aid, you need to change only one line in the code to apply Sprites2 on your website: <br><br> <code>$(document).ready(function(){ <br> generateSprites(".nav", "current-", true, 150, "slide"); <br> });</code> <br> <br>  The <code>generateSprites</code> function takes 5 arguments: <br>  1. The class name of the parent <code>ul</code> , including the period. <br>  2. The prefix used for selected items (for example, for the selected selected class, use " <code>selected-</code> " as the prefix value). <br>  3. A switch that indicates whether styles are used for the <code>active</code> state.  If you define the state: active and its equivalents in jQuery in your style sheet, set to <code>true</code> .  Otherwise, set it to <code>false</code> . <br>  4. Speed ‚Äã‚Äãof animation, in milliseconds (300 = 0.3 seconds). <br>  5. Type of animation, string variable.  Set the ‚Äúslide‚Äù or ‚Äúfade‚Äù, the latter is the default. <br><br>  <a href="http://alistapart.com/d/sprites2/examples/example6-function.html">Example 6</a> : Just one simple line of code to change thanks to our function. <br><br>  You will still need to position and apply styles to the various elements in your CSS, so feel free to use the examples of our style files in this article as a hint. <br><br><h4>  <b>Notes</b> </h4><br>  At the time of this writing, a <a href="http://www.shopdev.co.uk/blog/animated-menus-using-jquery/">similar technique has</a> spread on the Internet, albeit without additional support for CSS Sprites.  We also found a completely different <a href="http://nettuts.com/html-css-techniques/how-to-create-a-mootools-homepage-inspired-navigation-effect-using-jquery/">animated jQuery menu</a> , which you may find useful. </div><p>Source: <a href="https://habr.com/ru/post/38693/">https://habr.com/ru/post/38693/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../38684/index.html">The reverse side of karma ...</a></li>
<li><a href="../38685/index.html">Popular articles in a lively voice</a></li>
<li><a href="../38686/index.html">Dates of meetings of startups in other cities (according to the results of voting, in addition to Moscow and St. Petersburg)</a></li>
<li><a href="../38689/index.html">ASUS bamboo</a></li>
<li><a href="../38691/index.html">Two-sided touchscreen display</a></li>
<li><a href="../38695/index.html">How often do you backup? Average.</a></li>
<li><a href="../38696/index.html">Why do I need to use the php-framework'i, for example codeigniter</a></li>
<li><a href="../38697/index.html">The first online advertising exchange in Belarus</a></li>
<li><a href="../38699/index.html">Pattern recognition in any data set</a></li>
<li><a href="../38703/index.html">Comics about Google Chrome in Russian: part 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>