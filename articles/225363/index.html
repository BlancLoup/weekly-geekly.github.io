<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Logging messages with Easylogging ++</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The logging system is an indispensable tool for logging application operation. For those who do not want to implement it independently, there are alre...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Logging messages with Easylogging ++</h1><div class="post__text post__text-html js-mediator-article"><img align="left" src="https://habrastorage.org/getpro/habr/post_images/ef4/f0f/c6b/ef4f0fc6bf88bc316a6766fffc6b3f8b.png"><br>  The logging system is an indispensable tool for logging application operation.  For those who do not want to implement it independently, there are already countless libraries in C ++ (Log4cplus, Apache log4cxx, Boost.Log, etc.), but Easylogging ++ is easy to use and compact, does not require third-party libraries or installation.  All its code is contained in a single header file, which simply needs to be included in the application code. <br><br>  This article offers a brief overview of the Easylogging ++ functionality and examples of using this library. <br><a name="habracut"></a><br>  Let's start right away with a short example that should demonstrate how easy it is to start using Easylogging ++: <br><br><pre><code class="hljs vbscript">#include <span class="hljs-string"><span class="hljs-string">"easylogging++.h"</span></span> _INITIALIZE_EASYLOGGINGPP <span class="hljs-built_in"><span class="hljs-built_in">int</span></span> main(<span class="hljs-built_in"><span class="hljs-built_in">int</span></span> argv, char* argc[]) { <span class="hljs-built_in"><span class="hljs-built_in">LOG</span></span>(INFO) &lt;&lt; <span class="hljs-string"><span class="hljs-string">" Habrahabr"</span></span>; return <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre> <br>  The library is connected with one header, no lib is required. <br>  In the above short commentary example, the _INITIALIZE_EASYLOGGINGPP macro is worth calling.  It is required to initialize some static variables and set up a handler for crashes.  The call must be made one and only once, before using the library. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Reference: </h4><br><ul><li>  Library website: <a href="http://easylogging.org/">easylogging.org</a> </li><li>  License: MIT </li><li>  Language: C ++ 11 </li><li>  Depends on: -- </li><li>  Platforms: Windows, Mac OSX, Debian (Ubuntu, Mint), Fedora </li><li>  Compilers: GCC 4.7+, Visual C ++ 11.0+, Intel C ++ 13.0+, MinGW, Cygwin </li></ul><br><h4>  What for: </h4><br>  Bribes simplicity and intuitiveness of the library.  We were unable to find other implementations that fit in a single header file (which is easy to use from project to project) and provide a very complete set of features: <br><br><ul><li>  Cross platform </li><li>  Multithreading </li><li>  Setting the issue format </li><li>  Delivery of custom data types (there is a ready implementation for STL containers) </li><li>  Switching log files (rolling) </li><li>  Conditional and periodic issue </li><li>  Checks and handling program crashes </li><li>  Calculation of the execution time of methods </li></ul><br><h4>  Format setting </h4><br>  Despite the fact that in our opinion the main advantage of the library is its autonomy, compactness and simplicity, sometimes there is still the need to change something in its behavior.  For example, by default the output format looks like this: <br><pre> <code class="bash hljs">11/06/2014 11:23:29,218 INFO [default] Simple info message 11/06/2014 11:23:29,218 ERROR [default] Simple error message 11/06/2014 11:23:29,218 WARN [default] This is just a warning</code> </pre><br>  To begin, Easylogging provides the developer with the opportunity to customize the set of output fields, as well as their order. <br>  The example below demonstrates how you can put the message type at the beginning, then the date in a modified format, then the signature of the method from which the call was made and the message itself: <br><div class="spoiler">  <b class="spoiler_title">Setting fields</b> <div class="spoiler_text"><pre> <code class="hljs perl">el::Loggers::reconfigureAllLoggers(el::ConfigurationType::Format, <span class="hljs-string"><span class="hljs-string">"%level %datetime{%H:%m:%s} (%func): %msg"</span></span>); LOG(INFO) &lt;&lt; <span class="hljs-string"><span class="hljs-string">"  "</span></span>;</code> </pre><br>  The result on the screen will look like this: <br><pre> <code class="bash hljs">INFO 11:33:58 (int main(int, char**)):   </code> </pre><br></div></div><br>  In addition to standard things in the format description, such as message type, date or file name (cpp), you can use your own macros to output additional information to the log.  For example: <br><div class="spoiler">  <b class="spoiler_title">Own fields</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">const <span class="hljs-type"><span class="hljs-type">char</span></span>* getMode(<span class="hljs-type"><span class="hljs-type">void</span></span>) { switch(mode) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> "Service"; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> "App"; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ""; // just <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> } <span class="hljs-type"><span class="hljs-type">int</span></span> main(<span class="hljs-type"><span class="hljs-type">int</span></span> argv, <span class="hljs-type"><span class="hljs-type">char</span></span>* argc[]) { el::Helpers::installCustomFormatSpecifier(el::CustomFormatSpecifier("%mode", getMode)); el::Loggers::reconfigureAllLoggers(el::ConfigurationType::<span class="hljs-keyword"><span class="hljs-keyword">Format</span></span>, "%level %mode: %msg"); LOG(<span class="hljs-keyword"><span class="hljs-keyword">INFO</span></span>) &lt;&lt; "  "; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre><br></div></div><br>  There are also a number of flags that change various aspects of Easylogging behavior.  By default, for example, all output is duplicated in stdout.  Besides the fact that it is easy to completely turn off, we can, on the contrary, make it all the more visual by setting the flag to activate the color output: <br><div class="spoiler">  <b class="spoiler_title">Setting flags</b> <div class="spoiler_text"><pre> <code class="hljs rust">int main(int argv, <span class="hljs-built_in"><span class="hljs-built_in">char</span></span>* argc[]) { <span class="hljs-comment"><span class="hljs-comment">/*     (   ) */</span></span> el::Loggers::reconfigureAllLoggers(el::ConfigurationType::ToStandardOutput, <span class="hljs-string"><span class="hljs-string">"true"</span></span>); <span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> el::Loggers::addFlag(el::LoggingFlag::ColoredTerminalOutput); LOG(INFO) &lt;&lt; <span class="hljs-string"><span class="hljs-string">" "</span></span>; LOG(ERROR) &lt;&lt; <span class="hljs-string"><span class="hljs-string">"   "</span></span>; LOG(WARNING) &lt;&lt; <span class="hljs-string"><span class="hljs-string">"  "</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre><br>  The result on the screen will look like this: <br><img src="//habrastorage.org/files/4ca/c1b/28c/4cac1b28cc114511abf49f0f67b99d11.png"><br></div></div><br>  Any setting can be changed not only from the code: in addition, the library supports configuration files in a proprietary format (usual conf with tabs), which can be loaded during the launch or operation of applications.  The library also can read parameters from the command line: to do this, you need to place the corresponding call in main: <br><div class="spoiler">  <b class="spoiler_title">Reading command line</b> <div class="spoiler_text"><pre> <code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> argv, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params">* argc[]</span></span></span><span class="hljs-function">)</span></span> { _START_EASYLOGGINGPP(argc, argv); }</code> </pre><br></div></div><br><h4>  Custom types </h4><br>  The library allows you to log the contents of objects of any type.  This can be done in two ways: <br><ul><li>  Inherit your object from some el :: Loggable and implement the corresponding virtual method </li><li>  Implement a static method (operator) to send your object to the log </li></ul><br>  The second option seems to us more convenient, because you don‚Äôt need to ‚Äúdirty‚Äù your classes with obscure ancestors and, moreover, if you decide to remove logging, you don‚Äôt have to clean all classes.  Let's show how the implementation will look like in the second way: <br><div class="spoiler">  <b class="spoiler_title">Custom types</b> <div class="spoiler_text"><pre> <code class="hljs cpp"><span class="hljs-comment"><span class="hljs-comment">/*    */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Dummy</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>: Dummy(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i, <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span> s) : m_Int(i), m_String(s){} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getInt</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span></span>{<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> m_Int;} <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-function"><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-built_in">string</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function">&amp; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> </span></span>{<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> m_String;} <span class="hljs-keyword"><span class="hljs-keyword">private</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> m_Int; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span> m_String; }; <span class="hljs-comment"><span class="hljs-comment">/*    ,     operator&lt;&lt; */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">inline</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MAKE_LOGGABLE</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Dummy, obj, os)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/*        */</span></span> os &lt;&lt; <span class="hljs-string"><span class="hljs-string">"{i:"</span></span>&lt;&lt;obj.getInt()&lt;&lt;<span class="hljs-string"><span class="hljs-string">", s:"</span></span>&lt;&lt;obj.getString()&lt;&lt;<span class="hljs-string"><span class="hljs-string">"}"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> os; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-function"><span class="hljs-function">Dummy </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">object</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"Habrahabr"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>; LOG(INFO) &lt;&lt; <span class="hljs-string"><span class="hljs-string">"Dummy: "</span></span> &lt;&lt; object; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/* : 11:03:27 INFO Dummy: {i:1, s:Habrahabr} */</span></span></code> </pre><br></div></div><br><h4>  Log files </h4><br>  By default, the log file will be located in the working directory of the application and will have a path ../logs/myeasylog.log. <br>  You can change the name of the log file or its location at any time.  This can be useful if required, for example, to switch to a new file every day.  Here is an example of manually switching the log file: <br><div class="spoiler">  <b class="spoiler_title">Manual switching</b> <div class="spoiler_text"><pre> <code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">int</span></span> main(<span class="hljs-type"><span class="hljs-type">void</span></span>) { LOG(<span class="hljs-keyword"><span class="hljs-keyword">INFO</span></span>) &lt;&lt; "     "; el::Loggers::reconfigureAllLoggers(el::ConfigurationType::Filename, "logs/20140205.log"); LOG(<span class="hljs-keyword"><span class="hljs-keyword">INFO</span></span>) &lt;&lt; "    "; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre><br></div></div><br>  After doing this, there are two files in the logs folder: myeasylog.log and 20140205.log.  Each message will be in its file.  It is easy to see that it is similarly possible in the "manual" mode to perform switching of logs according to a given algorithm (for example, to make daily logs or to allocate a certain number of entries to each file) <br><br>  Easylogging ++ can switch logs automatically, but solely based on the size of their file.  Settings allow you to set a threshold for the file size, after which the current log will be reset.  Before this event occurs, you will be given the opportunity to copy the previous log file.  Below is an example where we set the 1Kb limit for the file size and before switching to the new log we save a backup of the old one: <br><div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text"><pre> <code class="hljs cpp"><span class="hljs-comment"><span class="hljs-comment">/*   .     *    timestamp.*/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> log_sequence = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-comment"><span class="hljs-comment">/* Callback       fname  */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">LogsRollout</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params">* fname, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">size_t</span></span></span></span><span class="hljs-function"><span class="hljs-params"> fsize)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/*        ( ) */</span></span> <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> fileName = fname; <span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> position = fileName.find(<span class="hljs-string"><span class="hljs-string">"."</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> extractName = (<span class="hljs-built_in"><span class="hljs-built_in">string</span></span>::npos == position)? fileName : fileName.substr(<span class="hljs-number"><span class="hljs-number">0</span></span>, position); extractName = extractName + to_string(log_sequence++) + <span class="hljs-string"><span class="hljs-string">".log"</span></span>; <span class="hljs-comment"><span class="hljs-comment">/*     ,   */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> status = rename(fname, extractName.c_str()); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(status) { <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span> } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/*         */</span></span> el::Loggers::addFlag(el::LoggingFlag::StrictLogFileSizeCheck); <span class="hljs-comment"><span class="hljs-comment">/*        1 */</span></span> el::Loggers::reconfigureAllLoggers(el::ConfigurationType::MaxLogFileSize, <span class="hljs-string"><span class="hljs-string">"1024"</span></span>); <span class="hljs-comment"><span class="hljs-comment">/*  callback    */</span></span> el::Helpers::installPreRollOutCallback(LogsRollout); <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>; i&lt;<span class="hljs-number"><span class="hljs-number">1024</span></span>; i++) { LOG(INFO) &lt;&lt; <span class="hljs-string"><span class="hljs-string">"Message #"</span></span>&lt;&lt; i+<span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre><br></div></div><br><h4>  Conditional and periodic issue </h4><br>  The library has a macro LOG_IF declared to output a message to the log only if the specified condition is met: <br><div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">LOG_IF(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">INFO</span></span>) &lt;&lt; " "; LOG_IF(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">WARNING</span></span>) &lt;&lt; "  ";</code> </pre><br></div></div><br>  Periodic issuance can also be useful in some cases.  This method means that not every message will be logged, but, for example, every 10s or 100s.  In this case, two possibilities are realized: <br><ul><li>  LOG_EVERY_N (n, LEVEL) - displays every nth message </li><li>  LOG_AFTER_N (n, LEVEL) - displays a message only after n operations </li></ul><br><h4>  Checks and handling program crashes </h4><br>  The library declares a whole series of macros for issuing a message to the log and crashing only if some critical condition is not met: <i>CHECK, CHECK_EQ, CHECK_NE, CHECK_NOTNULL</i> , etc.  These macros are very similar to assert, only with the issuance of the log. <br>  It is quite convenient to use them: <br><div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text"><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">CHECK</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) &lt;&lt; "  "; CHECK_LE(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>) &lt;&lt; "2 &lt; 1 ???"; CHECK_STREQ(argv[<span class="hljs-number"><span class="hljs-number">3</span></span>], "1") &lt;&lt; "    1";</code> </pre><br>  This is how it falls when the condition is not met: <br><pre> <code class="bash hljs">07:12:51,375 FATAL Check failed: [2 &lt;= 1] 2 &lt; 1 ??? 07:12:51,375 WARN Aborting application. Reason: Fatal <span class="hljs-built_in"><span class="hljs-built_in">log</span></span> at [/home/borg/Temp/App/main.cpp:34] Aborted</code> </pre><br></div></div><br>  If you do not change the default settings, then if the condition is not met, the program will be interrupted, and the message will appear in the log with the FATAL level. <br><br>  Additionally, the default library handles application crashes.  Of course, this behavior can be disabled, but sometimes it can be convenient to get logs for a number of signals, for example: SIGFPE, SIGILL, SIGSEGV, etc.  For gcc, you can also issue a call stack to the log. <br><div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text"><pre> <code class="hljs rust">#include <span class="hljs-string"><span class="hljs-string">"easylogging++.h"</span></span> _INITIALIZE_EASYLOGGINGPP void CustomCrashHandler(int signal) { LOG(ERROR) &lt;&lt; <span class="hljs-string"><span class="hljs-string">" !!"</span></span>; <span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> el::Helpers::crashAbort(signal); } int main(int argv, <span class="hljs-built_in"><span class="hljs-built_in">char</span></span>* argc[]) { <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span> el::Helpers::setCrashHandler(CustomCrashHandler); <span class="hljs-comment"><span class="hljs-comment">/*   0 */</span></span> int a = <span class="hljs-number"><span class="hljs-number">0</span></span>; a = <span class="hljs-number"><span class="hljs-number">1</span></span>/a; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre><br>  Here so falls: <br><pre> <code class="bash hljs">17:46:53,074 ERROR  !! Aborted</code> </pre><br></div></div><br><h4>  findings </h4><br>  The Easylogging ++ library represents a less complete set of functionality that one would expect to see in such a product. <br>  The undoubted advantages include: its compactness, ease of operation and cross-platform. <br>  The disadvantages we would consider only the requirement for the use of C ++ 11, although, perhaps, the authors could do with the "ordinary" C ++. </div><p>Source: <a href="https://habr.com/ru/post/225363/">https://habr.com/ru/post/225363/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../225343/index.html">Three laws on data protection in Evernote [update]</a></li>
<li><a href="../225349/index.html">And what really neural networks hide?</a></li>
<li><a href="../225353/index.html">Analysis of tasks of the Competitive Intelligence Competition on PHDays IV</a></li>
<li><a href="../225359/index.html">Chinese Chaofon AN1 Smart Watch</a></li>
<li><a href="../225361/index.html">Microsoft Remote Desktop is already on the new Lumia</a></li>
<li><a href="../225365/index.html">How to turn ordinary sites into adaptive?</a></li>
<li><a href="../225367/index.html">30 useful services for web developer</a></li>
<li><a href="../225369/index.html">WWDC 2014. Wednesday News</a></li>
<li><a href="../225371/index.html">Cubietruck. Cozy home server</a></li>
<li><a href="../225375/index.html">ECS LIVA: Mini PC with Intel Bay Trail for $ 180</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>