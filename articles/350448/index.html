<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>RegExp Unicode Property Escapes in JavaScript: Portrait Strokes</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="RegExp Unicode Property Escapes have moved to Step 4 and will be included in ES2018 . 


 In V8, they are available without a flag since v6.4 , so the...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>RegExp Unicode Property Escapes in JavaScript: Portrait Strokes</h1><div class="post__text post__text-html js-mediator-article"><p>  <a href="https://github.com/tc39/proposal-regexp-unicode-property-escapes">RegExp Unicode Property Escapes</a> have moved to Step 4 and <a href="">will be included in ES2018</a> . </p><br><p>  In V8, they are available <a href="https://bugs.chromium.org/p/v8/issues/detail%3Fid%3D4743%26desc%3D2">without a flag since v6.4</a> , so they are ready for use in all current Google Chrome channels from stable to Canary. </p><br><p> In Node.js they will be available without a flag already in v10 (coming out in April).  In other versions, the <code>--harmony_regexp_property</code> (Node.js v6 ‚Äì v9) or <code>--harmony</code> (Node.js v8 ‚Äì v9) <code>--harmony</code> .  Now without a flag, you can try them either <a href="https://nodejs.org/download/nightly/">in nightly assemblies</a> or <a href="https://nodejs.org/download/v8-canary/">in the v8-canary branch</a> . </p><br><p>  It should be borne in mind that Node.js assemblies compiled without ICU support will not be able to use this class of regular expressions (for more details, see <a href="">Internationalization Support</a> ).  For example, it concerns the popular Android build from <a href="https://termux.com/">Termux</a> community. </p><br><p>  For more information about support in other engines and environments, see the <a href="http://kangax.github.io/compat-table/es2016plus/">well-known table</a> (after the transition, go a little higher). </p><br><p>  I will not repeat the descriptions of this long-awaited opportunity, just refer to several articles of famous experts: <a name="habracut"></a></p><br><ul><li>  Mathias Bynens.  <a href="https://mathiasbynens.be/notes/es-unicode-property-escapes">Unicode property escapes in JavaScript regular expressions</a> (from the author of the offer). </li><li>  Mathias Bynens.  ECMAScript regular expressions are getting better!  <a href="https://mathiasbynens.be/notes/es-regexp-proposals">#Unicode property escapes</a> </li><li>  Dr.  Axel Rauschmayer.  Exploring ES2018 and ES2019.  <a href="http://exploringjs.com/es2018-es2019/ch_regexp-unicode-property-escapes.html">#RegExp Unicode property escapes</a> </li><li>  Nicol√°s Bevacqua.  Regular Expressions in a post-ES6 world.  <a href="https://ponyfoo.com/articles/regular-expressions-post-es6">#Unicode Property Escapes</a> </li><li>  Unfortunately, the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp">RegExp page on MDN</a> is still devoid of any mention of innovation, but this will probably be fixed soon. </li></ul><br><p>  I also wanted to tell about a pair of not quite obvious trifles. </p><br><p>  When I started to get acquainted with this new feature, I regretted two missing conveniences: the way to programmatically get a list of all valid choices in this most extensive regular expression class now and the way to get a list of suitable properties for a particular Unicode character. </p><br><p>  If someone feels the same need, let these notes save him time :) </p><br><h3 id="spisok-vseh-dostupnyh-svoystv-dlya-regulyarnogo-vyrazheniya">  List of all available properties for a regular expression </h3><br><p>  At the moment, the current ECMAScript specification itself, in particular the tables (carefully, follow the links to a heavy page) in <a href="https://tc39.github.io/ecma262/">Runtime Semantics: UnicodeMatchProperty (p)</a> and <a href="https://tc39.github.io/ecma262/">Runtime Semantics: UnicodeMatchPropertyValue (p, v)</a> , is an authoritative and comprehensive source that lists all possible properties. . </p><br><p>  If it is inconvenient for someone to load the entire specification, it is possible to limit the <a href="https://tc39.github.io/proposal-regexp-unicode-property-escapes/">specification of the sentence</a> with the same tables.  And quite a lightweight version: these tables exist as four separate files <a href="https://github.com/tc39/ecma262">in the root of the ECMAScript specification repository</a> .  Actually, only they exist in the form of separate files imported into the specification - this alone, probably, can indicate their unprecedented volume.  Tables can be viewed with relative convenience using the native <a href="http://htmlpreview.github.io/">sub-service</a> . </p><br><p>  I extracted this data and sketched out a <a href="https://gist.github.com/vsemozhetbyt/893044264a088b96025b2d51ed17aec3">tiny library</a> containing a structured list of all possible names and values ‚Äã‚Äãand exporting this object in the form of a flattened array of all possible members from this class of regular expressions. </p><br><p>  All subsections are presented in alphabetical order with the exception of general properties (the order of the <a href="http://unicode.org/reports/tr44/">document from the Unicode base is</a> more convenient and familiar here).  The list does not contain synonyms, and abbreviations are used only for common properties, which significantly saves space in subsequent operations with the library. </p><br><p>  With the help of a simple script and the mentioned library, you can get a list in JSON format containing sources for regular expressions.  An example of such a script and its output can be found <a href="https://gist.github.com/vsemozhetbyt/893044264a088b96025b2d51ed17aec3">in the same place in the comments</a> - only 372 variants in the current version of the specification. </p><br><h3 id="poluchenie-svoystv-simvolov">  Getting character properties </h3><br><p>  The described library allows us to use this class of regulars with an unusual purpose: not to search for characters based on properties, but to obtain properties based on the character we have.  On the move you can come up with several uses. </p><br><p>  I should make a reservation that for the sake of illustrative simplicity, I did not add error handling to scripts, so this should be taken care of separately. </p><br><h4 id="1-harakteristika-otdelnogo-simvola">  1. Characteristics of a single character. </h4><br><p>  A small utility receives as a command line parameter a single character or its hexadecimal number in the Unicode base (code point) and gives a list of properties that can be used in the future when searching for a given character or a general class of characters. </p><br><div class="spoiler">  <b class="spoiler_title">re-unicode-properties.character-info.js</b> <div class="spoiler_text"><pre> <code class="hljs javascript"><span class="hljs-meta"><span class="hljs-meta">'use strict'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> reUnicodeProperties = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'./re-unicode-properties.js'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> RADIX = <span class="hljs-number"><span class="hljs-number">16</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> PAD_MAX = <span class="hljs-number"><span class="hljs-number">4</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [, , arg] = process.argv; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> character; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> codePoint; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ([...arg].length === <span class="hljs-number"><span class="hljs-number">1</span></span>) { character = arg; codePoint = <span class="hljs-string"><span class="hljs-string">`U+</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${character.codePointAt(</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">0</span></span></span></span><span class="hljs-string"><span class="hljs-subst">).toString(RADIX).padStart(PAD_MAX, </span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'0'</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string">`</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { character = <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>.fromCodePoint(<span class="hljs-built_in"><span class="hljs-built_in">Number</span></span>.parseInt(arg, RADIX)); codePoint = <span class="hljs-string"><span class="hljs-string">`U+</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${arg.padStart(PAD_MAX, </span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'0'</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string">`</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> characterProperties = reUnicodeProperties .filter(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">re</span></span></span><span class="hljs-function"> =&gt;</span></span> re.test(character)) .map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">re</span></span></span><span class="hljs-function"> =&gt;</span></span> re.source) .join(<span class="hljs-string"><span class="hljs-string">'\n'</span></span>) .replace(<span class="hljs-regexp"><span class="hljs-regexp">/\\p\{|\}/g</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log( <span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-built_in"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-built_in">JSON</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.stringify(character)}</span></span></span><span class="hljs-string"> (</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${codePoint}</span></span></span><span class="hljs-string">)\n</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${characterProperties}</span></span></span><span class="hljs-string">`</span></span>, );</code> </pre> </div></div><br><p>  Example output: </p><br><pre> <code class="hljs pgsql">$ node re-unicode-properties.character-<span class="hljs-keyword"><span class="hljs-keyword">info</span></span>.js  "" (U+<span class="hljs-number"><span class="hljs-number">0451</span></span>) gc=Letter gc=Cased_Letter gc=Lowercase_Letter sc=Cyrillic scx=Cyrillic Alphabetic <span class="hljs-keyword"><span class="hljs-keyword">Any</span></span> Assigned Cased Changes_When_Casemapped Changes_When_Titlecased Changes_When_Uppercased Grapheme_Base ID_Continue ID_Start Lowercase XID_Continue XID_Start</code> </pre> <br><h4 id="2-poluchenie-spiska-vseh-simvolov-yunikoda-s-dostupnymi-dlya-nih-svoystvami">  2. Getting a list of all Unicode characters with the properties available to them. </h4><br><p>  This version of the script runs on my machine for 2-3 minutes and eats about a gigabyte of memory, so be careful.  For a single run that gives us a complete base, it is tolerable, if necessary, you can set up a gradual output to a file instead of building the entire base in memory and output in one sitting. </p><br><p>  The script can be run without parameters, then it displays the database in a simplified text format, one character each with properties per line.  If we add the <code>json</code> parameter, we will get a readable database in JSON (by the way, using hexadecimal numbers in the string representation does not work in the form of keys: sorting the result ceases to be determined by the order of key creation; therefore, we will add the <code>U+</code> prefix to the numeric key) will be saved, and it will be more convenient to search for the symbol in the network if you need a full set of properties and a detailed description, and not just a list that is suitable for a regular expression;  Well we undertake to save on file size). </p><br><div class="spoiler">  <b class="spoiler_title">re-unicode-properties.code-points.js</b> <div class="spoiler_text"><pre> <code class="hljs javascript"><span class="hljs-meta"><span class="hljs-meta">'use strict'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { writeFileSync } = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'fs'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> reUnicodeProperties = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'./re-unicode-properties.js'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [, , format] = process.argv; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> LAST_CODE_POINT = <span class="hljs-number"><span class="hljs-number">0x10FFFF</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> RADIX = <span class="hljs-number"><span class="hljs-number">16</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> PAD_MAX = LAST_CODE_POINT.toString(RADIX).length; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> data = {}; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> codePoint = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (codePoint &lt;= LAST_CODE_POINT) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> character = <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>.fromCodePoint(codePoint); data[<span class="hljs-string"><span class="hljs-string">`U+</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${codePoint.toString(RADIX).padStart(PAD_MAX, </span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'0'</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string">`</span></span>] = [ character, ...reUnicodeProperties .filter(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">re</span></span></span><span class="hljs-function"> =&gt;</span></span> re.test(character)) .map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">re</span></span></span><span class="hljs-function"> =&gt;</span></span> re.source.replace(<span class="hljs-regexp"><span class="hljs-regexp">/\\p\{|\}/g</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>)), ]; codePoint++; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (format === <span class="hljs-string"><span class="hljs-string">'json'</span></span>) { writeFileSync( <span class="hljs-string"><span class="hljs-string">'re-unicode-properties.code-points.json'</span></span>, <span class="hljs-string"><span class="hljs-string">`\uFEFF</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-built_in"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-built_in">JSON</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.stringify(data, </span></span><span class="hljs-literal"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-literal">null</span></span></span></span><span class="hljs-string"><span class="hljs-subst">, </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">2</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string">\n`</span></span>, ); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { writeFileSync( <span class="hljs-string"><span class="hljs-string">'re-unicode-properties.code-points.txt'</span></span>, <span class="hljs-string"><span class="hljs-string">`\uFEFF</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${ </span></span><span class="hljs-built_in"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-built_in">Object</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.entries(data) .map(([k, v]) =&gt; </span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">`</span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${k.replace(</span></span></span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'U+'</span></span></span></span></span></span><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">, </span></span></span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">''</span></span></span></span></span></span><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">)}</span></span></span></span></span><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"> </span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span></span></span><span class="hljs-built_in"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-built_in">JSON</span></span></span></span></span></span><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">.stringify(v.shift())}</span></span></span></span></span><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"> </span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${v.join(</span></span></span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">' '</span></span></span></span></span></span><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">)}</span></span></span></span></span><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">`</span></span></span></span><span class="hljs-string"><span class="hljs-subst">) .join(</span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'\n'</span></span></span></span><span class="hljs-string"><span class="hljs-subst">) }</span></span></span><span class="hljs-string">\n`</span></span>, ); }</code> </pre> </div></div><br><p>  Examples of fragments in both formats: </p><br><pre> <code class="hljs javascript"><span class="hljs-number"><span class="hljs-number">000020</span></span> <span class="hljs-string"><span class="hljs-string">" "</span></span> gc=Separator gc=Space_Separator sc=Common scx=Common ASCII Any Assigned Grapheme_Base Pattern_White_Space White_Space <span class="hljs-number"><span class="hljs-number">000021</span></span> <span class="hljs-string"><span class="hljs-string">"!"</span></span> gc=Punctuation gc=Other_Punctuation sc=Common scx=Common ASCII Any Assigned Grapheme_Base Pattern_Syntax Sentence_Terminal Terminal_Punctuation <span class="hljs-number"><span class="hljs-number">000022</span></span> <span class="hljs-string"><span class="hljs-string">"\""</span></span> gc=Punctuation gc=Other_Punctuation sc=Common scx=Common ASCII Any Assigned Grapheme_Base Pattern_Syntax Quotation_Mark <span class="hljs-number"><span class="hljs-number">000023</span></span> <span class="hljs-string"><span class="hljs-string">"#"</span></span> gc=Punctuation gc=Other_Punctuation sc=Common scx=Common ASCII Any Assigned Emoji Emoji_Component Grapheme_Base Pattern_Syntax <span class="hljs-number"><span class="hljs-number">000024</span></span> <span class="hljs-string"><span class="hljs-string">"$"</span></span> gc=<span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span> gc=Currency_Symbol sc=Common scx=Common ASCII Any Assigned Grapheme_Base Pattern_Syntax <span class="hljs-number"><span class="hljs-number">000025</span></span> <span class="hljs-string"><span class="hljs-string">"%"</span></span> gc=Punctuation gc=Other_Punctuation sc=Common scx=Common ASCII Any Assigned Grapheme_Base Pattern_Syntax <span class="hljs-number"><span class="hljs-number">000026</span></span> <span class="hljs-string"><span class="hljs-string">"&amp;"</span></span> gc=Punctuation gc=Other_Punctuation sc=Common scx=Common ASCII Any Assigned Grapheme_Base Pattern_Syntax <span class="hljs-number"><span class="hljs-number">000027</span></span> <span class="hljs-string"><span class="hljs-string">"'"</span></span> gc=Punctuation gc=Other_Punctuation sc=Common scx=Common ASCII Any Assigned Case_Ignorable Grapheme_Base Pattern_Syntax Quotation_Mark <span class="hljs-number"><span class="hljs-number">000028</span></span> <span class="hljs-string"><span class="hljs-string">"("</span></span> gc=Punctuation gc=Open_Punctuation sc=Common scx=Common ASCII Any Assigned Bidi_Mirrored Grapheme_Base Pattern_Syntax <span class="hljs-number"><span class="hljs-number">000029</span></span> <span class="hljs-string"><span class="hljs-string">")"</span></span> gc=Punctuation gc=Close_Punctuation sc=Common scx=Common ASCII Any Assigned Bidi_Mirrored Grapheme_Base Pattern_Syntax <span class="hljs-number"><span class="hljs-number">00002</span></span>a <span class="hljs-string"><span class="hljs-string">"*"</span></span> gc=Punctuation gc=Other_Punctuation sc=Common scx=Common ASCII Any Assigned Emoji Emoji_Component Grapheme_Base Pattern_Syntax <span class="hljs-number"><span class="hljs-number">00002</span></span>b <span class="hljs-string"><span class="hljs-string">"+"</span></span> gc=<span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span> gc=Math_Symbol sc=Common scx=Common ASCII Any Assigned Grapheme_Base <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span> Pattern_Syntax <span class="hljs-number"><span class="hljs-number">00002</span></span>c <span class="hljs-string"><span class="hljs-string">","</span></span> gc=Punctuation gc=Other_Punctuation sc=Common scx=Common ASCII Any Assigned Grapheme_Base Pattern_Syntax Terminal_Punctuation <span class="hljs-number"><span class="hljs-number">00002</span></span>d <span class="hljs-string"><span class="hljs-string">"-"</span></span> gc=Punctuation gc=Dash_Punctuation sc=Common scx=Common ASCII Any Assigned Dash Grapheme_Base Pattern_Syntax <span class="hljs-number"><span class="hljs-number">00002</span></span>e <span class="hljs-string"><span class="hljs-string">"."</span></span> gc=Punctuation gc=Other_Punctuation sc=Common scx=Common ASCII Any Assigned Case_Ignorable Grapheme_Base Pattern_Syntax Sentence_Terminal Terminal_Punctuation <span class="hljs-number"><span class="hljs-number">00002</span></span>f <span class="hljs-string"><span class="hljs-string">"/"</span></span> gc=Punctuation gc=Other_Punctuation sc=Common scx=Common ASCII Any Assigned Grapheme_Base Pattern_Syntax</code> </pre> <br><pre> <code class="hljs json">[ <span class="hljs-string"><span class="hljs-string">"U+000020"</span></span>: [ <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">"gc=Separator"</span></span>, <span class="hljs-string"><span class="hljs-string">"gc=Space_Separator"</span></span>, <span class="hljs-string"><span class="hljs-string">"sc=Common"</span></span>, <span class="hljs-string"><span class="hljs-string">"scx=Common"</span></span>, <span class="hljs-string"><span class="hljs-string">"ASCII"</span></span>, <span class="hljs-string"><span class="hljs-string">"Any"</span></span>, <span class="hljs-string"><span class="hljs-string">"Assigned"</span></span>, <span class="hljs-string"><span class="hljs-string">"Grapheme_Base"</span></span>, <span class="hljs-string"><span class="hljs-string">"Pattern_White_Space"</span></span>, <span class="hljs-string"><span class="hljs-string">"White_Space"</span></span> ], <span class="hljs-string"><span class="hljs-string">"U+000021"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"!"</span></span>, <span class="hljs-string"><span class="hljs-string">"gc=Punctuation"</span></span>, <span class="hljs-string"><span class="hljs-string">"gc=Other_Punctuation"</span></span>, <span class="hljs-string"><span class="hljs-string">"sc=Common"</span></span>, <span class="hljs-string"><span class="hljs-string">"scx=Common"</span></span>, <span class="hljs-string"><span class="hljs-string">"ASCII"</span></span>, <span class="hljs-string"><span class="hljs-string">"Any"</span></span>, <span class="hljs-string"><span class="hljs-string">"Assigned"</span></span>, <span class="hljs-string"><span class="hljs-string">"Grapheme_Base"</span></span>, <span class="hljs-string"><span class="hljs-string">"Pattern_Syntax"</span></span>, <span class="hljs-string"><span class="hljs-string">"Sentence_Terminal"</span></span>, <span class="hljs-string"><span class="hljs-string">"Terminal_Punctuation"</span></span> ] ]</code> </pre> <br><p>  You can download full databases in archives if you wish: <a href=""><code>.txt</code></a> (5 MB in the archive, ~ 60 MB of text) or <a href=""><code>.json</code></a> (5.5 MB in the archive, ~ 112 MB of text).  When viewing do not forget to use good fonts. </p><br><h4 id="3-spisok-ispolzuemyh-v-fayle-simvolov-s-ih-svoystvami">  3. List of symbols used in the file with their properties. </h4><br><p>  This is a variant of the previous script, which does not provide a complete database of characters, but only the set that is found in a given file.  The first parameter of the script is the path to the file, the second optional is the format (text is used by default, you can also specify <code>json</code> ).  A conclusion similar to the previous one, only smaller in volume.  Since the file is read in stream mode, you can process texts of any reasonable size.  My gigabyte file was processed for five minutes, throughout the entire work the script occupied about 60 megabytes of memory. </p><br><div class="spoiler">  <b class="spoiler_title">re-unicode-properties.file-info.js</b> <div class="spoiler_text"><pre> <code class="hljs javascript"><span class="hljs-meta"><span class="hljs-meta">'use strict'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { createReadStream, writeFileSync } = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'fs'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { basename } = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'path'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> reUnicodeProperties = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'./re-unicode-properties.js'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [, , filePath, format] = process.argv; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> LAST_CODE_POINT = <span class="hljs-number"><span class="hljs-number">0x10FFFF</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> RADIX = <span class="hljs-number"><span class="hljs-number">16</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> PAD_MAX = LAST_CODE_POINT.toString(RADIX).length; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> data = {}; <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">async</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">function</span></span></span></span><span class="hljs-function"><span class="hljs-params"> main(</span></span></span><span class="hljs-function">) { </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">const</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">fileStream</span></span></span><span class="hljs-function"> = </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">createReadStream</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">filePath</span></span></span><span class="hljs-function">); </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">fileStream</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">setEncoding</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'utf8'</span></span></span></span></span><span class="hljs-function">); </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">const</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">characters</span></span></span><span class="hljs-function"> = </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">new</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Set</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">; </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">for</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">await</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> chunk </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">of</span></span></span></span><span class="hljs-function"><span class="hljs-params"> fileStream</span></span></span><span class="hljs-function">) { [...</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">chunk</span></span></span><span class="hljs-function">].</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">forEach</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(character</span></span></span><span class="hljs-function">) =&gt;</span></span> { characters.add(character); }); } [...characters].sort().forEach(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">character</span></span></span><span class="hljs-function">) =&gt;</span></span> { data[<span class="hljs-string"><span class="hljs-string">`U+</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${character.codePointAt(</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">0</span></span></span></span><span class="hljs-string"><span class="hljs-subst">).toString(RADIX).padStart(PAD_MAX, </span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'0'</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string">`</span></span>] = [ character, ...reUnicodeProperties .filter(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">re</span></span></span><span class="hljs-function"> =&gt;</span></span> re.test(character)) .map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">re</span></span></span><span class="hljs-function"> =&gt;</span></span> re.source.replace(<span class="hljs-regexp"><span class="hljs-regexp">/\\p\{|\}/g</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>)), ]; }); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (format === <span class="hljs-string"><span class="hljs-string">'json'</span></span>) { writeFileSync( <span class="hljs-string"><span class="hljs-string">`re-unicode-properties.file-info.</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${basename(filePath)}</span></span></span><span class="hljs-string">.json`</span></span>, <span class="hljs-string"><span class="hljs-string">`\uFEFF</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-built_in"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-built_in">JSON</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.stringify(data, </span></span><span class="hljs-literal"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-literal">null</span></span></span></span><span class="hljs-string"><span class="hljs-subst">, </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">2</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string">\n`</span></span>, ); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { writeFileSync( <span class="hljs-string"><span class="hljs-string">`re-unicode-properties.file-info.</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${basename(filePath)}</span></span></span><span class="hljs-string">.txt`</span></span>, <span class="hljs-string"><span class="hljs-string">`\uFEFF</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${ </span></span><span class="hljs-built_in"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-built_in">Object</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.entries(data) .map(([k, v]) =&gt; </span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">`</span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${k.replace(</span></span></span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'U+'</span></span></span></span></span></span><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">, </span></span></span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">''</span></span></span></span></span></span><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">)}</span></span></span></span></span><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"> </span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span></span></span><span class="hljs-built_in"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-built_in">JSON</span></span></span></span></span></span><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">.stringify(v.shift())}</span></span></span></span></span><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"> </span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${v.join(</span></span></span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">' '</span></span></span></span></span></span><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">)}</span></span></span></span></span><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">`</span></span></span></span><span class="hljs-string"><span class="hljs-subst">) .join(</span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'\n'</span></span></span></span><span class="hljs-string"><span class="hljs-subst">) }</span></span></span><span class="hljs-string">\n`</span></span>, ); } })();</code> </pre> </div></div><br><p>  On this, perhaps, everything.  Thank you for your time. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/350448/">https://habr.com/ru/post/350448/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../350438/index.html">Validation of strings with validate.it.js</a></li>
<li><a href="../350440/index.html">Gini coefficient. From economics to machine learning</a></li>
<li><a href="../350442/index.html">The digest of fresh materials from the world of the frontend for the last week ‚Ññ304 (February 26 - March 4, 2018)</a></li>
<li><a href="../350444/index.html">Implement java promises</a></li>
<li><a href="../350446/index.html">Container Run Environments (container runtimes) Part 1: Introduction to Container Run Environments</a></li>
<li><a href="../350452/index.html">Load testing "non-HTTP". Part 2 Gatling</a></li>
<li><a href="../350454/index.html">Surprisingly simple messaging with Spring Cloud Stream</a></li>
<li><a href="../350456/index.html">Digital events in Moscow from March 5 to 11</a></li>
<li><a href="../350458/index.html">Publish the game on Google Play. Configuring Play Games Plugin for Unity</a></li>
<li><a href="../350462/index.html">Configuring VoIP FXS of the Yeastar Neogate TAXXX gateway to work with 3CX</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>