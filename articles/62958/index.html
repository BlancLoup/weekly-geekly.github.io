<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>BDD with Cucumber</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="If you are used to writing code first and then testing it, then with BDD this approach is not at all appropriate. The power of BDD is that it helps le...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>BDD with Cucumber</h1><div class="post__text post__text-html js-mediator-article">  If you are used to writing code first and then testing it, then with BDD this approach is not at all appropriate.  The power of BDD is that it helps lead the development from the design stage of the TOR.  For BDD, this is a list of properties (features) that is appropriate to write with the customer. <br><br>  But the most important thing is that according to the same list there is an automatic testing of the project.  The testing tool (in our case, this is Cucumber) will systematically follow your list and will meticulously verify the implementation of each feature. <br><a name="habracut"></a><br>  Development using Cucumber consists of 3 main stages. <br><ol><li>  Description of the project features in <a href="http://wiki.github.com/aslakhellesoy/cucumber/gherkin">simple human language</a> .  And even <a href="http://github.com/aslakhellesoy/cucumber/blob/48d39212faa210b3e50841aa6a9446786a3c04d3/examples/i18n/ru/features/addition.feature">optional English</a> . </li><li>  Definition of actions (step definition) in Ruby </li><li>  Development cycle: verification of features by a cuckemer and implementation of untested features with handles. </li></ol><br><br>  Upon completion of this cycle, when all properties pass cucumber control, we approve a new feature list with the customer and re-run the entire cycle.  We do this until we realize (add and check) all the properties. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  1st stage.  Features </h4><br><br><h5>  List </h5><br>  For example, we, as always, are developing a new blog.  So we write the properties of our blog in the file <code>./features/blog.features</code> .  For each property, we also describe the concepts of Why, Who and What (In order, A, Should).  These are BDD wishes, in fact they do not affect the result, but they help us to formulate more clearly what we want from this feature. <br><br><pre> Feature: Post articles

   In order to show trip photos
   A owner
   Should be abble to post article

 Feature: Make comments

   In order to contact
   A user
   Should be abble to make comments
</pre><br><br>  Of course, it is not necessary to immediately write out all the properties, enough those that you intend to implement in the near future. <br><br><h5>  Scenarios </h5><br><br>  A property has one or more behaviors.  It is under this scenario that the testing takes place.  Each scenario is described in three categories: Condition (Given), Event (When), Result (Then).  If you have several conditions, events or results, then additional is prescribed through And / But. <br><br><pre> Feature: Post articles

   In order to show trip photos
   A owner
   Should be abble to post article
 
   Scenario: Post article by owner

     Given I signed up as owner
     When I write article "About my last nigh trip"
     "It was very hard night .."
     And I post article
     Then I should see "Article is created"

   Scenario: Post article by user

     Given I signed up as user
     When I write article "My fantazy"
     And text of article is "..no more"
     And I post article
     Then I should see "you have no access to post articles"
</pre><br><br>  At this stage, we already have a list of features that the person and the testing tool can understand.  And now you can run: <br><br><pre> &gt; cucumber features / blog.features

 ...

 2 scenarios (2 undefined)
 12 steps (12 undefined)
 0m0.012s

 You can implement step definitions for undefined steps with these snippets:

 Given / ^ I signed up as owner $ / do
   pending
 end

 When / ^ I write article "([^ \"] *) "$ / do | arg1 |
   pending
 end

 When / ^ text of article is "([^ \"] *) "$ / do | arg1 |
   pending
 end

 When / ^ I post article $ / do
   pending
 end

 Then / ^ I should see "([^ \"] *) "$ / do | arg1 |
   pending
 end
</pre><br><br>  Cucumber tells you what to do next, what actions we need to determine (step definition). <br><br><h4>  Stage 2. Determination of actions (step definition) </h4><br><br>  Copy the cucumber hint in <code>/features/step_definitions/blog_steps.rb</code> and prescribe actions, for example: <br><br><pre>     Given / ^ I signed up as (. *) $ / Do | role |
        current_user = User.find_by_role (role)
     end

     When / ^ I write article "([^ \"] *) "$ / do | arg1 |
         aricle = Article.create (: subject =&gt; arg1,: user =&gt; user)
         same_subject = subject
     end

     When / ^ text of article is "([^ \"] *) "$ / do | arg1 |
       aricle.text = arg1
     end

     When / ^ I post article $ / do
       artricle.save!
     end

     Then / ^ I should see "([^ \"] *) "$ / do | arg1 |
        response.should contain (arg1)
     end
</pre><br><br>  Now we have a list of features ready and their behavior is defined. <br><br><h4>  Stage 3. Testing and development </h4><br><br>  Run the test: <br><br><pre> &gt; cucumber features / blog.features

 Feature: Post articles
   In order to show trip photos
   A owner
   Should be abble to post article

   Scenario: Post article by owner # features / blog.features: 6
     Given I signed up as owner # features / step_definitions / blog_steps.rb: 1
       uninitialized constant User (NameError)
       features / blog.features: 7: in `Given I signed up as owner '
     When I write the article "About my last nigh trip" # features / step_de
</pre><br><br>  Apparently, cucumber reported that it does not know about any User.  In this case, create the model code User. <br><br>  Run Cucumber again.  At this name, he swears about another error - we are implementing another code in order to fix it, etc.  until. <br><br>  When cucumber passes all tests, all code will be implemented.  Thus, we have completed the 3rd stage and can proceed to the further design of the application and the implementation of new features. <br><br>  If interested, next time I will tell and show you how a real application is developed with <code>Cucumber, Shoulda</code> and the <code>webrat</code> wizard. <br><br><h4>  PS </h4><br><br>  Materials: <br><br>  <a href="http://cukes.info/">cukes.info</a> - cucumber website <br>  <a href="http://nlp.od.ua/behavoir-driven-development">nlp.od.ua/behavoir-driven-development</a> - In Russian about BDD <br>  <a href="http://railscasts.com/episodes/155-beginning-with-cucumber">railscasts.com/episodes/155-beginning-with-cucumber</a> - screencast Cucumber for Beginners <br>  <a href="http://github.com/thoughtbot/clearance/tree/master">github.com/thoughtbot/clearance/tree/master</a> - Clearance has a great example of using cucumber </div><p>Source: <a href="https://habr.com/ru/post/62958/">https://habr.com/ru/post/62958/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../62938/index.html">One-page site</a></li>
<li><a href="../62943/index.html">Release MooTools 1.2.3</a></li>
<li><a href="../62946/index.html">Apogee ONE - USB audio interface for Mac users</a></li>
<li><a href="../62950/index.html">Privacy illusion</a></li>
<li><a href="../62951/index.html">Cocotron, the latest news from the front of Objective-C</a></li>
<li><a href="../62959/index.html">Small client concept</a></li>
<li><a href="../62960/index.html">A collection of meaningless sites</a></li>
<li><a href="../62961/index.html">Michael Jackson passed away</a></li>
<li><a href="../62963/index.html">Installing firefox 3.5 RC 2 or firefox 3.6 in ubuntu 9.04</a></li>
<li><a href="../62964/index.html">Optimization Extended Statusbar</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>