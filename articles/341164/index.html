<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Your users do not need passwords.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Often, one of the first architectural decisions taken at the beginning of the development of your site will be using email + password to authorize the...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Your users do not need passwords.</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/webt/dv/gh/pq/dvghpqb5hbz6esrjkx0ieztzqhi.jpeg" alt="Rusty lock"></p><br><p>  Often, one of the first architectural decisions taken at the beginning of the development of your site will be using email + password to authorize the user.  This bunch is firmly stuck in our heads, and we are already thinking about why we force people to invent a password.  We used to do that. </p><br><p>  But let's think, maybe your users do not need passwords. </p><br><p>  One possible solution is to use <a href="https://en.wikipedia.org/wiki/OAuth">OAuth 2.0</a> , but not all users can have a social network account and a desire to use it on your resource. </p><br><p>  But how, then, get rid of the password?  I will try to answer this question in the article. </p><a name="habracut"></a><br><h2 id="a-v-chem-problema">  What's the problem? </h2><br><blockquote>  <a href="https://www.troyhunt.com/only-secure-password-is-one-you-cant/">The only secure password is one that you cannot remember</a> . <br><br>  Troy hunt </blockquote><p>  The password itself is already a problem.  It is not profitable, neither you nor your users. </p><br><p>  For the site owner, the password is not beneficial because storing it creates an additional vulnerability in the system.  No matter how powerful your hashing algorithm is (and God forbid you not to use it), sooner or later it will become a trifle for new GPUs, and later also CPU.  And if your database leaks into the network, it will deal a huge blow to you and your visitors.  Without passwords, the base becomes at times less tasty prey. </p><br><p>  For visitors to your site, the password is an additional difficulty.  Inexperienced users will once again use their "regular" password, increasing the risk of losing it.  And advanced users will be forced to come up with a special password for your site or use a password manager. </p><br><p>  By itself, the phenomenon of password managers, this is a crutch, which should show us all the lack of relevance and inefficiency of the widespread use of passwords. </p><br><p>  In addition, you can additionally poison the lives of your users, forcing them to periodically change them, or prohibit / force the use of special characters. </p><br><h2 id="kak-zhe-byt">  How to be? </h2><br><p>  The answer is not to use passwords.  You only need to know the user's email. </p><br><p>  When registering on the site, you are somehow tied to user mail.  You send letters to her confirming that the user is the owner of the account;  You use it to reset your password. </p><br><p>  Password reset already sounds like an oxymoron.  After all, in order to set a new password, you only need to receive an email.  Everything.  So why did you force the user to invent a password, change it and use only the characters you like? </p><br><p>  After all, in order to authorize a user, you just need to send him an email with a generated link, just like when you confirm your account.  This is enough to authorize the user. </p><br><p>  Yes, and modern email services are at times more secure and prepared for attacks than a regular site with cats.  Entrust storage and password protection to professionals. </p><br><h2 id="reshenie">  Decision </h2><br><p>  Consider an example of a simple site with PostgreSQL as a database. </p><br><p>  Two tables will be enough for us (with the minimum set of fields): </p><br><p>  <strong>users</strong> : </p><br><table><thead><tr><th>  Field name </th><th>  Data type </th><th>  Attributes </th></tr></thead><tbody><tr><td>  <strong>id</strong> </td><td><code>serial</code></td>
<td><code>PRIMARY KEY</code></td>
</tr>
<tr>
<td><strong>email</strong></td>
<td><code>varchar(320)</code></td>
<td><code>UNIQUE</code></td>
</tr>
</tbody>
</table><br>
<p><strong>sign_in_requests</strong>:</p><br>
<table>
<thead>
<tr>
<th> </th>
<th> </th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>id</strong></td>
<td><code>serial</code></td>
<td><code>PRIMARY KEY</code></td>
</tr>
<tr>
<td><strong>email</strong></td>
<td><code>varchar(320)</code></td>
<td></td>
</tr>
<tr>
<td><strong>token</strong></td>
<td><code>uuid</code></td>
<td><code>UNIQUE</code></td>
</tr>
<tr>
<td><strong>request_ip</strong></td>
<td><code>varchar(45)</code></td>
<td></td>
</tr>
<tr>
<td><strong>activated_at</strong></td>
<td><code>timestamp</code></td>
<td><code>NULLABLE</code></td>
</tr>
<tr>
<td><strong>expired_at</strong></td>
<td><code>timestamp</code></td>
<td></td>
</tr>
</tbody>
</table><br>
<p>    :</p><br>
<ul>
<li> <strong>sign_in_requests</strong>  ( )    "Sign Up" , ..      .</li>
<li>   ,  <strong>sign_in_requests</strong>   ,   <strong>email</strong> .</li>
<li><strong>token</strong>    uuid',       ,     .            .</li>
<li><strong>request_ip</strong> ‚Äî  ,    rate limit',    .</li>
</ul><br>
<p>   :</p><br>
<ol>
<li>   email   .</li>
<li>  <strong>sign_in_request</strong>,       : <code>https://example.com/signin/callback/email/{{token}}</code>.</li>
<li>,             token'.</li>
<li>   ,   ,  ,      email (   Brute Force),  ,   .</li>
<li> <code>activated_at=now()</code>,     .</li>
<li>,  -,      ,     cookie / JWT / etc.</li>
</ol><br>
<p>     ,    ,         10 .</p><br>
<h2 id="dlya-kogo"> ?</h2><br>
<p>    :</p><br>
<ul>
<li>    ,     /   / .</li>
<li> ,        .</li>
<li>,   ,   :    /    .</li>
</ul><br>
<p>     :</p><br>
<ul>
<li>    email .</li>
<li>   ‚Äî    / Smart TV / IoT.   , ,      .</li>
</ul><br>
<h2 id="finalnye-slova"> </h2><br>
<p>,         ,   ,      ,       .</p><br>
<blockquote> : <a href="https://pixabay.com/en/padlock-grunge-rusty-rusting-76866/">https://pixabay.com/en/padlock-grunge-rusty-rusting-76866/</a></blockquote></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/341164/">https://habr.com/ru/post/341164/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../341148/index.html">Fuzzy string comparison: understand me if you can</a></li>
<li><a href="../341152/index.html">Development of 2D sandboxes on JavaScript from scratch</a></li>
<li><a href="../341154/index.html">What every C programmer should know about Undefined Behavior. Part 3/3</a></li>
<li><a href="../341156/index.html">Security Week 43: The Great IoT Reap Is Coming, Like NATO Cyberconf Hackers Flying, Bad Exception Rabbit Ears ExPetr</a></li>
<li><a href="../341160/index.html">Remove radial distortion from photos and videos using the openCV library and the python language</a></li>
<li><a href="../341166/index.html">How to arrange an open source project</a></li>
<li><a href="../341168/index.html">Virtuozzo Storage: Actual Operating Experience, Optimization and Problem Solving Tips</a></li>
<li><a href="../341170/index.html">Cloning a 50Gb database from Prod to Dev in 1 second without loss of integrity</a></li>
<li><a href="../341172/index.html">Connecting a remote COM controller to a computer‚Äôs USB port via unmatched lines</a></li>
<li><a href="../341178/index.html">SILVER: how I design iOS apps</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>