<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>JavaScript proxy: beautiful and useful</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In JavaScript, relatively recently, a new feature has emerged that is not widely used yet. We are talking about proxy objects . Proxies allow you to c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>JavaScript proxy: beautiful and useful</h1><div class="post__text post__text-html js-mediator-article">  In JavaScript, relatively recently, a new feature has emerged that is not widely used yet.  We are talking about <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy">proxy objects</a> .  Proxies allow you to create wrappers for other objects by organizing the interception of access operations to their properties and operations for invoking their methods.  <b>Moreover, it works even for non-existent properties and methods of proxied objects.</b> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/38a/ef9/394/38aef939434339e9cfb327889d809003.gif" alt="image"></div><br>  We present to your attention the translation of the article by programmer Alberto Himeno, in which he shares various ideas of using <code>Proxy</code> objects in JavaScript. <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">First acquaintance with proxy objects</font> </h2><br>  Let's start with the basics.  Here is the simplest example of working with a proxy object: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> wrap = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">obj</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Proxy</span></span>(obj, {   get(target, propKey) {       <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`Reading property "</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${propKey}</span></span></span><span class="hljs-string">"`</span></span>)       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> target[propKey]   } }) } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> object = { <span class="hljs-attr"><span class="hljs-attr">message</span></span>: <span class="hljs-string"><span class="hljs-string">'hello world'</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> wrapped = wrap(object) <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(wrapped.message)</code> </pre> <br>  This code prints the following: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs vbscript">Reading <span class="hljs-keyword"><span class="hljs-keyword">property</span></span> <span class="hljs-string"><span class="hljs-string">"message"</span></span> hello world</code> </pre> <br>  In this example, we perform some action before we give the calling mechanism access to the property or method of the proxied object, and then return this property or this method.  A similar approach is applicable to intercepting property change operations by implementing a <code>set</code> handler. <br><br>  Proxy objects can be useful for checking attributes or performing similar actions, but I think the possible scope of their application is much wider.  For example, I believe that there should be new frameworks that use proxies in their basic functionality.  In thinking about all this, I had some ideas that I want to share. <br><br><h2>  <font color="#3AC1EF">API SDK in 20 lines of code</font> </h2><br>  As I said, <code>Proxy</code> objects allow you to intercept calls to methods that do not exist in proxied objects.  When calling the method of a proxied object, the <code>get</code> handler is called, after which a dynamically generated function can be returned.  However, this object, if it is not necessary, does not need to be changed. <br><br>  Armed with this idea, you can analyze the name and arguments of the called method and dynamically, during the execution of the program, implement its functionality. <br><br>  For example, there may be a proxy object that, when you call <code>api.getUsers()</code> , can create a <code>GET/users</code> path in the API.  This approach can be developed further.  For example, a command like <code>api.postItems({ name: 'Item name' })</code> can invoke <code>POST /items</code> using the first parameter of the method as a request body. <br><br>  Let's look at the programmatic expression of these arguments: <br><br><pre> <code class="hljs ruby">const { METHODS } = <span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(<span class="hljs-string"><span class="hljs-string">'http'</span></span>) const api = new Proxy({}, {   get(target, propKey) {     const method = METHODS.find(method =&gt;       propKey.startsWith(method.toLowerCase()))     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!method) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>     const path =       <span class="hljs-string"><span class="hljs-string">'/'</span></span> +       propKey         .substring(method.length)         .replace(<span class="hljs-regexp"><span class="hljs-regexp">/([az])([AZ])/g</span></span>, <span class="hljs-string"><span class="hljs-string">'$1/$2'</span></span>)         .replace(<span class="hljs-regexp"><span class="hljs-regexp">/\$/g</span></span>, <span class="hljs-string"><span class="hljs-string">'/$/'</span></span>)         .toLowerCase()     <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (...args) =&gt; {       const finalPath = path.replace(<span class="hljs-regexp"><span class="hljs-regexp">/\$/g</span></span>, () =&gt; args.shift())       const queryOrBody = args.shift() <span class="hljs-params"><span class="hljs-params">||</span></span> {}       /<span class="hljs-regexp"><span class="hljs-regexp">/    fetch       /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ return fetch(finalPath, { method, body: queryOrBody })       console.log(method, finalPath, queryOrBody)     }   } } ) /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ GET /</span></span> api.get() /<span class="hljs-regexp"><span class="hljs-regexp">/ GET /users</span></span> api.getUsers() /<span class="hljs-regexp"><span class="hljs-regexp">/ GET /users</span></span><span class="hljs-regexp"><span class="hljs-regexp">/1234/likes</span></span> api.getUsers$Likes(<span class="hljs-string"><span class="hljs-string">'1234'</span></span>) /<span class="hljs-regexp"><span class="hljs-regexp">/ GET /users</span></span><span class="hljs-regexp"><span class="hljs-regexp">/1234/likes</span></span>?page=<span class="hljs-number"><span class="hljs-number">2</span></span> api.getUsers$Likes(<span class="hljs-string"><span class="hljs-string">'1234'</span></span>, { <span class="hljs-symbol"><span class="hljs-symbol">page:</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> }) /<span class="hljs-regexp"><span class="hljs-regexp">/ POST /items</span></span>    api.postItems({ <span class="hljs-symbol"><span class="hljs-symbol">name:</span></span> <span class="hljs-string"><span class="hljs-string">'Item name'</span></span> }) /<span class="hljs-regexp"><span class="hljs-regexp">/ api.foobar    api.foobar()</span></span></code> </pre> <br>  Here we create a wrapper for an empty object - <code>{}</code> , while all methods are implemented dynamically.  Proxy does not need to be used with objects containing the necessary functionality or its parts.  The <code>$</code> icon is used as a wildcard for parameters. <br><br>  Here I would like to note that the above example is quite permissible to implement otherwise.  For example, it can be optimized.  Let's say that dynamically generated functions can be cached, which saves us from having to constantly return new functions.  All this is not directly related to proxy objects, so I, in order not to overload the examples, cite them in this form. <br><br><h2>  <font color="#3AC1EF">Querying data structures using convenient and understandable methods</font> </h2><br>  Suppose there is an array of information about certain people and you need to work with it something like this: <br><br><pre> <code class="hljs cs">arr.findWhereNameEquals(<span class="hljs-string"><span class="hljs-string">'Lily'</span></span>) arr.findWhereSkillsIncludes(<span class="hljs-string"><span class="hljs-string">'javascript'</span></span>) arr.findWhereSkillsIsEmpty() arr.findWhereAgeIsGreaterThan(<span class="hljs-number"><span class="hljs-number">40</span></span>)</code> </pre> <br>  This can be done using a proxy.  Namely, the array can be wrapped with a proxy object, which analyzes the calls to the methods and searches for the requested data in the array. <br><br>  Here is what it might look like: <br><br><pre> <code class="hljs pgsql">const camelcase = require(<span class="hljs-string"><span class="hljs-string">'camelcase'</span></span>) const prefix = <span class="hljs-string"><span class="hljs-string">'findWhere'</span></span> const assertions = { Equals: (<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>) =&gt; <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> === <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">IsNull</span></span>: (<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>) =&gt; <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> === <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, IsUndefined: (<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>) =&gt; <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> === undefined, IsEmpty: (<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>) =&gt; <span class="hljs-keyword"><span class="hljs-keyword">object</span></span>.length === <span class="hljs-number"><span class="hljs-number">0</span></span>, Includes: (<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>) =&gt; <span class="hljs-keyword"><span class="hljs-keyword">object</span></span>.includes(<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>), IsLowerThan: (<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>) =&gt; <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> === <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>, IsGreaterThan: (<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>) =&gt; <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> === <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> } const assertionNames = <span class="hljs-keyword"><span class="hljs-keyword">Object</span></span>.keys(assertions) const wrap = arr =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Proxy(arr, {   <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>(target, propKey) {     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (propKey <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> target) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> target[propKey]     const assertionName = assertionNames.find(<span class="hljs-keyword"><span class="hljs-keyword">assertion</span></span> =&gt;       propKey.endsWith(<span class="hljs-keyword"><span class="hljs-keyword">assertion</span></span>))     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (propKey.startsWith(prefix)) {       const field = camelcase(         propKey.substring(prefix.length,           propKey.length - assertionName.length)       )       const <span class="hljs-keyword"><span class="hljs-keyword">assertion</span></span> = assertions[assertionName]       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> =&gt; {         <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> target.find(item =&gt; <span class="hljs-keyword"><span class="hljs-keyword">assertion</span></span>(item[field], <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>))       }     }   } }) } const arr = wrap([ { <span class="hljs-type"><span class="hljs-type">name</span></span>: <span class="hljs-string"><span class="hljs-string">'John'</span></span>, age: <span class="hljs-number"><span class="hljs-number">23</span></span>, skills: [<span class="hljs-string"><span class="hljs-string">'mongodb'</span></span>] }, { <span class="hljs-type"><span class="hljs-type">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Lily'</span></span>, age: <span class="hljs-number"><span class="hljs-number">21</span></span>, skills: [<span class="hljs-string"><span class="hljs-string">'redis'</span></span>] }, { <span class="hljs-type"><span class="hljs-type">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Iris'</span></span>, age: <span class="hljs-number"><span class="hljs-number">43</span></span>, skills: [<span class="hljs-string"><span class="hljs-string">'python'</span></span>, <span class="hljs-string"><span class="hljs-string">'javascript'</span></span>] } ]) console.log(arr.findWhereNameEquals(<span class="hljs-string"><span class="hljs-string">'Lily'</span></span>)) //  Lily console.log(arr.findWhereSkillsIncludes(<span class="hljs-string"><span class="hljs-string">'javascript'</span></span>)) //  Iris</code> </pre> <br>  Very similar to what is shown here, it might look like writing using proxy library objects to work with statements like <a href="https://github.com/mjackson/expect">expect</a> . <br><br>  And here is another idea of ‚Äã‚Äãusing proxy objects.  It consists in creating a library for building queries to the database with the following API: <br><br><pre> <code class="hljs sql">const id = await db.insertUserReturningId(userInfo) //   <span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">user</span></span> ... <span class="hljs-keyword"><span class="hljs-keyword">RETURNING</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span></code> </pre> <br><h2>  <font color="#3AC1EF">Monitoring Asynchronous Functions</font> </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/6bf/e14/a27/6bfe14a27908a8c1dbe18184ad3376d1.png"><br><br>  Proxy objects allow you to intercept method calls.  If the method call returns a promise, the proxy capabilities let you know when the promise is resolved.  This feature can be used to monitor asynchronous methods of an object and generate statistical information on these methods, which, for example, can be output to the terminal. <br><br>  Consider an example.  There is a <code>service</code> object that implements some asynchronous functionality, and the <code>monitor</code> function, which accepts objects, wraps them into proxy objects and organizes monitoring of asynchronous methods of proxied objects.  Here is how, at a high level, the work of these mechanisms looks like: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> service = { callService() {   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">resolve</span></span></span><span class="hljs-function"> =&gt;</span></span>     setTimeout(resolve, <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.random() * <span class="hljs-number"><span class="hljs-number">50</span></span> + <span class="hljs-number"><span class="hljs-number">50</span></span>)) } } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> monitoredService = monitor(service) monitoredService.callService() <span class="hljs-comment"><span class="hljs-comment">//  ,    </span></span></code> </pre> <br>  Here is a complete example: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> logUpdate = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'log-update'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> asciichart = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'asciichart'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> chalk = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'chalk'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Measured = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'measured'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> timer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Measured.Timer() <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> history = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>(<span class="hljs-number"><span class="hljs-number">120</span></span>) history.fill(<span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> monitor = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">obj</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Proxy</span></span>(obj, {   get(target, propKey) {     <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> origMethod = target[propKey]     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!origMethod) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>     <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">...args</span></span></span><span class="hljs-function">) =&gt;</span></span> {       <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> stopwatch = timer.start()       <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> result = origMethod.apply(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, args)       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result.then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">out</span></span></span><span class="hljs-function"> =&gt;</span></span> {         <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> n = stopwatch.end()         history.shift()         history.push(n)         <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> out       })     }   } }) } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> service = { callService() {   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">resolve</span></span></span><span class="hljs-function"> =&gt;</span></span>     setTimeout(resolve, <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.random() * <span class="hljs-number"><span class="hljs-number">50</span></span> + <span class="hljs-number"><span class="hljs-number">50</span></span>)) } } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> monitoredService = monitor(service) setInterval(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { monitoredService.callService()   .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {     <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fields = [<span class="hljs-string"><span class="hljs-string">'min'</span></span>, <span class="hljs-string"><span class="hljs-string">'max'</span></span>, <span class="hljs-string"><span class="hljs-string">'sum'</span></span>, <span class="hljs-string"><span class="hljs-string">'variance'</span></span>,       <span class="hljs-string"><span class="hljs-string">'mean'</span></span>, <span class="hljs-string"><span class="hljs-string">'count'</span></span>, <span class="hljs-string"><span class="hljs-string">'median'</span></span>]     <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> histogram = timer.toJSON().histogram     <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> lines = [       <span class="hljs-string"><span class="hljs-string">''</span></span>,       ...fields.map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">field</span></span></span><span class="hljs-function"> =&gt;</span></span>         chalk.cyan(field) + <span class="hljs-string"><span class="hljs-string">': '</span></span> +         (histogram[field] || <span class="hljs-number"><span class="hljs-number">0</span></span>).toFixed(<span class="hljs-number"><span class="hljs-number">2</span></span>))     ]     logUpdate(asciichart.plot(history, { <span class="hljs-attr"><span class="hljs-attr">height</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span> })       + lines.join(<span class="hljs-string"><span class="hljs-string">'\n'</span></span>))   })   .catch(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">err</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error(err)) }, <span class="hljs-number"><span class="hljs-number">100</span></span>)</code> </pre> <br><h2>  <font color="#3AC1EF">Results</font> </h2><br>  Proxy objects in JavaScript are a very powerful tool.  In addition, the ability to dynamically implement methods based on their names adds code clarity and readability.  However, like any other additional level of abstraction, proxies create some load on the system.  I have not yet analyzed their performance, but if you plan to use them in production, check first how this will affect the speed of your project.  But, be that as it may, nothing prevents the use of proxies during development, realizing with their help, for example, monitoring asynchronous functions for debugging purposes. <br><br>  <b>Dear readers!</b>  Here is a discount especially for you :) <br><br> <a href="https://ruvds.com/ru-rub/"><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div><p>Source: <a href="https://habr.com/ru/post/347754/">https://habr.com/ru/post/347754/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../347744/index.html">How to package a dependent library in obr when developing a plugin for Jira</a></li>
<li><a href="../347746/index.html">Chromium: memory leaks</a></li>
<li><a href="../347748/index.html">Object in a case or Optional in Java 8 and Java 9. Part 3: ‚ÄúWhat's added in Java 9‚Äù</a></li>
<li><a href="../347750/index.html">Learn OpenGL. Lesson 4.6 - Cubic cards</a></li>
<li><a href="../347752/index.html">Spring AOP. Little question from the interview</a></li>
<li><a href="../347756/index.html">SuperJob IT meetup. Work with business requirements at different project scales</a></li>
<li><a href="../347758/index.html">Nonrandom chance, or Attack on PRNG in .NET</a></li>
<li><a href="../347760/index.html">And so it will do ... or how the data of 14 million Russians were in my hands</a></li>
<li><a href="../347764/index.html">20 times cheaper, 2.5 times more accurate and twice as convenient</a></li>
<li><a href="../347768/index.html">Conservative national crypto regulation. What do new bills carry us?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>