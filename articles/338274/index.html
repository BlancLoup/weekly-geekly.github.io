<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We create vulnerable virtual machines in two accounts with SecGen</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Today I want to draw your attention to an interesting SecGen project with the help of which it becomes possible to have a new Metasploitable or anothe...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We create vulnerable virtual machines in two accounts with SecGen</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/web/2bc/4d0/799/2bc4d0799db2424fbb776ee9ed7f92a4.jpg"><br><br>  Today I want to draw your attention to an interesting SecGen project with the help of which it becomes possible to have a new <a href="https://sourceforge.net/projects/metasploitable/files/Metasploitable2/">Metasploitable</a> or another virtual machine every day to learn the basics of ethical hacking. <br><br>  Everything happens in automatic mode, you just need to install the framework.  Getting started! <br><a name="habracut"></a><br><h2>  How it works? </h2><br>  SecGen is a script written in ruby.  At the heart of his work are <a href="https://www.vagrantup.com/">Vagrant</a> and <a href="https://puppet.com/">Puppet</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Let me remind you that <b>Vagrant</b> is a tool that allows you to quickly and conveniently deploy entire infrastructures from virtual machines using <a href="https://www.virtualbox.org/">VirtualBox</a> hypervisor, <a href="https://www.vmware.com/ru.html">VM Ware</a> locally or <a href="https://aws.amazon.com/">Amazon AWS</a> cloud service.  You can describe all the settings of the future virtual machine in a special Vagrantfile file.  And you do not have to download the ISO images of the OS, because  Vagrant already offers many ready-made images of virtual machines (box), which can be downloaded from a special <a href="https://app.vagrantup.com/boxes/search">directory</a> . <br><br>  And <b>Puppet</b> is an automation tool for setting up machines, replacing bash scripts.  Puppet has a clear configuration language.  Scripts are stored in files with the .pp extension.  Puppet can install certain software on the machine, before checking that the system meets the required conditions, configure it, set environment variables and much more. <br><br>  Thus, SecGen only needs to choose which box to download and deploy with Vagrant, which software to install and configure with Puppet and generate flags that the Pentester needs to find during operation. <br><br>  SecGen has a modular structure and each module is a distribution kit with a vulnerable application, its settings, puppet scripts and some additional files for correct processing of SecGen. <br><br><h2>  Installation </h2><br>  Officially, testing is done on the Ubuntu distribution and the installation process is described on the <a href="https://github.com/cliffe/SecGen">official github</a> .  I will use 64-bit Ubuntu 16.04.3, which itself is a virtual machine with 2.5 GB of RAM. <br><br>  Install the required packages <br><br><pre><code class="bash hljs">sudo apt-get install ruby-dev zlib1g-dev liblzma-dev build-essential patch virtualbox ruby-bundler vagrant imagemagick libmagickwand-dev exiftool</code> </pre> <br>  Also, you (may) need to install another package not listed on the official website. <br><br><pre> <code class="bash hljs">sudo apt-get install libpq-dev</code> </pre> <br>  Now we clone github repository <br><br><pre> <code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/cliffe/SecGen.git</code> </pre> <br>  Go to the created directory and perform the installation of all necessary <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> SecGen bundle install</code> </pre> <br>  The necessary Ruby libraries will be installed. <br><br><img src="https://habrastorage.org/web/1eb/fa8/fdd/1ebfa8fdd5b748598d7e0c5e63d53b32.PNG"><br><br>  Check that the script is working. <br><br><pre> <code class="bash hljs">ruby secgen.rb --<span class="hljs-built_in"><span class="hljs-built_in">help</span></span></code> </pre> <br>  And we see the available options <br><br><img src="https://habrastorage.org/web/786/d7d/b8b/786d7db8bbfc41718bdb0bf42ecd04ba.PNG"><br><br><h2>  Create your first car with a random set of vulnerabilities </h2><br>  This is the basic mode of operation of SecGen, if no keys are specified.  We execute the command <br><br><pre> <code class="bash hljs">ruby secgen.rb run</code> </pre> <br>  The download of the Vagrant box will begin, which for us automatically chose SecGen <br><br><img src="https://habrastorage.org/web/4b0/1bf/b0a/4b01bfb0a8be490aa19b2d5857004579.PNG"><br><br>  When the Vagrant virtual machine image is downloaded and imported, the virtual machine starts up. <br><br><img src="https://habrastorage.org/web/a79/519/d7a/a79519d7a3624405bbdbb6b678c7261b.PNG"><br><br>  The SSH forward is automatically configured to access the machine on port 2222. A key is generated, SecGen connects to the machine, installs rsync, and installs and configures everything needed. <br><br><img src="https://habrastorage.org/web/6b0/f3d/b36/6b0f3db36e41447ebc2b62a27d26e7b0.PNG"><br><br>  Please note that if your host machine does not have direct access to the repositories, and you are working, for example, through a proxy, the installation process will be interrupted, since the guest virtual machine will not be able to install rsync.  In this case, you will need to get direct access to the repositories, delete the virtual machine and run SecGen again with the build-vms key. <br><br>  All the necessary puppet scripts will be executed. <br><br><img src="https://habrastorage.org/web/b9c/ed6/983/b9ced6983e0643dc87699a25381beb1d.PNG"><br><br>  And in the end you will see a message in the console. <br><br><img src="https://habrastorage.org/web/688/619/1b7/6886191b7a9a40028d79dbea42e49f6d.PNG"><br><br>  And with the help of the virtualbox command you can make sure that the machine is really running. <br><br><img src="https://habrastorage.org/web/bef/a2f/955/befa2f9555664b058f1e999e699598b6.PNG"><br><br><h2>  Anatomy </h2><br>  In the SecGen directory, among others, there are directories projects, scenarios and modules. <br><br>  <b>Projects</b> <br><br>  projects, as the name implies, will store everything needed to create the virtual machine described in the project.  You can remove the car and regenerate exactly the same.  To do this, you will need to run the following command indicating the project <br><br><pre> <code class="bash hljs">ruby secgen.rb --project home/user/SecGen/projects/SecGen20170920_1154 build-vms</code> </pre> <br>  To get a list of projects, you need to run the command <br><br><pre> <code class="bash hljs">ruby secgen.rb list-projects</code> </pre> <br>  And we get the result <br><br><img src="https://habrastorage.org/web/244/8b6/7c1/2448b67c17d945c39f33cf8fcb62be12.PNG"><br><br>  Similarly, there is a build-project key, by specifying which configuration files for Vagrant and Puppet will be created, but virtual machines will not be created. <br><br>  <b>Scenarios</b> <br><br>  SecGen, when launched without a key, will create for us a virtual machine with a random set of vulnerabilities, but we can influence their nature using scripts.  They are stored in the scenarios directory as XML files and categorized.  The default is default_scenario.xml and it looks like this. <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">scenario</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.github/cliffe/SecGen/scenario"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xsi:schemaLocation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.github/cliffe/SecGen/scenario"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- an example remote storage system, with a remotely exploitable vulnerability that can then be escalated to root --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">system</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">system_name</span></span></span><span class="hljs-tag">&gt;</span></span>storage_server<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">system_name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">base</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">platform</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"linux"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"server"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">vulnerability</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">privilege</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"user_rwx"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">access</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"remote"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">vulnerability</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">privilege</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"root_rwx"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">access</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"local"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">service</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">network</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"private_network"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">range</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"dhcp"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">system</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">scenario</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  It says that a Linux virtual machine will be created, containing two vulnerabilities of the types remote and local.  Those.  you will first need to get to the server through one vulnerability and then exploit the second locally. <br><br>  Usually from the name of the script it becomes clear which machine SecGen will create, for example the script any_random_vulnerability.xml.  I recommend to familiarize with examples in the scenarios / examples directory. <br><br>  There are quite complex scripts in the scenarios / security_audit and scenarios / ctf directories. <br>  For CTF is invited to use the <a href="https://github.com/cliffe/flawed_fortress-secgen_ctf_frontend">frontend</a> from the developers of SecGen. <br><br>  <b>Modules</b> <br><br>  From the description of the scenarios it becomes clear that the modules are divided into categories.  All modules are collected in the modules directory and are divided into <br><br><ul><li>  bases </li><li>  build </li><li>  encoders </li><li>  generators </li><li>  networks </li><li>  services </li><li>  utilities </li><li>  vulnerabilities </li></ul><br>  In turn, in each group there are subgroups, like smb, webapp, bash, ftp, etc. <br><br>  Each module has approximately the following structure <br><br><img src="https://habrastorage.org/web/c58/256/473/c58256473e44451382420aa743143bd7.PNG"><br><br>  The secgen_metadata.xml file describes the module in detail.  This is necessary for the correct operation of the scripts and the selection of this module for the appropriate case. <br><br>  Part of file <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">vulnerability</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.github/cliffe/SecGen/vulnerability"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xsi:schemaLocation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.github/cliffe/SecGen/vulnerability "</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>chkrootkit 0.49 privilege escalation<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">author</span></span></span><span class="hljs-tag">&gt;</span></span>Thomas Shaw<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">author</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">module_license</span></span></span><span class="hljs-tag">&gt;</span></span>MIT<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">module_license</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span> chkrootkit 0.49 and earlier contain a local privilege escalation vulnerability allowing a non-root user to place a script in /tmp that will be executed as root when chkrootkit is run. This module adds a cronjob to run chkrootkit periodically for exploitability. <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">type</span></span></span><span class="hljs-tag">&gt;</span></span>privilege_escalation<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">type</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">privilege</span></span></span><span class="hljs-tag">&gt;</span></span>root_rwx<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">privilege</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">access</span></span></span><span class="hljs-tag">&gt;</span></span>local<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">access</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">platform</span></span></span><span class="hljs-tag">&gt;</span></span>linux<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">platform</span></span></span><span class="hljs-tag">&gt;</span></span> ...</code> </pre> <br>  The manifes directory contains puppet configure.pp, init.pp and install.pp scripts. <br>  The files directory contains the necessary distributions.  In this case, one file chkrootkit-0.49.tar.gz <br><br>  <b>Project Details</b> <br><br>  When a project is created, you can find a scenario.xml file in it that describes which vulnerabilities were used and how to get flags in general. <br><br>  For example, in our project we can find two XML vulnerability tags pointing to modules <br>  modules / vulnerabilities / unix / misc / distcc_exec with a description of "distcc has a documented security weakness that enables remote code execution" and modules / vulnerabilities / unix / desktop / xfce_lightdm_root_login with a description of "Configures XFCE w / \. " <br><br>  If it is not clear from the module description what the essence is, you can go to the appropriate directory and examine the module files. <br><br>  Also in the project directory there is a hidden directory .vagrant, which, in particular, contains the private key for access to the server via the SSH protocol under the vagrant user.  Private_key file <br><br>  Thus, you can connect to a virtual machine as follows. <br><br><pre> <code class="bash hljs">ssh vagrant@127.0.0.1 -p 2222 -i private_key</code> </pre> <br><img src="https://habrastorage.org/web/6a5/b09/9b9/6a5b099b9a7542ba930afcc0f4faa8c0.PNG"><br><br>  the ifconfig command will give us the following result <br><br><pre> <code class="bash hljs">eth0 Link encap:Ethernet HWaddr 08:00:27:86:1c:fb inet addr:10.0.2.15 Bcast:10.0.2.255 Mask:255.255.255.0 inet6 addr: fe80::a00:27ff:fe86:1cfb/64 Scope:Link UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1 RX packets:125254 errors:0 dropped:0 overruns:0 frame:0 TX packets:13570 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:1000 RX bytes:177651061 (169.4 MiB) TX bytes:1034124 (1009.8 KiB) eth1 Link encap:Ethernet HWaddr 08:00:27:83:ea:5e inet addr:172.28.128.3 Bcast:172.28.128.255 Mask:255.255.255.0 inet6 addr: fe80::a00:27ff:fe83:ea5e/64 Scope:Link UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1 RX packets:8 errors:0 dropped:0 overruns:0 frame:0 TX packets:14 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:1000 RX bytes:3130 (3.0 KiB) TX bytes:2304 (2.2 KiB) lo Link encap:Local Loopback inet addr:127.0.0.1 Mask:255.0.0.0 inet6 addr: ::1/128 Scope:Host UP LOOPBACK RUNNING MTU:16436 Metric:1 RX packets:0 errors:0 dropped:0 overruns:0 frame:0 TX packets:0 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:0 RX bytes:0 (0.0 B) TX bytes:0 (0.0 B)</code> </pre><br><h2>  We are testing </h2><br>  We found out the IP address and now you can perform penetration testing.  Check the availability of the virtual machine from the host <br><br><img src="https://habrastorage.org/web/a38/e4d/e11/a38e4de11b24451b88b451e514a43349.PNG"><br><br>  Scan and detect the following open ports. <br><br><pre> <code class="bash hljs">sudo nmap -n -Pn -p- 172.28.128.3</code> </pre> <br><img src="https://habrastorage.org/web/4a0/73e/bb5/4a073ebb52344dcb869de450cd548d2f.PNG"><br><br>  Further, with the help of your favorite distribution for penetration testing, you can begin the operation of distcc. <br><br>  The only thing is that, by default, the virtual machine has two interfaces in the NAT and Host-Only modes, so you can get access to it from an external machine or by setting up port forwarding in the NAT interface. <br><br><img src="https://habrastorage.org/web/dd5/827/1a9/dd58271a9d614484a7ef1ff29329c758.PNG"><br><br>  Or reconfigure the machine, which is the entry point to use a different type of Virtualbox interface, accessible from the outside. <br><br>  You can change the type of interface Host-Only to Bridged, restart the machine and assign a static IP address if your infrastructure does not have DHCP.  And do not forget to set routes across the bridge. <br><br><h2>  In custody </h2><br>  Of course, people write modules and errors are possible.  But in most cases, SecGen creates correctly configured and working virtual machines for practice.  On the <a href="https://github.com/cliffe/SecGen">official website</a> in English, you can study detailed instructions for creating your own scripts and modules, which greatly expands the capabilities of SecGen and, I hope, will allow the project to develop further. </div><p>Source: <a href="https://habr.com/ru/post/338274/">https://habr.com/ru/post/338274/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../338256/index.html">Recommendations for neutralizing threats related to the vulnerability CVE-2017-8759</a></li>
<li><a href="../338262/index.html">Superjob IT meetup. System Business Analysis</a></li>
<li><a href="../338264/index.html">We write for UEFI BIOS in Visual Studio. Part 1 - Deploying the development environment, compiling and running to debug</a></li>
<li><a href="../338268/index.html">Go faster Rust, Mail.Ru Group made measurements</a></li>
<li><a href="../338270/index.html">4 common design mistakes that are easy to fix</a></li>
<li><a href="../338276/index.html">Backup for Zimbra Collaboration Suite</a></li>
<li><a href="../338278/index.html">RailsClub 2017. The answer to three main questions from Piotr Solnica</a></li>
<li><a href="../338280/index.html">From the doctor to the system administrator: is there life in IT after the Hippocratic Oath?</a></li>
<li><a href="../338282/index.html">Vivaldi 1.12 - Immersion in the details</a></li>
<li><a href="../338284/index.html">IIDF: Acceleration Experience of ISDEF Member Companies</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>