<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Tutorial: listing modules and cameras</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The listing of functional modules and several cameras is an important component of the application logic for selecting the desired device. This tutori...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Tutorial: listing modules and cameras</h1><div class="post__text post__text-html js-mediator-article">  The listing of functional modules and several cameras is an important component of the application logic for selecting the desired device.  This tutorial describes the method for enumerating modules and multiple devices so that you can select the one you want. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/98a/7fc/623/98a7fc623c4f42f28e660d8f6a39ed9d.jpg"></div><br><a name="habracut"></a><br>  Detection of cameras connected to the system, and identification of the capabilities of these cameras can be simplified by enumerating devices.  The <a href="https://software.intel.com/en-us/intel-realsense-sdk">Intel RealSense SDK 2016 R1</a> provides a mechanism using <i>PXCSession :: ImplDesc</i> and <i>PXCCapture :: DeviceInfo</i> , which allows developers to obtain information such as the friendly name of the device, supported modules, etc. <br><br>  This tutorial shows the Intel RealSense SDK classes needed to initialize and then list modules and devices. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  <font color="#0071c5">Initialization</font> </h2><br>  An example of initialization of the main Intel RealSense SDK handlers is implemented to enable the creation of PXCSession at any time during the operation of the application. <br><br><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> argc, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *argv[])</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">try</span></span></span><span class="hljs-function"> </span></span>{ PXCSession *pSession; PXCSession::ImplDesc *pDesc; PXCCapture *pCapture; PXCSenseManager *pSenseManager; <span class="hljs-comment"><span class="hljs-comment">// Initialize pSession = PXCSession::CreateInstance(); pDesc = new PXCSession::ImplDesc(); pDesc-&gt;group = PXCSession::ImplGroup::IMPL_GROUP_SENSOR; pDesc-&gt;subgroup = PXCSession::ImplSubgroup::IMPL_SUBGROUP_VIDEO_CAPTURE;</span></span></code> </pre> <br><h2>  <font color="#0071c5">Enumeration</font> </h2><br>  The enumeration of modules and devices is carried out by sequentially <i>iterating</i> through the modules of <i>PXCSession :: ImplDesc</i> and obtaining understandable changes.  It then iterates through <i>PXCCapture :: DeviceInfo</i> and polls the device.  In this way, you can interrogate the modules and device capabilities for all cameras connected to the system. <br><br><pre> <code class="cpp hljs"> <span class="hljs-comment"><span class="hljs-comment">// Enumerate Devices std::string temp; // iterating over the present modules for (int m = 0; ; m++) { PXCSession::ImplDesc desc2; if (pSession-&gt;QueryImpl(pDesc, m, &amp;desc2) &lt; pxcStatus::PXC_STATUS_NO_ERROR) { break; } //temp = format("Module[%d]: %d", m, desc2.friendlyName); wstring ws(desc2.friendlyName); string str(ws.begin(), ws.end()); std::cout &lt;&lt; "Module[" &lt;&lt; m &lt;&lt; "]: " &lt;&lt; str.c_str() &lt;&lt; std::endl; PXCCapture *pCap; pSession-&gt;CreateImpl&lt;PXCCapture&gt;(&amp;desc2, &amp;pCap); // interating over the devices for (int d = 0; ; d++) { PXCCapture::DeviceInfo dinfo; if (pCap-&gt;QueryDeviceInfo(d, &amp;dinfo) &lt; pxcStatus::PXC_STATUS_NO_ERROR) { break; }; wstring ws(dinfo.name); string str(ws.begin(), ws.end()); std::cout &lt;&lt; "Device[" &lt;&lt; d &lt;&lt; "]: " &lt;&lt; str.c_str() &lt;&lt; std::endl; /*wstring ws(dinfo.orientation); string str(ws.begin(), ws.end()); std::cout &lt;&lt; "Device[" &lt;&lt; d &lt;&lt; "]: " &lt;&lt; str.c_str() &lt;&lt; std::endl; wstring ws(dinfo.model); string str(ws.begin(), ws.end()); std::cout &lt;&lt; "Device[" &lt;&lt; d &lt;&lt; "]: " &lt;&lt; str.c_str() &lt;&lt; std::endl;*/ } }</span></span></code> </pre><br>  Pay attention to the external loop, necessary for sequential iteration of the current module, and the internal loop, which serves to iterate through the connected devices. <br><br><h2>  <font color="#0071c5">Conclusion</font> </h2><br>  Enumeration of cameras is an important stage in the operation of any application, in which you may need to select a specific camera from several connected to the system.  This tutorial presents a simple scheme for listing cameras for developers who want to embed the necessary selection logic into their application after identifying a specific camera and its capabilities.  A full usage example is provided in Appendix 1 of this tutorial. <br><br><h2>  <font color="#0071c5">Resources</font> </h2><br><ul><li>  <a href="https://software.intel.com/sites/landingpage/realsense/camera-sdk/v1.1/documentation/html/index.html%3Fdoc_devguide_introduction.html">Intel RealSense SDK Documentation</a> </li><li>  <a href="https://software.intel.com/en-us/articles/developer-guide-to-intel-realsense-camera-detection-methods">Intel RealSense Camera Detection Technician Development Guide</a> </li><li>  <a href="https://software.intel.com/en-us/articles/f200-to-sr300-coding">Writing code for two cameras at once - Intel RealSense front-view camera</a> </li></ul><br><div class="spoiler">  <b class="spoiler_title">Appendix 1. Sample Source Code</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;windows.h&gt; #include &lt;iostream&gt; #include &lt;string&gt; #include &lt;cstdio&gt; // #include "pxcbase.h" #include "pxcsensemanager.h" #include "pxcmetadata.h" #include "service/pxcsessionservice.h" #include "pxccapture.h" #include "pxccapturemanager.h" using namespace std; int main(int argc, char *argv[]) try { PXCSession *pSession; PXCSession::ImplDesc *pDesc; PXCCapture *pCapture; PXCSenseManager *pSenseManager; // Initialize pSession = PXCSession::CreateInstance(); pDesc = new PXCSession::ImplDesc(); pDesc-&gt;group = PXCSession::ImplGroup::IMPL_GROUP_SENSOR; pDesc-&gt;subgroup = PXCSession::ImplSubgroup::IMPL_SUBGROUP_VIDEO_CAPTURE; // Enumerate Devices std::string temp; for (int m = 0; ; m++) { PXCSession::ImplDesc desc2; if (pSession-&gt;QueryImpl(pDesc, m, &amp;desc2) &lt; pxcStatus::PXC_STATUS_NO_ERROR) { break; } //temp = format("Module[%d]: %d", m, desc2.friendlyName); wstring ws(desc2.friendlyName); string str(ws.begin(), ws.end()); std::cout &lt;&lt; "Module[" &lt;&lt; m &lt;&lt; "]: " &lt;&lt; str.c_str() &lt;&lt; std::endl; PXCCapture *pCap; pSession-&gt;CreateImpl&lt;PXCCapture&gt;(&amp;desc2, &amp;pCap); // print out all device information for (int d = 0; ; d++) { PXCCapture::DeviceInfo dinfo; if (pCap-&gt;QueryDeviceInfo(d, &amp;dinfo) &lt; pxcStatus::PXC_STATUS_NO_ERROR) { break; }; wstring ws(dinfo.name); string str(ws.begin(), ws.end()); std::cout &lt;&lt; "Device[" &lt;&lt; d &lt;&lt; "]: " &lt;&lt; str.c_str() &lt;&lt; std::endl; /*wstring ws(dinfo.orientation); string str(ws.begin(), ws.end()); std::cout &lt;&lt; "Device[" &lt;&lt; d &lt;&lt; "]: " &lt;&lt; str.c_str() &lt;&lt; std::endl; wstring ws(dinfo.model); string str(ws.begin(), ws.end()); std::cout &lt;&lt; "Device[" &lt;&lt; d &lt;&lt; "]: " &lt;&lt; str.c_str() &lt;&lt; std::endl;*/ } } cin.clear(); cout &lt;&lt; endl &lt;&lt; "Press any key to continue..."; cin.ignore(); return 0; } catch (const char *c) { std::cerr &lt;&lt; "Program aborted: " &lt;&lt; c &lt;&lt; "\n"; MessageBox(GetActiveWindow(), (LPCWSTR)c, L"FAIL", 0); } catch (std::exception e) { std::cerr &lt;&lt; "Program aborted: " &lt;&lt; e.what() &lt;&lt; "\n"; MessageBox(GetActiveWindow(), (LPCWSTR)e.what(), L"FAIL", 0); }</span></span></span></span></code> </pre><br></div></div></div><p>Source: <a href="https://habr.com/ru/post/313290/">https://habr.com/ru/post/313290/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../313276/index.html">Dirty COW dangerous 0-day vulnerability found in Linux kernel (CVE-2016-5195)</a></li>
<li><a href="../313278/index.html">The role of free software in a world where people don't care</a></li>
<li><a href="../313284/index.html">The Stage for the Tower of Babel, or On Custom Data Types for Multilingual Applications</a></li>
<li><a href="../313286/index.html">Breaking Up the Monolith: Refactoring the Web Application Architecture</a></li>
<li><a href="../313288/index.html">Fixed dangerous vulnerability in Linux kernel</a></li>
<li><a href="../313292/index.html">Windows Server 2016: clouds - to the masses</a></li>
<li><a href="../313294/index.html">Overview of decentralized crypto platforms. Part 2: Lisk</a></li>
<li><a href="../313296/index.html">On the second front line: our experience in developing technical support</a></li>
<li><a href="../313298/index.html">Drupal Composer recipes</a></li>
<li><a href="../313300/index.html">How to assess market share in the segment of mobile device users?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>