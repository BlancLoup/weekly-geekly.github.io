<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Dive into BerkeleyDB JE. Introduction to DPL API</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 A little bit about sabzh. BerkeleyDB is a high-performance embedded DBMS that comes in the form of a library for various programming la...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Dive into BerkeleyDB JE. Introduction to DPL API</h1><div class="post__text post__text-html js-mediator-article"><h3>  Introduction </h3><br>  A little bit about sabzh.  BerkeleyDB is a high-performance embedded DBMS that comes in the form of a library for various programming languages.  This solution assumes the storage of key-value pairs, the ability to assign several values ‚Äã‚Äãto one key is also supported.  BerkeleyDB supports multi-threading, replication, and more.  Attention of this article will be paid primarily to the use of the library provided by Sleepycat Software in the bearded 90s.  This article will cover the main aspects of working with the DPL (Direct Persistence Layer) API. <br><br>  <b>Note</b> : All examples in this article will be given in the Kotlin language. <br><a name="habracut"></a><br><h3>  Entity description </h3><br>  For a start, let's look at how to describe entities.  Fortunately, it is very similar to JPA.  All entities are reflected as classes with annotations <code>@Persistent</code> and <code>@Entity</code> , each of which allows you to specify in an explicit form the version of the described entity.  Within the framework of this article, we will use only the <code>@Entity</code> annotation, in the following ones - light will be shed on <code>@Persitent</code> <br><br><div class="spoiler">  <b class="spoiler_title">Simple entity example</b> <div class="spoiler_text"><pre> <code class="hljs delphi">@Entity(version = SampleDBO.schema) <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> SampleDBO <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constructor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-comment"><span class="hljs-function"><span class="hljs-comment">{ companion object { const val schema = 1 }</span></span></span><span class="hljs-function"> @</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrimaryKey</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lateinit</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">var</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">id</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">String</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> @SecondaryKey(relate = Relationship.MANY_TO_ONE) lateinit <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">String</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constructor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(id: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">name</span></span></span></span><span class="hljs-function"><span class="hljs-params">: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> this() <span class="hljs-comment"><span class="hljs-comment">{ this.id = id this.name = name }</span></span> }</code> </pre><br>  <b>Note</b> : for the key with the <code>@PrimaryKey</code> annotation of the <code>java.lang.Long</code> type, you can also specify the sequence parameter, which will create a separate sequence for generating the identifiers of your entities.  Alas, in Kotlin does not work. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div><br>  It is worth noting separately that: firstly, all entities need to leave the default private constructor for the library to work correctly, secondly, the <code>@SecondaryKey</code> annotation <code>@SecondaryKey</code> be present in each entity field that we want to index later on.  In this case, this is the name field. <br><br><h3>  Using constraints </h3><br>  To use constraints in entities, the creators offer a completely straightforward way - to perform verification inside accessors.  Modify the example above for clarity. <br><br><div class="spoiler">  <b class="spoiler_title">Constraint example</b> <div class="spoiler_text"><pre> <code class="hljs kotlin"><span class="hljs-meta"><span class="hljs-meta">@Entity(version = SampleDBO.schema)</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SampleDBO</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">private</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">constructor</span></span></span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">companion</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> schema = <span class="hljs-number"><span class="hljs-number">1</span></span> } <span class="hljs-meta"><span class="hljs-meta">@PrimaryKey</span></span> <span class="hljs-keyword"><span class="hljs-keyword">lateinit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> id: String <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-meta"><span class="hljs-meta">@SecondaryKey(relate = Relationship.MANY_TO_ONE)</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> name: String? = <span class="hljs-literal"><span class="hljs-literal">null</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>(value) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(value == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> IllegalArgumentException(<span class="hljs-string"><span class="hljs-string">"Illegal name passed: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${value}</span></span></span><span class="hljs-string">. Non-null constraint failed"</span></span>) } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(value.length &lt; <span class="hljs-number"><span class="hljs-number">4</span></span> || value.length &gt; <span class="hljs-number"><span class="hljs-number">16</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> IllegalArgumentException(<span class="hljs-string"><span class="hljs-string">"Illegal name passed: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${value}</span></span></span><span class="hljs-string">. Expected length in 4..16, but was: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${value.length}</span></span></span><span class="hljs-string">"</span></span>) } } <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(id: String, name: String): <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.id = id <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name = name } }</code> </pre><br></div></div><br><h3>  Relationship between entities </h3><br>  BerkeleyDB JE supports all types of relationships: <br><br><ul><li>  1: 1 <code>Relationship.ONE_TO_ONE</code> </li><li>  1: N <code>Relationship.ONE_TO_MANY</code> </li><li>  N: 1 <code>Relationship.MANY_TO_ONE</code> </li><li>  N: M <code>Relationship.MANY_TO_MANY</code> </li></ul><br>  To describe the relationship between entities, the same <code>@SecondaryKey</code> with three additional parameters: <br><br><ul><li>  <code>relatedEntity</code> - class of entity, the relation to which is described </li><li>  <code>onRelatedEntityDelete</code> - behavior when deleting an entity (interrupting a transaction, zeroing references, cascading deletion) </li><li>  <code>name</code> - the entity field that acts as foreign key </li></ul><br><div class="spoiler">  <b class="spoiler_title">Relationship between entities on the example of a primitive shop</b> <div class="spoiler_text"><pre> <code class="hljs kotlin"><span class="hljs-meta"><span class="hljs-meta">@Entity(version = CustomerDBO.schema)</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CustomerDBO</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">private</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">constructor</span></span></span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">companion</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> schema = <span class="hljs-number"><span class="hljs-number">1</span></span> } <span class="hljs-meta"><span class="hljs-meta">@PrimaryKey()</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> id: String? = <span class="hljs-literal"><span class="hljs-literal">null</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-meta"><span class="hljs-meta">@SecondaryKey(relate = Relationship.ONE_TO_ONE)</span></span> <span class="hljs-keyword"><span class="hljs-keyword">lateinit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> email: String <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> balance: <span class="hljs-built_in"><span class="hljs-built_in">Long</span></span> = <span class="hljs-number"><span class="hljs-number">0L</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(email: String, balance: <span class="hljs-built_in"><span class="hljs-built_in">Long</span></span>): <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.email = email <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.balance = balance } <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(id: String, email: String, balance: <span class="hljs-built_in"><span class="hljs-built_in">Long</span></span>): <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>(email, balance) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.id = id } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: String { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"CustomerDBO(id=</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$id</span></span></span><span class="hljs-string">, email=</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$email</span></span></span><span class="hljs-string">, balance=</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$balance</span></span></span><span class="hljs-string">)"</span></span> } }</code> </pre><br><pre> <code class="hljs kotlin"><span class="hljs-meta"><span class="hljs-meta">@Entity(version = ProductDBO.schema)</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ProductDBO</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">companion</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> schema = <span class="hljs-number"><span class="hljs-number">1</span></span> } <span class="hljs-meta"><span class="hljs-meta">@PrimaryKey()</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> id: String? = <span class="hljs-literal"><span class="hljs-literal">null</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-meta"><span class="hljs-meta">@SecondaryKey(relate = Relationship.MANY_TO_ONE)</span></span> <span class="hljs-keyword"><span class="hljs-keyword">lateinit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> name: String <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> price: <span class="hljs-built_in"><span class="hljs-built_in">Long</span></span> = <span class="hljs-number"><span class="hljs-number">0L</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> amount: <span class="hljs-built_in"><span class="hljs-built_in">Long</span></span> = <span class="hljs-number"><span class="hljs-number">0L</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(): <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(name: String, price: <span class="hljs-built_in"><span class="hljs-built_in">Long</span></span>, amount: <span class="hljs-built_in"><span class="hljs-built_in">Long</span></span>): <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name = name <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.price = price <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.amount = amount } <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(id: String, name: String, price: <span class="hljs-built_in"><span class="hljs-built_in">Long</span></span>, amount: <span class="hljs-built_in"><span class="hljs-built_in">Long</span></span>): <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>(name, price, amount) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.id = id } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: String { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"ProductDBO(id=</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$id</span></span></span><span class="hljs-string">, name=</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$name</span></span></span><span class="hljs-string">, price=</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$price</span></span></span><span class="hljs-string">, amount=</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$amount</span></span></span><span class="hljs-string">)"</span></span> } }</code> </pre><br><pre> <code class="hljs kotlin"><span class="hljs-meta"><span class="hljs-meta">@Entity(version = ProductChunkDBO.schema)</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ProductChunkDBO</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">companion</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> schema = <span class="hljs-number"><span class="hljs-number">1</span></span> } <span class="hljs-meta"><span class="hljs-meta">@PrimaryKey()</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> id: String? = <span class="hljs-literal"><span class="hljs-literal">null</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-meta"><span class="hljs-meta">@SecondaryKey(relate = Relationship.MANY_TO_ONE, relatedEntity = OrderDBO::class, onRelatedEntityDelete = DeleteAction.CASCADE)</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> orderId: String? = <span class="hljs-literal"><span class="hljs-literal">null</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-meta"><span class="hljs-meta">@SecondaryKey(relate = Relationship.MANY_TO_ONE, relatedEntity = ProductDBO::class, onRelatedEntityDelete = DeleteAction.CASCADE)</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> itemId: String? = <span class="hljs-literal"><span class="hljs-literal">null</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> amount: <span class="hljs-built_in"><span class="hljs-built_in">Long</span></span> = <span class="hljs-number"><span class="hljs-number">0L</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(orderId: String, itemId: String, amount: <span class="hljs-built_in"><span class="hljs-built_in">Long</span></span>): <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.orderId = orderId <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.itemId = itemId <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.amount = amount } <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(id: String, orderId: String, itemId: String, amount: <span class="hljs-built_in"><span class="hljs-built_in">Long</span></span>): <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>(orderId, itemId, amount) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.id = id } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: String { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"ProductChunkDBO(id=</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$id</span></span></span><span class="hljs-string">, orderId=</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$orderId</span></span></span><span class="hljs-string">, itemId=</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$itemId</span></span></span><span class="hljs-string">, amount=</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$amount</span></span></span><span class="hljs-string">)"</span></span> } }</code> </pre><br><pre> <code class="hljs kotlin"><span class="hljs-meta"><span class="hljs-meta">@Entity(version = OrderDBO.schema)</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OrderDBO</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">companion</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> schema = <span class="hljs-number"><span class="hljs-number">1</span></span> } <span class="hljs-meta"><span class="hljs-meta">@PrimaryKey()</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> id: String? = <span class="hljs-literal"><span class="hljs-literal">null</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-meta"><span class="hljs-meta">@SecondaryKey(relate = Relationship.MANY_TO_ONE, relatedEntity = CustomerDBO::class, onRelatedEntityDelete = DeleteAction.CASCADE)</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> customerId: String? = <span class="hljs-literal"><span class="hljs-literal">null</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-meta"><span class="hljs-meta">@SecondaryKey(relate = Relationship.ONE_TO_MANY, relatedEntity = ProductChunkDBO::class, onRelatedEntityDelete = DeleteAction.NULLIFY)</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> itemChunkIds: MutableSet&lt;String&gt; = HashSet() <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> isExecuted: <span class="hljs-built_in"><span class="hljs-built_in">Boolean</span></span> = <span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(customerId: String, itemChunkIds: List&lt;String&gt; = emptyList()): <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.customerId = customerId <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.itemChunkIds.addAll(itemChunkIds) } <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(id: String, customerId: String, itemChunkIds: List&lt;String&gt; = emptyList()): <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>(customerId, itemChunkIds) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.id = id } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setExecuted</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.isExecuted = <span class="hljs-literal"><span class="hljs-literal">true</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: String { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"OrderDBO(id=</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$id</span></span></span><span class="hljs-string">, customerId=</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$customerId</span></span></span><span class="hljs-string">, itemChunkIds=</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$itemChunkIds</span></span></span><span class="hljs-string">, isExecuted=</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$isExecuted</span></span></span><span class="hljs-string">)"</span></span> } }</code> </pre><br></div></div><br><h3>  Configuration </h3><br>  BerkeleyDB JE provides extensive configuration options.  This article will cover the minimum settings required for writing a client application, and in the future, as far as possible, the light will be shed on more advanced features. <br><br>  To begin with, consider the entry points to the component that will work with the database.  In our case, these will be the <code>Environment</code> and <code>EntityStore</code> .  Each of them provides an impressive list of different options. <br><br><h4>  Environment </h4><br>  Setting work with the environment involves the definition of standard parameters.  In the simplest form, something like this will be released: <br><br><pre> <code class="hljs scala"> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> environment by <span class="hljs-keyword"><span class="hljs-keyword">lazy</span></span> { <span class="hljs-type"><span class="hljs-type">Environment</span></span>(dir, <span class="hljs-type"><span class="hljs-type">EnvironmentConfig</span></span>().apply { transactional = <span class="hljs-literal"><span class="hljs-literal">true</span></span> allowCreate = <span class="hljs-literal"><span class="hljs-literal">true</span></span> nodeName = <span class="hljs-string"><span class="hljs-string">"SampleNode_1"</span></span> cacheSize = <span class="hljs-type"><span class="hljs-type">Runtime</span></span>.getRuntime().maxMemory() / <span class="hljs-number"><span class="hljs-number">8</span></span> offHeapCacheSize = dir.freeSpace / <span class="hljs-number"><span class="hljs-number">8</span></span> }) }</code> </pre><br><ul><li>  <code>transactional</code> - set to <code>true</code> if you want to use transactions </li><li>  <code>allowCreate</code> - set to <code>true</code> if the environment is to be created, if it is not found in the specified directory </li><li>  <code>nodeName</code> - set the name for a configurable Environment;  A very nice option, if the application will use several Environment, and you <strike>do not</strike> want <strike>to shoot yourself a leg to</strike> have readable logs </li><li>  <code>cacheSize</code> - the amount of memory that will be allocated under the in-memory cache </li><li>  <code>offHeapCacheSize</code> - the amount of memory that will be allocated for disk cache </li></ul><br><h4>  EntityStore </h4><br>  If the application uses the DPL API, the main class for working with the database will be EntityStore.  The standard configuration is as follows: <br><br><pre> <code class="hljs pgsql"> val store <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> lazy { EntityStore(environment, <span class="hljs-type"><span class="hljs-type">name</span></span>, StoreConfig().apply { transactional = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> allowCreate = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> }) }</code> </pre><br><h3>  Indexes, data access </h3><br>  In order to understand how indexes work, the easiest way to consider this SQL query is: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> customers <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> email;</code> </pre><br>  In BerkeleyDB JE, ‚Äã‚Äãthis query can be implemented as follows: the first thing that is required is, in fact, create two indices.  The first one is basic, it should correspond to the <code>@PrimaryKey</code> our entity.  The second is secondary, corresponding to the field, the ordering of which is performed ( <b>note</b> ‚Äî the field should, as was said above, be annotated as <code>@SecondaryKey</code> ). <br><br><pre> <code class="hljs vbscript"> val primaryIndex: PrimaryIndex&lt;<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>, CustomerDBO&gt; by lazy { entityStore.getPrimaryIndex(<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>::<span class="hljs-keyword"><span class="hljs-keyword">class</span></span>.java, CustomerDBO::<span class="hljs-keyword"><span class="hljs-keyword">class</span></span>.java) } val emailIndex: SecondaryIndex&lt;<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>, CustomerDBO&gt; by lazy { entityStore.getSecondaryIndex(primaryIndex, <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>::<span class="hljs-keyword"><span class="hljs-keyword">class</span></span>.java, <span class="hljs-string"><span class="hljs-string">"email"</span></span>) }</code> </pre><br>  Data retrieval is performed in the usual way - using the cursor interface (in our case - <code>EntityCursor</code> ) <br><br><pre> <code class="hljs kotlin"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">read</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: List&lt;CustomerDBO&gt; = emailIndex.entities().use { cursor -&gt; mutableListOf&lt;CustomerDBO&gt;().apply { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> currentPosition = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> count = cursor.count() add(cursor.first() ?: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span><span class="hljs-symbol"><span class="hljs-symbol">@apply</span></span>) currentPosition++ <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(currentPosition &lt; count) { add(cursor.next() ?: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span><span class="hljs-symbol"><span class="hljs-symbol">@apply</span></span>) currentPosition++ } } }</code> </pre><br><h3>  Relations &amp; Conditions </h3><br>  A common task is to get entities using the relationship between their tables.  Consider this question on the example of the following SQL query: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> orders <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> customer_id = ?;</code> </pre><br>  And his presentation in the framework of Berkeley: <br><br><pre> <code class="hljs kotlin"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">readByCustomerId</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(customerId: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>: List&lt;OrderDBO&gt; = customerIdIndex.subIndex(customerId).entities().use { cursor -&gt; mutableListOf&lt;OrderDBO&gt;().apply { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> currentPosition = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> count = cursor.count() add(cursor.first() ?: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span><span class="hljs-symbol"><span class="hljs-symbol">@apply</span></span>) currentPosition++ <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(currentPosition &lt; count) { add(cursor.next() ?: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span><span class="hljs-symbol"><span class="hljs-symbol">@apply</span></span>) currentPosition++ } } }</code> </pre><br>  Unfortunately, this option is possible only under one condition.  To create a query with several conditions you will need to use a more complex structure. <br><br><div class="spoiler">  <b class="spoiler_title">Modified Buyer</b> <div class="spoiler_text"><pre> <code class="hljs delphi">@Entity(version = CustomerDBO.schema) <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> CustomerDBO <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constructor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-comment"><span class="hljs-function"><span class="hljs-comment">{ companion object { const val schema = 1 }</span></span></span><span class="hljs-function"> @</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrimaryKey</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">var</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">id</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">String</span></span>? = null <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> @SecondaryKey(relate = Relationship.ONE_TO_ONE) lateinit <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> email: <span class="hljs-keyword"><span class="hljs-keyword">String</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> @SecondaryKey(relate = Relationship.MANY_TO_ONE) lateinit <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> country: <span class="hljs-keyword"><span class="hljs-keyword">String</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> @SecondaryKey(relate = Relationship.MANY_TO_ONE) lateinit <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> city: <span class="hljs-keyword"><span class="hljs-keyword">String</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> balance: Long = <span class="hljs-number"><span class="hljs-number">0</span></span>L <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constructor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(email: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">, country: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">, city: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">, balance: Long)</span></span></span><span class="hljs-function">:</span></span> this() <span class="hljs-comment"><span class="hljs-comment">{ this.email = email this.country = country this.city = city this.balance = balance }</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constructor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(id: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">, email: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">, country: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">, city: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">, balance: Long)</span></span></span><span class="hljs-function">:</span></span> this(email, country, city, balance) <span class="hljs-comment"><span class="hljs-comment">{ this.id = id }</span></span> }</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">New indexes</b> <div class="spoiler_text"><pre> <code class="hljs vbscript"> val countryIndex: SecondaryIndex&lt;<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>, CustomerDBO&gt; by lazy { entityStore.getSecondaryIndex(primaryIndex, <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>::<span class="hljs-keyword"><span class="hljs-keyword">class</span></span>.java, <span class="hljs-string"><span class="hljs-string">"country"</span></span>) } val cityIndex: SecondaryIndex&lt;<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>, CustomerDBO&gt; by lazy { entityStore.getSecondaryIndex(primaryIndex, <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>::<span class="hljs-keyword"><span class="hljs-keyword">class</span></span>.java, <span class="hljs-string"><span class="hljs-string">"city"</span></span>) }</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Sample query with two conditions (SQL)</b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> customers <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> country = ? <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> city = ?;</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Sample request with two conditions</b> <div class="spoiler_text"><pre> <code class="hljs kotlin"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">readByCountryAndCity</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(country: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">, city: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>: List&lt;CustomerDBO&gt; { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> join = EntityJoin&lt;String, CustomerDBO&gt;(primaryIndex) join.addCondition(countryIndex, country) join.addCondition(cityIndex, city) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> join.entities().use { cursor -&gt; mutableListOf&lt;CustomerDBO&gt;().apply { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> currentPosition = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> count = cursor.count() add(cursor.first() ?: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span><span class="hljs-symbol"><span class="hljs-symbol">@apply</span></span>) currentPosition++ <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(currentPosition &lt; count) { add(cursor.next() ?: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span><span class="hljs-symbol"><span class="hljs-symbol">@apply</span></span>) currentPosition++ } } } }</code> </pre><br></div></div><br>  As you can see from the examples - quite a dreary syntax, but it is quite possible to live. <br><br><h3>  Range queries </h3><br>  With this type of query, everything is transparent, the indexes have an overload of the function <code>fun &lt;E&gt; entities(fromKey: K, fromInclusive: Boolean, toKey: K, toInclusive: Boolean): <br> EntityCursor&lt;E&gt;</code> <code>fun &lt;E&gt; entities(fromKey: K, fromInclusive: Boolean, toKey: K, toInclusive: Boolean): <br> EntityCursor&lt;E&gt;</code>  <code>fun &lt;E&gt; entities(fromKey: K, fromInclusive: Boolean, toKey: K, toInclusive: Boolean): <br> EntityCursor&lt;E&gt;</code> which provides the ability to use the cursor, iterating over the desired data sample.  This method works quite quickly, since indexes are used, is relatively convenient, and, in my opinion, does not require separate comments. <br><br><h3>  Instead of conclusion </h3><br>  This is the first article from the planned cycle by BerkeleyDB.  Based on its goal - to acquaint the reader with the basics of working with the Java Edition library, to consider the main features that are necessary for routine actions.  Subsequent articles will cover more interesting details of working with this library if the article turns out to be interesting to someone. <br><br>  Since I have very little experience with Berkeley, I would be grateful for the criticism and corrections in the comments if I made some flaws somewhere. <br><br>  (10.12.2017) UPD1: in the latest version of Berkeley JE compatible with Android, transactions do not work correctly, and you need to make sure in advance that you can create a checkpoint after changing the cache.  To do this, you can use the Environment :: sync function, which is blocking (sic!) And very expensive (sic!) ^ 2 writes the current cache changes to disk. <br><br>  (10.12.2017) UPD2: It is worth noting that when competing with the database (judging from personal experience), it is recommended to disable the log cleaner.  This is done through the Environment configuration.  This setting may change without any additional changes in working with the database, and no data will be lost. </div><p>Source: <a href="https://habr.com/ru/post/336098/">https://habr.com/ru/post/336098/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../336088/index.html">The future of web technologies: creating an intelligent chat bot that can hear and speak</a></li>
<li><a href="../336090/index.html">Why learn Spark?</a></li>
<li><a href="../336092/index.html">I'm not guilty. He came</a></li>
<li><a href="../336094/index.html">How Yandex taught artificial intelligence to understand the meaning of documents</a></li>
<li><a href="../336096/index.html">Declarative web programming</a></li>
<li><a href="../336100/index.html">Notation Oh-big and complexity of social interactions</a></li>
<li><a href="../336102/index.html">Bitcoin Cash. Was there a fork?</a></li>
<li><a href="../336104/index.html">Load testing of Web-systems. We finish the training</a></li>
<li><a href="../336106/index.html">Do not compile it: a live preview for the Lokalise SDK, so that you can check on the fly on the button</a></li>
<li><a href="../336110/index.html">"Magic Constant" 0x5f3759df</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>