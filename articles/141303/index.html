<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>oEmbed. Do you make a web service? - Do and oEmbed</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Of course, you have seen this effect when you insert a link on Facebook or VKontakte, and in the post, some content immediately begins to load from th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>oEmbed. Do you make a web service? - Do and oEmbed</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/223/02a/839/22302a839f27a269c7a6a66d9b78dd4c.png"><br><br>  Of course, you have seen this effect when you insert a link on Facebook or VKontakte, and in the post, some content immediately begins to load from the site that the link leads to.  And I saw, but I didn‚Äôt even imagine how easy it can be done with oEmbed. <br><br>  <a href="http://oembed.com/">oEmbed.com</a> - in principle, this could be the end of reading for those who want to conduct an independent mini-study. <br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  A bit of theory </h4><br>  oEmbed is an open format created to simplify the embedding of the contents of one web page into another.  The content can be photos, videos, links, or other types of data.  Simply put, using oembed allows you to get embeded-content (for example, video from YouTube) when a user posts a regular link to it on your resource. <br><br>  The exchange of information, in terms of oEmbed, takes place between the supplier and the consumer.  The consumer wants to show a built-in presentation of a third-party resource on his own website, for example, it can be a photo from flickr or a video from youtube / vimeo.  The provider implements the oEmbed API to ensure the delivery of this content to the consumer. <br><br>  User <b>request</b> - a normal GET request, must include a url and several optional parameters, for example, maximum width, height, format (JSON, XML, etc.) <br>  For example, to borrow a video from YouTube, we will request it as follows: <br><br><pre><code class="hljs perl">http:<span class="hljs-regexp"><span class="hljs-regexp">//www</span></span>.youtube.com/oembed?url=http%3A//youtube.com/watch%3Fv%3DM3r2XDceM6A&amp;<span class="hljs-keyword"><span class="hljs-keyword">format</span></span>=json</code> </pre> <br><br>  <b>In the response</b> we get JSON, which contains information about the video, as well as embed-html. <br><pre> <code class="hljs pgsql">{ "version": "1.0", "type": "video", "provider_name": "YouTube", "provider_url": "http://youtube.com/", "width": <span class="hljs-number"><span class="hljs-number">425</span></span>, "height": <span class="hljs-number"><span class="hljs-number">344</span></span>, "title": "Amazing Nintendo Facts", "author_name": "ZackScott", "author_url": "http://www.youtube.com/user/ZackScott", "html": "&lt;object width=\"<span class="hljs-number"><span class="hljs-number">425</span></span>\" height=\"<span class="hljs-number"><span class="hljs-number">344</span></span>\"&gt; &lt;param name=\"movie\" value=\"http://www.youtube.com/v/M3r2XDceM6A&amp;fs=<span class="hljs-number"><span class="hljs-number">1</span></span>\"&gt;&lt;/param&gt; &lt;param name=\"allowFullScreen\" value=\"<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>\"&gt;&lt;/param&gt; &lt;param name=\"allowscriptaccess\" value=\"<span class="hljs-keyword"><span class="hljs-keyword">always</span></span>\"&gt;&lt;/param&gt; &lt;embed src=\"http://www.youtube.com/v/M3r2XDceM6A&amp;fs=<span class="hljs-number"><span class="hljs-number">1</span></span>\" type=\"application/x-shockwave-flash\" width=\"<span class="hljs-number"><span class="hljs-number">425</span></span>\" height=\"<span class="hljs-number"><span class="hljs-number">344</span></span>\" allowscriptaccess=\"<span class="hljs-keyword"><span class="hljs-keyword">always</span></span>\" allowfullscreen=\"<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>\"&gt;&lt;/embed&gt; &lt;/object&gt;", }</code> </pre> <br><br>  But with the same success, we could receive API keys, log in, make a request to search for a video, receive data and form the object ourselves and insert it. <br><br>  Further more.  The first request in Google about the jquery plugin brought me to <a href="http://code.google.com/p/jquery-oembed/">http://code.google.com/p/jquery-oembed/</a> .  Moreover, the available examples explain how to use the plugin to the fullest.  It is written quite simply, and if it so happened that you did not find the resource you need there, it would not be difficult to add its implementation. <br><img src="https://habrastorage.org/getpro/habr/post_images/085/a46/639/085a466392072831f452dd70bbf313de.png"><br><br><h4>  Some practice </h4><br>  On the <a href="http://bestyoutubelyrics.com/">Best Youtube Lyrics</a> website, which was done by the guys from Zengile, you can add clips from YouTube, supplementing them with the words of songs, or, for example, look for a clip according to the song.  Those.  The main business logic is adding a video.  I just decided to use oEmbed to show the video to be attached. <br><br>  In the haml view, I added one line with a diva, in which the video will be displayed <br><pre> <code class="hljs pgsql"> = text_field_tag <span class="hljs-string"><span class="hljs-string">'youtube'</span></span>, params[:youtube] //-   &lt;<span class="hljs-keyword"><span class="hljs-keyword">input</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>="text" id="youtube"&gt; #oembed //-   &lt;div id="oembed"&gt;&lt;/div&gt;</code> </pre><br>  In the connected js-file I added one function.  That's all: <br><pre> <code class="hljs javascript">$(<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>).ready( <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> yt = $(<span class="hljs-string"><span class="hljs-string">"#youtube"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> emb = $(<span class="hljs-string"><span class="hljs-string">"#oembed"</span></span>); yt.focusout(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-comment"><span class="hljs-comment">//      , emb.oembed(yt.val(), { //      #youtube   embeding-  #oembed embedMethod: "append", youtube: {maxWidth:500} }); }); });</span></span></code> </pre>  Here is the result: <br><img src="https://habrastorage.org/getpro/habr/post_images/3fb/6cb/036/3fb6cb03641b6ce702fe7fef908bc175.png"><br>  See how it works and add your clip and words <a href="http://bestyoutubelyrics.com/submit">here</a> . <br><br><h4>  Morality </h4><br>  <b>You are a consumer</b> : you make some kind of social resource, so why don't you take care of your users and force them to copy the html-embed code so that their video / photo is published on your resource.  Moreover, often html-tags are cut off, and users are not allowed to insert iframes, motivating them with security. <br><br>  <b>You are the supplier</b> : you created a resource on which there is interesting content (some kind of image board or just a parasitic resource on top of a social network, like an instagram).  Implement the oembed API, and then you will be easier to integrate into other sites, the number of requests to your resource will increase.  Investment money will flow like a river. <br><br>  And here is a list of those who have already implemented the oEmbed API. <br><ul><li>  <a href="http://youtube.com/">YouTube</a> </li><li>  <a href="http://www.flickr.com/">Flickr</a> </li><li>  <a href="http://www.viddler.com/">Viddler</a> </li><li>  <a href="http://qik.com/">Qik</a> </li><li>  <a href="http://revision3.com/">Revision3</a> </li><li>  <a href="http://www.hulu.com/">Hulu</a> </li><li>  <a href="http://vimeo.com/">Vimeo</a> </li><li>  <a href="http://www.collegehumor.com/">Collegehumor</a> </li><li>  <a href="http://oohembed.com/">oohEmbed</a> </li><li>  <a href="http://www.polleverywhere.com/">Poll Everywhere</a> </li><li>  <a href="http://my.opera.com/">My opera</a> </li><li>  <a href="http://api.embed.ly/">Embedly</a> </li><li>  <a href="http://www.ifixit.com/">iFixit</a> </li><li>  <a href="http://www.smugmug.com/">Smugmug</a> </li><li>  <a href="http://www.slideshare.net/">Slideshare</a> </li><li>  <a href="http://wordpress.com/">WordPress.com</a> </li></ul><br><br>  <b>UPD</b> Material prepared for the <a href="http://www.facebook.com/groups/CodeAndCoffee/">Code-n-coffee</a> group, which holds IT events in St. Petersburg.  The purpose of these meetings is not only to exchange knowledge, but also to acquaint developers with each other, to form a community and developer culture.  We are good.  It's free.  Join now. </div><p>Source: <a href="https://habr.com/ru/post/141303/">https://habr.com/ru/post/141303/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../141298/index.html">Why python became my convenient tool for everyday life, and ruby-no</a></li>
<li><a href="../141299/index.html">Do I need to upload video / audio recordings / slides of reports from IT conferences?</a></li>
<li><a href="../141300/index.html">Applets</a></li>
<li><a href="../141301/index.html">About Toshiba (continued)</a></li>
<li><a href="../141302/index.html">Story # 1 ‚ÄúMidday Thief‚Äù (from ‚Äú5 stories about information security‚Äù)</a></li>
<li><a href="../141306/index.html">Google Inc. Acquires TxVia Mobile Payment Service</a></li>
<li><a href="../141307/index.html">Internet on Magnets 2 - Hypertext</a></li>
<li><a href="../141308/index.html">Twittertape Machine - autonomous telegraph for Twitter</a></li>
<li><a href="../141309/index.html">The program "Fish" decided the royal gambit on April 1</a></li>
<li><a href="../141310/index.html">Sergey Belousov about smart money</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>