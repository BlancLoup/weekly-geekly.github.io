<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Node.js or Java: performance, resources, flow control, popularity, and personal experience</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently, my colleagues and I discussed the popularity of some technologies - in particular, Java and node.js. After a brief Internet surfing, it turn...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Node.js or Java: performance, resources, flow control, popularity, and personal experience</h1><div class="post__text post__text-html js-mediator-article">  Recently, my colleagues and I discussed the popularity of some technologies - in particular, Java and node.js.  After a brief Internet surfing, it turned out that these technologies are used by many information giants to develop and maintain their sites in the network.  Below, I will give only a small part. <br><br>  <i>Companies using Java:</i> <br><br><img src="https://www.intexsoft.com/images/intexsoft/blog/java-vs-node/companies-using-java.png" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>Companies using node.js:</i> <br><br><img src="https://www.intexsoft.com/images/intexsoft/blog/java-vs-node/companies-using-node.png" alt="image"><br><br>  No less interesting is the fact that according to the search data on <a href="https://www.indeed.com/">indeed.com</a> ( <a href="https://www.indeed.com/">06.28.2019</a> ) by Java Developer (30272 jobs) and node.js developer (7401 jobs) requests, specialists in these technologies are quite in demand. <br><br><img src="https://www.intexsoft.com/images/intexsoft/blog/java-vs-node/node-vs-java-jobs.png" alt="image"><br><br>  But all this is only general information regarding popularity.  Information that prompted me to delve into the topic and speculate about the technical features that led to the writing of this article. <br><a name="habracut"></a><br><h3>  Why they should be compared </h3><br>  Java is a language, node.js can be called an ecosystem built on the basis of JS, and, above all, on the basis of the V8 engine from Google. <br><br>  However, when we talk about Java, we are talking not only about the language, but about the Java virtual machine, as well as the entire ecosystem and infrastructure built around this machine.  At a minimum, they can be compared on this basis - as a result, <i>in both cases, we have the execution environment</i> .  In the case of Java, it is a virtual machine.  In the case of node.js, this is the V8 engine that is present on most operating systems, such as Windows, Linux, MacOS, and less well-known. <br><br>  Developers can write code using the same language, and this will work more or less the same way on different operating systems due to the fact that there is a runtime environment.  The execution environment influences how it interacts with the OS.  In addition, they can be compared because  they are <i>used to solve a similar range of tasks</i> . <br><br><h3>  V8 and JVM </h3><br>  When the JS code gets into v8, just in time is compiled into a byte code that is used in the virtual machine, the JS code runs faster and faster. <br>  Byte code is an intermediate high-level language, so in a Java virtual machine they write not only in Java, but also in Scala and Kotlin. <br><br>  There are prerequisites to the fact that in the near future for V8 it will be possible to use not only JS but also TypeScript or others.  At the moment there is a transpiling of these languages ‚Äã‚Äãin JS.  In the future, they will probably be supported out of the box, and everything will work much faster. <br><br>  Now there is a continuous development of V8, and by and large, the emergence of new versions of node.js is associated with the appearance of a new version of the V8 engine.  They are directly interrelated. <br><br><h3>  Node.js: advantages and disadvantages </h3><br>  Node.js was created by Ryan Dahl in 2009. <br><br>  The node.js itself includes several main components: <br><br><ul><li>  V8 engine; </li><li>  library libuv, which is responsible for the central part of the node - the event loop, which interacts with the OS, as well as for asynchronous input / output (I / O); </li><li>  from a set of different JS libraries and directly from the JS language itself. </li></ul><br>  We turn to its pros and cons. <br><br>  <b>Pros:</b> <br><br><ul><li>  ease and speed of writing </li><li>  lightness </li><li>  relative simplicity (in comparison with java) </li><li>  npm (node ‚Äã‚Äãpackage manager (a huge number of libraries that can be installed in one line) </li><li>  each library falls into a dependency tree and it's all done easily </li><li>  constant development (TypeScript is being actively developed (which introduces typing into JS, decorators and is used for example for Angular) </li></ul><br>  <b>Minuses:</b> <br><br><ul><li>  flexibility and rapid development also gives rise to disadvantages, since  you need to constantly keep up with updates, some things are not tested enough; </li><li>  there was a case when a developer deleted his library from NPM and many applications using it stopped working; </li></ul><br><h3>  Advantages and disadvantages of Java </h3><br>  In contrast, immediately consider the main characteristics of Java. <br><br>  <b>Pros:</b> <br><br><ul><li>  work speed </li><li>  the prevalence (in the universities of many countries are studying java, it is also convenient to study OOP in java), </li><li>  huge set of libraries. </li></ul><br>  <b>Minuses:</b> <br><br><ul><li>  heaviness </li><li>  some Java paradigms were created long ago and are already outdated, </li><li>  JDK is proprietary, so Java is developing slowly. </li></ul><br>  Recently, JS is beginning to overtake Java (and the farther, the more). <br>  Java also leaves the Android world, it is replaced by Kotlin who, although using the JVM, is still a different language. <br><br><h3>  Oracle and Google conflict </h3><br><img src="https://www.intexsoft.com/images/intexsoft/blog/java-vs-node/java-vs-node.gif" alt="image"><br><br>  Java was created by Sun, which was later acquired by Oracle and still belongs to it.  For this reason, for many companies, using Java creates some problems. <br><br>  Google had problems when Oracle started a trial with them for using Java on Android.  Because of this, Google has very actively adopted Kotlin, which appeared independently.  Java is proprietary.  But there is an Oracle virtual machine, as well as an open Java virtual machine (open JVM), which is used in Linux and written in open source.  Sometimes there are some incompatibilities, but lately there are fewer and fewer. <br><br>  By the way, Google was not able to completely abandon Java.  In Dalvik, which is used as the core in Android, the JVM is sewn.  Perhaps this will go away, but it will be very difficult to do so.  Virtually the entire Android ecosystem is built on Java ‚Äî above all ‚Äî on the use of an upgraded JVM.  And this, at some point, was also the cause of the conflict between Oracle and Google, because Oracle prohibits modernizing the JVM just like that.  This is the most important part of java.  And the language itself can be used with almost no restrictions. <br><br><h3>  Java vs node.js: performance and resource intensity </h3><br>  First of all, it is worth noting that Java performance is much higher than that of JS, and, accordingly, node.js. <br><br><img src="https://www.intexsoft.com/images/intexsoft/blog/java-vs-node/node-vs-java-diagram.png" alt="image"><br>  <i>Node.js and java performance</i> <br><br>  If you run some simple task, like squaring, then in tests the indicators can differ up to 10 times.  If you run loops in millions of costing tasks, Java will almost always exceed node.js.  Plus, the huge difference between java and node.js is that node is single-threaded, this is both its advantage and its disadvantage on the other hand. <br><br>  Java can work with threads that are supported at the OS level, and it turns out that a program written in Java makes the most of the OS features.  And if you need to write a high-load application that will use a large number of calculations, then Java will definitely work better for this.  The problem is that even a small server written in Java will take up a lot of memory - both on disk and operational. <br><br>  Node.js is lightweight due to an event-based architecture.  It is built to work as a web server and copes very well with servicing lightweight tasks.  For example, a simple query like calculating something, or writing to a database happens very quickly.  And if there are a lot of requests and we want to scale the system into a node, you can use the Nginx or Apache web server.  You can have many identical node instances.  Then everything will be distributed through load balancing on round-robin.  If we run 8 node instances on 16 cores respectively, the OS itself will distribute the instances between the cores.  Node does not control this, it will have one thread. <br><br><h3>  Thread Management in Java and node.js </h3><br>  In Java, we can create an application and run 8 threads in it.  Due to the fact that there is a closer interaction with the OS, you can distribute the load. <br><br>  As you know, one of the web servers written in Java is tomcat.  There you can clearly see that when the user makes a request, additional threads are started.  And when the request for node arrives, the event loop will be processed and sent back, then the next request will come.  And due to the fact that we are not waiting for the results of the first, it will also be picked up.  While the requests are lightweight, all is well.  However, when a heavy computation is performed, if there is one instance, the node stops and a timeout occurs. <br><br><img src="https://www.intexsoft.com/images/intexsoft/blog/java-vs-node/java-thread-control.png" alt="image"><br>  <i>Java thread management</i> <br><br>  You can write literally a few lines of code on a node and get a simple web server.  Naturally, for a wider functionality, where there will be notifications, authorizations, logging, etc.  it is more difficult to implement, but there are frameworks that allow you to solve such issues. <br><br><img src="https://www.intexsoft.com/images/intexsoft/blog/java-vs-node/node-thread-control.png" alt="image"><br>  <i>Thread management in node.js</i> <br><br>  Java has a well-developed API - concurrency api, which allows you to work with competitive threads.  But at the same time, this is one of the problems as  Competitiveness is a very difficult thing and not every developer understands this well. <br><br>  Web, REST API is the element of node, and sometimes it is used.  But if we are dealing with complex cost estimates, it‚Äôs still better to use Java. <br><br><h3>  My Java project </h3><br>  In Java, I had an interesting project - a distributed application, the main task of which was processing large volumes of graphical information for further use in directories.  When creating a catalog, it is necessary to prepare sets of a large number of images of various resolutions that will be used when creating the catalog.  Simply put, this is an application for automating prepress catalog preparation. <br><br>  Previously, photographers had to do everything manually.  To begin with, it was necessary to use some small application in order to upload your images.  Further, the specialist who created the catalog had to develop the structure of the catalog through another application.  Then, in another application, vorkflow was created, which scattered the pictures into the structure that was created.  In general, the process was quite difficult.  Used ImageMagick which is on Linux, Windows, MacOS.  We dealt with Linux. <br><br>  For example, a .tiff image with a size of 200-300 mb was loaded into the application, and from it you had to make pictures of various resolutions, cut something out, or make a background. <br>  The first version of the application could not cope with a large load; even a server with a 16-core processor was not enough.  We have improved the architecture of the application to use several instances at the same time, in order not to radically change the operation of the application.  Many instances started up that interacted with each other and each of them processed a piece of the task.  It was difficult, but we managed to successfully implement everything literally in a couple of months.  And the system is still working.  The process had to deal with competitiveness and various aspects of interaction. <br><br>  Something from this project could still be transferred to the node, but some things would still have to be done in Java, since  There were a lot of different calculations.  Basically, we could make parts on the node that would call certain parts on Java and use the microservice architecture.  It was possible to use a mixed version.  But this approach does not always work, because  a developer specializing in node may not be a Java expert and vice versa.  And finding universal developers is much more difficult. <br><br><h3>  From experience on node.js </h3><br>  There was a project for organizing a large amount of data.  Something similar to the project described above.  Only here we upload a file that contains a large set of information and is subject to validation through a third-party service (written in java), several times and according to different rules.  It was necessary to process hundreds of gigabytes of information, and node was not intended for this. <br><br>  Designing the system architecture was especially interesting, since  The application consisted of several microservices, including third-party ones.  When working with a third-party service that performed validation, we used RabbitMQ message broker.  We gave the third-party server the necessary information and received a message from RabbitMQ after the end of validation, then the data were processed in parts to avoid out of memory. <br><br>  And if the application initially processed a file containing 10,000 entries, it can now process up to a million.  We still managed to solve this problem with the help of node.js, although in Java it could have been solved more simply, but the customer wanted to use exactly node, since  I needed a single infrastructure and architecture with microservices written in JS.  Using node to solve the problem was much more difficult, and took more time, but node.js wins due to scalability.  That is why now we can increase the number of workers and process more and more data.  In Java, this would be more complicated. <br><br>  In fact, any problem can be solved this way and that, but it is worth repeating: if there are a lot of calculations, then it is better to use Java, if there are not many calculations, you can safely use node. <br><br><h3>  Results and prospects: can node.js overtake java? </h3><br>  Now goes to the fact that node.js will often be used as a wrapper, and the stuffing will be written in other languages.  Its shortcomings have long been known.  For example, such a conditional flaw as single-threading has already been fixed.  The latest version of node provides the ability to use multiple threads. <br><br>  Java was originally created as a lightweight solution replacing C ++, and now has become heavyweight.  It is like an evolution.  Maybe someday there will be something that will replace and node. <br><br><img src="https://www.intexsoft.com/images/intexsoft/blog/java-vs-node/modules-count.png" alt="image"><br>  <i><a href="http://www.modulecounts.com/">Modules</a> - Java vs node.js development</i> <br><br>  Now, by the number of orders, and according to my feelings, node.js has already overtaken Java. <br>  JS is actively developing and it will change - maybe something will replace it. <br>  Now there is no potential competitor in sight who could replace Java and node.js. <br><br>  The problem is that Java is developing quite slowly lately, and node.js is developing at such a rate that it is not possible to replace it in the near future. </div><p>Source: <a href="https://habr.com/ru/post/460125/">https://habr.com/ru/post/460125/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../460111/index.html">Upgraded version of SAP Business One 9.3: what has changed</a></li>
<li><a href="../460113/index.html">A few stories from the life of the JSOC CERT, or nonbanal forsenika</a></li>
<li><a href="../460115/index.html">Ten years of Erlang programming</a></li>
<li><a href="../460117/index.html">The largest customers in Russia - a big score or a headache? AGIMA Experience</a></li>
<li><a href="../460119/index.html">Errors that static code analysis does not find, because it is not used</a></li>
<li><a href="../460129/index.html">Robots and strawberries: how AI increases field yields</a></li>
<li><a href="../46013/index.html">Y! LIVE, Pownce ... Who's next?</a></li>
<li><a href="../460131/index.html">Sophos XG Firewall: From classic ME to NGFW with automatic response to security incidents</a></li>
<li><a href="../460133/index.html">Kotlin / Everywhere - Showcase practice: July 31</a></li>
<li><a href="../460135/index.html">Security Week 29: Zoom vulnerability, security and drama</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>