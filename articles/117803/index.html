<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Crossbrowser accessors in javascript</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In my AtomJS framework, I actively use accessors - getters and setters: 



Foo = atom.Class({ get bar () { return this._bar; }, set bar (bar) { this....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Crossbrowser accessors in javascript</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage/habraeffect/9d/b2/9db290b6c5fbbf5122bc41f0f1029912.png" align="right"><br>  In my AtomJS framework, I actively use accessors - getters and setters: <br><br><pre><code class="javascript hljs">Foo = atom.Class({ get bar () { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._bar; }, set bar (bar) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._bar = bar; } });</code> </pre> <br><br>  I have already described the theory, but in the topic I will talk about how to get them to work in all modern browsers, namely, how to resolve the situation with the fact that Internet Explorer 9 does not know anything about <code>__defineSetter__</code> and similar methods. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><br><h2>  <a href="https://developer.mozilla.org/en/JavaScript/Reference/Operators/Special/get">get</a> / <a href="https://developer.mozilla.org/en/JavaScript/Reference/Operators/Special/set">set</a> </h2><br>  Fortunately, in this respect, all browsers are approximately the same.  IE9 +, Opera10 +, Fx3.5 +, Chrome - everyone supports this entry and is the same with the behavior and syntax.  The only thing is that if Internet Explorer 9 shows the error " <code>  ':'</code> " - check whether the browser has switched to the <strike>"Bago-drom"</strike> mode "Interner Explorer 7" <br><br><h2>  <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/defineProperty">defineProperty</a> </h2><br>  There is nothing complicated <br><br>  For non-standard <code><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/defineSetter"></a> __defineSetter__</code>  <code><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/defineSetter"></a> __defineSetter__</code> and <code><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/defineGetter"></a> __defineGetter__</code>  <code><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/defineGetter"></a> __defineGetter__</code> is an alternative from EcmaScript5 - <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/defineProperty">Object.defineProperty</a> .  By default, the properties of the <code>configurable</code> and <code>enumerable</code> are declared as true, so we can easily write a standard alternative: <br><pre> <code class="javascript hljs">instance.__defineSetter__(propertyName, setterFn); instance.__defineGetter__(propertyName, getterFn); <span class="hljs-comment"><span class="hljs-comment">// =&gt; Object.defineProperty(instance, propertyName, { set: setterFn, get: getterFn, enumerable : true, configurable: true });</span></span></code> </pre><br><br><h2>  <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor">getOwnPropertyDescriptor</a> </h2><br>  For non-standard <code><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/lookupSetter"></a> __lookupSetter__</code>  <code><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/lookupSetter"></a> __lookupSetter__</code> and <code><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/lookupGetter"></a> __lookupGetter__</code>  <code><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/lookupGetter"></a> __lookupGetter__</code> also has an alternative from EcmaScript5 - <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor">Object.getOwnPropertyDescriptor</a> . <br><br>  Everything is a little less joyful, but not critical.  The secret is that <code>__lookup*__</code> looking for an accessor along the entire prototype chain, while <code>getOwnPropertyDescriptor</code> is only in personal properties: <br><blockquote>  This is a subject object of a given object. </blockquote><br><br>  That is, we have the <a href="http://jsfiddle.net/WJTSr/1/">following situation</a> : <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> MyClass = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{}; MyClass.prototype = { get foo() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">42</span></span>; } }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> instance = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyClass(); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(instance.__lookupGetter__(<span class="hljs-string"><span class="hljs-string">'foo'</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// function foo() { return 42; } console.log(Object.getOwnPropertyDescriptor(instance, 'foo')); // undefined</span></span></code> </pre><br><br>  Although the getter actually is: <br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(instance.foo); <span class="hljs-comment"><span class="hljs-comment">// 42</span></span></code> </pre><br><br>  1. It seems to me more correct and logical behavior of non-standard properties <br>  2. It is more suited to the idea of ‚Äã‚Äãmy framework. <br>  3. It is important that all browsers behave in the same way.  How exactly - less important <br><br>  Therefore, we recursively go around the whole chain of prototypes using the <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/getPrototypeOf">Object.getPrototypeOf</a> method, until we rest on either <code>null</code> , or on a specific property or accessor. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getPropertyDescriptor</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">from, key</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> descriptor = <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.getOwnPropertyDescriptor(<span class="hljs-keyword"><span class="hljs-keyword">from</span></span>, key); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!descriptor) { <span class="hljs-comment"><span class="hljs-comment">//     -       var proto = Object.getPrototypeOf(from); if (proto) return getPropertyDescriptor(proto, key); //   , ,       (   ) } else if ( descriptor.set || descriptor.get ) { return { set: descriptor.set, get: descriptor.get }; } //    ,       return null; };</span></span></code> </pre><br><br><h2>  Putting it all in the library </h2><br>  Now we can apply this knowledge and make a library for cross-browser accessors indication. <br>  According to my personal observations, non-standard methods work a little faster and they require less hacks, so we take them for silence. <br>  Also, I like the names <code>lookup</code> and <code>define</code> - they are concise and understandable, that's why we use them. <br>  The content of the lookup function for each of the methods is fundamentally different, so we will simply create two different functions and will not do extra checks every time. <br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Object</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> standard = !!<span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.getOwnPropertyDescriptor, nonStandard = !!{}.__defineGetter__; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!standard &amp;&amp; !nonStandard) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Error</span></span>(<span class="hljs-string"><span class="hljs-string">'Accessors are not supported'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> lookup = nonStandard ? <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">from, key</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> g = <span class="hljs-keyword"><span class="hljs-keyword">from</span></span>.__lookupGetter__(key), s = <span class="hljs-keyword"><span class="hljs-keyword">from</span></span>.__lookupSetter__(key); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( g || s ) ? { <span class="hljs-attr"><span class="hljs-attr">get</span></span>: g, <span class="hljs-attr"><span class="hljs-attr">set</span></span>: s } : <span class="hljs-literal"><span class="hljs-literal">null</span></span>; } : <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">from, key</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> descriptor = <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.getOwnPropertyDescriptor(<span class="hljs-keyword"><span class="hljs-keyword">from</span></span>, key); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!descriptor) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> proto = <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.getPrototypeOf(<span class="hljs-keyword"><span class="hljs-keyword">from</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (proto) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> accessors.lookup(proto, key); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( descriptor.set || descriptor.get ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">set</span></span>: descriptor.set, <span class="hljs-attr"><span class="hljs-attr">get</span></span>: descriptor.get }; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>; }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> define = nonStandard ? <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">object, prop, descriptor</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (descriptor) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (descriptor.get) object.__defineGetter__(prop, descriptor.get); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (descriptor.set) object.__defineSetter__(prop, descriptor.set); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> object; } : <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">object, prop, descriptor</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (descriptor) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> desc = { <span class="hljs-attr"><span class="hljs-attr">get</span></span>: descriptor.get, <span class="hljs-attr"><span class="hljs-attr">set</span></span>: descriptor.set, <span class="hljs-attr"><span class="hljs-attr">configurable</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">enumerable</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }; <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.defineProperty(object, prop, desc); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> object; }; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.accessors = { <span class="hljs-attr"><span class="hljs-attr">lookup</span></span>: lookup, <span class="hljs-attr"><span class="hljs-attr">define</span></span>: define }; })(<span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>);</code> </pre><br><br>  Now <a href="http://jsfiddle.net/XMhK8/">you can declare accessors</a> in the objects: <br><pre> <code class="javascript hljs">MyClass = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">param</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> property = param; accessors.define(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, <span class="hljs-string"><span class="hljs-string">'property'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">set</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">value</span></span></span><span class="hljs-function">) </span></span>{ property = value; }, <span class="hljs-attr"><span class="hljs-attr">get</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> property; } }); }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> instance = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyClass(<span class="hljs-number"><span class="hljs-number">42</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(instance.property); <span class="hljs-comment"><span class="hljs-comment">// 42 console.log(accessors.lookup(instance, 'property')); // getter+setter</span></span></code> </pre><br><br><h2>  Inheritance </h2><br>  Now we expand our library a little by adding the <code>inherit</code> method.  It will get the property accessor named <code>key</code> from the from object, and add it to the to object.  If successful, returns <code>true</code> , otherwise returns <code>false</code> . <br><pre> <code class="javascript hljs"> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.accessors = { <span class="hljs-attr"><span class="hljs-attr">lookup</span></span>: lookup, <span class="hljs-attr"><span class="hljs-attr">define</span></span>: define, <span class="hljs-attr"><span class="hljs-attr">inherit</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">from, to, key</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> a = accessors.lookup(<span class="hljs-keyword"><span class="hljs-keyword">from</span></span>, key); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( a ) { accessors.define(to, key, a); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } };</code> </pre><br><br>  This method will help us write an analogue of the <code>jQuery.extend</code> or <code>Object.merge</code> from <code>MooTools</code> that supports accessors, while all regular frameworks do not know anything about them: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> object = jQuery.extend({}, { get foo(){ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>; } }); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log( object.__lookupGetter__(<span class="hljs-string"><span class="hljs-string">'foo'</span></span>) ); <span class="hljs-comment"><span class="hljs-comment">// undefined console.log( object.foo ); // null</span></span></code> </pre><br><br>  We will write our own version (note, this option was created for educational purposes and should not be used in a real application) <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">extend</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">from, to</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> to) { <span class="hljs-comment"><span class="hljs-comment">//    if (!accessors.inherit(from, to, i)) { //     -    from[i] = to[i]; } } return from; }; var object = extend({}, { get foo(){ return null; } }); console.log( object.__lookupGetter__('foo') ); // getter console.log( object.foo ); // null</span></span></code> </pre><br><br><h2>  Conclusion </h2><br>  Stuck very comfortable.  I have two highly specialized, but powerful enough frameworks - <a href="https://github.com/theshock/atomjs">AtomJS</a> and <a href="https://github.com/theshock/libcanvas">LibCanvas</a> , where the use of accessors has fully justified itself.  If you can afford to give up donkeys below the ninth version - it's worth it, get a lot of fun. <br><br>  The solution described in the topic, slightly extended, was originally implemented as <a href="">an AtomJS plugin - Accessors</a> . </div><p>Source: <a href="https://habr.com/ru/post/117803/">https://habr.com/ru/post/117803/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../117794/index.html">Freelance VS Office - duel! (Video report)</a></li>
<li><a href="../117797/index.html">Transfer data from one database to any other</a></li>
<li><a href="../117800/index.html">Call to join testing Ubuntu 11.04 Natty Narwhal</a></li>
<li><a href="../117801/index.html">New wave of the spread of Trojans VKontakte</a></li>
<li><a href="../117802/index.html">Spring Remoting - Spring + RMI</a></li>
<li><a href="../117804/index.html">PAP or PNA - that is the question</a></li>
<li><a href="../117805/index.html">Big Evernote update for Android</a></li>
<li><a href="../117807/index.html">The PowerShell Language Specification is released under the Community Promise license.</a></li>
<li><a href="../117808/index.html">If Samsung entered the portable console market</a></li>
<li><a href="../117809/index.html">What day of the week do you have the most time to read habrahabr?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>