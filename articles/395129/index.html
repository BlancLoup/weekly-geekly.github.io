<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Draytek 2912 Series Router Overview. Part Two</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the first part of the review, we looked at the Draytek 2912 / 2912n series router in detail from such aspects as positioning the device on the mark...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Draytek 2912 Series Router Overview. Part Two</h1><div class="post__text post__text-html js-mediator-article">  In the <a href="https://geektimes.ru/company/digitalangel/blog/276476/">first part of the review,</a> we looked at the <a href="http://draytek-russia.ru/">Draytek</a> 2912 / <a href="http://draytek-russia.ru/">2912n</a> series router in detail from such aspects as positioning the device on the market, how to use the router, its key functions and examples of their use, familiarized yourself with the detailed technical specification of the device, looked at the configuration and appearance of the router, detailed functions of indicators and device interfaces.  Everything we see clearly demonstrates that the device has very wide capabilities that an enterprise of the SMB / SOHO level or a small branch of a large company may need and therefore the device has great potential for use in corporate networks.  Load testing showed good results, I did not expect other results, because the device is far from the initial level, so it must be productive. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/ca4/00b/03f/ca400b03f085480aa15006cffc74f2a6.jpg" alt="image"><br><br>  In this part of the review, we take a closer look at the device‚Äôs web interface, learn about its features and an example of setting up such functions and interfaces as WAN and LAN, Load-balancing, wireless network, VPN, firewall, NAT bandwidth control, as well as USB functions, diagnostics and monitoring of the router. <br><a name="habracut"></a><br>  Below is a general wiring diagram of the router. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/d85/da0/60d/d85da060d137912619ed1d1df5d3c464.png"></div><br>  Fig.  0 <br><br>  By default, the router has an open wireless network called Draytek and a DHCP server, you can connect to it or use one of the LAN ports. <br><br>  After connecting to the router from the PC and successfully obtaining the IP address from the network 192.168.1.0/24, <br>  open its web interface, to do this, in the web browser you need to dial the default IP LAN 192.168.1.1, <br>  Username: admin, password: admin.  I recommend immediately changing the password to a more secure one. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/e0a/cd6/93b/e0acd693b3adf76d99c085d285088fc3.png"></div><br>  Fig.  one <br><br>  We get to the Online Status menu where the main information about the device is displayed. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/0bf/18e/de1/0bf18ede1a2ee8b0f22a9b80a3acc0aa.png"><br>  Fig.  2 <br><br>  I note that the firmware version 3.7.8.1_R is preinstalled on routers shipped to Russia, this firmware differs from the usual one in that it does not have encryption other than the PPTP protocol, it looks like this: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/c39/4b8/734/c394b87345f08950610f55b1233d95ab.png"><br>  Fig.  3 <br><br>  If this is not enough, you can install a full firmware by downloading it from the Draytek.com website. <br>  in the section <i>Supports -&gt; Downloads -&gt; Firmware - Vigor2912 Series</i> . <br><br>  I chose the latest 3.8.1.1 and downloaded it, then, unzip it, in the web interface of the router, open <i>System Maintenance &gt;&gt; Firmware Upgrade</i> and specify the file v2912_3811.all, then click "Upgrade". <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/c79/aed/9ec/c79aed9ec2ed49ea0751d6e75403bcac.png"><br>  Fig.  four <br><br>  After a successful update, restart the router and get the latest firmware without any restrictions. <br><br>  For clarity, below is an image of the network scheme for the Draytek 2912n router, which we will consider. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/b8e/573/4b6/b8e5734b6412ca5a27dfdd4265974337.png"><br>  Fig.  4-1 <br><br>  To connect to the Internet, we use two WAN interfaces with several routing rules. In case of a failure on the first channel, the traffic will automatically go through the backup. <br><br>  We use two subnets: LAN0 = 192.168.1.0 / 24 and LAN1 = 192.168.2.0 / 24.  And three wireless networks with SSID: DrayTek, DrayTek_Guest and DrayTek_Unencrypted.  They are integrated through VLAN settings with wireless networks.  Remote clients can connect via VPN using Smart VPN Client and PPTP and IPSec protocols.  For the SmartMonitor application, mirroring is enabled from the LAN ports. <br><br>  In general, regardless of the model of the Draytek router, the menu structure has a similar organization, you can not find any functions, or discover more of them than in another model or firmware version, but the structure remains unchanged.  On the left is a block of global menu items structured by router subsystems: Wizards, settings for wired network interfaces WAN and LAN, then a firewall settings block (Firewall, Objects Settings, CSM) and User Management, then a settings block special router applications (Applications).  Then the VPN settings block, followed by the menu for setting up a wireless network (Wireless LAN), a separate menu for setting the USB port (USB Application), and finally the menu of service functions (System Maintenance) and the diagnostics menu of the router (Diagnostics). <br><br>  All items are structured simply and logically, in accordance with the network functions, without any specific and confusing logic. <br><br>  Each global menu item includes one or more sub-items. <br><br>  Consider the main menu items, since the router has a configuration corresponding to the network scheme that was presented above, as we review the new menu items, it will become clear how these or other network functions are configured. <br><br><h2>  Wizards Menu </h2><br>  Here are the settings wizards that allow you to configure the main functions of the router with a few clicks.  They are a chain of several dialog boxes, the last window displays a listing of all the settings made and the ‚ÄúFinish‚Äù button to apply them.  It seemed to me that the data of the wizard for very lazy administrators, as well as without them, setting up the basic functions on the router is easy. <br><br>  <i>Quick Start Wizard</i> - used to quickly configure the connection WAN 1-3 interfaces. <br>  <i>Service Activation Wizard</i> - activates an intelligent thematic filter Web Content Filter. <br><br>  The following wizards of the <i>VPN Client Wizard and the VPN Server Wizard</i> seemed interesting to me, with the help of them it is easy to configure the VPN in the LAN-to-LAN and Remote Dial-in User modes, activate the service and register the users.  Below, an example of 3 steps to add and activate a VPN user. <br><br>  We chose PPTP, then you need to configure the client-side, we will use the Draytek Smart VPN client.  Let's go back to the VPN settings in the <i>VPN and Remote Access</i> menu. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/49b/0bb/6f1/49b0bb6f1a6032ed5dc61dfcc423a7c5.png"><br>  Fig.  five <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/c27/8f5/2ff/c278f52ff8953194b9120169e789b25d.png"><br>  Fig.  6 <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/5b7/043/fdb/5b7043fdb27aca491c41bc22c9f07e5d.png"><br>  Fig.  7 <br><br>  <i>Wireless Wizard Wizard</i> is used for initial configuration of a wireless network.  Below is the final window at the completion of the wizard. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/dc7/a07/9e3/dc7a079e3801464c8bbf1cf8dfd641bc.png"><br>  Fig.  eight <br><br>  In a couple of clicks, the wireless network is set up. <br><br><h2>  Menu Online Status </h2><br>  The next menu item contains two subitems: the first <i>Physical Connection</i> shows the physical status of the interfaces LAN, WAN 1-3 and link-level counters, the same thing, but only for virtual interfaces can be seen in the <i>Virtual WAN</i> menu. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/ea5/719/359/ea571935965d6442b001f80a01e8cf84.png"><br>  Fig.  9 <br><br>  More detailed information on the system status can be found in <i>System Maintenance -&gt; System Status</i> . <br><br><h2>  WAN menu </h2><br>  In this menu, all settings related to the connection of the router to the Internet providers are made.  In our example, WAN 1 and 2 are active. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/765/ddf/e72/765ddfe72e9b7d05b8a989ac927359de.png"><br>  Fig.  10-1 <br><br>  <i>Load balance mode</i> setting is available when two or three WAN interfaces are used simultaneously.  We use Auto Weigh mode; in this mode, the router automatically distributes the load.  The WAN 3 interface can be used when connecting a 3 / 4G modem. <br><br>  Below is the detailed configuration of the WAN 2 interface, we use load balancing mode. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/6aa/510/92f/6aa51092fa2a77c228e0925d07319f0c.png"><br>  Fig.  10-2 <br><br>  In the <i>Internet Access</i> submenu, the interfaces are configured directly. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/d58/238/285/d582382857d4495f5fe8db0c82cf6cf2.png"><br>  Fig.  10-3 <br><br>  We are <i>moving</i> to <i>Detalils Page WAN 2</i> , here are the settings for the connection mode, we use a static IP, the first interface is a DHCP client.  In addition to the methods we used, you can connect to the Internet using the PPTP / L2TP or PPPoE protocols, also IPv6. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/abd/41a/301/abd41a301e433d01561539aa2517c8dd.png"><br>  Fig.  eleven <br><br>  The <i>Multi-VLAN submenu</i> allows the administrator to create profiles for a specific physical WAN 1-2 interface and create a bridge with LAN interfaces on the local network to achieve maximum throughput. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/fd0/3f9/255/fd03f925549aad0273f208f3ad947cc4.png"><br>  Fig.  12 <br><br>  That is, on the basis of the physical interface WAN 1-2, we create an additional virtual WAN 5-7 in the VLAN specified by us and ‚Äúbridge‚Äù it with the necessary LAN ports 1-3 (port 4 can work only in the NAT mode), optionally, we can assign virtual interface WAN 5-7 IP address manually or receive via DHCP, that is, make it L3.  As an example, you can take the forwarding of IPTV traffic from a WAN to a LAN. <br><br><h2>  LAN menu </h2><br>  The item is responsible for setting up the local network and contains a number of sub-items.  The router supports two independent LAN segments with its own settings, the default is 192.168.1.1/24 and 192.168.2.1/24, you can also add one routed network.  In both segments, DHCP is enabled which gives IP addresses to connecting user terminals.  By the way, the DHCP server can be configured to transfer any additional DHCP options, it is very convenient if there are specialized services on the network, for example, a TFTP server. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/865/77d/319/86577d31917038c8a5fb7bd5a79ba807.png"><br>  Fig.  13 <br><br>  Additionally, you can enable or disable routing between LAN 1 and 2 in the Inter-LAN Routing section. <br><br>  In the next <i>LAN &gt;&gt; Static Route Setup</i> submenu, you can add up to 10 static routes to other networks by IP addresses in LAN 1-2 subnets. <br><br>  The <i>LAN &gt;&gt; VLAN Configuration</i> submenu allows you to combine the specified LAN ports P2-4 (P1 performs the WAN2 function in our example) into one VLAN with wireless networks SSID 1-4 and optionally add priority VLAN tags.  When VLAN Tag is enabled, the traffic with tags specified in the VID field will appear on the corresponding LAN ports, tags are not transmitted over wireless networks.  In our example, two independent VLANs.  VLAN0 includes LAN ports P 2-4 and a wireless network with SSID1 - all this is in LAN 1 segment.  VLAN1 includes wireless networks with SSID2 and SSID3 - all this is in the LAN 2 segment. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/735/9e3/dea/7359e3dea06f90f30aaf30c445b5f085.png"><br>  Fig.  14 <br><br>  The router can operate in the mode of creating untagged port-based VLANs, or VLANs based on VID tags. <br><br>  The next submenu item is <i>LAN &gt;&gt; Bind IP to MAC</i> .  Allows you to create lists with matching MAC addresses and IP addresses, if the function allows all assigned IP addresses to MAC addresses can not be changed.  Created sheets can be saved to a file and restored to the router configuration from a previously saved file. <br><br>  In the <i>LAN &gt;&gt; LAN Port Mirror</i> menu, you can enable copying of all traffic from the specified LAN Mirrored port to the receiving Mirror port.  This feature is useful for debugging a network using a sniffer or using the Draytek Smart Monitor network monitoring and analysis application; information about this application can be found in the first part of this review. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/1d9/ee9/eea/1d9ee9eeabe716c72616d113437d974e.png"><br>  Fig.  15 <br><br>  The <i>LAN &gt;&gt; Web Portal Setup submenu</i> allows you to define profiles that are assigned to the LAN or WLAN-wireless network interfaces and specify the URL of the site to automatically redirect the user when you first try to open the web page, after connecting through the interface specified in the profile, for example , SSID1. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/3f6/ea3/8fb/3f6ea38fb295e9833b4e31b6959c93f2.png"><br>  Fig.  sixteen <br><br>  This feature is used for promotional purposes or to notify a user who connects to the Internet through a specific company network. <br><br>  In the example, when you try to open any webpage for the first time, the user will be redirected to the site <a href="http://www.ucexpert.ru/">www.ucexpert.ru</a> , where at the top of the screen there will be a message suggesting the user to click the ‚ÄúContinue‚Äù button to continue the web session and go to the desired site. <br><br>  Below is an example of a page page. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/4f7/987/b43/4f7987b436a6dc71b31b897cfaa40107.png"><br>  Fig.  17 <br><br><h2>  Menu Load-Balance / Route Policy </h2><br>  This menu item contains the <i>General Setup</i> sub-item ‚Äî direct configuration of load balancing rules and routing policies; and <i>Diagnose</i> , a sub-item for debugging customized rules, where you can simulate the route of one or several packets through the table of customized rules and check the result. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/f58/c7a/ff7/f58c7aff740ee2c8ab5924e016477fb2.png"><br>  Fig.  18 <br><br>  In the example, packets departing from any LAN IP addresses of the router to IP 8.8.8.8 will pass through WAN1, the second rule works the same way, only for IP destination 8.8.4.4 and the packets will pass through WAN2.  The third rule specifies the whole subnet, the fourth rule indicates that all traffic must be sent via WAN1, in case of failure of WAN1, sent to WAN2.  Each rule has priority, the lower it is, the earlier the rule is executed. <br><br>  The following image shows the criteria by which you can set a rule, there are quite a few of them, you can also determine where to send the packet if the rule did not work. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/c32/50d/6c0/c3250d6c09906244a7630232930ea9be.png"><br>  Fig.  nineteen <br><br>  The following figure shows the route diagnostics. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/1f7/e4c/3ab/1f7e4c3ab0a22e47bc0853cd5221a840.png"><br>  Fig.  20 <br><br><h2>  NAT menu </h2><br>  In the menu, the NAT Address Translation (Network Address Translation) functions are configured; it contains the <i>Port Redirection</i> submenu - port forwarding from the port of the specified WAN interface to the IP address and a port on the LAN network, this may be necessary for FTP servers, mail servers, etc. d. <br><br>  The <i>DMZ Host submenu</i> allows you to set one DMZ host on the LAN for each of the WAN interfaces. <br><br>  The <i>Open Ports submenu</i> allows you to keep the specified port ranges open for special applications, such as P2P, and direct them to specific IP addresses on the LAN. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/8ab/65c/35e/8ab65c35e16c79aed0b58b59a43b4d36.png"><br>  Fig.  21 <br><br>  <i>Port Triggering</i> is a variation of <i>Open Ports</i> .  If, after activation of the Open Ports rule, the specified ports are constantly open, then when the Port Triggering rule is applied, the specified ports will open only when the conditions of the rules match, then the ports will close again after a timeout. <br><br>  The function in the appropriate sub-menu item is defined by a set of rules. <br><br><h2>  Firewall menu </h2><br>  In this menu, global firewall rules are configured, sets and order of traffic inspection rules are specified, and default traffic filtering rules are also specified. <br>  The firewall can be divided into 3 subsystems: <br><br><ol><li>  User-configurable IP filter based on the Call Filter / Data Filter rule sets </li><li>  Stateful Packet Inspection (SPI) Filter </li><li>  Denial of Service (DoS) / Distributed DoS (DDoS) protection </li></ol><br><br>  The firewall architecture uses two independent rule sets, Call Filter and Data Filter. <br>  The Call Filter rule set is used for traffic that goes from the local network to the WAN, when there is no active Internet connection (the WAN interface is not active) and before establishing the connection, the traffic passes through the Call Filter rules, if no packets are blocked, the connection is established. <br><br>  When the WAN interface is active, all packets immediately fall into the Data Filter rule set, and all incoming traffic to the WAN interfaces also falls there. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/60f/484/e29/60f484e29960aef75fb58294672c10e1.png"><br>  Fig.  22 <br><br>  Firewall rules can specify objects (defined through the Objects Settings menu), such as IP addresses or groups of IP addresses, protocol and port range and their groups, keywords and groups of keywords, file extension profiles, users (certain in the User Management menu) and finally, in the CSM (Content Security Management) menu, define applications, for example, Skype, URLs and even the subject matter of various websites using the Web Content Filter system. <br><br>  That is, we can work with traffic from the network layer to the application level, plus use the Web Content Filter system for intelligent processing of traffic on the subject of web content, that is, create very broad rules. <br><br>  Below are the global settings in the <i>Firewall &gt;&gt; General Setup</i> submenu, then the <i>Firewall &gt;&gt; Filter Setup</i> submenu illustrating firewall rulesets, the <i>Firewall &gt;&gt; Filter Setup &gt;&gt; Edit Filter Set</i> submenu illustrating the composition of a particular set of rules. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/7f7/06c/e8d/7f706ce8d0a62dbc2077f3c10c118578.png"><br>  Fig.  23 <br><br>  Now consider a specific rule in from a table called block-social <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/a5d/4ac/beb/a5d4acbeb19d8959433d5fa5c0d62509.png"><br>  Fig.  24 <br><br>  First, in Schedule, you can specify a schedule when the rule will work, for example, block social networks from 9-30 to 18-00 from Monday to Friday.  Next, we specify the direction of traffic checking in the Direction field, any incoming and outgoing IP addresses, the service type can be specified by a specific object in the <i>Objects Setting &gt;&gt; Service Type Object</i> menu, or a set of objects, and is a bundle of protocol type + port or range ports. <br><br>  Next, in the Filter field we specify the criterion ‚ÄúPass If No Further Further Match‚Äù - packets should be skipped if none of the criteria in the remaining rules matches.  If the user turns to a social network, for example, ok.ru, the criterion will match and the package will be blocked.  The criterion in this example is a profile in the URL Content Filter, which contains an object - a group including keywords - social network addresses. <br><br>  Below, I will illustrate the settings when we get to them.  In the same way, other criteria are included in the rule, that is, in the internetwork filter rules, you can add criteria both at the network level and at the application level, moreover, you can enable Web Content Filter which runs even higher - at the web content theme. . <br><br>  Submenu <i>DoS Defense</i> .  The router implements detection and automatic protection against DoS attacks, with the traffic intensity threshold metrics after which the event is considered an attack can be manually configured.  Also provides for sending notifications about the attack. <br><br><h2>  User Management menu </h2><br>  A firewall can operate in one of two global modes: <br><br>  <b>Rule-Based</b> , that is, based on rules where objects, for example, the IP addresses of user stations.  The administrator sets the rules based on different IP addresses. <br><br>  <b>User-Based</b> , that is, management is carried out on the basis of user profiles.  The administrator sets the rules for different user profiles or their groups.  Before this, users must log in.  After authorization, the system creates a correspondence between the username and the IP address with which it is authorized. <br><br>  Below are the <i>User Management &gt;&gt; General Setup submenus</i> where you switch between working with IP addresses or working with user profiles. <br><br>  If everything is clear with work by IP addresses: the administrator assigns an IP address to the user's terminal, which should not be changed and assigns rules for the IP address. <br><br>  As soon as we switch to User-Based mode, the user must log in, until that moment he will not be able to work on the network, and when opening the browser and trying to access any site, he will be redirected to the login page.  To log in, a user profile with the appropriate rights must be contained in the User Management &gt;&gt; User Profile table. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/ef7/1f3/0e2/ef71f30e2388ff012839765d6174fd2c.png"><br>  Fig.  25 <br><br>  In the example there is a user profile Ignat Kudryavtsev, open the profile of this user <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/4c9/42f/a1b/4c942fa1bd3eca44ceaa720ba9d560e7.png"><br>  Fig.  26 <br><br>  As you can see, here you can set the timeout for automatic logout in case of idle time, and the restriction on the simultaneous number of logins, enable external authentication using the LDAP or RADIUS protocols.  You can also set quotas for time and volume of traffic consumed by the user. <br><br>  Landing Page - this is the page that the user will see after successful login.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">You can display a simple message, as in our example: ‚ÄúLogin Success!‚Äù, Or you can redirect to any website, for example, the company's website. </font><font style="vertical-align: inherit;">To do this, in the Landing page settings, you need to write a string like:</font></font><br><br><pre><script type="text/javascript">function gtElInit() {var lib = new google.translate.TranslateService();lib.translatePage('ru', 'en', function () {});}</script><script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=gtElInit&amp;client=wt"></script><code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">stats</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">1</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">language</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'javascript'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> window.location='</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">a</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"http://www.draytek.com/"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">http://www.draytek.com</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">a</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">'</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  All settings are described in detail in the user manual. <br>  When you open a web browser and try to access any site, the user will be redirected to the login page, after successful login, the message ‚ÄúLogin Success!‚Äù Will appear and the user will be able to work online. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/22a/88b/f40/22a88bf402337efabf5e0aed17e13782.png"><br>  Fig.  27 <br><br>  In the <i>User Group</i> submenu, users can be grouped to then assign the same rules to groups of users, for example, by company department.  Submenu <i>User Online Status</i> is used to view the status of users. <br><br><h2>  Objects Setting Menu </h2><br>  Draytek 2912 series routers support firewall with invisible testing of SPI (Stateful Packet Inspection) based on Objects (Object-based), such as: a user (he gets a certain IP during authorization), IP addresses or groups of IP addresses, a protocol and port range and their groups, keywords and keyword groups, file extension profiles.  These objects can be used to create firewall rules that can be turned on and off on a schedule. <br><br>  In the Objects Setting menu, various types of objects are created and grouped. <br><br>  In the <i>IP Object</i> submenu, objects are created based on the host, range of IP addresses or a subnet. You can also use a specific MAC address for any IP address.  In the IP Group submenu, groups are created from IP objects, which can then be used to create firewall rules. <br><br>  Same for <i>IPv6 Object and IPv6 Group</i> with IP addressing IPv6. <br><br>  In the <i>Service Type Object and Service Type Group</i> submenus, objects are created and grouped based on protocol type, source and destination ports. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/f93/e2e/521/f93e2e5211d9033e3ddce909285a6e70.png"><br>  Fig.  28 <br><br>  In the <i>Keyword Object and Keyword Group</i> submenus, objects are created and grouped based on keywords, then these objects can be used to create filtering rules, for example, for the URL Content Filter Profile and DNS Filter Profile in the CSM subsystem.  In our example, we block the social networks vk.com twitter.com facebook.com and ok.ru, for this we created two profiles with the names social-nets and social-ok.ru containing the given keywords and added them to the group social-nets- gro submenu <i>Objects Setting &gt;&gt; Keyword Group</i> .  Next, we use this group in the <i>CSM &gt;&gt; URL Content Filter Profile</i> . <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/470/387/9db/4703879db1e72ccd413434fbef956b19.png"><br>  Fig.  29 <br><br>  In the <i>File Extension Object</i> submenu, profiles of extensions are created, files that can be recognized and used in firewall rules.  Thus, for example, you can prohibit the download of all compressed files or video files with the specified extensions.  The example prohibits the loading of any images.  The created profile with the name blk-img will then be used in the <i>CSM</i> profile <i>&gt;&gt; URL Content Filter Profile</i> .  We will see this in the example below. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/467/ab1/24b/467ab124b940bab84e53ed9967d8bce5.png"><br>  Fig.  thirty <br><br>  The <i>SMS / Mail Service Object and Notification Object submenus</i> allow you to configure up to 10 notification profiles for the <i>Application &gt;&gt; SMS / Mail Alert Service</i> . <br><br><h2>  CSM menu </h2><br>  CSM (Content Security Management) security system, an application-level firewall subsystem, allows you to block URL links by keywords and content types, for example, Java Applet, Cookies, Active X, you can also block various network applications, for example , IM / P2P or application level protocols, for example, MySQL, SMB, SSH, UltraVPN, the list of services and protocols is quite impressive.  It is possible to block DNS by keywords. <br><br>  In the <i>APP Enforcement Profile</i> submenu, profiles are created for filtering network applications that can use dynamically changing ports, and each such application has its own specifics, for example, Skype. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/fa3/1de/bed/fa31debeda70927fe5d5a870c7701b7b.png"><br>  Fig.  31 <br><br>  In the example of the settings for the firewall rule of the Data Filter table above, this rule is indicated. <br>  Submenu <i>URL Content Filter Profile</i> is responsible for filtering web content.  The previously created <i>Group / Object Keyword</i> objects are specified here and the <i>URL Access Control</i> function is <i>enabled</i> , then each website address will be searched by keywords.  In our example, we added earlier to the created group social-nets-gro containing keywords with the web addresses of social networks. <br>  In the <i>Web Feature</i> section, you can enable cookies, proxy locking and file uploads with those specified in the <i>File Extension Profile</i> , in the example above, we created the 1-blk-img profile. <br><br>  The created social profile is assigned in the firewall rule in the URL Content Filter field. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/dff/694/59f/dff69459f28de70f97cb93e73d71116d.png"><br>  Fig.  32 <br><br>  When the rule works when trying to open, for example, vk.com, the user will see a message from the <i>Administration Message</i> field <i>,</i> an example of the contents of such a field is shown in the previous image. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/d22/309/b4e/d22309b4e454d7ab23d7526a2c2c4331.png"><br>  Fig.  33 <br><br>  Submenu <i>Web Content Filter Profile</i> .  Another powerful CSM tool is the GlobalView Web Content Filter system.  It is designed to filter unwanted content at the thematic level, that is, for example, sites with the theme of porn, crime, gambling, and more.  The administrator creates profiles where he specifies the subject of the sites and assigns them to the firewall rules, then indicates what to do if the rule matches, for example, block.  Web Content Filter is licensed, but a trial license for testing can be obtained free of charge. <br><br>  Below is the profile setting by categories: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/ebe/25f/1fb/ebe25f1fb9736ef2c198c6533406a1a9.png"><br>  Fig.  34 <br>  The <i>DNS Filter Profile</i> subsystem checks and blocks DNS requests for UDP port 53 in accordance with the assigned URL profile Content Filter Profile or Web Content Filter Profile.  You can also customize the message that will be displayed to the user when the resource is locked. <br><br><h2>  Bandwidth Management menu </h2><br>  The <i>Bandwidth Management &gt;&gt; Sessions Limit submenu</i> is used to limit the number of NATs from sessions with LAN IP addresses that can be simultaneously established.  For example, P2P (Peer to Peer) applications typically require multiple simultaneous sessions, and they consume a lot of network resources.  You can also limit the number of default sessions from any IP. <br><br>  The <i>Bandwidth Management &gt;&gt; Bandwidth Limit</i> submenu sets limits on bandwidth utilization for hosts and IP address ranges.  Moreover, the operation of the rules can be configured on a schedule, you can separately limit the band for incoming and outgoing traffic. <br><br>  In the <i>Bandwidth Management &gt;&gt; Quality of Service</i> submenu, the quality of the traffic service is configured.  At first, traffic using rules is classified by criteria such as source and destination IP, service type and DiffServ code.  Then, each class of traffic is reserved its percentage of the total bandwidth of the specified interface. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/54c/df3/629/54cdf36299d6efe6fe89d629638e9ed6.png"><br>  Fig.  35 <br><br>  By the way, prioritization for VoIP traffic is prioritized by default. <br><br><h2>  Applicatons menu </h2><br>  This menu contains service application settings that help fine-tune individual functions. <br><br>  For example, in the Schedule submenu, schedule profiles are configured, which are used in various settings of functions and rules of the router; you can create up to 15 entries in the schedule. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/916/d4f/a02/916d4fa026bf1d20f351a595b11644da.png"><br>  Fig.  36 <br><br>  In the <i>LAN DNS</i> menu <i>,</i> you can specify the correspondence of the IP address and the domain name in the local network.  In the <i>RADIUS</i> menu <i>and Active Directory / LDAP,</i> you can optionally enable user authorization on the appropriate submenu server servers.  In the <i>IGMP</i> submenu, you can enable IGMP proxying or IGMP snooping for multicast traffic, such as IP TV. <br><br><h2>  VPN and Remote Access menu </h2><br>  The router supports up to 16 VPN * LAN-to-LAN tunnels to create a secure connection between the organization's networks or create a VPN connection from remote workstations of homeworkers using the PPTP / IPSec / L2P / L2TPover IPSec protocols.  AES / DES / 3DES encryption and IKE authentication provide enhanced security.  Using a dual WAN connection allows you to use not only a load balancing scheme, but also redundancy.  Therefore, if the main channel of the VPN channel becomes unavailable, it will replace the backup VPN channel. <br><br>  By the way, the VPN functions in Draytek are very easy to configure.  In just a couple of clicks, you can configure both LAN-to-LAN connections and access from remote workstations.  Dryatek has its own VPN client to simplify the connection of workstations, it is called the Draytek Smart VPN Client, the application is available for free download on draytek.com <br><br>  <i>* In the official deliveries of routers to the territory of the Russian Federation, all software encryption tools that do not comply with state standards have been removed, so this firmware has only PPTP support without encryption.</i>  <i>This can be fixed by installing regular software, which can be downloaded from draytek.com.</i> <br><br>  The global <i>access</i> VPN protocols are enabled in the <i>Remote Access Control Setup</i> submenu, the Pre-Shared Key for the IKE Authentication method is specified in the <i>IPsec General Setup</i> submenu, and the encryption methods are indicated.  For example, specify the key draytek.commmmm <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/8fe/e28/8c8/8fee288c853e0e9134fcd004306ab5cc.png"><br>  Fig.  37 <br><br>  In the <i>Remote Dial-in User</i> submenu, users who can connect via VPN from their remote locations to the localizer's LAN network are specified. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/a3f/2f8/e3d/a3f2f8e3d298d510435cc2bf609635ee.png"><br>  Fig.  38 <br><br>  In the <i>Status</i> list, it is clear that the user ignat is in the status ‚Äúonline‚Äù, as it is marked in green.  In the example below, the user ignat connects via PPTP, the second user will connect through the IPSec tunnel using the pre-configured above preshared key = draytek.commmmm. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/fbf/63f/1c0/fbf63f1c047b020931a80f77bbcf51f0.png"><br>  Fig.  39 <br><br>  To connect from the client side, I used the Draytek Smart VPN Client, it is installed and configured in two clicks. <br><br>  Below is an example for PPTP. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/cca/d78/53f/ccad7853f96c8400d0d3e1eb0d618ab5.png"><br>  Fig.  40 <br><br>  Similarly, a second VPN client is configured that will dynamically connect using the preshared key that we previously specified in the IPsec General Setup submenu as draytek.commmmm. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/505/b9b/196/505b9b1963d27c3b31a4f9ca3f7dfd90.png"><br>  Figure 42 <br><br>  After successful connection in the <i>Connection Management</i> submenu, we will see active connections. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/c93/2fc/e5d/c932fce5d50504881ee5d219e5bda93e.png"><br>  Fig.  43 <br><br>  The LAN to LAN submenu is used to configure VPN connections between two networks.  A LAN-to-LAN profile is created, it specifies all settings required for creating a connection: connection type ‚Äî incoming, outgoing or two-way, VPN protocol ‚Äî PPTP, L2TP with IPsec Policy or IPsec Tunnel, depending on the protocol, specific settings, for example, login or password or IKE Pre-Shared Key, encryption method and so on.  In fact, there are not so many settings, and they are simple in the general case.  It specifies which local network the remote side must ‚Äúsee‚Äù and which remote network to route traffic through this VPN connection. <br><br>  After saving the connection settings, the local side will initiate the connection or wait for an incoming connection from the remote side, depending on the settings. <br><br>  The established connection can also be viewed in the <i>Connection Management</i> submenu. <br><br><h2>  Wireless LAN menu </h2><br>  The router supports the 802.11n wireless network and has two omni-directional antennas.  The settings of the wireless network functions in the router are large. <br><br>  The device supports up to 4 independent wireless networks with their own settings, and for each of the networks you can limit the maximum bandwidth for outgoing and incoming traffic, and also enable the schedule according to which these restrictions will work. <br><br>  Below to illustrate the settings are the <i>General Setup and Security Settings</i> submenus.  The settings are very visual. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/49d/11f/64d/49d11f64dd248ba65108e935464c9a9c.png"><br>  Fig.  44 <br><br>  For each of the 4x wireless networks, their own security settings are configured, including MAC address filters.  For each network, you can enable the Wi-Fi usage quota based on the MAC address and the timeout for re-quota provisioning. <br>  Below is the <i>Station List</i> submenu <i>,</i> which shows the currently connected wireless terminals. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/3bb/f32/408/3bbf324084330eb7093d1d74ed672b41.png"><br>  Fig.  45 <br><br>  In addition, in the <i>Access Control</i> submenu, you can enable the MAC address filter, and create both white and black lists of MAC addresses.  Lists can be saved to a file on a computer or downloaded from a file, if necessary. <br><br>  The <i>Advanced Setting</i> submenu contains radio channel fine tuning, for example, outgoing signal power, operating mode, channel width, fragment length, and others. <br><br>  Wireless also supports configuration via <i>WPS (Wi-Fi Protected Setup) and WDS</i> settings, which can be found in the corresponding sub-items of the <i>Wireless LAN</i> menu. <br><br><h2>  USB Application Menu </h2><br>  The router has a USB port that can be used in three different modes.  First, connect a USB 3G / 4G modem to reserve an Internet connection or as a basic Internet connection if there are no other ways to connect to the Internet. <br>  Secondly, connect the USB printer to the router, which becomes the print server and users will be able to use it by setting up access to it over the network. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/3be/373/d01/3be373d01b75017cf94037ebd45cae69.png"><br>  Fig.  46 <br><br>  In the image above, an example in which the USB port is used to connect the drive and exchange files over the network using FTP and SMB protocols.  Created two users with different home directories.  In the image below, there is an example of the <i>USB Device Status</i> submenu <i>,</i> where we see that a 8 GB drive is connected to the USB port and you can see a list of active users who are connected to it via the network. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/4aa/da7/cdb/4aada7cdb07a21589630cd23e10f0df9.png"><br>  Fig.  47 <br><br>  Photo USB Application &gt;&gt; File Explorer and Photo USB Application &gt;&gt; USB Device Status <br><br>  Third, connect a USB drive and share files with FTP or NetBios / SMB.  The list of supported modems can be viewed in the Modem Support List submenu, and the list of LAN clients can be viewed in the SMB Client Support List submenu. <br><br>  When a 3G / 4G modem or printer is connected, their status will be reflected in the corresponding Modem and Printer tabs of the <i>USB Device Status</i> submenu. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/db4/214/f6f/db4214f6fcceaa46cec3254e5c46bb66.png"><br><br><h2>  System Maintenance menu </h2><br>  The menu contains the service functions of the router.  Here you can set a new password for users with User and Administrator rights, configure the TR-069 protocol for external control of the device.  In the <i>Configuration Backup</i> submenu, you can save the current configuration of the router or restore it from a previously saved one.  The <i>Configuration Backup</i> submenu is used to configure the SysLog system logs to be sent over the network; you can also specify which logs to record.  Additionally, you can customize the sending of email notifications. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/856/424/76c/85642476ce387e4b59ce6916aa8b41e9.png"><br>  Fig.  48 <br><br>  By the way, Draytek has a free utility to simplify viewing and storing syslog on a remote computer.  It is called Draytek Syslog.  Below is a screenshot of the interface. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/9d7/4fa/039/9d74fa039cf9d347f556952ca16573ea.png"><br>  Fig.  49 <br><br>  In the <i>Management</i> submenu, you can configure permissions for remote control.  And if necessary, you need to separately allow control from the Internet, that is, from WAN interfaces. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/dfd/39a/bfb/dfd39abfb0de96d18d3a50fb936a125e.png"><br>  Fig.  50 <br><br><h2>  Diagnostics menu </h2><br>  There are a large number of diagnostic functions on the router, I really like it - almost any problem of diagnosing a condition can be solved through this menu. <br><br>  In the <i>Routing Table</i> submenu there is a complete routing table, in the <i>ARP Cache Table a</i> list of all MAC addresses on the local network, in the <i>DHCP Table a</i> list of all active DHCP clients, there are tables of NAT sessions and a cache of DNS records. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/8a8/989/d0b/8a8989d0ba2b43302d2985cd4eaadabc.png"><br>  Fig.  51 <br><br>  Of course, there are <i>Ping</i> and <i>Traceroute</i> .  It is possible to enable local viewing of the system logs of the router, and they are divided by the types of the main subsystems: VPN, Firewall, WAN, and others. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/53e/c01/df0/53ec01df0ef6ca77b5c3c7345d15db0a.png"><br>  Fig.  52 <br><br>  In the <i>Traffic Graph</i> submenu, you can, graphically, evaluate the utilization of WAN interfaces or the number of sessions. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/df1/302/02f/df130202f8c3dbf50165d073de222059.png"><br>  Fig.  53 <br><br><h2>  findings </h2><br>  We have <a href="http://draytek-russia.ru/">studied</a> in great detail the <a href="http://draytek-russia.ru/">Draytek 2912 / 2912n</a> series of routers.  This device, which contains all the necessary network functions in a single package and is ideal for a small office, therefore, acquiring it, the owner, saves money due to the lack of the need to purchase additional network equipment that could implement individual Draytek 2912n functions, for example, firewall, point access, VPN hub, network printer or NAS server to store shared documents. <br><br>  In the first part of the review, we determined the positioning of the device, examined in detail the typical use case of the router, described in detail all the key features and benefits, looked at the detailed technical specification - it is impressive. <br><br>  Additional software Draytek VigorACS SI, for large installations, will allow you to easily manage and maintain a huge fleet of routers, for a single installation, the Draytek Smart Monitor software designed for monitoring and analyzing traffic will become an indispensable tool for network debugging and user monitoring.  We looked at the configuration and appearance of the device, the display and the interfaces, then we tested the maximum throughput of the router in several modes.  All results correspond to the figures declared by the manufacturer. <br><br>  In the second part of the review, which you are currently reading, we looked at each menu item in detail, with examples of setting up such functions and interfaces as WAN and LAN, load balancing and routing policies, wireless network, VPN, firewall, NAT bandwidth control, and USB functions, diagnostics and monitoring of the router.  As for the documentation, in the process of setting up and testing, I addressed it many times and easily found answers - all functions are well described, and the sections where they are clearly structured.  Working with the router and its documentation left only good impressions. <br><br>  The Draytek 2912 router is very functional, and easy to set up, can be controlled via a web browser, CLI command line interface or TR-69 protocol.  In addition, additional software VigorACS SI and Smart Monitor to monitor and manage both individual devices and a large fleet of hundreds or thousands of devices will help significantly reduce the cost of installation and maintenance of devices.  Therefore, Draytek 2912 has a huge potential for use in corporate networks of small companies, as well as in separate offices of large enterprises.  Also, I note the good quality of software, high performance and reliability, proven by time. </div><p>Source: <a href="https://habr.com/ru/post/395129/">https://habr.com/ru/post/395129/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../395117/index.html">Ask Ethan # 57: How do black holes die?</a></li>
<li><a href="../395119/index.html">"We look at home": Dolby Atmos and his friends</a></li>
<li><a href="../395121/index.html">Vannevar Bush is a brilliant instrument engineer</a></li>
<li><a href="../395123/index.html">Four new elements of the periodic table received official names</a></li>
<li><a href="../395127/index.html">Information security in Singapore: all officials are disconnected from the Internet</a></li>
<li><a href="../395131/index.html">Firefox will allow you to access sites under multiple accounts at the same time.</a></li>
<li><a href="../395135/index.html">Before the landing at the Falcon 9 rocket ran out of liquid oxygen</a></li>
<li><a href="../395137/index.html">Remote opening of a brokerage account through the portal of state services: why and how to do it</a></li>
<li><a href="../395139/index.html">Will we give the military robots a license to kill?</a></li>
<li><a href="../395141/index.html">From browser bookmarks to the new era: a little about the history of the development of social buttons services</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>