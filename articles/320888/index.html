<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Cloudless mobile app - life without Google Play</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A little earlier, you and I thought about what alternatives to Google Play are , and how you can work around different methods of blocking on mobile a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Cloudless mobile app - life without Google Play</h1><div class="post__text post__text-html js-mediator-article">  A little earlier, you and I thought about <a href="https://habrahabr.ru/post/279553/">what alternatives to Google Play are</a> , and how you can work around different methods of blocking on mobile applications with the help of <a href="https://habrahabr.ru/post/279267/">Google Compression Proxy</a> and <a href="https://habrahabr.ru/post/313030/">Torus</a> .  Today I want to talk about whether it is possible to launch and maintain a full-fledged mobile application on Android without the help of any mandatory external infrastructure.  I will tell on the example of the same application for viewing the rutraker.  It is not particularly remarkable, but very clear. <br><br><img src="https://habrastorage.org/files/4fd/128/c40/4fd128c401c24d33bde65d5b4cbae029.jpg"><br><a name="habracut"></a><br><h2>  For whom is it </h2><br>  Immediately specify who this may be relevant.  Malicious use comes to mind in the first place, but I rather want to help developers who, due to some conventions, cannot put out the application, or could not break through the robots sitting on Google support for an unfair ban of the application.  There are also just applications for a narrow circle of users or applications for a certain company.  Well, or you can just suddenly be bound by such conditions that you can not publish your application on Google Play (encountered, yes). <br><br><h2>  Stage one.  Installation </h2><br>  In fact, this is the most difficult stage - your application must somehow get to the user on the device.  If the application is designed for casual users who can only deliver something from Google Play, then, of course, alas.  On the other hand, if you have an application of this kind, then you will most likely be able to use Google Play. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Earlier, I was thinking about <a href="https://habrahabr.ru/post/299540/">Yandex.Store</a> - but the experience of use shows that it just slowly goes dead, abandoned and forgotten (even Yandex employees cannot answer questions about plans for him - and I asked). <br><br>  Next comes the F-Droid.  The option is not bad, but it has several drawbacks that can be fatal for you: <br><br><ul><li>  You must provide the source code of the project; </li><li>  The user should have the F-Droid application, or you need to try to persuade him somehow; </li><li>  Updates without prior removal in this case can only be installed from F-Droid (they themselves collect and sign your application from the source code); </li><li>  The program can be updated only once a day; </li><li>  As a result, you remain tightly attached to the F-Droid, which is also not very cool. </li></ul><br>  There are some more app stoppers of different degrees of development and bending, but we will not dwell on this in detail - you can google quite a few reviews of this kind.  And in any case, there will be disadvantages in that you will have to teach the user how to use this app, you will be tied to it, or you will have to publish your application to a bunch of sites ... In general, everything is pretty sad. <br><br>  What to do?  The answer is rather clumsy in its simplicity - just distribute the application without any storages - as an apk file!  You can store it on any server - from FTP and HTTP to the balls on the dropbox.  This, of course, will require a tick to ‚Äúinstall applications from third-party sources‚Äù - but we need it anyway.  Yes, and users have long learned to put everything they need - the same Pokemon installed at the peak of popularity on almost every tenth phone (in the absence of them in the Russian Google Play) clearly show this (yes, I <a href="https://habrahabr.ru/post/307974/">also like</a> Pokemon as they clearly show many things).  In this case, you can lay eggs on a pile of different baskets - you can have many sources for installing and updating your application. <br><br>  There is only one serious minus - at the time of installation it is impossible to check whether this is really your application or an evil fake.  Well, alas.  For hardcore paranoids, you can publish a hash on a trusted resource, for example. <br><br>  In my case, I used the github infrastructure, because I am developing an open source application (and I love collaboration, pull requests and all of this).  But I repeat - one could use anything - w3bsit3-dns.com, torrents, FTP, HTTP, Dropbox, transfer apk via telegrams, hosting on narod.ru and so on.  Any perversion that comes to your mind. <br><br><h3>  Stage Two.  Debugging </h3><br>  It would seem that without Google reports life is no longer sweet, and we can‚Äôt debug anything else.  But it is not.  There are a large number of services that offer us much more of the most interesting than Google.  What do you think - why are the crashalytics binaries inside every fifth application?  Just because it is much more convenient! <br><br>  So, you can collect information about crashes with third-party tools.  I myself used <a href="http://try.crashlytics.com/">crashalytics</a> and <a href="https://github.com/ACRA/acra">Acra</a> .  rashalytics gives you everything you can out of the box - but in your cloud.  Acra gives you even more and offers a bunch of backend options - but you need to do this and think that you don‚Äôt always want to.  So I chose Acra in the event that the data simply could not be transferred to someone else's cloud.  For Acra, a simple backend was written that put reports in Elasticsearch, after which they could be viewed in Kibana (just using the current infrastructure). <br><br>  So after receiving the report, everything depends only on your imagination - the collected data can be transmitted via email, via the server‚Äôs web, through the server in the torus, the Russian post, sent by messengers and so on. <br><br><h3>  Stage Three.  Update. </h3><br>  Yes, we have long been out of the time when updates were delivered on beautiful floppy disks every few years.  This is probably for the best.  So, you probably want to be able to update the application at least once a day. <br><br>  At the moment we are considering the option that you do not use any stori that care about it.  In this case, you need to have a certain pool of servers with update data and the actual binaries.  As before - everything is limited only by your imagination.  And the guarantor of the fact that this is still your application is a signature, the discrepancy of which will be ignored only by a very stupid user (he is unlikely to be your target user).  Well, nothing prevents you from validating the downloaded update using any of your methods. <br><br>  In my case, the same github was used - there is a convenient API for getting data about releases, and I do not need to worry about traffic, accessibility and other things.  If your application is banned anywhere, it is quite possible to launch the torus at startup and download the update from there. <br><br>  The only subtlety of this stage - it is extremely important not to screw it up in writing the update algorithm.  In the future update, you can fix any bug in the application - in addition, which will prevent to put this update ... Well, it is important that your application does not fall before the update.  Of course, you can prohibit any activity in the application before checking and installing the update - but for the user it is not very convenient.  You can also try to catch any crashes and ... Do not crash ... But if you have native libraries in the application and other ways to shoot yourself in the leg, then crash is still possible. <br><br><h3>  Stage Four.  Analytics. </h3><br>  All is well, you have a working active application and users.  One thing is not clear - what the hell is going on there ?! <br><br>  If you solved this on Google Play with Google Analytics for Android, now ... You can solve it with any other analytics service.  Including the capabilities of the same Fabric.  I will not repeat further - you fully control what, where and how you send. <br><br>  <a href="">Fabric example</a> (I only collect data about titles of pages viewed out of pure curiosity). <br><br>  By the way, on github you can get <a href="">some statistics</a> on repository visits, which is also interesting. <br><br><h3>  Stage Five.  Monetization </h3><br>  Before falling into despair at the thought that without Google you can no longer sell your application, you can think and decide what ... Not so we need it.  If you monetize the application with advertising, you can take any non-google engine (thousands of them).  If with the help of purchases, no one will prevent you from integrating any payment solution - from Stripe to transferring bitcoins ... <br><br><h3>  Total </h3><br>  Suddenly it turns out that there are no fundamental problems.  The application can work fully - not so spherically in a vacuum, but at least with many different interchangeable infrastructures, without relying on Google.  So if you are banned - do not despair!  There is a way to survive.  Of course, it will be harder - but this is infinitely better than just rolling and diverging.  And I really hope that many will do this, there will be many popular applications that work autonomously, and this, in particular, will have an impact on Google - perhaps they will finally put a few people of flesh and blood on to deal with blocking issues. <br><br>  Regarding my application, which I used as an example, the githab says that it has 20,000 downloads.  Even if half of them are updates, I still think that the result is still very decent - given that I did not advertise it anywhere (why?), And it is described only on Habr√©, rutraker, and w3bsit3-dns.com. <br><br>  <b>PS</b> Just in case, I warn you - Google prohibits updating the application from alternative sources. <br><br>  <b>PS2</b> You've probably already heard that Google bought Fabric.  One can only hope that he will not break it and will not make a binding to Google Play.  But even if so, we still have a lot of spare options. <br><br><h3>  Links </h3><br><ul><li> <a href="https://www.change.org/p/sergey-brin-respect-the-efforts-of-small-and-indie-android-developers">A petition to Google</a> , which asks to respect the little developers and not to ban them and their applications for free.  Closed, you can not sign - but just to understand the scale of the problem.  Not that 4,000 people could not be wrong, but still; </li><li>  <a href="http://apptractor.ru/info/articles/neseksualnyie-pozyi-kak-pozika-udalili-iz-google-play.html">Interesting story</a> about the removal and restoration of applications on Google Play.  In my opinion, a rare miracle happened.  And what if the miracle did not happen? </li><li>  <a href="https://github.com/jehy/rutracker-free">Rutracker application</a> , which I used as an example.  You can use its code, including the code of the update mechanism - but watch it carefully, development for Android is my hobby, so the jambs are highly likely; </li><li>  Fabric interface <a href="">example</a> ; </li><li>  <a href="">Perfect release</a> in Fabric. </li></ul></div><p>Source: <a href="https://habr.com/ru/post/320888/">https://habr.com/ru/post/320888/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../320878/index.html">Master-master replication and scaling of applications between all IoT devices and the cloud</a></li>
<li><a href="../320880/index.html">VPS hosting and cloud hosting: what to choose and what is the difference?</a></li>
<li><a href="../320882/index.html">Off splinters from the brain. 15 stereotypes about CRM-systems</a></li>
<li><a href="../320884/index.html">We set up a private Docker repository</a></li>
<li><a href="../320886/index.html">FlexPod - from theory to practice: the word to engineers (webinar)</a></li>
<li><a href="../320890/index.html">NooLite: kill two birds of ergonomics at the same time (installation, opinion, development)</a></li>
<li><a href="../320892/index.html">Testing untestable JS with Babel and snarejs</a></li>
<li><a href="../320894/index.html">Experience using Samsung Pay</a></li>
<li><a href="../320898/index.html">Immersion in Robolectric</a></li>
<li><a href="../320900/index.html">Configuring the DNS server for North Korean security standards</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>