<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Own SVN on shared hosting</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We decided, like with a friend, to start a startup not a startup, but a website for the soul. Decided - it means it will be launched. The budget ... A...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Own SVN on shared hosting</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/d23/0ca/ef5/d230caef59c7b063bc3f68201d1f6d16.png" alt="svn" align="left"><br>  We decided, like with a friend, to start a startup not a startup, but a website for the soul.  Decided - it means it will be launched.  The budget ... And let's not buy another 2 cups of beer, and we will launch it.  In general, the money for the domain and the virtual hosting on the tree.  So we are ‚Äúadults‚Äù people, and we‚Äôve gotten used to doing everything thoroughly, we need a version control system and uploading.  It was decided to raise the subversion repository with the possibility of distributing access to it to several developers with different logins on valuehost.  But we have shared hosting with all its limitations, what to do? <br><br><a name="habracut"></a><br><br><h4>  The necessary conditions: </h4><br>  There are only two of them (in general): the availability of ssh-access to the server of the hoster, and the ability to walk on this SSH key. <br>  By the way, the hoster does not have to be valuehost.ru, look at the example with valuehost in the article and translate to your situation, the meaning is the same everywhere. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Determine whether subversion is installed: </h4><br><br> <code>[megauser@megaserver ~]$ svn <br> -bash: svn: command not found <br> [megauser@megaserver ~]$ svnserve <br> -bash: svnserve: command not found</code> <br> <br>  Not installed, then install it under your account. <br>  If Subversion is already installed in your case, skip all the steps. <br>  to point 4 "Configuring the repository and access to it." <br><br><h4>  Install Subversion </h4><br>  First of all, we look to see if it is possible to build programs from sources: <br><br> <code>[megauser@megaserver ~]$ make <br> -bash: make: command not found <br> [megauser@megaserver ~]$ gcc <br> -bash: gcc: command not found <br></code> <br><br>  There is no possibility, then you have to build programs on another machine <br>  with the same OS as the hoster: <br><br> <code>[megauser@megaserver ~]$ uname -srm <br> FreeBSD 6.3-RELEASE i386</code> <br> <br>  We find a machine with the same OSes, where we have access, or, for example, <br>  we put the necessary OS on the home computer.  It is necessary that on this <br>  the machine you had write access to the directory in which you plan to install <br>  subversion on the server host.  In our case, it was the directory / pub / home / megauser / myroot <br>  We collected subversion without any tricks, just like in the manual for the case of necessity <br>  just a simple svnserve server, without svn integration into apache: <br><br> <code><a href=""></a> <a href=""></a> wget subversion.tigris.org/downloads/subversion-1.5.1.tar.gz <br> wget subversion.tigris.org/downloads/subversion-deps-1.5.1.tar.gz <br> tar xvzf subversion-1.5.1.tar.gz <br> tar xvzf subversion-deps-1.5.1.tar.gz <br> cd subversion-1.5.1 <br> ./configure --prefix=/pub/home/megauser/myroot --enable-all-static --disable-mod-activation --without-apache --without-apxs --without-serf --without-berkeley-db --with-ssl <br> make <br> make install <br></code> <br><br>  (Note: currently the latest version of subversion is 1.5.4, but at the time of our <br>  action was only 1.5.1, so the example is based on it, we think that we can take 1.5.4 <br>  without any changes, but just in case read CHANGELOG) <br><br>  Everything, SVN is assembled and installed along the path we need, we take it to the server of the host: <br><br> <code>tar cvzf ~/builded-svn.tgz /pub/home/megauser/myroot/</code> <br> <br>  Then we go to the SSH hoster console: <br><br> <code><a href=""></a> [megauser@megaserver ~]$ wget your.server/builded-svn.tgz <br> (      ,    scp) <br> [megauser@megaserver ~]$ tar xvzf builded-svn.tgz</code> <br> <br>  Everything, SVN is installed, it remains only to add / pub / home / megauser / myroot / bin to <br>  the PATH environment variable so that you can run the svn command without specifying the full <br>  ways to her.  Add to ~ / .bashrc or ~ / .profile or a similar string in the file <br><br> <code>export PATH=~/myroot/bin:${PATH}</code> <br> <br>  Check it out and test the functionality of the newly installed SVN: <br><br> <code>[megauser@megaserver ~]$ svn <br> Type 'svn help' for usage. <br> [megauser@megaserver ~]$ svnserve <br> You must specify exactly one of -d, -i, -t or -X. <br> Type 'svnserve --help' for usage.</code> <br> <br>  If the answers are different - act on the situation until everything is settled.  This completes the installation. <br><br><h4>  Configure the repository and access to it </h4><br><br>  First of all, create a repository: <br><br> <code>svnadmin create /pub/home/megauser/myrepo</code> <br> <br>  Describe how to fill in the repository initial structure of projects, how to configure the necessary hooks and the like, I will not, <br>  there is <a href="http://svnbook.red-bean.com/nightly/ru/index.html">svnbook.red-bean.com/nightly/ru/index.html</a> <br><br>  Then we configure the key access via the svn + ssh protocol to our repository: <br>  (on the valuehost server, there was SSH in the ‚Äússh.com‚Äù version, and not ‚Äúopenssh‚Äù, as happens on linux systems, respectively, our examples are for the ‚Äússh.com‚Äù version, <br>  but using the appropriate manuals you can easily do the same for linux). <br><br>  On working computers of future users of the repository, create key pairs, save the public one in the format ‚Äússh.com‚Äù, and upload it to the server <br>  the hostname in ~ / .ssh2 / id_rsa_ &lt;virtual_user_name&gt; .pub, gives file rights 0600 so that ssh does not get scared and does not reject the user with this key for the reason <br>  high availability of the file with the key. <br><br>  Then create the file ~ / .ssh2 / authorization with the same access rights - 0600. In the file write the following: <br><br> <code>Key id_rsa_user1.pub <br> Options command="/pub/home/megauser/myroot/bin/svnserve -t -r /pub/home/megauser/myrepo --tunnel-user=user1", no-port-forwarding, no-x11-forwarding, no-agent-forwarding, no-pty <br> <br> Key id_rsa_user2.pub <br> Options command="/pub/home/megauser/myroot/bin/svnserve -t -r /pub/home/megauser/myrepo --tunnel-user=user2", no-port-forwarding, no-x11-forwarding, no-agent-forwarding, no-pty <br></code> <br>  That is, for each svn-user - two lines.  In this particular example, we created two SVN users, user1 and user2. <br>  Note that user1 and user2, and not your original login to the server of the host, will be used as authors of commits to the repository, <br>  what we actually needed. <br><br>  Everything, the repository and access to it is set up, to check on a work computer in PuTTY (or another ssh-client) session with the same parameters as your regular access session to the server of the host, <br>  but with the private key that you generated recently for svn, and the public part of which was placed in ~ / .ssh2 / id_rsa_.pub. <br>  Start this session, if everything is ok, then you should see something like this <br><br> <code>( success ( 2 2 ( ) ( edit-pipeline svndiff1 absent-entries commit-revprops depth log-revprops partial-replay ) ) )</code> <br> <br>  This means that everything is fine, you can take Tortoise or any other SVN client, and connect to svn + ssh: //server.of.your.hoster.ru/ <br>  using the necessary private keys. <br><br>  To make you suffer less - here is the <a href="">archive with our directory</a> / pub / home / megauser / myroot / <br>  In addition to SVN, it still has VIM, MC, rsync and a simple release script, with which we post the committed changes to the combat location of the server. <br>  Here is a gift, use your health :) <br><br>  ps: the questions "why do you need this, is there ...." should not be asked.  I wanted to do so </div><p>Source: <a href="https://habr.com/ru/post/44742/">https://habr.com/ru/post/44742/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../447410/index.html">Provincial fire or the birth of a nation</a></li>
<li><a href="../447412/index.html">Message monitoring in RabbitMQ</a></li>
<li><a href="../447414/index.html">ML.NET 1.0 RC is released. What's new?</a></li>
<li><a href="../447416/index.html">PHP Enchanting arrangement of points above quotes</a></li>
<li><a href="../447418/index.html">Bitcoin process. How is the payment page in B2BinPay</a></li>
<li><a href="../447420/index.html">Jumping from the stratosphere</a></li>
<li><a href="../447422/index.html">Interesting video viewing experience: instead of VR - glasses with mirrors Ximmerse Visor-X</a></li>
<li><a href="../447424/index.html">Reaktive - a multiplatform library for reactive Kotlin</a></li>
<li><a href="../447426/index.html">How, to whom and why go to consulting? Personal experience on the example of Big Data</a></li>
<li><a href="../44743/index.html">About simplicity</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>