<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Time of flight</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="You know, I am sometimes surprised by the bizarre structure of public opinion. Take for example the technology of 3D-visualization. The technology of ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Time of flight</h1><div class="post__text post__text-html js-mediator-article"> You know, I am sometimes surprised by the bizarre structure of public opinion.  Take for example the technology of 3D-visualization.  The technology of virtual reality <a href="http://ru.wikipedia.org/wiki/Oculus_Rift">glasses</a> : <a href="http://ru.wikipedia.org/wiki/Oculus_Rift">Oculus Rift</a> , <a href="http://ru.wikipedia.org/wiki/Google_Glass">Google Glass</a> .  But there is nothing new here, the first virtual reality helmets appeared in the late 90s.  Yes, they were difficult, they were ahead of their time, but why then didn‚Äôt it cause such a WOW effect?  Or 3D printers.  Articles about how cool they are or how quickly they will take over the world appear in the information field twice a week for the last three years.  I do not argue, this is cool and they will capture the world.  But this technology was created back in the 80s and has been sluggishly progressing since then.  3D TV?  <a href="http://en.wikipedia.org/wiki/3D_film">1915</a> ... <br><br>  All these technologies are good and curious, but where does so much hype because of every sneeze? <br><br>  What if I say that in the last 10 years, 3D shooting technology, which is very different from any other, was invented, developed and put into mass production?  In this case, the technology is already widely used.  Debugged and accessible to ordinary people in the shops.  Did you hear about her?  (Probably only specialists in robotics and related fields of science have already guessed that I am talking about ToF cameras). <br><img src="https://habrastorage.org/getpro/habr/post_images/1f4/2e2/906/1f42e2906c69150a30bd567c15eca9f6.jpg"><br>  What is a ToF camera?  In the Russian Wikipedia ( <a href="http://en.wikipedia.org/wiki/Time_of_flight_camera">English</a> ) you will not find even a short mention of what it is.  ‚ÄúTime of flight camera‚Äù is translated as ‚ÄúTime of Flight Camera‚Äù.  The camera determines the distance through the speed of light, measuring the time of flight of the light signal emitted by the camera, and the resulting image reflected by each point.  The current standard is a matrix of 320 * 240 pixels (the next generation will be 640 * 480).  The camera provides the accuracy of measuring the depth of about 1 centimeter.  Yes Yes.  A matrix of 76800 sensors, providing accuracy of time measurement of the order of 1 / 10,000,000,000 (10 ^ -10) seconds.  On sale.  For 150 bucks.  Or maybe you even use it. <br>  And now a little more about physics, the principle of operation, and where you met this beauty. <br><a name="habracut"></a><br>  There are three main types of ToF cameras.  For each type, its own point distance measurement technology is used.  The simplest and most understandable is Pulsed Modulation, also known as Direct Time-of-Flight imagers.  An impulse is given and the exact time of its return is measured at each point of the matrix: <br><img src="https://habrastorage.org/getpro/habr/post_images/b7b/400/131/b7b400131ce2820fc051c14b055d09b5.png"><br>  In essence, the matrix consists of triggers triggered on the wave front.  The same method is used in optical flash synchro.  Only here on orders more precisely.  This is the main difficulty of this method.  A very accurate detection of the response time is required, which requires specific technical solutions (which I could not find).  Now these sensors are tested by NASA for the landing modules of their <a href="http://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/20130013472.pdf">ships</a> . <br><img src="https://habrastorage.org/getpro/habr/post_images/7f0/299/510/7f029951003e28e532e7c67506420e89.jpg"><br>  But the pictures that she gives: <br><img src="https://habrastorage.org/getpro/habr/post_images/f03/8fb/dc4/f038fbdc45a8743f3014aecfb970d451.jpg"><br>  There are enough lights for them to trigger on the optical flow reflected from a distance of about 1 kilometer.  The graph shows the number of pixels that worked in the matrix, depending on a distance of 90% work at a distance of 1 km: <br><img src="https://habrastorage.org/getpro/habr/post_images/0cd/2ce/3f5/0cd2ce3f536598993906d7e35af43b00.png"><br>  The second method is constant signal modulation.  The emitter sends some modulated wave.  The receiver finds the maximum correlation of what it sees with this wave.  This determines the time that the signal spent to reflect and arrive at the receiver. <br><img src="https://habrastorage.org/getpro/habr/post_images/0e0/0ce/ff6/0e00ceff672a747577bb86fbd031242e.png"><br>  Let the signal be radiated: <br><img src="https://habrastorage.org/getpro/habr/post_images/8d4/3dd/ed0/8d43dded02c5c476f36b869e2c1fcdf8.png"><br>  where w is the modulating frequency.  Then the received signal will look like: <br><img src="https://habrastorage.org/getpro/habr/post_images/886/6e6/b6c/8866e6b6c1d5fbbf37deda8f31dd3b6e.png"><br>  where b is a certain shift, a is amplitude.  Correlation of the incoming and outgoing signal: <br><img src="https://habrastorage.org/getpro/habr/post_images/c79/29f/8b1/c7929f8b12661f7eeeeebdc99a276058.png"><br><img src="https://habrastorage.org/getpro/habr/post_images/12c/e43/089/12ce4308972e2f047c8b3f46db645fdf.png"><br>  But a complete correlation with all possible shifts in time is quite difficult to produce in real time in each pixel.  Therefore, use a sly trick ears.  The received signal is received in 4 neighboring pixels with a phase shift of 90 ¬∞ and correlates with itself: <br><img src="https://habrastorage.org/getpro/habr/post_images/ff2/ec6/3f1/ff2ec63f17f2fa87ac917ba4cc09fa34.png"><br>  Then the phase shift is defined as: <br><img src="https://habrastorage.org/getpro/habr/post_images/810/f00/224/810f00224e54cb27fe73dcc6e8c8be26.png"><br>  Knowing the resulting phase shift and the speed of light, we obtain the distance to the object: <br><img src="https://habrastorage.org/getpro/habr/post_images/595/b20/3b5/595b203b50ef76320539cdd363bd69a5.png"><br>  These cameras are a bit simpler than those built using the first technology, but they are still complex and expensive.  This <a href="http://www.mesa-imaging.ch/home/">company</a> makes them.  And they cost about <a href="http://www.robotshop.com/en/catalogsearch/result/%3Fq%3DMESA%26order%3Dstats_sales_order_count%26dir%3Ddesc">4 kiloboxes</a> .  But simpatishny and futuristic: <br><img src="https://habrastorage.org/getpro/habr/post_images/ea1/0db/a0d/ea10dba0d458b40f800904ff1ad9fabb.jpg"><br>  The third technology is "Range gated imagers".  Essentially shutter camera.  The idea is terribly simple and does not require high-precision receivers, nor complex correlation.  Before the matrix is ‚Äã‚Äãthe shutter.  Suppose that it is perfect for us and works instantly.  At time 0, the scene lights up.  The shutter closes at time t.  Then objects located further than t / (2 2 c), where c is the speed of light, will not be visible.  The light just does not have time to reach them and go back.  A point located close to the camera will be illuminated all the time of exposure t and have brightness I. So any exposure point will have brightness from 0 to I, and this brightness will be a representation of the distance to the point.  The brighter - the closer. <br>  It remains to do just a couple of small things: enter the shutter closing time and matrix behavior at this event into the model, the illumination source is not ideal (the dependence of distance and brightness is not linear for a point source of light), different reflectivity of materials.  These are very large and complex tasks that device authors have solved. <br>  Such cameras are the most inaccurate, but the simplest and cheapest: the complexity of them is the algorithm.  Want an example of what this camera looks like?  Here he is: <br><img src="https://habrastorage.org/getpro/habr/post_images/255/e00/4fc/255e004fc8e92b72f46e884e20bbc85d.jpg"><br>  Yes, in the second Kinect is exactly such a camera.  Just do not confuse the second Kinect with the first (on Habr√© once upon a time there was a good and detailed <a href="http://habrahabr.ru/post/109337/">article</a> where it was still mixed up).  The first Kinect uses a <a href="http://en.wikipedia.org/wiki/Structured-light_3D_scanner">structured backlight</a> .  This is a much older, less reliable and slower technology: <br><img src="https://habrastorage.org/getpro/habr/post_images/581/848/3dd/5818483dd2456636adc9f0bb7f52d793.jpg"><img src="https://habrastorage.org/getpro/habr/post_images/84a/8ca/961/84a8ca9616be82fa1137bf255a6e48ff.jpg"><br>  It uses a conventional infrared camera, which looks at the projected pattern.  Its distortions determine the range (a comparison of methods can be found <a href="http://www.ti.com/ww/en/analog/3dtof/index.shtml%3FDCMP%3Dhpa_contributed_article%26HQS%3D3dtof-ca">here</a> ). <br>  But Kinect is not the only representative on the market.  For example, Intel launches a <a href="http://click.intel.com/intelsdk/Default.aspx">camera</a> for $ 150, which provides a 3D image card.  It is focused on a more near zone, but they have an SDK for analyzing gestures in the frame.  Here is another <a href="http://www.softkinetic.com/Store/tabid/579/ProductID/6/language/en-US/Default.aspx">option</a> from SoftKinetic (they also have an SDK, plus they are somehow tied to texas instruments). <br><img src="https://habrastorage.org/getpro/habr/post_images/730/d23/6cf/730d236cfb572b578c1792611e3ada05.jpg"><img width="400" src="https://habrastorage.org/getpro/habr/post_images/0ae/2fd/8c3/0ae2fd8c35e7a3bc5050f1e0a17c1425.jpg"><br><img src="https://habrastorage.org/getpro/habr/post_images/aa6/dad/dd0/aa6daddd05b946406a9fc3f76515666f.jpg"><br>  I myself, the truth has not yet come across any of these cameras, which is a pity and annoyance.  But, I think and hope that in five years they will come into use and my turn will come.  As far as I know, they are actively used when targeting robots, they are introduced into face recognition systems.  The range of tasks and applications is very wide. </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/224605/">https://habr.com/ru/post/224605/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../224595/index.html">Ciklum Speakers' Corner on Mobile Development with Xamarin, June 6, 6:30 p.m.</a></li>
<li><a href="../224597/index.html">Ilon Mask presented the passenger version of the spacecraft Dragon</a></li>
<li><a href="../224599/index.html">Lumo Lift: a miniature fitness tracker and "controller" posture</a></li>
<li><a href="../224601/index.html">Online LaTeX editor Papeeria. Spring news</a></li>
<li><a href="../224603/index.html">Panoramic HD-camera Giroptic: shoots under water, screwed into a cartridge from a light bulb, stream through Ethernet and WiFi</a></li>
<li><a href="../224607/index.html">Why do we need Rust?</a></li>
<li><a href="../224611/index.html">Ultrasonic spraying allows to obtain high-quality graphene coating without post-processing</a></li>
<li><a href="../224613/index.html">A NASA engineer suggests typing people on other planets.</a></li>
<li><a href="../224615/index.html">Apple's smart home is coming: probably, the announcement is already on Monday</a></li>
<li><a href="../224621/index.html">RGB tape control with Arduino and L298N driver</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>