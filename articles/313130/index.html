<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Dive into the blockchain technology: Ecosystem of digital dentistry</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We present the second article from the series ‚ÄúImmersion in Blockchain Technology‚Äù. In this material, you will learn about the Digital Dentistry Excha...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Dive into the blockchain technology: Ecosystem of digital dentistry</h1><div class="post__text post__text-html js-mediator-article">  We present the second article from the series ‚ÄúImmersion in Blockchain Technology‚Äù.  In this material, you will learn about the Digital Dentistry Exchange medical project, which is part of a digital dentistry ecosystem called Digital Dentistry Space. <br><br>  We will talk about its technological features, answer the most frequent questions about smart contracts and share the team‚Äôs vision of what the future of blockchain technology is. <br><br><img src="https://habrastorage.org/files/5df/a78/62f/5dfa7862f02e45deb35e77e05d0fb3bb.jpg"><br><a name="habracut"></a><br><h2>  The series of articles "Immersion in technology blockchain" </h2><br>  1. A series of materials on Emer technology: <br>  1.1.  <a href="https://habrahabr.ru/company/microsoft/blog/311690/">The secrets of EmerCoin</a> . <br>  1.2.  <a href="https://habrahabr.ru/company/microsoft/blog/314368/">Decentralized uncensored domain name system</a> . <br>  1.3.  <a href="https://habrahabr.ru/company/microsoft/blog/316326/">Worldwide public key infrastructure</a> . <br>  1.4.  <a href="https://habrahabr.ru/company/microsoft/blog/316864/">Decentralized password-free security system</a> . <br>  2. <a href="https://habrahabr.ru/company/microsoft/blog/312308/">Fast and secure transactions</a> . <br>  3. <a href="https://habrahabr.ru/company/microsoft/blog/313130/">Ecosystem of digital dentistry</a> . <br>  4. <a href="https://habrahabr.ru/company/microsoft/blog/312054/">Combating counterfeit goods</a> . <br>  5. <a href="https://habrahabr.ru/company/microsoft/blog/323548/">Mutual insurance of animals</a> . <br>  6. <a href="https://habrahabr.ru/company/microsoft/blog/328896/">What is ICO and how to conduct it</a> . <br>  7. Loading ... 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  The problem of distribution of responsibility and improving the quality of complex services in the field of dentistry </h2><br>  In modern digital dentistry, there is a trend called CAD / CAM (Computer Aided Design and Computer Aided Manufacturing).  It is used to create dental constructions such as crowns, veneers or tabs (a very cool type of fillings).  The production process using a computer consists of several stages: <br><br>  1. The doctor prepares the tooth for the dental unit, removes the impression and forms the work order: <br><br><img src="https://habrastorage.org/files/862/1c3/7c3/8621c37c30ca41bf9191c6a0fa0642ec.png"><br><br>  2. The doctor agrees about the price with the patient, there is an advance payment. <br><br>  3. The impression is scanned and a digital three-dimensional model of the patient's teeth is obtained: <br><br><img src="https://habrastorage.org/files/544/85b/09e/54485b09eef545d08435ef4493f4d726.png"><br><br>  4. With the help of a specialized design system (CAD) on the basis of this model, the design of a dental construction is constructed taking into account the wishes of the patient and the physician. <br><br>  5. After confirmation, the three-dimensional model of the dental product is sent to the milling center, where it is materialized from the selected material (zirconium, titanium, polymer or ceramics). <br><br>  6. The product is disinfected and placed on the patient. <br><br><img src="https://habrastorage.org/files/630/1cf/253/6301cf253f354b1fb1927dba393d4ab1.png"><br><br>  Each stage is paid for separately, but if an error occurs at one of the stages, then all subsequent stages will be done in vain, although they have already been paid.  It would seem that fixing it is simple: test every step and forget about the problem.  But, for example, difficulties are detected at the stage of installing the product to the patient, and the previous stages (scanning, design and milling) are already paid.  This means that the doctor loses money, time and nerves.  The last two points also apply to the patient. <br><br>  The logical solution is to create multilateral agreements that allow the distribution of responsibility between participants of the CAD / CAM process.  A huge selection of different payout strategies appears here, for example: <br><br><ul><li>  the doctor pays all participants only if the product is successfully installed; </li><li>  the doctor pays the participants in turn when each participant confirms the previous result, you can add insurance, reputation, and so on. </li></ul><br>  As a result, transactions with several active parties can be presented in different ways, depending on this, prices for services will also be ranked. <br><br>  This approach was not implemented previously for several reasons: it was impossible to create such forms of transactions due to the lack of a payment regulator, as well as due to the high complexity of formulating contracts with a large number of reservations. <br><br><h2>  Implementation of the idea </h2><br>  Note: Below is the actual code written in the framework of the hackathon. <br><br>  The problem described above can be solved with the help of smart contracts: complex payment schemes are packaged in the "accept / decline / pay" buttons.  To adjust the entire process, the system with the blockchain architecture will be the most reliable solution. <br><br>  So the team had a certain background in development and design, for the back-end the Ruby on Rails (RoR) framework was chosen, for the front-end - the AngularJS JavaScript framework. <br><br>  Writing smart contracts was a bit more difficult, since none of the participants had previously encountered a similar task.  Therefore, the Ethereum platform was chosen (a tool for creating decentralized online services based on the blockchain) based on the Azure Blockchain as a Service.  Smart contracts were programmed in a special language, Solidity. <br><br>  Participants shared two questions that they had while working with this tool, and answers to them. <br><br>  <b>Where is the contract stored and who ensures its correct execution?</b> <br>  When a smart contract is written and debugged, it is placed in a chain of transaction blocks, and can be checked (but not changed!) By any user of the system, if he knows the address for which this smart contract is located.  The correctness of the smart contract itself depends on how correctly the programmer wrote it.  If the smart contract was described incorrectly, it cannot be corrected and you will have to place another smart contract at a different address. <br><br>  <b>What is the price of creating a smart contract?</b> <br>  To create a smart contract, you need to spend a certain amount of domestic currency (Eth), the higher its price, the higher it gets priority from miners (these machines calculate cryptoblocks).  Miners are needed to ensure that the smart contract is processed and added to the blockchain.  If the first installment is minimal, a situation may arise in which a smart contract will never be placed on the global blockchain.  It is worth noting that you can also set the contract lifetime. <br><br><h4>  What you need to know to work with the Ethereum platform for the client side </h4><br>  First of all, you need to understand for which platform you are writing.  As we wrote above, in this solution, the AngularJS framework was used, so all the logic was put into the controller, and all the work with web3.js took place there. <br><br>  Note: in reality, it is better to keep such operations on a secure server away from the client. <br><br>  Next, you need to initialize the connection to the program to communicate with the blockchain: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Web3 = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'web3'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> web3 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Web3(); web3.setProvider(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> web3.providers.HttpProvider(<span class="hljs-string"><span class="hljs-string">"http://_:8545"</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> accounts = web3.eth.accounts;</code> </pre> <br>  <code>accounts</code> are all accounts that are involved in the blockchain connection program (in our case, it is <b>geth</b> ). <br><br>  Now we need a function to find out the balance of connected tokens: <br><br><pre> <code class="javascript hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getBalance</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> funds = web3.eth.getBalance(address); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> funds; }</code> </pre><br>  Let's try to pay for something via a smart contract at <b>contractAddress</b> : <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pay</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">amount, myToken, password, token, contractAddress</span></span></span><span class="hljs-function">)</span></span>{ web3.personal.unlockAccount(myToken,password); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> contract = web3.eth.contract(abi).at(contractAddress); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> res = contract.initDoctor.sendTransaction(token, {<span class="hljs-attr"><span class="hljs-attr">from</span></span>:myToken, <span class="hljs-attr"><span class="hljs-attr">value</span></span>:web3.toWei(amount,<span class="hljs-string"><span class="hljs-string">'ether'</span></span>)}); alert(<span class="hljs-string"><span class="hljs-string">"you dropped to system with token "</span></span>+token); }</code> </pre><br>  Note: for simplicity, a password in the plain text form was set, but this cannot be done on a real system. <br><br>  These are the basic functions you need to know to call smart contracts.  Details can be found on the official website of <a href="http://ethereum.org/">Ethereum</a> . <br><br><h4>  What you need to know to write a smart contract in Solidity </h4><br>  There are online compilers as well as smart contract compilers supplied by Etherium.  In this project, we decided to use <a href="https://chriseth.github.io/browser-solidity/">this editor</a> , as it is quite convenient and fast. <br><br><img src="https://habrastorage.org/files/06c/230/34a/06c23034a6eb4b649aacab16fcefc913.png"><br><br>  Further, in the blockchain, the code was used to write a smart contract: <br><br><pre> <code class="javascript hljs">pragma solidity ^<span class="hljs-number"><span class="hljs-number">0.4</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>; contract Dental { uint cadPrice = <span class="hljs-number"><span class="hljs-number">10</span></span>; uint millPrice = <span class="hljs-number"><span class="hljs-number">10</span></span>; uint digitizePrice = <span class="hljs-number"><span class="hljs-number">10</span></span>; mapping (<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address</span></span></span><span class="hljs-function"> =&gt;</span></span> uint) doctor_balances; mapping (<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address</span></span></span><span class="hljs-function"> =&gt;</span></span> uint) digitizer_balances; mapping (<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address</span></span></span><span class="hljs-function"> =&gt;</span></span> uint) cad_balances; mapping (<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address</span></span></span><span class="hljs-function"> =&gt;</span></span> uint) mill_balances; mapping (<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address</span></span></span><span class="hljs-function"> =&gt;</span></span> uint) statuses; <span class="hljs-comment"><span class="hljs-comment">//0 -start, //1 - digitizer initialized, //2 - cad initialized, //3 - mill initialized, //4 - digitizer ready, //5 - cad_ready, //6 - mill ready, //7 -payed mapping (address =&gt; address) digitizer_addresses; mapping (address =&gt; address) cad_addresses; mapping (address =&gt; address) mill_addresses; function initDoctor() { //  doctor_balances[ msg.sender ] += msg.value; statuses[msg.sender] = 0; } function initDigitizer(address digitizerAddr) { digitizer_addresses[msg.sender] = digitizerAddr; digitizer_balances[msg.sender] += msg.value; if (statuses[msg.sender] == 0) statuses[msg.sender] = 1; } function initCad(address cadAddr) { cad_addresses[msg.sender] = cadAddr; doctor_balances[ msg.sender ] -= cadPrice; cad_balances[msg.sender] += msg.value; if (statuses[msg.sender] == 1) statuses[msg.sender] = 1; } function initMill(address millAddr) { mill_addresses[msg.sender] = millAddr; mill_balances[msg.sender] += msg.value; if (statuses[msg.sender] == 2) statuses[msg.sender] = 3; } function digitizerDone() { if (statuses[msg.sender]==3) statuses[msg.sender] = 4; } function cadDone() { if (statuses[msg.sender]==4) statuses[msg.sender] = 5; } function millDone() { if (statuses[msg.sender]==5) statuses[msg.sender] = 6; } function doctorDone(bool happy) payable returns (bool) { if (statuses[msg.sender]!=6) return false; if (!happy){ doctor_balances[msg.sender] += digitizer_balances[msg.sender]; doctor_balances[msg.sender] += cad_balances[msg.sender]; doctor_balances[msg.sender] += mill_balances[msg.sender]; digitizer_balances[msg.sender] = 0; cad_balances[msg.sender] = 0; mill_balances[msg.sender] = 0; return false; } bool digitizerOk = digitizer_addresses[msg.sender].send(digitizer_balances[msg.sender]); digitizer_balances[msg.sender] = 0; bool cadOk = cad_addresses[msg.sender].send(cad_balances[msg.sender]); cad_balances[msg.sender] = 0; bool millOk = mill_addresses[msg.sender].send(mill_balances[msg.sender]); mill_balances[msg.sender] = 0; return (digitizerOk &amp;&amp; cadOk &amp;&amp; millOk); } }</span></span></code> </pre><br>  Let us examine it in more detail: <br><br>  1. First, we indicate the version of Solidity and declare the contract: <br><br><pre> <code class="javascript hljs">pragma solidity ^<span class="hljs-number"><span class="hljs-number">0.4</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>; contract Dental {</code> </pre><br>  2. we set the cost of 3D scanning, design and milling services: <br><br><pre> <code class="javascript hljs"> uint cadPrice = <span class="hljs-number"><span class="hljs-number">10</span></span>; uint millPrice = <span class="hljs-number"><span class="hljs-number">10</span></span>; uint digitizePrice = <span class="hljs-number"><span class="hljs-number">10</span></span>;</code> </pre><br>  3. Create arrays of balances to pay for process participants: <br><br><pre> <code class="javascript hljs"> mapping (<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address</span></span></span><span class="hljs-function"> =&gt;</span></span> uint) doctor_balances; mapping (<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address</span></span></span><span class="hljs-function"> =&gt;</span></span> uint) digitizer_balances; mapping (<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address</span></span></span><span class="hljs-function"> =&gt;</span></span> uint) cad_balances; mapping (<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address</span></span></span><span class="hljs-function"> =&gt;</span></span> uint) mill_balances;</code> </pre><br>  4. Specify statuses: <br><br><pre> <code class="javascript hljs"> mapping (<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address</span></span></span><span class="hljs-function"> =&gt;</span></span> uint) statuses; <span class="hljs-comment"><span class="hljs-comment">//0 - start, //1 - digitizer initialized, //2 - cad initialized, //3 - mill initialized, //4 - digitizer ready, //5 - cad_ready, //6 - mill ready, //7 -payed</span></span></code> </pre><br>  5. Create arrays of accounts of participants in the process (without doctors): <br><br><pre> <code class="javascript hljs"> mapping (<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address</span></span></span><span class="hljs-function"> =&gt;</span></span> address) digitizer_addresses; mapping (<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address</span></span></span><span class="hljs-function"> =&gt;</span></span> address) cad_addresses; mapping (<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address</span></span></span><span class="hljs-function"> =&gt;</span></span> address) mill_addresses;</code> </pre><br>  6. Initialize the doctor, they will be considered the sender.  Please note that he can take new orders only if he has the status "not yet started" or "order completed": <br><br><pre> <code class="javascript hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initDoctor</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//  if (statuses[msg.sender] == 0 || statuses[msg.sender] == 7){ doctor_balances[ msg.sender ] = msg.value; statuses[msg.sender] = 0; } }</span></span></code> </pre><br>  7. Initialize the scanner, which will be used if the doctor has the status of "not yet started": <br><br><pre> <code class="javascript hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initDigitizer</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address digitizerAddr</span></span></span><span class="hljs-function">) </span></span>{ digitizer_addresses[msg.sender] = digitizerAddr; digitizer_balances[msg.sender] = msg.value; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (statuses[msg.sender] == <span class="hljs-number"><span class="hljs-number">0</span></span>) statuses[msg.sender] = <span class="hljs-number"><span class="hljs-number">1</span></span>; }</code> </pre><br>  8. Similarly, we repeat with the design: <br><br><pre> <code class="javascript hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initCad</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address cadAddr</span></span></span><span class="hljs-function">) </span></span>{ cad_addresses[msg.sender] = cadAddr; doctor_balances[ msg.sender ] -= cadPrice; cad_balances[msg.sender] = msg.value; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (statuses[msg.sender] == <span class="hljs-number"><span class="hljs-number">1</span></span>) statuses[msg.sender] = <span class="hljs-number"><span class="hljs-number">2</span></span>; }</code> </pre><br>  9. Similarly, we repeat with the milling machine: <br><br><pre> <code class="javascript hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initMill</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address millAddr</span></span></span><span class="hljs-function">) </span></span>{ mill_addresses[msg.sender] = millAddr; mill_balances[msg.sender] += msg.value; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (statuses[msg.sender] == <span class="hljs-number"><span class="hljs-number">2</span></span>) statuses[msg.sender] = <span class="hljs-number"><span class="hljs-number">3</span></span>; }</code> </pre><br>  10. Next, we confirm the work of the scanner: <br><br><pre> <code class="javascript hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">digitizerDone</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (statuses[msg.sender]==<span class="hljs-number"><span class="hljs-number">3</span></span>) statuses[msg.sender] = <span class="hljs-number"><span class="hljs-number">4</span></span>; }</code> </pre><br>  11. We confirm the work of the designer: <br><br><pre> <code class="javascript hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cadDone</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (statuses[msg.sender]==<span class="hljs-number"><span class="hljs-number">4</span></span>) statuses[msg.sender] = <span class="hljs-number"><span class="hljs-number">5</span></span>; }</code> </pre><br>  12. We confirm the work of the milling machine: <br><br><pre> <code class="javascript hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">millDone</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (statuses[msg.sender]==<span class="hljs-number"><span class="hljs-number">5</span></span>) statuses[msg.sender] = <span class="hljs-number"><span class="hljs-number">6</span></span>; }</code> </pre><br>  13. A doctor may or may not accept work.  In the latter case, all the money will be returned to his account.  ).  If the work has not yet been milled, then nothing happens.  If the doctor accepts the work, the money is sent to the accounts of the participants: <br><br><pre> <code class="javascript hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doctorDone</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">bool happy</span></span></span><span class="hljs-function">) </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">payable</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">returns</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">bool</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!happy){ doctor_balances[msg.sender] += digitizer_balances[msg.sender]; doctor_balances[msg.sender] += cad_balances[msg.sender]; doctor_balances[msg.sender] += mill_balances[msg.sender]; digitizer_balances[msg.sender] = <span class="hljs-number"><span class="hljs-number">0</span></span>; cad_balances[msg.sender] = <span class="hljs-number"><span class="hljs-number">0</span></span>; mill_balances[msg.sender] = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (statuses[msg.sender]!=<span class="hljs-number"><span class="hljs-number">6</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; bool digitizerOk = digitizer_addresses[msg.sender].send(digitizer_balances[msg.sender]); digitizer_balances[msg.sender] = <span class="hljs-number"><span class="hljs-number">0</span></span>; bool cadOk = cad_addresses[msg.sender].send(cad_balances[msg.sender]); cad_balances[msg.sender] = <span class="hljs-number"><span class="hljs-number">0</span></span>; bool millOk = mill_addresses[msg.sender].send(mill_balances[msg.sender]); mill_balances[msg.sender] = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (digitizerOk &amp;&amp; cadOk &amp;&amp; millOk) statuses[msg.sender]=<span class="hljs-number"><span class="hljs-number">7</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (digitizerOk &amp;&amp; cadOk &amp;&amp; millOk); } }</code> </pre><br><br><h2>  A word to the Digital Dentistry Exchange project team </h2><br>  We asked the project participants what kind of future they see in the blockchain technology: <br><br>  ‚ÄúBlockchain technology is potentially the most appropriate technology for conducting transactions of any type, ranging from financial services to cooking.  The only addition to the blockchain should be a modified proof-of-work mechanism that will benefit people or science (for example, the long-standing task of finding the integer values ‚Äã‚Äãof a, b, c in a ^ 3 + b ^ 3 + c ^ 3 = 33 ). <br><br>  At the moment, the blockchain system can be perfectly integrated into the service delivery system, where results can be measured (integrated services in medicine, manufacturing, online sales or the achievement of certain metrics and, possibly, the judicial arbitration system). <br><br>  The number of possible applications can be huge - the main thing is to test ideas, implementations and actively implement them.  Also, it would not be superfluous to introduce legal regulation and an ISO standard for systems with a blockchain architecture. ‚Äù <br><br>  In the photo below, the authors of the material: Konstantin Skobeltsyn, Vitaly Dementyev, Rinat Hatipov, Aydar Nigmatzhanov, Roman Barnabas. <br><br><img src="https://habrastorage.org/files/e97/c21/f68/e97c21f688d74ed4bd74345deaa2008e.jpg"></div><p>Source: <a href="https://habr.com/ru/post/313130/">https://habr.com/ru/post/313130/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../313120/index.html">Google Opens Source Code for Nomulus - Top-Level Cloud Domain Management Tool</a></li>
<li><a href="../313122/index.html">Four largest Australian banks want to boycott Apple Pay</a></li>
<li><a href="../313124/index.html">Backup with Open Source Solution - Bareos</a></li>
<li><a href="../313126/index.html">How to get into gamedev and become a sought-after specialist. Part 2</a></li>
<li><a href="../313128/index.html">From Jquery UI to Ext.js: a review of javascript UI libraries for the SPA. Part 1</a></li>
<li><a href="../313132/index.html">VK rake SDK for Android</a></li>
<li><a href="../313134/index.html">Acyclic Visitor</a></li>
<li><a href="../313136/index.html">Karate Motivation: How to stop worrying about inefficient employees?</a></li>
<li><a href="../313138/index.html">Kinematics modeling is not difficult</a></li>
<li><a href="../313142/index.html">Joker 2016 Java Conference: More, More, More Interesting</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>