<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Serverless architecture and microservices: the perfect match?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The translation of the article is prepared for students of the ‚ÄúDevOps practice and tools‚Äù course in the OTUS educational project. 



 When the first...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Serverless architecture and microservices: the perfect match?</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/webt/ht/fr/ml/htfrmlitselle22_sgdgnmtn2rk.png" alt="image"></p><br><p>  <em>The translation of the article is prepared for students of the <a href="https://otus.pw/VZ6g/">‚ÄúDevOps practice and tools‚Äù</a> course <a href="https://otus.pw/VZ6g/">in the OTUS</a> educational project.</em> </p><br><hr><br><p>  When the first tutorials began to appear in 2015 using AWS Lambda and API Gateway, it was no wonder that they were mainly focused on copying the microservice architecture.  But those who used AWS Lambda on a large scale, over time, it became clear that there are significant limitations to the application of the micro-service approach to AWS Lambda ... <a name="habracut"></a>  At least, there were restrictions on what most people meant by the proper construction of microservices. </p><br><h1 id="davayte-pogovorim-o-pochemu-dlya-mikroservisov">  Let's talk about "why" for microservices </h1><br><p>  Microservices appeared primarily because of frustration with monolithic applications.  Monolith is an application in which all the logic is in one logical code base. </p><br><p>  There were times when, due to the high cost of servers, it was common to deploy the entire application on a single server.  Deploying a monolith meant that you deployed part or all of the application on the server. </p><br><p>  Also, deploying a monolith meant that you had to be sure that you would not break anything.  Very often, small changes caused the failure of the entire server and the entire application. </p><br><p>  Therefore, when the clouds appeared with the ability to provide instances with one click of the mouse in a matter of minutes (and not days or weeks), the possibility of sharing tasks became clear. <br>  The destruction of the monolith became an obvious idea, and the idea of ‚Äã‚Äãmicroservices was born. </p><br><p>  Instead of creating a monolith with all the logic on one server / instance, you can place parts of the application on different servers and link them together via some kind of lightweight protocol - usually the HTTP API. </p><br><p>  Thus, the application architecture has moved from monoliths to microservices. </p><br><p>  Although I wonder why?  The value of this approach lies in the fact that when you edit the code, you change the code base not for the entire application, but for microservice - only an integral part of the application.  This means that you cannot break down the entire application. </p><br><p>  Although this is only theoretically, but this theory is better than a monolith, although it is not perfect. </p><br><p>  The key element for each service is ... </p><br><p>  <strong>Service interface</strong> </p><br><p>  Often this is some form of HTTP interface (at least this is the most common approach).  As a rule, this is not a problem, unless you have a large number of services and you may have a problem of their coordination. </p><br><h1 id="dvizhemsya-k-besservernoy-arhitekture">  Moving towards serverless architecture </h1><br><p>  Therefore, the initial approach to building serverless applications (serverless) on AWS was ‚Äúlet's create microservices‚Äù ... </p><br><p>  This meant creating an API Gateway interface with a Lambda function behind it and a switch instruction that acts as a router. </p><br><p>  Each API Gateway became a service interface, and it seemed logical. </p><br><p>  You can make several services that are scaled separately from each other, which in some cases can be very important. </p><br><p>  Except that it does not make sense when you understand that the AWS Lambda and FaaS functions in general should not be treated as an instance / server. </p><br><p>  Because, although they have servers under the hood (hey, there are servers under most of the things that work on the Internet, but nobody says ‚ÄúS3 still has servers‚Äù or ‚ÄúBigTable still has servers‚Äù or ‚ÄúAzure Active Directory everything still has servers ‚Äù...), there is an opinion that you should treat the FaaS functions the same way as the service‚Ä¶‚Äú minilith ‚Äù, as some call it. </p><br><p>  The problem is that there is not enough of what, in my opinion, is the key to serverless architecture: </p><br><p>  <strong>Serverless architecture (serverless) is all about events.</strong> </p><br><h1 id="besservernaya-arhitektura-sobytiya-i-triggery">  Serverless architecture, events and triggers </h1><br><p>  Serverless systems are in their essence event-driven systems, and therefore are representatives of event-driven architecture.  It changes your approach to development, management and architecture. </p><br><p>  In the case of microservices, the point is to respond to the interface - this is the main mechanism of interaction with logic. </p><br><p>  In a serverless solution, we are talking about responding to current events, and the API is actually just a mechanism for generating events. </p><br><p>  As part of the AWS ecosystem, which is the most mature of serverless solutions, the API is not considered as the main interface.  Events are much more important. </p><br><p>  And that's why there are about 50 events that can run the Lambda function from other AWS services. </p><br><p>  The advice is that if you can run the Lambda function without passing through the API Gateway, then it will be much faster and more efficient than using the API Gateway, especially if you run it from another AWS interface. </p><br><p>  Take a look at <a href="https://medium.com/%40PaulDJohnston/serverless-best-practices-b3c97d551535">Serverless Best Practices</a> , you will see a number of points that differ from how many microservices design. </p><br><p>  First of all - one-pointedness of functions.  Most microservices, as a rule, use the ‚Äúrequest-response‚Äù architecture (request - respone), because this is how most web applications work.  Functions in serverless applications, as a rule, are unidirectional, and queues are used as the ‚Äúcircuit breaker‚Äù, so the request-response becomes less common. </p><br><p>  The data layer (data layer) is also controlled and understood in different ways.  The best practice is to have multiple functions, not just one proxy function with a switch expression. </p><br><p>  The idea of ‚Äã‚Äãseveral functions also provides additional advantages over microservices.  If the function causes an error, it will only affect this function, but not the rest of the application, because the function has no state (at least it should be!).  And this is a very good reason not to do ‚Äúminilith‚Äù! </p><br><p>  Therefore, the experience of building microservices, although it gives you some advantages in designing serverless solutions, in fact, you can miss most of what makes serverless applications valuable. </p><br><p>  Microservices, as a rule, differ from a well-designed serverless application in several ways.  This means that, although it is possible to create microservices with serverless backend, in fact there is no direct way from microservices to serverless architecture. </p><br><h1 id="put-ot-mikroservisov-k-besservernoy-arhitekture">  The path from microservices to serverless architecture </h1><br><p>  So, what is the path from microservices to serverless solutions?  Is there a quick way to learn the basics to simplify the transition from one to another, since microservices are widespread? </p><br><p>  I think this is what the besserverny world puzzles over.  Recently, there was a great <a href="https://twitter.com/ajaynairthinks/status/1122197970743468033">discussion</a> on Twitter in which we spoke on this topic.  Here it is worth referring to it, if only to see what the community is talking about (look at the various answers and you will see numerous opinions on this topic, although no one directly mentions microservices). </p><br><p><img src="https://habrastorage.org/webt/4y/zs/hy/4yzshyn8cansnqfydkrysbcjmwe.png" alt="image"></p><br><p>  They talk about some tools that, as they say, make it easier to create serverless applications, but ultimately they will become the platform on which you have to build everything.  I do not think it will benefit or help someone better understand the architectural style. </p><br><p>  We, as a community, understand that the serverless architecture has a future.  But the transition from old architectural styles will not always be easy, even when serverless architecture is the right (and sometimes not the right) choice. </p><br><p>  There is a reason for this.  It‚Äôs not so easy to change a person‚Äôs thinking.  Easy to build lambda function.  But creating a well-designed serverless application is not easy.  Because it requires a change in thinking, and this is relatively difficult. </p><br><p>  And as I have said several times, we must stop teaching people ‚Äúhello world‚Äù applications and dwell on this because many people think that this will be enough for them. </p><br><p>  The reason I wrote <a href="https://medium.com/%40PaulDJohnston/serverless-best-practices-b3c97d551535">Serverless Best Practices</a> was to help people understand that they should not make assumptions about how to build serverless applications based on current knowledge. </p><br><p>  The tools that we now use to create serverless solutions are the same tools that we use to create ‚Äúcloud 1.0‚Äù applications, but they are not fully suitable for these purposes.  These tools are not perfect, but we try to explain and make them as good as possible. </p><br><h1 id="chto-nam-nuzhno-ot-vas">  What we need from you </h1><br><p>  <em>I think that the community is, in fact, very open to help people in their training and development in creating serverless solutions.</em> </p><br><p>  So we, as a community, need your questions: <br>  - What is your difficulty? <br>  - Where are the gaps? <br>  - What tutorials are missing? </p><br><p>  And something like that. </p><br><p>  I am ready to help companies make this transition.  I worked with senior management, CTO and CEO to help determine how much value is being created in a company using a serverless approach, and I am happy to help other companies. </p><br><p>  I am very happy to help.  Contact LinkedIn <a href="https://medium.com/%40PaulDJohnston/serverless-best-practices-b3c97d551535">here</a> . </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/454598/">https://habr.com/ru/post/454598/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../454586/index.html">Solving Japanese crosswords with PÃ∂yÃ∂tÃ∂hÃ∂oÃ∂Ã∂nÃ∂ Rust and WebAssembly</a></li>
<li><a href="../454588/index.html">Gazprom Neft invites: GPN Data Science Meetup</a></li>
<li><a href="../45459/index.html">Creating splash screen in .net 3.5 SP1</a></li>
<li><a href="../454590/index.html">Zimbra Collaboration Suite and Mobile Device Control with ABQ</a></li>
<li><a href="../454596/index.html">Mental models in information security</a></li>
<li><a href="../4546/index.html">18 mistakes that startups die</a></li>
<li><a href="../45460/index.html">All the flaws of non-click sites</a></li>
<li><a href="../454600/index.html">How we made a safe deal for freelance: give a choice, cut features, compare commissions</a></li>
<li><a href="../454604/index.html">Generate React application with GraphQL backend in minutes</a></li>
<li><a href="../454606/index.html">Features of the inputmode attribute for mobile OS and browsers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>