<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We collect VirtualBox under Windows</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 As most users of the Windows version of VirtualBox know (hereinafter - VB , not to be confused with Visual Basic), in release 4.3.14 th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We collect VirtualBox under Windows</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/122/274/f2b/122274f2b4098fd3b2d5eb703ce60fd3.png"></div><br><h4><img src="https://habrastorage.org/getpro/geektimes/post_images/9f8/505/49b/9f850549b13e79dc47d23f5f9e994379.png">  Introduction </h4><br>  As most users of the Windows version of VirtualBox know (hereinafter - <em>VB</em> , not to be confused with Visual Basic), in release 4.3.14 the developers of this program added an additional protection mechanism called ‚Äúhardening‚Äù (which can be translated as ‚Äúhardening‚Äù), which led to numerous VB compatibility issues with antivirus, crypto module drivers, and even individual updates of Windows itself, as a result of which virtual machines simply refuse to start.  At best, the user has to wait about a month until the problem program, which he informs the developers, is taken into account in the next VB release.  In the worst case, you will have to either delete the conflicting program (or system update), or roll back VB to version 4.3.12 - the last one that did not have this protection.  Numerous suggestions to the developers to add a custom list of exceptions or an option that disables the entire protection are ignored.  The only intelligible answer from their side is: ‚Äúif you don‚Äôt want protection, compile yourself from the sources‚Äù.  Well, have to do it. <br><br>  Despite the fact that the assembly procedure is <a href="https://www.virtualbox.org/wiki/Windows%2520build%2520instructions">described</a> on the official wiki, it is incomplete and in some ways outdated, and the assembly itself tries to give out strange errors.  So when I finally made my way to the end of this procedure, I decided that its description deserves a separate article.  The instruction is updated from time to time and is currently adapted for VB version 6.0.2, but if someone is interested in building an earlier version of VB or libraries, the information can be scratched from the <a href="https://github.com/CaptainFlint/virtualbox-winbuild-article/">revision history</a> . <br><br><a name="habracut"></a><h4><img src="https://habrastorage.org/getpro/geektimes/post_images/9f8/505/49b/9f850549b13e79dc47d23f5f9e994379.png">  Content </h4><blockquote>  ¬ª <a href="https://habr.com/ru/post/357526/">Problem statement</a> <br>  ¬ª <a href="https://habr.com/ru/post/357526/">A pair of warnings</a> <br>  ¬ª <a href="https://habr.com/ru/post/357526/">Cooking environment</a> <br>  ¬ª <a href="https://habr.com/ru/post/357526/">Features of installing programs</a> <br>  ¬ª <a href="https://habr.com/ru/post/357526/">Finishing Touches</a> <br>  ¬ª <a href="https://habr.com/ru/post/357526/">Putting VirtualBox</a> <br>  ¬ª <a href="https://habr.com/ru/post/357526/">Epilogue</a> <br>  ¬ª <a href="https://habr.com/ru/post/357526/">Add-ons</a> <br></blockquote><br><a name="task"></a><h4><img src="https://habrastorage.org/getpro/geektimes/post_images/9f8/505/49b/9f850549b13e79dc47d23f5f9e994379.png">  Formulation of the problem </h4><br>  Initially, I planned to simplify my task and get away with a minimal reassembly in order to install the official distribution and simply replace the binary files in it.  However, it turned out that this approach will not work, since it does not take into account the use of system mechanisms for installing and registering drivers and COM components.  It would be possible to try to understand the details and write an automating script, but I decided to aim a bigger game: to assemble a full-fledged distribution kit, as close as possible to the official one and differing from it only by the lack of hardening. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      At once I will say that it was not possible to solve the problem 100%.  The weak link was the guest add-ons, which in the official package are compiled under Windows (32-bit and 64-bit), Linux, Solaris and OS / 2.  In the comments of the relevant Makefile it is indicated that the assembly is carried out remotely on different machines, and I did not smile at configuring such a set of virtual women.  As a result, I decided to collect everything from the source codes, except for the add-ons, the ISO image of which I will just download from the Oracle server.  I have not yet investigated the issue of the presence of hardening in the supplements, but even if it is there, I have not yet come across reports of the problems caused by it. <br><br><a name="warnings"></a><h4><img src="https://habrastorage.org/getpro/geektimes/post_images/9f8/505/49b/9f850549b13e79dc47d23f5f9e994379.png">  A pair of warnings </h4><br><h5>  ‚Ä¢ security issues </h5><br>  About hardening it is known that they added it for a reason, and to close a certain VB vulnerability.  Clearly talk about the essence of the vulnerability of Oracle flatly refuses, despite the fact that more than two years have passed since the fixation.  Limited to only hints of "a very vulnerable Windows architecture, allowing the loading of third-party modules into foreign processes."  The question of how other virtualization systems manage to work without such tricks (and indeed all programs in general) also remains unanswered.  From the individual stingy phrases on the official forum, it was possible to extract information that the problem is connected with the elevation of privileges on the host machine, and that for this vulnerability VB there are actually used exploits.  If this does not scare you, you can continue reading, but I warned you. <br><br><h5>  ‚Ä¢ Signing drivers </h5><br>  As you know, 64-bit Windows in the normal mode prohibits the loading of drivers that are not signed by a certificate with a trust chain leading to the Microsoft root certificate (and in Windows 10, drivers must be signed directly by Microsoft itself).  Therefore, before compiling VB even for personal use, you need to think through a solution to this problem: either buy a certificate, or try to use driver signing services for Open Source developers (if they, of course, agree to sign a known vulnerable driver), or switch their Windows to test mode and use a self-signed test certificate. <br><br>  Further, I will be guided by this last option, but I will indicate in the right places how the procedure will change if there is a full certificate (although I have not yet been able to figure out how to build with signing for Windows 10). <br><br><a name="environment"></a><h4><img src="https://habrastorage.org/getpro/geektimes/post_images/9f8/505/49b/9f850549b13e79dc47d23f5f9e994379.png">  Cooking environment </h4><br>  Officially, Windows XP from XP SP3 to 7 is recommended as an assembly system. I did all the work in Windows 7 SP1 x64, but I think that there shouldn't be any problems with more modern versions.  If you allocate a separate machine for assembly (real or virtual), keep in mind that it needs Internet access. <br><br>  To create an assembly environment will require a rather large set of programs.  If the program has a portable version, I use it, not the installer. <br><br>  The following set of programs is supplied only as installers (at least officially).  For Visual Studio and SDK / WDK, it is important to follow the installation procedure as outlined below.  After installation, it is highly desirable to install updates via Windows Update with the option to support all Microsoft products enabled. <br><ul><li>  <b>Visual Studio 2010 Professional</b> <br>  For a full assembly, it takes 2010, and it is Professional.  In the 2010 Express version, there is no ATL library required for building a COM API through which front end work.  I made several attempts to move the project to VS 2013 or 2015 Community Edition, to get rid of the need for a paid license, but, alas, without success. </li><li>  <b><a href="http://www.microsoft.com/en-us/download/details.aspx%3Fid%3D8279">Windows SDK v7.1</a></b> </li><li>  <b><a href="https://www.microsoft.com/en-US/download/details.aspx%3Fid%3D23691">Visual Studio 2010 SP1</a></b> </li><li>  <b><a href="https://www.microsoft.com/en-us/download/details.aspx%3Fid%3D4422">Visual C ++ 2010 SP1 Compiler Update for SDK 7.1</a></b> </li><li>  <b><a href="http://www.microsoft.com/en-us/download/details.aspx%3Fdisplaylang%3Den%26id%3D11800">Windows Driver Development Kit (WDK) v7.1</a></b> </li><li>  <b><a href="https://dev.windows.com/downloads/windows-8-1-sdk">Windows SDK v8.1</a></b> </li><li> <b><a href="http://www.activestate.com/activeperl/downloads">ActivePerl</a></b> with <code>Text::Template</code> </li><li>  <b><a href="http://www.activestate.com/activepython/downloads">ActivePython 2.7</a></b> </li><li>  <b><a href="https://cygwin.com/install.html">Cygwin</a></b> </li></ul><br>  The remaining programs are downloaded as archives or source codes: <br><ul><li>  <b><a href="">Qt 5.6.3</a></b> (source codes) </li><li>  <b>MinGW-w64 4.5.4</b> : <ul><li>  <b><a href="https://sourceforge.net/projects/mingw-w64/files/Toolchains%2520targetting%2520Win32/Personal%2520Builds/rubenvb/gcc-4.5-release/i686-w64-mingw32-gcc-4.5.4-release-win32_rubenvb.7z/download">32-bit version</a></b> </li><li>  <b><a href="https://sourceforge.net/projects/mingw-w64/files/Toolchains%2520targetting%2520Win64/Personal%2520Builds/rubenvb/gcc-4.5-release/x86_64-w64-mingw32-gcc-4.5.4-release-win64_rubenvb.7z/download">64-bit version</a></b> </li></ul></li><li>  <b><a href="http://www.libsdl.org/download-1.2.php">SDL v1.2.x</a></b> (development package for Visual C ++) </li><li>  <b><a href="http://curl.haxx.se/download.html">cURL</a></b> (source code) </li><li>  <b><a href="http://www.openssl.org/source/">OpenSSL 1.1.1</a></b> (source codes) </li><li>  <b><a href="http://sourceforge.net/projects/gsoap2/files/gsoap-2.8/">gSOAP 2.8.x</a></b> (2.8.41 or higher recommended) </li><li>  <b><a href="https://github.com/webmproject/libvpx/releases">libvpx 1.7.0</a></b> (source code) </li><li>  <b><a href="http://opus-codec.org/downloads/">libopus 1.3</a></b> (source code) </li><li>  <b><a href="http://miktex.org/portable">MiKTeX Portable</a></b> </li><li>  <b><a href="http://www.nasm.us/">NASM</a></b> <br>  I recommend the 64-bit portable version. </li><li>  <b><a href="http://wixtoolset.org/">WiX</a></b> <br>  I recommend a portable set (an archive with the name of the form <code>wix311-binaries.zip</code> ). </li></ul><br>  You will also need two archives: <br><ul><li>  <b><a href="">DocBook XML DTD 4.5</a></b> </li><li>  <b><a href="https://sourceforge.net/projects/docbook/files/OldFiles/docbook-xsl-1.69.1.zip/download">DocBook XSL Stylesheets 1.69.1</a></b> </li></ul><br><div class="spoiler">  <b class="spoiler_title">Why is it all?</b> <div class="spoiler_text">  If you do not plan to build the same package as me, then some of the listed tools may not be required.  Here I will briefly list the role they play. <br><br><ul><li>  <b>SDK 8.1</b> <br>  SDK version 7.1 will be used for the build, version 8.1 is required only for the SignTool utility: 7.1 does not support SHA-1 / SHA-256 double signing.  If you have a computer with SDK version 8.1 or later installed, you can simply copy the signtool.exe utility from there (with all dependencies) and specify the appropriate path in the <code>LocalConfig.kmk</code> file (see below). </li><li>  <b>WiX</b> <br>  This is a tool for creating MSI-installers.  Although the final installer is an EXE file, inside it contains two MSI, so WiX is needed here.  If you simply compile binaries, then this package is not needed. </li><li>  <b>SDL</b> <br>  The front-end <code>VBoxSDL.exe</code> , a minimalist alternative to the standard <code>VirtualBox.exe</code> shell, is based on this library.  If you do not need VBoxSDL, then maybe you can do without the SDL library, but I did not check it. </li><li>  <b>gSOAP</b> <br>  This component is required to build the VB remote control service: <code>VBoxWebSrv.exe</code> .  The absence of gSOAP is not a critical error, VB will successfully assemble without this service. </li><li>  <b>libvpx</b> , <b>libopus</b> <br>  Video and audio codec used to record video from the virtual machine screen.  If they are not available, VirtualBox is assembled and working correctly, and the recording function is simply ignored (although it shows the animation as if the recording is in progress). </li><li>  <b>Cygwin</b> <br>  Required for building libvpx. </li><li>  <b>MiKTeX</b> <br>  Using MiKTeX, the reference book is compiled in PDF format ( <code>doc\UserManual.pdf</code> ).  The absence of MiKTeX is not a critical error; VB will successfully assemble without PDF documentation. </li><li>  <b>NASM</b> <br>  This assembler will be used to build OpenSSL.  An assembly without an external assembler is also supported, but with it a more optimal code will be created. </li></ul></div></div><br>  To make it easier to track potential sources of assembly problems, here is a summary table of all the tools with their versions and installation paths in the environment created by me.  The designation ‚Äú <code>{x32|x64}</code> ‚Äù indicates that the package is installed in two different directories for the 32-bit and 64-bit versions. <table><tbody><tr><th>  Program </th><th>  Version </th><th>  Installation path </th></tr><tr><td>  Visual studio </td><td>  2010 Professional </td><td> <code>C:\Program Files (x86)\Microsoft Visual Studio 10.0\</code> </td> </tr><tr><td>  Sdk </td><td>  7.1 </td><td> <code>C:\Program Files\Microsoft SDKs\Windows\v7.1\</code> </td> </tr><tr><td>  Sdk </td><td>  8.1 </td><td> <code>C:\Programs\DevKits\8.1\</code> </td> </tr><tr><td>  WDK </td><td>  7.1.0 </td><td> <code>C:\WinDDK\7600.16385.1\</code> </td> </tr><tr><td>  ActivePerl </td><td>  5.26.1 Build 2601 x64 </td><td> <code>C:\Programs\Perl\</code> </td> </tr><tr><td>  ActivePython </td><td>  2.7.14.2717 x64 </td><td> <code>C:\Programs\Python\</code> </td> </tr><tr><td>  WiX </td><td>  3.11.1.2318 </td><td> <code>C:\Programs\WiX\</code> </td> </tr><tr><td>  Qt </td><td>  5.6.3 </td><td> <code>C:\Programs\Qt\5.6.3-{x32|x64}\</code> </td> </tr><tr><td>  MinGW-32 </td><td>  4.5.4 </td><td> <code>C:\Programs\mingw32\</code> </td> </tr><tr><td>  MinGW-64 </td><td>  4.5.4 </td><td> <code>C:\Programs\mingw64\</code> </td> </tr><tr><td>  Cygwin </td><td>  - </td><td> <code>C:\Programs\cygwin64\</code> </td> </tr><tr><td>  SDL </td><td>  1.2.15 </td><td> <code>C:\Programs\SDL\{x32|x64}\</code> </td> </tr><tr><td>  cURL </td><td>  7.63.0 </td><td> <code>C:\Programs\curl\{x32|x64}\</code> </td> </tr><tr><td>  Openssl </td><td>  1.1.1a </td><td> <code>C:\Programs\OpenSSL\{x32|x64}\</code> </td> </tr><tr><td>  gSOAP </td><td>  2.8.77 </td><td> <code>C:\Programs\gSOAP\</code> </td> </tr><tr><td>  libvpx </td><td>  1.7.0 </td><td> <code>C:\Programs\libvpx\</code> </td> </tr><tr><td>  libopus </td><td>  1.3 </td><td> <code>C:\Programs\libopus\</code> </td> </tr><tr><td>  MiKTeX Portable </td><td>  2.9.5719 </td><td> <code>C:\Programs\MiKTeX\</code> </td> </tr><tr><td>  NASM </td><td>  2.13.03 x64 </td><td> <code>C:\Programs\nasm\</code> </td> </tr><tr><td>  DocBook XML DTD </td><td>  4.5 </td><td> <code>C:\Programs\DocBook\xml\</code> </td> </tr><tr><td>  DocBook XSL Stylesheets </td><td>  1.69.1 </td><td> <code>C:\Programs\DocBook\xsl\</code> </td> </tr></tbody></table><a name="environment-inst"></a><h4><img src="https://habrastorage.org/getpro/geektimes/post_images/9f8/505/49b/9f850549b13e79dc47d23f5f9e994379.png">  Features of installation of programs </h4><br>  In this section, I provide instructions or instructions for individual packages where the procedure is not obvious or requires additional steps. <br><br><h5>  ‚Ä¢ Windows SDK v7.1 </h5>  Installation may cause problems due to outdated versions of compilers and runtime: they cannot be installed on top of newer versions installed with VS 2010, and the installer considers this a critical error.  You must either disable the corresponding checkboxes, or first remove packages from the system with names like <i>"Microsoft Visual C ++ 2010 &lt;arch&gt; Redistributable"</i> , <i>"Microsoft Visual C ++ 2010 &lt;arch&gt; Runtime"</i> , <i>"Microsoft Visual C ++ Compilers ..."</i> (SDK installs old versions of packages , and Windows Update will then update them to the latest). <br><br>  Also note that for the final assembly of MSI packages you will need to install sample programs (Windows Native Code Development -&gt; Samples): they include scripts that are used by assembly rules. <br><br><h5>  ‚Ä¢ Windows SDK v8.1 </h5>  Just install the development tools (Windows Software Development Kit). <br><br><h5>  ‚Ä¢ WDK v7.1 </h5>  It is enough to install only build environments (Build Environments). <br><br><h5>  ‚Ä¢ Perl </h5>  After installation, you need to install the <code>Text::Template</code> module, which is needed to build OpenSSL.  This is done by the command: <pre> <code class="dos hljs">ppm install Text::Template</code> </pre> <br><h5>  ‚Ä¢ Qt 5.6.3 </h5>  Beginning with Qt 5.7.0, support for assembling in MSVC versions below 2012 has been discontinued, so we use 5.6.x. <br>  There are no official builds for Visual Studio 2010, so you must first build the library from the source code. <br><br><ol><li>  Unpack the Qt source code archive into the <code>C:\Programs\Qt\</code> directory and rename the resulting <code>qt-everywhere-opensource-src-5.6.3</code> subdirectory to <code>5.6.3-src</code> . </li><li>  Next we create the <code>build-x32</code> directory in which the build will take place. </li><li>  Open the console, execute the following commands: <pre> <code class="dos hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /d C:\Programs\Qt\build-x32 <span class="hljs-built_in"><span class="hljs-built_in">SET</span></span> QTVER=<span class="hljs-number"><span class="hljs-number">5</span></span>.<span class="hljs-number"><span class="hljs-number">6</span></span>.<span class="hljs-number"><span class="hljs-number">3</span></span> "C:\Program Files\Microsoft SDKs\Windows\v7.<span class="hljs-number"><span class="hljs-number">1</span></span>\Bin\SetEnv.<span class="hljs-built_in"><span class="hljs-built_in">Cmd</span></span>" /Release /x86 /win7 <span class="hljs-built_in"><span class="hljs-built_in">COLOR</span></span> <span class="hljs-number"><span class="hljs-number">07</span></span> <span class="hljs-built_in"><span class="hljs-built_in">SET</span></span> QTDIR=C:\Programs\Qt\<span class="hljs-variable"><span class="hljs-variable">%QTVER%</span></span>-x32 <span class="hljs-built_in"><span class="hljs-built_in">SET</span></span> <span class="hljs-built_in"><span class="hljs-built_in">PATH</span></span>=<span class="hljs-variable"><span class="hljs-variable">%QTDIR%</span></span>\bin;<span class="hljs-variable"><span class="hljs-variable">%PATH%</span></span> <span class="hljs-built_in"><span class="hljs-built_in">SET</span></span> QMAKESPEC=win32-msvc2010</code> </pre>  The <code>color</code> command disables the green font color set by the <code>SetEnv.Cmd</code> script. </li><li>  Now run <code>configure.bat</code> from the <code>5.6.3-src</code> directory.  Since most Qt is not used in VB, you can speed up the build by disabling unnecessary components, but be aware that some VB options are very scrupulous.  In particular, I came across the following: <ul><li>  OpenGL ES 2 is not supported (VB compilation cannot see some header files). </li><li>  FreeType support must be enabled (without it, the qoffscreen plugin used in VB is not built). </li></ul>  Here is the final team I used for myself: <pre> <code class="dos hljs">..\<span class="hljs-number"><span class="hljs-number">5</span></span>.<span class="hljs-number"><span class="hljs-number">6</span></span>.<span class="hljs-number"><span class="hljs-number">3</span></span>-src\configure.bat -prefix c:\Programs\Qt\<span class="hljs-number"><span class="hljs-number">5</span></span>.<span class="hljs-number"><span class="hljs-number">6</span></span>.<span class="hljs-number"><span class="hljs-number">3</span></span>-x32 -mp -opensource -confirm-license -nomake tests -nomake examples -no-compile-examples -release -shared -pch -no-ltcg -accessibility -no-sql-sqlite -opengl desktop -no-openvg -no-nis -no-iconv -no-evdev -no-mtdev -no-inotify -no-eventfd -largefile -no-system-proxies -qt-zlib -qt-pcre -no-icu -qt-libpng -qt-libjpeg -qt-freetype -no-fontconfig -qt-harfbuzz -no-angle -incredibuild-xge -no-plugin-manifests -qmake -qreal double -rtti -strip -no-ssl -no-openssl -no-libproxy -no-dbus -no-audio-backend -no-wmf-backend -no-qml-debug -no-direct2d -directwrite -no-style-fusion -native-gestures -skip qt3d -skip qtactiveqt -skip qtandroidextras -skip qtcanvas3d -skip qtconnectivity -skip qtdeclarative -skip qtdoc -skip qtenginio -skip qtgraphicaleffects -skip qtlocation -skip qtmacextras -skip qtmultimedia -skip qtquickcontrols -skip qtquickcontrols2 -skip qtscript -skip qtsensors -skip qtserialbus -skip qtserialport -skip qtwayland -skip qtwebchannel -skip qtwebengine -skip qtwebsockets -skip qtwebview -skip qtx11extras -skip qtxmlpatterns</code> </pre> </li><li>  The specified installation directory (the <code>-prefix</code> option) Qt writes inside the source code during configuration, so the compiled library will remember this path.  This leads to the fact that when you start the Qt-application, by default it will look for plug-ins along this path, and only if nothing is found, it will refer to its own directory.  In most situations, this works correctly, but if suddenly on the target machine in the <code>c:\Programs\Qt\5.6.3-x32</code> directory there appears a different Qt build (with different flags), then VB will crash when launched. <br>  There are two ways to avoid this: either add a <code>qt.conf</code> file with contents to the VB directory: <pre> <code class="plaintext hljs">[Paths] Plugins=.</code> </pre>  or correct the settings saved in Qt so that it defaults to the program directory.  I went the second way, so that the final installation of VB looked more accurate.  To do this, open the file <code>C:\Programs\Qt\build-x32\qtbase\src\corelib\global\qconfig.cpp</code> , which was created by the configurator, to find a line like this: <pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> qt_configure_prefix_path_str [<span class="hljs-number"><span class="hljs-number">512</span></span> + <span class="hljs-number"><span class="hljs-number">12</span></span>] = <span class="hljs-string"><span class="hljs-string">"qt_prfxpath=c:/Programs/Qt/5.6.3-x32"</span></span>;</code> </pre>  and replace there all the way to a point to get the following: <pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> qt_configure_prefix_path_str [<span class="hljs-number"><span class="hljs-number">512</span></span> + <span class="hljs-number"><span class="hljs-number">12</span></span>] = <span class="hljs-string"><span class="hljs-string">"qt_prfxpath=."</span></span>;</code> </pre>  The Qt installation will still be executed in the directory specified earlier, because it is already saved in Makefiles.  This change will only affect the behavior of Qt programs when they are started. </li><li>  Next, run the build command <code>nmake</code> </li><li>  Install the compiled library with the <code>nmake install</code> command </li></ol><br>  Now we open a new console and similarly compile and install the 64-bit version, only in directory names you need to replace ‚Äúx32‚Äù with ‚Äúx64‚Äù, and the environment creation commands will look like this: <pre> <code class="dos hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /d C:\Programs\Qt\build-x64 <span class="hljs-built_in"><span class="hljs-built_in">SET</span></span> QTVER=<span class="hljs-number"><span class="hljs-number">5</span></span>.<span class="hljs-number"><span class="hljs-number">6</span></span>.<span class="hljs-number"><span class="hljs-number">3</span></span> "C:\Program Files\Microsoft SDKs\Windows\v7.<span class="hljs-number"><span class="hljs-number">1</span></span>\Bin\SetEnv.<span class="hljs-built_in"><span class="hljs-built_in">Cmd</span></span>" /Release /x64 /win7 <span class="hljs-built_in"><span class="hljs-built_in">COLOR</span></span> <span class="hljs-number"><span class="hljs-number">07</span></span> <span class="hljs-built_in"><span class="hljs-built_in">SET</span></span> QTDIR=C:\Programs\Qt\<span class="hljs-variable"><span class="hljs-variable">%QTVER%</span></span>-x64 <span class="hljs-built_in"><span class="hljs-built_in">SET</span></span> <span class="hljs-built_in"><span class="hljs-built_in">PATH</span></span>=<span class="hljs-variable"><span class="hljs-variable">%QTDIR%</span></span>\bin;<span class="hljs-variable"><span class="hljs-variable">%PATH%</span></span> <span class="hljs-built_in"><span class="hljs-built_in">SET</span></span> QMAKESPEC=win32-msvc2010</code> </pre> <br>  After the installation is completed, the <code>build-x32</code> , <code>build-x64</code> and <code>5.6.3-src</code> directories can be deleted. <br><br><h5>  ‚Ä¢ MinGW </h5>  Archives of 32-bit and 64-bit versions are simply unpacked, each in its own directory. <br><br><h5>  ‚Ä¢ Cygwin </h5>  During installation, it is necessary to mark the <code>make</code> and <code>yasm</code> packages <br><br><h5>  ‚Ä¢ SDL </h5><ol><li>  Unpack the SDL two times in separate directories: <code>C:\Programs\SDL\x32\</code> and <code>C:\Programs\SDL\x64\</code> . </li><li>  We move all the contents of <code>C:\Programs\SDL\x64\lib\x64\</code> to a higher level (in <code>C:\Programs\SDL\x64\lib\</code> ), the directories <code>C:\Programs\SDL\x64\lib\x86</code> and <code>x64</code> deleted . </li><li>  Similarly for the 32-bit version: move the contents of <code>C:\Programs\SDL\x32\lib\x86\</code> to a higher level, delete the <code>C:\Programs\SDL\x32\lib\x86</code> and <code>x64</code> directories. </li></ol><br><h5>  ‚Ä¢ NASM </h5>  Unpack the <code>nasm-2.13.03-win64.zip</code> archive into <code>C:\Programs\</code> , rename the resulting <code>nasm-2.13.03</code> to <code>nasm</code> . <br><br><h5>  ‚Ä¢ OpenSSL </h5><ol><li>  Unpack the OpenSSL archive two times into the <code>C:\Programs\OpenSSL\</code> directory, renaming the resulting subdirectory from <code>openssl-1.1.1a</code> , respectively, to <code>openssl-1.1.1a-x32</code> and <code>openssl-1.1.1a-x64</code> . </li><li>  Open the console, build and install the 32-bit version: <pre> <code class="dos hljs">"C:\Program Files\Microsoft SDKs\Windows\v7.<span class="hljs-number"><span class="hljs-number">1</span></span>\Bin\SetEnv.<span class="hljs-built_in"><span class="hljs-built_in">Cmd</span></span>" /Release /x86 /win7 <span class="hljs-built_in"><span class="hljs-built_in">COLOR</span></span> <span class="hljs-number"><span class="hljs-number">07</span></span> <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> <span class="hljs-built_in"><span class="hljs-built_in">PATH</span></span>=<span class="hljs-variable"><span class="hljs-variable">%PATH%</span></span>;C:\Programs\nasm <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /d C:\Programs\OpenSSL\openssl-<span class="hljs-number"><span class="hljs-number">1</span></span>.<span class="hljs-number"><span class="hljs-number">1</span></span>.<span class="hljs-number"><span class="hljs-number">1</span></span>a-x32\ perl Configure VC-WIN32 no-shared --prefix=C:\Programs\OpenSSL\x32 --openssldir=C:\Programs\OpenSSL\x32\ssl nmake nmake test nmake install</code> </pre>  The configurator can give a scary message that, say, can not find the compiler.  Do not pay attention, it is a little out of it. <br>  If you do not want to use NASM, remove the modification of the <code>PATH</code> variable from here and add the <code>no-asm</code> parameter to the <code>Configure</code> call. </li><li>  Open a new console, build and install the 64-bit version: <pre> <code class="dos hljs">"C:\Program Files\Microsoft SDKs\Windows\v7.<span class="hljs-number"><span class="hljs-number">1</span></span>\Bin\SetEnv.<span class="hljs-built_in"><span class="hljs-built_in">Cmd</span></span>" /Release /x64 /win7 <span class="hljs-built_in"><span class="hljs-built_in">COLOR</span></span> <span class="hljs-number"><span class="hljs-number">07</span></span> <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> <span class="hljs-built_in"><span class="hljs-built_in">PATH</span></span>=<span class="hljs-variable"><span class="hljs-variable">%PATH%</span></span>;C:\Programs\nasm <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /d C:\Programs\OpenSSL\openssl-<span class="hljs-number"><span class="hljs-number">1</span></span>.<span class="hljs-number"><span class="hljs-number">1</span></span>.<span class="hljs-number"><span class="hljs-number">1</span></span>a-x64\ perl Configure VC-WIN64A no-shared --prefix=C:\Programs\OpenSSL\x64 --openssldir=C:\Programs\OpenSSL\x64\ssl nmake nmake test nmake install</code> </pre>  Denial of NASM is done similarly to the 32-bit version. </li><li>  The <code>C:\Programs\OpenSSL\openssl-1.1.1a-x32</code> and <code>openssl-1.1.1a-x64</code> can be deleted. </li></ol><br><h5>  ‚Ä¢ cURL </h5><ol><li>  Extract the cURL archive to the <code>C:\Programs\curl\</code> directory, rename the resulting subdirectory from <code>curl-7.63.0</code> to <code>curl-7.63.0-x32</code> . </li><li>  Open the file <code>C:\Programs\curl\curl-7.63.0-x32\winbuild\MakefileBuild.vc</code> in the editor, we find there in the area of ‚Äã‚Äãlines 61‚Äì69 a conditional block like <pre> <code class="plaintext hljs">!IF "$(VC)"=="6" CC_NODEBUG = $(CC) /O2 /DNDEBUG CC_DEBUG = $(CC) /Od /Gm /Zi /D_DEBUG /GZ CFLAGS = /I. /I../lib /I../include /nologo /W4 /wd4127 /GX /DWIN32 /YX /FD /c /DBUILDING_LIBCURL !ELSE CC_NODEBUG = $(CC) /O2 /DNDEBUG CC_DEBUG = $(CC) /Od /D_DEBUG /RTC1 /Z7 /LDd CFLAGS = /I. /I ../lib /I../include /nologo /W4 /wd4127 /EHsc /DWIN32 /FD /c /DBUILDING_LIBCURL !ENDIF</code> </pre>  and add a line after it: <pre> <code class="plaintext hljs">CFLAGS = $(CFLAGS) /DCURL_DISABLE_LDAP</code> </pre>  If this is not done, then when linking VB, link errors will come up. </li><li>  Open the file <code>C:\Programs\curl\curl-7.63.0-x32\winbuild\gen_resp_file.bat</code> , after the first line in it ( <code>@echo OFF</code> ) insert the command: <pre> <code class="plaintext hljs">cd .</code> </pre>  This is a dummy command that does nothing, and its only task is to reset the ERRORLEVEL code.  Otherwise, a situation may arise when this code is non-zero even before the batch file is started, and the batch file itself does not execute any commands that change the return code.  As a result, <code>nmake</code> believes that the batch file returned an error and interrupts the build. </li><li>  Make a copy of the <code>curl-7.63.0-x32</code> directory as <code>curl-7.63.0-x64</code> . </li><li>  Open the console, collect the 32-bit version and copy the necessary files to the target directory: <pre> <code class="dos hljs">"C:\Program Files\Microsoft SDKs\Windows\v7.<span class="hljs-number"><span class="hljs-number">1</span></span>\Bin\SetEnv.<span class="hljs-built_in"><span class="hljs-built_in">Cmd</span></span>" /Release /x86 /win7 <span class="hljs-built_in"><span class="hljs-built_in">COLOR</span></span> <span class="hljs-number"><span class="hljs-number">07</span></span> <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /d C:\Programs\curl\curl-<span class="hljs-number"><span class="hljs-number">7</span></span>.<span class="hljs-number"><span class="hljs-number">63</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span>-x32\winbuild <span class="hljs-built_in"><span class="hljs-built_in">md</span></span> C:\Programs\curl\x32 nmake /f Makefile.vc <span class="hljs-built_in"><span class="hljs-built_in">mode</span></span>=static WITH_SSL=static DEBUG=no MACHINE=x86 SSL_PATH=C:\Programs\OpenSSL\x32 ENABLE_SSPI=no ENABLE_WINSSL=no ENABLE_IDN=no <span class="hljs-built_in"><span class="hljs-built_in">copy</span></span> ..\builds\libcurl-vc-x86-release-static-ssl-static-ipv6\lib\libcurl_a.lib ..\..\x32\libcurl.lib <span class="hljs-built_in"><span class="hljs-built_in">xcopy</span></span> /E ..\builds\libcurl-vc-x86-release-static-ssl-static-ipv6\include\curl ..\..\x32\include\curl\</code> </pre> </li><li>  We assemble the 64-bit version by opening a new console and executing the commands: <pre> <code class="dos hljs">"C:\Program Files\Microsoft SDKs\Windows\v7.<span class="hljs-number"><span class="hljs-number">1</span></span>\Bin\SetEnv.<span class="hljs-built_in"><span class="hljs-built_in">Cmd</span></span>" /Release /x64 /win7 <span class="hljs-built_in"><span class="hljs-built_in">COLOR</span></span> <span class="hljs-number"><span class="hljs-number">07</span></span> <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /d C:\Programs\curl\curl-<span class="hljs-number"><span class="hljs-number">7</span></span>.<span class="hljs-number"><span class="hljs-number">63</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span>-x64\winbuild <span class="hljs-built_in"><span class="hljs-built_in">md</span></span> C:\Programs\curl\x64 nmake /f Makefile.vc <span class="hljs-built_in"><span class="hljs-built_in">mode</span></span>=static WITH_SSL=static DEBUG=no MACHINE=x64 SSL_PATH=C:\Programs\OpenSSL\x64 ENABLE_SSPI=no ENABLE_WINSSL=no ENABLE_IDN=no <span class="hljs-built_in"><span class="hljs-built_in">copy</span></span> ..\builds\libcurl-vc-x64-release-static-ssl-static-ipv6\lib\libcurl_a.lib ..\..\x64\libcurl.lib <span class="hljs-built_in"><span class="hljs-built_in">xcopy</span></span> /E ..\builds\libcurl-vc-x64-release-static-ssl-static-ipv6\include\curl ..\..\x64\include\curl\ <span class="hljs-built_in"><span class="hljs-built_in">copy</span></span> ..\builds\libcurl-vc-x64-release-static-ssl-static-ipv6\bin\curl.exe ..\..\x64\curl.exe</code> </pre>  Please note that, unlike the 32-bit version, here we also copy <code>curl.exe</code> , we will need it later to download the image of guest add-ons. </li><li>  You can delete the <code>C:\Programs\curl\curl-7.63.0-x32</code> and <code>curl-7.63.0-x64</code> . </li></ol><br><h5>  ‚Ä¢ libvpx </h5><ol><li>  Extract the libvpx archive to the <code>C:\Programs\libvpx-build\</code> directory. </li><li>  We start Cygwin, in it we will carry out configuration, assembly and installation of library.  Visual Studio 2010 will be specified as the target platform. At the same time, the build system will try to automatically start the build, but will do it using <code>msbuild.exe</code> , which I could not get to work correctly in the existing environment.  Instead, it turned out to be easier to launch a separate build by the Studio itself, since it allows you to work from the command line.  However, you can perform this step using the graphical environment, if it is more familiar to someone, but in this case you will need to add the path <code>C:\Programs\cygwin64\bin</code> to the <code>PATH</code> variable (or otherwise specify it in the project), because there is an assembler, <code>yasm.exe</code> , needed for building.  So, in the terminal Cygwin run the following commands: <pre> <code class="bash hljs">mkdir -p /cygdrive/c/Programs/libvpx-build/build32 <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /cygdrive/c/Programs/libvpx-build/build32 ../libvpx-1.7.0/configure --target=x86-win32-vs10 --<span class="hljs-built_in"><span class="hljs-built_in">disable</span></span>-install-bins --<span class="hljs-built_in"><span class="hljs-built_in">disable</span></span>-examples --<span class="hljs-built_in"><span class="hljs-built_in">disable</span></span>-tools --<span class="hljs-built_in"><span class="hljs-built_in">disable</span></span>-docs --prefix=../../libvpx make <span class="hljs-string"><span class="hljs-string">"/cygdrive/c/Program Files (x86)/Microsoft Visual Studio 10.0/Common7/IDE/devenv.com"</span></span> vpx.sln /Project vpx.vcxproj /Rebuild <span class="hljs-string"><span class="hljs-string">"Release|Win32"</span></span> make install mkdir -p /cygdrive/c/Programs/libvpx-build/build64 <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /cygdrive/c/Programs/libvpx-build/build64 ../libvpx-1.7.0/configure --target=x86_64-win64-vs10 --<span class="hljs-built_in"><span class="hljs-built_in">disable</span></span>-install-bins --<span class="hljs-built_in"><span class="hljs-built_in">disable</span></span>-examples --<span class="hljs-built_in"><span class="hljs-built_in">disable</span></span>-tools --<span class="hljs-built_in"><span class="hljs-built_in">disable</span></span>-docs --prefix=../../libvpx make <span class="hljs-string"><span class="hljs-string">"/cygdrive/c/Program Files (x86)/Microsoft Visual Studio 10.0/Common7/IDE/devenv.com"</span></span> vpx.sln /Project vpx.vcxproj /Rebuild <span class="hljs-string"><span class="hljs-string">"Release|x64"</span></span> make install</code> </pre></li><li>  We are closing the Cygwin terminal, we don‚Äôt need it anymore.  The <code>C:\Programs\libvpx-build</code> can be deleted. </li></ol><br><h5>  ‚Ä¢ libopus </h5><ol><li>  Unpack the opus archive in the <code>C:\Programs\libopus-build\</code> directory, go to the <code>opus-1.3\win32\VS2015</code> . </li><li>  The project is designed for a newer version of Visual Studio, and in 2010 it will not gather like that, you need to make a few edits.  You can do this either through the IDE or in a regular text editor.  I preferred the second way.  So, open the <code>opus.vcxproj</code> file in the editor (we do not need the other projects) and perform the following manipulations: <ol><li>  Find all the lines with the text <pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PlatformToolset</span></span></span><span class="hljs-tag">&gt;</span></span>v140<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PlatformToolset</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre>  and change the version from <code>v140</code> to <code>v100</code> .  If you are working in the IDE, then this option in the project settings is located on the Configuration Properties -&gt; General page and is called ‚ÄúPlatrofm Toolset‚Äù.  Remember to select configurations and architectures in the drop-down lists at the top of the dialog. </li><li>  Next, find the block: <pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ItemDefinitionGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ClCompile</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre>  and add the tag there: <pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DebugInformationFormat</span></span></span><span class="hljs-tag">&gt;</span></span>ProgramDatabase<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DebugInformationFormat</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre>  In the Visual Studio project settings, this is done on the Configuration Properties -&gt; C / C ++ -&gt; General page by setting the ‚ÄúDebug Information Format‚Äù option in ‚ÄúProgramDatabase (/ Zi)‚Äù.  As a matter of fact, any other valid value from the list will do, the base of debug information does not interest us, just if the value is invalid, the project refuses to be collected. </li></ol></li><li>  Now we assemble the Release configuration for both architectures (from the VS shell or from the command line) and copy the assembled library <code>opus.lib</code> and the <code>include\</code> subdirectory into the target installation directory: <pre> <code class="dos hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /d C:\Programs\libopus-build\opus-<span class="hljs-number"><span class="hljs-number">1</span></span>.<span class="hljs-number"><span class="hljs-number">3</span></span>\win32\VS2015 <span class="hljs-built_in"><span class="hljs-built_in">md</span></span> C:\Programs\libopus\lib\x64 <span class="hljs-built_in"><span class="hljs-built_in">md</span></span> C:\Programs\libopus\lib\Win32 <span class="hljs-built_in"><span class="hljs-built_in">xcopy</span></span> /EC:\Programs\libopus-build\opus-<span class="hljs-number"><span class="hljs-number">1</span></span>.<span class="hljs-number"><span class="hljs-number">3</span></span>\include C:\Programs\libopus\include\ "C:\Program Files (x86)\Microsoft Visual Studio <span class="hljs-number"><span class="hljs-number">10</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span>\Common7\IDE\devenv.com" opus.sln /Project opus.vcxproj /Rebuild "Release|x64" <span class="hljs-built_in"><span class="hljs-built_in">copy</span></span> x64\Release\opus.lib C:\Programs\libopus\lib\x64\ "C:\Program Files (x86)\Microsoft Visual Studio <span class="hljs-number"><span class="hljs-number">10</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span>\Common7\IDE\devenv.com" opus.sln /Project opus.vcxproj /Rebuild "Release|Win32" <span class="hljs-built_in"><span class="hljs-built_in">copy</span></span> Win32\Release\opus.lib C:\Programs\libopus\lib\Win32\</code> </pre></li><li>  The <code>C:\Programs\libopus-build</code> can be deleted. </li></ol><br><h5>  ‚Ä¢ gSOAP </h5>  Open the archive, go to the <code>gsoap-2.8\gsoap</code> and unpack the contents of this subdirectory in <code>C:\Programs\gSOAP\</code> .  To build correctly with OpenSSL 1.1.x, version 2.8.41 or higher is required.  For earlier versions, you will need to impose a special <a href="https://github.com/CaptainFlint/virtualbox-winbuild-article/blob/master/misc/gsoap-openssl110.patch">patch</a> (author: <a href="https://sourceforge.net/p/gsoap2/patches/166/">Mattias Ellert</a> ).  You can do this manually (the format is fairly obvious: open the files in turn, delete the lines marked with minuses, and add the marked positives; the rest of the lines help define the context), or you can take the standard patch utility ported for Windows and set it up. <br><br><h5>  ‚Ä¢ MiKTeX </h5><ol><li>  Unpack the archive in <code>C:\Programs\MiKTeX\</code> </li><li>  Open the console and run the installation of additional modules: <pre> <code class="dos hljs">"C:\Programs\MiKTeX\miktex\bin\mpm.exe" --verbose --install=koma-script --install=ucs --install=tabulary --install=url --install=fancybox --install=fancyvrb --install=bera --install=charter --install=mptopdf</code> </pre> </li></ol><br><h5>  ‚Ä¢ DocBook </h5>  To unpack the XML DTD, you need to create a separate directory and put all the files there.  The archive with XSL Stylesheets already contains the required subdirectory, so it is enough just to unpack it and rename the resulting subdirectory. <br><br><a name="final-touches"></a><h4><img src="https://habrastorage.org/getpro/geektimes/post_images/9f8/505/49b/9f850549b13e79dc47d23f5f9e994379.png">  Finishing touches </h4><br>  Preparation for the assembly is almost complete, there are a few steps.  If you have not done this yet, you need to download the archive with the source codes of VirtualBox of the required version and unpack it in a convenient place.  As a working directory, I chose <code>C:\Devel\</code> ;  I unpacked the source code archive into it and renamed the resulting directory to <code>VirtualBox-src</code> . <br><br><h5>  ‚Ä¢ Adding certificates </h5>  If you do not have a full-fledged certificate, then it is recommended to create at least a personal one (it is easier to load drivers with it than without a signature).  To do this, open the console with elevated privileges and execute the following commands in it: <pre> <code class="dos hljs">"C:\Program Files\Microsoft SDKs\Windows\v7.<span class="hljs-number"><span class="hljs-number">1</span></span>\Bin\SetEnv.<span class="hljs-built_in"><span class="hljs-built_in">Cmd</span></span>" /Release /x64 /win7 <span class="hljs-built_in"><span class="hljs-built_in">COLOR</span></span> <span class="hljs-number"><span class="hljs-number">07</span></span> makecert.exe -a sha1 -r -pe -ss my -n "CN=Roga and Kopyta Ltd" C:\Devel\testcert_1.cer makecert.exe -a sha256 -r -pe -ss my -n "CN=Roga and Kopyta Ltd" C:\Devel\testcert_256.cer certmgr.exe -add C:\Devel\testcert_1.cer -s -r localMachine root certmgr.exe -add C:\Devel\testcert_256.cer -s -r localMachine root</code> </pre>  The name for the certificates (‚ÄúRoga and Kopyta Ltd‚Äù) and the path to the files can be chosen at your discretion.  Since the names are the same, you will need to use a digital fingerprint to distinguish between certificates.  Open the certificate management console (run <code>certmgr.msc</code> ), open the list of personal certificates there.  Double click on the first of the certificates ‚ÄúRoga and Kopyta Ltd‚Äù, in the opened dialog go to the Details tab.  The Signature algorithm will indicate the signature algorithm: sha256RSA or sha1RSA.  Further, at the very end of the list there will be a Thumbprint field with a value in the form of a sequence of hexadecimal numbers.  Copy this value somewhere.  Repeat the same for the second certificate.  Be sure to note which one was sha256 and which one was sha1.  (A simpler solution would be to give different names to the certificates, but two different signatures will look unaesthetic.) <br><br><h5>  ‚Ä¢ Build xmllint </h5>  At one stage, you also need the xmllint program.  I did not specify it in the list of requirements, because the necessary sources are already present in the archive VB.  Assembly rules are not designed for automatic assembly of this utility, so it will have to be assembled separately.  For the target directory, I selected <code>C:\Programs\xmllint</code> . <ol><li>  Copy the contents of the directory <code>C:\Devel\VirtualBox-src\src\libs\libxml2-2.9.4</code> to <code>C:\Programs\libxml2-2.9.4\</code> (it is necessary that the intermediate object files do not interfere with the assembly of the VB itself). </li><li>  Open the console and execute the commands: <pre> <code class="dos hljs">"C:\Program Files\Microsoft SDKs\Windows\v7.<span class="hljs-number"><span class="hljs-number">1</span></span>\Bin\SetEnv.<span class="hljs-built_in"><span class="hljs-built_in">Cmd</span></span>" /Release /x64 /win7 <span class="hljs-built_in"><span class="hljs-built_in">COLOR</span></span> <span class="hljs-number"><span class="hljs-number">07</span></span> <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /d C:\Programs\libxml2-<span class="hljs-number"><span class="hljs-number">2</span></span>.<span class="hljs-number"><span class="hljs-number">9</span></span>.<span class="hljs-number"><span class="hljs-number">4</span></span>\win32 cscript.exe configure.js cruntime=/MT prefix=C:\Programs\xmllint iconv=no nmake /f Makefile.msvc nmake /f Makefile.msvc install</code> </pre> </li><li>  Delete the <code>C:\Programs\libxml2-2.9.4</code> . </li></ol><br><h5>  ‚Ä¢ Various VB edits </h5>  Before proceeding with the assembly, we still need to make some changes to the source code of VirtualBox itself.  Since there are quite a lot of them, I decided to put them into a separate patch, which you can simply completely impose on the source tree;  You can get the file <a href="https://github.com/CaptainFlint/virtualbox-winbuild-article/blob/master/misc/vbox_build.patch">here</a> .  Below I give details of what changes were made and why.  So, go to the directory <code>C:\Devel\VirtualBox-src</code> and start: <ol><li>  Open the <code>configure.vbs</code> file, do the following bullying with it: <ul><li>  Find the code: <pre> <code class="vbscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Shell(DosSlashes(strPathVC &amp; <span class="hljs-string"><span class="hljs-string">"/bin/cl.exe"</span></span>), <span class="hljs-literal"><span class="hljs-literal">True</span></span>) &lt;&gt; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span></code> </pre>  and replace with the following: <pre> <code class="vbscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Shell(DosSlashes(strPathVC &amp; <span class="hljs-string"><span class="hljs-string">"/bin/cl.exe"</span></span>) &amp; <span class="hljs-string"><span class="hljs-string">" /?"</span></span>, <span class="hljs-literal"><span class="hljs-literal">True</span></span>) &lt;&gt; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span></code> </pre>  This piece is responsible for finding and checking the compiler, but does not take into account that calling <code>cl.exe</code> without arguments returns an error (which is treated as an inappropriate compiler).  Adding the " <code>/?</code>  ¬ªAsks for help, and the return code is no longer erroneous. </li><li>  Now go to the <code>CheckForMinGW32Sub</code> function.    32- MinGW     3.3.3.     4.5.4,   /   ,        (     <code>CheckForMinGWw64Sub</code> ,  ): <pre> <code class="vbscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">function</span></span> CheckForMinGW32Sub(strPathMingW32, strPathW32API) g_strSubOutput = <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> strPathW32API = <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> strPathW32API = strPathMingW32 LogPrint <span class="hljs-string"><span class="hljs-string">"trying: strPathMingW32="</span></span> &amp;strPathMingW32 &amp; <span class="hljs-string"><span class="hljs-string">" strPathW32API="</span></span> &amp; strPathW32API <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> LogFileExists(strPathMingW32, <span class="hljs-string"><span class="hljs-string">"bin/gcc.exe"</span></span>) _ <span class="hljs-keyword"><span class="hljs-keyword">And</span></span> LogFileExists(strPathMingW32, <span class="hljs-string"><span class="hljs-string">"bin/ld.exe"</span></span>) _ <span class="hljs-keyword"><span class="hljs-keyword">And</span></span> LogFileExists(strPathMingW32, <span class="hljs-string"><span class="hljs-string">"bin/objdump.exe"</span></span>) _ <span class="hljs-keyword"><span class="hljs-keyword">And</span></span> LogFileExists(strPathMingW32, <span class="hljs-string"><span class="hljs-string">"bin/dllwrap.exe"</span></span>) _ <span class="hljs-keyword"><span class="hljs-keyword">And</span></span> LogFileExists(strPathMingW32, <span class="hljs-string"><span class="hljs-string">"bin/dlltool.exe"</span></span>) _ <span class="hljs-keyword"><span class="hljs-keyword">And</span></span> LogFileExists(strPathMingW32, <span class="hljs-string"><span class="hljs-string">"bin/as.exe"</span></span>) _ <span class="hljs-keyword"><span class="hljs-keyword">And</span></span> LogFileExists(strPathMingW32, <span class="hljs-string"><span class="hljs-string">"include/bfd.h"</span></span>) _ <span class="hljs-keyword"><span class="hljs-keyword">And</span></span> LogFileExists(strPathMingW32, <span class="hljs-string"><span class="hljs-string">"lib32/libgcc_s.a"</span></span>) _ <span class="hljs-keyword"><span class="hljs-keyword">And</span></span> LogFileExists(strPathMingW32, <span class="hljs-string"><span class="hljs-string">"i686-w64-mingw32/lib/dllcrt1.o"</span></span>) _ <span class="hljs-keyword"><span class="hljs-keyword">And</span></span> LogFileExists(strPathMingW32, <span class="hljs-string"><span class="hljs-string">"i686-w64-mingw32/lib/dllcrt2.o"</span></span>) _ <span class="hljs-keyword"><span class="hljs-keyword">And</span></span> LogFileExists(strPathMingW32, <span class="hljs-string"><span class="hljs-string">"i686-w64-mingw32/lib/libmsvcrt.a"</span></span>) _ <span class="hljs-keyword"><span class="hljs-keyword">And</span></span> LogFileExists(strPathMingW32, <span class="hljs-string"><span class="hljs-string">"i686-w64-mingw32/lib/libmsvcr100.a"</span></span>) _ <span class="hljs-keyword"><span class="hljs-keyword">And</span></span> LogFileExists(strPathMingW32, <span class="hljs-string"><span class="hljs-string">"i686-w64-mingw32/include/_mingw.h"</span></span>) _ <span class="hljs-keyword"><span class="hljs-keyword">And</span></span> LogFileExists(strPathMingW32, <span class="hljs-string"><span class="hljs-string">"i686-w64-mingw32/include/stdint.h"</span></span>) _ <span class="hljs-keyword"><span class="hljs-keyword">And</span></span> LogFileExists(strPathMingW32, <span class="hljs-string"><span class="hljs-string">"i686-w64-mingw32/include/windows.h"</span></span>) _ <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Shell(DosSlashes(strPathMingW32 &amp; <span class="hljs-string"><span class="hljs-string">"/bin/gcc.exe"</span></span>) &amp; <span class="hljs-string"><span class="hljs-string">" -dumpversion"</span></span>, <span class="hljs-literal"><span class="hljs-literal">True</span></span>) = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-keyword"><span class="hljs-keyword">dim</span></span> offVer, iMajor, iMinor, iPatch, strVer <span class="hljs-comment"><span class="hljs-comment">' extract the version. strVer = Trim(Replace(Replace(g_strShellOutput, vbCr, ""), vbLf, "")) if (Mid(strVer, 2, 1) = ".") _ And (Mid(strVer, 4, 1) = ".") then iMajor = Int(Left(strVer, 1)) ' Is Int() the right thing here? I want atoi()!!! iMinor = Int(Mid(strVer, 3, 1)) iPatch = Int(Mid(strVer, 5)) else LogPrint "Malformed version: '" &amp; strVer &amp; "'" strVer = "" end if if strVer &lt;&gt; "" then if (iMajor = 4) And (iMinor &gt;= 4) then CheckForMinGW32Sub = True g_strSubOutput = strVer else LogPrint "MinGW32 version '" &amp; iMajor &amp; "." &amp; iMinor &amp; "." &amp; iPatch &amp; "' is not supported (or configure.vbs failed to parse it correctly)." end if else LogPrint "Couldn't locate the GCC version in the output!" end if else LogPrint "Failed to run gcc.exe!" end if end if end function</span></span></code> </pre> </li><li>  ,   <code>CheckForCurlSub</code> ,   ‚Äî   : <pre> <code class="vbscript hljs"> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> LogFileExists(strPathCurl, <span class="hljs-string"><span class="hljs-string">"include/curl/curl.h"</span></span>) _ <span class="hljs-keyword"><span class="hljs-keyword">And</span></span> LogFindFile(strPathCurl, <span class="hljs-string"><span class="hljs-string">"libcurl.dll"</span></span>) &lt;&gt; <span class="hljs-string"><span class="hljs-string">""</span></span> _ <span class="hljs-keyword"><span class="hljs-keyword">And</span></span> LogFindFile(strPathCurl, <span class="hljs-string"><span class="hljs-string">"libcurl.lib"</span></span>) &lt;&gt; <span class="hljs-string"><span class="hljs-string">""</span></span> _</code> </pre>         libcurl,           ,     DLL-,   .      ,    ,    <code>libcurl.dll</code> ,  : <pre> <code class="vbscript hljs"> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> LogFileExists(strPathCurl, <span class="hljs-string"><span class="hljs-string">"include/curl/curl.h"</span></span>) _ <span class="hljs-keyword"><span class="hljs-keyword">And</span></span> LogFindFile(strPathCurl, <span class="hljs-string"><span class="hljs-string">"libcurl.lib"</span></span>) &lt;&gt; <span class="hljs-string"><span class="hljs-string">""</span></span> _</code> </pre> </li><li>     <code>CheckForPython</code> ,     <code>VBOX_BLD_PYTHON</code> : <pre> <code class="vbscript hljs"> CfgPrint <span class="hljs-string"><span class="hljs-string">"VBOX_BLD_PYTHON := "</span></span> &amp; strPathPython &amp; <span class="hljs-string"><span class="hljs-string">"\python.exe"</span></span></code> </pre>      python.exe   : <code>"/python.exe"</code> (   ;  ,    ,  ). </li><li>  Windows-    libvpx  libopus,     . , ,     ,   ,            ,      .        -    ;     <code>CheckForQt</code> ,    : <pre> <code class="vbscript hljs"><span class="hljs-comment"><span class="hljs-comment">'' ' Checks for libvpx sub CheckForVpx(strOptVpx) dim strPathVpx, str strVpx = "libvpx" PrintHdr strVpx if strOptVpx = "" then MsgError "Invalid path specified!" exit sub end if if g_strTargetArch = "amd64" then strVsBuildArch = "x64" else strVsBuildArch = "Win32" end if strLibPathVpx = "lib/" &amp; strVsBuildArch &amp; "/vpxmd.lib" strPathVpx = "" if LogFileExists(strOptVpx, "include/vpx/vpx_encoder.h") _ And LogFileExists(strOptVpx, strLibPathVpx) _ then strPathVpx = UnixSlashes(PathAbs(strOptVpx)) CfgPrint "SDK_VBOX_VPX_INCS := " &amp; strPathVpx &amp; "/include" CfgPrint "SDK_VBOX_VPX_LIBS := " &amp; strPathVpx &amp; "/" &amp; strLibPathVpx else MsgError "Can't locate " &amp; strVpx &amp; ". " _ &amp; "Please consult the configure.log and the build requirements." exit sub end if PrintResult strVpx, strPathVpx end sub '' ' Checks for libopus sub CheckForOpus(strOptOpus) dim strPathOpus, str strOpus = "libopus" PrintHdr strOpus if strOptOpus = "" then MsgError "Invalid path specified!" exit sub end if if g_strTargetArch = "amd64" then strVsBuildArch = "x64" else strVsBuildArch = "Win32" end if strLibPathOpus = "lib/" &amp; strVsBuildArch &amp; "/opus.lib" strPathOpus = "" if LogFileExists(strOptOpus, "include/opus.h") _ And LogFileExists(strOptOpus, strLibPathOpus) _ then strPathOpus = UnixSlashes(PathAbs(strOptOpus)) CfgPrint "SDK_VBOX_OPUS_INCS := " &amp; strPathOpus &amp; "/include" CfgPrint "SDK_VBOX_OPUS_LIBS := " &amp; strPathOpus &amp; "/" &amp; strLibPathOpus else MsgError "Can't locate " &amp; strOpus &amp; ". " _ &amp; "Please consult the configure.log and the build requirements." exit sub end if PrintResult strOpus, strPathOpus end sub</span></span></code> </pre>    <code>usage</code> ,     ,        : <pre> <code class="vbscript hljs"> Print <span class="hljs-string"><span class="hljs-string">" --with-libvpx=PATH "</span></span> Print <span class="hljs-string"><span class="hljs-string">" --with-libopus=PATH "</span></span></code> </pre>     <code>Main</code>    ,   ,    (,     <code>strOptMkisofs</code> ): <pre> <code class="vbscript hljs"> strOptVpx = <span class="hljs-string"><span class="hljs-string">""</span></span> strOptOpus = <span class="hljs-string"><span class="hljs-string">""</span></span></code> </pre>     <code>select-case</code>   ,   , ,   <code>--with-mkisofs</code> : <pre> <code class="vbscript hljs"> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"--with-libvpx"</span></span> strOptVpx = strPath <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"--with-libopus"</span></span> strOptOpus = strPath</code> </pre>  ,      ,    ,   ,   <code>if g_blnInternalMode then</code>    : <pre> <code class="vbscript hljs"> CheckForVpx strOptVpx CheckForOpus strOptOpus</code> </pre></li></ul></li><li>     <code>src\VBox\Runtime\Makefile.kmk</code> ,     <code>VBoxRT_LIBS.win</code>  <code>VBoxRT-x86_LIBS.win</code>     <code>crypt32.lib</code>  <code>bcrypt.lib</code> : <pre> <code class="plaintext hljs">VBoxRT_LIBS.win = \ $(PATH_SDK_$(VBOX_WINDDK)_LIB)/vccomsup.lib \ $(PATH_SDK_$(VBOX_WINDDK)_LIB)/wbemuuid.lib \ $(PATH_TOOL_$(VBOX_VCC_TOOL)_LIB)/delayimp.lib</code> </pre>  : <pre> <code class="plaintext hljs">VBoxRT_LIBS.win = \ $(PATH_SDK_$(VBOX_WINDDK)_LIB)/vccomsup.lib \ $(PATH_SDK_$(VBOX_WINDDK)_LIB)/wbemuuid.lib \ $(PATH_TOOL_$(VBOX_VCC_TOOL)_LIB)/delayimp.lib \ $(PATH_SDK_$(VBOX_WINPSDK)_LIB)/crypt32.lib \ $(PATH_SDK_$(VBOX_WINPSDK)_LIB)/bcrypt.lib</code> </pre> (     <code>delayimp.lib</code> !);  : <pre> <code class="plaintext hljs">VBoxRT-x86_LIBS.win = \ $(PATH_SDK_$(VBOX_WINDDK)_LIB.x86)/vccomsup.lib \ $(PATH_SDK_$(VBOX_WINDDK)_LIB.x86)/wbemuuid.lib \ $(PATH_TOOL_$(VBOX_VCC_TOOL_STEM)X86_LIB)/delayimp.lib</code> </pre>  : <pre> <code class="plaintext hljs">VBoxRT-x86_LIBS.win = \ $(PATH_SDK_$(VBOX_WINDDK)_LIB.x86)/vccomsup.lib \ $(PATH_SDK_$(VBOX_WINDDK)_LIB.x86)/wbemuuid.lib \ $(PATH_TOOL_$(VBOX_VCC_TOOL_STEM)X86_LIB)/delayimp.lib \ $(PATH_SDK_$(VBOX_WINPSDK)_LIB.x86)/crypt32.lib \ $(PATH_SDK_$(VBOX_WINPSDK)_LIB.x86)/bcrypt.lib</code> </pre>       <code>VBoxRT.dll</code> .        :   Oracle     <code>crypt32.dll</code> ,       , , , LIB-   .     ,          .  .    <code>bcrypt.dll</code>     OpenSSL 1.1.1. </li><li>    gSOAP  2.8.45  ,     <code>src\VBox\Runtime\r3\win\VBoxRT-openssl-1.1plus.def</code> ,  -    : <pre> <code class="plaintext hljs">X509_STORE_set_flags</code> </pre> (    <code>X509_VERIFY_PARAM_set_flags</code> ).     ,   <code>VBoxRT.dll</code> .  gSOAP 2.8.45    <code>X509_STORE_set_flags()</code> ,       <code>VBoxRT</code> ,  OpenSSL      - ,    OpenSSL     ,   <code>VBoxRT</code> .     . </li><li>      ,     ,   ISO-     .   VB      ,   ,   ISO-         .    ,   <code>src\VBox\Makefile.kmk</code> ,     : <pre> <code class="plaintext hljs"> ifdef VBOX_WITH_ADDITIONS include $(PATH_SUB_CURRENT)/Additions/Makefile.kmk endif</code> </pre>          : <pre> <code class="plaintext hljs"> ifndef VBOX_WITHOUT_ADDITIONS_ISO $(VBOX_PATH_ADDITIONS_ISO)/VBoxGuestAdditions.iso: $(QUIET)$(MKDIR) -p $(@D) $(VBOX_RETRY) $(TOOL_CURL_FETCH) http://download.virtualbox.org/virtualbox/$(VBOX_VERSION_STRING_RAW)/VBoxGuestAdditions_$(VBOX_VERSION_STRING_RAW).iso -o $@ endif</code> </pre>     ,    , ,  -     . </li><li>        6.0,       - ,        .   ,       Oracle,             , ,  ,         -     .         ,      .     <code>doc\manual\Makefile.kmk</code>  : <pre> <code class="plaintext hljs">define def_vbox_refentry_to_user_sect1 $$(VBOX_PATH_MANUAL_OUTBASE)/$(1)/user_$(2): $(3) \ $$(VBOX_PATH_MANUAL_SRC)/docbook-refentry-to-manual-sect1.xsl \ $$(VBOX_XML_CATALOG) $$(VBOX_XML_CATALOG_DOCBOOK) $$(VBOX_XML_CATALOG_MANUAL) \ $$(VBOX_VERSION_STAMP) | $$(dir $$@) $$(call MSG_TOOL,xsltproc $$(notdir $$(filter %.xsl,$$^)),,$$(filter %.xml,$$^),$$@) $$(QUIET)$$(RM) -f "$$@" $$(QUIET)$$(call VBOX_XSLTPROC_WITH_CAT) --output $$@ $$(VBOX_PATH_MANUAL_SRC)/docbook-refentry-to-manual-sect1.xsl $$&lt; endef</code> </pre>     <code>$$(RM)</code>     : <pre> <code class="plaintext hljs"> $$(QUIET)$$(MKDIR) -p "$$(@D)"</code> </pre> ( ,   !)    ,        -   . <br><br>     <code>doc\manual\Config.kmk</code> ,   : <pre> <code class="plaintext hljs"> VBOX_FILE_URL_MAYBE_SLASH = $(if $(eq $(KBUILD_HOST),win),/,)</code> </pre>       ,    ,         : <pre> <code class="plaintext hljs"> VBOX_PATH_MANUAL_SRC_SLASHED = $(subst :/,:///,$(VBOX_PATH_MANUAL_SRC)) VBOX_PATH_MANUAL_OUTBASE_SLASHED = $(subst :/,:///,$(VBOX_PATH_MANUAL_OUTBASE))</code> </pre>        : <pre> <code class="plaintext hljs"> $(VBOX_XML_CATALOG): $(MAKEFILE_CURRENT) | $$(dir $$@) $(call MSG_L1,Creating catalog $@) $(QUIET)$(APPEND) -tn "$@" \ '&lt;?xml version="1.0"?&gt;' \ '&lt;!DOCTYPE catalog PUBLIC "-//OASIS//DTD Entity Resolution XML Catalog V1.0//EN" "http://www.oasis-open.org/committees/entity/release/1.0/catalog.dtd"&gt;' \ '&lt;catalog xmlns="urn:oasis:names:tc:entity:xmlns:xml:catalog"&gt;' \ ' &lt;delegatePublic publicIdStartString="-//OASIS/ENTITIES DocBook XML" catalog="file://$(VBOX_FILE_URL_MAYBE_SLASH)$(VBOX_XML_CATALOG_DOCBOOK)"/&gt;' \ ' &lt;delegatePublic publicIdStartString="-//OASIS/DTD DocBook XML" catalog="file://$(VBOX_FILE_URL_MAYBE_SLASH)$(VBOX_XML_CATALOG_DOCBOOK)"/&gt;' \ ' &lt;delegateSystem systemIdStartString="http://www.oasis-open.org/docbook/" catalog="file://$(VBOX_FILE_URL_MAYBE_SLASH)$(VBOX_XML_CATALOG_DOCBOOK)"/&gt;' \ ' &lt;delegateURI uriStartString="http://www.oasis-open.org/docbook/" catalog="file://$(VBOX_FILE_URL_MAYBE_SLASH)$(VBOX_XML_CATALOG_DOCBOOK)"/&gt;' \ ' &lt;delegateSystem systemIdStartString="$(VBOX_PATH_MANUAL_SRC)" catalog="file://$(VBOX_FILE_URL_MAYBE_SLASH)$(VBOX_XML_CATALOG_MANUAL)"/&gt;' \ ' &lt;delegateURI uriStartString="$(VBOX_PATH_MANUAL_SRC)" catalog="file://$(VBOX_FILE_URL_MAYBE_SLASH)$(VBOX_XML_CATALOG_MANUAL)"/&gt;' \ ' &lt;delegateURI uriStartString="file://$(VBOX_FILE_URL_MAYBE_SLASH)$(VBOX_PATH_MANUAL_SRC)" catalog="file://$(VBOX_FILE_URL_MAYBE_SLASH)$(VBOX_XML_CATALOG_MANUAL)"/&gt;' \ ' &lt;delegateURI uriStartString="$(VBOX_PATH_MANUAL_OUTBASE)" catalog="file://$(VBOX_FILE_URL_MAYBE_SLASH)$(VBOX_XML_CATALOG_MANUAL)"/&gt;' \ '&lt;/catalog&gt;'</code> </pre>    ,    <code>VBOX_PATH_MANUAL_SRC</code>  <code>VBOX_PATH_MANUAL_OUTBASE</code> ,         (,    <code>file://</code> ,  ).    : <pre> <code class="plaintext hljs"> $(VBOX_XML_CATALOG): $(MAKEFILE_CURRENT) | $$(dir $$@) $(call MSG_L1,Creating catalog $@) $(QUIET)$(APPEND) -tn "$@" \ '&lt;?xml version="1.0"?&gt;' \ '&lt;!DOCTYPE catalog PUBLIC "-//OASIS//DTD Entity Resolution XML Catalog V1.0//EN" "http://www.oasis-open.org/committees/entity/release/1.0/catalog.dtd"&gt;' \ '&lt;catalog xmlns="urn:oasis:names:tc:entity:xmlns:xml:catalog"&gt;' \ ' &lt;delegatePublic publicIdStartString="-//OASIS/ENTITIES DocBook XML" catalog="file://$(VBOX_FILE_URL_MAYBE_SLASH)$(VBOX_XML_CATALOG_DOCBOOK)"/&gt;' \ ' &lt;delegatePublic publicIdStartString="-//OASIS/DTD DocBook XML" catalog="file://$(VBOX_FILE_URL_MAYBE_SLASH)$(VBOX_XML_CATALOG_DOCBOOK)"/&gt;' \ ' &lt;delegateSystem systemIdStartString="http://www.oasis-open.org/docbook/" catalog="file://$(VBOX_FILE_URL_MAYBE_SLASH)$(VBOX_XML_CATALOG_DOCBOOK)"/&gt;' \ ' &lt;delegateURI uriStartString="http://www.oasis-open.org/docbook/" catalog="file://$(VBOX_FILE_URL_MAYBE_SLASH)$(VBOX_XML_CATALOG_DOCBOOK)"/&gt;' \ ' &lt;delegateSystem systemIdStartString="$(VBOX_PATH_MANUAL_SRC)" catalog="file://$(VBOX_FILE_URL_MAYBE_SLASH)$(VBOX_XML_CATALOG_MANUAL)"/&gt;' \ ' &lt;delegateSystem systemIdStartString="$(VBOX_PATH_MANUAL_SRC_SLASHED)" catalog="file://$(VBOX_FILE_URL_MAYBE_SLASH)$(VBOX_XML_CATALOG_MANUAL)"/&gt;' \ ' &lt;delegateURI uriStartString="$(VBOX_PATH_MANUAL_SRC)" catalog="file://$(VBOX_FILE_URL_MAYBE_SLASH)$(VBOX_XML_CATALOG_MANUAL)"/&gt;' \ ' &lt;delegateURI uriStartString="$(VBOX_PATH_MANUAL_SRC_SLASHED)" catalog="file://$(VBOX_FILE_URL_MAYBE_SLASH)$(VBOX_XML_CATALOG_MANUAL)"/&gt;' \ ' &lt;delegateURI uriStartString="file://$(VBOX_FILE_URL_MAYBE_SLASH)$(VBOX_PATH_MANUAL_SRC)" catalog="file://$(VBOX_FILE_URL_MAYBE_SLASH)$(VBOX_XML_CATALOG_MANUAL)"/&gt;' \ ' &lt;delegateURI uriStartString="$(VBOX_PATH_MANUAL_OUTBASE)" catalog="file://$(VBOX_FILE_URL_MAYBE_SLASH)$(VBOX_XML_CATALOG_MANUAL)"/&gt;' \ ' &lt;delegateURI uriStartString="$(VBOX_PATH_MANUAL_OUTBASE_SLASHED)" catalog="file://$(VBOX_FILE_URL_MAYBE_SLASH)$(VBOX_XML_CATALOG_MANUAL)"/&gt;' \ '&lt;/catalog&gt;'</code> </pre>        ,   : <pre> <code class="plaintext hljs"> $(VBOX_XML_CATALOG_MANUAL): $(MAKEFILE_CURRENT) | $$(dir $$@)</code> </pre>      .  ,    ,      <code>common/</code> ,     ( <code>uri</code> ),     <code>file://$(VBOX_FILE_URL_MAYBE_SLASH)</code> . </li><li>  VB   ,           (  <code>/IntegrityCheck</code> ).     ,   .   ‚Äî VB      (   ).    <code>Config.kmk</code>  ,         (   ¬´¬ª    -   <code>LocalConfig.kmk</code> ; . ).     . <ul><li>     <code>VBOX_INTEGRITY_CHECK</code> ,      .        <code>define VBOX_RE_SIGN_DLL_INTERNAL_FN</code> : <pre> <code class="plaintext hljs">if defined(VBOX_SIGNING_MODE) &amp;&amp; defined(VBOX_CROSS_CERTIFICATE_FILE) VBOX_INTEGRITY_CHECK := /IntegrityCheck else VBOX_INTEGRITY_CHECK := /IntegrityCheck:NO endif</code> </pre> </li><li>    : <pre> <code class="plaintext hljs"> $(VBOX_VCC_EDITBIN) /LargeAddressAware /DynamicBase /NxCompat /Release /IntegrityCheck \ /Version:$(VBOX_VERSION_MAJOR)0$(VBOX_VERSION_MINOR).$(VBOX_VERSION_BUILD) \ "$@"</code> </pre>   <code>/IntegrityCheck</code>  <code>$(VBOX_INTEGRITY_CHECK)</code> . </li><li>       : <pre> <code class="plaintext hljs">ifdef VBOX_SIGNING_MODE TEMPLATE_XXXXXX_LDFLAGS += -IntegrityCheck endif</code> </pre>  or <pre> <code class="plaintext hljs">if defined(VBOX_SIGNING_MODE) &amp;&amp; defined(VBOX_WITH_HARDENING) TEMPLATE_XXXXXX_LDFLAGS += -IntegrityCheck endif</code> </pre>   ¬´ <code>XXXXXX</code> ¬ª     .    ‚Äî 6 ,    .    ,   - .      , ,  <pre> <code class="plaintext hljs">if defined(VBOX_SIGNING_MODE) &amp;&amp; defined(VBOX_CROSS_CERTIFICATE_FILE)</code> </pre>  or <pre> <code class="plaintext hljs">if defined(VBOX_SIGNING_MODE) &amp;&amp; defined(VBOX_CROSS_CERTIFICATE_FILE) &amp;&amp; defined(VBOX_WITH_HARDENING)</code> </pre> </li></ul></li><li>  , ,         <code>LocalConfig.kmk</code> ,     : <pre> <code class="plaintext hljs">VBOX_WITH_HARDENING := VBOX_PATH_WIX := C:\Programs\WiX VBOX_GSOAP_INSTALLED := 1 VBOX_PATH_GSOAP := C:\Programs\gSOAP VBOX_WITH_COMBINED_PACKAGE := 1 VBOX_WITH_QT_PAYLOAD := 1 VBOX_WITH_QTGUI_V5 := 1 VBOX_SIGNING_MODE := release VBOX_CERTIFICATE_SUBJECT_NAME := Roga and Kopyta Ltd VBOX_CERTIFICATE_FINGERPRINT := XX XX XX XX XX XX XX XX XX XX XX XX XX XX XX XX XX XX XX XX VBOX_CERTIFICATE_SHA2_SUBJECT_NAME := Roga and Kopyta Ltd VBOX_CERTIFICATE_SHA2_FINGERPRINT := XX XX XX XX XX XX XX XX XX XX XX XX XX XX XX XX XX XX XX XX VBOX_TSA_URL := http://timestamp.digicert.com VBOX_TSA_SHA2_URL := http://timestamp.digicert.com VBOX_TSA_URL_ARGS := /t "$(VBOX_TSA_URL)" VBOX_TSA_SHA2_URL_ARGS := /tr "$(VBOX_TSA_SHA2_URL)" /td sha256 VBOX_CROSS_CERTIFICATE_FILE := VBOX_CROSS_CERTIFICATE_FILE_ARGS := VBOX_CROSS_CERTIFICATE_SHA2_FILE := VBOX_CROSS_CERTIFICATE_SHA2_FILE_ARGS := VBOX_PATH_SIGN_TOOLS := C:\Programs\DevKits\8.1\bin\x64 VBOX_PATH_SELFSIGN := C:\WinDDK\7600.16385.1\bin\selfsign VBOX_PATH_WISUMINFO := "C:\Program Files\Microsoft SDKs\Windows\v7.1\Samples\sysmgmt\msi\scripts\WiSumInf.vbs" VBOX_PATH_WISUBSTG := "C:\Program Files\Microsoft SDKs\Windows\v7.1\Samples\sysmgmt\msi\scripts\WiSubStg.vbs" VBOX_WITH_DOCS := 1 VBOX_WITH_DOCS_CHM := 1 VBOX_WITH_DOCS_PACKING := 1 VBOX_WITH_ADDITIONS := VBOX_WITH_ADDITIONS_PACKING := 1 VBOX_HAVE_XMLLINT := 1 VBOX_XMLLINT := C:\Programs\xmllint\bin\xmllint.exe VBOX_PATH_DOCBOOK := C:/Programs/DocBook/xsl VBOX_PATH_DOCBOOK_DTD := C:/Programs/DocBook/xml VBOX_PATH_HTML_HELP_WORKSHOP := "C:\Program Files (x86)\HTML Help Workshop" VBOX_PDFLATEX := C:\Programs\MiKTeX\miktex\bin\pdflatex.exe VBOX_PDFLATEX_CMD := $(VBOX_PDFLATEX) -halt-on-error -interaction batchmode TOOL_CURL_FETCH := C:\Programs\curl\x64\curl.exe PATH_TOOL_NASM := C:/Programs/nasm VBOX_INSTALLER_LANGUAGES := en_US VBOX_WITH_TESTCASES := VBOX_WITH_VALIDATIONKIT := VBOX_WITH_VBOX_IMG := 1 VBOX_WITH_RECORDING := 1 VBOX_WITH_AUDIO_RECORDING := 1 SDK_VBOX_VPX := 1 VBOX_WITH_LIBVPX := 1 SDK_VBOX_OPUS := 1 VBOX_WITH_LIBOPUS := 1 VBOX_BUILD_PUBLISHER := _OSE</code> </pre>     - : <ul><li>   <code>VBOX_CERTIFICATE_SUBJECT_NAME</code>  <code>VBOX_CERTIFICATE_SHA2_SUBJECT_NAME</code>         SHA-1  SHA-256, . </li><li>   <code>VBOX_CERTIFICATE_FINGERPRINT</code>  <code>VBOX_CERTIFICATE_SHA2_FINGERPRINT</code>   ,        . </li><li>      ,  ,      <code>VBOX_CROSS_CERTIFICATE_FILE_ARGS</code>  <code>VBOX_CROSS_CERTIFICATE_SHA2_FILE_ARGS</code> ,    <code>VBOX_CROSS_CERTIFICATE_FILE</code>  <code>VBOX_CROSS_CERTIFICATE_SHA2_FILE</code> ( ¬´ <code>_ARGS</code> ¬ª)      - (      ).      ,  ,  <a href="https://msdn.microsoft.com/en-us/library/windows/hardware/dn170454(v%3Dvs.85).aspx"> Microsoft</a> . </li><li>         ,      ,     ÃÅ           <code>signtool</code> .   <code>Config.kmk</code>   ¬´Code Signing¬ª  ,        . </li><li>    -    ,   ,      . </li><li>  WiX      .     ,    ;      <code>bin</code> .  ,     ,       8.3.      <code>dir /x</code> .      , ,  . </li><li>  <code>VBOX_BUILD_PUBLISHER</code>      .    ¬´_OSE¬ª (. .    ¬´6.0.2_OSE¬ª).       -      ,     (  ,   ¬´_OSE¬ª). </li></ul><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The remaining variables are mainly used to select components to be assembled. </font><font style="vertical-align: inherit;">Well, the main line, for which everything was started, goes the very first: disable hardening.</font></font><br></li></ol><br><a name="build-vb"></a><h4><img src="https://habrastorage.org/getpro/geektimes/post_images/9f8/505/49b/9f850549b13e79dc47d23f5f9e994379.png"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Putting VirtualBox </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Well, now, finally, you can and begin to build the actual VirtualBox. </font><font style="vertical-align: inherit;">If you like parallel build, you‚Äôll have to temporarily abandon this habit (or compile it in two copies of the source tree): here you‚Äôll use a common configuration file that you need to regenerate before starting the build. </font><font style="vertical-align: inherit;">And if during the 64-bit compilation it unexpectedly turns out the paths to 32-bit libraries, the compiler will not like it very much.</font></font><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We start with the assembly of the 64-bit version. </font><font style="vertical-align: inherit;">Open the console, execute the commands:</font></font><pre> <code class="dos hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /d C:\Devel\VirtualBox-src "C:\Program Files\Microsoft SDKs\Windows\v7.<span class="hljs-number"><span class="hljs-number">1</span></span>\Bin\SetEnv.<span class="hljs-built_in"><span class="hljs-built_in">Cmd</span></span>" /Release /x64 /win7 <span class="hljs-built_in"><span class="hljs-built_in">COLOR</span></span> <span class="hljs-number"><span class="hljs-number">07</span></span> <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> BUILD_TARGET_ARCH=amd64 cscript configure.vbs --with-DDK=C:\WinDDK\<span class="hljs-number"><span class="hljs-number">7600</span></span>.<span class="hljs-number"><span class="hljs-number">16385</span></span>.<span class="hljs-number"><span class="hljs-number">1</span></span> --with-MinGW-w64=C:\Programs\mingw64 --with-MinGW32=C:\Programs\mingw32 --with-libSDL=C:\Programs\SDL\x64 --with-openssl=C:\Programs\OpenSSL\x64 --with-openssl32=C:\Programs\OpenSSL\x32 --with-libcurl=C:\Programs\curl\x64 --with-libcurl32=C:\Programs\curl\x32 --with-Qt5=C:\Programs\Qt\<span class="hljs-number"><span class="hljs-number">5</span></span>.<span class="hljs-number"><span class="hljs-number">6</span></span>.<span class="hljs-number"><span class="hljs-number">3</span></span>-x64 --with-libvpx=C:\Programs\libvpx --with-libopus=C:\Programs\libopus --with-python=C:/Programs/Python env.bat kmk kmk C:/Devel/VirtualBox-src/out/win.x86/release/obj/Installer/VirtualBox-<span class="hljs-number"><span class="hljs-number">6</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">2</span></span>_OSE-r127994-MultiArch_amd64.msi</code> </pre>  <code>configure.vbs</code>       ( <code>AutoConfig.kmk</code>  <code>env.bat</code> ).   <code>kmk</code>          <code>out\win.amd64\bin\</code> .        MSI-.  : <ul><li>        .   <code>kmk</code>    . </li><li>    64- ,     <code>out\win.x86\‚Ä¶</code> ,        32- . </li><li>     ,  ¬´_OSE¬ª   MSI-    ,      <code>VBOX_BUILD_PUBLISHER</code> . </li><li>    MSI- (127994)     <code>Config.kmk</code>    <code>VBOX_SVN_REV_FALLBACK</code> .   ,          (,  6.0.2    128162).    , . </li></ul></li><li>   32-        .   ,  : <pre> <code class="dos hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /d C:\Devel\VirtualBox-src "C:\Program Files\Microsoft SDKs\Windows\v7.<span class="hljs-number"><span class="hljs-number">1</span></span>\Bin\SetEnv.<span class="hljs-built_in"><span class="hljs-built_in">Cmd</span></span>" /Release /x86 /win7 <span class="hljs-built_in"><span class="hljs-built_in">COLOR</span></span> <span class="hljs-number"><span class="hljs-number">07</span></span> <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> BUILD_TARGET_ARCH=x86 cscript configure.vbs --with-DDK=C:\WinDDK\<span class="hljs-number"><span class="hljs-number">7600</span></span>.<span class="hljs-number"><span class="hljs-number">16385</span></span>.<span class="hljs-number"><span class="hljs-number">1</span></span> --with-MinGW-w64=C:\Programs\mingw64 --with-MinGW32=C:\Programs\mingw32 --with-libSDL=C:\Programs\SDL\x32 --with-openssl=C:\Programs\OpenSSL\x32 --with-libcurl=C:\Programs\curl\x32 --with-Qt5=C:\Programs\Qt\<span class="hljs-number"><span class="hljs-number">5</span></span>.<span class="hljs-number"><span class="hljs-number">6</span></span>.<span class="hljs-number"><span class="hljs-number">3</span></span>-x32 --with-libvpx=C:\Programs\libvpx --with-libopus=C:\Programs\libopus --with-python=C:/Programs/Python env.bat kmk kmk C:/Devel/VirtualBox-src/out/win.x86/release/bin/VirtualBox-<span class="hljs-number"><span class="hljs-number">6</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">2</span></span>_OSE-r127994-MultiArch.exe</code> </pre> ,  ¬´_OSE¬ª        . <br>  ,       <code>EXE</code> ,   <code>MSI</code> .     ,   32- MSI-  ,  . </li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If neither I nor you have confused anything, then after all these twists and turns you should get the VirtualBox installer, which differs from the Oracle version only by the icon of the executable file, by the picture in the ‚ÄúAbout the program‚Äù dialog and, of course, by the disabled hardening. If desired, the icon and image can also be changed, but this is a topic for another conversation. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For convenience, I reduced the launch of these two chains of teams into a </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">single batch file</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . If you regularly need to rebuild the package, it is more convenient to use it.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As it was unexpectedly discovered after the release of the article, the VB self-signed distribution kit refuses to be installed on modern systems (Windows 8/10), reporting an invalid driver signature. </font><font style="vertical-align: inherit;">And this happens even in test mode, where the validity of the signature should not play any role. </font><font style="vertical-align: inherit;">To work around this problem, you need to add the certificates you used to the root repository:</font></font><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Open the properties of the downloaded distribution file: right click ‚Üí Properties, go to the Digital Signatures tab. </font><font style="vertical-align: inherit;">There will be two signatures from Roga and Kopyta Ltd: sha1 and sha256. </font><font style="vertical-align: inherit;">Select the first, click Details.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> In the dialog that opens, click the View Certificate button. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> In the new dialog click Install Certificate. </font></font></li><li>    Local Machine, Next.  UAC-.   ¬´Place all certificates in the following store¬ª,  Browse    ¬´Trusted Root Certification Authorities¬ª. Next, Finish.  . </li><li>   ,   ,   sha256,     3‚Äì5. </li><li>   ,  . </li></ol><br><a name="afterword"></a><h4><img src="https://habrastorage.org/getpro/geektimes/post_images/9f8/505/49b/9f850549b13e79dc47d23f5f9e994379.png">  Afterword </h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The size of the article was a surprise for me. When I started to write it, I intended to tell in detail why at each stage this or that solution was chosen, what specific errors pop up, if the next edit is not applied, and what could be alternative approaches to solving these errors. But gradually I realized that if I had described all this, the article would have been completely unremarkable. Therefore, I apologize for the ‚Äúdo it this way‚Äù style that is found here and there, and I will not say why. I myself do not like such instructions, but I have not seen any other way out. However, in some places I still tried to at least briefly explain the essence of what is happening.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A huge number of aspects of the VB assembly system remained behind the scenes: both because of the reluctance to inflate the text, and because of my laziness, when, having found some workaround for another problem, I did not climb into the depths of the assembly system, but rather went on to the next stage. In the end, my main task was not to find the optimal path, but to finally assemble my own version of the current VirtualBox: I was already fed up with 4.3.12, but I could not update one of my main working tools for something that the moment may simply refuse to work indefinitely.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I hope, however, that, despite the shortcomings, this article will be useful to someone. </font><font style="vertical-align: inherit;">For those who are too lazy to raise all the above-described jumble of programs, but it is interesting to pick open the resulting distribution, I put the installer on the Yandex disk: </font></font><a href="https://yadi.sk/d/Cvvj_7gs8Yf2oA"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.0.2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">All the drivers in them (and the rest of the files) are signed with an untrusted certificate, so that in 64-bit Windows this version of VB will work only in test mode. </font><font style="vertical-align: inherit;">If there are questions, suggestions, suggestions - well in the comments or in PM. </font><font style="vertical-align: inherit;">And may the Open Source be with you!</font></font><br><br><a name="history"></a><h4><img src="https://habrastorage.org/getpro/geektimes/post_images/9f8/505/49b/9f850549b13e79dc47d23f5f9e994379.png">  Additions </h4><br><h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚Ä¢ Update of the article from 05.24.2016 </font></font></h5><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Amendments have been made with regard to changes in VB 5.0.20, in particular, the double signing of SHA-1 / SHA-256. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Added disabling the flag of forced verification of signatures, if a self-signed distribution kit is being built. </font></font></li><li>        . </li><li>    . </li><li>       . </li><li>   . </li></ol><br><h5> ‚Ä¢    29.07.2016 </h5><ol><li>       VB 5.1.2,  ,   Qt5.      5.0.x    . </li><li>    . </li><li>           . </li><li>   . </li></ol><br><h5> ‚Ä¢    15.09.2016 </h5><ol><li>       VB 5.1.6. </li><li>    . </li><li>   NASM   OpenSSL. </li><li> cURL     OpenSSL,            . </li><li>    ,    . </li><li>   . </li></ol><br><h5> ‚Ä¢    30.11.2016 </h5><ol><li>       VB 5.1.10. </li><li>    ,  ,    OpenSSL 1.1.x. </li><li>   : <ul><li>    Qt     ; </li><li>    OpenSSL  32-  64-  VB. </li></ul></li><li>      .    <a href="https://github.com/CaptainFlint/virtualbox-winbuild-article/">GitHub-</a> ,      . </li></ol><br><h5> ‚Ä¢    2.12.2016 </h5><ol><li>    OpenSSL. </li></ol><br><h5> ‚Ä¢    20.06.2017 </h5><ol><li>       VB 5.1.22. </li><li>   cURL, OpenSSL, gSOAP;     cURL, gSOAP   VB. </li></ol><br><h5> ‚Ä¢    1.12.2017 </h5><ol><li>       VB 5.2.2. </li><li>   MinGW-32 3.3.3  4.5.4. </li><li>   Qt, cURL, OpenSSL, gSOAP    ;    cURL, gSOAP   VB. </li><li>    DocBook XML/XSL  -. </li><li>   wget  curl     . </li><li>   . </li></ol><br><h5> ‚Ä¢    4.12.2017 </h5><ol><li>   libxml  . </li></ol><br><h5> ‚Ä¢    4.09.2018 </h5><ol><li>       VB 5.2.18. </li><li>   cURL, OpenSSL, gSOAP    ;    cURL. </li></ol><br><h5> ‚Ä¢    12.12.2018 </h5><ol><li>       VB 5.2.22. </li><li>    ,      OSE-;   libopus  libvpx. </li><li>   cURL, OpenSSL, gSOAP. </li><li>   -         VirtualBox. </li></ol><br><h5> ‚Ä¢    25.01.2019 </h5><ol><li>       VB 6.0.2. </li><li>      . </li><li>   cURL, gSOAP;  DocBook XSL Stylesheets   1.69.1 (   ). </li><li>          . </li></ol></div><p>Source: <a href="https://habr.com/ru/post/357526/">https://habr.com/ru/post/357526/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../357516/index.html">Munich officials explain why they don‚Äôt like Linux</a></li>
<li><a href="../357518/index.html">Opened P2P IPFS image hosting (InterPlanetary File System)</a></li>
<li><a href="../357520/index.html">People's prism. Technology at the service of society</a></li>
<li><a href="../357522/index.html">Ian Murdoch, the founder of Debian</a></li>
<li><a href="../357524/index.html">Open source has played a key role in defeating Ebola in Sierra Leone.</a></li>
<li><a href="../357528/index.html">JavaScript creator released his browser: fast and with ad blocker</a></li>
<li><a href="../357530/index.html">Offline rutracker database with descriptions of distributions and the ability to search by category</a></li>
<li><a href="../357532/index.html">BMW Australia refuses to comply with GPL license terms.</a></li>
<li><a href="../357534/index.html">Malware in the official version of Transmission. The first known extortioner Trojan for Mac.</a></li>
<li><a href="../357536/index.html">Oracle explains to Russian customers the disadvantages of a free PostgreSQL database.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>