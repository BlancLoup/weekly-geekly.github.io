<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Mirror creation algorithm (website mirror)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Description 
 This guide presents materials for creating a system of mirrors of various software. The main difficulties in creating a system of mirror...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Mirror creation algorithm (website mirror)</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/338/fe5/0e8/338fe50e8927b63abc4c948634ce75fc.jpg"><br><br><h4>  Description </h4><br>  This guide presents materials for creating a system of mirrors of various software.  The main difficulties in creating a system of mirrors are described, and ways to overcome them are shown.  For system administrators and SEO specialists.  Creating a system of software mirrors includes the following steps: <br><ol><li>  Creating an address </li><li>  Allocating the required disk space </li><li>  Creating mirrors </li><li>  Adding mirrors to the list of mirrors (mirrors list). </li></ol><a name="habracut"></a><br><h4>  1. Introduction </h4><br>  The purpose of creating a system of mirrors is to obtain links from pages of sites with a high PR value. <br>  As a rule, well-known sites of software developers have a fairly high PR value.  At the same time, in order to reduce the load on the server from which end users download the software, they welcome the creation of mirrors for their software (for small volumes, a full site mirror, for large volumes, file repositories).  Without going deep into the historical reasons for this phenomenon, we note only one thing - in the case of creating a mirror of a software product by a certain site, it is added to the mirrors list on the source site.  Thereby automatically increasing its PR. <br>  The purpose of the release of the document is to present the work done in order to analyze the results, determine the problem points of creating a system of mirrors, and develop proposals for overcoming them. <br>  The document reflects the main results of the work carried out over a period of four months - September - December 2011. <br><br><h4>  2. Creating an address </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  2.1.  Creating a mirror for your own needs </h5><br>  If a mirror is created for your own needs, there are no problems - create a regular website in which you place each mirror in your own directory. <br><br><h5>  2.2.  Creating a mirror for a partner </h5><br>  The easiest way to create a mirror for a partner is to create a CNAME record with the address of its own mirror as the address of the partner's mirror. <br>  For example: <br>  We have: <b>partner.com</b> site <b>domain.com</b> and own website <b>fatcow.com</b> . <br>  We create: mirror <b>mirrors.domain.com</b> based on our site <b>fatcow.com</b> . <br>  To set up a mirror, a partner must register on its DNS server: <br>  <b>mirrors.domain.com CNAME fatcow.com</b> <br>  Further, in the settings of your web server, you need to create an entry for the site <b>mirrors.partner.com</b> , specifying the root directory <b>fatcow.com</b> as the root directory. <br>  If necessary, you can create mirrors in the form of separate subdomains in the same way; however, in this case, a separate CNAME record is required for each subdomain, for example: <br>  <b>apache.domain.com CNAME apache.fatcow.com</b> <b><br></b>  <b>putty.domain.com CNAME putty.fatcow.com</b> <br>  Obviously, for each entry on your server, you must make the appropriate settings of your own web server. <br><br><h4>  3. Required disk space </h4><br><br><h5>  3.1.  General considerations </h5><br>  One of the key issues of creating a system of mirrors is a sufficient amount of disk space for their placement.  If you have complete information about the required amount of disk space, this question is easily closed.  But is it possible to have an idea about the volume of the hard disk, before you actually start to synchronize the first project? <br>  Unfortunately, in our case it was a little different.  Due to the lack of experience (both his own and someone else's) in this area, the creation of a system of mirrors was started with the initial very modest amount of disk space of 250 Gb.  It quickly came to the realization that this is clearly not enough and the disk space was expanded to 500 Gb by connecting a second disk of the same (250 Gb) volume.  While Linux OS using LVM (Linux Volume Manager) allows you to perform such an operation fairly painlessly, there have been cases of malfunctions (up to a complete server shutdown) for some time, most likely due to the unstable operation of the file system. <br>  Further, the real volume of the placed data is quite large.  The total repository volumes of some operating systems ‚Äî Linux, various versions of BSD, including various versions of OS (including obsolete and unsupported, binary and source codes, software packages, etc., etc.) easily reach hundreds or more Gb.  In connection with this, I had to once again correct my understanding of the necessary volumes. <br>  <i>TABLE 1</i> <br><table><tbody><tr><td>  date </td><td>  Disk capacity </td><td>  The number of mirrors </td></tr><tr><td>  07/15/2011 </td><td>  250GB </td><td>  6 </td></tr><tr><td>  08.16.2011 </td><td>  500GB </td><td>  9 </td></tr><tr><td>  12/09/2011 </td><td>  2000GB </td><td>  12 </td></tr></tbody></table><br>  <b>Graph increasing disk space</b> <br><img src="https://habrastorage.org/getpro/habr/post_images/e08/043/3b7/e080433b7ddc017bdb0a14fc4548c3f3.jpg" alt="image"><br>  In early December, it was decided to increase the volume to at least 1TB (the cost of a dedicated server increases by $ 25 / month).  At the same time, it was clearly understood that the data should be transferred to one disk of this size, since connecting, for example, another 500 Gb disk, drastically reduces server reliability - having three working disks three times increases the probability of failures.  It is also necessary to take into account the possibility of further expansion of disk space. <br>  Immediately, we note that the use of RAID was not planned - in case of data loss, they can be restored within 1-3 days (for mirrors with large amounts of data) from the source sites.  The speed of recovery depends on the bandwidth of the channels and the load on the server - the source and our server.  This reduces the total cost of equipment.  However, it is necessary to pay great attention to the integrity of the data of its own services. <br>  The availability of a 2TB disk (the cost of a dedicated server increases by $ 35 / month) was reached on the availability of a hoster in the warehouse, which somewhat relieved the moral tension in the sense of the question - how much will 1TB suffice?  However, further the process of transferring data to a 2TB disk faced considerable difficulties (perhaps this is due to the insufficient qualification of our hoster).  The initial connection of the 2TB disk with the transferred data failed; as the hoster explained, CentOS 5.6 installed on our server cannot boot from the 2TB disk.  After that CentOS 6.1 was installed on this disk and the data was transferred.  Considering that a number of services were configured to work with CentOS 5.6, it was necessary to carry out a number of works after the installation of the system.  In particular: <br><ul><li>  recover phpMyAdmin and its interaction with the ISP manager; </li><li>  ISP managment recovery when editing files; </li><li>  cron job recovery; </li><li>  restore backup settings; </li><li>  restoration of the monitoring system. </li></ul><br>  All these periodic wiring-disconnecting drives, of course, destabilize the work and, ultimately, reduce performance and can be delayed for several weeks.  Therefore, as a recommendation, a good idea can be considered the initial amount of disk space to accommodate a 1TB mirror system, which will allow you to avoid unnecessary troubles like the above. <br>  If you (as you think) are not worried about the amount of disk space, you can skip this item.  However, in real life there are no limitless resources and we strongly recommend that you start to estimate its volume before installing a mirror. <br>  First of all, look on the website of the product owner for an indication of the amount of disk space needed to create a mirror.  This information is in the installation instructions for the mirror.  If there is no instruction or these data are not given, the required volume will have to be estimated by yourself. <br>  The easiest way is to gradually download via FTP from the source site of the software (software) that is planned to be installed as a mirror.  In this case, you have the possibility of gradually (according to directories) creating a mirror with volume control. <br>  In some cases, initial download is possible using rsync by running it from the command line.  However, given the sufficiently large volume of mirrors, it is necessary to periodically monitor the occupied disk space in order to interrupt the download process, if necessary. <br>  Be careful - the initial download of the mirror can go more than a day!  The ideal solution in this case is to have a server monitoring system. <br>  Generally speaking, there are two more options for estimating the volume of the mirror, less costly in terms of temporary losses and the threat of disk overflow: <br>  The first is to obtain information from the data owner, which in some cases is not always acceptable. <br>  The second option is to use a utility that allows using any protocol (HTTP, FTP) to estimate (count) the total volume of all mirror files without downloading them.  Unfortunately, we did not find any ready-made software solutions, so I had to develop a php script to estimate the volume of mirrors on a remote FTP server.  Its use has significantly reduced the time spent on installing mirrors. <br>  Below is the source code of the script. <br>  &lt;? php <br>  // =============================================== =============== <br>  // Directory size <br>  // #php path_to_script host_name directory <br>  // <br>  // =============================================== =============== <br>  function ftp_dir_size ($ connect, $ dir) <br>  { <br>  $ dir_size = 0; <br>  $ file_list = ftp_rawlist ($ connect, $ dir); <br>  // print_r ($ file_list); <br>  // get directory list <br>  foreach ($ file_list as $ file) <br>  {$ dim = explode ('', $ file); <br>  if (count ($ dim)&gt; 3) <br>  {// echo "---------------------------- \ n"; <br>  list ($ attr, $ bloks, $ group, $ user, $ size, $ month, $ day, $ year, $ f_name) <br>  = preg_split ("/ [\ s] + /", $ file); <br>  $ pr_dir = substr ($ attr, 0, 1); <br>  // echo $ attr. "\ n"; <br>  // echo $ pr_dir. "\ n"; <br>  // echo $ f_name. "\ n"; <br>  // echo $ size. "\ n"; <br><br>  if (substr ($ file, 0, 1)! = '.') <br>  {// directory <br>  if ($ pr_dir == 'd') <br>  {$ t_dir = $ dir. "/". $ f_name. "/"; <br>  $ dir_size = $ dir_size + ftp_dir_size ($ connect, $ t_dir); <br>  } <br>  // file <br>  if ($ pr_dir == '-') <br>  {echo "***". $ f_name. "-". $ size. "\ n"; <br>  $ dir_size = $ dir_size + $ size; <br>  } <br>  } <br><br>  } <br>  } <br>  return $ dir_size; <br>  } <br>  // =============================================== =============== <br>  set_time_limit (3600); <br>  $ host = $ argv [1]; <br>  $ dir = $ argv [2]; <br>  echo $ host. "\ n"; <br>  echo $ dir. "\ n"; <br>  $ user = "anonymous"; <br>  $ password = ""; <br>  $ connect = ftp_connect ($ host); <br>  if ($ connect) <br>  {$ login = ftp_login ($ connect, $ user, $ password); <br>  if ($ login) <br>  {if (ftp_chdir ($ connect, $ dir)) <br>  {$ dir = ftp_pwd ($ connect); <br>  echo "new directory -". $ dir. "\ n"; <br>  } <br>  else {echo "Cannot change directory \ n";  } <br>  $ size = ftp_dir_size ($ connect, $ dir); <br>  // print directory size <br>  echo "\ nDirectory size =". $ size; <br>  } <br>  ftp_close ($ connect); <br>  } <br>  else {echo "Not connect with". $ host;  } <br>  ?&gt; <br>  To estimate the amount of disk space occupied by mirrors on a private server, it is convenient to use the ncdu utility, which allows you to display a summary of each directory: <br><img src="https://habrastorage.org/getpro/habr/post_images/18a/c59/167/18ac5916730deb49a0394c016c3b4cd4.jpg" alt="image"><br>  The results are recommended to be tabulated, which will allow to assess the dynamics of change (or stability) of each of the mirrors. <br><img src="https://habrastorage.org/getpro/habr/post_images/0b0/5e6/c4f/0b05e6c4fa0d1ab62be1210e1c7df7e6.jpg" alt="image"><br><br><h4>  4. Creating a mirror </h4><br><br><h5>  4.1.  Creating an rsync-based mirror </h5><br>  As a rule, the most common way to create a mirror is to synchronize with the rsync server of the source site using the rsync utility of the same name.  If the site of the owner of the software has instructions for configuring rsync, there are no problems at all.  For example, on the site <a href="http://cran.r-project.org/">http://cran.r-project.org/</a> there is a sufficiently detailed instruction for setting up a mirror.  As regards the rsync configuration, we have: <br><img src="https://habrastorage.org/getpro/habr/post_images/5f7/895/215/5f789521541d8de99d21bfd03d633e69.jpg" alt="image"><br>  This manual contains at least two points of interest to us: <br><ul><li>  the most important is the address for downloading data - cran.r-project.org::CRAN; </li><li>  Mirror update rate - at least twice a week, better every 1-2 days. </li></ul><br>  In accordance with these instructions, we create a task in cron to start rsync according to the existing instructions, and the process is complete.  It is recommended to log the work of rsync, which will allow to find out, if necessary, the reasons for the impossibility of synchronization. <br>  Full rsync documentation is available at <a href="http://rsync.samba.org/">http://rsync.samba.org/</a> .  The documentation section ( <a href="http://rsync.samba.org/documentation.html">http://rsync.samba.org/documentation.html</a> ) lists all possible uses of rsync. <br>  We note one important point.  In case of insufficient disk space instead of the directive - delete-after it is preferable to use the directive - delete.  In the case of the use of the --delete-after directive, the files are first uploaded, and then the ones missing on the site - the source.  At the same time, the mirror as quickly as possible is brought into a state of full compliance with the original, which may be important for frequently changing mirrors, such as mozilla.  In the case of the use of the --delete directive, you first delete the files that are not already present on the site - the source of the files, and then download new ones.  This mode is recommended for quite large mirrors (CentOS, DragonflyBSD). <br>  All other settings - depending on your preferences, if they do not contradict the instructions. <br>  In some cases, there is no data on setting up a mirror on the site of the software owner ( <a href="http://gcc.gnu.org/">gcc.gnu.org</a> ): <br><img src="https://habrastorage.org/getpro/habr/post_images/00c/32c/d7a/00c32cd7a239517706b48cc9820b7b65.jpg" alt="image"><br>  In this case, the installation of the mirror is impossible without prior contact with the software owner (for details, see section 4). <br><br><h5>  4.2.  Creating FTP Mirror </h5><br>  A more rare case is the creation of a mirror based on FTP.  In general, the configuration sequence is the same as described above, except that you need to use an ftp client instead of rsync for synchronization.  Please note that the very well-proven wget utility (as well as many others) is not suitable for our case - in addition to uploading files, we need to ensure the removal of those absent from the source site.  Perhaps the best choice would be to use the utility lftp ( <a href="http://lftp.yar.ru/">lftp.yar.ru</a> ) in mirror mode. <br>  The procedure for setting up the lftp utility (including when working in mirror mode) can be found on the developer‚Äôs website ( <a href="http://lftp.yar.ru/lftp-man.html">http://lftp.yar.ru/lftp-man.html</a> ). <br><br><h5>  4.3.  Control disk space </h5><br>  After the mirrors are installed, it is recommended to install a monitoring system of available disk space with an alert (e-mail, sms) on the server, which will not allow the server to stop if the disk space is completely filled. <br>  Obviously, the issue of disk space monitoring is necessary in the presence of a large number of mirrors should be given sufficient attention.  Unlike its own software, any mirror can dramatically increase its volume, for example, in the case of a new version.  For automatic control of disk space, it is recommended to use a monitoring system, for example, Munin (http://muninmonitoring.org/).  This is a fairly customizable, extensible system.  Along with the ability to visually monitor parameters using a web interface, it allows you to create e-mail alerts when a controlled parameter reaches a certain threshold value. <br>  In some cases it is possible to reduce the volume of the mirror by synchronizing only stable versions of the software.  Obviously, this must be agreed to by the owner of the software.  In this case, tuning the mirror becomes more difficult, but the gain is obvious. <br><br><h4>  5. Adding a mirror to the list of mirrors </h4><br>  Adding a mirror to the list of mirrors on the site of the product owner is, from my point of view, the most complicated procedure in the whole technology of organizing mirrors.  This is due to the fact that you can perform all the previously described operations on your own.  To add a mirror to the list of mirrors, of course, you need to obtain the consent of the site owner. <br><br><h5>  5.1.  Option 1 </h5><br>  The most trivial case is in the installation instructions for the mirrors that something like ‚Äúinstall a mirror, write to us at mirrors@example.com and we will add you to your list of mirrors‚Äù. <br>  This was, for example, when installing mirrors: <br><ul><li>  ImageMagick (http://www.imagemagick.org/); </li><li>  KDE (http://www.kde.org) </li><li>  Dragonfly BSD (http://www.dragonflybsd.org/) </li></ul><br>  However, even in this case, success is not guaranteed immediately.  Perhaps the letter did not reach the first time.  Perhaps people gathered to do, but did not have time immediately, and then forgotten.  But you never know the reasons.  Possible and simply delayed response. <br>  Let's take as an example the correspondence on creating a mirror for ImageMagick: <br><ul><li>  On November 7, 2011, a letter was sent requesting the creation of a mirror; </li><li>  The same day, the answer came: ‚ÄùOk.  It‚Äôs our mirror web page ‚Äù; </li><li>  On November 8, 2011, a mirror was installed and a letter was sent asking for inclusion in the list of mirrors; </li><li>  The answer was not received, and therefore on November 9, 2011, a second letter was sent about the inclusion in the list of mirrors; </li><li>  and only 11/17/2011 the answer was received: ‚ÄùDone.  Look for it on the ImageMagick download page in about 24 hours.  Thanks. ‚Äù </li><li>  11/18/2011 the presence of the link in the list of ImageMagick mirrors <a href="http://www.imagemagick.org/script/download.php">http://www.imagemagick.org/script/download.php</a> was checked and after confirmation the work was closed. </li></ul><br>  In any case, if the answer is not received, I recommend sending letters asking to include a list of mirrors at least three times - this is the maximum value (from personal experience), after which you can get an answer about including your site in the list of mirrors. <br><br><h5>  5.2.  Option 2 </h5><br>  In some cases, the instructions for installing a mirror are written - ‚ÄúInstall a mirror, send a letter and we will consider the question of your inclusion in the list of mirrors‚Äù.  That is, in this case there is a possibility that your mirror will not be included in the list of mirrors.  Nevertheless, it‚Äôs not worth it to fail, but it is worth quietly working, and then acting in accordance with paragraph 1. <br><br><h5>  5.3.  Option 3 </h5><br>  In some cases, in order to submit a request for inclusion in the list of mirrors, a subscription to the mailing list is required, for example, CentOS (http://www.centos.org/).  In this case, your requests to add to the list of mirrors should be added to the mailing list. <br>  Example of correspondence with CentOS: <br><ul><li>  The first letter sent 09/30/2011.  No response received. </li><li>  The second letter was sent on 09.11.2011.  Received the answer that you need to write in the "CentOS-mirror mailing list"; </li><li>  registered in the ‚ÄúCentOS-mirror mailing list‚Äù, written 11/17/2011 message in the mailing list.  No response received; </li><li>  11/19/2011 another request was written and on 11/21/2011 I received the answer that the mirror was added. </li></ul><br><br><h5>  5.4.  Text of the letter </h5><br>  So, you are going to send a letter to the owner of the product either with a question about the possibility of creating a mirror and finding out some technical details, or about inclusion in the list of mirrors when the mirror is created. <br>  In any case, you must specify the minimum data set: <br><ul><li>  Name of the organization; </li><li>  Website address; </li><li>  the name and e-mail address of the administrator of the site where the mirrors are located; </li><li>  geographic location of the server (this may be important) - country, city; </li><li>  Server IP address; </li><li>  the protocol used for downloading from the created mirror (HTTP, FTP) and the address, for example, <a href="http://fatcow.com/apache/">http://fatcow.com/apache/</a> , <a href="">ftp://ftp.fatcow.com/apache/</a> ; </li><li>  maximum connection speed to your server. </li></ul><br>  Before sending the letter, read the installation instructions for the mirror (if any) again.  In some cases, product owners are asked to specify, for example, the maximum number of connections to your server.  Either the number of launches of the synchronization procedure is usually enough to synchronize once a day, but sometimes they are asked twice a day.  Be sure to supplement the text of your letter with this data. <br><br><h5>  5.5.  Signature and address </h5><br>  Signature to the letter - name, title, e-mail address.  Position: perfect - site administrator.  In this case, the email address matters!  An address whose domain matches the domain of the mirror is desirable.  Or, as a common exception to the rule - mail to GMail.  Having mail on GMail for the server administrator is normal. <br>  Below is a screenshot of the real letter (used when installing the CentOS mirror) <br><img src="https://habrastorage.org/getpro/habr/post_images/2f8/f52/aa6/2f8f52aa6a75e501e19c533f13ae27be.png" alt="image"><br>  Screenshot of the real letter - used when installing the ImageMagick mirror <br><img src="https://habrastorage.org/getpro/habr/post_images/06a/376/f73/06a376f731c9790dd35983569ec2c4fb.png" alt="image"><br><br><h4>  6. Distribution of mirrors </h4><br>  Considering that, as a rule, there is a web server in the composition of almost any server, we already have the opportunity to organize the distribution of our mirrors using the HTTP protocol. <br>  However, we strongly recommend that you configure the appropriate FTP server for distributing mirrors via FTP.  In this case, at a minor cost (installing and configuring an FTP server), we get a gain of at least three points; <br><ul><li>  we get two addresses in the list of mirrors of the source site; </li><li>  reduced by the load on the web-server (which can be used for internal purposes) by transferring part of the outgoing traffic to the FTP-protocol: </li><li>  The credibility of our site is increasing as it is able to organize a full-featured mirror, which increases the likelihood of it being added to the list of mirrors. </li></ul><br>  Also, as an additional means to reduce the workload of a regular web server, we can recommend installing an additional web server to service your own services, for example, lighttpd. <br><br><h4>  7. Organization of work </h4><br>  The organization of the system of mirrors is quite a long work.  The installation of a single mirror, taking into account the correspondence, can last for weeks (by installation, we understand the achievement of the ultimate goal - the inclusion of a mirror in the list of mirrors on the website - source).  And even more so the creation of the system turns into a process that can last for months. <br>  In this work on your own server must be consistent with the process of correspondence.  In this case, the creation of mirrors, as a rule, is made simultaneously for several sites - sources.  In this regard, it is not at all superfluous to systematize the planning and control of work performance (http://is.gd/WeFybI).  The following data should be included for each mirror in this document: <br><ul><li>  conditional name of the project; </li><li>  Website address; </li><li>  the address of the list of mirrors on the site; </li><li>  address of the page with instructions for installing a mirror. </li></ul><br>  For each mirror should be provided for the state of the work and planned operations. <br>  In the same document or, if necessary from the point of view of information processing convenience, in a separate document for each mirror, it is necessary to organize the recording of correspondence on the organization of the mirror.  The following data should be submitted - the text of your letter and the date of sending, the text of the answer and the date of receipt, the e-mail address of the sender and the e-mail address of the recipient. <br>  This will allow a much more organized process of creating a system of mirrors. <br><br><h4>  8. Conclusion </h4><br>  Over a period of 4 months, the PR value for the <b>fatcow.com</b> domain was raised from zero to PR = 4. <br>  In the processing table 1 shows the data on sites, mirrors which are placed and added to the lists of mirrors. <br>  <i>TABLE 2</i> <br><table><tbody><tr><td>  Project name </td><td>  Website address </td><td>  Q, Gb </td><td>  PR </td><td>  Q / PR </td></tr><tr><td>  Mozilla </td><td>  <a href="http://www.mozilla.org/">www.mozilla.org</a> </td><td>  23 </td><td>  9 </td><td>  2.6 </td></tr><tr><td>  Opera </td><td>  <a href="http://www.opera.com/">www.opera.com</a> </td><td>  13 </td><td>  9 </td><td>  1.4 </td></tr><tr><td>  KDE </td><td>  <a href="http://www.kde.org/">www.kde.org</a> </td><td>  21 </td><td>  7 </td><td>  3.0 </td></tr><tr><td>  Imagemagick </td><td>  <a href="http://www.imagemagick.org/">www.imagemagick.org</a> </td><td>  four </td><td>  7 </td><td>  0.6 </td></tr><tr><td>  Dragonfly bsd </td><td>  <a href="http://www.dragonflybsd.org/">www.dragonflybsd.org</a> </td><td>  177 </td><td>  6 </td><td>  29.5 </td></tr><tr><td>  CentOS </td><td>  <a href="http://www.centos.org/">www.centos.org</a> </td><td>  142 </td><td>  7 </td><td>  20.0 </td></tr></tbody></table><br>  Note.  Q is the disk space occupied by the mirror as of December 15, 2011. <br><img src="https://habrastorage.org/getpro/habr/post_images/b80/6ae/8dc/b806ae8dc122981c87fe0ffac900ec90.jpg" alt="image"><br>  The total amount of disk space occupied by the mirrors listed in Table 1 is 380Gb. <br>  The last column of the table shows the ratio Q / PR - a kind of indicator of the quality of the mirror.  The lower it is (of course, to some extent arbitrary), the more appropriate the mirror is for our purposes. <br>  From the results presented in the table, two conclusions follow; <br>  1. Placement of operating systems as a mirror is quite expensive.  Creating mirrors based on them is advisable in the presence of an agreement of limited placement - for example, only stable copies of the product. <br>  As an example, we cite the Dragonfly BSD, the total volume of which is approximately 400 GB.  Especially a large amount of disk space occupied by software packages (packeges) for different versions.  In this regard, software synchronization was limited only by the latest versions of Dragonfly BSD: <br><img src="https://habrastorage.org/getpro/habr/post_images/c17/5a3/b52/c175a3b521371bdcc567a91ed613af64.jpg" alt="image"><br>  As a result, the required disk space was reduced at least twice, to an acceptable 200 GB. <br>  However, such an agreement is not likely to be achieved in each case.  Therefore, the problem of disk space will directly depend on the objectives of raising PR. <br>  2. First of all, the system-wide software running on different operating systems (web-server, FTP-server (ProFTPd), database server (MySQL), etc.) should be planned for deployment. <br>  Based on the analysis of table 2, we carried out an adjustment of the selection of mirrors to be placed.  At present, the mirrors presented in Table 3 are in processing (in different degrees of readiness. As the work is suspended due to the replacement of the disk). <br>  <i>TABLE 3</i> <br><table><tbody><tr><td>  Project name </td><td>  Website address </td><td>  Q, Gb </td><td>  PR </td><td>  Q / PR </td></tr><tr><td>  apache </td><td>  <a href="http://www.apache.org/">www.apache.org</a> </td><td>  28 </td><td>  9 </td><td>  3.1 </td></tr><tr><td>  cpan </td><td>  <a href="http://www.cpan.org/">www.cpan.org</a> </td><td>  ten </td><td>  7 </td><td>  1.4 </td></tr><tr><td>  cran </td><td>  cran.r-project.org </td><td>  74 </td><td>  7 </td><td>  10.6 </td></tr><tr><td>  gcc </td><td>  gcc.gnu.org </td><td>  27 </td><td>  7 </td><td>  3.9 </td></tr><tr><td>  openssl </td><td>  <a href="http://www.openssl.org/">www.openssl.org</a> </td><td>  0.374 </td><td>  eight </td><td>  0.05 </td></tr><tr><td>  putty </td><td>  <a href="http://www.putty.org/">www.putty.org</a> </td><td>  0,017 </td><td>  6 </td><td>  0.003 </td></tr><tr><td>  xemacs </td><td>  <a href="http://www.xemacs.org/">www.xemacs.org</a> </td><td>  0.071 </td><td>  6 </td><td>  0.012 </td></tr></tbody></table><br>  Obviously, a PR value of four is far from finite. <br>  The main cost items are: <br><ul><li>  the need to support a server with a sufficiently large amount of disk space. </li><li>  part-time server administrator salary </li></ul><br>  It should be borne in mind that simultaneously with the support of the system of mirrors, this server is used for other works, which generally reduces the cost of supporting the system of mirrors.  Total spending per month is about $ 500. <br>  Translated from English, source: <a href="http://webhostinggeeks.com/">webhostinggeeks.com</a> </div><p>Source: <a href="https://habr.com/ru/post/142324/">https://habr.com/ru/post/142324/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../142312/index.html">"Accelerate 2012 parallel programming contest" or "6 ultrabooks and 10 SSD will be enough for everyone!"</a></li>
<li><a href="../142313/index.html">Bloomberg in 2007 after the release of the iPhone: "Apple will sell a couple of devices to its fans, but definitely will not make a revolution in the market"</a></li>
<li><a href="../142315/index.html">More than 40 online courses from Coursera and Udacity</a></li>
<li><a href="../142317/index.html">Application of processor modules in instrument making</a></li>
<li><a href="../142323/index.html">The history of Google Chrome - with Pam Green</a></li>
<li><a href="../142326/index.html">15-year-old hacker detained for hacking 259 sites</a></li>
<li><a href="../142327/index.html">Kaleidoscope of communication museums</a></li>
<li><a href="../142328/index.html">Authors Habrahabra in search results Google</a></li>
<li><a href="../142329/index.html">Installing Xcode 4.2 on Snow Leopard</a></li>
<li><a href="../142331/index.html">Adobe Photoshop CS6: new features for web and UI designers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>