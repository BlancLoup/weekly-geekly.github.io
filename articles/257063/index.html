<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How Aviasales Material Design Switched</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In June 2014, at Google's I / O conference, along with the new version of the Android operating system 5, Google introduced a whole design philosophy ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How Aviasales Material Design Switched</h1><div class="post__text post__text-html js-mediator-article">  In June 2014, at Google's I / O conference, along with the new version of the Android operating system 5, Google introduced a whole design philosophy from Google - Material Design. <br><br> <a href="http://habrahabr.ru/company/aviasales/blog/257063/"><img src="https://habrastorage.org/files/924/f0b/13e/924f0b13e346434c9cb98f8b47c6f1b1.png"></a> <br><br>  Developing the previous Android version of Aviasales, we are not all "listened" to Google.  Now, with the release of Android 5, it was decided to try out new guidelines, and I‚Äôll tell you about our impressions below. <br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  <font color="#00afdd">First impressions</font> </h3><br>  Whatever may sound, but Material Design is not just a compilation of Do's and Don'ts, it is its own system, its own philosophy.  Material Design has its own physics, and when designing a design, it is necessary to take into account how each screen will look in 3D, how tall each element is, and how the shadow will look, taking into account the light falling on the element. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/176/37d/5ed/17637d5edb2549ca8f18cc0b9e6dafb6.png"></div><br>  At the very beginning, Google‚Äôs guidelines contradicted the applications that came out of it.  This brought discord to the workflow, and we decided how to act. <br><br>  We started with the main screens, and the most modern Floating Action Button, as bequeathed by Google, was assigned the main function of the application - search for tickets.  Here is just one problem: there is a button, but there are no views in the Android SDK, we wrote it ourselves. <br><br><img src="https://habrastorage.org/files/6ec/39c/651/6ec39c65192e46e3bee1ced9f051f705.png"><br><br>  Although we are trying to make the application more convenient, the process of buying tickets cannot be changed, it happens through WebView on the side of contractors who do not always care about their website being conveniently used on mobile platforms.  The only thing that in the new Android sweetened this pill - WebView has finally been untied from the system.  It will be updated independently.  So, there are less problems when buying tickets on the websites of our partners. <br><br>  One of the key features of Material Design was the adaptation for different versions of the operating system, for which Google including provided a whole group of Support Library.  A striking example is the V7 Cardview Library, which, however, did not greatly facilitate the adaptation to the old versions of Android, because in L and before L Cardview will have different indents from the edges of the screen.  We solved this problem with setUseCompatPadding, but we ran into another: in older versions of Android, Cardview did not round the corners of the content inside it, but instead indents it, inserting the image into a radius.  One of the surface solutions to this problem is to round the corners of the picture itself, which we enter in Cardview, but beware: this solution will not be suitable for all cases. <br><br>  Despite a good attempt by Google to allow developers to adapt their applications for different OS versions, a lot of fun stuff in ‚Äústuff‚Äù such as Ripple Effect are not supported in earlier versions, while our application has a lot of users with API versions below .  In a bunch of Look &amp; Feel, users of the four, by and large, will receive only Look - this is the main message of the compatibility libraries from Google. <br><br><br><h3>  <font color="#00afdd">New services</font> </h3><br>  With all our enthusiasm for new guidelines, we did not forget about the new features of the application.  In the new version, we have completely revised the concept of the price calendar.  Now it more clearly shows the cost of tickets for the nearest dates and allows you to see the difference between direct flights and flights with transfers. <br><br>  For the convenience of users, we chose the best (fast and cheap) tickets and put them in a separate tab in the issue, which was made possible by borrowing Tapbar from the Google I / O application: | <br><br>  Another innovation was the appearance in the Android version of additional information about the flight, which is a summary statistics: <br><br><ul><li>  what planes perform this flight; </li><li>  average delay of poisoning; </li><li>  the percentage of flights arriving on time; </li><li>  rating punctuality route. </li></ul><img src="https://habrastorage.org/files/23e/fc6/55c/23efc655c27244c484e01e9a1a1a310d.png"><br><br><br><br><h3>  <font color="#00afdd">Animations</font> </h3><br><img src="https://habrastorage.org/files/94c/483/605/94c4836052244a6ca737e19a7ad3b603.gif" width="250" align="left">  We fully animated the appearance of the search form on the main screen and the Floating Action Button at the time of creating a subscription to the direction of interest to the user: <br><br><img src="https://habrastorage.org/files/367/688/75a/36768875a95d4a5295185a5beaed90c0.gif" width="500"><br><br>  Unfortunately, we did not have time to work out all the animations in detail, so to some extent we are forced to use the Google approach, which demonstrates new animations with each fresh release of the application. <br><br><br><h3>  <font color="#00afdd">Impressions of designers and developers</font> </h3><br>  <b>Mark, designer Aviasales</b> <br><br><img src="https://habrastorage.org/files/37e/b75/84a/37eb7584a8d346308f3d8676e37807cd.jpg" align="left" width="100">  <i>Immediately after the announcement of Google, I asked the management for two days to sternly read and understand the basic principles of the new ecosystem.</i>  <i>I came to the office early in the morning and for two days from 8 to 23 sat and took apart every little thing.</i>  <i>I must say that I really mastered the material well and got to work.</i>  <i>For me it was a revelation that the platform, which has always been lagging behind (subjectively by the standards of design and objectively in-app'am), made a serious bid for its visual presentation.</i> <i><br><br></i>  <i>The greatest joy was Meaningful Transitions (transition animations), which I was not allowed to implement due to the release dates.</i>  <i>Now the platform itself has given us the green light on cool interface solutions and animation.</i> <i><br><br></i>  <i>This was my first mistake.</i>  <i>The desire to quickly make the animation led to the fact that at first we implemented not so important things, and only then we started working out the details of the interface.</i>  <i>Immediately we were faced with the problem of the lack of any support from the Corporation of Good, and our developers, suffering, were implementing animations by hand.</i>  <i>This is cool, as pumping on a personal level, but we make the product and the agreed release dates must be respected.</i> <i><br><br></i>  <i>The second wrong step, I subjectively consider strict adherence to Google recommendations.</i>  <i>We passionately observed the guidelines and did everything according to them, but the result seemed to us a bit bland.</i>  <i>The point is not that we wanted fun, just in fact it is not as cute as the pictures from Google.</i> <i><br><img src="https://habrastorage.org/files/e45/808/d4c/e45808d4c3cf44858cbca822f8de80ac.png"><br></i>  <i>In parallel with everything, we looked at examples of applications from Google and often sounded something like: ‚ÄúWhy so?</i>  <i>After all, you yourself teach another. "</i>  <i>There have been many discussions and memes on the Internet about this.</i>  <i>In principle, you can understand the situation: completely new guides, it is difficult to immediately take into account all the points and do everything correctly.</i>  <i>But on the other hand, we, as developers, have suffered with a constant shortage of material and the declared capabilities of the platform.</i> <i><br><br></i>  <i>What happened in the end: a new look at how you can work with interfaces.</i>  <i>Google gave a decent response from Apple, and I personally know a lot of people who switched from the iPhone to, say, the Nexus 5. It's great that the opportunity has appeared to implement interesting animations without losing color.</i>  <i>But there is one big problem: old devices.</i>  <i>People with top models simply do not realize that there are a lot of users in the world with very old phones.</i>  <i>We, as developers, see the real picture: there are many such devices, and we are obliged to support them.</i>  <i>It is painful and sad, often you want to cry in the corner, but so far nothing can be done about it.</i>  <i>It is quite natural that not everyone is after technology.</i> <i><br><br></i>  <i>In general, the release took place, and we received a positive response from users, but there is still a lot of work :)</i> <br><br><img src="https://habrastorage.org/files/8b5/a38/558/8b5a38558abc4fd6ac91ced400c7bf29.jpg" align="left" width="100">  <b>Igor, Android developer Aviasales:</b> <br><br>  <i>I liked the fact that Google clearly set all indents, font sizes, colors, etc.</i>  <i>etc., which need to be used in the application.</i> <i><br><br></i>  <i>- Of the minuses: there is a certain number of new interface elements (bottom sheet, snackbar, floating button), which are actively recommended in guidelines, but are absent in the SDK.</i>  <i>The pain is alleviated a little by the fact that you can find libraries with these elements on the Internet.</i> <i><br><br></i>  <i>- At first, they wrote as if blindly, since Android L came out much later than the guidelines to it, and it was not completely clear what possibilities Google would provide, and what would have to be written by ourselves.</i>  <i>There was only a preview version of Android L, for which there was little that was clear.</i> <br><img src="https://habrastorage.org/files/780/c9e/48b/780c9e48b4714a148439ab914b266303.png"><br><br><img src="https://habrastorage.org/files/25a/b4f/c7a/25ab4fc7a7784d24b4bc56a0d2ad9218.jpg" align="left" width="100">  <b>Andrei, Android developer Aviasales</b> <br><br>  <i>- In the end, not everything is so bad - to support 4/5 has become much easier than 2/4.</i>  <i>To developers who are trying to support 2/4/5, I strongly recommend joining the minSdkVersion14 union.</i> <br><br><br><br><h3>  <font color="#00afdd">Instead of output</font> </h3><br>  Impressions of the new design philosophy of Google, if you do not touch on some of the nuances, are positive, because Google realized that the design is an integral part of the application, as well as the technical component.  Having released detailed guidelines, they simplified the interaction between the team by building a kind of bridge between the designer and the developers. <br><br>  We believe that Material Design is a huge leap towards quality content on Google Play. <br><br>  Our previous posts: <br><br>  <b><font color="#00afdd">"</font></b> <a href="http://habrahabr.ru/company/aviasales/blog/253883/">And we have the SDK, and you?</a> <br><br>  BUT <a href="http://www.aviasales.ru/"><img src="https://habrastorage.org/files/0e9/fb7/cb2/0e9fb7cb2b84442cb9dde63a535556e1.png"></a> </div><p>Source: <a href="https://habr.com/ru/post/257063/">https://habr.com/ru/post/257063/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../257049/index.html">Extend Selenium WebDriver. Writing a robot for the RSDN, not thinking about the context</a></li>
<li><a href="../257051/index.html">Html-maker - convenient and easy generation of html using coffeescript</a></li>
<li><a href="../257053/index.html">The progress of the heavy task in PHP</a></li>
<li><a href="../257055/index.html">SMART Life (cont.)</a></li>
<li><a href="../257057/index.html">Implementing the ws2812b protocol on ATmega</a></li>
<li><a href="../257065/index.html">How we launched the weather probe in the Urals. Part 1</a></li>
<li><a href="../257067/index.html">Chips with subliminal operating supply voltages - a revolutionary approach to reducing current consumption</a></li>
<li><a href="../257069/index.html">Open accounting in the Ministry of Education and Science of Ukraine</a></li>
<li><a href="../257071/index.html">Mini-review of libraries for Reflection in C ++</a></li>
<li><a href="../257073/index.html">Mini API on Lumen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>