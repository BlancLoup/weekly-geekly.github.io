<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Ideal architecture</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="There are many different views on the development of architecture and design of modern applications. Some architects seek to think through every detai...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Ideal architecture</h1><div class="post__text post__text-html js-mediator-article">  There are many different views on the development of architecture and design of modern applications.  Some architects seek to think through every detail, paint the use cases of all classes and modules, analyze a million possible ways to use them, document them all, and then proceed to the coding stage. <br><br>  Others, on the contrary, believe that it is ‚Äútoo late to think‚Äù and it‚Äôs time to ‚Äúdo it‚Äù long ago, so they rush to the barricades with shouts of ‚ÄúHurray‚Äù, giving tons of unnecessary code to the mountain.  Like any extreme, such an approach does not lead to anything good.  But, as in many other cases, there is an intermediate option when due attention is paid to design and architecture, when they are not placed at the center, but used to identify the right abstractions and search for compromises in the conflicting requirements of the customer. <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      When it comes to class design, module architecture, or the responsibility of different layers of an application, the concepts of cohesion and coupling will play a decisive role in their design.  Even Christopher Alexander, the ‚Äúfather‚Äù of design patterns, wrote that the main task in decomposing a system is the fulfillment of two conditions: (1) maximizing connections within components ( <i>high internal coupling</i> , tight internal cohesion) and (2) minimizing connections between components ( loose external coupling, loose external coupling). <br><br>  <font color="#526e66"><b>NOTE</b></font> <font color="#526e66"><br></font>  <font color="#526e66">More information about the history of the emergence of such a unique concept as design patterns (design patterns) can be found in the article:</font> <a href="http://sergeyteplyakov.blogspot.com/2010/01/blog-post.html"><font color="#526e66">Design patterns.</font></a>  <a href="http://sergeyteplyakov.blogspot.com/2010/01/blog-post.html"><font color="#526e66">Success story</font></a> <font color="#526e66">.</font> <br><br>  Thanks to Bob Martin and some other well-known personalities, principles appeared in our arsenal, such as SOLID, which make it possible to determine more precisely (or, perhaps, more formally) whether the system design meets the above principles or not.  I usually, before moving on to "heavy artillery", in the form of such principles I use a simpler approach.  I ask myself the following question: ‚ÄúBut how realistic is it to cover the main functionality of this class with modular tests?‚Äù If the answer is positive, then surely this class has a sufficiently <i>high cohesion</i> and <i>low coherence</i> with other classes.  If even a purely theoretical writing of a unit test is impossible, since the responsibility of the class is not clear, it contains a bunch of fields and methods unrelated to each other, and depends on two dozen other entities, then there is clearly something wrong with the design. <br><br><img src="https://habrastorage.org/storage1/da3abea8/2a7164b7/589a1abb/62a24906.png"><br><br>  Figure 1 - And how to test this miracle?  But in real life there can be several times more connections <br><br>  <font color="#526e66"><b>TIP</b></font> <font color="#526e66"><br></font>  <font color="#526e66">Use the class ‚Äútestability‚Äù principle as a ‚Äúlitmus test‚Äù of a good class design.</font>  <font color="#526e66">Even if you do not write a single line of test code (although in vain!), The answer to this question in 90% of cases will help you understand how ‚Äúgood‚Äù or ‚Äúbad‚Äù everything is with its design.</font> <br><br>  When it comes to the architecture of an application or module, ‚Äútestability‚Äù cannot be a quality criterion.  Of course, we can create integration tests for entire subsystems, but they will most likely provide very little useful information about the adequacy of their architecture. <br><br>  When deciding architectural issues, such as choosing a platform for building distributed applications, choosing a UI framework or data access layer architecture, it is reasonable to ask yourself another question: ‚ÄúWhat if the decision made now is wrong?‚Äù Or ‚ÄúIn general, should I make the final decision right now? " <br><br>  <i>Abstraction</i> and <i>encapsulation</i> are still our best friends and that‚Äôs how they are perfectly applicable to individual classes as well as whole modules or application layers.  Using WCF should be maximally hidden in the communication layer, the UI framework should not stick out of all base classes, and the data access layer architecture should not impose restrictions on the business classes of the application.  Of course, according to the ‚Äú <a href="http://sergeyteplyakov.blogspot.com/2011/10/blog-post_26.html">law of leaky abstractions,</a> ‚Äù occasionally unnecessary details will still be sneaking into other layers of the application, but we should at least try to limit them. <br><br>  Good architecture should not be thought out in detail;  A good architecture must be thought out well enough to understand how much architectural errors in one part of an application will break down at all other logically unrelated modules. <br><br>  <font color="#526e66"><strong>TIP</strong></font> <font color="#526e66"><strong><br></strong></font>  <font color="#526e66">If the "litmus test" of the quality of design classes was their testability, then the litmus test of the quality of architecture can be considered its "flexibility."</font>  <font color="#526e66">Ask yourself: ‚ÄúWhat will happen if the current architectural solution turns out to be wrong?‚Äù, ‚ÄúHow many modules will undergo changes?‚Äù.</font>  <font color="#526e66">Whenever possible, architectural solutions should not be ‚Äúcut down in stone‚Äù, and the consequences of architectural errors should be reasonably limited.</font> <br><br><h4>  Retreat from the topic.  Clean Architecture by Bob Martin </h4><br><br>  Quite a lot has been written about the importance of a pragmatic view of architecture.  Grady Booch in her famous book repeatedly stops on the importance of abstraction and encapsulation at various levels.  In the remarkable book ‚Äú97 etudes for software system architects,‚Äù many authors often talk about the dangers of ‚Äúcutting solutions in stone‚Äù and the advantages of simplicity over flexibility in architecture. <br><br>  One of the last famous authors, the subject of architecture was raised by Bob Martin.  In one of his presentations, as well as in one of his posts about architecture, Bob wrote the following: ... <i>Good architecture allows you to DELAY key decisions ... Good architecture maximizes the number of NOT-MAKED decisions</i> . <br><br>  Of course, I do not 100% agree with the old Bob that <i>all</i> architectural solutions can be postponed, but I agree that good architecture <i>allows us</i> to postpone <i>many</i> of them.  And here even the matter is not only and not so much in the time of making these decisions, but in the cost of their subsequent corrections. <br><br>  <font color="#526e66"><b>NOTE</b></font> <font color="#526e66"><br></font>  <font color="#526e66">The presentation of Bob Martin, which I mentioned above, can be found</font> <a href="http://dl.dropbox.com/u/4730299/Architecture%2520the%2520lost%2520years.pdf">here</a> <font color="#526e66">, a short video, with a discussion of this issue,</font> <a href="http://cleancoder.posterous.com/architecture-deference">here</a> <font color="#526e66">.</font>  <font color="#526e66">And here are a few Bob posts on the same topic:</font> <a href="http://blog.8thlight.com/uncle-bob/2011/11/22/Clean-Architecture.html">Clean Architecture</a> <font color="#526e66">and</font> <a href="http://blog.8thlight.com/uncle-bob/2011/09/30/Screaming-Architecture.html">Screaming Architecture</a> <font color="#526e66">.</font> <br><br><h4>  Conclusion </h4><br><br>  I strongly advise readers not to take the above principles as a ‚Äúsilver bullet‚Äù, which is guaranteed to give you an answer to the question of how to get the ‚Äúperfect design‚Äù or ‚Äúperfect architecture‚Äù.  Such questions can only show gaps, but cannot show the right path, they can only ignite an alarming light in your head and encourage you to more thoroughly analyze the design of a class or architectural decisions. </div><p>Source: <a href="https://habr.com/ru/post/133287/">https://habr.com/ru/post/133287/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../133280/index.html">HTC Desire S - video footage</a></li>
<li><a href="../133281/index.html">Quick start - we program on Go under Windows - the Environment setup</a></li>
<li><a href="../133282/index.html">TripAdvisor and Blackmail</a></li>
<li><a href="../133284/index.html">Microsoft Research Computer Vision Contest for Kinect</a></li>
<li><a href="../133286/index.html">A network of sites that spread viruses under the guise of instructions and firmware for mobile phones</a></li>
<li><a href="../133288/index.html">Cleaning Youtube from trash</a></li>
<li><a href="../133289/index.html">For night owls: Steve Blank live from LA</a></li>
<li><a href="../133290/index.html">Calendar Feed for N9: what it is and how it was developed</a></li>
<li><a href="../133291/index.html">The 144-core Charles Moore processor went on sale for $ 20</a></li>
<li><a href="../133293/index.html">Simon A-20. We live with Arduino not stupid</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>