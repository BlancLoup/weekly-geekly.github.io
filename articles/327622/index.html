<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Retail Sales Model</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="good day 
 Automation of retail trade is a very typical task that various people of different specialties encounter in a particular profile. According...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Retail Sales Model</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/0f1/94a/d35/0f194ad3585d1939eba6e1a3c5b4b512.jpg" alt="image"><br><br><h2>  good day </h2><br>  Automation of retail trade is a very typical task that various people of different specialties encounter in a particular profile.  Accordingly, most of the technical problems arising in the context of this task are worked out quite thoroughly. <br><br>  Nevertheless, we decided to take the liberty to consider the conceptual model of retail sales accounting. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The main subject of this article is the mechanism for transforming primary sales data into accounting documents of the ERP system.  The article abstracts as much as possible from the specific systems that implement the described techniques, but the terminology used is partially borrowed from the <a href="https://github.com/papyrussolution/OpenPapyrus">open source ERP system OpenPapyrus</a> (the approaches described there have been implemented and have worked perfectly for many years). <br><br>  Despite the fact that I emphasize the market segment of retail sales, the same scheme applies equally to the restaurant business and, in part, to other segments of the business to be automated. <br><a name="habracut"></a><br><h2>  Requirements </h2><br>  First of all, it should be determined, at least in general, the list of requirements imposed by various divisions of the retail enterprise on the infrastructure of automated accounting (in the context of our discussion): <br><br><ul><li>  Availability of tools for analyzing primary sales data. </li><li>  Availability of consistent sales data that can be compared with other indicators. </li><li>  Mechanisms for the automatic transformation of sales information into accounting and financial indicators. </li><li>  Providing the most reliable baseline data to predict future demand. </li><li>  Techniques to control the automatic deduction of raw materials used for their own production of products, based on sales results. </li><li>  Various tricks for implementing all sorts of data consolidations, import and export. </li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/05a/503/85b/05a50385b832b1051cc019be0a134be6.png" alt="OpenPapyrus Retail Sales Model"><br><br><h2>  Now to the point </h2><br>  The diagram shows the main components of retail sales accounting and the <s>curves of the</s> direction of their interaction.  It is important to note that none of the above components are optional: an attempt to remove one or more of them will lead to the ‚Äúdisability‚Äù of the sales accounting technology in a retail enterprise.  Next, I will describe each of the elements of the scheme and at the same time argue the previous statement. <br><br><h3>  general description </h3><br>  If we consider the process in general, the mechanism of data transformation can be described as follows: <br><br><ol><li>  Primary sales data comes to the ERP system from point-of-sale management subsystem. </li><li>  Incoming data about checks are usually grouped into cash sessions (shifts).  If not (such cases are extremely rare), then we must artificially group them. </li><li>  Cash sessions are grouped into super sessions, which will be discussed in more detail below. </li><li>  The next phase is the consolidation of cash checks in the aggregator.  Again, it is described in more detail below. </li><li>  The final phase: the transformation of consolidated sales data into accounting documents, modifying the balance sheet parameters of the enterprise (commodity balances, accounting entries, etc.). </li></ol><br><h3>  Cashier Checks </h3><br>  Actually, the primary data of retail sales, passing through point-of-sale, are represented by cash vouchers.  Here, the public is quite prepared because I do not see any reason to go deep into particular structures of cash vouchers and other technical nuances, especially since this goes beyond the scope of the article. <br><br>  I will list the essential, in the context of the article, the features of cash checks: <br><br><ul><li>  each check represents a sale ‚Äúas is‚Äù: nothing is grouped in it (for goods, for example), the time and place of sale is presented as accurately as possible. </li><li>  cash checks as a data object should be the ‚Äúproperty‚Äù of the infrastructure system that implements the accounting model under discussion.  In other words, if the system relies on the fact that checks are stored somewhere in another system (for example, a cash terminal server) or, even more, are not stored anywhere else after aggregation, then our entire structure falls. </li></ul><br><h3>  Cash session </h3><br>  A grouping object that combines a sample of cash checks for a period of time.  In Russian practice, almost (but not absolutely) cash session always coincides with the so-called Z-report (or interchangeable) of cash. <br><br>  Cash sessions have the following important properties: <br><br><ul><li>  each recorded check belongs to one and only one cash session. </li><li>  there may be special types of checks that are not tied to a specific session, but such checks do not in any way affect the balance sheet of the company.  For example, pending checks, pending confirmation or further change, abnormal checks (resulting from a failure and for this reason not accepted). </li><li>  each cash session is tied to a specific cash register.  Thus, if you have a hypermarket with 30 checkout hubs that have punched at least one check in a day, then you should get 30 checkout sessions per day. </li></ul><br><h3>  Cash Super Sessions </h3><br>  An important, complex and not obvious component of our scheme.  Super Sessions group ordinary cash session, discussed above.  This group has several objectives: <br><br><ul><li>  Reducing the fragmentation of sales at cash registers for the final write-off and turning into documents. <br>  In order to present the importance of this function, it is enough to recall that, say, plastic bags are sold throughout the day at all the box office stores.  Without super sessions, we get the number of accounting transactions for the sale of packages in an amount equal to the number of operating cash desks.  It is clear that the HDD will endure, but over the years, the overall performance will begin to fall, and even to understand such data is not a hurry. <br><br></li><li>  Solving the problem of round-the-clock work.  This problem is not evident in a cursory study of the task of building accounting in the enterprise, but it is very painful.  The bottom line is that accounting documents are tied to dates, while cash checks and cash sessions (shifts) are tied to absolute time.  As a result, it may happen that the write-off documents of cash sessions are ‚Äúscattered‚Äù between neighboring dates at random and when receiving reports it is very difficult to understand we see sales, say, for the whole month or for a month without a pair of cash desks closed on the first day of the next month, or with cash registers closed last month, but maybe in the current month. <br><br>  Super Sessions allow you to determine these ambiguities by controlling the aggregation mechanism of single cash sessions. <br><br></li><li>  Another difficulty ordered by the supersessions lies even deeper.  If we are talking about automating a restaurant or a super- (hyper-) market that has its own production, written off on the fact of sale (reverse accounting of production), then according to the results of cash sessions, we will have to generate MRP tables and write off production in relation to these sessions. <br><br>  So, the cash supersessions greatly simplify this task by structuring many ordinary cash sessions and arranging them in time (the problem described in the previous paragraph has an even more dramatic effect on production write-down than on receiving reports). <br></li></ul><br>  For the cash super sessions, since they are an artificial object, the extreme uniqueness of the algorithm and the rules for including ordinary sessions are extremely important. <br><br><h3>  Aggregator </h3><br>  The next element of our model, uncomplicatedly called an aggregator, as in a good pipeline, performs the function of grouping data from the cash vouchers included in the supersession already on more subtle attributes: goods, serial numbers and, possibly, warehouses. <br><br>  The aggregator is the last echelon of preprocessing primary sales data before the final write-off. <br><br>  The following question is quite expected: why should the aggregator be singled out as a separate component of the retail sales accounting model?  Isn't it easier to group everything in a transient-object and put it on the ‚Äúdepletion‚Äù module of the write-off.  Unfortunately no.  The aggregator is a persistent object and performs an important function in managing the accounting deficit and in decommissioning production (mentioned above). <br><br>  In the event of a deficit (for some reason, a greater quantity of goods passed through the cash registers, rather than being on the accounting balance), the aggregator fixes it and allows taking measures to eliminate it.  It can be both manual actions and automatic. <br><br>  <a href="https://habrahabr.ru/post/165447/">I once put on display a detailed overview of the problems of accounting deficit</a> .  Therefore, I will not repeat his theses here. <br><br><h3>  Write-off documents </h3><br>  The final component of the model and, in fact, the ultimate goal of the process: accounting documents, write-off balances, generating accounting entries, displaying the processes of production of its own products, etc. <br><br>  Documents write off cash sessions, it turns out, are divided into several classes that should be considered: <br><br><h4>  Retail Documents </h4><br>  The most significant and most understandable class of documents written off.  These are simply documents reflecting the fact of the sale of goods through the cash desks, grouped by super sessions, goods, serial numbers, etc.  When party accounting each line of such a document is tied to the lot (party). <br><br><h4>  Returns Documents </h4><br>  Addition to the previous class, reflecting refunds through cash. <br><br><h4>  The final sum document of the cash session </h4><br>  An optional class of documents that carries into the accounting plane all the necessary amounts associated with cash sessions. <br><br>  The reasons for which such documents can be claimed stem from the fact that when translating cash checks into debit documents, there may be sum differences related to the following factors: <br><br><ul><li>  Accounting deficit </li><li>  Trivial rounding problems (which, however, can be eliminated in other ways) </li></ul><br>  In addition, the sum document allows you to reflect many of the parameters of cash sessions, which are problematic to include in the sales documents write-offs.  As such: the differentiation of amounts according to payment methods, detailed discounts, etc. <br><br><h4>  Production write-off documents </h4><br>  The above-mentioned production write-off based on sales results finds its final embodiment in this class of documents.  In general, the technology of such a write-off is quite complicated, precise, and deserves a separate large article.  Here I will only inform that the said documents relate to the so-called type of product modification: they contain both consumable raw materials and manufactured goods with cost balancing and other gusto. <br><br><h4>  Automatic shortage compensation documents </h4><br>  Another tricky optional class of documents written off cash sessions, designed to solve the problem of accounting deficit "through the knee."  If the corresponding mechanism is allowed by the management of the enterprise, then the subsystem of writing off cash sessions can simply create artificial documents that come into deficient positions. <br>  In addition to such vulgar application, this class of documents can perform more respectable functions.  For example, to automatically transfer items stored in warehouses other than the main depreciation warehouse (trading floor). <br><br><h2>  Conclusion </h2><br>  As a conclusion, I will give several advantages of our model. <br><br><ul><li>  Scalability: the model is applicable for retailers of any scale - from a single store to chains from any number of stores. </li><li>  Universality: this model works in different business segments.  I mentioned the automation of retail and restaurant automation, I will add to this the excellent adaptability of the model for the pharmacy business (there are a number of nuances that distinguish this segment about ordinary retail) and, not surprisingly, beauty services and fitness clubs. </li><li>  Manageability and reversibility: data transformation processes in the described model, being the most automatic, allow at the same time to control each of the stages. </li><li>  Efficiency: the considerations given in the article provide compact data storage and high processing speed.  For large enterprises, this is a significant factor. </li></ul><br>  Thanks for attention. </div><p>Source: <a href="https://habr.com/ru/post/327622/">https://habr.com/ru/post/327622/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../327612/index.html">In 5 minutes, make Single Page Application available for Google and Facebook.</a></li>
<li><a href="../327614/index.html">Explanation of Neural Turing Machines</a></li>
<li><a href="../327616/index.html">Extrasensory ability in design, which I have lost</a></li>
<li><a href="../327618/index.html">Recovering files after a Trojan cryptographer</a></li>
<li><a href="../327620/index.html">What awaits us in ReactOS version 0.4.5?</a></li>
<li><a href="../327624/index.html">MeteorJS, Nginx, mongodb, iptables ... production</a></li>
<li><a href="../327628/index.html">Automated generation of circuit components from PDF files for Altium Designer</a></li>
<li><a href="../327630/index.html">Tmux Cheat Sheet (Terminal Multiplexer)</a></li>
<li><a href="../327636/index.html">Introduction to cryptography and encryption, part two. Lecture in Yandex</a></li>
<li><a href="../327638/index.html">Nodejs MVC framework or regular bike</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>