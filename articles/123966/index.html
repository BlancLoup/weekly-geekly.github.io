<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to improve the readability of our Android code or use android-annotations</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In a tiny project I decided to try this library and see what happens. I want to tell about this experience in this topic. 


 Library android-annotati...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to improve the readability of our Android code or use android-annotations</h1><div class="post__text post__text-html js-mediator-article">  In a tiny project I decided to try this library and see what happens.  I want to tell about this experience in this topic. <br><a name="habracut"></a><br><br>  Library <a href="http://code.google.com/p/androidannotations/">android-annotations</a> allows you to reduce the amount of code for such actions as: <br>  1. Resource load <br>  2. Search for a view by ID (findViewById method) <br>  3. Linking handlers to buttons <br>  4. Getting services (links to classes of services), background processing and other useful things in the simplest form. <br><br>  <b>How to install.</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Download from the link above two jar-a: androidannotations-XXXjar (annotation processor) and the api itself: androidannotations-XXX-api.jar.  Next, go to Eclipse in the project properties in the Java Compiler, select Annotation Processors, then put a check in this menu - Enable project specific settings.  After that, go to the Factory Path sub-item, put the same checkbox again and click on Add externak JARs to add the path to the annotation processor. <br>  That's not all.  After this, you need to go to the Java Build Path item and add androidannotations-XXX-api.jar in the Libraries tab of this JAR.  Now everything is set up and ready. <br><br>  <b>An example of use.</b> <br><br>  This library requires the following from you: when you use annotations from this library, then your activation in the manifest should end with a "_".  I mean, you have SMSSender activations, then you need to add SMSSender_ activations to the manifest.  That's it. <br><br>  Further I will give a piece of an example: <br><pre><code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">import</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">com</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.googlecode</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.androidannotations</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.annotations</span></span>.*; <span class="hljs-selector-tag"><span class="hljs-selector-tag">import</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">com</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.googlecode</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.androidannotations</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.annotations</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.res</span></span>.*; @<span class="hljs-keyword"><span class="hljs-keyword">EActivity</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">R</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">layout</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">main</span></span>) // setContentView() public class SMSSenderActivity extends Activity { @<span class="hljs-keyword"><span class="hljs-keyword">ViewById</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">R</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">ok_button</span></span>) // findViewById() Button buttOk; @<span class="hljs-keyword"><span class="hljs-keyword">StringRes</span></span> //   R.string.message String message; ... @<span class="hljs-keyword"><span class="hljs-keyword">Click</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">R</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">ok_button</span></span>) //     void okClickHandler(){ ... }</code> </pre> <br><br>  Beautiful isn't it?  Note that we do not have the usual onCreate method and everything works fine!  But nothing prevents him from adding, like other methods of activation states. <br><br>  How it works?  Take a look at the wiki: ‚ÄúAndroidAnnotations works in a very simple way.  It automatically adds an extra compilation step that generates the source code, using the standard Java Annotation Processing Tool. ‚ÄùActually, this is why you need to add a prefix to the manifest or when the activation starts.  Also note that if you do not specify id, the resource will be loaded by the name of the variable, which is also convenient for readability of the code. <br><br>  A more complete example with many possibilities is presented here: <br>  <a href="">code.google.com/p/androidannotations/source/browse/trunk/HelloWorldEclipse/src/com/googlecode/androidannotations/helloworldeclipse/MyActivity.java</a> <br><br>  It should be noted that the @BeforeViews annotation (as in the code from the link above) I did not find, but there is @BeforeCreate. <br><br>  Here are some annotations available: <br>  @ColorRes <br>  @StringRes <br>  @AnimationRes <br>  @BooleanRes <br>  @ColorStateListRes <br>  @DimensionRes <br>  @DimensionPixelOffsetRes <br>  @DimensionPixelSizeRes <br>  @DrawableRes <br>  @IntArrayRes <br>  @IntegerRes <br>  @LayoutRes <br>  @MovieRes <br>  @TextRes <br>  @TextArrayRes <br>  @StringArrayRes <br>  <a href="https://habrahabr.ru/users/extra/" class="user_link">Extra</a> <br>  @SystemService <br>  <a href="https://habrahabr.ru/users/background/" class="user_link">Background</a> <br>  @UiThread <br>  @UiThreadDelayed <br>  @RoboGuice <br><br>  And many others.  Yes, you can share RoboGuice with the library. <br>  Many things this nice library really makes it easier, reducing the amount of routine code, which is constantly repeated. <br>  Many examples and docks can be found on the project homepage. <br><br>  <b>Conclusion</b> <br><br>  In conclusion, I want to add an interesting point that I noticed for the week: when you declare a &lt;uses-tag&gt; tag, you need to describe it BEFORE the application tag, otherwise the rights will not be applied to the application.  At least I had it so three times, which speaks of the non-randomness of this moment.  So, be careful! <br><br>  As usual, all suggestions and questions we write in a personal. <br>  Who used this library to describe your experience, it will be all good. <br><br>  Also forgive me to choose which topic will be interesting to read first: <br>  1) Authorization Vkontakte through Android: the publication of entries on the wall. <br>  2) Processes and threads in Android: we write AsyncTask correctly. <br>  3) Putting together a full-fledged application with Scripting Layer for Android (SL4A) <a href="http://code.google.com/p/android-scripting/">code.google.com/p/android-scripting</a> <br>  4) Your option. </div><p>Source: <a href="https://habr.com/ru/post/123966/">https://habr.com/ru/post/123966/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../123957/index.html">MIT researchers create paper solar panels</a></li>
<li><a href="../123959/index.html">Undocumented Google Plus Features: Text Layout</a></li>
<li><a href="../123960/index.html">Droider Chart 60. Hit parade of Android applications. Special edition</a></li>
<li><a href="../123963/index.html">ATMs for the illiterate</a></li>
<li><a href="../123964/index.html">Rambler Cards Restarted in New Quality</a></li>
<li><a href="../123967/index.html">PHP contract generation system with 1C intergation</a></li>
<li><a href="../123969/index.html">PlayStation Plus: an additional service category must have</a></li>
<li><a href="../123970/index.html">Automatic installation of Citrix XenServer</a></li>
<li><a href="../123972/index.html">Creating a single-page ajax application with support for the History API (and without it)</a></li>
<li><a href="../123973/index.html">How to determine the cost of a startup?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>