<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Remote presentation control from a smartphone</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I recently did a report (on Percona Live ). And one night (jet-lag after all) I thought that it would be nice to somehow see my comments on the slides...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Remote presentation control from a smartphone</h1><div class="post__text post__text-html js-mediator-article">  I recently did a report (on <a href="http://www.percona.com/live/mysql-conference-2012/">Percona Live</a> ).  And one night (jet-lag after all) I thought that it would be nice to somehow see my comments on the slides ‚Äî hints ‚Äî and switch slides without going to the laptop.  Wonder-device, so that the slides switch and the comments showed, I did not have.  But there was a smartphone with Android.  Google Market disappointed.  Most of these applications only worked with PowerPoint, for LibreOffice I found only one thing, paid, and it looked somehow wrong. <br><br>  But there is a simple solution - the browser.  You can raise the http-server on a laptop, enter from the phone, and switch slides by links.  And it will work not only with Android, but also with apple and with wind instruments.  Yes, in general, the smartphone is not needed, you can even go through WAP, or from another laptop. <br><a name="habracut"></a><br>  It turned out pretty simple.  About 70 lines on python, no external dependencies (almost). <br><br>  Comments are read from the file (I didn‚Äôt bother with pulling them out of the presentation).  <b>Raise BaseHTTPServer</b> on some port, I try everything from 8000 to 9000 in random order until it works.  According to the instructions from StackOverflow, we determine our IP.  And in addition, we generate a large random number - it will be part of the URL, so that no one from the audience will switch slides to us.  As a minor convenience, I open the browser to show the QR code for access to the server.  If you don‚Äôt have access to the Internet during the conference, it‚Äôs not a problem, you‚Äôll have to enter the URL with your hands, that's all.  And for work enough internal wifi. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      According to the instructions for <b>BaseHTTPServer</b> , to handle GET requests, you need to create a <b>do_GET</b> method.  We create.  First of all, you need to check that there is our random number.  If there is, and the URL ends with next or prev, then we simulate pressing a space or, respectively, backspace, and return a page with comments for the next or previous page. <br><br>  I have <b>fvwm</b> , so with the imitation of clicking the problems have arisen.  For other window managers, you can use a separate program or even a special module for python, there are some - I checked. <br><br>  Well, actually, that's all.  Only the font in the settings of the mobile browser should be made larger.  And the comments should be shorter, otherwise they should be read for a long time - unpleasant pauses are obtained during the report.  Yes, and the timeout for turning off the screen is removed on the smartphone and in the laptop. <br><br>  The test in combat conditions was successful. <br><br><pre><code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/python import sys import os import random import socket import BaseHTTPServer import re handler_class=BaseHTTPServer.BaseHTTPRequestHandler token="/" + str(random.randint(0, sys.maxint)) + "/" page = 1 validate = re.compile(token + "(prev|next)$") def send_key(key): os.system("FvwmCommand 'All (VCLSalFrame) FakeKeypress press {}'".format(key)) class Handler(BaseHTTPServer.BaseHTTPRequestHandler): def link(self,s,n): if n &lt; 0 or n &gt;= len(data): return " " return '&lt;a href="{}{}"&gt;{}&lt;/a&gt;'.format(token,s,s) def do_GET(self): cmd = validate.match(self.path) if cmd is None: self.send_response(404) self.send_header("Content-type", 'text/html') self.end_headers() self.wfile.write('&lt;h1&gt;OK&lt;/h1&gt;') return global page if cmd.group(1) == 'prev' and page &gt; 0: page = page - 1 send_key('BackSpace') elif cmd.group(1) == 'next' and page &lt; len(data)-1: page = page + 1 send_key('space') self.send_response(200) self.send_header("Content-type", 'text/html; charset=utf-8') self.end_headers() self.wfile.write(""" {pagenum} - {next} &lt;hr&gt; {data} &lt;hr&gt; {prev} - {pagenum} """.format(prev = self.link('prev', page - 1), pagenum = page + 1, next = self.link('next', page + 1), data = data[page])) def read_file(s): with open(s) as f: return re.split('--- *\n?', f.read()) def ip(): s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM) s.connect(('192.168.1.1', 0)) # fake, but nobody cares return s.getsockname()[0] def make_url(port): url="http://{}:{}{}prev".format(ip(), port, token) print url os.system("firefox 'http://chart.apis.google.com/chart?cht=qr&amp;chs=200x200&amp;chl={}' &amp;".format(url)) def run(): for port in random.sample(xrange(8000, 9000),1000): try: httpd = BaseHTTPServer.HTTPServer(('',port), Handler) httpd.server_activate() make_url(port) httpd.serve_forever() except socket.error, e: if e.errno not in (98,): print e exit() except KeyboardInterrupt: print "\nExiting" exit() data = read_file('notes.txt') print "Got {} slides".format(len(data)) run()</span></span></code> </pre> </div><p>Source: <a href="https://habr.com/ru/post/132331/">https://habr.com/ru/post/132331/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../132327/index.html">MTS-Ukraine will introduce a charge for confirmation of SMS delivery</a></li>
<li><a href="../132328/index.html">Free IT Brunch Online Conference ‚ÄúVisiting Agile Practitioners‚Äù</a></li>
<li><a href="../132329/index.html">Do you use a tablet?</a></li>
<li><a href="../13233/index.html">VMWare accused of violating the license of the Linux kernel</a></li>
<li><a href="../132330/index.html">The first industry conference on email marketing: results</a></li>
<li><a href="../132332/index.html">‚ÄúGeekFest 2011: IT days in Irkutsk‚Äù</a></li>
<li><a href="../132333/index.html">Once again about delegates in C ++</a></li>
<li><a href="../132334/index.html">Utility for structured cabling system from AMP netconnect</a></li>
<li><a href="../132335/index.html">Google has added a +1 button to search by image.</a></li>
<li><a href="../132337/index.html">Create a picture counter</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>