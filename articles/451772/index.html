<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What is special about Cloudera and how to cook it</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The market for distributed computing and big data, according to statistics , is growing by 18-19% per year. So, the question of choosing software for ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>What is special about Cloudera and how to cook it</h1><div class="post__text post__text-html js-mediator-article">  The market for distributed computing and big data, according to <a href="https://www.statista.com/statistics/254266/global-big-data-market-forecast/">statistics</a> , is growing by 18-19% per year.  So, the question of choosing software for these purposes remains relevant.  In this post we begin with why distributed computing is needed, we‚Äôll discuss in more detail the choice of software, tell you about using Hadoop with Cloudera, and finally talk about choosing hardware and how it affects performance in various ways. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/61a/29a/7fb/61a29a7fb144f23259e9839751932743.png"></div><a name="habracut"></a><br>  Why do we need distributed computing in ordinary business?  Everything is simple and difficult at the same time.  Simply - because in most cases we perform relatively simple calculations per unit of information.  It is difficult - because there is a lot of such information.  Lots of.  As a result, it is necessary to <a href="https://habr.com/ru/company/bitrix/blog/218003/">process terabytes of data in 1000 streams</a> .  Thus, usage scenarios are fairly universal: calculations can be used wherever a large number of metrics need to be taken into account on an even larger data array. <br><br>  One recent example: the Dodo Pizza pizza chain <a href="https://habr.com/ru/company/dodopizzaio/blog/442280/">determined,</a> based on an analysis of customer orders, that when choosing a pizza with an arbitrary filling, users usually operate with only six basic sets of ingredients plus a pair of random ones.  In accordance with this pizzeria rigged purchases.  In addition, she managed to better recommend additional products to users that were offered at the order stage, which made it possible to increase profits. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Another example: the <a href="https://habr.com/ru/company/pochtoy/blog/428509/">analysis of</a> commodity positions allowed the H &amp; M store to reduce the range in individual stores by 40%, while maintaining the level of sales.  This was achieved by eliminating poorly selling positions, and in the calculations seasonality was taken into account. <br><br><h2>  Tool selection </h2><br>  Industry standard computing of this kind is Hadoop.  Why?  Because Hadoop is an excellent, well-documented framework (the same Habr issues many detailed articles on this topic), which is accompanied by a whole set of utilities and libraries.  You can submit to the input huge sets of both structured and unstructured data, and the system itself will distribute them among the computing powers.  Moreover, these same powers can be increased or deactivated at any time - that same horizontal scalability in action. <br><br>  In 2017, the influential consulting company Gartner <a href="https://www.gartner.com/en/newsroom/press-releases/2017-09-28-gartner-reveals-the-2017-hype-cycle-for-data-management">concluded</a> that Hadoop would soon become obsolete.  The reason is quite banal: analysts believe that companies will begin to migrate en masse to the cloud, as there they will be able to pay on the fact of using computing power.  The second important factor supposedly capable of ‚Äúburying‚Äù Hadoop is the speed of work.  Because options like Apache Spark or Google Cloud DataFlow are faster than MapReduce, the underlying Hadoop. <br><br>  Hadoop rests on several whales, the most notable of which are MapReduce technology (a data distribution system for calculations between servers) and the HDFS file system.  The latter is specifically designed to store information distributed between cluster nodes: each block of a fixed value can be placed on several nodes, and replication ensures the stability of the system to failures of individual nodes.  Instead of a file table, a special server called NameNode is used. <br><br>  The illustration below is a map of the MapReduce.  At the first stage, the data are separated according to a certain sign, at the second - distributed over the computing power, at the third - the calculation takes place. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/233/5de/03a/2335de03a0e09aaf1ebb6d7d13022599.png"></div><br>  Initially, MapReduce was created by Google for the needs of its search.  Then MapReduce went into free code, and Apache took over the project.  Well, Google gradually migrated to other solutions.  An interesting nuance: at the moment Google has a project called Google Cloud Dataflow, positioned as the next step after Hadoop, as a quick replacement. <br><br>  Upon closer inspection, it can be seen that Google Cloud Dataflow is based on the Apache Beam version, while the Apache Beam includes a well-documented Apache Spark framework, which makes it possible to speak of almost the same speed of decision making.  Well, Apache Spark works fine on the HDFS file system, which allows you to deploy it on Hadoop servers. <br><br>  Add here the volume of documentation and ready-made solutions for Hadoop and Spark against Google Cloud Dataflow, and the choice of tool becomes obvious.  Moreover, engineers can decide for themselves which code, under Hadoop or Spark, they can perform, focusing on the task, experience and qualifications. <br><br><h2>  Cloud or local server </h2><br>  The tendency to a universal transition to the cloud gave rise to even such an interesting term as Hadoop-as-a-service.  In such a scenario, the administration of connected servers has become very important.  Because, alas, despite its popularity, pure Hadoop is quite a complicated tool for tuning, since a lot of things have to be done by hand.  For example, individually configure servers, monitor their performance, carefully configure many parameters.  In general, the work of an amateur and there is a big chance somewhere to screw up something or miss something. <br><br>  Therefore, various distributions, which are initially equipped with convenient deployment and administration tools, have become very popular.  One of the most popular distributions that support Spark and simplify everything is Cloudera.  It has both paid and free versions - and in the latter all main functionality is available, without limiting the number of nodes. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0ed/5c5/734/0ed5c57348c22b53cd286f5155aa2a3d.png"><br><br>  During setup, Cloudera Manager will connect via SSH to your servers.  An interesting point: during installation, it is better to indicate that it is carried out by so-called <i>parsels</i> : special packages, each of which contains all the necessary components that are configured to work with each other.  In fact, this is such an improved version of the package manager. <br><br>  After installation, we get the cluster management console, where you can see telemetry on clusters, installed services, plus you can add / delete resources and edit the cluster configuration. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4b0/084/3f4/4b00843f43a4733118073810f76db9ea.png"><br><br>  As a result, you see the cabin of that rocket, which will take you into the bright future of BigData.  But before you say "let's go," let's move under the hood. <br><br><h2>  Iron requirements </h2><br>  On its website, Cloudera mentions various possible configurations.  The general principles on which they are built are shown in the illustration: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ecf/2e0/0fc/ecf2e00fcb058b642e634c500bef419f.png"></div><br>  MapReduce can smear this optimistic picture.  If you look at the diagram from the previous section again, it becomes obvious that in almost all cases the MapReduce task may encounter a bottleneck when reading data from a disk or network.  This is also noted on the Cloudera blog.  As a result, for any fast calculations, including through Spark, which is often used for real-time calculations, I / O speed is very important.  Therefore, when using Hadoop, it is very important that balanced and fast machines fall into the cluster, which, to put it mildly, is not always ensured in the cloud infrastructure. <br><br>  The balance in load distribution is achieved through the use of Openstack virtualization on servers with powerful multi-core CPUs.  Data nodes allocated their processor resources and certain disks.  In our solution, <i>Atos Codex Data Lake Engine</i> achieves extensive virtualization, which is why we gain both performance (minimizing the impact of network infrastructure) and TCO (eliminating unnecessary physical servers). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/614/870/09e/61487009e375d63dd7c665ec0d585e03.png"></div><br>  In the case of using the BullSequana S200 servers, we get a very uniform load, devoid of some of the bottlenecks.  The minimum configuration includes 3 BullSequana S200 servers, each with two JBODs, plus optional S200s, each containing four data nodes, are optionally connected.  Here is an example of the load in the TeraGen test: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6c6/b9a/40d/6c6b9a40d0abad236f3a370df2c1c00f.png"><br><br>  Tests with different data volumes and replication values ‚Äã‚Äãshow the same results in terms of load distribution between cluster nodes.  Below is a graph of the distribution of disk access according to performance tests. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f6d/86f/d6d/f6d86fd6d7dd5bc03303d92ceed18ccf.png"><br><br>  The calculations are based on the minimum configuration of 3 BullSequana S200 servers.  It includes 9 data nodes and 3 main nodes, as well as reserved virtual machines in case of deployment of protection based on OpenStack Virtualization.  TeraSort test result: a block size of 512 MB replication coefficient of three with encryption is 23.1 minutes. <br><br>  How can I expand the system?  Various types of extensions are available for Data Lake Engine: <br><br><ul><li>  Data nodes: for every 40 TB of usable space <br></li><li> Analytical nodes with the ability to install a graphics processor <br></li><li>  Other options depending on the needs of the business (for example, if you need Kafka and the like) <br></li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/d1f/609/325/d1f6093258dcb0e14e29f72916c775a4.png"><br><br>  The Atos Codex Data Lake Engine complex includes both the servers themselves and the pre-installed software, including the Cloudera kit with a license;  Hadoop itself, OpenStack with virtual machines based on the RedHat Enterprise Linux kernel, data replication and backup systems (including using backup nodes and Cloudera BDR - Backup and Disaster Recovery).  Atos Codex Data Lake Engine was the first virtualization solution that was certified by <a href="https://www.cloudera.com/solutions/gallery/atos-codex-data-lake-engine.html">Cloudera</a> . <br><br>  If you are interested in the details, we will be happy to answer our questions in the comments. </div><p>Source: <a href="https://habr.com/ru/post/451772/">https://habr.com/ru/post/451772/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../451760/index.html">Using Golang to create microservices in The Economist: a retrospective</a></li>
<li><a href="../451766/index.html">Heisenbug 2019 Piter: what will be in the free broadcast, and that only at the event itself</a></li>
<li><a href="../451768/index.html">Improving the work of Wi-Fi. General principles and useful things</a></li>
<li><a href="../45177/index.html">PayPal in Russian</a></li>
<li><a href="../451770/index.html">Veeam Backup & Replication: Useful Tips for Keeping Backups and Replicas Viable</a></li>
<li><a href="../451776/index.html">How I program engines for role-playing games in Google-tables</a></li>
<li><a href="../451778/index.html">Another monitoring system</a></li>
<li><a href="../45178/index.html">Illusion.net</a></li>
<li><a href="../451780/index.html">Audit in 60 minutes - free of charge, we check the resilience of employees to phishing attacks through Sophos Phish Threat</a></li>
<li><a href="../451782/index.html">Windows Subsystem for Linux (WSL) version 2: how will it be? (FAQ)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>