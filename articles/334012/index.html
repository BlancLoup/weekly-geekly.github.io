<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Release CLion 2017.2: integration with Clang-Tidy, C ++ 17 in the wizard to create a new project, improving the performance of the IDE</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr! Summer this year has been disappointing in places (for the CLion team in St. Petersburg for sure), but the new release of CLion 2017.2 , we ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Release CLion 2017.2: integration with Clang-Tidy, C ++ 17 in the wizard to create a new project, improving the performance of the IDE</h1><div class="post__text post__text-html js-mediator-article">  Hi, Habr!  Summer this year has been disappointing in places (for the CLion team in St. Petersburg for sure), but the new release of <b>CLion 2017.2</b> , we hope, was a success!  In this post we want to talk about new features, important bug fixes, and give you the opportunity to ask questions or ask some specific plans in the comments. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c48/c5f/8d8/c48c5f8d8467cd4d7f7b10d5c9a35edd.png" alt="image" width="400" height="200"></div><br>  In short, the release of CLion 2017.2 is dedicated to: <br><br><ul><li>  Extending the capabilities of the code analyzer (this applies to both built-in and third-party tools - CLang-Tidy) </li><li>  C ++ 17 in the wizard to create a new project </li><li>  PCH support for MSVC (we will decipher all abbreviations below!) </li><li>  Force Step Into in the debugger </li><li>  Automatically creating the Google Test configurations for <i>tags</i> linked to <i>gmock</i> </li><li>  Undone asynchronous CMake navigation and load actions </li><li>  General performance improvements </li><li>  And much more! </li></ul><br>  Ready to try now?  Download the free 30-day version from <a href="https://www.jetbrains.com/clion/download">our website</a> and go! <br>  Need more details?  Details below.  By the way, you can try all the new features on a small <a href="https://github.com/anastasiak2512/CLion2017_2Demo">demo project</a> that we have specially prepared for this purpose. <br><a name="habracut"></a><br><h2>  Code analyzer </h2><br><h3>  New quick-fixes and parser correctness improvements </h3><br>  CLion's Quick-fixes allow you to fix potential problems in a one-click code <code>Alt+Enter</code> .  In this release we improved some of them. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      For example, previously it was only possible to delete an unused variable.  But, if the constructor of such a variable is nontrivial, then it may not be a completely correct fix.  Now CLion offers two options - simply delete the variable or delete the variable and leave the initialization to save the code semantics: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/29e/c85/3b9/29ec853b9f3bf4a492d46eda1109ca55.gif" alt="image" width="670" height="294"><br><br>  Another improvement is related to <b>type casting</b> .  CLion actively points out situations where explicit type casting is needed.  But if earlier quick-fixes used only type casting in the C language style, now variants of type casting from C ++ are also <code>static_cast</code> : <code>static_cast</code> , <code>dynamic_cast</code> , <code>reinterpret_cast</code> , <code>const_cast</code> : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d23/e35/c71/d23e35c716c19f8b12ef95f63b27fce1.gif" alt="image" width="670" height="308"><br><br>  Throughout this release cycle, we were actively engaged in fixing bugs in the parser / resolver / code analyzer.  There are many changes and they are located in a wide variety of areas: <br><br><ul><li>  this and more correct code analysis in the case of <code>std::enable_if</code> , </li><li>  and support for <code>va_*</code> macros (the analyzer previously mistakenly marked variables used only in these macros as unused), </li><li>  and more correct work with functions that accept a package of parameters and still non-template arguments, </li><li>  and correct work with nested template types in STL containers for GCC 5/6, </li><li>  and many many others. </li></ul><br>  You should immediately make a reservation that the next release plan is slightly different.  We are planning to rewrite a whole layer of code inside our language support instead of point fixes. <br><br>  I will not go into much detail, but just to say that we, based on previous experience, analyzed where the most problems were, sorted out these areas from the bottom up and selected those problem areas that underlie the rest.  And we will deal with them.  By the way, a year ago we were already engaged in such alteration in overload resolution, and user feedback was very positive. <br><br><h3>  Clang-Tidy integration </h3><br>  In addition to the improvements in the built-in code analyzer, we decided to increase the number of various checks and quick-fixes due to the popular and rapidly developing tool based on Clang - <a href="https://clang.llvm.org/extra/clang-tidy/">Clang-Tidy</a> .  The biggest argument in his favor is the partial support of checks from the <a href="https://github.com/isocpp/CppCoreGuidelines">C ++ Core Guidelines</a> , which are now actively promoted in the C ++ community of developers by Bjorn Straustrup and Herb Sutter.  But this is not his only virtue! <br><br>  An important argument is the ability to write your <a href="https://clang.llvm.org/extra/clang-tidy/">own checks</a> and add them to Clang-Tidy. <br><br>  What is the integration of Clang-Tidy into CLion?  For an IDE user, checks from Clang-Tidy look the same as checks from the built-in code analyzer: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3dc/8c5/680/3dc8c56808618076c1255a5738ab4968.gif" alt="image" width="670" height="354"><br><br>  That is, errors are highlighted on the fly in the editor, <code>Alt+Enter</code> fixes are available for some checks (quick-fixes). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d85/dc6/7da/d85dc67da378f2d8b8b4e8adaf10c090.gif" alt="image" width="670" height="488"><br><br>  By default, we have not enabled all checks from Clang-Tidy.  Which ones are turned on and which ones are turned off, you can look at our page on <a href="https://confluence.jetbrains.com/display/CLION/Clang-Tidy%2Bin%2BCLion%253A%2Bdefault%2Bconfiguration">confluence</a> .  To change the configuration, you need to go to the settings in Settings / Preferences |  Editor |  Inspections |  C / C ++ |  General |  Clang-Tidy and there use configuration options in the command line format: <br><img src="https://habrastorage.org/getpro/habr/post_images/62e/826/c4e/62e826c4e8eb28302fb35b361b23e8f0.png" alt="image" width="670" height="488"><br><br>  For those who have already used Clang-Tidy on their projects, the line will be very familiar - this is the list of enabled / disabled checks that is passed to Clang-Tidy when started from the command line.  For example, to include only checks from C ++ Core Guidelines, you need to write <code>-*,cppcoreguidelines-*</code> . <br><br>  What about your own checks?  Similar!  Add them to Clang-Tidy, which is used in CLion, and they will automatically appear in the CLion editor.  True, to be honest to the end, now there are a couple of subtleties that need to be considered: <br><br><ul><li>  Clang-Tidy must be taken from our repository, where the version with our changes is located in order to work correctly with CLion.  As soon as our patches are accepted into LLVM (they are now on the review) and the changes get into the master, you can use the main LLVM branch.  Learn more about where to look for our repository and which patches can be found on the <a href="https://blog.jetbrains.com/clion/2017/07/clion-2017-2-released-clang-tidy-and-more/">blog</a> . </li><li>  The release did not have time to get the UI setting for changing Clang-Tidy, so for now you need to replace the built-in Clang-Tidy binary.  But this will be corrected, we hope, in one of the next updates. </li></ul><br><h2>  C ++ 17 in the wizard to create a new project </h2><br>  The history of this change began with the fact that we included CMake 3.8 in CLion 2017.2.  Namely, in this version of CMake, it became possible to indicate the standard version of the language standard in the CMake files - <code>set(CMAKE_CXX_STANDARD 17)</code> - this line is generated by the CLion when creating a new project.  And now in the wizard to create a new project in the drop-down list of C ++ standards, an additional item has appeared - C ++ 17. <br><br><h2>  PCH for MSVC </h2><br>  As I promised, decipher the used abbreviations.  CLion's precompiled headers support (that is, the correct rezolv of characters from such files and their correct highlighting in the editor) appeared in the last release.  But this does not apply to all compilers, but only for GCC and Clang.  Microsoft Visual C ++ compiler (MSVC) has been supported in CLion experimentally also since last release.  But it is in the case of MSVC that the use of PCH is necessary and widespread.  So we added this support for this case.  Some subtleties and limitations are described in the <a href="https://youtrack.jetbrains.com/issue/CPP-8755">request in the tracker</a> . <br><br><h2>  Debugger </h2><br>  We have truly Napoleon's debugging plans for CLion, but in this release our goal was to fix bugs and refine the current functionality. <br><br>  So, after the release of CLion 2017.1, it became clear that it was not very convenient to use the usual Step Into action in order to get to the <b>disassembler</b> code when debugging.  Often, users want the usual steps in the CLion debugger to skip all frames for which there is no source code.  So now Step Into ( <code>F7</code> ) works that way;  and to get to the code on the disassembler, you should use Force Step Into ( <code>Shift+Alt+F7</code> ). <br><br>  Another important change in the debugger is an additional option in the Registry for <b>viewing arrays during debugging</b> .  The fact is that to improve performance, CLion loads and shows not the entire array at once, but only a certain number of elements.  The default is 50 items.  To view the next 50, you must click Expand.  And so every 50 items. <br><br>  Now in Registry, the <code>cidr.debugger.value.maxChildren</code> option is <code>cidr.debugger.value.maxChildren</code> , which is equal to 50 by default and determines the number of elements that need to be loaded with each press of Expand: <br><br><img src="https://habrastorage.org/web/3c6/711/d6a/3c6711d6a8fe4430809d4cd5d33e1363.png" alt="image" width="583" height="521"><br><br>  With this option, you should be careful, because too large a value can lead to delays in calculating values ‚Äã‚Äãduring debugging. <br><br><h2>  Gmock and Google Test configuration </h2><br>  CLion supports Google Test and Catch unit testing frameworks.  Support includes a built-in special window displaying test results (test runner).  In order to get test results there, you need to use a special Google Test or Catch configuration when running tests.  For Google Test it is created automatically for any tarket in CMake linked with gtest.  And now for anyone linked with gmock. <br><br><h2>  Undo CMake Navigation and Download Actions </h2><br>  The focus of this release was IDE performance.  For example, we have reduced the indexing time due to more optimal processing of compiler macros (compiler-predefined macros).  There were other improvements in this direction. <br><br>  In addition to the usual work on the performance of the IDE, we decided to transfer more management capabilities in the hands of users.  To do this, we started doing some actions in the IDE to do asynchronous and cancelable, so that the user could not wait for actions that for some reason take a very long time, but quickly and painlessly cancel it. <br><br>  The first such actions were reloading CMake and navigation actions ( <i>Go to subclass</i> and <i>Go to overridden functions</i> ).  In the case of CMake, a button to cancel a working CMake command has been added to the corresponding tool window: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5ee/75a/8ed/5ee75a8ed33f82779dba6073297b76e9.gif" alt="image" width="670" height="262"><br><br>  In order to display the result of the CMake command in this window, you can easily understand the completed command successfully or canceled, the corresponding text is automatically added to the end of the log ( <i>[Finished]</i> , <i>[Reloading canceled]</i> ). <br><br>  As for the <i>Go to subclass</i> and <i>Go to overridden functions</i> navigation actions, they now work asynchronously, and to cancel them, simply click the mouse to any area outside the pop-up window with the results: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/454/231/d0e/454231d0e8d243b062d09df14a7e1a97.gif" alt="image" width="670" height="262"><br><br><h2>  Interface Find in Path, improved support for version control systems and more </h2><br>  CLion is a product based on the IntelliJ platform, which means that the following changes apply to it: <br><br><ul><li>  Improved search user interface Find in Path </li><li>  New features built-in VCS support, such as Git Revert, Reword and edit settings commit messages </li><li>  Improvements in support for high resolution monitors (HiDPI) </li></ul><br>  More onyih can be read in the post about the <a href="https://habrahabr.ru/company/JetBrains/blog/333648/">release of IntelliJ IDEA 2017.2</a> here on Habr√©. <br><br>  Demonstration of new features of CLion 2017.2 in English from our developer lawyer (the author of the Catch framework itself): <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/pW6p7UY7_Jk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  If you are interested, download a 30-day <a href="https://www.jetbrains.com/clion/download/">free trial</a> from the official website of the company, where in <a href="https://www.jetbrains.com/clion/buy/">the price section</a> you can also learn about the cost of a subscription. <br><br>  Watch also for articles and updates in our <a href="https://blog.jetbrains.com/clion/">English-language blog</a> .  We will be happy to answer any of your questions in the comments. <br><br>  <i>Your JetBrains CLion Team</i> <i><br></i>  <i>The Drive to Develop</i> </div><p>Source: <a href="https://habr.com/ru/post/334012/">https://habr.com/ru/post/334012/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../334000/index.html">Printing on any paper size in Linux</a></li>
<li><a href="../334004/index.html">Inside Docker Networks: Linking Docker Swarm Containers and Overlay Networks</a></li>
<li><a href="../334006/index.html">How the advertising network Vungle tries to make life difficult for its customers</a></li>
<li><a href="../334008/index.html">FIAS is dead, long live ... long live ... yes it is not clear that for now</a></li>
<li><a href="../334010/index.html">Runtime repainting application</a></li>
<li><a href="../334016/index.html">Resolving PTRACE_ATTACH Restriction Issues in Docker Containers</a></li>
<li><a href="../334018/index.html">Dotty - the future of the Scala language</a></li>
<li><a href="../334020/index.html">Piracy and four currencies</a></li>
<li><a href="../334022/index.html">Confederations Cup: what is behind the smooth connection at the stadium</a></li>
<li><a href="../334024/index.html">Extreme Networks 802.11ac Wave 2 ‚îÄ new generation wireless solutions</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>