<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Web Application Firewall (ModSecurity) in action</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Attacks on the level of web applications are one of the most common and often extremely critical. In this article I want to show how capable WAF ModSe...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Web Application Firewall (ModSecurity) in action</h1><div class="post__text post__text-html js-mediator-article">  Attacks on the level of web applications are one of the most common and often extremely critical.  In this article I want to show how capable WAF ModSecurity is to repel these threats. <br><br><h4>  1. Firewall-level web applications Modsecurity </h4><br><h4>  1.1 Project ModSecurity </h4><br>  ModSecurity was created by Ivan Ristic (Ivan Ristic) in 2003 and is a Web application firewall that can be used as an Apache web server module, or work offline and allows you to protect Web applications from both known and unknown attacks.  Its use is transparent, both installation and removal does not require changing the settings of services and network topology.  In addition, when a vulnerability is detected, it is no longer necessary to change the source code in a hurry, making new mistakes; it is enough to add a new rule at first, prohibiting a harmful combination.  Modsecurity can simultaneously protect multiple Web servers, including non-Apache [1]. <br><a name="habracut"></a><br><img src="https://habrastorage.org/getpro/habr/post_images/0a2/4e8/8a6/0a24e88a617905a5be32b7f68afc8036.png"><br><br>  In addition to normal connections, you can control SSL-protected traffic.  The gibkozadavayemy journaling rules allow you to record any session data, allowing in the future to fully parse the requests prior to hacking.  Understanding the HTTP protocol allows for very fine filtering, it supports both GET and POST methods, requests for dynamic resources.  To combat various avoidance methods (links to external sites, URLs encoded, using multiple slashes, zero bytes, etc.), paths and parameters are normalized.  In the new version, the rules may be inherited, a new audit trail format is used, which allows for auditing in real time.  In addition, this version introduces a new mechanism called the guardian, whose task is to control requests made from a single address, which helps protect against DOS attacks by setting up iptables rules.  Integration with the Open Source antivirus ClamAV allows you to scan downloaded files for viruses.  The version adds support for PCRE, which can now be used instead of the Apache regex library.  The amount of code compared to the previous version increased by 40%.  ModSecurity is distributed under a dual license: the GNU GPL, as a free Open Source application, several end-user and OEM commercial licenses are also available [1]. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  1.2 Installation Options ModSecurity </h4><br><habracut>  There are two typical options for installing ModSecurity [3]. <br>  a) Install directly on a web server. <br>  b) Installation as a reverse proxy server (Reverse Proxy). <br><br>  I must say that ModSecurity is used only with Apache Web servers, preferably versions 2.x.  Apache server can work both under Linux / UNIX, and under Windows (http://httpd.apache.org).  The ModSecurity module was originally created under Linux / UNIX (http://www.modsecurity.org), but thanks to the work of Stefan Land, he was successfully ported to Microsoft Windows (http://www.apachelounge.com).  Let's compare how the installation of ModSecurity directly on the Web server differs from the installation as a reverse proxy [3]. <br><br>  In the first case, ModSecurity intercepts all requests to the Web server on which it is installed: the request from the client is first compared with the filtering rules of the ModSecurity module, and then passed to the Web server for further processing.  ModSecurity can also monitor Web server responses, i.e.  After the page is formed, the response is processed by the module and, in accordance with the rules, blocks or allows the Web server to respond.  The latter option can be used to replace pages with Web application errors resulting from the Web server processing requests from the client to standard pages (for example, pages with error 404).  This will reduce the amount of critical information transmitted to the client about the operation of the application and will complicate the task of a potential attacker [3]. <br><br>  This installation option is limited to using Apache as a Web server and cannot be used to protect other Web servers. <br><br>  Installing Apache with the ModSecurity module as a reverse proxy server allows you to intercept client requests to Web servers deployed on any platform (IIS, Apache, WebSphere, etc.).  The principle of operation of the reverse proxy server is that the server forwards all requests from clients to the Web server and, when receiving a response, forwards it to the client.  Clients ‚Äúsee‚Äù only the external interface of the proxy server and ‚Äúdo not see‚Äù the Web servers located behind it.  In this case, the disadvantages are the need to purchase additional equipment for a proxy server and the presence of a single point of failure for one or several Web servers.  However, the proxy server itself can perform additional useful functions, such as caching static requests and load balancing on a group of Web servers [3]. <br><br><h4>  1.3 Functionality and advantages of ModSecurity </h4><br>  Here are a few of the main features provided by the ModSecurity module. <br>  a) Analysis of the request.  This is the main function of this module, especially when you are dealing with POST requests, in which the retrieval of the request body can be difficult [2]. <br>  b) Performing canonization and anti-inclination function.  Perform a series of transformations to convert the input data into a form suitable for analysis.  This step is used to combat various evasion methods. <br>  c) Performing special built-in checks.  At this point, more sophisticated validation checks are performed, such as URL encoding validation and Unicode encoding validation.  You can also control some of the byte values ‚Äã‚Äãin the request to deal with shellcode. <br>  d) Run input rules.  This is where the rules you create are run.  They allow you to analyze every aspect of a query using regular expressions.  Also here can be combined several rules for more complex analysis [2]. <br>  The request then reaches the handler.  After the request, downstream actions are performed. <br>  a) Run inference rules.  Inference rules apply to the response body.  They are very useful in preventing information leaks [2]. <br>  b) Registration request.  The final request is logged, consisting of the request body and the input and output headers.  In order to prevent excessive registration, ModSecurity can register requests of choice, for example, requests that received a response from ModSecurity [2]. <br><br>  The advantages of ModSecurity are as follows. <br>  1) Free. <br>  2) Open source codes. <br>  3) Filters both outgoing and incoming data. <br>  4) Convenient language for writing filtering rules based on regular expression checking. <br>  5) Integration with Apache proxy modules, which allows you to optimally speed up the Web-server (loadbalancing). <br>  6) A graphical shell for writing security rules (REMO) [4]. <br><br>  ModSecurity on Habr√©: <br>  1) <a href="http://habrahabr.ru/post/152251/">Beta version of modSecurity for Nginx</a> <br>  2) <a href="http://habrahabr.ru/post/145215/">Protecting the Apache web server from a slow-reading attack, as well as some other directed attacks</a> <br><br><h5>  2. Server protection with WAF ModSecurity </h5><br>  Figure 1.1 shows a diagram of the practical implementation of an attacking impact on a protected ModSecurity server with a Webgoat project (this project is discussed in more detail at the end of the article).  Attacking with the help of specialized software (MS Internet Explorer browser, WebScarab proxy server, Acunetix WVS 6 scanner) will attack a Web server with a pre-installed WebGoat project.  Subsequently, the operation scheme will be changed - after the corresponding configuration of the Web server with the installed application-level firewall configured as a reverse proxy server in relation to the server with the WebGoat project, we will attack this server. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c70/000/856/c70000856c05b1f7b58dc33375eb49ae.png"><br>  Figure 1.1 <br><br><h5>  2.1 Windows Server 2003 OS Configuration Guide (ModSecurity) </h5><br>  Install ModSecurity as a reverse proxy server with respect to the server with the WebGoat project, for this: <br>  1. Go to the "Start-Control Panel-Network Connections".  On the connection "Local Area Connection", you must right-click, then "Properties".  Select "Internet Protocol (TCP / IP)" and set the ip-address 192.168.10.2, mask 255.255.255.0. <br>  2. Consider the universal use of ModSecurity as a reverse proxy server (Reverse Proxy).  For the Apache server to function as a reverse proxy server, you must enable support for the following modules: <br>  1) mod_unique_id (included in Apache); <br>  2) mod_proxy (included in Apache); <br>  3) mod_proxy_http (included in Apache); <br>  4) mod_proxy_balancer (included in Apache); <br>  5) mod_proxy_html (not included in Apache). <br>  Install Microsoft Visual C ++ 2008 (x86).  To do this, run vcredist_x86 (2008) .exe and follow the instructions of the installation wizard.  Next, unpack the file httpd-2.2.21-win32-x86-ssl.zip in the C: \ Apache2 folder.  These distributions can be downloaded from relevant sources [5, 6]. <br>  3. Install the Apache server as an operating system service.  To do this, type the following in the command line: c: \ Apache2 \ bin \ httpd.exe -k install <br>  4. Run ApacheMonitor (C: \ Apache2 \ bin \ ApacheMonitor.exe). <br>  Unpack the archives with the library libxml2.dll and the mod_proxy_html module in the c: \ Apache2 \ modules \ folder (these archive files can be downloaded from the corresponding sources [6]) <br>  5. Configure the Apache Web server to work as a reverse proxy server.  To do this, edit the configuration file c: \ Apache2 \ conf \ httpd.conf in accordance with the listing below: <br><br>  ThreadsPerChild 250 <br>  MaxRequestsPerChild 0 <br>  ServerRoot "c: / Apache2" <br>  Listen 80 <br>  LoadFile C: \ apache2 \ modules \ libxml2.dll <br>  LoadModule proxy_module modules / mod_proxy.so <br>  LoadModule proxy_balancer_module modules / mod_proxy_balancer.so <br>  LoadModule proxy_http_module modules / mod_proxy_http.so <br>  LoadModule unique_id_module modules / mod_unique_id.so <br>  LoadModule proxy_html_module modules / mod_proxy_html.so <br>  ProxyRequests Off <br>  ProxyPass / <a href="http://192.168.10.1/">192.168.10.1</a> <br>  ProxyPassReverse / <a href="http://192.168.10.1/">192.168.10.1</a> <br>  ServerName localhost: 80 <br>  ErrorLog logs / error_log <br>  LogLevel warn <br><br>  6. In the configuration file we are interested in the following parameters: <br>  Listen 80 is the port that the Web service will use to receive HTTP requests from clients; <br>  ProxyRequests Off - disable proxy mode; <br>  ProxyPass and ProxyPassReverse, designed to redirect requests to another Web-server. <br>  In general, the ProxyPass and ProxyPassReverse directives have the following syntax: <br>  ProxyPass &lt;relative proxy server address&gt; &lt;web server address for redirection&gt;. <br><br>  7. Let's try to start our proxy server: open ApacheMonitor and click Start. <br>  If the proxy server was launched successfully, then when accessing it via HTTP, the Web page of the protected Web server should be displayed. <br><br>  After setting up and checking the performance of the proxy server, we will install ModSecurity directly.  First, stop the running Apache service (via ApacheMonitor).  From the mod_security-2.6.2-win32.zip archive, we unpack the mod_security2.so file into the c: \ Apache2 \ modules \ folder (this archive can be downloaded from relevant sources [6]). <br><br>  8. To work with the ModSecurity module, you need to make some changes to the Apache configuration file, namely, add the following line: LoadModule security2_module modules / mod_security2.so <br><br>  9. Unzip the archive with the latest version of the rules for ModSecurity modsecurity-crs_2.2.2.zip (you can download this archive from the appropriate source [7]) overwrite the entire rules folder from the archive into the c: \ Apache2 \ conf \ rules folder <br><br>  10. Add configuration rule files to the httpd.conf configuration file using the following commands: <br>  include c: \ Apache2 \ conf \ rules \ base_rules \ *. conf <br>  include c: \ Apache2 \ conf \ rules \ slr_rules \ *. conf <br>  include c: \ Apache2 \ conf \ rules \ *. conf <br><br>  11. In the c: \ Apache2 \ conf \ rules \ folder there is a modsecurity_crs_10_config.conf configuration file with the basic settings of the ModSecurity module. <br><br>  Delete the basic settings.  Specify a list of default actions for which every rule that is matched is recorded in the audit logs, and the request will be terminated with a 404 status code using the SecDefaultAction command ‚Äúphase: 2, deny, log, status: 404‚Äù <br><br>  12. Enable filtering with the SecRuleEngine On command. <br><br>  13. Enable scanning of the request body and response body using the SecRequestBodyAccess On and SecResponseBodyAccess On commands. <br><br>  14. Hide the server ID with the SecServerSignature "Apache / 2.2.4 (Fedora)" command. <br><br>  15. Specify the folder for downloading tmp files using the SecUploadDir / tmp command. <br><br>  16. Enable support for cookie version 1 using the SecCookieFormat 1 command. <br><br>  17. Specify the parameters for a typical event logging configuration: <br><br>  SecAuditEngine RelevantOnly <br>  SecAuditLogRelevantStatus "^ (?: 5 | 4 \ d [^ 4])" <br>  SecAuditLogType Concurrent <br>  SecAuditLogParts ABCDEFHZ <br>  SecAuditLogStorageDir logs / data / <br>  SecAuditLog bin / mlogc.exe <br>  SecAuditLog "| bin / mlogc.exe bin / mlogc.conf" <br><br>  18. Add commands to the modsecurity_crs_10_config.conf configuration file so that they end up with Figure 1.2. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/785/c2d/480/785c2d480f035269dd6b5d5504615522.jpg"><br>  Figure 1.2 - Configuration file modsecurity_crs_10_config.conf <br><br>  19. Start the Apache server (using ApacheMonitor).  As a result, we got a working proxy-server, allowing to protect the selected Web-server from a series of attacks. <br><br><h5>  2.2 Windows Server 2003 OS Configuration Guide (WebGoat) </h5><br>  Let's deploy the server with the WebGoat project, for this: <br><br>  1. Go to the Start-Panel Controls-Network Connections.  On the connection "Local Area Connection", you must right-click, then "Properties".  Select "Internet Protocol (TCP / IP)" and set the ip-address 192.168.10.1, mask 255.255.255.0. <br><br>  2. Install the Java Runtime Environment (JRE) distribution.  In the installation process, leave all the default settings <br><br>  3. Unzip the archive WebGoat-OWASP_Standard-5.3_RC1.7z in the folder "C: \ WebGoat-5.3_RC1" <br><br>  4. Open the configuration file located at the address ‚Äú: \ WebGoat-5.3_RC1 \ tomcat \ conf \ server_80.xml‚Äù and edit the settings for connecting external ip-addresses as follows (see Figure 1.3): <br>  Connector address = "127.0.0.1,192.168.10.1,192.168.10.2, 192.168.10.5" <br><br>  5. Open the directory "C: \ WebGoat-5.3_RC1" and run the file "webgoat.bat" <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3be/68f/f8d/3be68ff8d7c65148ab3f4f0a22d0c10f.png"><br>  Figure 1.3 - Editing the server_80.xml configuration file <br><br><h5>  2.3 Generating Attacking Impact </h5><br>  To test the operation of ModSecurity, you can use any of the security scanners that can check the vulnerabilities of web services.  We use Acunetix Web Vulnerability Scanner. <br><br>  Acunetix Web Vulnerability Scanner automates the task of monitoring the security of Web applications and allows you to identify vulnerabilities in the protection of a Web site before they are detected and used by an attacker. <br><br>  Acunetix Web Vulnerability Scanner (WVS) works as follows: <br><br>  1) Acunetix WVS examines and forms the structure of the site, processing all found links and collecting information about all detected files; <br>  2) the program then tests all Web pages with data entry elements, simulating data entry using all possible combinations and analyzing the results obtained; <br>  3) detecting a vulnerability, Acunetix WVS issues a corresponding warning, which contains a description of the vulnerability and recommendations for its elimination; <br>  4) The final WVS report can be written to a file for further analysis and comparison with the results of previous checks. <br><br>  Acunetix Web Vulnerability Scanner automatically detects the following vulnerabilities: <br><br>  1) Cross site scripting (execution of a malicious script in the user's browser when accessing and in the security context of a trusted site); <br>  2) SQL injection (execution of SQL queries from the browser to obtain unauthorized access to data); <br>  3) GHDB database (Google hacking database) - a list of typical requests used by hackers to gain unauthorized access to a Web application and sites. <br>  4) code execution; <br>  5) directory traversal; <br>  6) file insertion (File inclusion); <br>  7) disclosure of the source text of the script; <br>  8) CRLF injection <br>  9) Cross frame scripting; <br>  10) publicly available backup copies of files and folders; <br>  11) files and folders containing important information; <br>  12) files that may contain information necessary for carrying out attacks (system logs, application trace logs, etc.); <br>  13) files containing lists of folders; <br>  14) a folder with a low level of protection, allowing you to create, modify or delete files. <br><br>  It also identifies the server technologies involved (WebDAV, FrontPage, etc.) and the permission to use potentially dangerous http methods (PUT, TRACE, DELETE). <br><br>  Acunetix Web Vulnerability Scanner is installed on the main machine acting as a scanning station.  To test the application-level firewall, we first test for the presence of Web vulnerabilities a Web server with an installed WebGoat project (with an IP address of 192.168.10.1), and then scan the server (with an IP address of 192.168.10.2), with Apache and ModSecurity installed acting as a reverse proxy server with respect to the WebGoat server. <br><br>  12) Run Acunetix Web Vulnerability Scanner.  Perform a scan, to do this, click "File-&gt; New-&gt; Web Site Scan", in the dialog box that appears, select "Scan Single Website" and the server address (WebSite URL) "http://192.168.10.1/webgoat/attack".  We leave all the default settings, except the ‚ÄúLogin‚Äù item (specify the guest login and password in the ‚ÄúHTTP authentication‚Äù parameter) After all the settings are completed, the scanner will automatically start testing the specified node. <br><br>  13) Similarly, scan the Web server with ModSecurity installed. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b70/2f8/3b9/b702f83b9060c1ef09cf755ef6be4dd1.png"><br>  Figure 1.4 - Server scan results with the installed WebGoat project <br><br><img src="https://habrastorage.org/getpro/habr/post_images/680/1f3/bf8/6801f3bf80f000160171e1cd68bc55cb.png"><br>  Figure 1.5 - Server scan results with the installed ModSecurity project, working as a reverse proxy server with respect to the server with the WebGoat project. <br><br><h5>  OWASP WebGoat Project </h5><br>  The project is designed to study web-vulnerabilities (ie, it initially laid the typical web-vulnerabilities).  It is remarkable that it develops within the framework of the OWASP project (Open Web Application Security Project), under the auspices of which a large number of security utilities are released.  This code is written in Java.  A standard TomCat server is used to host J2EE applications ‚Äî fortunately, it is already included in the WebGoat assembly and configured so that it can be started as easily as possible. <br>  Tasks are usually tied to a real problem.  For example, in one of the quests it is proposed to conduct SQL-injection in order to steal the list of fake credit numbers.  Some tasks are accompanied by a training component that shows useful tips and vulnerable code to the user. <br><br>  This project is available <a href="http://www.owasp.org/index.php/Category:OWASP_WebGoat_Project">at this address</a> . <br><br><h5>  List of used sources </h5><br>  1. Yaremchuk S. How to improve the security of web applications // System administrator.  2006. ‚Ññ2. <br>  2. Ristik I. Protecting Web Applications with Apache and ModSecurity // <a href="http://www.securitylab.ru/analytics/216322.php">www.securitylab.ru/analytics/216322.php</a> . <br>  3. Yudin A. Protection of applications using ModSecurity // Windows IT Pro.  2007. ‚Ññ 05. <br>  4. Hot ideas: Filtering proxies // <a href="http://jthotblog.blogspot.com/2009/07/blog-post.html">jthotblog.blogspot.com/2009/07/blog-post.html</a> .2009. <br>  5. According to the Microsoft <a href="http://www.microsoft.com/">website www.microsoft.com</a> <br>  6. According to the website of Stephen Land <a href="http://www.apachelounge.com/">www.apachelounge.com</a> <br>  7. Based on materials from the site organization The Open Web Application Security Project (OWASP) <a href="http://www.owasp.org/">www.owasp.org</a> <br><br>  PS: The settings and syntax of the ModSecurity commands are described in detail in the Magnus Mischel book ‚ÄúModSecurity 2.5.Securing your Apache installation and web applications‚Äù (England: Published by Packt Publishing, 2009. 280 c). </habracut></div><p>Source: <a href="https://habr.com/ru/post/228103/">https://habr.com/ru/post/228103/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../228085/index.html">How I screwed the speedometer to the tanks</a></li>
<li><a href="../228093/index.html">Beeline TV via Mikrotik in the province</a></li>
<li><a href="../228095/index.html">Zabbix 2.2: Monitoring the temperature of the Windows processor of the machine</a></li>
<li><a href="../228099/index.html">Inventing a bike or finding a missing ID value in a MySQL table</a></li>
<li><a href="../228101/index.html">Problems and prospects of ensuring the safety of civil aviation</a></li>
<li><a href="../228105/index.html">Upshifting for a programmer in Thailand</a></li>
<li><a href="../228107/index.html">EMC XtremIO and VDI. Effective, but still raw stuff</a></li>
<li><a href="../228109/index.html">Efficient energy management in the data center</a></li>
<li><a href="../228115/index.html">Disaster Recovery Planning. Part Three - Final</a></li>
<li><a href="../228121/index.html">DIY projection screen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>