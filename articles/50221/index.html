<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Debugging in Django</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Django newbies will find it useful to learn about a very useful debugging tool - debug-toolbar . He is so cool that he is called Firebug for Django . ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Debugging in Django</h1><div class="post__text post__text-html js-mediator-article">  Django newbies will find it useful to learn about a very useful debugging tool - <b>debug-toolbar</b> .  He is so cool that he is called <b>Firebug for Django</b> .  On large projects without it (or another debugger) can not do. <a name="habracut"></a><br><br>  Debug-toolbar is a set of panels that appear on a page in debug mode. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a05/778/88f/a0577888f465c357e3e72312902b38e4.png" alt="Google development"><br>  A set of panels can be changed.  Currently 9 items are available.  Here are some details: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <br><h3>  Version </h3><br>  Shows the version of Django.  I usually disable this panel, because I know the version without prompts, and there is so little space on the screen. <br><br><br><h3>  Timer </h3><br>  Application run time and number of context switches. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/248/406/2ef/2484062ef612a9cc41acce14b01a7e19.png" alt="Timer"><br>  Very harmful tab.  If you keep these numbers always before your eyes, you will not be able to deliver the project on time - it will always seem that all operations are performed at least 10 times longer than they could. <br><br>  <b>Remember: "Premature optimization is the root of all evil."</b> <br><br><br><h3>  SettingsVars </h3><br>  Here you can see all the Django settings from the settings.py file of this application.  I don‚Äôt know if there is a big benefit in this - you can always see the config in the file. <br><br><br><h3>  Headers </h3><br>  Theoretically, there should be HTTP request headers that led to the display of the page being explored.  But in fact, on this panel, I see a list of server environment variables: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0c9/78c/2e9/0c978c2e97bd639be613c19a4cee9df6.png" alt="HTTP headers"><br>  We need not often, but well, when such information is at hand. <br><br><br><h3>  Request </h3><br>  Here you can see cookies for this domain, Django session variables, as well as variables passed in a GET / POST request.  You can imagine it without a picture. <br><br><br><h3>  Template </h3><br>  The panel of information about the template with which the output occurs.  It probably works well when using the native Django template engine.  And for outsiders, only the viewing of contexts works: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/101/ca6/e63/101ca6e6321fa7c2e1dda56918157e03.png" alt="HTTP headers"><br><br><br><h3>  SQLDebug </h3><br>  Powerful stuff.  Shows all queries to the database, their execution time and full tracing. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f99/b7a/759/f99b7a7594962ca3e42e958f11bba502.png" alt="SQL Debug"><br><br>  This allows you to identify problem-specific query and easily find it even in the most confusing application with template inheritance.  Works for any template engine, like. <br><br>  By the way, any request can be executed directly from the panel, and also ask for its Explain or even Profile (if the database supports). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1a0/659/260/1a0659260aebdcc9145209877adaddf5.png" alt="SQL Debug"><br><br><br><h3>  Cache </h3><br>  The panel allows you to view the acts of writing and reading from the cache, the information received, the time spent and other caching statistics: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/771/557/62f/77155762f9689ab43dbacfa1b2c1dd52.png" alt="Cache"><br>  For example, in this picture you can see that there was an attempt to take the update_sites key from the cache, but it turned out to be empty (the cache was expired).  Then there was an entry in the cache of new data.  I want to believe that in the Time column the correct order of numbers and dimension. <br><br><br><h3>  Logging </h3><br>  This is like console.log ('Hi').  Displays debugging messages from the Python logging module.  To get a debug output, you need to connect the module and say something to it: <br><br> <code><font color="#0000ff">import</font> logging&lt;br&gt;    logging.info( <font color="#A31515">'       .'</font> )&lt;br&gt;</code> <br> <img src="https://habrastorage.org/getpro/habr/post_images/0be/f53/152/0bef5315292ff63278c3cd8c3c389ed2.png" alt="Logging"><br>  It is a pity that different levels of messages are not highlighted in color. <br><br><br><h3>  How to install </h3><ol><li>  download something from the <a href="http://github.com/robhudson/django-debug-toolbar/tree/master">official site</a> </li><li>  unzip it and run python setup.py install </li><li>  add 'debug_toolbar.middleware.DebugToolbarMiddleware' <b>last entry</b> in MIDDLEWARE_CLASSES </li><li>  add 'debug_toolbar' to INSTALLED_APPS </li><li>  to set up INTERNAL_IPS correctly - list the ip addresses of developers that can be shown Debug </li><li>  you can still configure some options for DEBUG_TOOLBAR </li></ol><br>  Personally, I connect debug_toolbar only in debug mode: <br><br> <code><font color="black"><font color="#0000ff">if</font> DEBUG:&lt;br&gt; <b>MIDDLEWARE_CLASSES</b> += ( <font color="#A31515">'debug_toolbar.middleware.DebugToolbarMiddleware'</font> ,)&lt;br&gt; <b>INSTALLED_APPS</b> += ( <font color="#A31515">'debug_toolbar'</font> ,)&lt;br&gt; <b>DEBUG_TOOLBAR_PANELS</b> = (&lt;br&gt; <font color="#228800">#'debug_toolbar.panels.version.VersionDebugPanel', # .   .</font> &lt;br&gt; <font color="#A31515">'debug_toolbar.panels.timer.TimerDebugPanel'</font> ,&lt;br&gt; <font color="#A31515">'debug_toolbar.panels.settings_vars.SettingsVarsDebugPanel'</font> ,&lt;br&gt; <font color="#A31515">'debug_toolbar.panels.headers.HeaderDebugPanel'</font> ,&lt;br&gt; <font color="#A31515">'debug_toolbar.panels.request_vars.RequestVarsDebugPanel'</font> ,&lt;br&gt; <font color="#A31515">'debug_toolbar.panels.template.TemplateDebugPanel'</font> ,&lt;br&gt; <font color="#A31515">'debug_toolbar.panels.sql.SQLDebugPanel'</font> ,&lt;br&gt; <font color="#A31515">'debug_toolbar.panels.cache.CacheDebugPanel'</font> ,&lt;br&gt; <font color="#A31515">'debug_toolbar.panels.logger.LoggingPanel'</font> ,&lt;br&gt;    )&lt;br&gt; <b>DEBUG_TOOLBAR_CONFIG</b> = {&lt;br&gt; <font color="#A31515">'EXCLUDE_URLS'</font> : ( <font color="#A31515">'/admin'</font> ,), <font color="#228800">#  ,    ...</font> &lt;br&gt; <font color="#A31515">'INTERCEPT_REDIRECTS'</font> : <font color="#0000ff">False</font> ,&lt;br&gt;    }</font></code> <br> <br>  "INTERCEPT_REDIRECTS = False" disables the redirection interception.  If you do not disable it, you will first be redirected to the debug page, where it will be described in detail where and from where we were redirected.  And the link will click. <br><br>  EXCLUDE_URLS will theoretically ever turn off the debugger for the specified directories.  Left to remember to try after a year.  Here still for the necessary subdomains to cut it down ... <br><br><br><h3>  Problems </h3><br>  The product is a bit damp.  Its various minor details may not work or work incorrectly.  I had to dig out the template and js-files for about 15 minutes to get the "Hide" button to work.  The script requires jquery and cookies plugin (in cookie the state of the panel is closed / open).  For some reason, the plugin was connected after the toolbar.js script crashed with an error. <br><br>  I also spent a lot of time formatting the output of time in all panels: why should I see hundredths of a millisecond?  But it's all the little things that are easy to handle or just ignore. <br><br>  There may be difficulties when using some tricky middleware.  I had to modify the class, organizing work with subdomains in a single server. <br><br><br><h3>  Addition </h3><br>  There are <a href="http://habrahabr.ru/blogs/django/50221/">opinions</a> that <a href="http://github.com/dcramer/django-debug-toolbar/tree/master">this fork of</a> this toolbar is slightly better.  I can't say for sure about the functionality, but the interface ... <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fd3/c30/69e/fd3c3069eeeedaf233a1db0967472088.png" alt="Ehnifigasebe !!"><br>  For such an interface debugger someone could sell the soul to the devil!  Need to try. <br><br><br>  <font color="#999999">Found a mistake - write to Habrapmail.</font> <br><br></div><p>Source: <a href="https://habr.com/ru/post/50221/">https://habr.com/ru/post/50221/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../50212/index.html">Tag Cloud Tagging</a></li>
<li><a href="../50215/index.html">NetWorm.Win32.Kido Network Worm Epidemic & Disinfection Utility</a></li>
<li><a href="../50216/index.html">PHP + Twitter</a></li>
<li><a href="../50217/index.html">I just saw Habr on TV</a></li>
<li><a href="../50218/index.html">Video rip. Part 0. Introduction</a></li>
<li><a href="../50223/index.html">ajax download multiple files with php form</a></li>
<li><a href="../50227/index.html">Syntax Highlight html and css for Dreamweaver</a></li>
<li><a href="../50228/index.html">TRIZ and Captcha</a></li>
<li><a href="../50229/index.html">Orkut is 5 years old</a></li>
<li><a href="../50231/index.html">A bit of logic ...</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>