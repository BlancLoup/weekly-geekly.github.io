<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Practice of using Laurent-2, Laurent-112, KBX-3D modules</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello, Habr! New developments with modern interfaces and previously inaccessible features - this is at least interesting. And today the modules of the...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Practice of using Laurent-2, Laurent-112, KBX-3D modules</h1><div class="post__text post__text-html js-mediator-article">  Hello, Habr!  New developments with modern interfaces and previously inaccessible features - this is at least interesting.  And today the modules of the Laurent family and their hidden features are in our focus. <br><br><img src="https://habrastorage.org/files/ffd/9ba/97d/ffd9ba97ddb1474c80b6f47fc8cd5c9f.jpg" width="600"><br><a name="habracut"></a><br>  <i>Namely, is it possible to regulate the switch-on time of the relay or the output line if they are enabled from the web interface?</i>  <i>Considering that the light in the House is controlled by impulse relays.</i> <br><br>  Yes you can.  The minimum pulse duration is 1 second. <br>  The task itself in this case is formulated as follows: each click on the ‚Äúbutton‚Äù in the WEB interface should send a short pulse to the impulse relay that controls the lighting. <br>  The solution of the problem is based on two "input" from the construction of modules Laurent.  First: in the WEB interface, with one click of the mouse, you can either turn on the output line or the relay, or turn it off, the button ‚Äústicks‚Äù.  Secondly, the CAT system allows you to automatically control the output lines and relays in time, but the control can only be tied to a state change on the input lines that are inaccessible for control from the WEB interface. <br>  Therefore, we will connect the output to the input with an electric wire and configure the CAT system logic in the following way: Each press of the output button (OUT_1, for example) sends a pulse of 1 second.  to RELAY_1 and changes the state of the OUT_1 output to the opposite. <br>  Moreover, by the color of the OUT_1 button, we can always understand which command was sent last, on turning on - the button is green, on shutdown - the button is gray. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Implementation of the solution: <br>  1. Connect the OUT_1 with the installation wire to IN_1, so we get the physical ability to control the input line from the WEB interface by changing the output state. <br>  2. Connect the PWR1 Contact with Vin, thus we supply power to the open collector output lines (Laurent-2 module user manual, p. 36) <br>  3. Connect OUT_1 through a 1-5 kOhm resistor to the power supply, so we get the output with an open collector necessary levels of logic 0 and 1 to control the input IN_1 in the inverse mode. <br>  4. Connect the ISO_GND terminals to GND - the input lines have a separate, insulated ground (Laurent-2 module user manual, p. 35). <br>  5. Connect the Ethernet cable, power, and establish communication with the module <br>  6. Create two CAT Events <br>  6.1 Turn on Relay 1 for one second when a logical 0 appears at Input IN_1.  This happens when we press the OUT_1 button in the WEB interface and it turns green.  At the output, the electrical signal goes from logical 1 to 0 (see section 3) <br>  - Event Type: Input Line <br>  - Line selection: IN_1 <br>  - Respond to transition: 1 ÔÉ† 0 <br>  - Reaction: RELE_1 <br>  - Action: Log.1 impulse <br>  - Duration: 1 sec. <br>  6.2 Turn on Relay 1 for one second when logical 1 appears at IN_1.  This happens when we repeatedly press the OUT_1 button in the WEB interface and it becomes gray.  At the output, the electrical signal goes from logical 0 to 1. <br>  - Event Type: Input Line <br>  - Line selection: IN_1 <br>  - Respond to transition: 0 ÔÉ† 1 <br>  - Reaction: RELE_1 <br>  - Action: Log.1 impulse <br>  - Duration: 1 sec. <br><br><br>  Layout with the scheme of connections looks like this: <br><br><img src="https://habrastorage.org/files/0be/f45/6b4/0bef456b45ee4f3b91a4c15c3decb9c9.JPG" width="600"><br><br>  In the screen photos, the logic setting looks like this: <br><br>  Events ID: 1 and ID: 2 differ only in the function "Respond to the transition:" <br><br><img src="https://habrastorage.org/files/282/54b/bb4/28254bbb4efa449da708aaddf717f365.JPG" width="300"><img src="https://habrastorage.org/files/699/bb2/a2f/699bb2a2f10a49c9a56655351b40b67f.JPG" width="300"><br><br>  Do not forget to activate all events with the "Enable All" button: <br><br><img src="https://habrastorage.org/files/f1c/31e/291/f1c31e291c0140aab2f3ccd92fcb76c0.JPG" width="600"><br><br>  In the WEB interface you will see the following picture: <br><br>  A. For 1 sec.  after pressing the OUT_1 button, Relay 1 will be turned on <br><br><img src="https://habrastorage.org/files/1ff/477/162/1ff4771625204cd38d466bf11f396622.JPG" width="600"><br><br>  B. After 1 second, the Relay 1 icon goes out.  The color of the OUT_1 button will indicate the type of pulse sent.  ‚ÄúGreen‚Äù - Enable, ‚ÄúGray‚Äù - Disable <br><br><img src="https://habrastorage.org/files/b07/8d1/104/b078d11041024f3da88220e387794c7d.JPG" width="600"><br><br>  The area of ‚Äã‚Äãpossible application of the pulse mode of the outputs (in addition to lighting control with pulse relays) can be the control of closing mechanisms such as garage doors, louvers, electromagnetic actuators of powerful engines, etc. <br><br>  Actually, it turns out that the combination of electrical connections with the logic of simple functions significantly expands the capabilities of the Laurent modules. <br><br>  A full description of the capabilities of the <a href="http://masterkit.ru/shop/smarthome/smarthouse/1915331">MP712 Laurent-2</a> (Laurent-2) is given in <a href="http://masterkit.ru/zip/mp712laurent-2_userguide.pdf">the user manual</a> . <br><br>  Variants of Laurent modules: <br><br>  <a href="http://masterkit.ru/shop/smarthome/smarthouse/1915333">MP716 Laurent-112</a> - Ethernet relay 12 channels. <br>  <a href="http://masterkit.ru/shop/smarthome/smarthouse/1915335">MP717 KBX-3D</a> - Ethernet DIN rail relay with M2M technology. <br><br>  Master Keith wishes creative success and is waiting for new questions, new interesting problems to solve! </div><p>Source: <a href="https://habr.com/ru/post/260007/">https://habr.com/ru/post/260007/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../259993/index.html">Compare Nim and Rust</a></li>
<li><a href="../259995/index.html">Vim in full: Project level and file system</a></li>
<li><a href="../259997/index.html">Entropy-based smart crop</a></li>
<li><a href="../260003/index.html">Creating native Android applications using the Intel C ++ Compiler compiler in Android Studio 1.0.1</a></li>
<li><a href="../260005/index.html">Architecture of storing photos in Badoo - an interview with the speaker of DevConf 2015</a></li>
<li><a href="../260009/index.html">New Opera for Computers, Android and Windows Phone</a></li>
<li><a href="../260011/index.html">Dubsmash 2 - regular porn clicker for Android</a></li>
<li><a href="../260013/index.html">Unit tests, BDD and the power of fluid statements (fluent assertions) in 1C</a></li>
<li><a href="../260017/index.html">Automated xkcd-style diagram creation: from serious to funny</a></li>
<li><a href="../260019/index.html">Mobile App Distribution Services for iOS. Part 4 (final): Fabric (Crashlytics)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>