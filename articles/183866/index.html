<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Watch MKV on Apple TV from Plex</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! 

 Continuing the cycle of Apple-related articles, today I want to share an amazing way how you can make the Apple TV set-top box fall in love ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Watch MKV on Apple TV from Plex</h1><div class="post__text post__text-html js-mediator-article">  Hello! <br><br>  Continuing the cycle of Apple-related articles, today I want to share an amazing way how you can make the Apple TV set-top box fall in love with the now-popular Matryoshka (MKV) and give it the ability to play comfortably on the big screen. <br><a name="habracut"></a><br>  Without going into the history of creating the set-top box, in abbreviated mode, I would say that the first and second generation of the set-top box did not stick in Russia, only after the release of the third edition and the opening of the iTunes online store branch, the set-top box began to win back its place on users' TV stands. <br><br>  So what is Apple TV? 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote>  Apple TV is a digital media player developed by Apple Inc.  Modern Apple TV plays streaming multimedia (movies, music, podcasts, and photos) to widescreen LCD TVs and plasma screens from the iTunes library hosted on a Mac or PC, iPad internet tablets, iPod touch players, iPhone smartphones, or from the Internet services: iTunes Store, iCloud, Netflix, YouTube, Vimeo, Flickr (honestly taken from <a href="http://ru.wikipedia.org/wiki/Apple_TV">Wikipedia</a> ). </blockquote><br>  The third generation of the console, equipped with a proprietary A5 processor (with one core blocked), turned out to be very powerful, capable of digesting 1080p video files without any problems. <br><br>  Also, Apple TV has an excellent quality - AirPlay, a technology that allows you to send audio and video signals ‚Äúover the air‚Äù, for example, from an iPhone and play it on a TV screen (this feature, by the way, is very popular among set-top box owners). <br><br>  But despite the loud words, in the understanding of a simple man in the street, Apple TV has significant shortcomings, which classic media players lack: <br><ul><li>  you cannot connect an external USB hard disk with movies to it; </li><li>  it does not know how to play the usual MKV format, prefers MP4 or M4V; </li><li>  for a comfortable viewing, blessed with Apple, you need to buy movies in the online store.  <em>This item is, of course, controversial.</em> </li></ul><br>  And if in the first and second generation of the console, the problem of reproducing third-party formats was more or less solved by hacking (jailbreaking) and installing alternative software <a href="http://firecore.com/">aTV Flash</a> , then the 3rd generation is already equipped with advanced protection, and despite numerous announcements, it‚Äôs not yet broken succeeded (running ahead - it is not required). <br><br>  By and large, if you have an account in iTunes and the ability to buy movies, a fat channel, a media server on the local network, the compatibility problem disappears by itself ... but we always want more, don't we? <br><br>  In principle, there is enough CPU performance on a set-top box to digest video files encoded in H.264 up to 1080p with a High profile or Main Profile level 4.0 or lower. <br><br>  Since most BD rips in MKV contain video tracks with similar coding parameters, sometimes it is enough just to repack Matroska to M4V, for example, using <a href="http://code.google.com/p/subler/">Subler</a> or <a href="https://www.macupdate.com/app/mac/35968/remux">remux software</a> .  In a Windows environment, preparing video files for your iTunes library is best with <a href="http://rutracker.org/forum/viewtopic.php%3Ft%3D3320918">MkvToMp4</a> . <br><br>  And if too lazy to engage in media library? <br><br><h5>  There is a solution! </h5><br>  One day on Twitter, I noticed a link to the instruction, according to which it is possible to make friends with Apple TV with the Plex media library and play video files (including the desired non-converted MKV) from it.  The project is called <a href="https://github.com/iBaa/PlexConnect">PlexConnect</a> . <br><br>  <strong>Immediately I warn you, for Plex you need a computer to deploy the storage and proper storage of the library.</strong> <br><br>  Roughly speaking, the meaning of this project is that the computer acts as a DNS server - and when we open ‚ÄúTrailers‚Äù in the set-top box menu, the PlexConnect package intercepts network requests at trailers.apple.com and instead of data from the site in a sly way data from the local Plex library. <br><br>  The project is based on Python, so if necessary, you must download it from the <a href="http://www.python.org/download/releases/2.7.5/">official site</a> , the developer insists <strong>on version 2.7.5, not higher</strong> ! <br><br>  If you have not yet installed Plex, download it from the <a href="http://www.plexapp.com/getplex/">official site</a> and install it.  The media library is set up in standard mode, for example, according to <a href="http://www.plexapp.com/medialink/files/RU_install1.html">this instruction</a> . <br><br>  From the project site, download <a href="">the PlexConnect package</a> and unpack it into the PlexConnect folder: <br><img src="https://habrastorage.org/storage2/7bb/797/48e/7bb79748e357962b7e21320b04569392.jpg"><br><br>  <em>I have in my folder - C: \ Program Files (x86) \ Plex \ Plex Connect, next to Plex itself</em> <br><br>  In the <code>Settings.py</code> file, we make changes in the <code>ip_pms</code> field, specify the IP address of the server from the Plex Media Server. <br><br>  Also in the same file on line 23 you can specify the DNS address of your network (the default is the address of the public DNS server Google 8.8.8.8): <br><img src="https://habrastorage.org/storage2/d88/629/e7a/d88629e7a8ecfe5295d61b245b58df4b.png"><br><br>  Run the <code>PlexConnect.py</code> file. <br>  In the case of Mac, we launch the Terminal, in which we type the commands: <br> <code>cd PlexConnect</code> <br> <code>sudo python PlexConnect.py</code> <br> <br><br>  Make sure the script is running: <br><img src="https://habrastorage.org/storage2/c5a/8db/466/c5a8db4666d33efacdaf33a4d102a440.jpg"><br><br>  For further steps, you need to remember the IP address of the computer running PlexConnect. <br><br>  Switch to Apple TV and change the DNS server to the IP address of the computer running PlexConnect (Settings - Basic - Network - DNS manually): <br><img src="https://habrastorage.org/storage2/414/aae/6cc/414aae6cc5ac80193d132182b6526aec.jpg"><br><br>  Launch "Trailers" ...: <br><img src="https://habrastorage.org/storage2/12a/3ff/2e9/12a3ff2e94ca39c9dc83675cf2dee543.jpg"><br><br>  ... and make sure that the interception hack worked, and PlexConnect loads the data from the local Plex database: <br><img src="https://habrastorage.org/storage2/293/c12/f29/293c12f29ed6030a2dec245191296974.jpg"><br><br>  Here is the best proof of this: <br><img src="https://habrastorage.org/storage2/7db/b49/5dc/7dbb495dc5ac090828b78399cee40c32.jpg"><br><br>  Let's see, say, Top Gear, Season 9, Episode 1, Hammond returns: <br><img src="https://habrastorage.org/storage2/d86/f4d/3dd/d86f4d3dd691beefab3baef158e5cd42.jpg"><br><br><img src="https://habrastorage.org/storage2/a53/36f/b95/a5336fb9540082832751b6ef22d6c546.jpg"><br><br>  If there are several audio tracks in a video file, you can switch between them: <br><img src="https://habrastorage.org/storage2/6aa/816/687/6aa8166877786c5cf0a3159dce83fb3e.jpg"><br><br>  You can switch between subtitles if they are embedded in the file: <br><img src="https://habrastorage.org/storage2/d8f/037/794/d8f037794c7555e0bd6fcafb1b5edcf8.jpg"><br><br>  Here is Clarkson's face: <br><img src="https://habrastorage.org/storage2/4e9/bfa/664/4e9bfa6643af00493d6bf4278492fe4b.jpg"><br><br>  You can always continue to play the movie from the last viewing point: <br><img src="https://habrastorage.org/storage2/1cf/dfe/00a/1cfdfe00a734fd5d617b94465f951439.jpg"><br><br>  And you can use additional features like searching for a film similar to the genre of a film or a film with the same actors: <br><img src="https://habrastorage.org/storage2/8b3/fd5/3cf/8b3fd53cf6112cf5a681d3d00b7eeb2d.jpg"><br><br><blockquote>  Specifically pointing out detailed screenshots - how well the PlexConnect media library fit into the Apple TV native interface! </blockquote><br>  For automated filling of meta tags and movie covers, I advise you to install the plugin Kinopoiska.ru, for this: <br><ul><li>  <a href="http://sourceforge.net/projects/russianplex/files/KinoPoiskRu/">Download the latest version of the module</a> ; </li><li>  Copy the file kinopoisk.bundle to the folder: </li><li>  when adding folders with movies in the advanced settings we specify as Agent - KinoPoiskRU and Russian as the language for searching metadata: <br><img src="https://habrastorage.org/storage2/fca/2f4/11f/fca2f411f140cffa5e27068a36072dcf.jpg"></li><li>  I also strongly recommend giving video files original movie titles, for example: Keinohrhasen.mkv (the German movie name is determined without error). </li></ul><br><br><h5>  Outro </h5><br>  In conclusion, I would like to say that if the local Plex media library is correctly filled with all media tags (covers, descriptions, genres, actors, etc.), this method, based on the Apple TV deception, allows the prefix to be used as if it were in the case of using a full-fledged iTunes library. <br><br>  As you can see, this method is easy to configure and unpretentious in operation, but the end result will pleasantly surprise you, as it struck me when you first started. <br><br>  Good luck with your setup! <br><br><h5>  UPDATES </h5><br>  1. It is revealed that Plex still converts data on the fly in a format incompatible for Apple (for example, audio tracks in DTS): <br><img src="https://habrastorage.org/storage2/862/3aa/940/8623aa940c561d6cf751103d66a24978.png"><br><br>  2. <b>Localization is possible</b> !  We download <a href="">archive with localized files</a> and unpack above existing ones.  Just in case, I advise you to backup your files.  Replaces files from the <code>assets</code> folder. <br><br>  Result on the screen: <br><img src="https://habrastorage.org/storage2/c8c/198/834/c8c19883414d73dbe9951c9954ee8711.jpg"><br><br>  It remains to contact the developer and inform him about this change. <br><br>  3. <b>Important: the Apple TV 5.3 firmware update that has just arrived does not break the functionality, everything works</b> . </div><p>Source: <a href="https://habr.com/ru/post/183866/">https://habr.com/ru/post/183866/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../183854/index.html">Introduction to Spring Frameworks: Spring MVC</a></li>
<li><a href="../183856/index.html">STM32F3DISCOVERY, accelerometers, stepper motors and a bit of magic</a></li>
<li><a href="../183858/index.html">Keyboard input using IME</a></li>
<li><a href="../183862/index.html">SCO resumes litigation against IBM over UNIX rights</a></li>
<li><a href="../183864/index.html">NASA is asking for help in finding dangerous asteroids to neutralize them</a></li>
<li><a href="../183868/index.html">Add links to site pages in CKEDITOR 4</a></li>
<li><a href="../183872/index.html">A network of "solar" charging stations is being created in New York</a></li>
<li><a href="../183874/index.html">The arrival of Node on Android: the first steps</a></li>
<li><a href="../183878/index.html">Account hacking and unicode characters</a></li>
<li><a href="../183882/index.html">Using vSphere Web Client to Deploy Virtual Machines</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>