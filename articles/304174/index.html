<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Simple automation example letsencrypt</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The certification center ‚ÄúLet's Encrypt‚Äù (hereinafter simply letsencrypt) came out of beta a couple of months ago, got used to it in real conditions, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Simple automation example letsencrypt</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/b9a/698/5b7/b9a6985b7df74b468c36ebf7813f8238.png" alt="image"><br><br>  The certification center ‚ÄúLet's Encrypt‚Äù (hereinafter simply letsencrypt) came out of beta a couple of months ago, got used to it in real conditions, got rid of childhood diseases and was overgrown by various customers.  And by this time issued <a href="https-progress-june-2016.html">5 million</a> certificates.  It's time to introduce, i.e.  receive certificates for your domains and update them automatically.  But how to implement so as to get closer to your favorite admin "set and forget"?  So that it was easy to get new certificates, and the old ones were updated automatically?  So how to add a bit of security to this process? <br>  The answer is under the cut. <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">TL; DR / Quick Start / cheat sheet</b> <div class="spoiler_text"><ul><li>  Download and configure the script <br><pre><code class="bash hljs">sudo adduser --system --home /opt/letsencrypt le sudo -u le -s git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/lukas2511/letsencrypt.sh.git /opt/letsencrypt/ mkdir /opt/letsencrypt/.acme-challenges <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> CONTACT_EMAIL=<span class="hljs-string"><span class="hljs-string">"your@email"</span></span> &gt; /opt/letsencrypt/config <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"_"</span></span> &gt; /opt/letsencrypt/domains.txt</code> </pre> </li><li>  add line to nginx virtual host config <br><pre> <code class="nginx hljs"><span class="hljs-attribute"><span class="hljs-attribute">location</span></span> /.well-known/acme-challenge/ { <span class="hljs-attribute"><span class="hljs-attribute">alias</span></span> /opt/letsencrypt/.acme-challenges/; }</code> </pre></li><li>  run the script <br><pre> <code class="bash hljs">sudo -u le /opt/letsencrypt/letsencrypt.sh --cron</code> </pre></li><li>  add three more lines to the virtual host config <br><pre> <code class="nginx hljs"><span class="hljs-attribute"><span class="hljs-attribute">listen</span></span> <span class="hljs-number"><span class="hljs-number">443</span></span> ssl; <span class="hljs-attribute"><span class="hljs-attribute">ssl_certificate</span></span> /opt/letsencrypt/certs/_/fullchain.pem; <span class="hljs-attribute"><span class="hljs-attribute">ssl_certificate_key</span></span> /opt/letsencrypt/certs/_/privkey.pem;</code> </pre></li><li>  add le to cron <br><pre> <code class="bash hljs">1 0 * * * /opt/letsencrypt/letsencrypt.sh --cron</code> </pre></li></ul><br></div></div><br>  As I said, letsencrypt has been overgrown with various clients who allow to get a certificate.  These same clients, by the way, already <a href="https://letsencrypt.org/docs/client-options/">dozens</a> for different systems and programming languages.  The article will tell about the implementation of the client on bash from lukas2511, <a href="">letsencrypt.sh</a> .  This is one bash script that lies in its folder and only needs openssl to work.  It will run under a separate user.  Of course, if you wish, you can always tighten the nuts even more tightly in terms of security - run in chroot, etc. <br><br>  First you need to download and configure the script. <br>  Suppose the OS is linux, the web server is nginx, the working folder of the script is / opt / letsencrypt, and the user is le. <br>  Create a system user from which the script will work.  When creating a system user in debian / ubuntu, it exposes the / bin / false shell and is assigned the nogroup group, which is fine for us. <br><pre> <code class="bash hljs">$ sudo adduser --system --home /opt/letsencrypt le</code> </pre> <br>  Now you can become this user and do everything under it (except for the nginx configuration). <br>  Download the script and see the contents. <br><pre> <code class="bash hljs">$ sudo -u le -s $ git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/lukas2511/letsencrypt.sh.git /opt/letsencrypt/ $ ls -la /opt/letsencrypt/ total 84 drwxr-xr-x 4 le le 4096 Jun 25 15:56 . drwxr-xr-x 3 root root 4096 Jun 25 15:53 .. -rw-r--r-- 1 le le 1406 Jun 25 15:56 CHANGELOG drwxr-xr-x 3 le le 4096 Jun 25 15:56 docs drwxr-xr-x 8 le le 4096 Jun 25 15:56 .git -rw-r--r-- 1 le le 108 Jun 25 15:56 .gitignore -rwxr-xr-x 1 le le 37634 Jun 25 15:56 letsencrypt.sh -rw-r--r-- 1 le le 1080 Jun 25 15:56 LICENSE -rw-r--r-- 1 le le 3040 Jun 25 15:56 README.md -rwxr-xr-x 1 le le 8048 Jun 25 15:56 test.sh -rw-r--r-- 1 le le 107 Jun 25 15:56 .travis.yml</code> </pre><br>  To work, the script needs a folder where it will add files for domain validation. <br>  By default, the script is configured to use the <code>/opt/letsencrypt/.acme-challenges</code> folder and will fall with an error if there is no such folder. <br>  It is also desirable to create a config with the necessary parameters.  The script tries to take parameters for operation from the <code>/opt/letsencrypt/config</code> file.  By default, there is no file and the script uses default values, but there is a well-documented config in the documentation folder that can be taken as a basis. <br>  Create a folder and copy the config <br><pre> <code class="bash hljs">$ mkdir /opt/letsencrypt/.acme-challenges $ cp /opt/letsencrypt/docs/examples/config /opt/letsencrypt/config</code> </pre><br>  To see what values ‚Äã‚Äãthe script works with, you can call it with the <code>--env</code> <br><pre> <code class="bash hljs">$ /opt/letsencrypt/letsencrypt.sh --env <span class="hljs-comment"><span class="hljs-comment"># letsencrypt.sh configuration # # !! WARNING !! No main config file found, using default config! # declare -- CA="https://acme-v01.api.letsencrypt.org/directory" declare -- LICENSE="https://letsencrypt.org/documents/LE-SA-v1.0.1-July-27-2015.pdf" declare -- CERTDIR="/opt/letsencrypt/certs" declare -- CHALLENGETYPE="http-01" declare -- DOMAINS_TXT="/opt/letsencrypt/domains.txt" declare -- HOOK="" declare -- HOOK_CHAIN="no" declare -- RENEW_DAYS="30" declare -- ACCOUNT_KEY="/opt/letsencrypt/accounts/aHR0cHM6Ly9hY21lLXYwMS5hcGkubGV0c2VuY3J5cHQub3JnL2RpcmVjdG9yeQo/account_key.pem" declare -- ACCOUNT_KEY_JSON="/opt/letsencrypt/accounts/aHR0cHM6Ly9hY21lLXYwMS5hcGkubGV0c2VuY3J5cHQub3JnL2RpcmVjdG9yeQo/registration_info.json" declare -- KEYSIZE="4096" declare -- WELLKNOWN="/opt/letsencrypt/.acme-challenges" declare -- PRIVATE_KEY_RENEW="yes" declare -- OPENSSL_CNF="/usr/lib/ssl/openssl.cnf" declare -- CONTACT_EMAIL="" declare -- LOCKFILE="/opt/letsencrypt/lock"</span></span></code> </pre><br><div class="spoiler">  <b class="spoiler_title">Description of some parameters</b> <div class="spoiler_text">  <code>CA</code> - which certification authority to use.  There are at least two of them - combat (by default) and <a href="https://community.letsencrypt.org/t/testing-against-the-lets-encrypt-staging-environment/6763">test</a> .  The fact is that combat has <a href="https://community.letsencrypt.org/t/rate-limits-for-lets-encrypt/6769">different restrictions</a> on the frequency of requests and the number of domains.  It is easy to rest against these limitations when testing.  Therefore, I recommend specifying a test center for test runs.  It works in the same way as combat, it simply generates invalid certificates. <br>  Here is the test CA: <br> <code>CA="https://acme-staging.api.letsencrypt.org/directory" <br></code> <br>  <code>CERTDIR</code> - folder for certificates.  Inside it there are hotel folders by the host name.  And in these folders are certificates for each host.  You will need to configure nginx to read certificates from these folders (see below). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <code>DOMAINS_TXT</code> - list of domains.  One line - one certificate.  In one line there can be several domains, then one certificate is created for them.  The script takes the first domain as the name of the certificate, and the remaining domains indicate as optional.  For example, for such a file, the script will create two certificates: some.domain.com and test.com. <br> <code>some.domain.com another.domain.net example.domain.org <br> test.com www.test.org ftp.test.net <br></code> <br>  <code>HOOK</code> is a script that runs on various actions (during domain validation, certificate generation, etc.). <br>  Different parameters are passed to the script: operation name, paths to new certificates, etc. <br>  Specifying your script can help if you need to perform a little more action at each step. <br>  For example, a certificate needs to be decomposed into several servers, or a domain should be validated through dns, and not through a file. <br>  The script, which does nothing, but contains a lot of comments, is located at <code>/opt/letsencrypt/docs/examples/hook.sh</code> <br><br>  <code>RENEW_DAYS</code> - after how many days to renew the certificate.  Maximum 90, default 30. <br><br>  <code>CONTACT_EMAIL</code> - working email administrator. <br></div></div><br>  I recommend specifying your email <code>CONTACT_EMAIL</code> in <code>CONTACT_EMAIL</code> in the <code>CONTACT_EMAIL</code> and <code>CONTACT_EMAIL</code> up a test <code>CA</code> for the duration of the tests. <br>  The installation and initial setup of the script is complete.  Now you can get certificates. <br><br>  To get started, we will get a certificate for one domain: <code>letest.lexore.net</code> <br>  In nginx for the test we will make a simple config of a virtual host that will output the protocol, http or https. <br><pre> <code class="nginx hljs"><span class="hljs-section"><span class="hljs-section">server</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">listen</span></span> <span class="hljs-number"><span class="hljs-number">80</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">server_name</span></span> letest.lexore.net; <span class="hljs-attribute"><span class="hljs-attribute">location</span></span> /.well-known/acme-challenge/ { <span class="hljs-attribute"><span class="hljs-attribute">alias</span></span> /opt/letsencrypt/.acme-challenges/; } <span class="hljs-attribute"><span class="hljs-attribute">location</span></span> / { <span class="hljs-attribute"><span class="hljs-attribute">default_type</span></span> text/plain; <span class="hljs-attribute"><span class="hljs-attribute">return</span></span> <span class="hljs-number"><span class="hljs-number">200</span></span> <span class="hljs-string"><span class="hljs-string">"scheme: </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$scheme</span></span></span><span class="hljs-string">"</span></span>; } }</code> </pre><br>  Key parameter: <code>location /.well-known/acme-challenge/</code> <br>  <code>/opt/letsencrypt/.acme-challenges/</code> are created in the <code>/opt/letsencrypt/.acme-challenges/</code> folder to confirm that you are managing the site. <br>  They must be available at <code>_/.well-known/acme-challenge/</code> , otherwise the certificate will not be signed. <br>  File names are randomly generated, so it's easier to open access to the entire folder. <br>  At the end, the script deletes the created file, so the folder will not be cluttered. <br><br>  Restart nginx and check the site: <br><pre> <code class="bash hljs">$ curl -i letest.lexore.net HTTP/1.1 200 OK Server: nginx Date: Sun, 26 Jun 2016 13:13:18 GMT Content-Type: text/plain Content-Length: 12 Connection: keep-alive scheme: http</code> </pre><br>  Now you need to register the host name in domains.txt and run the script itself. <br><pre> <code class="bash hljs">$ <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> letest.lexore.net &gt; /opt/letsencrypt/domains.txt $ /opt/letsencrypt/letsencrypt.sh --cron <span class="hljs-comment"><span class="hljs-comment"># INFO: Using main config file /opt/letsencrypt/config Processing letest.lexore.net + Signing domains... + Creating new directory /opt/letsencrypt/certs/letest.lexore.net ... + Generating private key... + Generating signing request... + Requesting challenge for letest.lexore.net... + Responding to challenge for letest.lexore.net... + Challenge is valid! + Requesting certificate... + Checking certificate... + Done! + Creating fullchain.pem... + Done!</span></span></code> </pre><br>  The certificate is ready, the certificate and key files are in the " <code>/opt/letsencrypt/certs/letest.lexore.net</code> " folder. <br>  It remains to add the settings in nginx.  You need to add the following lines to the virtual host config: <br><pre> <code class="nginx hljs"><span class="hljs-attribute"><span class="hljs-attribute">listen</span></span> <span class="hljs-number"><span class="hljs-number">443</span></span> ssl; <span class="hljs-attribute"><span class="hljs-attribute">ssl_certificate</span></span> /opt/letsencrypt/certs/letest.lexore.net/fullchain.pem; <span class="hljs-attribute"><span class="hljs-attribute">ssl_certificate_key</span></span> /opt/letsencrypt/certs/letest.lexore.net/privkey.pem;</code> </pre><br>  After rebooting nginx, you can try the site in a browser. <br>  If a test CA was specified in the script configuration, the browser will call for a certificate. <br><div class="spoiler">  <b class="spoiler_title">What does this certificate look like in firefox</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/f6f/c01/711/f6fc017117744f08bdd165ee34915167.png" alt="image"></div></div><br>  But it still means that the script and nginx are configured correctly. <br>  Now you just need to change the CA in the config to the combat value and run the script again, adding the parameter <code>--force</code> . <br>  Without this parameter, the script will not re-generate the certificate, since  The obsolescence period specified in the config has not yet come up. <br><pre> <code class="bash hljs">le@endor:~$ /opt/letsencrypt/letsencrypt.sh --cron --force <span class="hljs-comment"><span class="hljs-comment"># INFO: Using main config file /opt/letsencrypt/config Processing letest.lexore.net + Checking domain name(s) of existing cert... unchanged. + Checking expire date of existing cert... + Valid till Sep 24 12:13:00 2016 GMT (Longer than 80 days). Ignoring because renew was forced! + Signing domains... + Generating private key... + Generating signing request... + Requesting challenge for letest.lexore.net... + Responding to challenge for letest.lexore.net... + Challenge is valid! + Requesting certificate... + Checking certificate... + Done! + Creating fullchain.pem... + Done!</span></span></code> </pre><br>  After running the script and restarting nginx, the site will receive the correct certificate. <br>  The certificate is ready, https works. <br><div class="spoiler">  <b class="spoiler_title">What does the right certificate look like</b> <div class="spoiler_text"> <a href=""><img src="https://habrastorage.org/files/f7d/e73/c77/f7de73c77d1748149b881a547817609e.png"></a> <br></div></div><br>  A few words about several domains. <br>  One certificate can be used for several domains.  For example, here‚Äôs what it would look like if you add <code>subdomain.letest.lexore.net</code> . <br>  Running the script: <br><pre> <code class="bash hljs">$ /opt/letsencrypt/letsencrypt.sh --cron --force <span class="hljs-comment"><span class="hljs-comment"># INFO: Using main config file /opt/letsencrypt/config Processing letest.lexore.net with alternative names: subdomain.letest.lexore.net + Checking domain name(s) of existing cert... changed! + Domain name(s) are not matching! + Names in old certificate: letest.lexore.net + Configured names: letest.lexore.net subdomain.letest.lexore.net + Forcing renew. + Checking expire date of existing cert... + Valid till Sep 24 12:48:00 2016 GMT (Longer than 80 days). Ignoring because renew was forced! + Signing domains... + Generating private key... + Generating signing request... + Requesting challenge for letest.lexore.net... + Requesting challenge for subdomain.letest.lexore.net... + Responding to challenge for letest.lexore.net... + Challenge is valid! + Responding to challenge for subdomain.letest.lexore.net... + Challenge is valid! + Requesting certificate... + Checking certificate... + Done! + Creating fullchain.pem... + Done!</span></span></code> </pre><br>  Edit nginx config, restart, and now the new certificate is already working for two domains. <br><div class="spoiler">  <b class="spoiler_title">Screenshot of such a certificate in firefox</b> <div class="spoiler_text"> <a href=""><img src="https://habrastorage.org/files/5cc/61f/f5b/5cc61ff5bb3f472aa3b5c20e0321740a.png"></a> <br></div></div><br>  Domains do not have to be connected in any way; you can create one domain for domain.com and ftp.example.net. <br>  Maximum you can specify <a href="https://community.letsencrypt.org/t/rate-limits-for-lets-encrypt/6769">100 domains</a> in one certificate. <br>  For some, this may be enough to get by with one certificate for all sites on the server. <br>  However, this certificate will have to be re-created for each new domain in the list, and you can rest against limits. <br><br>  And now the best part is automation. <br>  In order for the script itself to update all certificates from the domains.txt file and you forget about hand manipulations, you need to add one line to the cron of the user le: <br><pre> <code class="bash hljs">0 1 * * * /opt/letsencrypt/letsencrypt.sh --cron</code> </pre><br>  Thus, the algorithm for translating subsequent sites to https: <br><ul><li>  add <code>location /.well-known/acme-challenge/ { alias /opt/letsencrypt/.acme-challenges/; }</code> <code>location /.well-known/acme-challenge/ { alias /opt/letsencrypt/.acme-challenges/; }</code> </li><li>  add <code>_</code> to <code>domains.txt</code> </li><li>  run the script <code>/opt/letsencrypt/letsencrypt.sh --cron</code> </li><li>  add ssl settings <br><pre> <code class="nginx hljs"><span class="hljs-attribute"><span class="hljs-attribute">listen</span></span> <span class="hljs-number"><span class="hljs-number">443</span></span> ssl; <span class="hljs-attribute"><span class="hljs-attribute">ssl_certificate</span></span> /opt/letsencrypt/certs/_/fullchain.pem; <span class="hljs-attribute"><span class="hljs-attribute">ssl_certificate_key</span></span> /opt/letsencrypt/certs/_/privkey.pem;</code> </pre></li></ul><br><br>  This is not the only way to automate, many letsencrypt clients can reduce all the work to the launch of a single script on the crown. <br>  I liked this script for its simplicity; all the work is done by one bash script. <br>  And also, for its additional features - besides simple automation, it supports out of the box ‚Äúcomplex‚Äù automation, running its own scripts and redefining the parameters. <br>  For example, I have already mentioned about the parameter <code>HOOK</code> in the config, which allows you to run your script. <br>  Also out of the box there is a parameter <code>CONFIG_D</code> - a folder in which all <code>.sh</code> scripts will be run to redefine the parameters of the main config. <br>  Plus, support for different "accounts" by specifying different <code>ACCOUNTDIR</code> - folders with private keys for signing requests. <br>  I think this will allow the use of the script in large and complex infrastructures. </div><p>Source: <a href="https://habr.com/ru/post/304174/">https://habr.com/ru/post/304174/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../304160/index.html">Generate passwords for Super Castlevania IV and Rock n 'Roll Racing</a></li>
<li><a href="../304162/index.html">Poll. New <? ~ $ Value?> Tag for HTML data escaping in PHP</a></li>
<li><a href="../304164/index.html">How to speed up build with Maven</a></li>
<li><a href="../304166/index.html">Infinite scrolling vs. pagination</a></li>
<li><a href="../304170/index.html">Admission to the "free" magistracy in the United States. Part one</a></li>
<li><a href="../304178/index.html">Mindfields contracts: respectable partnership of developers and enterprises</a></li>
<li><a href="../304180/index.html">PyCon Russia 2016: latest news and final program</a></li>
<li><a href="../304182/index.html">Why graphQL future</a></li>
<li><a href="../304184/index.html">5 consequences of using high technology that can lead to depression</a></li>
<li><a href="../304186/index.html">We solve the ‚ÄúFirst Open Contest‚Äù from Mail.ru on Data Science using Azure ML (introduction to Azure ML)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>