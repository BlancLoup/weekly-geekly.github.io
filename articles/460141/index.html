<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Not a regular programming language. Part 2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The second part of the trilogy about the language and the lsFusion platform. The first part can be found here . 

 It will deal with the logic of repr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Not a regular programming language. Part 2</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/2d/rs/or/2drsorzdyhzjsvkqeknw25-wydc.png"><br><br>  The second part of the trilogy about the language and the lsFusion platform.  The first part can be found <a href="https://habr.com/ru/company/lsfusion/blog/458376/">here</a> . <br><br>  It will deal with the logic of representations, namely about everything that is associated with the integration of data and display them to the user or other information systems. <br><a name="habracut"></a><br>  It is clear that many may not be so interesting to look at the fighter‚Äôs presentation, and they would like to see a real fight, if possible with blood (and it will be good, the discussion of previous articles helped to better understand the unprotected places of potential competitors and where it should be beaten) .  But there are two things to consider: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      a) this is Habr.  That is a technical resource, they do not like beautiful pictures and advertising slogans - in order to say something, you need details on how you are going to achieve it. <br>  b) it is a market for the development of information systems, and it is very similar to the market for slimming products.  Here everyone declares that we have fast and easy.  But when it comes to details in which, as is well known, the devil is hidden, either the simplest CRUDs are cited as examples or they resort to various tricks: they show some snippets of code, and hide the main part with the words ‚Äúit doesn't matter "," Done in a couple of minutes "and everything like that. <br><br>  Actually, therefore, we had two options: either to start with the advantages and the risk of getting reproaches in the marketing bullshit, or to begin with a technical description and the questions ‚Äúwhy do we need another language‚Äù.  Theoretically, of course, all this could be done in one article, but such an article would be hard not only to read, but even just to scroll through.  Accordingly, we chose the second option, although if it is still important for someone to find out about the reasons for the emergence and advantages of the language right now (and not in future articles), welcome to the <a href="https://lsfusion.org/">site</a> .  It consists of only three pages: what, how and why not, and gives, in my opinion, quite enough information to answer all these questions.  Plus, you can also try the <a href="https://lsfusion.org/try">online</a> platform, including to make sure that there is no ‚Äúpiano in the bushes‚Äù, and the code from the examples in this article is really all the code needed to run the application. <br><br>  But enough lyrical digressions, back to the <s>presentation of the fighter</s> description of the logic of representations. <br><br>  As in the domain logic (the first article), all concepts of representation logic in lsFusion form a stack: <br><br><img src="https://habrastorage.org/webt/hn/en/hb/hnenhbkjr9-wnqrttnvio5gy568.jpeg"><br><br>  and it is in the order of this stack that I will talk about them. <br><br><h2>  Forms </h2><br>  A form is the most important (and in fact practically the only) concept in the logic of representations, which is responsible for everything - both for user interaction and for printing, exporting and importing data. <br><br>  The form can logically be divided into two parts: <br><br><ul><li>  The form structure determines what data the form displays. <br></li><li>  The form view determines how it shows this data. <br></li></ul><br><h2>  Form structure </h2><br>  We begin, of course, with the structure of the form. <br><br><h3>  Objects </h3><br>  When creating a form, you first need to determine which objects it will display.  It is worth noting that there may be a little more confusion in terminology between form objects and objects that are displayed in these form objects.  Therefore, in the future, if it is not obvious from the context, we will use the terms ‚Äúform objects‚Äù (for the first case) and ‚Äúobjects in the database‚Äù (for the second). <br><br>  For each form object you need to set its class.  This class can be both primitive (built-in) and object (user). <br><div class="scrollable-table"><table><tbody><tr><td><code><font color="#a626a4">FORM</font> currentBalances <font color="#50a14f">' '</font> <br> <font color="#a626a4">OBJECTS</font> s = Stock, i = Item <font color="#808080"><i>//  ,  </i></font> <br> ; <br></code> </td></tr></tbody></table></div>  In accordance with the order of adding objects to the form, an ordered list of objects is formed.  Accordingly, the last object for some set of objects will be called an object from this set with the maximum sequence number in this list (that is, as late as possible). <br><br>  Every object on the form at any given time has a current value.  Its change occurs depending on the presentation, either as a result of the corresponding actions of the user in the interactive presentation, or ‚Äúvirtually‚Äù in the process of reading data in a static representation. <br><br><h3>  Properties and Actions </h3><br>  After defining the objects on the form, you can add properties and actions, substituting the objects described above with their input as arguments. <br><br>  Note that adding actions is only relevant for an interactive presentation; they are ignored in reports and exports.  Also, given that the behavior of properties and actions from the point of view of their display on the form is absolutely the same, in the future we will use only the term property (for actions, the behavior is absolutely similar). <br><br><h3>  Display object </h3><br>  Each property is displayed in exactly one object on the form (we will call it the object displaying this property).  By default, the display object is the object, the last one for the set of objects that are passed to the input of this property.  For example, if we have a current balance form with two objects ‚Äî a warehouse and a commodity, and three properties ‚Äî the names of the warehouse and the commodity and the remainder of the goods in the warehouse: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">FORM</font> currentBalances <font color="#50a14f">' '</font> <br> <font color="#a626a4">OBJECTS</font> s = Stock, i = Item <font color="#808080"><i>//  ,  </i></font> <br> <font color="#a626a4">PROPERTIES</font> name(s), name(i), currentBalance(s, i) <br> ; <br></code> </td></tr></tbody></table></div>  Then, for the name of the warehouse, the display object will be s (warehouse), and for the name of the product and the remainder, i (product). <br><br>  However, if necessary, the developer can set the display object explicitly (that is, for example, in an interactive view, show the property with the remainder in the table of warehouses, and not goods). <br><br><h3>  Filters and sorting </h3><br>  For each form, the developer can specify filters and orders that will limit the list of objects available for viewing / selection on the form, as well as the order in which they are displayed. <br><br>  To set a filter, you must specify a property that will be used as a filtering criterion.  The filter will be applied to the table of the object that is the last for the set of objects passed to the input of this property (that is, similarly with the definition of the property display object).  In this case, only those sets of objects (rows) will be shown for which the property values ‚Äã‚Äãare not equal to NULL.  For example, if we add the currentBalance (s, i) OR isActive (i) filter to the form above: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">FORM</font> currentBalances <font color="#50a14f">' '</font> <br> <font color="#a626a4">OBJECTS</font> s = Stock, i = Item <font color="#808080"><i>//  ,  </i></font> <br> <font color="#a626a4">PROPERTIES</font> name(s), name(i), currentBalance(s, i) <br> <font color="#a626a4">FILTERS</font> currentBalance(s, i) <font color="#a626a4">OR</font> isActive(i) <br> ; <br></code> </td></tr></tbody></table></div><div class="spoiler">  <b class="spoiler_title">Form Screenshot</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/ob/9k/4t/ob9k4tfpyzqw5mzusv_uqzwh784.png"><br></div></div><br>  then when displaying goods, only products that are on the balance or are marked as active will be displayed. <br><br>  Sorts are defined as a list of properties on the form, in which order the objects should be shown.  Otherwise, everything is similar to filters. <br><br><h3>  Groups of objects </h3><br>  The platform also has the ability to combine objects into a <i>group of objects</i> .  In this case, the ‚ÄúCartesian product‚Äù of these objects will be shown in the tables / lists (that is, for two objects - all pairs, three objects - triples, etc.). <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">FORM</font> currentBalances <font color="#50a14f">' '</font> <br> <font color="#a626a4">OBJECTS</font> (s = Stock, i = Item) <font color="#808080"><i>//       </i></font> <br> <font color="#a626a4">PROPERTIES</font> name(s), name(i), currentBalance(s, i) <br> <font color="#a626a4">FILTERS</font> currentBalance(s, i) <font color="#a626a4">OR</font> isActive(i) <br> ; <br></code> </td></tr></tbody></table></div><div class="spoiler">  <b class="spoiler_title">Form Screenshot</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/et/p_/dc/etp_dcq19kd1iatej7isifz319w.png"><br></div></div><br>  Accordingly, groups of objects can be used almost everywhere, both before and after, instead of single objects of the form. <br><br>  Actually, the documentation has done so: the more general term ‚Äúgroup of objects‚Äù is used everywhere, but in order not to complicate things in this article (and groups of objects consisting of several objects are used much less frequently), it was decided to forget about groups of objects that a group of objects always consists of exactly one object and, accordingly, use the term ‚Äúobject‚Äù everywhere instead of the more complex ‚Äúgroup of objects‚Äù and ‚Äúset of objects‚Äù. <br><br><h3>  Property groups </h3><br>  Properties on the form, as well as objects, can also be combined into groups, which, in turn, are used in the interactive (default design) and hierarchical views of the form (about them later).  By default, the binding of a property to a group is global (that is, it is set for a property for all forms at once), however, if necessary, this binding can be redefined for individual forms. <br><br><h3>  Column objects </h3><br>  By default, a property is displayed exactly once in its display object.  At the same time, as the values ‚Äã‚Äãof objects other than the object of display of this property (let's call them upper), their current values ‚Äã‚Äãare used.  However, it is also possible in the platform to display one property several times in such a way that the values ‚Äã‚Äãof some upper objects are not their current values, but all the objects in the database that are suitable for filters.  With this mapping of properties, a kind of ‚Äúmatrix‚Äù is formed - (display object) x (upper objects).  Accordingly, in order to create such a matrix, it is necessary, when adding a property to a form, to specify which particular upper objects should be used to create columns (we will call these objects column-in-objects). <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">FORM</font> currentBalances <font color="#50a14f">' '</font> <br> <font color="#808080"><i>//             ,</i></font> <br> <font color="#808080"><i>//     </i></font> <br> <font color="#a626a4">OBJECTS</font> s = Stock, i = Item <br> <font color="#808080"><i>//             </i></font> <br> <font color="#a626a4">PROPERTIES</font> name(i), currentBalance(s, i) <font color="#a626a4">COLUMNS</font> (s) <font color="#a626a4">HEADER</font> name(s) <br> <font color="#a626a4">FILTERS</font> isActive(i), isActive(s) <br> ; <br></code> </td></tr></tbody></table></div><div class="spoiler">  <b class="spoiler_title">Form Screenshot</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/0g/2m/yr/0g2myrtwjvr17hgr7oug0oycnwq.png"><br></div></div><br>  So, with the fact that the form displays, more or less figured out, let's move on to how she can do it. <br><br><h2>  Form submissions </h2><br>  There are three form representations: <br><br><img src="https://habrastorage.org/webt/9r/ev/gi/9revgiwrekdexbi8gf8gf8p_v88.jpeg"><br><br><div class="spoiler">  <b class="spoiler_title">Screenshots of views</b> <div class="spoiler_text">  Interactive: <br><br><img src="https://habrastorage.org/webt/ob/9k/4t/ob9k4tfpyzqw5mzusv_uqzwh784.png"><br><br>  Printed: <br><br><img src="https://habrastorage.org/webt/lr/vs/yb/lrvsybo80iussam6qu2dkh8973u.png"><br><br>  Structured: <br><br><img src="https://habrastorage.org/webt/qx/if/e2/qxife2gksvn3jttbodmmfmsz7hm.png"><br></div></div><br><ul><li>  Interactive.  Representation with which the user can interact - change data and current objects by triggering various events.  Actually, this representation is usually called form. <br></li><li>  Printed  It is usually accepted to call a report ‚Äî the unloading of all form data and its presentation in graphical form.  Including the possibility of printing them (from which it got its name). <br></li><li>  Structured - presentation of a form in various structured formats (JSON, XML, DBF, etc.).  Typically used for further integration with other systems. <br></li></ul><br>  Interactive and printed representations are graphical, that is, display the data obtained in a two-dimensional space: paper or device screen.  Accordingly, each of these representations has a design that, depending on the specific presentation, can be set using the appropriate mechanisms (about them a little later). <br><br>  The printed and structured presentation is static, that is, all data is read at once at the time of opening the form (as opposed to the interactive, which reads the data as necessary). <br><br>  The description of representations will begin, perhaps, with the most difficult - interactive presentation. <br><br><h2>  Interactive presentation </h2><br>  In the interactive view, form objects are displayed in a table.  The rows in this table correspond to the objects in the database that satisfy the specified filters, the columns, in turn, correspond to the properties. <br><br>  However, if necessary, the property can be displayed not in the form of a column of a table, that is, for all its rows, but as a separate field on the form, that is, only for the current value of the form object.  For example: <br><div class="scrollable-table"><table><tbody><tr><td> <code>currentBalance <font color="#50a14f">' '</font> (Stock s) = <font color="#a626a4">GROUP</font> <font color="#a626a4">SUM</font> currentBalance(s, Item i); <br> <font color="#a626a4">FORM</font> currentBalances <font color="#50a14f">' '</font> <br> <font color="#a626a4">OBJECTS</font> s = Stock, i = Item <br> <font color="#808080"><i>// currentBalance(s)   ,    </i></font> <br> <font color="#a626a4">PROPERTIES</font> name(s), currentBalance(s) <font color="#a626a4">PANEL</font> , <br> name(i), currentBalance(s, i) <br> <font color="#a626a4">FILTERS</font> currentBalance(s, i) <br> ; <br></code> </td></tr></tbody></table></div><div class="spoiler">  <b class="spoiler_title">Form Screenshot</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/g8/ee/sb/g8eesb_q7apg5xffdmu_jilgy4w.png"><br></div></div><br>  The change in the current value of the form object occurs either as a result of the user changing the current row of the table, or as a result of performing an action created using a special search operator (SEEK). <br><br>  Note that the way of displaying a property in a panel or table, as a rule, is set not for each property individually, but as a whole for the form object.  Accordingly, if the form object is marked as PANEL, then all its properties are displayed in the panel (that is, for the current value), otherwise (by default) all its properties are displayed in the table.  Properties without parameters and default actions are displayed in the panel. <br><br>  All tables in the interactive view are dynamic by default, that is, only a limited number of objects in the database are read, and the rest are read as the current object changes in the table.  The number of displayed objects can be determined automatically on the basis of the height of the visible part of the table, and the developer explicitly specified when creating the form. <br><br>  Also, the form in the interactive view is completely reactive, that is, it automatically updates all the data on the form when changing any data that affects them (such React, only in the general case).  Plus, all this is done not by full recalculation (as in the same React), but incrementally, and moreover in SQL server. <br><br>  In general, it‚Äôs funny when comparing with other technologies you try to include the top three requirements in a task, people often make round eyes, as if they are asked to launch a person into space.  Although the non-fulfillment of the second requirement by any normal user will be classified as a bug, the first and third requirements are that the developed form will work normally when there is at least some data in the database (several tens of thousands of records, for example). <br><br>  The interactive view is supported both in the web client mode (that is, the web application in the browser) and in the desktop client mode (Java application).  The desktop client, like any native client, has a slightly better interface responsiveness, but most importantly, it allows you to work with the equipment, as well as perform other operations that are not available in the browser (mainly due to security problems). <br><br><h3>  Trees objects </h3><br>  In addition to tables, the platform also allows you to organize the display of objects in the form of trees, as flat (‚Äúnested‚Äù in each other tables), and recursive (for example, ‚Äúnested‚Äù in each other objects in the database). <br><br>  Plane trees, in fact, are a generalization of tables, when several tables are ‚Äúmerged‚Äù into one table at once: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">FORM</font> currentBalances <font color="#50a14f">' '</font> <br> <font color="#a626a4">TREE</font> tree s = Stock, i = Item <br> <font color="#808080"><i>//      </i></font> <br> <font color="#808080"><i>//          </i></font> <br> <font color="#a626a4">PROPERTIES</font> name(s), currentBalance(s), <br> name(i), currentBalance(s, i) <br> ; <br></code> </td></tr></tbody></table></div><div class="spoiler">  <b class="spoiler_title">Form Screenshot</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/-f/xo/uh/-fxouh90cpy2hrow4tvj0yf-pku.png"><br></div></div><br>  This is a relatively complex mechanism and is rarely used in practice, so we will not dwell on it in detail. <br><br>  But recursive trees, on the contrary, are used quite often (for example, to implement classifiers).  To display a form object in the form of such a tree, it is necessary to set an additional filter for it ‚Äî a property whose value for lower objects must be equal to the upper object.  Initially it is considered that the top object is NULL. <br><div class="scrollable-table"><table><tbody><tr><td> <code>parent = <font color="#a626a4">DATA</font> ItemGroup (ItemGroup) <font color="#a626a4">IN</font> base; <br> group = <font color="#a626a4">DATA</font> ItemGroup (Item) <font color="#a626a4">IN</font> base; <br> <font color="#808080"><i>//   </i></font> <br> level <font color="#50a14f">''</font> (ItemGroup child, ItemGroup parent) = <font color="#a626a4">RECURSION</font> <font color="#986801">1</font> <font color="#a626a4">AND</font> child <font color="#a626a4">IS</font> ItemGroup <font color="#a626a4">AND</font> parent = child <font color="#a626a4">STEP</font> <font color="#986801">1</font> <font color="#a626a4">IF</font> parent = parent($parent); <br> currentBalance <font color="#50a14f">' '</font> (ItemGroup ig, Stock s) = <font color="#a626a4">GROUP</font> <font color="#a626a4">SUM</font> currentBalance(s, Item i) <font color="#a626a4">IF</font> level(ig, group(i)); <br> <br> <font color="#a626a4">FORM</font> currentBalances <font color="#50a14f">'  '</font> <br> <font color="#a626a4">OBJECTS</font> s=Stock <font color="#a626a4">PANEL</font> <font color="#808080"><i>//  </i></font> <br> <font color="#a626a4">PROPERTIES</font> (s) name <br> <font color="#a626a4">TREE</font> tree ig = ItemGroup <font color="#a626a4">PARENT</font> parent, i = Item <font color="#808080"><i>//     / </i></font> <br> <font color="#a626a4">PROPERTIES</font> name(ig), currentBalance(ig, s) <br> <font color="#a626a4">PROPERTIES</font> name(i), currentBalance(s, i) <br> <font color="#a626a4">FILTERS</font> group(i) = ig <br> ; <br></code> </td></tr></tbody></table></div><div class="spoiler">  <b class="spoiler_title">Form Screenshot</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/ro/ub/bj/roubbjrkk9tkn766gaefmzoai8y.png"><br></div></div><br><h3>  User form management </h3><br>  In order to ensure the best ergonomics of the system (including not to create forms for each and every), the users themselves can perform part of operations for setting up an interactive form presentation.  For example, such operations are: <br><br><ul><li>  table setup (visible columns, order, fonts, etc.), <br></li><li>  creating custom filters and sorts, <br></li><li>  grouping data by column values, <br></li><li>  print a table and upload it to Excel. <br></li></ul><br>  Also, the developer can create so-called filter groups that the user can turn on / off independently.  For example: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> currentBalances <font color="#808080"><i>//      </i></font> <br> <font color="#a626a4">FILTERGROUP</font> stockActive <font color="#808080"><i>//      ,      ,     / </i></font> <br> <font color="#a626a4">FILTER</font> <font color="#50a14f">''</font> active(st) <font color="#50a14f">'F11'</font> <font color="#808080"><i>//      ,       F11</i></font> <br> <font color="#a626a4">FILTERGROUP</font> bal <br> <font color="#a626a4">FILTER</font> <font color="#50a14f">'  '</font> currentBalance(st, sk) &gt; <font color="#986801">0</font> <font color="#50a14f">'F10'</font> <br> <font color="#a626a4">FILTER</font> <font color="#50a14f">'  '</font> currentBalance(st, sk) &lt; <font color="#986801">0</font> <font color="#50a14f">'F9'</font> <br> <font color="#a626a4">FILTER</font> <font color="#50a14f">' '</font> currentBalance(st, sk) <font color="#50a14f">'F8'</font> <font color="#a626a4">DEFAULT</font> <br> <font color="#a626a4">FILTER</font> <font color="#50a14f">' '</font> <font color="#a626a4">NOT</font> currentBalance(st, sk) <font color="#50a14f">'F7'</font> <br> ; <br></code> </td></tr></tbody></table></div>  These are not all possibilities for setting up the system by the user, but we will return to the remaining possibilities in the third article, since most of them still have no direct relation to the logic of ideas. <br><br>  Note that the functionality described above refers rather to the functionality of ERP platforms, which is completely dissonant with the article title.  On the other hand, as mentioned in the first article, in the long term, the language / platform claims to replace, including this class of platforms, so it would be wrong to not mention these features at all. <br><br><h3>  Object Operators </h3><br>  One of the most frequent scenarios for working with a form is adding / deleting an object, as well as editing it in a new form.  To implement such scenarios in the platform, there is a predefined set of operators that allow you to create the necessary actions in one word directly in the form creation operator: <br><br><ul><li>  NEW - object creation <br></li><li>  EDIT - object editing <br></li><li>  NEWEDIT - creating and editing an object <br></li><li>  DELETE - delete object <br></li></ul><br>  Also, since it is very often necessary to perform these actions in a new session (if you need to separate the actions of creating objects from the actions on the form from which these objects are created), the corresponding syntactic sugar is supported in the platform - the NEWSESSION and NESTEDSESSION options that work similarly to the eponymous operators creating actions, but, like the operators themselves working with objects, do not require the developer to create and name new actions.  For example: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">FORM</font> teams <br> <font color="#a626a4">OBJECTS</font> t=Team <br> <font color="#808080"><i>//  /         </i></font> <br> <font color="#a626a4">PROPERTIES</font> (t) <font color="#a626a4">NEWSESSION</font> <font color="#a626a4">NEW</font> , <font color="#a626a4">EDIT</font> , <font color="#a626a4">DELETE</font> <br> <font color="#a626a4">OBJECTS</font> p=Player <br> <font color="#a626a4">FILTERS</font> team(p)=t <br> <font color="#808080"><i>//          </i></font> <br> <font color="#a626a4">PROPERTIES</font> (p) <font color="#a626a4">NEW</font> , <font color="#a626a4">DELETE</font> <br> ; <br></code> </td></tr></tbody></table></div>  By default, when editing an object, an editing form is invoked, automatically generated for the class of the form object submitted.  However, it is often necessary to redefine this form (for example, add additional information, change the design, etc.) In order to do this, it is enough to create the necessary editing form and indicate that it is the default form for editing objects of a given class: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">FORM</font> order <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> o = Order <font color="#a626a4">PANEL</font> <br> <font color="#a626a4">PROPERTIES</font> (o) date, number <br> <br> <font color="#a626a4">OBJECTS</font> d = OrderDetail <br> <font color="#a626a4">PROPERTIES</font> (d) nameBook, quantity, price, <font color="#a626a4">NEW</font> , <font color="#a626a4">DELETE</font> <br> <font color="#a626a4">FILTERS</font> order(d) = o <br> <br> <font color="#a626a4">EDIT</font> Order <font color="#a626a4">OBJECT</font> o <br> ; <br></code> </td></tr></tbody></table></div>  Similarly, the forms for selecting objects of a given class are overridden. <br><br><h3>  Form Design </h3><br>  As with most existing GUIs, the design of an interactive form view is a hierarchy whose nodes are components.  Components, in turn, can be: <br><br><ul><li>  containers - components that contain other components. <br></li><li>  Basic components - graphic representations of basic elements: tables, property panels, filter groups, etc. <br></li></ul><br>  The arrangement of the components inside the containers essentially repeats <a href="https://www.w3.org/TR/css-flexbox-1/">CSS Flexible Box Layout</a> (and is implemented in the web client using it), so we will not dwell on this mechanism in great detail. <br><br>  Note that the design of the form is usually not created from scratch (as this is quite laborious).  As a rule, the form design is created automatically based on the form structure, and then the developer only slightly changes it: for example, adds a new container, and transfers existing components to it: <br><br><div class="spoiler">  <b class="spoiler_title">Default Form Design Example</b> <div class="spoiler_text"><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">FORM</font> myForm <font color="#50a14f">'myForm'</font> <br> <font color="#a626a4">OBJECTS</font> myObject = myClass <br> <font color="#a626a4">PROPERTIES</font> (myObject) myProperty1, myProperty2 <font color="#a626a4">PANEL</font> <br> <font color="#a626a4">FILTERGROUP</font> myFilter <br> <font color="#a626a4">FILTER</font> <font color="#50a14f">'myFilter'</font> myProperty1(myObject) <br> ; <br></code> </td></tr></tbody></table></div>  The hierarchy of containers and components in the default design will look like this: <br><br><img src="https://habrastorage.org/webt/k-/dm/2c/k-dm2ckd8rcl2sfpsukdvgfltws.png"><br></div></div><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">FORM</font> myForm <font color="#50a14f">' '</font> <br> <font color="#a626a4">OBJECTS</font> u = CustomUser <br> <font color="#a626a4">PROPERTIES</font> (u) name, <font color="#a626a4">NEW</font> , <font color="#a626a4">DELETE</font> <br> <br> <font color="#a626a4">OBJECTS</font> c = Chat <br> <font color="#a626a4">PROPERTIES</font> (c) message, <font color="#a626a4">NEW</font> , <font color="#a626a4">DELETE</font> <br> <font color="#a626a4">FILTERS</font> user(c) = u <br> ; <br> <br> <font color="#a626a4">DESIGN</font> myForm { <br> <font color="#a626a4">NEW</font> middle <font color="#a626a4">FIRST</font> { <br> type = <font color="#a626a4">CONTAINERH</font> ; <br> fill = <font color="#986801">1</font> ; <font color="#808080"><i>//    </i></font> <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> (u); <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> (c); <br> } <br> } <br></code> </td></tr></tbody></table></div><div class="spoiler">  <b class="spoiler_title">Form Screenshot</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/89/rh/lr/89rhlr2uf7bfw59zlnvfdelx8xq.png"><br></div></div><br><h3>  Form Design 2.0 (React) </h3><br>  Looking at the interactive presentation of forms in the above screenshots (or, for example, in an online demo), you can see that the current design of forms in the user interface, let's say, is very austere.  This, of course, has never been a particular problem for information systems, where the main users are employees or partners of the company that owns these information systems.  Moreover, despite the asceticism, the current mechanism of form design allows you to implement very difficult cases, for example, POS: <br><br><div class="spoiler">  <b class="spoiler_title">Form Screenshot</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/w0/vu/ve/w0vuve_sk_bendbuokxxceehw6i.png"><br></div></div><br>  But if it comes to, say, SaaS B2B or even more B2C (for example, some online banking), then immediately begin to appear questions how to make the design more ergonomic. <br><br>  At the current stage, a special <a href="https://www.npmjs.com/~lsfusion">javascript library has been</a> developed to solve this problem. Its main task is to create and update a special js-object containing form data.  Accordingly, this object can be used as a state for React components and thus create any design and any additional interactivity of the developed form.  For example: <br><br>  <a href="https://codesandbox.io/s/1y0o894rx4">React form example (codesandbox)</a> <br><br>  Or a more complex example - with drop-down lists and using the REST (or rather Stateless) API for this: <br><br>  <a href="https://codesandbox.io/s/vibrant-tharp-trcqt">Example of a form on React with drop-down lists (on codesandbox)</a> <br><br>  However, the problem with this approach is that the forms from the examples above will not be built into either the general interface of the platform or the general control flow of actions.  Therefore, one of the most immediate tasks in the development of the platform is to transfer the form design mechanism to the scheme used in the design of the report (printed presentation): <br><br><ul><li>  The platform automatically generates a react-design based on the form structure as in the example above. <br></li><li>  If necessary, the developer can save and edit it as he wants.  Accordingly, the platform will then use this edited design when opening a form. <br></li></ul><br>  Plus, this approach will allow to generate including React Native forms and thereby allow the creation of native mobile applications.  Although this issue (with native mobile applications) we have not worked very deeply yet. <br><br>  However, we note that the old design mechanism will also be supported, since, for the same business applications, it performs its function perfectly. <br><br><h3>  Form events </h3><br>  Events of the form - the second key mechanism after the events of the subject area, which is responsible for determining the moments when you need to perform actions. <br><br>  In the platform there is a whole set of various form events resulting from various user actions, but in this article we will consider only one, the most frequently used of them - the CHANGE event.  This event occurs when the user initiated a property change / action call, for example, by clicking on any non-system key on the keyboard, being in the field of the property being changed, or clicking on this field with the mouse. <br><br>  As for domain events, you can specify processing for form events ‚Äî an action that will be performed when a specified event occurs.  Note that most form events already have some default processing that out of the box implements the most expected behavior from the user (for example, for the above-mentioned CHANGE event, request user input and change the property to the entered value).  However, in practice sometimes there are still situations when for some event of the form it is necessary to specify some specific processing, for example: <br><div class="scrollable-table"><table><tbody><tr><td> <code>changeQuantity (Order o, Book b)  { <br> <font color="#a626a4">INPUT</font> q = <font color="#a626a4">INTEGER</font> <font color="#a626a4">DO</font> { <font color="#808080"><i>//  </i></font> <br> <font color="#a626a4">IF</font> lastOrderDetail(o, b) <font color="#a626a4">THEN</font> { <font color="#808080"><i>// ,     </i></font> <br> <font color="#a626a4">IF</font> q <font color="#a626a4">THEN</font> <font color="#808080"><i>//  </i></font> <br> quantity(OrderDetail d) &lt;- q <font color="#a626a4">IF</font> d = lastOrderDetail(o, b) <font color="#a626a4">WHERE</font> order(d) = o <font color="#a626a4">AND</font> book(d) = b; <font color="#808080"><i>//        </i></font> <br> <font color="#a626a4">ELSE</font> <font color="#808080"><i>//   -  </i></font> <br> <font color="#a626a4">DELETE</font> OrderDetail d <font color="#a626a4">WHERE</font> order(d) == o <font color="#a626a4">AND</font> book(d) == b; <br> } <font color="#a626a4">ELSE</font> <br> <font color="#a626a4">IF</font> q <font color="#a626a4">THEN</font> <br> <font color="#a626a4">NEW</font> d = OrderDetail { <font color="#808080"><i>//   </i></font> <br> order(d) &lt;- o; <br> book(d) &lt;- b; <br> quantity(d) &lt;- q; <br> } <br> } <br> } <br> <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> order <br> <font color="#a626a4">OBJECTS</font> b = Book <br> <font color="#a626a4">PROPERTIES</font> name(b) <font color="#a626a4">READONLY</font> , quantity(o, b) <font color="#a626a4">ON</font> <font color="#a626a4">CHANGE</font> changeQuantity(o, b) <br> ; <br></code> </td></tr></tbody></table></div>  ,       ‚Äì       ,     (  ,   ,   ,        paste   ,         ).                     .         . <br><br><h3>   </h3><br>          , , ,  ,    ,       ,     , ,      INPUT. <br><br>       ,  ,    ,     ,   ,   ,    .  For example: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">FORM</font> order <br> <font color="#a626a4">OBJECTS</font> o = Order <br> <font color="#a626a4">PROPERTIES</font> (o) customer <font color="#a626a4">ON</font> <font color="#a626a4">CHANGE</font> { <br> <font color="#a626a4">INPUT</font> s = <font color="#a626a4">STRING</font> <font color="#a626a4">DO</font> { <br> customer(o) &lt;- s; <br> <font color="#a626a4">IF</font> s <font color="#a626a4">THEN</font> <br> <font color="#a626a4">MESSAGE</font> <font color="#50a14f">'Customer changed to '</font> + s; <br> <font color="#a626a4">ELSE</font> <br> <font color="#a626a4">MESSAGE</font> <font color="#50a14f">'Customer dropped'</font> ; <br> } <br> } <br> ; <br></code> </td></tr></tbody></table></div> ,     ,  : <br><br><ul><li>    , <br></li><li>    (       ), <br></li><li>    , <br></li><li>        . <br></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It must be said that INPUT is not the only data entry operator. </font><font style="vertical-align: inherit;">In addition to it, the dialog form of the message display operator (ASK) is also responsible for entering data:</font></font><br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">DELETE</font> Order o <font color="#a626a4">WHERE</font> selected(o); <br> <font color="#a626a4">ASK</font> <font color="#50a14f">'   '</font> + ( <font color="#a626a4">GROUP</font> <font color="#a626a4">SUM</font> <font color="#986801">1</font> <font color="#a626a4">IF</font> <font color="#a626a4">DROPPED</font> (Order o)) + <font color="#50a14f">' .  ?'</font> <font color="#a626a4">DO</font> { <br> <font color="#a626a4">APPLY</font> ; <br> } <br></code> </td></tr></tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">as well as the dialog mode of the operator of the opening of the form (DIALOG) in the interactive presentation, but we return to this mode, as well as to the operator of the opening of the form itself, after we consider the other representations. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">With this interactive presentation we finish and move on to static views.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Static views </font></font></h2><br>    ,          . ,     ,       .        ,          ¬´¬ª   .  ,      A  B,  A   B,          A       A,    B     (A, B)       B,            A       B    (             ¬´¬ª    ). <br><br>         ,   ,        : <br><br><ul><li>        : <br></li><li>     ,    ,    A        B,   A  (  ). <br></li></ul><br>  For example: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">FORM</font> myForm <font color="#50a14f">'myForm'</font> <br> <font color="#a626a4">OBJECTS</font> A, B <font color="#a626a4">SUBREPORT</font> , C, D, E <br> <font color="#a626a4">PROPERTIES</font> f(B, C), g(A, C) <br> <font color="#a626a4">FILTERS</font> c(E) = C, h(B, D) <br> ; <br></code> </td></tr></tbody></table></div><img src="https://habrastorage.org/webt/_h/jq/mj/_hjqmjwrwk7oimsvvdhtl65qhuk.png"><br><br> ,     ,    ,   ,          . <br><br><h2>   </h2><br>           LGPL    ‚Äì JasperReports. <br><br>       ,  JasperReports      ,    . ,       : <br><br><ul><li> ¬´¬ª  ( , O1, O2, O3,‚Ä¶ On,  O2 ‚Äì    O1, O3 ‚Äì    O2  ..)   ; <br></li><li>     ,       . <br></li></ul><br>       ¬´¬ª      ,     SUBREPORT (   ,            -): <br><br><img src="https://habrastorage.org/webt/dv/6e/ne/dv6enecba9n0-3usdtofjmo8lpu.png"><br><br>     : <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">FORM</font> shipment <br> <font color="#a626a4">OBJECTS</font> s=Shipment <font color="#808080"><i>// </i></font> <br> <font color="#a626a4">PROPERTIES</font> (s) date, customer = nameCustomer, stock = nameStock <font color="#808080"><i>//  ,   (  customer)    (  stock)</i></font> <br> <font color="#a626a4">PROPERTIES</font> total = ( <font color="#a626a4">GROUP</font> <font color="#a626a4">SUM</font> quantity(ShipmentDetail d)*price(d) <font color="#a626a4">IF</font> shipment(d)=s) <font color="#808080"><i>//    </i></font> <br> <font color="#a626a4">OBJECTS</font> sd=ShipmentDetail <font color="#808080"><i>//  </i></font> <br> <font color="#a626a4">FILTERS</font> shipment(sd) = s <font color="#808080"><i>//    </i></font> <br> <font color="#a626a4">PROPERTIES</font> (sd) index, item = nameItem <font color="#808080"><i>//  ,   (  item)</i></font> <br> <font color="#a626a4">PROPERTIES</font> (sd) price, quantity <font color="#808080"><i>//  , </i></font> <br> <font color="#a626a4">PROPERTIES</font> sum <font color="#50a14f">''</font> = (quantity(sd) * price(sd)) <font color="#808080"><i>//  - *  (  sum)</i></font> <br> ; <br> <br> run() { <br> <font color="#808080"><i>//     12345</i></font> <br> <font color="#a626a4">PRINT</font> shipment <font color="#a626a4">OBJECTS</font> s = ( <font color="#a626a4">GROUP</font> <font color="#a626a4">MAX</font> Shipment s <font color="#a626a4">IF</font> number(s) = <font color="#50a14f">'12345'</font> ) <br> <font color="#a626a4">XLSX</font> <font color="#a626a4">TO</font> exportFile; <br> } <br></code> </td></tr></tbody></table></div><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/7i/m_/lj/7im_ljxwqbxwtgd758q0x2b56xy.png"><br></div></div><br><h3>   </h3><br>       JasperReports (,        lsFusion).    ,       .              ,                JasperSoft Studio. <br><br>      ,  lsFusion-  IDEA,    Eclipse,           ( Eclipse  JasperReports     ).    IDEA    ,  language injection,      jrxml-,    ,   ,  ,       ,       ,      .   ,  ,      Eclipse  GrammarKit  autocomplete (,    ), stub-,  lazy chameleon- (   ),         ,           .     . <br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Structured presentation </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> All structured representations (formats) can be divided into two types: </font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Hierarchical (XML, JSON) is one text file, and information for objects is placed in the form of a list (array) inside the information for the parent object. </font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Flat (DBF, CSV, XLS) - one table file for each object. </font><font style="vertical-align: inherit;">In addition, for each object with a depth in the hierarchy greater than one, its table should contain a column named parent, containing the number of the ‚Äútop‚Äù row in the table of the parent object.</font></font><br></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Note that working with flat formats with a hierarchy depth greater than one is not very convenient (due to the need to support an additional column), therefore, as a rule, flat formats are used only for working with simple forms (with a hierarchy depth less than one). </font><font style="vertical-align: inherit;">In other cases, hierarchical formats are usually used. </font><font style="vertical-align: inherit;">Accordingly, we will begin with them.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Hierarchical formats </font></font></h3><br>        ‚Äì XML, JSON.       ,           ,       JSON ( XML    ). <br><br>      /    JSON   ,    :     JSON-,   ‚Äì ,  ‚Äì .     : <br><br><div class="spoiler"> <b class="spoiler_title">    JSON</b> <div class="spoiler_text">        /      ,   /   : <br><br><ul><li>    /           :       ,   . </li><li>     X: <ul><li>    X   ,   ,            .  Wherein: <br><ul><li>   X   ,    </li><li>     </li><li>    (   )      X. </li></ul></li></ul></li></ul><br>     ,   /     : <br><br><pre> <code class="plaintext hljs">JSON  ::= { JSON  ,   /    } JSON  ,   /  ::= JSON  1 | JSON   1 | JSON   1 JSON  2 | JSON   2 | JSON   2 ... JSON  M | JSON   M | JSON   M JSON  ::= "   " :   JSON   ::= "  " : { JSON   ,   /  } JSON   ::= "  " : [ { JSON   ,   /  1 }, { JSON   ,   /  2 }, ... { JSON   ,   /  N }, ]</code> </pre><br></div></div><br>  : <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">GROUP</font> money; <br> <br> <font color="#a626a4">FORM</font> shipment <br> <font color="#a626a4">OBJECTS</font> dFrom= <font color="#a626a4">DATE</font> , dTo= <font color="#a626a4">DATE</font> <br> <font color="#a626a4">OBJECTS</font> s=Shipment <font color="#808080"><i>// </i></font> <br> <font color="#a626a4">PROPERTIES</font> (s) date, customer = nameCustomer, stock = nameStock <font color="#808080"><i>//  ,   (  customer)    (  stock)</i></font> <br> <font color="#a626a4">FILTERS</font> dFrom &lt;= date(s) <font color="#a626a4">AND</font> date(s) &lt;= dTo <font color="#808080"><i>//    </i></font> <br> <font color="#a626a4">OBJECTS</font> sd=ShipmentDetail <font color="#808080"><i>//  </i></font> <br> <font color="#a626a4">FILTERS</font> shipment(sd) = s <font color="#808080"><i>//    </i></font> <br> <font color="#a626a4">PROPERTIES</font> (sd) <font color="#a626a4">IN</font> money index, item = nameItem, price, quantity <font color="#808080"><i>//  ,   (  item),  ,    money</i></font> <br> ; <br> <br> run() { <br> <font color="#a626a4">EXPORT</font> shipment <font color="#a626a4">OBJECTS</font> dFrom = <font color="#986801">2019_02_20</font> , dTo = <font color="#986801">2019_04_28</font> ; <font color="#808080"><i>//     </i></font> <br> } <br></code> </td></tr></tbody></table></div><div class="spoiler"> <b class="spoiler_title"></b> <div class="spoiler_text"><pre> <code class="plaintext hljs">{ "s": [ { "date": "21.02.19", "sd": [ { "money": { "item": " 3", "quantity": 1, "price": 5, "index": 1 } } ], "stock": " 2", "customer": " 2" }, { "date": "15.03.19", "sd": [ { "money": { "item": " 1", "quantity": 1, "price": 5, "index": 1 } }, { "money": { "item": " 2", "quantity": 1, "price": 10, "index": 2 } }, { "money": { "item": " 3", "quantity": 1, "price": 15, "index": 3 } }, { "money": { "item": " 4", "quantity": 1, "price": 20, "index": 4 } }, { "money": { "item": "Milk", "quantity": 1, "price": 50, "index": 5 } } ], "stock": " 1", "customer": " 3" }, { "date": "04.03.19", "sd": [ { "money": { "item": " 1", "quantity": 2, "price": 4, "index": 1 } }, { "money": { "item": " 2", "quantity": 3, "price": 4, "index": 2 } }, { "money": { "item": " 1", "quantity": 2, "price": 5, "index": 3 } } ], "stock": " 1", "customer": " 2" }, { "date": "04.03.19", "sd": [ { "money": { "item": " 1", "quantity": 3, "price": 1, "index": 1 } }, { "money": { "item": " 2", "quantity": 2, "price": 1, "index": 2 } } ], "stock": " 1", "customer": " 2" }, { "date": "14.03.19", "sd": [ { "money": { "item": " 2", "quantity": 1, "price": 2, "index": 1 } } ], "stock": " 1", "customer": " 2" }, { "date": "17.04.19", "sd": [ { "money": { "item": " 2", "quantity": 5, "price": 6, "index": 1 } }, { "money": { "item": " 1", "quantity": 2, "price": 6, "index": 2 } } ], "stock": " 1", "customer": " 1" }, { "date": "21.02.19", "sd": [ { "money": { "item": " 3", "quantity": 1, "price": 22, "index": 1 } } ], "stock": " 2", "customer": " 1" }, { "date": "21.02.19", "sd": [ { "money": { "item": " 3", "quantity": 1, "price": 22, "index": 1 } } ], "stock": " 2", "customer": " 1" }, { "date": "20.02.19", "sd": [ { "money": { "item": " 3", "quantity": 1, "price": 22, "index": 1 } } ], "stock": " 2", "customer": " 1" } ] }</code> </pre><br></div></div><br> ,    JSON      JSON-. ,  ,  IDE    JSON  ,           ‚Äì     JSON. ,           ( ,  , JSON-   ),      .          /   JSON . <br><br><h3>   </h3><br>         ,  : <br><br><ul><li>        . <br></li><li>  ‚Äì ,       . <br></li></ul><br>    ,  ,  ,        (     ). ,      ,          ,         / : <br><div class="scrollable-table"><table><tbody><tr><td> <code>run() { <br> <font color="#a626a4">EXPORT</font> <font color="#a626a4">XLSX</font> <font color="#a626a4">FROM</font> item = upper(name(Item i)), currentBalance(i, Stock s), <br> stock = name(s), barcode(i), salePrice(i) <br> <font color="#a626a4">WHERE</font> (name(i) <font color="#a626a4">LIKE</font> <font color="#50a14f">'%%'</font> <font color="#a626a4">OR</font> salePrice(i) &gt; <font color="#986801">10</font> ) <font color="#a626a4">AND</font> currentBalance(i, s); <br> } <br></code> </td></tr></tbody></table></div> ,         SELECT  SQL.  ,        ,             ,      ( ,    ). <br><br> ,    ,    ,    ‚Äì       . <br><br><h2>   </h2><br>             ,     ,    ,    : <br><br><ul><li>    ‚Äì        . <br></li><li>    ‚Äì    :      . <br></li></ul><div class="scrollable-table"><table><tbody><tr><td> <code>run(Genre g) { <br> <font color="#a626a4">SHOW</font> booksByGenre <font color="#a626a4">OBJECTS</font> g=g; <br> <font color="#a626a4">PRINT</font> booksByGenre <font color="#a626a4">OBJECTS</font> g=g; <br> <font color="#a626a4">EXPORT</font> booksByGenre <font color="#a626a4">OBJECTS</font> g=g; <br> } <br></code> </td></tr></tbody></table></div>   ‚Äì  (  )         .      . <br><br><h3>    (SHOW, DIALOG) </h3><br>             : <br><br><ul><li>  (WAIT) ‚Äì  ,     ,    ,    ,      . <br></li><li>  (NOWAIT) ‚Äì            . <br></li></ul><br>       . <br><br>     ,       : <br><br><ul><li>   (FLOAT) ‚Äì      . <br></li><li>   (DOCKED) ‚Äì         System.forms. <br></li></ul><br>          ,    ‚Äì  . <br><br> , ,            (DIALOG).            (,  ,  ),   ,  ,   . <br><br> , ,         (INPUT),           (   ),   ,     ,      (  ), , ,  (  ). <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">FORM</font> booksByGenre <br> <font color="#a626a4">OBJECTS</font> g = Genre <font color="#a626a4">PANEL</font> <br> <font color="#a626a4">PROPERTIES</font> (g) name <br> <font color="#a626a4">OBJECTS</font> b = Book <br> <font color="#a626a4">PROPERTIES</font> (b) name <br> <font color="#a626a4">FILTERS</font> genre(b) = g <br> ; <br> <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> ordersByGenre <br> <font color="#a626a4">PROPERTIES</font> (o) nameBook <br> <font color="#a626a4">ON</font> <font color="#a626a4">CHANGE</font> { <br> <font color="#a626a4">DIALOG</font> booksByGenre <font color="#a626a4">OBJECTS</font> g = g, b = book(o) <font color="#a626a4">INPUT</font> <font color="#a626a4">DO</font> <br> book(o) &lt;- b; <br> } <br> ; <br></code> </td></tr></tbody></table></div><h3>    (PRINT) </h3><br>           ( ) ,      JasperReports : DOC, DOCX, XLS, XLSX, PDF, HTML, RTF   ,  JasperReports.          ,     ,  ,   ,      ( ,     ). <br><br>  ,  -        (PREVIEW),      ,        /     .   ,      ,      . <br><br><h3>    (EXPORT, IMPORT) </h3><br> ,     ,         ,     : XML, JSON, DBF, CSV, XLS, XLSX.        . <br><br> ,     ,     ,    ‚Äì  .       ()   ,     ()          ,            . <br><br>     ‚Äì ,  , ¬´ ¬ª,      : <br><ul><li>          . <br></li><li>             ( ,  ,  , ,  ,    TRUE   f(a) = b ‚Äì     f(a)  b) <br></li></ul><br>       TRUE (  ,        ,   0  ,      .., ,  ,       ). <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#808080"><i>//    ,       </i></font> <br> inn = <font color="#a626a4">DATA</font> <font color="#a626a4">LOCAL</font> <font color="#a626a4">BPSTRING</font> [ <font color="#986801">9</font> ] (Shipment); <br> barcode = <font color="#a626a4">DATA</font> <font color="#a626a4">LOCAL</font> <font color="#a626a4">BPSTRING</font> [ <font color="#986801">13</font> ] (ShipmentDetail); <br> <br> <font color="#a626a4">FORM</font> shipments <br> <font color="#a626a4">OBJECTS</font> s=Shipment <font color="#a626a4">EXTID</font> <font color="#50a14f">'shipments'</font> <font color="#808080"><i>//  EXTID      s,        shipments</i></font> <br> <font color="#a626a4">PROPERTIES</font> (s) number, date, inn <br> <font color="#a626a4">OBJECTS</font> sd=ShipmentDetail <font color="#a626a4">EXTID</font> <font color="#50a14f">'detail'</font> <font color="#808080"><i>//  EXTID      sd,        detail</i></font> <br> <font color="#a626a4">FILTERS</font> shipment(sd) = s <font color="#808080"><i>//   shipment  detail</i></font> <br> <font color="#a626a4">PROPERTIES</font> (sd) barcode, price, quantity <br> ; <br> <br> run() { <br> <font color="#a626a4">FOR</font> jsonFile = <font color="#a626a4">JSONFILE</font> ( <font color="#50a14f">'\{ shipments : [ '</font> + <font color="#808080"><i>// jsonFile  /     run, {}  escape'       </i></font> <br> <font color="#50a14f">' \{number : "13423", date : "01.01.2019", inn : "2", detail : [\{ barcode : "141", quantity : 5, price : 10 \}, \{ barcode : "545", quantity : 2, price : 11 \}] \},'</font> + <br> <font color="#50a14f">' \{number : "12445", date : "01.02.2019", inn : "1", detail : [\{ barcode : "13", quantity : 1, price : 22 \}] \} ]\}'</font> ) <br> <font color="#a626a4">DO</font> { <br> <font color="#a626a4">IMPORT</font> shipments <font color="#a626a4">FROM</font> jsonFile; <font color="#808080"><i>//       </i></font> <br> <font color="#a626a4">FOR</font> <font color="#a626a4">BPSTRING</font> [ <font color="#986801">9</font> ] inn = inn(Shipment s) <font color="#a626a4">DO</font> { <font color="#808080"><i>//    inn</i></font> <br> customer(s) &lt;- legalEntityINN(inn); <font color="#808080"><i>//       INN</i></font> <br> stock(s) &lt;- <font color="#a626a4">GROUP</font> <font color="#a626a4">MAX</font> st <font color="#a626a4">AS</font> Stock; <font color="#808080"><i>//  -  (  id)</i></font> <br> } <br> <font color="#a626a4">FOR</font> barcode(Item item) = barcode(ShipmentDetail sd) <font color="#a626a4">DO</font> <font color="#808080"><i>//        </i></font> <br> item(sd) &lt;- item; <br> <br> <font color="#a626a4">APPLY</font> ; <br> exportString() &lt;- <font color="#a626a4">IF</font> canceled() <font color="#a626a4">THEN</font> applyMessage() <font color="#a626a4">ELSE</font> <font color="#50a14f">'  '</font> ; <br> } <br> } <br></code> </td></tr></tbody></table></div><br><h2>  Navigator </h2><br>           ,     ,   .   ,    , ,       .             .            (   ),          . <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In some sense, the navigator is a very specific kind of interactive form presentation, adapted for fast and convenient work with the hierarchy of elements in the large window (desktop) mode. </font><font style="vertical-align: inherit;">Accordingly, a distinctive feature of the navigator is that it can display only actions without parameters (the most frequent of which are form openings). </font><font style="vertical-align: inherit;">Plus the design of the navigator is also very different from the form design.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Navigator Design </font></font></h3><br>       .       ,    ‚Äî      . <br><br>        ‚Äì   ,       . ,     ,       .  ,         ,    . <br><br><img src="https://habrastorage.org/webt/sc/eh/1z/sceh1z2jjy8bfdppcjopmrmp2ls.png"><br><br>       . <br><br><img src="https://habrastorage.org/webt/s1/_h/ld/s1_hldlisd6-jubdymadfu7jths.png"><br><br>      100x100 .        ,    ,   . ,   ¬´¬ª    .    ,         (   ).  ,         .            ,         . <br><br>               . ,     -          ,     ,      . <br><br>      : <br><ul><li>       ,          ‚Äì , ,   . <br></li><li>      ‚Äì forms, log, status, root, toolbar, tree,        (, root,  ,      ) <br></li></ul><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">FORM</font> items; <br> <font color="#a626a4">FORM</font> stocks; <br> <font color="#a626a4">FORM</font> legalEntities; <br> <font color="#a626a4">FORM</font> shipments; <br> hello()  { <font color="#a626a4">MESSAGE</font> <font color="#50a14f">'Hello world'</font> ; } <br> hi()  { <font color="#a626a4">MESSAGE</font> <font color="#50a14f">'Hi'</font> ; } <br> <br> <font color="#a626a4">NAVIGATOR</font> { <br> <font color="#a626a4">NEW</font> <font color="#a626a4">FOLDER</font> catalogs <font color="#50a14f">''</font> <font color="#a626a4">WINDOW</font> toolbar { <font color="#808080"><i>//      ,          </i></font> <br> <font color="#a626a4">NEW</font> items; <font color="#808080"><i>//    -   items,       </i></font> <br> } <br> catalogs { <font color="#808080"><i>//    </i></font> <br> <font color="#a626a4">NEW</font> <font color="#a626a4">FORM</font> stocksNavigator <font color="#50a14f">''</font> = stocks; <font color="#808080"><i>//  - stocksNavigator   stocls     catalogs  </i></font> <br> <font color="#a626a4">NEW</font> legalEntities <font color="#a626a4">AFTER</font> items; <font color="#808080"><i>//  -   legalEntities   catalogs    items</i></font> <br> <font color="#a626a4">NEW</font> shipments; <br> } <br> <font color="#a626a4">NEW</font> <font color="#a626a4">FOLDER</font> documents <font color="#50a14f">''</font> <font color="#a626a4">WINDOW</font> toolbar { <font color="#808080"><i>//    ,          </i></font> <br> <font color="#808080"><i>//       root,          </i></font> <br> <font color="#808080"><i>//       </i></font> <br> <font color="#a626a4">NEW</font> <font color="#a626a4">ACTION</font> hi; <font color="#808080"><i>//  -</i></font> <br> <font color="#a626a4">NEW</font> <font color="#a626a4">ACTION</font> h=hello; <font color="#808080"><i>//  -</i></font> <br> <font color="#a626a4">MOVE</font> shipments <font color="#a626a4">BEFORE</font> h; <font color="#808080"><i>//    shipments   catalogs   document   hello</i></font> <br> } <br> } <br></code> </td></tr></tbody></table></div><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/vy/e2/mb/vye2mbye0ffvj8bvpgebu1nsqum.png"><br></div></div><br> ,  ‚Äì    ,            ,   ,      ,  ,    ERP-.  ,   ,    ¬´ ¬ª,    :   ?  Seriously?    ? , -, lsFusion  language-based ( SQL  ABAP),   library-based ( Java  1C)  / . ,  ,   ‚Äì    domain-specific            ,         . -, ,  ,   ,       .     :   ,  ,     ,       . , ,        ,         (         ). <br><br>      .         ‚Äì ,  : <br><br><ul><li>    :  , , , , ,   ; <br></li><li>        : ,   . <br></li></ul><br>   ,         : <br><br><ul><li>        .       ¬´¬ª   :  , ,  / . , ,    , ,  ,        ,     . <br></li><li>     .     control flow            . ,       ‚Äì     . <br></li><li>        SQL  ( ORM).     ,     ,        ,                   . <br></li></ul><br><h2>  Conclusion </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As is often the case, the second parts do not always turn out as interesting as the first ones (although, most likely, the first part was not so interesting, after all, this is a tutorial, and such material, if you need to fit it in a reasonable amount, will by definition rather dry). But, as mentioned in the introduction, the purpose of this article (like the first one) was not ‚Äúselling‚Äù; the goal was to give the reader an opportunity to make at least a partial picture of what development on lsFusion is.</font></font><br><br>    ,  ,     ‚Äì      .    ,     .  ,  ,          ¬´   .  .¬ª,     ,           ( -   ). <br><br>     .              : ¬´     ¬ª.          ,      .  ,   ,    lsFusion       SQL-.         ,   ,     ,    ‚Äì     ,  -   ,        .      ,         SQL- (   <a href="https://habr.com/ru/post/459716/"> </a> ). ,       . , ,        (    ,    ),     ,  ,          .     ¬´?¬ª,  ¬´  ...?¬ª    ¬´?¬ª. <br></div><p>Source: <a href="https://habr.com/ru/post/460141/">https://habr.com/ru/post/460141/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../460133/index.html">Kotlin / Everywhere - Showcase practice: July 31</a></li>
<li><a href="../460135/index.html">Security Week 29: Zoom vulnerability, security and drama</a></li>
<li><a href="../460137/index.html">Fujitsu LIFEBOOK U939X review: lightness and performance in a 2-in-1 package</a></li>
<li><a href="../460139/index.html">Programming Championship: sorting out tasks for front-end developers</a></li>
<li><a href="../46014/index.html">Control Mac with a wave of your hand</a></li>
<li><a href="../460143/index.html">Python dis module and constant convolution</a></li>
<li><a href="../460149/index.html">Proper typing: the underestimated aspect of clean code</a></li>
<li><a href="../460153/index.html">The adventures of electronic signature in Russia</a></li>
<li><a href="../460155/index.html">ReactiveX Redux</a></li>
<li><a href="../460157/index.html">How ‚Äúcorrect‚Äù answers of respondents can distort the results of the survey beyond recognition</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>