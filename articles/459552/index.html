<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to lose access to the live system, simply by fumbling the source code</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Security with real-world examples is always more interesting. 

 Once a client came in with a request for penetration testing. He had many reasons for...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to lose access to the live system, simply by fumbling the source code</h1><div class="post__text post__text-html js-mediator-article">  <i>Security with real-world examples is always more interesting.</i> <br><br>  Once a client came in with a request for penetration testing.  He had many reasons for concern, and among others he sounded like this: ‚ÄúA few months ago, a new developer came to us, got access to the source code, documentation, test server, disappeared two days later and still does not respond.  How can this threaten me?  He was not given access to the live system. ‚Äù <a name="habracut"></a><br><br>  We are not going to talk about the mistakes of developers who can become serious holes in the live system.  Everything is much simpler - the source code itself may contain direct instructions and access. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      From various projects that we tested for security, I‚Äôll give real examples, when having only the source code, we could penetrate the system itself.  All these problem areas were eliminated, and any unnecessary information in the screenshots is hidden. <br><br>  <i>System 1.</i> <br>  The cloned code from the gita is not only the latest version, but also the history of all changes.  We usually run the source code for sensitive information using <a href="https://github.com/kootenpv/gittyleaks">gittyleaks</a> . <br><br>  In this project, we found a private encryption key, which was once removed from the code, but it continued to be used on the live system.  This key was used for authentication, and knowing the mechanism we could generate any authentication user of any user, including the administrator. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/188/c78/71c/188c7871cbde2b0f1a89568e648546cb.jpg" alt="image"><br>  <i>Picture 1. Output: gittyleaks --find-anything</i> <i><br></i> <br><br>  <i>System 2.</i> <br>  You can use the <a href="https://git-scm.com/downloads">git utility</a> and ask it to show all files that have ever been deleted.  In this system, we found the deployer.pem file that once lay in the project‚Äôs root and was used to automatically deploy the project to the servers via the SSH channel.  SSH port in live system has been opened.  Why open?  The developers responded that the build machine they had was sitting at a dynamic IP address, and they decided not to close the port - ‚Äúnobody will pick up the SSH key anyway‚Äù.  Gee-gee ... <br><br><img src="https://habrastorage.org/getpro/habr/post_images/32c/e3a/415/32ce3a415395e5772bbab5b206da7944.jpg" alt="image"><br>  <i>Picture 2. Output: git log --diff-filter = D --summary</i> <br><br>  <i>System 3.</i> <br>  With this system, everything was even easier.  It may be worth getting into the database scripts and see how users are created by default.  Usually the first user to create an admin with the highest privileges.  In the scripts we found the code that generated a hash from real passwords and wrote it into the database.  What is surprising - 5 users were created, but to our amazement, the password for the most important admin passed in the live system.  And this code is not the first year, by the way, and not one person worked with it. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/34b/409/603/34b4096035639986ed031fb2cb31539d.jpg" alt="image"><br>  <i>Picture 3. As in the base scripts you can find real passwords</i> <br><br>  Promise <br><br>  1. If your project is on git, open it and run a couple of commands from the root folder: <br><br>  <i>pip install gittyleaks</i> <i><br></i>  <i>gittyleaks --find-anything</i> <i><br><br></i>  <i>git log --diff-filter = D --summary</i> <br><br>  2. One golden rule.  The live system should always have unique keys, unique user passwords, and everything should be closed to the maximum. <br><br>  The above information is provided only for educational and educational purposes, how to make their systems is not necessary. <br><br>  Denis Koloshko </div><p>Source: <a href="https://habr.com/ru/post/459552/">https://habr.com/ru/post/459552/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../459540/index.html">Microntends: what are we talking about?</a></li>
<li><a href="../459542/index.html">Mechanics of gamification: skill tree</a></li>
<li><a href="../459544/index.html">Why the series "Chernobyl" so poorly described nuclear energy</a></li>
<li><a href="../45955/index.html">3g in the subway from MTS</a></li>
<li><a href="../459550/index.html">Backup Part 5: Testing Bacula and Veeam Backup for Linux</a></li>
<li><a href="../459554/index.html">Watch for file changes with Alerting OpenDistro for Elasticsearch</a></li>
<li><a href="../459558/index.html">How to start using User Mode in Linux</a></li>
<li><a href="../459560/index.html">Capabilities of container data centers: a ready switching node in Myanmar for 50 days</a></li>
<li><a href="../459562/index.html">Differentiable programming</a></li>
<li><a href="../459564/index.html">What developers need to know about business</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>