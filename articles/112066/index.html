<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>BigBlueButton: an open conferencing solution</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I am almost sure that every IT department was tasked with organizing a video conference, or just a conference, for example, with a branch. There are m...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>BigBlueButton: an open conferencing solution</h1><div class="post__text post__text-html js-mediator-article"> <a title="Habraffe.ru" href=""><img src="https://habrastorage.org/storage/habraeffect/5e/44/5e446e8ba9ff6f8aa9e8fcaf1d84f95e.png"></a> <br>  I am almost sure that every IT department was tasked with organizing a video conference, or just a conference, for example, with a branch.  There are many solutions to the problem - from expensive hardware to free software.  I want to draw the attention of the small community to one of the free solutions of this task - BigBlueButton.  On Habr√© already had a small note <a href="http://habrahabr.ru/blogs/edu_2_0/87109/">about him</a> , I will try to tell a little more about this decision, as well as about the experience of its implementation in our company. <br><a name="habracut"></a><br><br>  The <a href="http://www.bigbluebutton.org/">developers</a> themselves are positioning it as a solution for training and conducting presentations, the claimed functionality does not prevent us from using it for our business purposes.  On the main page of the project there is a link to the demonstration of the solution.  The first time I came across BigBlueButton in search of a solution to organizing the conference, I followed this link, what I saw impressed and seemed to fit our needs completely (it turned out, by the way). <br><br>  A pleasant surprise, also, it turned out that a fully functioning system is available as a VMWARE image directly on the developers' website, and there is also a detailed <a href="http://code.google.com/p/bigbluebutton/wiki/BigBlueButtonVM">installation guide</a> .  It is worth noting here that the specified image was converted without problems and launched under hyper-v. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      After downloading and running the image, we almost immediately get the solution out of the box (the ip machine gets by dhcp).  Already in this form it is quite possible to use bbb, for this we need a video camera and a headset.  Demo conferences are available if you go to the browser address of the deployed server. <br><br>  After entering the conference, the main window opens: <br> <a title="Habraffe.ru" href=""><img src="https://habrastorage.org/storage/habraeffect/22/bb/22bbc516428cc8ef3bd0466b7c3eaee2.jpg"></a> <br><br>  The conference participants are displayed in the upper left part of the window.  It is worth noting here that participants can be of two types - a regular participant and a moderator.  A regular participant can listen and watch the conference.  The moderator can control the microphones of the participants, as well as give participants the right to demonstrate.  A participant with the right to demonstrate can place on the demonstration panel (panel in the middle) various materials (for example, a word or powerpoint document) that will be available for viewing to all conference participants.  Also a conference participant can watch the image from the camera of other participants, if another participant has turned it on. <br><br>  In the lower left part there is a window of the so-called "listeners" - these are the participants of the conference who got into it by calling the conference phone number.  This functionality is very interesting and useful (at least for us) and I will discuss its configuration a little more later. <br><br>  On the right side is a chat (yes, the usual chat) to which all conference participants can write.  When you enter a chat conference, an invitation is written that can be customized when creating a conference. <br><br>  The work with the bbb interface is described in more detail in the document, the link to which I attached at the end of the note, this is the real member instruction used by us. <br><br><h4>  Now I want to talk about the fact that we actually changed ‚Äúby ourselves‚Äù </h4><br><h5>  First of all, we changed the part of creating / entering the conference. </h5><br>  The image is distributed as a demo and initially there are several sample templates to understand how conferences are created.  Templates are here: <br><br> <b><code>/var/lib/tomcat6/webapps/bigbluebutton/demo</code></b> <br> <br>  Having studied them, we simply created our own, now we have about the following when entering the conference server: <br><br> <a title="Habraffe.ru" href=""><img src="https://habrastorage.org/storage/habraeffect/e3/db/e3db847d5acb51dff992cf7c9aa2f0d8.jpg"></a> <br><br><h4>  The second thing I wanted to do was dial the conference from the phones. </h4><br>  In BigBlueButton, telephony (and indeed the whole voice) is supported by the built-in Asterisk, respectively, we will have to somehow connect the existing telephony network with bbb Asterisk.  All the necessary Asterisk configuration files are in <br><br> <b><code>/etc/asterisk/</code></b> <br> <br>  Actually, we need only two files: <br><br> <b><code>bbb_sip.conf <br> bbb_extensions.conf</code></b> <br> <br>  Telephony in our company is organized through Cisco CallManager, we can connect it with Asterisk, for example, with a SIP trunk.  To do this, on the Asterisk side, we change <b>bbb_sip.conf</b> like this: <br><br> <code>[bbbuser] <br> type=friend <br> username=bbbuser <br> insecure=very <br> qualify=no <br> nat=yes <br> host=dynamic <br> canreinvite=no <br> context=bbb-voip <br> disallow=all <br> allow=ulaw <br> <br> [TO_CCM] <br> disallow=all <br> type=friend <br> context=bigbluebutton <br> host= <b>172.31.0.2</b> <br> port= <b>5062</b> <br> allow=ulaw <br> allow=alaw <br> nat=no <br> canreinvite=no <br> qualify=no <br> dtmfmode=rfc2833 <br></code> <br>  where <b>172.31.0.2</b> is the address of our CCM, <b>5062</b> is the trunk port. <br><br>  On the CCM side, a SIP trunk is also created in the direction of Asterisk, a routing pattern is created from some internal number to this trunk, so the call to the internal number will be wrapped on Asterisk and in the conference. <br><br>  On the Asterisk side, the <b>bbb_extensions.conf</b> file was also slightly modified <b>.</b> <br><br>  In section <br><br> <code>[prompt] <br> exten =&gt; s,1,Read(CONF_NUM,conf-getconfno, <b>5</b> ,,3,10) <br> exten =&gt; s,n,Goto(bbb-conference,${CONF_NUM},1)</code> <br>  It is necessary to register the number of characters in the conference number, we have 5. <br><br>  We also changed the section <br><br> <code>[bbb-conference] <br> include =&gt; echo-test <br> <br> exten =&gt; _XXXX.,1,Agi(agi://localhost/findConference?conference=${EXTEN}) <br> exten =&gt; _XXXX.,n,GotoIf($[${EXTEN} = ${CONFERENCE_FOUND}]?valid:invalid) <br> exten =&gt; _XXXX.,n(valid),Playback(conf-placeintoconf) <br> ; exten =&gt; _XXXX.,n,MeetMe(${CONFERENCE_FOUND},cdMsT) <br> <b>exten =&gt; _XXXX.,n,Set(CALLERID(name)= ${IF($["${CALLERID(name)}" = ""]?${CALLERID(num)}:${CALLERID(name)})})</b> <br> exten =&gt; _XXXX.,n,Konference(${CONFERENCE_FOUND},H) <br> exten =&gt; _XXXX.,n(invalid),Goto(handle-invalid-conference,s,1)</code> <br> <br>  The essence of the changes is as follows: when an external subscriber dials in and enters the conference, his CALLERNAME is shown in the listeners window, but since  the caller's name is not always transferred to the final PBX. In the end, almost always the ‚Äúunknown caller‚Äù appears in the listeners window, which is logical in itself, but it makes it difficult to understand who is who in the listeners, this change serves to ensure that the caller does not have a name. his determined phone number was displayed. <br><br>  What else? <br>  The platform turned out to be surprisingly flexible and change-friendly, in case of such need all the functionality it provides can be built into the corporate portal, you can automate the order of conferences, you can screw something else to the telephony, but in general a lot of things can be :) <br><br>  Useful links: <br>  <a href="http://www.bigbluebutton.org/">Developer site</a> <br>  <a href="http://groups.google.com/group/bigbluebutton-users%3Fhl%3Den">BBB google group</a> <br>  The work instruction of the participant of the video conference: <a href="http://webfile.ru/5060726">Download the</a> instruction of the participant_video_conference_abr.docx <a href="http://webfile.ru/5060726">with WebFile.RU</a> </div><p>Source: <a href="https://habr.com/ru/post/112066/">https://habr.com/ru/post/112066/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../112061/index.html">How to make friends 1C 7.7 and Postgres</a></li>
<li><a href="../112062/index.html">Expansion of the functionality of LG TVs and the grin of Korean capitalism</a></li>
<li><a href="../112063/index.html">3Par InServ Architecture</a></li>
<li><a href="../112064/index.html">Results of CES-2011</a></li>
<li><a href="../112065/index.html">The use of patterns in the development of architecture flex-applications</a></li>
<li><a href="../112067/index.html">What do you live, Korea? A quick review of one North Korean site</a></li>
<li><a href="../112068/index.html">MATLAB and fast Fourier transform</a></li>
<li><a href="../112069/index.html">Bloom filter</a></li>
<li><a href="../112070/index.html">Malicious programs - 2010: annual report</a></li>
<li><a href="../112072/index.html">Chinas work MTS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>