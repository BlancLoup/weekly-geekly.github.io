<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What the hell is python</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We recently wrote about funny, cunning, and weird JavaScript examples. Now it's Python's turn. Python, a high-level and interpreted language, has many...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>What the hell is python</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/web/7dc/886/309/7dc88630991741c1b98aeb769b994036.JPG"></p><br><p>  We recently <a href="https://habrahabr.ru/company/mailru/blog/335292/">wrote</a> about funny, cunning, and weird JavaScript examples.  Now it's Python's turn.  Python, a high-level and interpreted language, has many convenient features.  But sometimes the result of the work of some pieces of code at first glance looks unobvious. </p><br><p>  Below is a fun project that collects examples of unexpected behavior in Python with a discussion of what is happening under the hood.  Some examples do not fall into the category of real WTF?!, But instead they demonstrate interesting features of the language that you may want to avoid.  I think this is a good way to learn the internal workings of Python, and I hope you find it interesting. </p><br><p>  If you are already an experienced programmer in Python, then many examples may be familiar to you, and even cause nostalgia for those times when you racked your brains over them :) </p><a name="habracut"></a><br><h2 id="soderzhanie">  Content </h2><br><ul><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/">Example structure</a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/">Using</a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/">Examples</a> <br><ul><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/">Missing lines?</a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/">Well, somehow doubtful ...</a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/">Time for hash cakes!</a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/">Processing time mismatch</a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/">Transforming the dictionary during its iteration</a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/">Deleting a list item during its iteration</a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/">Backslashes at the end of the line</a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/">Let's make a giant string!</a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/">String Concatenation Interpreter Optimization</a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/">Yes, it exists!</a> </li><li> <a href="https://habrahabr.ru/company/mailru/blog/337364/"><code>is</code> not what it is</a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/"><code>is not ...</code> different from <code>is (not ...)</code></a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/">The function inside the loop produces the same result.</a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/">Loop loop variables from the local scope</a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/">Tic-tac-toe, where X wins on the first try</a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/">Beware of default variable arguments.</a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/">Same operands, but a different story</a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/">Unchangeable change</a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/">Using a variable that is not defined in scope</a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/">The disappearance of the variable from the external scope</a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/"><code>Return</code> returns everywhere</a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/">When True is False</a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/">Be careful with chains of operations</a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/">Name resolution ignores class scope</a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/">From occupancy to None in one instruction</a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/">Explicit type casting in string values</a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/">Class and Instance Attributes</a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/">Catch exceptions</a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/">Midnight does not exist?</a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/">What is wrong with boolean values?</a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/">Needle in a haystack</a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/">For what?</a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/">Node not</a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/">And you could suggest this?</a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/">Small examples</a> </li></ul></li><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/">To contribute</a> </li><li>  <a href="https://habrahabr.ru/company/mailru/blog/337364/">useful links</a> </li></ul><br><h2 id="struktura-primerov">  Example structure </h2><br><p>  <strong>Note:</strong> All examples given are tested on the Python 3.5.2 interactive interpreter and should work in all versions of the language, unless otherwise explicitly stated in the description. </p><br><p>  Structure of examples: </p><br><h4 id="kakoy-nibud-durackiy-zagolovok">  Any stupid headline </h4><br><pre> <code class="hljs vala"><span class="hljs-meta"><span class="hljs-meta"># . #   ...</span></span></code> </pre> <br><p>  <strong>Result (Python version):</strong> </p><br><pre> <code class="hljs ruby"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;</span></span>&gt; <span class="hljs-number"><span class="hljs-number">_</span></span> ,  </code> </pre> <br><p>  (Optional): A one-line description of the unexpected result. </p><br><p>  <strong><em>Explanation:</em></strong> </p><br><ul><li><p>  A brief explanation of what happened and why. </p><br><pre> <code class="hljs 1c">  (<span class="hljs-keyword"><span class="hljs-keyword"></span></span> )</code> </pre> <br><p>  <strong>Result:</strong> </p><br><pre> <code class="hljs ruby"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;</span></span>&gt;  <span class="hljs-comment"><span class="hljs-comment"># - ,     #  </span></span></code> </pre> <br><h2 id="ispolzovanie">  Using </h2><br><p>  It seems to me that the best way to get the most out of these examples is to read them in chronological order: </p><br></li><li>  Carefully study the initial code.  If you are an experienced Python programmer, then most often you will successfully predict what will happen. </li><li>  Examine the results and: <br><ul><li>  Check if they match your expectations. </li><li>  Make sure you understand why this is exactly the result. </li><li>  If you do not understand, then read the explanation (if you still do not understand, then stop and write <a href="https://github.com/satwikkansal/wtfPython">here</a> ). </li><li>  If you understand, pat yourself on the head and continue to the next example. </li></ul></li></ul><br><p>  PS You can also read these examples on the command line.  Only first install the <code>wtfpython</code> npm package, </p><br><pre> <code class="hljs sql">$ npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> -g wtfpython</code> </pre> <br><p>  Now run <code>wtfpython</code> on the command line, and as a result, this collection will open in your <code>$PAGER</code> . </p><br><p>  #TODO: Add the pypi package for reading at the command line. </p><br><h2 id="primery">  Examples </h2><br><h3 id="propusk-strok">  Missing lines? </h3><br><p>  <strong>Result:</strong> </p><br><pre> <code class="hljs cs">&gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> = <span class="hljs-number"><span class="hljs-number">11</span></span> &gt;&gt;&gt; valu = <span class="hljs-number"><span class="hljs-number">32</span></span> &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span></code> </pre> <br><p>  Wat? </p><br><p>  <strong>Note: The</strong> easiest way to reproduce this example is by copying and pasting into your file / shell. </p><br><p>  <strong><em>Explanation</em></strong> </p><br><p>  Some Unicode characters look the same as ASCII, but differ in interpreter. </p><br><pre> <code class="hljs ruby"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;</span></span>&gt; value = <span class="hljs-number"><span class="hljs-number">42</span></span> <span class="hljs-comment"><span class="hljs-comment">#ascii e &gt;&gt;&gt; valu = 23 #cyrillic e, Python 2.x interpreter would raise a `SyntaxError` here &gt;&gt;&gt; value 42</span></span></code> </pre> <br><h3 id="nu-kak-to-somnitelno">  Well, somehow doubtful ... </h3><br><pre> <code class="hljs python"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">square</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(x)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""        . """</span></span> sum_so_far = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> counter <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(x): sum_so_far = sum_so_far + x <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum_so_far</code> </pre> <br><p>  <strong>Result (Python 2.x):</strong> </p><br><pre> <code class="hljs ruby"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;</span></span>&gt; square(<span class="hljs-number"><span class="hljs-number">10</span></span>) <span class="hljs-number"><span class="hljs-number">10</span></span></code> </pre> <br><p>  Shouldn't it have turned 100? <br>  <strong>Note:</strong> if you cannot reproduce the result, try running the file <a href="https://github.com/satwikkansal/wtfpython/blob/master/mixed_tabs_and_spaces.py">mixed_tabs_and_spaces.py</a> in the shell. </p><br><p>  <strong><em>Explanation</em></strong> </p><br><ul><li>  <strong>Do not mix tabs and spaces!</strong>  The character preceding return is a tabulation, it is recognized as four spaces. </li><li>  Here is how Python handles tabs: <br>  <em>First, they are replaced (from left to right) by spaces, from one to eight, so that the total number of characters replaced can be eight times more ...</em> </li><li>  Therefore, the tab in the last line of the function <code>square</code> is replaced by eight spaces and falls into a loop. </li><li>  Python 3 in such cases can automatically throw an error. </li></ul><br><p>  <strong>Result (Python 3.x):</strong> </p><br><pre> <code class="hljs sql">TabError: inconsistent <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> tabs <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> spaces <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> indentation</code> </pre> <br><h3 id="vremya-dlya-hesh-pirozhnyh">  Time for hash cakes! </h3><br><p>  one. </p><br><pre> <code class="hljs objectivec">some_dict = {} some_dict[<span class="hljs-number"><span class="hljs-number">5.5</span></span>] = <span class="hljs-string"><span class="hljs-string">"Ruby"</span></span> some_dict[<span class="hljs-number"><span class="hljs-number">5.0</span></span>] = <span class="hljs-string"><span class="hljs-string">"JavaScript"</span></span> some_dict[<span class="hljs-number"><span class="hljs-number">5</span></span>] = <span class="hljs-string"><span class="hljs-string">"Python"</span></span></code> </pre> <br><p>  <strong>Result:</strong> </p><br><pre> <code class="hljs ruby"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;</span></span>&gt; some_dict[<span class="hljs-number"><span class="hljs-number">5.5</span></span>] <span class="hljs-string"><span class="hljs-string">"Ruby"</span></span> &gt;&gt;&gt; some_dict[<span class="hljs-number"><span class="hljs-number">5.0</span></span>] <span class="hljs-string"><span class="hljs-string">"Python"</span></span> &gt;&gt;&gt; some_dict[<span class="hljs-number"><span class="hljs-number">5</span></span>] <span class="hljs-string"><span class="hljs-string">"Python"</span></span></code> </pre> <br><p>  Python destroyed the existence of javascript? </p><br><p>  <strong><em>Explanation</em></strong> </p><br><ul><li>  Python dictionaries check equivalence and compare hash values ‚Äã‚Äãto determine if two keys are the same. </li><li><p>  Immutable objects with the same values ‚Äã‚Äãin Python always get the same hashes. </p><br><pre> <code class="hljs python"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-number"><span class="hljs-number">5</span></span> == <span class="hljs-number"><span class="hljs-number">5.0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> &gt;&gt;&gt; hash(<span class="hljs-number"><span class="hljs-number">5</span></span>) == hash(<span class="hljs-number"><span class="hljs-number">5.0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">True</span></span></code> </pre> <br><p>  <strong>Note:</strong> objects with different values ‚Äã‚Äãcan also get the same hash (this situation is called a hash collision). </p><br></li><li>  When executing the expression <code>some_dict[5] = "Python"</code> existing expression ‚ÄúJavaScript‚Äù is rewritten to ‚ÄúPython‚Äù, because Python recognizes <code>5</code> and <code>5.0</code> as identical keys of the dictionary <code>some_dict</code> . </li><li>  On StackOverflow, the reason for this behavior <a href="https://stackoverflow.com/a/32211042/4354153">is explained</a> perfectly. </li></ul><br><h3 id="nesootvetstvie-vremeni-obrabotki">  Processing time mismatch </h3><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">array</span></span> = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>] g = (x <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">array</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>.count(x) &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">array</span></span> = [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">22</span></span>]</code> </pre> <br><p>  <strong>Result:</strong> </p><br><pre> <code class="hljs ruby"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;</span></span>&gt; print(list(g)) [<span class="hljs-number"><span class="hljs-number">8</span></span>]</code> </pre> <br><p>  <strong><em>Explanation</em></strong> </p><br><ul><li>  In <a href="https://wiki.python.org/moin/Generators">the</a> clause <a href="https://wiki.python.org/moin/Generators">generator</a> expression, <code>in</code> processed during the declaration, and the conditional clause is processed during the run time. </li><li>  Therefore, before the run time, the <code>array</code> is reassigned to the list <code>[2, 8, 22]</code> , and since from <code>1</code> , <code>8</code> and <code>15</code> only the value of the counter <code>8</code> greater than <code>0</code> , the generator produces only <code>8</code> . </li></ul><br><h3 id="preobrazovanie-slovarya-vo-vremya-ego-iterirovaniya">  Transforming the dictionary during its iteration </h3><br><pre> <code class="hljs python">x = {<span class="hljs-number"><span class="hljs-number">0</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>} <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> x: <span class="hljs-keyword"><span class="hljs-keyword">del</span></span> x[i] x[i+<span class="hljs-number"><span class="hljs-number">1</span></span>] = <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> print(i)</code> </pre> <br><p>  <strong>Result:</strong> </p><br><pre> <code class="hljs">0 1 2 3 4 5 6 7</code> </pre> <br><p>  Yes, it runs exactly <strong>eight</strong> times and stops. </p><br><p>  <strong><em>Explanation:</em></strong> </p><br><ul><li>  The language does not support the ability to iterate the dictionary that you are editing. </li><li>  It is executed eight times because in this place the dictionary is enlarged to hold more keys (we have eight deletion entries, so we need to change the size of the dictionary).  These are the features of implementation. </li><li>  A similar example is <a href="https://stackoverflow.com/questions/44763802/bug-in-python-dict">parsed</a> on StackOverflow. </li></ul><br><h3 id="udalenie-elementa-spiska-vo-vremya-ego-iterirovaniya">  Deleting a list item during its iteration </h3><br><pre> <code class="hljs swift">list_1 = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>] list_2 = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>] list_3 = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>] list_4 = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> idx, item <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">enumerate</span></span>(list_1): del item <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> idx, item <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">enumerate</span></span>(list_2): list_2.remove(item) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> idx, item <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">enumerate</span></span>(list_3[:]): list_3.remove(item) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> idx, item <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">enumerate</span></span>(list_4): list_4.pop(idx)</code> </pre> <br><p>  <strong>Result:</strong> </p><br><pre> <code class="hljs css">&gt;&gt;&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">list_1</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[1, 2, 3, 4]</span></span> &gt;&gt;&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">list_2</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[2, 4]</span></span> &gt;&gt;&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">list_3</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[]</span></span> &gt;&gt;&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">list_4</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[2, 4]</span></span></code> </pre> <br><p>  Do you know why the result was <code>[2, 4]</code> ? </p><br><p>  <strong><em>Explanation:</em></strong> </p><br><ul><li><p>  Changing an object during its iteration is always a bad idea.  It is better then to iterate a copy of the object, which <code>list_3[:]</code> does. </p><br><pre> <code class="hljs pgsql">&gt;&gt;&gt; some_list = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>] &gt;&gt;&gt; id(some_list) <span class="hljs-number"><span class="hljs-number">139798789457608</span></span> &gt;&gt;&gt; id(some_list[:]) # <span class="hljs-keyword"><span class="hljs-keyword">Notice</span></span> that python creates <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> sliced list. <span class="hljs-number"><span class="hljs-number">139798779601192</span></span></code> </pre> <br><p>  <strong>The difference between <code>del</code> , <code>remove</code> and <code>pop</code> :</strong> </p><br></li><li>  <code>del var_name</code> simply removes the <code>var_name</code> binding of the local or global namespace (so <code>list_1</code> remains unaffected). </li><li>  <code>remove</code> removes the first matching value, not the specific index, causing <code>ValueError</code> if there is no value. </li><li>  <code>pop</code> removes the item with a specific index and returns it, causing <code>IndexError</code> if an invalid index is specified. </li></ul><br><p>  <strong>Why did it happen <code>[2, 4]</code> ?</strong> </p><br><ul><li>  The list is iterated index by index, and when we remove <code>1</code> from <code>list_2</code> or <code>list_4</code> , the contents of the lists become <code>[2, 3, 4]</code> .  The rest are shifted down, that is, <code>2</code> turns on index 0, <code>3</code> - on index 1. Since the next iteration will be performed with reference to index 1 (where we have <code>3</code> ), <code>2</code> will be skipped.  The same thing happens with every second item in the list.  A similar example related to dictionaries in Python is beautifully <a href="https://stackoverflow.com/questions/45877614/how-to-change-all-the-dictionary-keys-in-a-for-loop-with-d-items">explained</a> on StackOverflow. </li></ul><br><h3 id="obratnye-sleshi-v-konce-stroki">  Backslashes at the end of the line </h3><br><p>  <strong>Result:</strong> </p><br><pre> <code class="hljs python"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>print(<span class="hljs-string"><span class="hljs-string">"\\ some string \\"</span></span>) &gt;&gt;&gt; print(<span class="hljs-string"><span class="hljs-string">r"\ some string"</span></span>) &gt;&gt;&gt; print(<span class="hljs-string"><span class="hljs-string">r"\ some string \") File "</span></span>&lt;stdin&gt;<span class="hljs-string"><span class="hljs-string">", line 1 print(r"</span></span>\ some string \<span class="hljs-string"><span class="hljs-string">") ^ SyntaxError: EOL while scanning string literal</span></span></code> </pre> <br><p>  <strong><em>Explanation</em></strong> </p><br><ul><li>  In the raw string literal (raw string literal), as indicated by the prefix <code>r</code> , the backslash has no special meaning. </li><li>  But the interpreter changes the behavior of the reverse slashes, as a result, they and the subsequent character are simply skipped.  Therefore, backslashes at the end of the raw lines do not work. </li></ul><br><h3 id="davayte-sdelaem-gigantskuyu-stroku">  Let's make a giant string! </h3><br><p>  This is not WTF, but only some cool things, and they need to be wary :) </p><br><pre> <code class="hljs python"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add_string_with_plus</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(iters)</span></span></span><span class="hljs-function">:</span></span> s = <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(iters): s += <span class="hljs-string"><span class="hljs-string">"xyz"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> len(s) == <span class="hljs-number"><span class="hljs-number">3</span></span>*iters <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add_string_with_format</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(iters)</span></span></span><span class="hljs-function">:</span></span> fs = <span class="hljs-string"><span class="hljs-string">"{}"</span></span>*iters s = fs.format(*([<span class="hljs-string"><span class="hljs-string">"xyz"</span></span>]*iters)) <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> len(s) == <span class="hljs-number"><span class="hljs-number">3</span></span>*iters <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add_string_with_join</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(iters)</span></span></span><span class="hljs-function">:</span></span> l = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(iters): l.append(<span class="hljs-string"><span class="hljs-string">"xyz"</span></span>) s = <span class="hljs-string"><span class="hljs-string">""</span></span>.join(l) <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> len(s) == <span class="hljs-number"><span class="hljs-number">3</span></span>*iters <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">convert_list_to_string</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(l, iters)</span></span></span><span class="hljs-function">:</span></span> s = <span class="hljs-string"><span class="hljs-string">""</span></span>.join(l) <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> len(s) == <span class="hljs-number"><span class="hljs-number">3</span></span>*iters</code> </pre> <br><p>  <strong>Result:</strong> </p><br><pre> <code class="hljs pgsql">&gt;&gt;&gt; timeit(add_string_with_plus(<span class="hljs-number"><span class="hljs-number">10000</span></span>)) <span class="hljs-number"><span class="hljs-number">100</span></span> loops, best <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">9.73</span></span> ms per <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span> &gt;&gt;&gt; timeit(add_string_with_format(<span class="hljs-number"><span class="hljs-number">10000</span></span>)) <span class="hljs-number"><span class="hljs-number">100</span></span> loops, best <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">5.47</span></span> ms per <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span> &gt;&gt;&gt; timeit(add_string_with_join(<span class="hljs-number"><span class="hljs-number">10000</span></span>)) <span class="hljs-number"><span class="hljs-number">100</span></span> loops, best <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">10.1</span></span> ms per <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span> &gt;&gt;&gt; l = ["xyz"]*<span class="hljs-number"><span class="hljs-number">10000</span></span> &gt;&gt;&gt; timeit(convert_list_to_string(l, <span class="hljs-number"><span class="hljs-number">10000</span></span>)) <span class="hljs-number"><span class="hljs-number">10000</span></span> loops, best <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">75.3</span></span> ¬µs per <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span></code> </pre> <br><p>  <strong><em>Explanation</em></strong> </p><br><ul><li>  You can read more about <a href="https://docs.python.org/3/library/timeit.html">timeit</a> .  It usually measures how long code fragments run. </li><li>  Do not use <code>+</code> to generate long strings: in Python, <code>str</code> is immutable, so for each pair of concatenations, the left and right strings must be copied into a new string.  If you concatenate four lines 10 characters long, then copy (10 + 10) + ((10 + 10) + 10) + (((10 + 10) + 10) +10) = 90 characters instead of 40. As you grow the number and size of rows, the situation worsens fourfold. </li><li>  Therefore, it is recommended to use the <code>.format.</code> syntax <code>.format.</code>  or <code>%</code> (but on short lines it works a little slower than +). </li><li>  And if your content is already available as an iterable object, then it is better to choose a much faster <code>''.join(iterable_object)</code> . </li></ul><br><h3 id="optimizacii-interpretatora-konkatenacii-strok">  String Concatenation Interpreter Optimization </h3><br><pre> <code class="hljs pgsql">&gt;&gt;&gt; a = "some_string" &gt;&gt;&gt; id(a) <span class="hljs-number"><span class="hljs-number">140420665652016</span></span> &gt;&gt;&gt; id("some" + "_" + "string") # <span class="hljs-keyword"><span class="hljs-keyword">Notice</span></span> that <span class="hljs-keyword"><span class="hljs-keyword">both</span></span> the ids are same. <span class="hljs-number"><span class="hljs-number">140420665652016</span></span> # <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> "+", three strings: &gt;&gt;&gt; timeit.timeit("s1 = s1 + s2 + s3", setup="s1 = ' ' * 100000; s2 = ' ' * 100000; s3 = ' ' * 100000", number=<span class="hljs-number"><span class="hljs-number">100</span></span>) <span class="hljs-number"><span class="hljs-number">0.25748300552368164</span></span> # <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> "+=", three strings: &gt;&gt;&gt; timeit.timeit("s1 += s2 + s3", setup="s1 = ' ' * 100000; s2 = ' ' * 100000; s3 = ' ' * 100000", number=<span class="hljs-number"><span class="hljs-number">100</span></span>) <span class="hljs-number"><span class="hljs-number">0.012188911437988281</span></span></code> </pre> <br><p>  <strong><em>Explanation:</em></strong> </p><br><ul><li>  <code>+=</code> faster <code>+</code> more than two lines, because the first line (for example, <code>s1</code> for <code>s1 += s2 + s3</code> ) is not destroyed until the line has been completely processed. </li><li>  Both strings refer to the same object, because CPython optimization in some cases tries to use existing immutable objects (implementation feature), rather than creating new ones each time.  <a href="https://stackoverflow.com/questions/24245324/about-the-changing-id-of-an-immutable-string">Read more</a> . </li></ul><br><h3 id="da-ono-suschestvuet">  Yes, it exists! </h3><br><p>  <strong>Clause <code>else</code> for loops</strong> .  Typical example: </p><br><pre> <code class="hljs python"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">does_exists_num</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(l, to_find)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> num <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> l: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> num == to_find: print(<span class="hljs-string"><span class="hljs-string">"Exists!"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">break</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: print(<span class="hljs-string"><span class="hljs-string">"Does not exist"</span></span>)</code> </pre> <br><p>  <strong>Result:</strong> </p><br><pre> <code class="hljs ruby"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;</span></span>&gt; some_list = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>] &gt;&gt;&gt; does_exists_num(some_list, <span class="hljs-number"><span class="hljs-number">4</span></span>)</code> </pre> <br><p>  Exists! </p><br><pre> <code class="hljs lisp">&gt;&gt;&gt; does_exists_num(<span class="hljs-name"><span class="hljs-name">some_list</span></span>, <span class="hljs-number"><span class="hljs-number">-1</span></span>)</code> </pre> <br><p>  Does not exist. </p><br><p>  <strong>Clause <code>else</code> in exception handling</strong> .  Example: </p><br><pre> <code class="hljs python"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> <span class="hljs-keyword"><span class="hljs-keyword">except</span></span>: print(<span class="hljs-string"><span class="hljs-string">"Exception occurred!!!"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: print(<span class="hljs-string"><span class="hljs-string">"Try block executed successfully..."</span></span>)</code> </pre> <br><p>  <strong>Result:</strong> </p><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">Try</span></span> block executed successfully...</code> </pre> <br><p>  <strong><em>Explanation:</em></strong> </p><br><ul><li>  The clause <code>else</code> is executed after the loop only when after all iterations there is no obvious <code>break</code> . </li><li>  The <code>else</code> clause after a <code>try</code> block is also called a completion clause, since the availability of an <code>else</code> in a <code>try</code> means that the <code>try</code> block has been completed successfully. </li></ul><br><h3 id="is-ne-to-chto-ono-est">  <code>is</code> not what it is </h3><br><p>  This example is very widely known. </p><br><pre> <code class="hljs python"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>a = <span class="hljs-number"><span class="hljs-number">256</span></span> &gt;&gt;&gt; b = <span class="hljs-number"><span class="hljs-number">256</span></span> &gt;&gt;&gt; a <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> b <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> &gt;&gt;&gt; a = <span class="hljs-number"><span class="hljs-number">257</span></span> &gt;&gt;&gt; b = <span class="hljs-number"><span class="hljs-number">257</span></span> &gt;&gt;&gt; a <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> b <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> &gt;&gt;&gt; a = <span class="hljs-number"><span class="hljs-number">257</span></span>; b = <span class="hljs-number"><span class="hljs-number">257</span></span> &gt;&gt;&gt; a <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> b <span class="hljs-keyword"><span class="hljs-keyword">True</span></span></code> </pre> <br><p>  <strong><em>Explanation:</em></strong> </p><br><p>  <strong>Difference between <code>is</code> and <code>==</code></strong> </p><br><ul><li>  The <code>is</code> operator checks that both operands refer to the same object (that is, it checks if they are identical to each other). </li><li>  Operator <code>==</code> compares the values ‚Äã‚Äãof the operands and checks for identity. </li><li>  So <code>is</code> used for equivalence of links, and <code>==</code> for equivalence of values.  Explanatory example: </li></ul><br><pre> <code class="hljs python"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>[] == [] <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> &gt;&gt;&gt; [] <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> [] <span class="hljs-comment"><span class="hljs-comment"># These are two empty lists at two different memory locations. False</span></span></code> </pre> <br><p>  <strong><code>256</code> is an existing object, and <code>257</code> is not</strong> <br>  When you start Python, numbers from <code>-5</code> to <code>256</code> are placed in memory.  They are used often, so it is advisable to keep them ready. </p><br><p>  Quote from <a href="https://docs.python.org/3/c-api/long.html"></a>  <a href="https://docs.python.org/3/c-api/long.html">https://docs.python.org/3/c-api/long.html</a> </p><br><blockquote>  The current implementation supports an array of integer objects for all numbers from ‚Äì5 to 256, so that when you create an int from this range, you get a reference to an existing object.  Therefore, it should be possible to change the value to 1. But I suspect that in this case the behavior of Python will be unpredictable.  :-) </blockquote><br><pre> <code class="hljs lisp">&gt;&gt;&gt; id(<span class="hljs-number"><span class="hljs-number">256</span></span>) <span class="hljs-number"><span class="hljs-number">10922528</span></span> &gt;&gt;&gt; a = <span class="hljs-number"><span class="hljs-number">256</span></span> &gt;&gt;&gt; b = <span class="hljs-number"><span class="hljs-number">256</span></span> &gt;&gt;&gt; id(<span class="hljs-name"><span class="hljs-name">a</span></span>) <span class="hljs-number"><span class="hljs-number">10922528</span></span> &gt;&gt;&gt; id(<span class="hljs-name"><span class="hljs-name">b</span></span>) <span class="hljs-number"><span class="hljs-number">10922528</span></span> &gt;&gt;&gt; id(<span class="hljs-number"><span class="hljs-number">257</span></span>) <span class="hljs-number"><span class="hljs-number">140084850247312</span></span> &gt;&gt;&gt; x = <span class="hljs-number"><span class="hljs-number">257</span></span> &gt;&gt;&gt; y = <span class="hljs-number"><span class="hljs-number">257</span></span> &gt;&gt;&gt; id(<span class="hljs-name"><span class="hljs-name">x</span></span>) <span class="hljs-number"><span class="hljs-number">140084850247440</span></span> &gt;&gt;&gt; id(<span class="hljs-name"><span class="hljs-name">y</span></span>) <span class="hljs-number"><span class="hljs-number">140084850247344</span></span></code> </pre> <br><p>  The interpreter was not so smart, and during execution <code>y = 257</code> did not understand that we had already created an integer with the value <code>257</code> , therefore it creates another object in the memory. </p><br><p>  <strong><code>a</code> and <code>b</code> refer to the same object when initialized with the same value on the same line.</strong> </p><br><pre> <code class="hljs objectivec">&gt;&gt;&gt; a, b = <span class="hljs-number"><span class="hljs-number">257</span></span>, <span class="hljs-number"><span class="hljs-number">257</span></span> &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>(a) <span class="hljs-number"><span class="hljs-number">140640774013296</span></span> &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>(b) <span class="hljs-number"><span class="hljs-number">140640774013296</span></span> &gt;&gt;&gt; a = <span class="hljs-number"><span class="hljs-number">257</span></span> &gt;&gt;&gt; b = <span class="hljs-number"><span class="hljs-number">257</span></span> &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>(a) <span class="hljs-number"><span class="hljs-number">140640774013392</span></span> &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>(b) <span class="hljs-number"><span class="hljs-number">140640774013488</span></span></code> </pre> <br><ul><li>  When <code>a</code> and <code>b</code> to <code>257</code> on one line, the Python interpreter creates a new object, while at the same time making a reference to it from the second variable.  If we assign values ‚Äã‚Äãin different lines, the interpreter will not ‚Äúknow‚Äù that we already have <code>257</code> as an object. </li><li>  This is a compiler optimization specifically applied to an interactive environment.  When you enter two strings into a working interpreter, they are compiled, which means they are optimized separately.  If you try to run this example in the <code>.py</code> file, you will not see this behavior, because the file is compiled at once. </li></ul><br><h3 id="is-not--otlichaetsya-ot-is-not-">  <code>is not ...</code> different from <code>is (not ...)</code> </h3><br><pre> <code class="hljs python"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-string"><span class="hljs-string">'something'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> &gt;&gt;&gt; <span class="hljs-string"><span class="hljs-string">'something'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">False</span></span></code> </pre> <br><p>  <strong><em>Explanation</em></strong> </p><br><ul><li>  <code>is not</code> is a single binary operator whose behavior differs from the situation when <code>is</code> and <code>not</code> are used separately. </li><li>  <code>is not</code> <code>False</code> if variables on both sides of the statement point to the same object.  Otherwise, it is true. </li></ul><br><h3 id="funkciya-vnutri-cikla-vydaet-odin-i-tot-zhe-rezultat">  The function inside the loop produces the same result. </h3><br><pre> <code class="hljs swift">funcs = [] results = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">7</span></span>): def some_func(): <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x funcs.append(some_func) results.append(some_func()) funcs_results = [<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">in</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">funcs</span></span></span><span class="hljs-function">]</span></span></code> </pre> <br><p>  <strong>Result:</strong> </p><br><pre> <code class="hljs css">&gt;&gt;&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">results</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[0, 1, 2, 3, 4, 5, 6]</span></span> &gt;&gt;&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">funcs_results</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[6, 6, 6, 6, 6, 6, 6]</span></span></code> </pre> <br><p>  If before adding <code>some_func</code> in <code>funcs</code> , the <code>x</code> values ‚Äã‚Äãin each iteration were different, all functions returned 6. </p><br><pre> <code class="hljs pgsql">//<span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> &gt;&gt;&gt; powers_of_x = [lambda x: x**i <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">10</span></span>)] &gt;&gt;&gt; [f(<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> f <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> powers_of_x] [<span class="hljs-number"><span class="hljs-number">512</span></span>, <span class="hljs-number"><span class="hljs-number">512</span></span>, <span class="hljs-number"><span class="hljs-number">512</span></span>, <span class="hljs-number"><span class="hljs-number">512</span></span>, <span class="hljs-number"><span class="hljs-number">512</span></span>, <span class="hljs-number"><span class="hljs-number">512</span></span>, <span class="hljs-number"><span class="hljs-number">512</span></span>, <span class="hljs-number"><span class="hljs-number">512</span></span>, <span class="hljs-number"><span class="hljs-number">512</span></span>, <span class="hljs-number"><span class="hljs-number">512</span></span>]</code> </pre> <br><p>  <strong><em>Explanation</em></strong> </p><br><ul><li>  When defining a function in a loop, in the body of which the loop variable is used, the closure of the loop function is tied to the variable, not its value.  So all functions for calculation use the last value assigned to a variable. </li><li>  To get the desired behavior, you can pass a loop variable to a function as a named variable.  <strong>Why does this work?</strong>  Because in this way the variable will again be defined in the scope of the function. </li></ul><br><pre> <code class="hljs ruby">funcs = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">7</span></span>): <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">some_func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(x=x)</span></span></span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x funcs.append(some_func)</code> </pre> <br><p>  <strong>Result:</strong> </p><br><pre> <code class="hljs python"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>funcs_results = [func() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> func <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> funcs] &gt;&gt;&gt; funcs_results [<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>]</code> </pre> <br><h4 id="utechka-peremennyh-cikla-iz-lokalnoy-oblasti-vidimosti">  Loop loop variables from the local scope </h4><br><p>  one. </p><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">7</span></span>): <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> x == <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(x, ': <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x inside loop') <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(x, ': x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> global')</code> </pre> <br><p>  <strong>Result:</strong> </p><br><pre> <code class="hljs pgsql"><span class="hljs-number"><span class="hljs-number">6</span></span> : <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x inside <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> : x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">global</span></span></code> </pre> <br><p>  But <code>x</code> not defined for a loop outside the scope. </p><br><p>  2 </p><br><pre> <code class="hljs vhdl"># This <span class="hljs-built_in"><span class="hljs-built_in">time</span></span> let<span class="hljs-symbol"><span class="hljs-symbol">'s</span></span> initialize x first x = -<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">range</span></span>(<span class="hljs-number"><span class="hljs-number">7</span></span>): <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> x == <span class="hljs-number"><span class="hljs-number">6</span></span>: print(x, ': <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x inside <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span>') print(x, ': x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> global')</code> </pre> <br><p>  <strong>Result:</strong> </p><br><pre> <code class="hljs pgsql"><span class="hljs-number"><span class="hljs-number">6</span></span> : <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x inside <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> : x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">global</span></span></code> </pre> <br><p>  3 </p><br><pre> <code class="hljs swift">x = <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>([x <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">5</span></span>)]) <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(x, ': x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> global')</code> </pre> <br><p>  <strong>Result (on Python 2.x):</strong> </p><br><pre> <code class="hljs cs">[<span class="hljs-meta"><span class="hljs-meta">0, 1, 2, 3, 4</span></span>] (<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-string"><span class="hljs-string">': x in global'</span></span>)</code> </pre> <br><p>  <strong>Result (on Python 3.x):</strong> </p><br><pre> <code class="hljs cs">[<span class="hljs-meta"><span class="hljs-meta">0, 1, 2, 3, 4</span></span>] <span class="hljs-number"><span class="hljs-number">1</span></span> : x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">global</span></span></code> </pre> <br><p>  <strong><em>Explanation</em></strong> </p><br><ul><li>  In Python, for loops use the same visibility space in which they exist, without worrying about their particular loop variables.  This also applies to the situation if we have previously explicitly defined a for loop variable in the global namespace.  Then it will be rebound to the existing variable. </li><li>  The difference in the output of the Python 2.x and Python 3.x interpreters with reference to the list comprehension example can be explained using the change described in the <a href="https://docs.python.org/3/whatsnew/3.0.html">What's New In Python 3.0</a> documentation: <br><blockquote>  ‚ÄúThe syntax form <code>[... for var in item1, item2, ...]</code> no longer supported for generating lists.  Use <code>[... for var in (item1, item2, ...)]</code> instead.  Also note that list generation has different semantics: they are closer to syntactic sugar in relation to the generating expression inside the <code>list()</code> constructor, and, in particular, loop control variables no longer flow into the surrounding scope. ‚Äù <br></blockquote></li></ul><br><h4 id="krestiki-noliki-gde-h-pobezhdaet-s-pervoy-popytki">  Tic-tac-toe, where X wins on the first try </h4><br><pre> <code class="hljs pgsql"># Let<span class="hljs-string"><span class="hljs-string">'s initialize a row row = [""]*3 #row i['', '', ''] # Let'</span></span>s make a board board = [<span class="hljs-keyword"><span class="hljs-keyword">row</span></span>]*<span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre> <br><p>  <strong>Result:</strong> </p><br><pre> <code class="hljs markdown">&gt;&gt;&gt; board [<span class="hljs-string"><span class="hljs-string">['', '', ''</span></span>], [<span class="hljs-string"><span class="hljs-string">'', '', ''</span></span>], [<span class="hljs-string"><span class="hljs-string">'', '', ''</span></span>]] &gt;&gt;&gt; board[<span class="hljs-string"><span class="hljs-string">0</span></span>] [<span class="hljs-string"><span class="hljs-string">'', '', ''</span></span>] &gt;&gt;&gt; board[<span class="hljs-string"><span class="hljs-string">0</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">0</span></span>] '' &gt;&gt;&gt; board[<span class="hljs-string"><span class="hljs-string">0</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">0</span></span>] = "X" &gt;&gt;&gt; board [['X', '', ''], ['X', '', ''], ['X', '', '']]</code> </pre> <br><p>  But we did not assign three X, right? </p><br><p>  <strong><em>Explanation</em></strong> </p><br><p>  This visualization explains what happens in memory when the <code>row</code> variable is initialized: </p><br><p><img src="https://habrastorage.org/web/22d/f2f/af2/22df2faf2835491e9b27d2f8a9aeeab7.png" alt="image"></p><br><p>  And when the <code>board</code> initialized by multiplying the <code>row</code> , this is what happens in the memory (each of the <code>board[0]</code> , <code>board[1]</code> and <code>board[2]</code> elements is a reference to the same list specified in <code>row</code> ): </p><br><p><img src="https://habrastorage.org/web/a32/fd4/c61/a32fd4c6169045e99c3f1d80b92248d4.png" alt="image"></p><br><h4 id="opasaytes-izmenyaemyh-argumentov-po-umolchaniyu">  Beware of default variable arguments. </h4><br><pre> <code class="hljs ruby"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">some_func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(default_arg=[])</span></span></span></span>: default_arg.append(<span class="hljs-string"><span class="hljs-string">"some_string"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> default_arg</code> </pre> <br><p>  <strong>Result:</strong> </p><br><pre> <code class="hljs ruby"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;</span></span>&gt; some_func() [<span class="hljs-string"><span class="hljs-string">'some_string'</span></span>] &gt;&gt;&gt; some_func() [<span class="hljs-string"><span class="hljs-string">'some_string'</span></span>, <span class="hljs-string"><span class="hljs-string">'some_string'</span></span>] &gt;&gt;&gt; some_func([]) [<span class="hljs-string"><span class="hljs-string">'some_string'</span></span>] &gt;&gt;&gt; some_func() [<span class="hljs-string"><span class="hljs-string">'some_string'</span></span>, <span class="hljs-string"><span class="hljs-string">'some_string'</span></span>, <span class="hljs-string"><span class="hljs-string">'some_string'</span></span>]</code> </pre> <br><p>  <strong><em>Explanation</em></strong> </p><br><ul><li>  In Python, mutable default arguments are not actually initialized with every function call.  Instead, the newly assigned value is taken as the default value.  When we explicitly passed <code>[]</code> as an argument to <code>some_func</code> , there was no default value for the <code>default_arg</code> variable, so the function returned what was expected. </li></ul><br><pre> <code class="hljs ruby"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">some_func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(default_arg=[])</span></span></span></span>: default_arg.append(<span class="hljs-string"><span class="hljs-string">"some_string"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> default_arg</code> </pre> <br><p>  <strong>Result:</strong> </p><br><pre> <code class="hljs delphi">&gt;&gt;&gt; some_func.__defaults__ #This will show the <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> argument values <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> the <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">([],)</span></span></span><span class="hljs-function"> &gt;&gt;&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">some_func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> &gt;&gt;&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">some_func</span></span></span><span class="hljs-function">.__</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">defaults__</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">([</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'some_string'</span></span></span></span><span class="hljs-function"><span class="hljs-params">],)</span></span></span><span class="hljs-function"> &gt;&gt;&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">some_func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> &gt;&gt;&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">some_func</span></span></span><span class="hljs-function">.__</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">defaults__</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">([</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'some_string'</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'some_string'</span></span></span></span><span class="hljs-function"><span class="hljs-params">],)</span></span></span><span class="hljs-function"> &gt;&gt;&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">some_func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">([])</span></span></span><span class="hljs-function"> &gt;&gt;&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">some_func</span></span></span><span class="hljs-function">.__</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">defaults__</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">([</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'some_string'</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'some_string'</span></span></span></span><span class="hljs-function"><span class="hljs-params">],)</span></span></span></span></code> </pre> <br><ul><li>  The standard way to avoid bugs due to variable arguments is to assign <code>None</code> as the default value, followed by checking whether any value is passed to the function that corresponds to this argument.  Example: <br><pre> <code class="hljs ruby"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">some_func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(default_arg=None)</span></span></span></span>: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-symbol"><span class="hljs-symbol">default_arg:</span></span> default_arg = [] default_arg.append(<span class="hljs-string"><span class="hljs-string">"some_string"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> default_arg</code> </pre> <br><h4 id="te-zhe-operandy-no-drugaya-istoriya">  Same operands, but a different story </h4><br><p>  one. <br></p><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">a</span></span> = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>] b = a a = a + [<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>]</code> </pre> <br><p>  <strong>Result:</strong> </p><br><br><pre> <code class="hljs css">&gt;&gt;&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">a</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[1, 2, 3, 4, 5, 6, 7, 8]</span></span> &gt;&gt;&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">b</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[1, 2, 3, 4]</span></span></code> </pre> <br><p>  2 </p><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">a</span></span> = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>] b = a a += [<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>]</code> </pre> <br><p>  <strong>Result:</strong> </p><br><pre> <code class="hljs css">&gt;&gt;&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">a</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[1, 2, 3, 4, 5, 6, 7, 8]</span></span> &gt;&gt;&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">b</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[1, 2, 3, 4, 5, 6, 7, 8]</span></span></code> </pre> <br><p>  <strong><em>Explanation</em></strong> </p><br><ul><li>  The expression <code>a += b</code> behaves differently than <code>a = a + b</code> </li><li>  The expression <code>a = a + [5,6,7,8]</code> generates a new object and assigns a to it, leaving <code>b</code> unchanged. </li><li>  The expression <code>a + =[5,6,7,8]</code> actually converted (mapped to) into the extend function, which works with the object in such a way that <code>a</code> and <code>b</code> still point to the same object that was changed in place. </li></ul><br><h4 id="izmenenie-neizmenyaemogo">  Unchangeable change </h4><br><pre> <code class="hljs lisp">some_tuple = (<span class="hljs-string"><span class="hljs-string">"A"</span></span>, <span class="hljs-string"><span class="hljs-string">"tuple"</span></span>, <span class="hljs-string"><span class="hljs-string">"with"</span></span>, <span class="hljs-string"><span class="hljs-string">"values"</span></span>) another_tuple = ([<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>], [<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>], [<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>])</code> </pre> <br><p>  <strong>Result:</strong> </p><br><pre> <code class="hljs pgsql">&gt;&gt;&gt; some_tuple[<span class="hljs-number"><span class="hljs-number">2</span></span>] = "change this" TypeError: <span class="hljs-string"><span class="hljs-string">'tuple'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> does <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> support item assignment &gt;&gt;&gt; another_tuple[<span class="hljs-number"><span class="hljs-number">2</span></span>].append(<span class="hljs-number"><span class="hljs-number">1000</span></span>) #This throws <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> error &gt;&gt;&gt; another_tuple ([<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>], [<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>], [<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">1000</span></span>]) &gt;&gt;&gt; another_tuple[<span class="hljs-number"><span class="hljs-number">2</span></span>] += [<span class="hljs-number"><span class="hljs-number">99</span></span>, <span class="hljs-number"><span class="hljs-number">999</span></span>] TypeError: <span class="hljs-string"><span class="hljs-string">'tuple'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> does <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> support item assignment &gt;&gt;&gt; another_tuple ([<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>], [<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>], [<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">1000</span></span>, <span class="hljs-number"><span class="hljs-number">99</span></span>, <span class="hljs-number"><span class="hljs-number">999</span></span>])</code> </pre> <br><p>  But the tuples are immutable, is not it ... </p><br><p>  <strong><em>Explanation</em></strong> </p><br><ul><li>  Quote from <a href="https://docs.python.org/2/reference/datamodel.html"></a>  <a href="https://docs.python.org/2/reference/datamodel.html">https://docs.python.org/2/reference/datamodel.html</a> <br><blockquote>  An immutable sequence type object cannot change after its creation.  If an object contains references to other objects, then these objects can be editable and can be changed.  However, a collection of objects that is directly referenced by an immutable object cannot be changed. <br></blockquote></li><li>  Operator <code>+=</code> changes the list in place.  Item assignment does not work, but when an exception occurs, the item has already been changed in place. </li></ul><br><h4 id="ispolzovanie-peremennoy-ne-opredelennoy-v-oblasti-vidimosti">  Using a variable that is not defined in scope </h4><br><pre> <code class="hljs ruby">a = <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">some_func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">another_func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: a += <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a</code> </pre> <br><p>  <strong>Result:</strong> </p><br><pre> <code class="hljs pgsql">&gt;&gt;&gt; some_func() <span class="hljs-number"><span class="hljs-number">1</span></span> &gt;&gt;&gt; another_func() UnboundLocalError: <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> variable <span class="hljs-string"><span class="hljs-string">'a'</span></span> referenced <span class="hljs-keyword"><span class="hljs-keyword">before</span></span> assignment</code> </pre> <br><p>  <strong><em>Explanation</em></strong> </p><br><ul><li>  When you assign a variable in scope, it becomes local to that scope.  That is, a becomes <code>another_func</code> local scope variable, but it was not previously initialized in the same scope that throws the error. </li><li>  Check out <a href="http://sebastianraschka.com/Articles/2014_python_scope_and_namespaces.html">this</a> short, brilliant tutorial to learn more about how namespaces work in Python and the scope resolution. </li><li>  Use the <code>global</code> to modify the external scope variable <code>a</code> to <code>another_func</code> . </li></ul><br><pre> <code class="hljs ruby"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">another_func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> global a a += <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a</code> </pre> <br><p>  <strong>Result:</strong> </p><br><pre> <code class="hljs ruby"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;</span></span>&gt; another_func() <span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre> <br><h3 id="ischeznovenie-peremennoy-iz-vneshney-oblasti-vidimosti">  The disappearance of the variable from the external scope </h3><br><pre> <code class="hljs pgsql">e = <span class="hljs-number"><span class="hljs-number">7</span></span> try: <span class="hljs-keyword"><span class="hljs-keyword">raise</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> e: pass</code> </pre> <br><p>  <strong>Result (Python 2.x):</strong> </p><br><pre> <code class="hljs ruby"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;</span></span>&gt; print(e) <span class="hljs-comment"><span class="hljs-comment"># prints nothing</span></span></code> </pre> <br><p>  <strong>Result (Python 3.x):</strong> </p><br><pre> <code class="hljs python"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>print(e) NameError: name <span class="hljs-string"><span class="hljs-string">'e'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> defined</code> </pre> <br><p>  <strong><em>Explanation</em></strong> </p><br><ul><li><p>  <a href="https://docs.python.org/3/reference/compound_stmts.html">Source of</a> <br>  If it assigns an exception to the target <code>as</code> , it is cleared at the end of the <code>except</code> clause.  As if </p><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">except</span></span> E <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> N: foo</code> </pre> <br><p>  was converted to </p><br><pre> <code class="hljs python"><span class="hljs-keyword"><span class="hljs-keyword">except</span></span> E <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> N: <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: foo <span class="hljs-keyword"><span class="hljs-keyword">finally</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">del</span></span> N</code> </pre> <br><p>  This means that an exception must be assigned to another name, so that you can refer to it after the <code>except</code> clause.   ,       (traceback),         (reference cycle),       ,       . </p><br></li><li>  Python      .         ,   e  -   <code>except</code> .      ,     . : <br><pre> <code class="hljs python"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">f</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(x)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">del</span></span>(x) print(x)</code> </pre> </li></ul><br><p> x = 5 <br> y = [5, 4, 3] </p><br><pre> <code class="hljs markdown"><span class="hljs-strong"><span class="hljs-strong">**:**</span></span></code> </pre><br><blockquote><blockquote><blockquote>  f (x) <br> UnboundLocalError: local variable 'x' referenced before assignment <br> f(y) <br> UnboundLocalError: local variable 'x' referenced before assignment <br>  x <br>  five <br>  y <br> [5, 4, 3] <br><pre> <code class="hljs markdown"><span class="hljs-bullet"><span class="hljs-bullet">- </span></span> Python 2.x   e   <span class="hljs-code"><span class="hljs-code">`Exception()`</span></span>,           .</code> </pre> <br></blockquote><br></blockquote><br></blockquote><p> <strong> (Python 2.x):</strong> </p><br><pre> <code class="hljs pgsql">&gt;&gt;&gt; e <span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span>() &gt;&gt;&gt; print e # <span class="hljs-keyword"><span class="hljs-keyword">Nothing</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> printed!</code> </pre> <br><h4 id="return-vozvraschaet-vezde"> Return   </h4><br><pre> <code class="hljs python"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">some_func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'from_try'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">finally</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'from_finally'</span></span></code> </pre> <br><p>  <strong>Result:</strong> </p><br><pre> <code class="hljs ruby"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;</span></span>&gt; some_func() <span class="hljs-string"><span class="hljs-string">'from_finally'</span></span></code> </pre> <br><p> <strong><em></em></strong> </p><br><ul><li>    <code>try</code>  <code>try‚Ä¶finally</code>  <code>return</code> , <code>break</code>  <code>continue</code> ,       <code>finally</code> . </li><li>        <code>return</code> .   <code>finally</code>  ,  <code>return</code> ,    <code>finally</code> ,    . </li></ul><br><h4 id="kogda-true-na-samom-dele-false">  True    False </h4><br><pre> <code class="hljs php"><span class="hljs-keyword"><span class="hljs-keyword">True</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> == <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span>(<span class="hljs-string"><span class="hljs-string">"I've lost faith in truth!"</span></span>)</code> </pre> <br><p>  <strong>Result:</strong> </p><br><pre> <code class="hljs vhdl">I<span class="hljs-symbol"><span class="hljs-symbol">'ve</span></span> lost faith <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> truth!</code> </pre> <br><p> <strong><em></em></strong> </p><br><ul><li>   Python    <code>bool</code> (  0  false     1  true).     <code>True</code> , <code>False</code>   <code>bool</code> ,  -      <code>True</code>  <code>False</code>  ‚Äî      . </li><li> Python 3   ,         ,        Python 3.x! </li></ul><br><h4 id="budte-ostorozhny-s-cepochkami-operaciy">      </h4><br><pre> <code class="hljs python"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> == <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> &gt;&gt;&gt; <span class="hljs-number"><span class="hljs-number">1</span></span> &gt; <span class="hljs-number"><span class="hljs-number">0</span></span> &lt; <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> &gt;&gt;&gt; (<span class="hljs-number"><span class="hljs-number">1</span></span> &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) &lt; <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> &gt;&gt;&gt; <span class="hljs-number"><span class="hljs-number">1</span></span> &gt; (<span class="hljs-number"><span class="hljs-number">0</span></span> &lt; <span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">False</span></span></code> </pre> <br><p> <strong><em></em></strong> </p><br><p>    <a href="https://docs.python.org/2/reference/expressions.html"></a> <a href="https://docs.python.org/2/reference/expressions.html">https://docs.python.org/2/reference/expressions.html#not-in</a> </p><br><blockquote> ,  a, b, c, ..., y, z ‚Äî ,  op1, op2, ..., opN ‚Äî ,  a op1 b op2 c‚Ä¶ y opN z  op1 b  b op2 c ‚Ä¶ y opN z,   ,     . </blockquote><p>       ,       <code>a == b == c  0 &lt;= x &lt;= 100</code> . </p><br><ul><li> <code>False is False is False</code>  <code>(False is False) and (False is False)</code> </li><li> <code>True is False == False</code>  <code>True is False and False == False</code> ,      ( <code>True is False</code> )   <code>False</code> ,       <code>False</code> . </li><li> <code>1 &gt; 0 &lt; 1</code>  <code>1 &gt; 0</code> and <code>0 &lt; 1</code> ,    <code>True</code> . </li><li>  <code>(1 &gt; 0) &lt; 1</code>  <code>True &lt; 1</code>  </li></ul><br><pre> <code class="hljs kotlin">&gt;&gt;&gt; int(True) <span class="hljs-number"><span class="hljs-number">1</span></span> &gt;&gt;&gt; True + <span class="hljs-number"><span class="hljs-number">1</span></span> #not relevant <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> example, but just <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> 2</span></span></code> </pre> <br><p>   <code>1 &lt; 1</code>   <code>False</code> </p><br><h4 id="razreshenie-imen-ignoriruet-oblast-vidimosti-klassa">       </h4><br><p>  one. </p><br><pre> <code class="hljs kotlin">x = <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SomeClass</span></span></span><span class="hljs-class">: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">x = 17 y = </span></span></span></span>(x <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">10</span></span>))</code> </pre> <br><p>  <strong>Result:</strong> </p><br><pre> <code class="hljs css">&gt;&gt;&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">list</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">SomeClass</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.y</span></span>)<span class="hljs-selector-attr"><span class="hljs-selector-attr">[0]</span></span> 5</code> </pre> <br><p>  2 </p><br><pre> <code class="hljs cs">x = <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">SomeClass</span></span>: <span class="hljs-title"><span class="hljs-title">x</span></span> = <span class="hljs-number"><span class="hljs-number">17</span></span> y = [<span class="hljs-function"><span class="hljs-function">x </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">for</span></span></span><span class="hljs-function"> i </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">in</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">range</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">10</span></span></span></span></span><span class="hljs-function">)]</span></span></code> </pre> <br><p> <strong> (Python 2.x):</strong> </p><br><pre> <code class="hljs css">&gt;&gt;&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">SomeClass</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.y</span></span><span class="hljs-selector-attr"><span class="hljs-selector-attr">[0]</span></span> 17</code> </pre> <br><p> <strong> (Python 3.x):</strong> </p><br><pre> <code class="hljs css">&gt;&gt;&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">SomeClass</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.y</span></span><span class="hljs-selector-attr"><span class="hljs-selector-attr">[0]</span></span> 5</code> </pre> <br><p> <strong><em></em></strong> </p><br><ul><li>  ,    ,  ,    . </li><li>      . </li><li>   Python 3.X   (list comprehensions)     . </li></ul><br><h4 id="ot-zapolnennosti-do-none-v-odnoy-instrukcii">    None    </h4><br><pre> <code class="hljs pgsql">some_list = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>] some_dict = { "key_1": <span class="hljs-number"><span class="hljs-number">1</span></span>, "key_2": <span class="hljs-number"><span class="hljs-number">2</span></span>, "key_3": <span class="hljs-number"><span class="hljs-number">3</span></span> } some_list = some_list.append(<span class="hljs-number"><span class="hljs-number">4</span></span>) some_dict = some_dict.<span class="hljs-keyword"><span class="hljs-keyword">update</span></span>({"key_4": <span class="hljs-number"><span class="hljs-number">4</span></span>})</code> </pre> <br><p>  <strong>Result:</strong> </p><br><pre> <code class="hljs python"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>print(some_list) <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> &gt;&gt;&gt; print(some_dict) <span class="hljs-keyword"><span class="hljs-keyword">None</span></span></code> </pre> <br><p> <strong><em></em></strong> </p><br><p>  ,    / (sequence/mapping objects)  <code>list.append</code> , <code>dict.update</code> , <code>list.sort</code>  . .,       <code>None</code> .  ‚Äî        ,       ( <a href="http://docs.python.org/2/faq/design.html"></a> ) </p><br><h4 id="yavnoe-privedenie-tipov-v-strokovyh-znacheniyah">       </h4><br><p>    WTF,         ,   Python   .   . </p><br><pre> <code class="hljs pgsql">a = <span class="hljs-type"><span class="hljs-type">float</span></span>(<span class="hljs-string"><span class="hljs-string">'inf'</span></span>) b = <span class="hljs-type"><span class="hljs-type">float</span></span>(<span class="hljs-string"><span class="hljs-string">'nan'</span></span>) c = <span class="hljs-type"><span class="hljs-type">float</span></span>(<span class="hljs-string"><span class="hljs-string">'-iNf'</span></span>) #These strings are <span class="hljs-keyword"><span class="hljs-keyword">case</span></span>-insensitive d = <span class="hljs-type"><span class="hljs-type">float</span></span>(<span class="hljs-string"><span class="hljs-string">'nan'</span></span>)</code> </pre> <br><p>  <strong>Result:</strong> </p><br><pre> <code class="hljs pgsql">&gt;&gt;&gt; a inf &gt;&gt;&gt; b <span class="hljs-keyword"><span class="hljs-keyword">nan</span></span> &gt;&gt;&gt; c -inf &gt;&gt;&gt; <span class="hljs-type"><span class="hljs-type">float</span></span>(<span class="hljs-string"><span class="hljs-string">'some_other_string'</span></span>) ValueError: could <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> convert string <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-type"><span class="hljs-type">float</span></span>: some_other_string &gt;&gt;&gt; a == -c #inf==inf <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> == <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> # <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>==<span class="hljs-keyword"><span class="hljs-keyword">None</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> &gt;&gt;&gt; b == d #but <span class="hljs-keyword"><span class="hljs-keyword">nan</span></span>!=<span class="hljs-keyword"><span class="hljs-keyword">nan</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> &gt;&gt;&gt; <span class="hljs-number"><span class="hljs-number">50</span></span>/a <span class="hljs-number"><span class="hljs-number">0.0</span></span> &gt;&gt;&gt; a/a <span class="hljs-keyword"><span class="hljs-keyword">nan</span></span> &gt;&gt;&gt; <span class="hljs-number"><span class="hljs-number">23</span></span> + b <span class="hljs-keyword"><span class="hljs-keyword">nan</span></span></code> </pre> <br><p> <strong><em></em></strong> <br> <code>'inf'</code>  <code>'nan'</code> ‚Äî    (  ).       <code>float</code> ,      , ,  ¬´¬ª  ¬´ ¬ª. </p><br><h4 id="atributy-klassov-i-ekzemplyarov">     </h4><br><p>  one. </p><br><pre> <code class="hljs python"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class">:</span></span> x = <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">B</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(A)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">C</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(A)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span></code> </pre> <br><p>  <strong>Result:</strong> </p><br><pre> <code class="hljs ruby"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;</span></span>&gt; Ax, Bx, Cx (<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>) &gt;&gt;&gt; Bx = <span class="hljs-number"><span class="hljs-number">2</span></span> &gt;&gt;&gt; Ax, Bx, Cx (<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>) &gt;&gt;&gt; Ax = <span class="hljs-number"><span class="hljs-number">3</span></span> &gt;&gt;&gt; Ax, Bx, Cx (<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>) &gt;&gt;&gt; a = A() &gt;&gt;&gt; ax, Ax (<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>) &gt;&gt;&gt; ax += <span class="hljs-number"><span class="hljs-number">1</span></span> &gt;&gt;&gt; ax, Ax (<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>)</code> </pre> <br><p>  2 </p><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> SomeClass: some_var = <span class="hljs-number"><span class="hljs-number">15</span></span> some_list = [<span class="hljs-number"><span class="hljs-number">5</span></span>] another_list = [<span class="hljs-number"><span class="hljs-number">5</span></span>] def __init__(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>, x): <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.some_var = x + <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.some_list = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.some_list + [x] <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.another_list += [x]</code> </pre> <br><p>  <strong>Result:</strong> </p><br><pre> <code class="hljs python"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>some_obj = SomeClass(<span class="hljs-number"><span class="hljs-number">420</span></span>) &gt;&gt;&gt; some_obj.some_list [<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">420</span></span>] &gt;&gt;&gt; some_obj.another_list [<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">420</span></span>] &gt;&gt;&gt; another_obj = SomeClass(<span class="hljs-number"><span class="hljs-number">111</span></span>) &gt;&gt;&gt; another_obj.some_list [<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">111</span></span>] &gt;&gt;&gt; another_obj.another_list [<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">420</span></span>, <span class="hljs-number"><span class="hljs-number">111</span></span>] &gt;&gt;&gt; another_obj.another_list <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> SomeClass.another_list <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> &gt;&gt;&gt; another_obj.another_list <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> some_obj.another_list <span class="hljs-keyword"><span class="hljs-keyword">True</span></span></code> </pre> <br><p> <strong><em></em></strong> </p><br><ul><li>             .         ,      . </li><li>  <code>+=</code>         .              . </li></ul><br><h4 id="lovlya-isklyucheniy">   </h4><br><pre> <code class="hljs mel">some_list = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>] try: # This should raise an <span class="hljs-string"><span class="hljs-string">``</span></span>IndexError<span class="hljs-string"><span class="hljs-string">``</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span>(some_list[<span class="hljs-number"><span class="hljs-number">4</span></span>]) except IndexError, ValueError: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span>(<span class="hljs-string"><span class="hljs-string">"Caught!"</span></span>) try: # This should raise a <span class="hljs-string"><span class="hljs-string">``</span></span>ValueError<span class="hljs-string"><span class="hljs-string">``</span></span> some_list.remove(<span class="hljs-number"><span class="hljs-number">4</span></span>) except IndexError, ValueError: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span>(<span class="hljs-string"><span class="hljs-string">"Caught again!"</span></span>)</code> </pre> <br><p> <strong> (Python 2.x):</strong> </p><br><pre> <code class="hljs cmake">Caught! ValueError: <span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">remove</span></span>(x): x <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> in <span class="hljs-keyword"><span class="hljs-keyword">list</span></span></code> </pre> <br><p> <strong> (Python 3.x):</strong> </p><br><pre> <code class="hljs pgsql"> File "&lt;input&gt;", <span class="hljs-type"><span class="hljs-type">line</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> IndexError, ValueError: ^ SyntaxError: invalid syntax</code> </pre> <br><p> <strong><em></em></strong> </p><br><ul><li>       <code>except</code>              .   ‚Äî  ,        .  Example: </li></ul><br><pre> <code class="hljs mel">some_list = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>] try: # This should raise a <span class="hljs-string"><span class="hljs-string">``</span></span>ValueError<span class="hljs-string"><span class="hljs-string">``</span></span> some_list.remove(<span class="hljs-number"><span class="hljs-number">4</span></span>) except (IndexError, ValueError), e: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span>(<span class="hljs-string"><span class="hljs-string">"Caught again!"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">print</span></span>(e)</code> </pre> <br><p> <strong> (Python 2.x):</strong> </p><br><pre> <code class="hljs cmake">Caught again! <span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">remove</span></span>(x): x <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> in <span class="hljs-keyword"><span class="hljs-keyword">list</span></span></code> </pre> <br><p> <strong> (Python 3.x):</strong> </p><br><pre> <code class="hljs pgsql"> File "&lt;input&gt;", <span class="hljs-type"><span class="hljs-type">line</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> (IndexError, ValueError), e: ^ IndentationError: unindent does <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> match <span class="hljs-keyword"><span class="hljs-keyword">any</span></span> <span class="hljs-keyword"><span class="hljs-keyword">outer</span></span> indentation <span class="hljs-keyword"><span class="hljs-keyword">level</span></span></code> </pre> <br><ul><li>         ,     Python 3;   <code>as</code> .  Example: </li></ul><br><pre> <code class="hljs python">some_list = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: some_list.remove(<span class="hljs-number"><span class="hljs-number">4</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> (IndexError, ValueError) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> e: print(<span class="hljs-string"><span class="hljs-string">"Caught again!"</span></span>) print(e)</code> </pre> <br><p>  <strong>Result:</strong> </p><br><pre> <code class="hljs cmake">Caught again! <span class="hljs-keyword"><span class="hljs-keyword">list</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">remove</span></span>(x): x <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> in <span class="hljs-keyword"><span class="hljs-keyword">list</span></span></code> </pre> <br><h4 id="polnoch-ne-suschestvuet">   ? </h4><br><pre> <code class="hljs dos">from datetime import datetime midnight = datetime(<span class="hljs-number"><span class="hljs-number">2018</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>) midnight_time = midnight.<span class="hljs-built_in"><span class="hljs-built_in">time</span></span>() noon = datetime(<span class="hljs-number"><span class="hljs-number">2018</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>) noon_time = noon.<span class="hljs-built_in"><span class="hljs-built_in">time</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> midnight_time: <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>("<span class="hljs-built_in"><span class="hljs-built_in">Time</span></span> <span class="hljs-built_in"><span class="hljs-built_in">at</span></span> midnight is", midnight_time) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> noon_time: <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>("<span class="hljs-built_in"><span class="hljs-built_in">Time</span></span> <span class="hljs-built_in"><span class="hljs-built_in">at</span></span> noon is", noon_time)</code> </pre> <br><p>  <strong>Result:</strong> </p><br><pre> <code class="hljs vhdl">(<span class="hljs-symbol"><span class="hljs-symbol">'Time</span></span> at noon <span class="hljs-keyword"><span class="hljs-keyword">is</span></span>', datetime.<span class="hljs-built_in"><span class="hljs-built_in">time</span></span>(<span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)) The midnight <span class="hljs-built_in"><span class="hljs-built_in">time</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> printed.</code> </pre> <br><p> <strong><em></em></strong> </p><br><p>  Python 3.5     <code>datetime.time</code>  <code>False</code> ,       UTC. -        <code>if obj</code> :  ,   <code>obj</code>  null    ¬´¬ª. </p><br><h4 id="chto-ne-tak-s-bulevymi-znacheniyami">      ? </h4><br><p>  one. </p><br><pre> <code class="hljs pgsql"># A simple example <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> count the number <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-type"><span class="hljs-type">boolean</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> # integers <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> an iterable <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> mixed data <span class="hljs-keyword"><span class="hljs-keyword">types</span></span>. mixed_list = [<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-number"><span class="hljs-number">1.0</span></span>, "some_string", <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, [], <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>] integers_found_so_far = <span class="hljs-number"><span class="hljs-number">0</span></span> booleans_found_so_far = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> item <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> mixed_list: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> isinstance(item, <span class="hljs-type"><span class="hljs-type">int</span></span>): integers_found_so_far += <span class="hljs-number"><span class="hljs-number">1</span></span> elif isinstance(item, <span class="hljs-type"><span class="hljs-type">bool</span></span>): booleans_found_so_far += <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br><p>  <strong>Result:</strong> </p><br><pre> <code class="hljs ruby"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;</span></span>&gt; booleans_found_so_far <span class="hljs-number"><span class="hljs-number">0</span></span> &gt;&gt;&gt; integers_found_so_far <span class="hljs-number"><span class="hljs-number">4</span></span></code> </pre> <br><p>  2 </p><br><pre> <code class="hljs pgsql">another_dict = {} another_dict[<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>] = "JavaScript" another_dict[<span class="hljs-number"><span class="hljs-number">1</span></span>] = "Ruby" another_dict[<span class="hljs-number"><span class="hljs-number">1.0</span></span>] = "Python"</code> </pre> <br><p>  <strong>Result:</strong> </p><br><pre> <code class="hljs ruby"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;</span></span>&gt; another_dict[True] <span class="hljs-string"><span class="hljs-string">"Python"</span></span></code> </pre> <br><p> <strong><em></em></strong> </p><br><ul><li>   ‚Äî  <code>int</code> <br><pre> <code class="hljs pgsql">&gt;&gt;&gt; isinstance(<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, <span class="hljs-type"><span class="hljs-type">int</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> &gt;&gt;&gt; isinstance(<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-type"><span class="hljs-type">int</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">True</span></span></code> </pre> </li><li>   <code>True</code>  <code>1</code> ,  <code>False</code> ‚Äî <code>0</code> . <br><pre> <code class="hljs python"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-keyword"><span class="hljs-keyword">True</span></span> == <span class="hljs-number"><span class="hljs-number">1</span></span> == <span class="hljs-number"><span class="hljs-number">1.0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span> == <span class="hljs-number"><span class="hljs-number">0.0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span></code> </pre> </li><li>  <a href="https://stackoverflow.com/a/8169049/4354153"></a>  StackOverflow. </li></ul><br><h4 id="igla-v-stoge-sena">     </h4><br><p>   Python-    . </p><br><pre> <code class="hljs lua">t = (<span class="hljs-string"><span class="hljs-string">'one'</span></span>, <span class="hljs-string"><span class="hljs-string">'two'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> t: <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(i) t = (<span class="hljs-string"><span class="hljs-string">'one'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> t: <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(i) t = () <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(t)</code> </pre> <br><p>  <strong>Result:</strong> </p><br><pre> <code class="hljs lisp">one two o n e tuple()</code> </pre> <br><p> <strong><em></em></strong> </p><br><ul><li>       <code>t = ('one',)</code>  <code>t = 'one'</code> , ( ),   ,  <code>t</code>  <code>str</code>      . </li><li> () ‚Äî  ,   <code>tuple</code> . </li></ul><br><h4 id="for-chto"> For ? </h4><br><p> <a href="https://github.com/satwikkansal/wtfpython/issues/23"></a> @MittalAshok. </p><br><pre> <code class="hljs swift">some_string = <span class="hljs-string"><span class="hljs-string">"wtf"</span></span> some_dict = {} <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i, some_dict[i] <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">enumerate</span></span>(some_string): pass</code> </pre> <br><p>  <strong>Result:</strong> </p><br><pre> <code class="hljs pgsql">&gt;&gt;&gt; some_dict # An indexed dict <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> created. {<span class="hljs-number"><span class="hljs-number">0</span></span>: <span class="hljs-string"><span class="hljs-string">'w'</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-string"><span class="hljs-string">'f'</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-string"><span class="hljs-string">'f'</span></span>}</code> </pre> <br><p> <strong><em></em></strong> </p><br><ul><li>  <code>for</code>   <a href="https://docs.python.org/3/reference/grammar.html"> Python</a> : </li></ul><br><pre> <code class="hljs cs">for_stmt: <span class="hljs-string"><span class="hljs-string">'for'</span></span> exprlist <span class="hljs-string"><span class="hljs-string">'in'</span></span> testlist <span class="hljs-string"><span class="hljs-string">':'</span></span> suite [<span class="hljs-string"><span class="hljs-string">'else'</span></span> <span class="hljs-string"><span class="hljs-string">':'</span></span> suite]</code> </pre> <br><p>  <code>exprlist</code> ‚Äî  .  ,   <code>{exprlist} = {next_value}</code> <strong>   </strong>  .   <a href="https://github.com/satwikkansal/wtfPython/issues/11"></a> @tukkek: </p><br><pre> <code class="hljs matlab"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-built_in"><span class="hljs-built_in">i</span></span> in range(<span class="hljs-number"><span class="hljs-number">4</span></span>): print(<span class="hljs-built_in"><span class="hljs-built_in">i</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">i</span></span> = <span class="hljs-number"><span class="hljs-number">10</span></span></code> </pre> <br><p>  <strong>Result:</strong> </p><br><pre> <code class="hljs">0 1 2 3</code> </pre> <br><p>  ,       ? </p><br><p> <strong><em></em></strong> </p><br><ul><li>   <code>i = 10</code>       -     Python.      ,   ( <code>range(4)</code>   ),         ( <code>i</code>   ). </li><li>  <code>enumerate(some_string)</code>       <code>i</code> ( <code>A</code> )    <code>some_string</code> .    ( )    <code>i</code>   <code>some_dict</code> .     : </li></ul><br><pre> <code class="hljs matlab">&gt;&gt;&gt; <span class="hljs-built_in"><span class="hljs-built_in">i</span></span>, some_dict[<span class="hljs-built_in"><span class="hljs-built_in">i</span></span>] = (<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">'w'</span></span>) &gt;&gt;&gt; <span class="hljs-built_in"><span class="hljs-built_in">i</span></span>, some_dict[<span class="hljs-built_in"><span class="hljs-built_in">i</span></span>] = (<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'t'</span></span>) &gt;&gt;&gt; <span class="hljs-built_in"><span class="hljs-built_in">i</span></span>, some_dict[<span class="hljs-built_in"><span class="hljs-built_in">i</span></span>] = (<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">'f'</span></span>) &gt;&gt;&gt; some_dict</code> </pre> <br><h4 id="uzel-not">  not </h4><br><p> <a href="https://github.com/satwikkansal/wtfPython/issues/1"></a> @MostAwesomeDude. </p><br><pre> <code class="hljs pgsql">x = <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> y = <span class="hljs-keyword"><span class="hljs-keyword">False</span></span></code> </pre> <br><p>  <strong>Result:</strong> </p><br><pre> <code class="hljs vhdl">&gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> x == y <span class="hljs-literal"><span class="hljs-literal">True</span></span> &gt;&gt;&gt; x == <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> y <span class="hljs-keyword"><span class="hljs-keyword">File</span></span> <span class="hljs-string"><span class="hljs-string">"&lt;input&gt;"</span></span>, <span class="hljs-literal"><span class="hljs-literal">line</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> x == <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> y ^ SyntaxError: invalid syntax</code> </pre> <br><p> <strong><em></em></strong> </p><br><ul><li>      ,   Python  <code>==</code>   ,   <code>not</code> . </li><li>  <code>not x == y</code>  <code>not (x == y)</code> ,    <code>not (True == False)</code> ,    <code>True</code> . </li><li>  <code>x == not y</code>  <code>SyntaxError</code> ,        <code>(x == not) y</code> ,   <code>x == (not y)</code> ,       . </li><li>  ,   <code>not</code> ‚Äî   <code>not in</code> (   <code>==</code>  <code>not in</code>   ),      <code>not</code>     <code>in</code> ,   SyntaxError. </li></ul><br><h4 id="a-vy-mogli-takoe-predpolozhit">     ? </h4><br><p> <a href="https://github.com/satwikkansal/wtfPython/issues/9"></a> <a href="https://habrahabr.ru/users/piafraus/" class="user_link">PiaFraus</a> . </p><br><pre> <code class="hljs">a, b = a[b] = {}, 5</code> </pre> <br><p>  <strong>Result:</strong> </p><br><pre> <code class="hljs ruby"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;</span></span>&gt; a {<span class="hljs-number"><span class="hljs-number">5</span></span>: ({...}, <span class="hljs-number"><span class="hljs-number">5</span></span>)}</code> </pre> <br><p> <strong><em></em></strong> </p><br><ul><li>  <a href="https://docs.python.org/2/reference/simple_stmts.html"> </a> ,    : </li></ul><br><pre> <code class="hljs lisp">(<span class="hljs-name"><span class="hljs-name">target_list</span></span> <span class="hljs-string"><span class="hljs-string">"="</span></span>)+ (<span class="hljs-name"><span class="hljs-name">expression_list</span></span> | yield_expression)</code> </pre> <br><p>  and: </p><br><blockquote>      (       ,  ,     )         ,  . </blockquote><br><ul><li>  <code>+</code>  <code>(target_list "=")+</code> ,    <strong>  </strong>  .       <code>a</code> , <code>b</code>  <code>a[b]</code> ( ,     ,    <code>{}</code> , <code>5</code> ). </li><li>           <strong> </strong> .      <code>{}</code> , <code>5</code>   <code>a</code> , <code>b</code> ,     <code>a = {}</code>  <code>b = 5</code> . </li><li> <code>a</code>   <code>{}</code> ,    . </li><li>    ‚Äî <code>a[b]</code> (  ,    ,   <code>a</code>  <code>b</code>     .  ,    <code>a</code>  <code>{}</code>  <code>b</code>  <code>5</code> ). </li><li>    <code>5</code>    <code>({}, 5)</code> ,      ( <code>{...}</code>        ,     <code>a</code> ).     : </li></ul><br><pre> <code class="hljs lua">&gt;&gt;&gt; some_list = some_list[<span class="hljs-number"><span class="hljs-number">0</span></span>] = [<span class="hljs-number"><span class="hljs-number">0</span></span>] &gt;&gt;&gt; some_list <span class="hljs-string"><span class="hljs-string">[[...]]</span></span> &gt;&gt;&gt; some_list[<span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-string"><span class="hljs-string">[[...]]</span></span> &gt;&gt;&gt; some_list is some_list[<span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-string"><span class="hljs-string">[[...]]</span></span></code> </pre> <br><p>    ( <code>a[b][0]</code>    ,   <code>a</code> ) </p><br><ul><li>       : </li></ul><br><pre> <code class="hljs">a, b = {}, 5 a[b] = a, b</code> </pre> <br><p>       ,  <code>a[b][0]</code>    ,   </p><br><pre> <code class="hljs markdown">a &gt;&gt;&gt; a[<span class="hljs-string"><span class="hljs-string">b</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">0</span></span>] is a True</code> </pre> <br><h4 id="melkie-primery">   </h4><br><ul><li> <code>Join()</code> ‚Äî    (string operation),     (list operation).      . <br> <strong>:</strong>  <code>join()</code> ‚Äî    ,       (, , ).       ,       .  ,          API   <code>list</code> . </li><li>   ,    : <br><ul><li> <code>[] = ()</code> (  <code>tuple</code>   <code>list</code> ) </li><li> <code>'a'[0][0][0][0][0]</code>   ,     Python . </li><li> <code>3 --0-- 5 == 8  --5 == 5</code>      <code>True</code> . </li></ul></li><li> Python         .    ,       65 536 .   Python    ,     2^16  .    ,    ,    65 536   (:    2^18  !): </li></ul><br><pre> <code class="hljs python"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> dis exec(<span class="hljs-string"><span class="hljs-string">""" def f():* """</span></span> + <span class="hljs-string"><span class="hljs-string">""" """</span></span>.join([<span class="hljs-string"><span class="hljs-string">"X"</span></span>+str(x)+<span class="hljs-string"><span class="hljs-string">"="</span></span> + str(x) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">65539</span></span>)])) f() print(dis.dis(f))</code> </pre> <br><ul><li>    Python     (,  !).          ,  - Global Interpreter Lock  Python           .      <a href="https://docs.python.org/2/library/multiprocessing.html"> </a> . </li><li>    (list slicing)         : </li></ul><br><pre> <code class="hljs ruby"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;</span></span>&gt; some_list = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>] &gt;&gt;&gt; some_list[<span class="hljs-number"><span class="hljs-number">111</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span>] []</code> </pre> <br><h2 id="vnesti-svoy-vklad">    </h2><br><p>   !        <a href="https://github.com/satwikkansal/wtfPython"></a> :)    <a href="">CONTRIBUTING.md</a> . </p><br><h4 id="poleznye-ssylki">  useful links </h4><br><p> ‚Ä¢ <a href="https://www.youtube.com/watch%3Fv%3DsH4XF6pKKmk">https://www.youtube.com/watch?v=sH4XF6pKKmk</a> <br> ‚Ä¢ <a href="https://www.reddit.com/r/Python/comments/3cu6ej/what_are_some_wtf_things_about_python">https://www.reddit.com/r/Python/comments/3cu6ej/what_are_some_wtf_things_about_python</a> <br> ‚Ä¢ <a href="https://sopython.com/wiki/Common_Gotchas_In_Python">https://sopython.com/wiki/Common_Gotchas_In_Python</a> <br> ‚Ä¢ <a href="https://stackoverflow.com/questions/530530/python-2-x-gotchas-and-landmines">https://stackoverflow.com/questions/530530/python-2-x-gotchas-and-landmines</a> <br> ‚Ä¢ <a href="https://stackoverflow.com/questions/1011431/common-pitfalls-in-python">https://stackoverflow.com/questions/1011431/common-pitfalls-in-python</a> (    StackOverflow   ,        Python.) </p></li></ul></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/337364/">https://habr.com/ru/post/337364/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../337352/index.html">Time off the hook: turning emotions into allies</a></li>
<li><a href="../337354/index.html">5 myths about personal data</a></li>
<li><a href="../337356/index.html">Real Offline Perfect Forward Secrecy for your products</a></li>
<li><a href="../337358/index.html">Great collection of free fonts: the best of the best</a></li>
<li><a href="../337362/index.html">How we form teams and build processes for creating digital banking products</a></li>
<li><a href="../337366/index.html">How cash software deals with economic misdemeanors</a></li>
<li><a href="../337368/index.html">Data Science: About love, names and more. Part II</a></li>
<li><a href="../337370/index.html">Fast Shader for Subsurface Scattering in Unity</a></li>
<li><a href="../337374/index.html">Do not use Lockstep in RTS strategies</a></li>
<li><a href="../337376/index.html">ISDEF conference: we are developing not a product, but a business</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>