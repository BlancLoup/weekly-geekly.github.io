<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How not the most successful default behavior can mask the wrong work for years.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It is very convenient when, thanks to the correctly selected defaults, everything works by itself and out of the box and there is no need to configure...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How not the most successful default behavior can mask the wrong work for years.</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/7eb/65b/430/7eb65b43013a4e6fac9fbc149552ca0e.jpg" align="right" alt="MANY DETAILS">  It is very convenient when, thanks to the correctly selected defaults, everything works by itself and out of the box and there is no need to configure anything.  This story is that the selected defaults should always be workable, otherwise there is a risk of unforeseen failure after many years of trouble-free work. <br><br>  We encountered undocumented behavior of Windows Server in Microsoft Azure web roles, which for many years masked the incorrect configuration of our <a href="http://ocrsdk.com/">Cloud OCR SDK service</a> , until at one not the most beautiful moment did not lead to serious problems for individual users. <br><a name="habracut"></a><br>  In February 2016 - by this time the service had been working for several years - individual users began reporting problems when trying to establish a secure connection.  The programs of these users reported some problems with the certificate of service.  Since ‚Äúit worked before, but now it‚Äôs broken,‚Äù first of all, users decided that the certificate had expired, and quite predictably, they were Very Unhappy with <sup>TM</sup> .  In fact, it expired only a few months later. <br><br>  Attempts to reproduce the problem were most often unsuccessful - even on exactly those platforms that users pointed out.  With the help of third-party verification tools ( <a href="https://www.ssllabs.com/ssltest/analyze.html">one</a> and <a href="https://cryptoreport.websecurity.symantec.com/checker/views/certCheck.jsp">two</a> ), it was sometimes possible to get a message about improper installation of intermediate certificates. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      From this point on, technical details are needed.  Certificates are issued by special organizations - certification centers that are trusted by all.  Each issued certificate is digitally signed, which client programs verify. <br><br>  Each certification center has one or more self-signed root certificates that client programs unconditionally trust.  The certificate issued by the certification center may in principle be signed by the root certificate of this center, but for this, the private key of the certificate is needed every time a new certificate is issued, this increases the risk of leakage of the root key's private key.  Leakage of the private key of the root certificate, which millions of computing systems undoubtedly trust, is a problem. <br><br>  Therefore, certification centers use intermediate certificates.  The intermediate certificate is signed once by the root certificate, and all issued certificates are already signed by the intermediate one.  There are options with several intermediate certificates in the chain.  The client program for verifying digital signatures needs all the certificates in the chain - the program stores the root certificate and unconditionally trusts it, with its help it can verify the signature only on the intermediate certificate, and to verify the signature on the service certificate it will certainly need this intermediate certificate. <br><br>  To verify signatures, client programs have enough certificates without private keys ‚Äî private keys are kept secret by the certification center (root and intermediate certificates) and the owner of the service (the private key of the service certificate). <br><br>  The client program has several ways to obtain intermediate certificates. <br><br>  The first option is that intermediate certificates can be installed on the machine where the program is running.  This is inconvenient, it is not worth expecting users to install intermediate certificates. <br><br>  The second option - the program can try to download them over the network from the servers of the certification center.  This is convenient, but not supported by all SSL client implementations.  It is also unreliable - it is necessary that at the time of establishing the connection there was also access to the servers of the certification center.  This method slows down the establishment of the first connection. <br><br>  The third method is the most reliable and versatile.  The server itself sends all intermediate certificates to the client at the same time as sending its certificate at the beginning of establishing a secure connection.  Approximately: ‚Äúhere is my certificate, it is signed by these certificates, of which the latter is signed by the root one, which you, the most valuable client program, should be marked as trustworthy, if you please check all signatures, make sure and let's establish the connection‚Äù. <br><br>  Third-party verification tools sometimes showed that our service gives an intermediate certificate when establishing a connection, and sometimes it does not.  After checking, it turned out that, following the available examples, we incorrectly configured the service deployment process. <br><br>  Here is the typical definition of a service with a web role: <br><pre><code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ServiceDefinition</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"CoolCloudService"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.microsoft.com/ServiceHosting/2008/10/ServiceDefinition"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">schemaVersion</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"2014-06.2.4"</span></span></span><span class="hljs-tag"> &gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">WebRole</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"CoolRole"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Sites</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Site</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Web"</span></span></span><span class="hljs-tag"> &gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Bindings</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Binding</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"HttpIn"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">endpointName</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"HttpIn"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Binding</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"HttpsIn"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">endpointName</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"HttpsIn"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Bindings</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Site</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Sites</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Endpoints</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">InputEndpoint</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"HttpIn"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">protocol</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">port</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"80"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">InputEndpoint</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"HttpsIn"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">protocol</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">port</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"443"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">certificate</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ProductionCert"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Endpoints</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Certificates</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--!!!   !!!--&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Certificate</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ProductionCert"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">storeLocation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"LocalMachine"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">storeName</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"My"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Certificates</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">WebRole</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ServiceDefinition</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br>  Usually, inside the <i>Certificates</i> element, only the service certificate is indicated.  It is not right.  It is correct to indicate there all intermediate certificates in the chain.  It does not matter that they are not mentioned in the <i>Endpoints</i> section. <br><br>  That's right: <br><pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Certificates</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- ! --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Certificate</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"IntermediateForProductionCert"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">storeLocation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"LocalMachine"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">storeName</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"CA"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--      ,   --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Certificate</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ProductionCert"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">storeLocation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"LocalMachine"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">storeName</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"My"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Certificates</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  The enumeration of all intermediate certificates results in their installation in the repositories on each instance of the role during the instance initialization.  After that, IIS will be able to send intermediate certificates to client programs when establishing a secure connection. <br><br>  WIN?  No, not so fast. <br><br>  After correcting the settings and posting the changes, we contacted the user who was successfully in the close time zone, and he replied that no, it did not help, ALL BAD, nothing works. <br><br>  The next challenger was the image of the operating system, on top of which the service worked.  Shortly before problems with the verification of certificates, the service was transferred to the next, more new, image with the next set of updates.  With rare exceptions, in which Microsoft reports potential problems in advance, only ‚Äúneutral‚Äù updates are selected that break nothing.  This time there were two updates in the list, in the description of which the certificate hashes and the renewal of the secure connection were mentioned. <br><br>  Service temporarily transferred to the previous image ... and the problem was solved. <br><br>  WIN?  No, it's not even close WIN. <br><br>  Firstly, it was not clear which of the two changes solved the problem.  Staying forever on an earlier image is impossible - in a couple of months, the Azure infrastructure will force the service to a newer image, and then the problems may repeat.  The option to transfer the service to a newer image of the operating system and check for users somehow did not fit us. <br><br>  Secondly, it was not clear why the problem repeated itself at this time, and not earlier - the settings did not change, but ‚Äúit worked before, and then it broke.‚Äù <br>  On the test service with incorrect ‚Äúto‚Äù settings ‚Äî with only one certificate indicated ‚Äî all third-party diagnostic tools showed that the certificates were installed correctly, returned by the service in response to a request from the client program.  The code for viewing installed certificates added to the test service showed that there was no intermediate certificate in the repositories. <br><br>  There is no certificate in the repositories, but the service gives it to the users.  Teleportation, apparently.  The usual thing. <br><br>  We also had user posts.  Among them was a description like this: ‚ÄúHere is a piece of code in PHP, we execute it in a loop, it once works successfully, and once it fails, as this problem worsened, it increasingly worked with failure. <br><br>  We also have code that periodically checks the validity of our certificate and, just in case, checks its chain of trust using the <i>X509Chain.Build ()</i> method.  Previously, he worked normally, and in the period of time when users encountered a problem, this method sometimes did not work, producing the following set of messages: <br><ul><li>  A certificate chain could not be built to a trusted root authority. </li><li>  RevocationStatusUnknown The revocation function was unable to check the revocation for the certificate. </li><li>  OfflineRevocation The revocation function was unable to check revocation because the revocation server was offline. </li></ul><br>  Suspiciously similar to the inability to access the servers of the certification center. <br><br>  But what if a copy of the role is able to obtain the missing intermediate certificates from the certification center and carefully hide them so that IIS can give them to the client programs?  It would be EXTREMELY EXTREMELY, to make such an assumption without weighty evidence is very frivolous <s>, with the same success it is possible to express the assumption that Windows eats kittens</s> . <br><br>  It was necessary to check.  Attempts to configure a firewall or file name resolution by editing the hosts file on an instance of the role role did not result.  This was expected - until the moment when the opportunity to perform these actions first appears, a role instance works for several minutes, after which it may be too late - the certificate will be downloaded and carefully hidden. <br><br>  Therefore, we needed a way to completely eliminate the role instance to the infrastructure of the certification center.  Conveniently, Azure makes it pretty easy. <br><br>  We had enough of a ‚Äúvirtual network‚Äù (virtual network), in which we created a subnet (subnet) with a ‚Äúnetwork security group‚Äù (network security group), then added the <i>NetworkConfiguration</i> element in the service settings so that the service could be published to this virtual network.  It was easy. <br><br>  In the ‚Äúnetwork security group‚Äù, network access restrictions are configured.  They added a rule prohibiting outgoing requests to the range of addresses where the certification center infrastructure is located. <br><br>  If after that the test service is published, the problem declared by users begins to be reproduced regardless of the freshness of the operating system image.  IIS ceases to give intermediate certificate.  If the ‚Äúsecurity group‚Äù changes the rule so that requests are not limited, and publish the service again, the problem stops playing. <br><br>  After a thorough check of this black box, we found that an attempt to obtain an intermediate certificate was made at the initial initialization of the role instance, at its reboot, at its re-initialization from the operating system image and at the re-publication of the service package.  Restarting the application pool in IIS does not lead to an attempt to obtain the missing certificate.  Thus, an attempt to obtain an intermediate certificate is associated with the moment of site deployment in IIS - presumably, it occurs at the time of installing the site certificate.  <a href="https://technet.microsoft.com/en-us/library/ee619754%2528v%3Dws.10%2529.aspx">This article</a> (How Certificate Revocation Works) mentions a certain CryptoAPI disk cache of certificates.  CryptoAPI is part of Windows Server. <br><br>  In an ordinary situation, an attempt to obtain a missing certificate is successful, the incorrect configuration of the service is masked, there are no warnings about this in the role instance logs.  If at the wrong moment the attempt to obtain the missing certificate fails, a specific instance of the role is started up in an unsuccessful way, there are no messages in the logs, but now some client programs cannot establish a secure connection with it. <br><br>  You need to add scaling and a load balancer to distribute incoming requests between role instances.  Different instances of the role can be launched at different times and, therefore, with different availability of the infrastructure of the certification center, as a result, some instances are in better shape than others.  The load balancer, at its discretion, sends different requests to different instances, so different requests can lead to a different set of certificates in the response.  Low-active users see that "it works, it does not work," and very active ones mean that some share of requests is completed successfully, and the rest - with a failure. <br><br>  The puzzle has developed.  Now WIN. <br><br>  This is definitely not the best default behavior. <br><br>  Now we have code that, when checking our certificate, at the same time checks that all certificates in the chain are in the appropriate repositories of the role instance.  Thanks to the power of fresh pool queries, the examples in the Microsoft Azure documentation will be fixed soon. <br><br>  And if you have a service with web roles, it may very well be that it is still configured incorrectly. <br><br>  <i>Dmitry Mescheryakov,</i> <i><br></i>  <i>product department for developers</i> </div><p>Source: <a href="https://habr.com/ru/post/280840/">https://habr.com/ru/post/280840/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../280830/index.html">RING buffer - 2D case</a></li>
<li><a href="../280832/index.html">Critical vulnerability in TrendMicro antivirus allows remote code execution</a></li>
<li><a href="../280834/index.html">Difficult integrity constraint</a></li>
<li><a href="../280836/index.html">Do not miss the virtual hackathon from Microsoft with the support of Forbes</a></li>
<li><a href="../280838/index.html">What is Simics?</a></li>
<li><a href="../280842/index.html">Archiving as a work of art</a></li>
<li><a href="../280844/index.html">A supercomputer based on a TrueNorth chip with a power consumption of 2.5 W was created in the USA</a></li>
<li><a href="../280846/index.html">How to hack the defense of the project Allen-Bradley PLC</a></li>
<li><a href="../280848/index.html">FlashSort sorting method</a></li>
<li><a href="../280856/index.html">Checking the Samba project using PVS-Studio under Linux</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>