<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>3 in 1: Desktop, Mobile, Web. Cross Platform Development</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Development in the framework of one project has a number of advantages. First, it allows you to use a single implementation of the business logic of t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>3 in 1: Desktop, Mobile, Web. Cross Platform Development</h1><div class="post__text post__text-html js-mediator-article"><img align="right" src="http://img194.imageshack.us/img194/8311/calc3in1.png"><br>  Development in the framework of one project has a number of advantages.  First, it allows you to use a single implementation of the business logic of the program.  Secondly, it is an opportunity to have a single set of unit tests.  Thirdly, it is the use of the usual language (C ++) and the development environment. <br>  This article describes some of the programming techniques and several libraries that help create cross-platform applications. <br>  Based on the experience of creating a small application such as "calculator" <br><br><a name="habracut"></a><br><h2>  Cross Platform Development </h2>  It is convenient to write one code instead of three, it significantly reduces the time to create a program.  But unfortunately, each platform has its dependent code (functionality).  Often without the functionality provided by a specific platform simply can not do.  A possible solution to this problem are design strategies (for more details, see Alexandrescu‚Äôs book ‚ÄúModern Design in C ++‚Äù).  All dependent code is placed into settings classes, the so-called <em>‚Äúpolicy‚Äù</em> , which later will configure larger classes. <br>  Using cross-platform libraries ( <em>boost</em> , <em>stl</em> and others) also simplifies development. <br><br><h2>  MVC </h2>  Using the <a href="http://ru.wikipedia.org/wiki/Model-View-Controller">MVC</a> model greatly simplifies the design of the application, since  Most platform dependencies are localized in the "View (View)" component. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Htmlayout </h2>  To organize the graphical interface, the <a href="http://terrainformatica.com/htmlayout/main.whtm"><em>Htmlayout</em></a> library was used, which allows describing the graphical interface of the program using <em>html</em> and <em>css</em> .  Implementing a GUI using web-based tools carries a lot of positive things, starting with a large number of web designers and ending with a huge number of ready-made design options.  And having as one of the target platforms ‚Äúweb‚Äù it reduces the cost of implementing the design in the form of <em>html + css</em> . <br>  <em>Htmlayout</em> has an implementation for Windows Mobile that allows you to use it also for a mobile platform. <br><br><h2>  Program calculator </h2>  The program of the ‚Äúcalculator‚Äù type was chosen because it fully allows one to try to implement the MVC model and assumes the use of some components of the <em>‚Äúboost‚Äù</em> library that were interesting to me. <br><br><h3>  Desktop </h3> The implementation of the application for the desktop (native platform for me) involved, above all, the writing of the data models used in the program and the implementation of the overall architecture of the program.  A new moment for me was the use of the <em>Htmlayout</em> library.  However, there were no problems with the implementation of the graphical interface. <br><br>  <em>The code of the main.cpp file in which the main classes are configured and instantiated:</em> <br> <code><font><font color="Blue">#include</font> <font color="#a31515">"stdafx.h"&lt;br/&gt; <br> &lt;br/&gt; <br></font> <font color="Green">//Calculator includes&lt;br/&gt; <br></font> <font color="Blue">#include</font> <font color="#a31515">"RegexNumberCheckModel.h"&lt;br/&gt; <br></font> <font color="Blue">#include</font> <font color="#a31515">"CalculatorModel.hpp"&lt;br/&gt; <br></font> <font color="Blue">#include</font> <font color="#a31515">"DesktopView.h"&lt;br/&gt; <br></font> <font color="Blue">#include</font> <font color="#a31515">"CalculatorController.hpp"&lt;br/&gt; <br> &lt;br/&gt; <br></font> <font color="Black">CAppModule _Module;&lt;br/&gt; <br> &lt;br/&gt; <br></font> <font color="Blue">int</font> <font color="Black">APIENTRY WinMain(    HINSTANCE hInstance&lt;br/&gt; <br> ,HINSTANCE hPrevInstance&lt;br/&gt; <br> ,LPSTR lpCmdLine&lt;br/&gt; <br> ,</font> <font color="Blue">int</font> <font color="Black">nShowCmd)&lt;br/&gt; <br> {&lt;br/&gt; <br> &lt;br/&gt; <br></font> <font color="Green">//MVC concept:&lt;br/&gt; <br></font> <font color="Black">&nbsp;&nbsp;&nbsp;&nbsp;</font> <font color="Green">//Model&lt;br/&gt; <br></font> <font color="Black">&nbsp;&nbsp;&nbsp;&nbsp;</font> <font color="Blue">typedef</font> <font color="Black">CalculatorModel&lt;</font> <font color="Blue">double</font> <font color="Black">, Operations, RegexNumberCheckModel&gt; MyCalculatorModel;&lt;br/&gt; <br> MyCalculatorModel calcModel;&lt;br/&gt; <br></font> <font color="Green">//View&lt;br/&gt; <br></font> <font color="Black">&nbsp;&nbsp;&nbsp;&nbsp;</font> <font color="Blue">typedef</font> <font color="Black">DesktopView&lt;MyCalculatorModel&gt; MyCalculatorView;&lt;br/&gt; <br> MyCalculatorView calcView;&lt;br/&gt; <br></font> <font color="Green">//Controller&lt;br/&gt; <br></font> <font color="Black">&nbsp;&nbsp;&nbsp;&nbsp;</font> <font color="Blue">typedef</font> <font color="Black">CalculatorController&lt;MyCalculatorModel, MyCalculatorView::ViewPolicy&gt; MyCalculatorController;&lt;br/&gt; <br> MyCalculatorController calcController(calcModel, calcView);&lt;br/&gt; <br> &lt;br/&gt; <br> calcView.Run(hInstance);&lt;br/&gt; <br> &lt;br/&gt; <br></font> <font color="Blue">return</font> <font color="Black">0;&lt;br/&gt; <br> }</font> <br></font> <br></code> <h3>  Mobile </h3><img align="right" src="http://s55.radikal.ru/i148/0906/02/083c75675936.jpg">  The implementation for the mobile platform began with the writing of the ‚ÄúHello, world‚Äù test program described in the article <a href="http://habrahabr.ru/blogs/mobiledev/39815/">‚ÄúWTL: Programming for Mobile and Embedded WinCE / Windows Mobile Based Devices‚Äù</a> .  To implement the GUI calculator, it was necessary only to link the program window and the library window, plus a little change in the css template.  To adapt the data model, I had to configure input validation with my own class, instead of using <em>‚Äúboost / xpressive‚Äù</em> . <br><br>  Mobile version main.cpp code: <br> <code><font><font color="Blue">#include</font> <font color="#a31515">"stdafx.h"&lt;br/&gt; <br> &lt;br/&gt; <br></font> <font color="Green">//Calculator includes&lt;br/&gt; <br> //#include "RegexNumberCheckModel.h"&lt;br/&gt; <br></font> <font color="Blue">#include</font> <font color="#a31515">"NoNumberCheckModel.h"&lt;br/&gt; <br></font> <font color="Blue">#include</font> <font color="#a31515">"CalculatorModel.hpp"&lt;br/&gt; <br></font> <font color="Blue">#include</font> <font color="#a31515">"MobileView.h"&lt;br/&gt; <br></font> <font color="Blue">#include</font> <font color="#a31515">"CalculatorController.hpp"&lt;br/&gt; <br> &lt;br/&gt; <br></font> <font color="Black">CAppModule _Module;&lt;br/&gt; <br> &lt;br/&gt; <br></font> <font color="Blue">int</font> <font color="Black">WINAPI WinMain(HINSTANCE hInstance, HINSTANCE, LPTSTR,</font> <font color="Blue">int</font> <font color="Black">)&lt;br/&gt; <br> {&lt;br/&gt; <br> &lt;br/&gt; <br></font> <font color="Green">//MVC concept&lt;br/&gt; <br></font> <font color="Black">&nbsp;&nbsp;&nbsp;&nbsp;</font> <font color="Green">//Model&lt;br/&gt; <br></font> <font color="Black">&nbsp;&nbsp;&nbsp;&nbsp;</font> <font color="Blue">typedef</font> <font color="Black">CalculatorModel&lt;</font> <font color="Blue">double</font> <font color="Black">, Operations, NoNumberCheckModel&gt; MyCalculatorModel;&lt;br/&gt; <br> MyCalculatorModel calcModel;&lt;br/&gt; <br></font> <font color="Green">//View&lt;br/&gt; <br></font> <font color="Black">&nbsp;&nbsp;&nbsp;&nbsp;</font> <font color="Blue">typedef</font> <font color="Black">MobileView&lt;MyCalculatorModel&gt; MyCalculatorView;&lt;br/&gt; <br> MyCalculatorView calcView;&lt;br/&gt; <br></font> <font color="Green">//Controller&lt;br/&gt; <br></font> <font color="Black">&nbsp;&nbsp;&nbsp;&nbsp;</font> <font color="Blue">typedef</font> <font color="Black">CalculatorController&lt;MyCalculatorModel, MyCalculatorView::ViewPolicy&gt; MyCalculatorController;&lt;br/&gt; <br> MyCalculatorController calcController(calcModel, calcView);&lt;br/&gt; <br> &lt;br/&gt; <br> calcView.Run(hInstance);&lt;br/&gt; <br> &lt;br/&gt; <br> &lt;br/&gt; <br></font> <font color="Blue">return</font> <font color="Black">0;&lt;br/&gt; <br> }</font> <br></font> <br></code> <br>  The changes are minimal: the <em>CalculatorModel is</em> configured by the <em>NoNumberCheckModel</em> class, and the <em>DesktopView is</em> replaced by a <em>MobileView</em> . <br><br><h3>  Web </h3><img align="right" src="https://habrastorage.org/getpro/habr/post_images/ef9/7a0/983/ef97a09838d666804cc0b0f38f0e432e.png">  Immediately, I note that the described program ‚Äúcalculator‚Äù is not a web application, it is an application with a web interface. <br>  With the implementation of the web was a little more difficult, too few articles and examples can be found on the Internet on this topic.  The result of a small study was the article <a href="http://habrahabr.ru/blogs/cpp/61532/">"Apache, fastcgi and c ++:" Hello, world "</a> , published a week ago on Habr√©.  After choosing the main technology, there were no special problems with the implementation of the interface and the processing of AJAX requests. <br>  The class that implements the ‚ÄúView (View)‚Äù <em>component of DesktopView has been</em> replaced by <em>FastcgiView</em> . <br><br><h2>  Conclusion </h2>  The correct approach to the design of the application allows without considerable effort to develop programs capable of working under most popular platforms. <br>  And having libraries like <em>htmlayout</em> , <em>boost</em> and <em>stl</em> allows you to do this quickly. <br>  I think this development technique is quite suitable for programs like torrent-clients or smart home control systems ... <br></div><p>Source: <a href="https://habr.com/ru/post/62330/">https://habr.com/ru/post/62330/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../62320/index.html">New Evernote - specifically for iPhone 3.0</a></li>
<li><a href="../62321/index.html">SanDisk Cruzer - flash drive from the future</a></li>
<li><a href="../62325/index.html">Comparison table XP vs Vista vs Windows 7</a></li>
<li><a href="../62326/index.html">IPhone MMS Settings</a></li>
<li><a href="../62328/index.html">Stanford video course on programming languages</a></li>
<li><a href="../62331/index.html">botanicalls kit - find out what makes your flower</a></li>
<li><a href="../62333/index.html">Confirmation of registration on Runet.ru - spam?</a></li>
<li><a href="../62336/index.html">Microsoft's free Morro antivirus</a></li>
<li><a href="../62337/index.html">The world through the eyes of Gmail</a></li>
<li><a href="../62338/index.html">Announced VirtualBox 3.0 Beta 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>