<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The smallest crash program in C</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Swedish student Jesper √âquist (Jesper √ñqvist) got his homework at the university: write the smallest program C , which crashes with an error (segfault...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The smallest crash program in C</h1><div class="post__text post__text-html js-mediator-article">  Swedish student Jesper √âquist (Jesper √ñqvist) got his homework at the university: write <a href="http://llbit.se/%3Fp%3D1744">the smallest program C</a> , which crashes with an error (segfault, SIGFPE).  Usually students in such situations use division by zero. <br><br><pre><code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre> <br>  You can also remove a couple of bytes from this code if you use the assignment of a variable value instead of an instruction. <br><br><pre> <code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { i=<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre> <a name="habracut"></a><br>  The code does not specify the data type for the variable <code>i</code> .  The C89 specs assume that in this case integer <code>int</code> is implied.  In C99 and some other C variants, this would be a mistake.  Suppose we write C89, in which case we can even shorten the <code>int main()</code> to <code>main()</code> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs matlab"><span class="hljs-built_in"><span class="hljs-built_in">i</span></span>; main() { <span class="hljs-built_in"><span class="hljs-built_in">i</span></span>=<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre> <br>  Only 16 characters are left, except for redundant spaces, and there is no place to optimize anymore.  But in fact, you can write an even shorter crash program.  The fact is that in the process of compiling a program, the compiler creates one or more object modules with symbolic links to libraries and static variables and functions. <br><br>  The symbolic link contains only the name of the variable.  Subsequently, the object module is processed by the linker, which replaces symbolic links to addresses to make a ready-made executable module. <br><br>  The compiler sets the entry point - the address in RAM, from which the program starts to run - and binds to it <code>main</code> in one of the object modules.  The <code>main</code> call means that we are trying to execute the instructions at the address referenced by <code>main</code> . <br><br>  Interestingly, the linker has no idea about the data types of different objects.  So if we replace <code>main</code> with a static variable, the compiler will gladly create an object module, and the linker will then replace the symbolic reference to the address in memory. <br><br>  Jesper Equist offers the following C program: <br><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> main=<span class="hljs-number"><span class="hljs-number">0</span></span>;</code> </pre> <br>  Such a program crashes because it tries to execute <code>main</code> as a function, while the compiler has placed it in a non-executable data segment. <br><br>  Further optimizations are obvious.  You can use the above trick with the abbreviation <code>int</code> . <br><br><pre> <code class="hljs">main=0;</code> </pre> <br>  Anyway, static variables in C are initialized to zero by default, so you can make the code even more concise. <br><br><pre> <code class="hljs">main;</code> </pre> <br>  Here it is, the smallest crash program in C. </div><p>Source: <a href="https://habr.com/ru/post/181021/">https://habr.com/ru/post/181021/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../181003/index.html">Housing with oil cooled components</a></li>
<li><a href="../181007/index.html">Authorization in PhoneGap application through Facebook, Vkontakte and Habrahabr</a></li>
<li><a href="../181011/index.html">ARM as the basis for new supercomputers</a></li>
<li><a href="../181013/index.html">A 17-year-old teen published 0day XSS at PayPal after he was denied a reward.</a></li>
<li><a href="../181019/index.html">Authors competition "Just about the difficult"</a></li>
<li><a href="../181027/index.html">Overview: Windows Azure - a properly made cloud hosting of virtual machines</a></li>
<li><a href="../181033/index.html">Our version of the test of knowledge of SQL</a></li>
<li><a href="../181035/index.html">Quadcopter or machine on the radio? Both!</a></li>
<li><a href="../181037/index.html">Development of a real-time synchronization system using SockJS, Django, Tornado and ZeroMQ</a></li>
<li><a href="../181039/index.html">Optimization of public transport after analyzing GSM data</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>