<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Two-step browser authentication with a U2F USB token</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="U2F is an open, universal 2-factor authentication protocol developed by the FIDO Alliance . 
 The alliance includes Google, PayPal, Lenovo, MasterCard...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Two-step browser authentication with a U2F USB token</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/d61/aa0/f19/d61aa0f19c311649659f925b448adf9f.jpg" alt="image"><br><br>  U2F is an open, universal 2-factor authentication protocol developed by the <a href="https://fidoalliance.org/">FIDO Alliance</a> . <br>  The alliance includes Google, PayPal, Lenovo, MasterCard, Microsoft, NXP, Visa and others. <br><br>  The protocol is supported by Chrome browser from version 38. It works out of the box without drivers in Windows / MacOS / Linux. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Currently supported by <b>Google</b> services <b>, LastPass, Wordpress</b> . <br><br>  The article describes the experience of using the Yubikey NEO token with NFC support and the OpenPGP card, the disadvantages of two-factor SMS authentication. <br><br><a name="habracut"></a><br><h4>  Why two-step SMS authentication is dangerous </h4><br><br>  Two-step authentication via SMS or call is very popular now. <br>  Of course, this is convenient, and such additional verification is effective in most cases.  To protect against automated attacks, phishing, password recovery, viruses, recovery of lost access and other things. <br><br>  But in the event that your person becomes the target of professional scammers, an attached phone can play a fatal role.  Most often, the phone number to which the account is linked is not a secret, it is usually the main contact number.  Almost all services report its first or last digits to anyone who wishes, if you try to regain access to your account.  Therefore, to find out the number associated with the account is easy. <br><br>  Finding out who the number in Russia is designed for is not a big deal.  Enough to read the <a href="http://roem.ru/03-04-2015/191001/slishkom-mnogo-dayut">experiment</a> guys from Roem.ru. <br>  Having received the personal data of the owner of the number, the fraudsters draw a fake power of attorney, driver's license or passport, and go to the nearest branch of the cellular operator. <br>  The power to re-issue the SIM card is any ordinary employee of the seediest mobile phone shop. <br>  It's funny that the majority of operators in the subscriber profile do not even have a photo of the owner of the number, although for some reason they passport a passport.  That is, it is enough to draw a passport with the same details and paste a suitable photo. <br><br>  Operators have the option to prohibit the re-issue of a SIM card by proxy, but this is an illusory protection, because the numbers are successfully re-issued with fake driver's licenses and passports. <br><br><div class="spoiler">  <b class="spoiler_title">How to prohibit actions by proxy for Megafon, Beeline, MTS</b> <div class="spoiler_text">  <b>Megaphone:</b> <br>  <a href="http://moscow.megafon.ru/help/servic...sti.html">moscow.megafon.ru/help/servic...sti.html#21123</a> <br>  To activate the service dial on the phone the command <b>* 105 * 508 #</b> . <br>  Only the owner of the number can turn off the service during a personal visit to the MegaFon salon with an identity document. <br><br>  <b>Beeline</b> <br>  <a href="http://moskva.beeline.ru/customers/help/safe-beeline/ugrozy-mobilnykh-moshennikov/zapret-deystvyi-po-doverenosti/">moskva.beeline.ru/customers/help/safe-beeline/ugrozy-mobilnykh-moshennikov/zapret-deystvyi-po-doverenosti</a> <br>  To establish a ban, you must contact one of the Beeline offices with a passport or by calling 0611. <br><br>  <b>Mts</b> <br>  When making a personal visit to the office, ask that the comments to the number indicate that only the owner with a passport has the right to perform all actions. <br></div></div><br><br>  In Ukraine, the situation is even worse, since most of the numbers are anonymous. <br>  The operator Kyivstar to re-issue the SIM card is required to show the last refill check and give three numbers to which calls were made. <br><br>  Good services, for example, many banks, retain with the phone number also the <a href="https://ru.wikipedia.org/wiki/IMSI">IMSI</a> (International Mobile Subscriber Identity) - the unique identifier of the SIM card.  If the IMSI has changed, then the number binding is considered to be canceled and the binding procedure must be repeated. <br>  Unfortunately, there are not many such services. <br><br>  You can check the IMSI of any number using the HLR request <a href="https://smsc.ru/testhlr/">smsc.ru/testhlr</a> <br><br>  The recipe for paranoids: smsc.ru has convenient libraries for Python, PHP, Perl, Ruby, Java, C #, Delphi, C ++, which allow, among other things, to send HLR requests.  You can check the IMSI of your numbers, for example, twice a day, and if it changes, you can sound the alarm.  At the most expensive tariff, one request costs 0.2 rubles, which is approximately 150 rubles per year for one number.  Through the same library, you can send SMS with alarm.  Recommend ;) <br><br>  There are other ways to bypass confirmation via a mobile phone, such as setting up call forwarding, intercepting voice mail, etc.  But their description is beyond the scope of this article. <br><div class="spoiler">  <b class="spoiler_title">Awesome stories of victims of re-issue of SIM-cards</b> <div class="spoiler_text">  <a href="http://www.banki.ru/forum/%3FPAGE_NAME%3Dmessage%26FID%3D61%26TID%3D188210">www.banki.ru/forum/?PAGE_NAME=message&amp;FID=61&amp;TID=188210</a> <br>  <a href="http://www.banki.ru/forum/%3FPAGE_NAME%3Dread%26FID%3D61%26TID%3D204319">www.banki.ru/forum/?PAGE_NAME=read&amp;FID=61&amp;TID=204319</a> <br>  <a href="http://www.banki.ru/forum/%3FPAGE_NAME%3Dmessage%26FID%3D61%26TID%3D195752">www.banki.ru/forum/?PAGE_NAME=message&amp;FID=61&amp;TID=195752</a> <br>  <a href="http://searchengines.guru/showthread.php%3Ft%3D856465%26page%3D3">searchengines.guru/showthread.php?t=856465&amp;page=3</a> <br></div></div><br><br><h4>  U2F - FIDO Universal 2nd Factor </h4><br><br>  As conceived by the U2F, the authenticator is the hardware module: a USB token, a SIM card or an NFC keychain that stores keys and performs cryptographic operations on its own.  In this case, the keys are pre-installed during production and never leave the token. <br><br>  The principle of operation is as follows: <br><ol><li>  The user is authorized on the website / in the application using the login-password </li><li>  The server checks the credentials and, if they are correct, generates a challenge for the token and sends it to the user program, in this case, the browser </li><li>  The browser transfers a chelendzh token that can request, at its discretion, actions from the user.  In my case, this is a finger touch to the pad.  But it can be, for example, pincode input, biometric verification or none at all </li><li>  Token returns a response to the program, which is transmitted to the server </li><li>  Authentication complete </li></ol><br><img src="https://habrastorage.org/getpro/habr/post_images/17e/a20/503/17ea20503d76de07d6f53a02fe8c93ad.gif" alt="FIDO U2F scheme animation"><br><br>  Currently, support for U2F is in Google Chrome, starting with version 38.  Probably in the near future will be added to FireFox. <br><br>  Already supported for authorization in Google and Lastpass accounts, there is a plugin for Wordpress, Django and libraries in different languages. <br>  Modules for Linux PAM, OpenSSH and others. <br><br>  Table of services supporting OTP / U2F authorization - <a href="http://www.dongleauth.info/">www.dongleauth.info</a> <br><br><div class="spoiler">  <b class="spoiler_title">useful links</b> <div class="spoiler_text">  Google examples <a href="https://github.com/google/u2f-ref-code">github.com/google/u2f-ref-code</a> <br>  PHP library <a href="https://github.com/Yubico/php-u2flib-server">github.com/Yubico/php-u2flib-server</a> <br>  Library for Ruby <a href="https://github.com/castle/ruby-u2f">github.com/castle/ruby-u2f</a> <br>  Python demo <a href="https://github.com/Yubico/python-u2flib-server">github.com/Yubico/python-u2flib-server</a> <br>  PAM module <a href="https://github.com/Yubico/pam-u2f">github.com/Yubico/pam-u2f</a> <br></div></div><br><br><h4>  Personal experience using the Yubikey NEO token </h4><br><br>  The most advanced U2F devices are manufactured by Yubico. <br>  Distributor in Russia - <a href="http://yubico.ru/">yubico.ru</a> <br>  I bought the most sophisticated keychain at the moment - Yubikey NEO. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7f2/6d5/b78/7f26d5b780c3293a4a3a2f066debee5a.jpg" height="180" alt="image"><br><br>  In addition to U2F, he can: <br><ol><li>  <b>OpenPGP smartcard</b> - defined as an ICCID reader with an OpenPGP version 2.0 card inserted </li><li>  <b>NFC</b> - can be used with smartphones and as a key for access control.  It can work as a Mifare Classic card in emulation mode. </li><li>  <b>OTP and TimeOTP</b> - is defined as the hid keyboard and by pressing enters a one-time password.  Time Based OTP via software applet (replacement google authenticator) </li><li>  <b>PIV smartcard</b> - ( <a href="https://en.wikipedia.org/wiki/FIPS_201">Personal Identity Verification</a> ) US state standard smart cards </li></ol><br><br>  By default, the device operates in Yubico OTP mode (proprietary protocol of one-time passwords), is defined only as a HID-keyboard and by pressing the button prints one-time passwords based on the device ID. <br>  You need to enable the U2F mode through a proprietary utility that is available under Windows / Mac / Linux. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0a6/04c/d44/0a604cd44b603daf4d7c913281bc5d06.png" alt="image"><br><br>  I chose to enable U2F and ICCID modes to work as an OpenPGP card. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/919/eae/6f6/919eae6f6a1c9eb94458f0833327939b.png" alt="image"><br><br>  That's all.  U2F works immediately, no drivers are required. <br>  You can check the work in the demo application <a href="https://demo.yubico.com/u2f">demo.yubico.com/u2f</a> <br><br>  The binding of a token to a Google account is extremely simple: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0bc/18b/06f/0bc18b06f1d6ec38169ab26565fecb0f.png" alt="image"><br><br>  After binding the token, it becomes the second factor by default, and you cannot disable the alternative method: either SMS or TOTP. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/15a/6ab/3d8/15a6ab3d881a03389fb27c737e2ef084.png" alt="image"><br><br>  An alternative second factor, I chose TOTP.  I use <a href="https://guides.agilebits.com/1password-mac/5/en/topic/setting-up-totps-time-based-one-time-passwords">the TOTP software implementation</a> via 1Password (the same as Google Authenticator, only on the desktop).  Yubikey NEO is also able to TOTP, while the key for generating passwords is stored in the token and cannot be retrieved.  But since the passwords are generated on the basis of time, you need to keep running the software applet to transfer time to the token, which I did not like. <br><br>  I also explored other functions of the device. <br><br>  <b>The OpenPGP card</b> immediately started working with GnuPG 2.0.27 from the gpgtools.org package. <br><div class="spoiler">  <b class="spoiler_title">gpg - card-status</b> <div class="spoiler_text"><pre><code class="hljs sql">Application ID ...: F3427001240104000006010230340000 Version ..........: 2.0 Manufacturer .....: Yubico Serial number ....: 1023034 Name of cardholder: [not <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">Language</span></span> prefs ...: [<span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>] Sex ..............: unspecified <span class="hljs-keyword"><span class="hljs-keyword">URL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">key</span></span> : [<span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>] Login <span class="hljs-keyword"><span class="hljs-keyword">data</span></span> .......: [<span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>] Signature PIN ....: forced <span class="hljs-keyword"><span class="hljs-keyword">Key</span></span> <span class="hljs-keyword"><span class="hljs-keyword">attributes</span></span> ...: <span class="hljs-number"><span class="hljs-number">2048</span></span>R <span class="hljs-number"><span class="hljs-number">2048</span></span>R <span class="hljs-number"><span class="hljs-number">2048</span></span>R Max. PIN lengths .: <span class="hljs-number"><span class="hljs-number">127</span></span> <span class="hljs-number"><span class="hljs-number">127</span></span> <span class="hljs-number"><span class="hljs-number">127</span></span> PIN retry counter : <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> Signature counter : <span class="hljs-number"><span class="hljs-number">0</span></span> Signature <span class="hljs-keyword"><span class="hljs-keyword">key</span></span> ....: [<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>] Encryption key....: [<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">Authentication</span></span> <span class="hljs-keyword"><span class="hljs-keyword">key</span></span>: [<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">General</span></span> <span class="hljs-keyword"><span class="hljs-keyword">key</span></span> info..: [<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>]</code> </pre> <br></div></div><br><br>  Card version 2.0, keys only RSA and no longer than 2048 bits. <br>  Using the card is also possible via NFC, for example, on Android using <a href="http://www.openkeychain.org/">http://www.openkeychain.org/</a> .  The beauty of such a bundle is that all operations with the private key are performed on the card, the key never leaves the card and cannot be retrieved from it. <br><br>  Unfortunately, the other day, <a href="https://developers.yubico.com/ykneo-openpgp/SecurityAdvisory%25202015-04-14.html">a vulnerability</a> was <a href="https://developers.yubico.com/ykneo-openpgp/SecurityAdvisory%25202015-04-14.html">discovered</a> in the OpenPGP implementation in Yubikey NEO, which allows you to bypass the input of a PIN code and perform a private key operation.  And, since the firmware update on devices is prohibited for security reasons, there is no possibility to fix the bug.  The company Yubico promises to replace the curves of the glands with everyone. <br>  I just had a vulnerable firmware version 1.0.8 <br><br>  <b>Mifare Classic emulation</b> is the most incomprehensible function for me.  When you try to communicate with her, as with the usual Mifare Classic, the card behaves strangely. <br><div class="spoiler">  <b class="spoiler_title">libnfc output with login attempts</b> <div class="spoiler_text"><pre> <code class="bash hljs">$ LIBNFC_LOG_LEVEL=3 ./readmifare1k.py -s 115200 -l /dev/tty.SLAB_USBtoUART debug libnfc.config key: [allow_autoscan], value: [<span class="hljs-literal"><span class="hljs-literal">false</span></span>] debug libnfc.config key: [allow_intrusive_scan], value: [<span class="hljs-literal"><span class="hljs-literal">false</span></span>] debug libnfc.config key: [log_level], value: [1] debug libnfc.config key: [device.name], value: [microBuilder.eu] debug libnfc.config key: [device.connstring], value: [pn532_uart:/dev/tty.SLAB_USBtoUART] debug libnfc.config Unable to open directory: /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/etc/nfc/devices.d debug libnfc.general log_level is <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> to 3 debug libnfc.general allow_autoscan is <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> to <span class="hljs-literal"><span class="hljs-literal">false</span></span> debug libnfc.general allow_intrusive_scan is <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> to <span class="hljs-literal"><span class="hljs-literal">false</span></span> debug libnfc.general 1 device(s) defined by user debug libnfc.general <span class="hljs-comment"><span class="hljs-comment">#0 name: "microBuilder.eu", connstring: "pn532_uart:/dev/tty.SLAB_USBtoUART" debug libnfc.driver.pn532_uart Attempt to open: /dev/tty.SLAB_USBtoUART at 115200 baud. debug libnfc.bus.uart Serial port speed requested to be set to 115200 baud. debug libnfc.chip.pn53x Diagnose debug libnfc.chip.pn53x Timeout value: 500 debug libnfc.bus.uart TX: 55 55 00 00 00 00 00 00 00 00 00 00 00 00 00 00 debug libnfc.chip.pn53x SAMConfiguration debug libnfc.chip.pn53x Timeout value: 1000 debug libnfc.bus.uart TX: 00 00 ff 03 fd d4 14 01 17 00 debug libnfc.bus.uart RX: 00 00 ff 00 ff 00 debug libnfc.chip.pn53x PN53x ACKed debug libnfc.bus.uart RX: 00 00 ff 02 fe debug libnfc.bus.uart RX: d5 15 debug libnfc.bus.uart RX: 16 00 debug libnfc.bus.uart TX: 00 00 ff 09 f7 d4 00 00 6c 69 62 6e 66 63 be 00 debug libnfc.bus.uart RX: 00 00 ff 00 ff 00 debug libnfc.chip.pn53x PN53x ACKed debug libnfc.bus.uart RX: 00 00 ff 09 f7 debug libnfc.bus.uart RX: d5 01 debug libnfc.bus.uart RX: 00 6c 69 62 6e 66 63 debug libnfc.bus.uart RX: bc 00 debug libnfc.chip.pn53x GetFirmwareVersion debug libnfc.bus.uart TX: 00 00 ff 02 fe d4 02 2a 00 debug libnfc.bus.uart RX: 00 00 ff 00 ff 00 debug libnfc.chip.pn53x PN53x ACKed debug libnfc.bus.uart RX: 00 00 ff 06 fa debug libnfc.bus.uart RX: d5 03 debug libnfc.bus.uart RX: 32 01 06 07 debug libnfc.bus.uart RX: e8 00 debug libnfc.chip.pn53x SetParameters debug libnfc.bus.uart TX: 00 00 ff 03 fd d4 12 14 06 00 debug libnfc.bus.uart RX: 00 00 ff 00 ff 00 debug libnfc.chip.pn53x PN53x ACKed debug libnfc.bus.uart RX: 00 00 ff 02 fe debug libnfc.bus.uart RX: d5 13 debug libnfc.bus.uart RX: 18 00 debug libnfc.general "pn532_uart:/dev/tty.SLAB_USBtoUART" (pn532_uart:/dev/tty.SLAB_USBtoUART) has been claimed. debug libnfc.chip.pn53x ReadRegister debug libnfc.bus.uart TX: 00 00 ff 0c f4 d4 06 63 02 63 03 63 0d 63 38 63 3d b0 00 debug libnfc.bus.uart RX: 00 00 ff 00 ff 00 debug libnfc.chip.pn53x PN53x ACKed debug libnfc.bus.uart RX: 00 00 ff 07 f9 debug libnfc.bus.uart RX: d5 07 debug libnfc.bus.uart RX: 00 00 00 00 00 debug libnfc.bus.uart RX: 24 00 debug libnfc.chip.pn53x PN53X_REG_CIU_TxMode (Defines the transmission data rate and framing during transmission) debug libnfc.chip.pn53x PN53X_REG_CIU_RxMode (Defines the transmission data rate and framing during receiving) debug libnfc.chip.pn53x WriteRegister debug libnfc.bus.uart TX: 00 00 ff 08 f8 d4 08 63 02 80 63 03 80 59 00 debug libnfc.bus.uart RX: 00 00 ff 00 ff 00 debug libnfc.chip.pn53x PN53x ACKed debug libnfc.bus.uart RX: 00 00 ff 02 fe debug libnfc.bus.uart RX: d5 09 debug libnfc.bus.uart RX: 22 00 debug libnfc.chip.pn53x RFConfiguration debug libnfc.bus.uart TX: 00 00 ff 04 fc d4 32 01 00 f9 00 debug libnfc.bus.uart RX: 00 00 ff 00 ff 00 debug libnfc.chip.pn53x PN53x ACKed debug libnfc.bus.uart RX: 00 00 ff 02 fe debug libnfc.bus.uart RX: d5 33 debug libnfc.bus.uart RX: f8 00 debug libnfc.chip.pn53x RFConfiguration debug libnfc.bus.uart TX: 00 00 ff 04 fc d4 32 01 01 f8 00 debug libnfc.bus.uart RX: 00 00 ff 00 ff 00 debug libnfc.chip.pn53x PN53x ACKed debug libnfc.bus.uart RX: 00 00 ff 02 fe debug libnfc.bus.uart RX: d5 33 debug libnfc.bus.uart RX: f8 00 debug libnfc.chip.pn53x RFConfiguration debug libnfc.bus.uart TX: 00 00 ff 06 fa d4 32 05 ff ff ff f8 00 debug libnfc.bus.uart RX: 00 00 ff 00 ff 00 debug libnfc.chip.pn53x PN53x ACKed debug libnfc.bus.uart RX: 00 00 ff 02 fe debug libnfc.bus.uart RX: d5 33 debug libnfc.bus.uart RX: f8 00 debug libnfc.chip.pn53x ReadRegister debug libnfc.bus.uart TX: 00 00 ff 0e f2 d4 06 63 02 63 03 63 05 63 38 63 3c 63 3d 19 00 debug libnfc.bus.uart RX: 00 00 ff 00 ff 00 debug libnfc.chip.pn53x PN53x ACKed debug libnfc.bus.uart RX: 00 00 ff 08 f8 debug libnfc.bus.uart RX: d5 07 debug libnfc.bus.uart RX: 80 80 00 00 00 00 debug libnfc.bus.uart RX: 24 00 debug libnfc.chip.pn53x PN53X_REG_CIU_TxAuto (Controls the settings of the antenna driver) debug libnfc.chip.pn53x PN53X_REG_CIU_Control (Contains miscellaneous control bits) debug libnfc.chip.pn53x WriteRegister debug libnfc.bus.uart TX: 00 00 ff 08 f8 d4 08 63 05 40 63 3c 10 cd 00 debug libnfc.bus.uart RX: 00 00 ff 00 ff 00 debug libnfc.chip.pn53x PN53x ACKed debug libnfc.bus.uart RX: 00 00 ff 02 fe debug libnfc.bus.uart RX: d5 09 debug libnfc.bus.uart RX: 22 00 debug libnfc.chip.pn53x RFConfiguration debug libnfc.bus.uart TX: 00 00 ff 04 fc d4 32 01 00 f9 00 debug libnfc.bus.uart RX: 00 00 ff 00 ff 00 debug libnfc.chip.pn53x PN53x ACKed debug libnfc.bus.uart RX: 00 00 ff 02 fe debug libnfc.bus.uart RX: d5 33 debug libnfc.bus.uart RX: f8 00 debug libnfc.chip.pn53x RFConfiguration debug libnfc.bus.uart TX: 00 00 ff 06 fa d4 32 05 00 01 02 f2 00 debug libnfc.bus.uart RX: 00 00 ff 00 ff 00 debug libnfc.chip.pn53x PN53x ACKed debug libnfc.bus.uart RX: 00 00 ff 02 fe debug libnfc.bus.uart RX: d5 33 debug libnfc.bus.uart RX: f8 00 debug libnfc.chip.pn53x ReadRegister debug libnfc.bus.uart TX: 00 00 ff 04 fc d4 06 63 03 c0 00 debug libnfc.bus.uart RX: 00 00 ff 00 ff 00 debug libnfc.chip.pn53x PN53x ACKed debug libnfc.bus.uart RX: 00 00 ff 03 fd debug libnfc.bus.uart RX: d5 07 debug libnfc.bus.uart RX: 80 debug libnfc.bus.uart RX: a4 00 debug libnfc.chip.pn53x PN53X_REG_CIU_RxMode (Defines the transmission data rate and framing during receiving) debug libnfc.chip.pn53x WriteRegister debug libnfc.bus.uart TX: 00 00 ff 05 fb d4 08 63 03 88 36 00 debug libnfc.bus.uart RX: 00 00 ff 00 ff 00 debug libnfc.chip.pn53x PN53x ACKed debug libnfc.bus.uart RX: 00 00 ff 02 fe debug libnfc.bus.uart RX: d5 09 debug libnfc.bus.uart RX: 22 00 debug libnfc.chip.pn53x RFConfiguration debug libnfc.bus.uart TX: 00 00 ff 04 fc d4 32 01 01 f8 00 debug libnfc.bus.uart RX: 00 00 ff 00 ff 00 debug libnfc.chip.pn53x PN53x ACKed debug libnfc.bus.uart RX: 00 00 ff 02 fe debug libnfc.bus.uart RX: d5 33 debug libnfc.bus.uart RX: f8 00 debug libnfc.chip.pn53x RFConfiguration debug libnfc.bus.uart TX: 00 00 ff 04 fc d4 32 01 00 f9 00 debug libnfc.bus.uart RX: 00 00 ff 00 ff 00 debug libnfc.chip.pn53x PN53x ACKed debug libnfc.bus.uart RX: 00 00 ff 02 fe debug libnfc.bus.uart RX: d5 33 debug libnfc.bus.uart RX: f8 00 debug libnfc.chip.pn53x RFConfiguration debug libnfc.bus.uart TX: 00 00 ff 04 fc d4 32 01 01 f8 00 debug libnfc.bus.uart RX: 00 00 ff 00 ff 00 debug libnfc.chip.pn53x PN53x ACKed debug libnfc.bus.uart RX: 00 00 ff 02 fe debug libnfc.bus.uart RX: d5 33 debug libnfc.bus.uart RX: f8 00 debug libnfc.chip.pn53x RFConfiguration debug libnfc.bus.uart TX: 00 00 ff 04 fc d4 32 01 00 f9 00 debug libnfc.bus.uart RX: 00 00 ff 00 ff 00 debug libnfc.chip.pn53x PN53x ACKed debug libnfc.bus.uart RX: 00 00 ff 02 fe debug libnfc.bus.uart RX: d5 33 debug libnfc.bus.uart RX: f8 00 debug libnfc.chip.pn53x RFConfiguration debug libnfc.bus.uart TX: 00 00 ff 04 fc d4 32 01 01 f8 00 debug libnfc.bus.uart RX: 00 00 ff 00 ff 00 debug libnfc.chip.pn53x PN53x ACKed debug libnfc.bus.uart RX: 00 00 ff 02 fe debug libnfc.bus.uart RX: d5 33 debug libnfc.bus.uart RX: f8 00 debug libnfc.chip.pn53x RFConfiguration debug libnfc.bus.uart TX: 00 00 ff 06 fa d4 32 05 00 01 02 f2 00 debug libnfc.bus.uart RX: 00 00 ff 00 ff 00 debug libnfc.chip.pn53x PN53x ACKed debug libnfc.bus.uart RX: 00 00 ff 02 fe debug libnfc.bus.uart RX: d5 33 debug libnfc.bus.uart RX: f8 00 debug libnfc.chip.pn53x InListPassiveTarget debug libnfc.chip.pn53x No timeout debug libnfc.bus.uart TX: 00 00 ff 04 fc d4 4a 01 00 e1 00 debug libnfc.bus.uart RX: 00 00 ff 00 ff 00 debug libnfc.chip.pn53x PN53x ACKed debug libnfc.bus.uart RX: 00 00 ff 20 e0 debug libnfc.bus.uart RX: d5 4b debug libnfc.bus.uart RX: 01 01 00 44 28 07 04 1b 15 4a 0e 35 80 11 78 f7 b1 02 59 75 62 69 6b 65 79 4e 45 4f 72 33 debug libnfc.bus.uart RX: 8e 00 debug libnfc.chip.pn53x RFConfiguration debug libnfc.bus.uart TX: 00 00 ff 04 fc d4 32 01 00 f9 00 debug libnfc.bus.uart RX: 00 00 ff 00 ff 00 debug libnfc.chip.pn53x PN53x ACKed debug libnfc.bus.uart RX: 00 00 ff 02 fe debug libnfc.bus.uart RX: d5 33 debug libnfc.bus.uart RX: f8 00 debug libnfc.chip.pn53x RFConfiguration debug libnfc.bus.uart TX: 00 00 ff 04 fc d4 32 01 01 f8 00 debug libnfc.bus.uart RX: 00 00 ff 00 ff 00 debug libnfc.chip.pn53x PN53x ACKed debug libnfc.bus.uart RX: 00 00 ff 02 fe debug libnfc.bus.uart RX: d5 33 debug libnfc.bus.uart RX: f8 00 debug libnfc.chip.pn53x RFConfiguration debug libnfc.bus.uart TX: 00 00 ff 06 fa d4 32 05 00 01 02 f2 00 debug libnfc.bus.uart RX: 00 00 ff 00 ff 00 debug libnfc.chip.pn53x PN53x ACKed debug libnfc.bus.uart RX: 00 00 ff 02 fe debug libnfc.bus.uart RX: d5 33 debug libnfc.bus.uart RX: f8 00 debug libnfc.chip.pn53x InListPassiveTarget debug libnfc.chip.pn53x No timeout debug libnfc.bus.uart TX: 00 00 ff 04 fc d4 4a 01 00 e1 00 debug libnfc.bus.uart RX: 00 00 ff 00 ff 00 debug libnfc.chip.pn53x PN53x ACKed debug libnfc.bus.uart RX: 00 00 ff 20 e0 debug libnfc.bus.uart RX: d5 4b debug libnfc.bus.uart RX: 01 01 00 44 28 07 04 1b 15 4a 0e 35 80 11 78 f7 b1 02 59 75 62 69 6b 65 79 4e 45 4f 72 33 debug libnfc.bus.uart RX: 8e 00 debug libnfc.chip.pn53x SetParameters debug libnfc.bus.uart TX: 00 00 ff 03 fd d4 12 04 16 00 debug libnfc.bus.uart RX: 00 00 ff 00 ff 00 debug libnfc.chip.pn53x PN53x ACKed debug libnfc.bus.uart RX: 00 00 ff 02 fe debug libnfc.bus.uart RX: d5 13 debug libnfc.bus.uart RX: 18 00 debug libnfc.chip.pn53x RFConfiguration debug libnfc.bus.uart TX: 00 00 ff 04 fc d4 32 01 00 f9 00 debug libnfc.bus.uart RX: 00 00 ff 00 ff 00 debug libnfc.chip.pn53x PN53x ACKed debug libnfc.bus.uart RX: 00 00 ff 02 fe debug libnfc.bus.uart RX: d5 33 debug libnfc.bus.uart RX: f8 00 debug libnfc.chip.pn53x RFConfiguration debug libnfc.bus.uart TX: 00 00 ff 04 fc d4 32 01 01 f8 00 debug libnfc.bus.uart RX: 00 00 ff 00 ff 00 debug libnfc.chip.pn53x PN53x ACKed debug libnfc.bus.uart RX: 00 00 ff 02 fe debug libnfc.bus.uart RX: d5 33 debug libnfc.bus.uart RX: f8 00 debug libnfc.chip.pn53x RFConfiguration debug libnfc.bus.uart TX: 00 00 ff 06 fa d4 32 05 00 01 02 f2 00 debug libnfc.bus.uart RX: 00 00 ff 00 ff 00 debug libnfc.chip.pn53x PN53x ACKed debug libnfc.bus.uart RX: 00 00 ff 02 fe debug libnfc.bus.uart RX: d5 33 debug libnfc.bus.uart RX: f8 00 debug libnfc.chip.pn53x InListPassiveTarget debug libnfc.chip.pn53x No timeout debug libnfc.bus.uart TX: 00 00 ff 04 fc d4 4a 01 00 e1 00 debug libnfc.bus.uart RX: 00 00 ff 00 ff 00 debug libnfc.chip.pn53x PN53x ACKed debug libnfc.bus.uart RX: 00 00 ff 0f f1 debug libnfc.bus.uart RX: d5 4b debug libnfc.bus.uart RX: 01 01 00 44 28 07 04 1b 15 4a 0e 35 80 debug libnfc.bus.uart RX: 2a 00 debug libnfc.chip.pn53x InDataExchange debug libnfc.bus.uart TX: 00 00 ff 12 ee d4 40 01 60 00 a0 a1 a2 a3 a4 a5 04 1b 15 4a 0e 35 80 7b 00 debug libnfc.bus.uart RX: 00 00 ff 00 ff 00 debug libnfc.chip.pn53x PN53x ACKed debug libnfc.bus.uart RX: 00 00 ff 01 ff debug libnfc.bus.uart RX: 7f 81 00 error libnfc.driver.pn532_uart Application level error detected</span></span></code> </pre><br></div></div><br>  The card has a 7-byte UID. <br><pre> <code class="bash hljs"> ATQA (SENS_RES): 00 44 UID (NFCID1): 04 1b b1 4e f7 00 f1 SAK (SEL_RES): 28 ATS: 78 f7 b1 02 59 75 62 69 6b 65 79 4e 45 4f 72 33</code> </pre><br>  Physically, the RFID tag works quite well, despite the small antenna, the reader in the metro "grasps" from 3 centimeters. <br><br><h4>  Conclusion </h4><br><br>  Compared to all the hardware tokens that I used to use, the U2F technology is extremely convenient.  No need to mess with importing certificates, installing drivers, no Java applets, and more. <br>  I tested working on Windows 7, Mac OS 10.10 and Ubuntu 14.0.4.  In all systems, Chrome immediately picked up the token without installing drivers.  In general, deployment seems so simple and clear that even a child can handle it. <br>  And the presence of fully open specifications, plug-ins and libraries will allow you to fasten U2F to any applications. </div><p>Source: <a href="https://habr.com/ru/post/256579/">https://habr.com/ru/post/256579/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../256567/index.html">DataTalks # 2: Data Visualization</a></li>
<li><a href="../256571/index.html">Programmer == creativity || programmer! = creativity</a></li>
<li><a href="../256573/index.html">CTB-Locker. We decided to pay</a></li>
<li><a href="../256575/index.html">Seven principles of the effectiveness of a data center from Microsoft</a></li>
<li><a href="../256577/index.html">We are switching from STM32 to the Russian K1986BE92QI microcontroller. Practical application: Generate and reproduce sound. Part three: generate a sine wave. A simple look at DMA + first acquaintance with timers</a></li>
<li><a href="../256581/index.html">Krovi: Big Data - as dream. 7th series. Big Jobs for Big Data</a></li>
<li><a href="../256585/index.html">10 useful frameworks that a developer needs to know</a></li>
<li><a href="../256587/index.html">3 CSS CSS Issues</a></li>
<li><a href="../256589/index.html">A story about how to write your own CSS preprocessor for 9 months</a></li>
<li><a href="../256593/index.html">Classification of proposals using neural networks without pre-processing</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>