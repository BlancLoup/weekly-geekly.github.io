<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Virt-manager as an online service</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It so happened that I needed a tool to manage my virtual computers out of the office and it wasn‚Äôt always a Linux machine at hand. Previously, we had ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Virt-manager as an online service</h1><div class="post__text post__text-html js-mediator-article">  It so happened that I needed a tool to manage my virtual computers out of the office and it wasn‚Äôt always a Linux machine at hand.  Previously, we had to actively use Putty and the virsh console utility, which was very annoying even not so much the management of virtuals as their creation.  At first, I wrote bash scripts to optimize my actions, but this was not always convenient. <br><br>  Here I also began to learn Python along the way, everything that was written in bash began to be translated into Python.  And then the idea arose to write a web interface to manage your virtual computers in the office, well, and those that spin for personal purposes.  Since personal needs were resolved, it was originally planned to hide such a thing on my web server, there was no talk of public even in thoughts.  But after two weeks of intensive work on the task, when almost a large web project was drawn, a friend suggested putting it all in open access, for which he gave me a virtual server for the project. <br><a name="habracut"></a><br><h4>  Project </h4><br>  <a href="http://www.webvirtmgr.net/">WebVirtMgr</a> centralized virtual machine management service.  The main technologies used are: KVM hypervisor and libvirt virtualization management library.  Creation, installation, backup, configuration and launch of virtual machines are implemented as an easy-to-learn web interface.  To organize screen forwarding of virtual machines to the browser window, the VNC client is used through an SSH tunnel. <br><br><h4>  Technology </h4><br>  All logic is written in Python using the Django framework.  For interaction of Python'a with a hypervisor library Libvirt is used.  The default hypervisor is KVM. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  How is all this customizable </h4><br>  To work we need a server with any Linux distribution installed.  However, in Debian \ Ubuntu, some functions of libvirt are not supported, unlike the distributions of the RedHat family, namely, work with network interfaces.  Although this has nothing to do with a bridge (br0) for throwing network interfaces for virtual machines, you can also configure it via the console.  The following is an example of setting up CentOS 6.2, and how to configure Ubuntu can be found at this <a href="http://www.webvirtmgr.net/docs">link</a> . <br><br>  All in order, install the KVM and libvirt packages: <br><br><pre> # yum -y install kvm libvirt
</pre><br>  Let's open the following line in the / etc / sysconfig / libvirtd file: <br><br><pre> # Listen for TCP / IP connections
 # Nb.  must setup TLS / SSL keys prior to using this
 LIBVIRTD_ARGS = "- listen"
</pre><br>  in the /etc/libvirt/libvirtd.conf file, we uncover the lines: <br><br><pre> listen_tls = 0
 listen_tcp = 1
</pre><br>  Run the libvirtd daemon: <br><br><pre> # service libvirtd start
</pre><br>  create a user to manage your virtual machines, where <b>fred</b> username: <br><pre> # saslpasswd2 -a libvirt fred
 Password: xxxxxx
 Again (for verification): xxxxxx
</pre><br>  If you want your virtual machines to look outside, then the instruction on how to configure the bridge for your network interfaces is <a href="http://wiki.libvirt.org/page/Networking">here</a> . <br><br>  Next we go to the <a href="http://www.webvirtmgr.net/">site</a> itself <a href="http://www.webvirtmgr.net/">,</a> register, confirm registration, log in. <br><br>  Before adding a virtualization server to the WebVirtMgr service, check the iptables settings (Ubuntu - ufw) and make a test connection to your hypervisor from the console: <br><br><pre> # virsh -c qemu + tcp: // IP_ of your_server / system nodeinfo
 Please enter your authentication name: fred
 Please enter your password: xxxxxx
 CPU model: x86_64
 CPU (s): 2
 CPU frequency: 2611 MHz
 CPU socket (s): 1
 Core (s) per socket: 2
 Thread (s) per core: 1
 NUMA cell (s): 1
 Memory size: 2019260 kB
</pre><br>  if you have not seen any errors, but have seen system information, then feel free to add your virtualization server to the service and manage virtual machines. <br><br><h4>  Conclusion </h4><br>  When writing a project, I got a real experience with Django and Python that I really liked.  I hope that what happened will benefit someone else besides me, I would be very pleased if this is true.  Even if you did not like anything, then there is something to work on.  If you have any suggestions or recommendations, or maybe questions, you are welcome. <br><br>  <b>PS: Panel <a href="http://github.com/retspen/webvirtmgr">WebVirtMgr</a> for installation on your server.</b> </div><p>Source: <a href="https://habr.com/ru/post/135063/">https://habr.com/ru/post/135063/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../135057/index.html">What kind of Continious Integration system do you use in the development process?</a></li>
<li><a href="../135058/index.html">Upgrade to Android 4.0 will appear in March</a></li>
<li><a href="../135059/index.html">Building the structure of the content of the site based on the semantic core (SEO practice)</a></li>
<li><a href="../135060/index.html">Advertising in the mirrors</a></li>
<li><a href="../135061/index.html">Link sharing. Results of the year from AddThis</a></li>
<li><a href="../135064/index.html">Attempting to speed up writing to flash</a></li>
<li><a href="../135065/index.html">The United States has compiled a biometric database of three million Iraqis.</a></li>
<li><a href="../135066/index.html">Wasteland Radio: Swim in three years</a></li>
<li><a href="../135067/index.html">Social Games: Search for love in Mamba and LovePlanet</a></li>
<li><a href="../135068/index.html">Simple and smart forms to get Yandex.Money</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>