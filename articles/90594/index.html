<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Zend_Search_Lucene + PHPMorphy is easy</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Once watched documentation on Zend_Search_Lucene. Everything is good, everything is clear. Take it and embed it in your site. Only now there is not a ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Zend_Search_Lucene + PHPMorphy is easy</h1><div class="post__text post__text-html js-mediator-article">  Once watched documentation on Zend_Search_Lucene.  Everything is good, everything is clear.  Take it and embed it in your site.  Only now there is not a word about how to fasten a stemmer or morphological analyzer to this thing.  In fact, it turned out that it was very easy to make friends with it, for example, with PHPMorphy. <br>  Actually, how to do it - under the cut. <br>  The note will be primarily useful to developers who have not yet faced the problem of full-text search on the site. <br>  Here you will not find a manual for setting up Lucene or PHPMorphy - there is plenty of this information on the Internet. <br><br><a name="habracut"></a><br>  So let's get started. <br>  Before adding to the index, the text is divided into tokens.  Zend_Search_Lucene_Analysis_Analyzer_ * classes are responsible for how this happens.  The input of the analyzer is text, and the output is a list of tokens.  A token is a word that is directly written to the index + its position in the document.  At least I understand it that way.  In addition to the analyzer, there are filters that convert words to, say, lower case, or do not miss words shorter than three letters. <br>  All we need to do is write a filter that will convert the word to some initial form.  This form will remain in the index.  I forgot to say.  All queries to the index also undergo the same tokenization and filtering procedure.  Thus, the search will be carried out on the initial forms of words, which we, in fact, need.  Below is the code: <br><br><pre><code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">My_PHPMorphy_TokenFilter</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Zend_Search_Lucene_Analysis_TokenFilter</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">normalize</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Zend_Search_Lucene_Analysis_Token $srcToken)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   Zend_Search_Lucene_Analysis_TokenFilter_LowerCaseUtf8 //      } } $analyzer = new Zend_Search_Lucene_Analysis_Analyzer_Common_Utf8(); $analyzer-&gt;addFilter(new My_PHPMorphy_TokenFilter()); Zend_Search_Lucene_Analysis_Analyzer::setDefault($analyzer);</span></span></code> </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Everything.  We index what we need and display the search results to the user, as taught in the Zend_Framework manual. </div><p>Source: <a href="https://habr.com/ru/post/90594/">https://habr.com/ru/post/90594/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../90583/index.html">Dropbox and document collaboration</a></li>
<li><a href="../90585/index.html">4 answers that will bring you money</a></li>
<li><a href="../90587/index.html">The combination of multi-touch and pen input</a></li>
<li><a href="../90590/index.html">Tank - your robot on the Arduino</a></li>
<li><a href="../90591/index.html">MOPSLinux will no longer be?</a></li>
<li><a href="../90597/index.html">The book "A Brief History of Time" written by Stephen Hawking</a></li>
<li><a href="../90598/index.html">IE9 supports TIFF, JPEG XR and ICC 4 color profiles</a></li>
<li><a href="../90599/index.html">iPhone OS 4 beta is available for registered developers.</a></li>
<li><a href="../90600/index.html">How to increase customer confidence in an IT professional</a></li>
<li><a href="../90602/index.html">James Gosling left Oracle</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>