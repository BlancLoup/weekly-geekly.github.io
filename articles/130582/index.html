<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We write our bot for Google AI Challenge. Fast start</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The Google AI Challenge Ants is starting very soon. Two days ago, there was already an announcement on the Habr√© about this contest: 
 http://habrahab...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We write our bot for Google AI Challenge. Fast start</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage1/9caef5d2/53be1e83/6b043a9c/6682fcdc.jpg"><br><br>  The Google AI Challenge Ants is starting very soon.  Two days ago, there was already an announcement on the Habr√© about this contest: <br>  <a href="http://habrahabr.ru/blogs/sport_programming/130457/">http://habrahabr.ru/blogs/sport_programming/130457/</a> <a href="http://habrahabr.ru/blogs/sport_programming/130457/"><br></a>  .  For those who have a desire to participate, or at least just find out in more detail how this is done, I wrote this ‚ÄúQuick Start‚Äù. <br>  <i>From the article you will learn how to start a game on your machine, write your first bot and run two copies to fight against each other.</i> <br><a name="habracut"></a><br><br>  I use <b>Linux (Debian)</b> , but the site also has a kit for <b>Windows</b> (Python must be installed on the system). <br>  I will give an example of a bot in the <b>Perl language</b> , but this does not in any way cancel the usefulness of the article for those who write in another language. <br>  Bundled from aichallenge have ready-made bots written in languages: Java, PHP, C #, Python. <br>  Moreover, now on the site you can download a starter pack for writing your bot in languages: <br>  C #, C ++, Common Lisp, D, Go, Java, JavaScript, Lua, OCaml, Pascal, Perl, PHP, Python, Ruby, Scala. <br>  These languages ‚Äã‚Äãwill be added soon: <br>  C, Clojure, CoffeeScript, Erlang, Groovy, Haskell, Visual Basic. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      And yes.  You can simultaneously launch a battle bots written in different programming languages. <br><br><h5>  Parting words </h5><br>  Even if you have little programming experience and you think that nothing shines for you, I still recommend trying your hand at least on a local machine.  At a minimum, you will see a sample of a good programming style and you will get such a useful programming skill as working with someone else‚Äôs code. <br>  And by the way, Google promises some special prizes for first-year students. <br><br>  Well, let's get started. <br><br><h4>  What you need to start? </h4><br><br>  First of all, here is the link to the official website, where there is all the useful information: <a href="http://beta.aichallenge.org/">http://beta.aichallenge.org/</a> <br><br>  To write your bot you will need a <b>starter pack</b> .  On the page <br>  <a href="http://beta.aichallenge.org/starter_packages.php">http://beta.aichallenge.org/starter_packages.php</a> choose your programming language and download the archive.  I chose Perl: <br><pre><code class="hljs ruby">$ wget <span class="hljs-symbol"><span class="hljs-symbol">http:</span></span>/<span class="hljs-regexp"><span class="hljs-regexp">/beta.aichallenge.org/starter</span></span>_packages/perl_starter_package.zip</code> </pre> <br><br>  Unpack, for example, in the MyBot directory: <br><pre> <code class="bash hljs">$ unzip -d MyBot perl_starter_package.zip Archive: perl_starter_package.zip inflating: MyBot/Ants.pm inflating: MyBot/MyBot.pl inflating: MyBot/MyBot.pm inflating: MyBot/Position.pm inflating: MyBot/README.md</code> </pre> <br><br>  This is a simple but already working version of the bot!  You can run it in action.  But first I will tell you what it is for. <br>  The battle takes place in a rectangular area.  On the plot there is land, water, food, anthills and, in fact, the main characters - ants. <br>  Turn-based game. <br>  Your bot is a program that, in an infinite loop (one cycle - one step), gets the state of the playing field and returns a new position to its ants. <br>  Your bot is the collective mind of all your ants, it knows everything your ants know.  At each cycle, the bot for each of your ant must determine the next step, where the ant will go: north, south, east, west, or remain in place.  Everything.  This is the whole essence of the game. <br><br>  Now we turn to the implementation.  The bot implementation is in the <b>MyBot.pm</b> file. <br>  The <b>Ants.pm</b> and <b>Position.pm</b> files are the necessary files for interacting with the game world.  File <b>MyBot.pl</b> - file to run the bot. <br>  All work on writing a bot will occur in the file MyBot.pm. <br>  And the main function here is: <br><br><pre> <code class="perl hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">sub</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">create_orders</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $self = <span class="hljs-keyword"><span class="hljs-keyword">shift</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $ant ($self-&gt;my_ants) { <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> @food = $self-&gt;nearby_food($ant); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $f (@food) { <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $direction = $self-&gt;direction($ant, $f); <span class="hljs-keyword"><span class="hljs-keyword">next</span></span> <span class="hljs-keyword"><span class="hljs-keyword">unless</span></span> $self-&gt;passable( Position-&gt;from($ant)-&gt;move($direction) ); $self-&gt;issue_order( $ant, $direction ); <span class="hljs-keyword"><span class="hljs-keyword">last</span></span>; } } }</code> </pre><br>  This is exactly the function that is called at each step. <br>  In it for every ant of all your ants <br><pre> <code class="hljs perl"> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $ant ($self-&gt;my_ants) {</code> </pre> <br>  something is being done ... and as a result, an indication is given to the system: <br><pre> <code class="hljs php"> $self-&gt;issue_order( $ant, $direction );</code> </pre> <br>  that this ant will go this way. <br><br>  Everything.  And whoever goes where is your imagination.  In this example, the ant will go for the first available food. <br>  But I promised that we will try to write your bot.  And so that the lesson is simple, we will write the simplest, but also the most useless option - the ant will walk at random. <br><br>  But before you start, you need to figure out where we will look at the battles of our bots. <br>  The official site offers a special kit: <b>Ants game visualizer</b> , written in Python. <br>  Linux / MacOS version: <a href="">http://beta.aichallenge.org/tools.tar.bz2</a> <br>  Windows version: <a href="">http://beta.aichallenge.org/tools.zip</a> <br><br>  Take: <br><pre> <code class="bash hljs">$ wget http://beta.aichallenge.org/tools.tar.bz2</code> </pre><br>  Unpack: <br><pre> <code class="hljs ruby">$ tar -xjvf tools.tar.bz2</code> </pre> <br><br>  We look.  At the root of the folder there are two shell scripts with speaking names: <br>  <b>play_one_game.sh</b> <b><br></b>  <b>play_one_game_live.sh</b> <br>  To watch the process, we need the <b>play_one_game_live.sh</b> file. <br>  Let's look carefully: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/env sh ./playgame.py -So --player_seed 42 --end_wait=0.25 --verbose --log_dir game_logs --turns 1000 --map_file maps/maze/maze_9.map "$@" \ "python sample_bots/python/HunterBot.py" \ "python sample_bots/python/LeftyBot.py" \ "python sample_bots/python/HunterBot.py" \ "python sample_bots/python/LeftyBot.py" | java -jar visualizer.jar</span></span></code> </pre> <br><br>  When you start the game: <br><pre> <code class="bash hljs">$ ./play_one_game_live.sh</code> </pre> <br>  A visualizer will open, in which you will see a large field with 4 anthills and you can watch the battle. <br>  As you can see from the code, there will be 4 python-bots that come with the visualizer to fight here.  In addition to the python bots, as I said, there are bots written in C #, Java and PHP. <br><br><img src="https://habrastorage.org/storage1/ff688f0e/b65a1f97/8b9b714b/1d786f2f.png"><br><br>  The first step has been taken.  Fine!  What's next? <br><br>  And then we want to connect your Perl-bot to the game.  We will change the script. <br>  The line <b>"python sample_bots / python / HunterBot.py"</b> is a command to launch your bot.  The result of this command should be a running process that will accept input data and produce a result.  Thus, there can be any of your programs written in any programming language. <br>  In my case - the program that launches my bot - <b>MyBot.pl</b> . <br><br>  Create the <b>sample_bots / perl</b> directory and copy all the necessary files of our bot from the starter kit to this directory: <br><br><pre> <code class="bash hljs">$ cp MyBot/*.pl MyBot/*.pm tools/sample_bots/perl/</code> </pre> <br><br>  Bot there.  Choose a card easier.  Maps are in the maps directory.  Each card is a text file.  The first three lines are the size and number of players on the map. <br>  Be careful, run exactly as many players as indicated in the map! <br>  I chose a small card with two players: <br>  <b>maps / example / tutorial1.map</b> <br><br>  I make changes to the startup file <b>play_one_game_live.sh</b> : <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/env sh ./playgame.py -So --player_seed 42 --end_wait=0.25 --verbose --log_dir game_logs --turns 1000 --map_file maps/example/tutorial1.map "$@" \ "python sample_bots/python/HunterBot.py" \ "perl sample_bots/perl/MyBot.pl" | java -jar visualizer.jar</span></span></code> </pre> <br><br>  All is ready.  We can run and watch the game of our bot. <br><img src="https://habrastorage.org/storage1/dd805177/6c28ba53/46bfb3f6/ee5eaa37.png"><br><br><h4>  We write a bot that walks randomly </h4><br><br>  We proceed to the implementation of the task.  Open the file MyBot.pm and delete all unnecessary from the <b>sub create_orders</b> function.  The starting point will be: <br><br><pre> <code class="perl hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">sub</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">create_orders</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $self = <span class="hljs-keyword"><span class="hljs-keyword">shift</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $ant ($self-&gt;my_ants) { $self-&gt;issue_order( $ant, $direction ); } }</code> </pre> <br><br>  She is not working yet, because  we have not defined <i>$ direction</i> .  If you look at the function code <i>issue_order</i> (it is in the Ants.pm file), then you will find out that it takes the letter <b>N, S, W or E</b> (north, south, west or east) as the second argument. <br><br>  Create an array of letters, and for each ant, take an arbitrary element of this array.  Thus, each ant at each step will go in a direction unknown to anyone. <br><br>  The perl language gives the temptation to write it all in a couple of lines, but since  The article is designed for a different type and level of programmers, then I will sign it like this: <br><br><pre> <code class="perl hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">sub</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">create_orders</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $self = <span class="hljs-keyword"><span class="hljs-keyword">shift</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> @directions = <span class="hljs-string"><span class="hljs-string">qw(NSWE)</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $ant ($self-&gt;my_ants) { <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $index = <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">rand</span></span> (<span class="hljs-number"><span class="hljs-number">4</span></span>)); $self-&gt;issue_order( $ant, $directions[$index] ); } }</code> </pre> <br><br>  We remain, we choose our opponent, we launch and observe how our blind kittens are devoured by the evil, ruthless ants of the opponent. <br><br><img src="https://habrastorage.org/storage1/c3a59556/f50fce71/8a848ddb/953df3ae.png"><br><br>  Well.  The bot is ready, albeit stupid, but its.  Things are easy: add intelligence bot, teach him to search for food, to fight, and you can send him to win.  Here our paths diverge. <br>  Options for finding food and rivals leave for self-study.  See the Ants.pm file. <br><br>  And in conclusion, I want to say a few words about registration. <br>  Correct link to register here: <a href="http://beta.aichallenge.org/submit.php">beta.aichallenge.org/submit.php</a> <br>  The site in some places given the wrong link (apparently to the last championship), which scared me at the beginning and I almost gave up this venture. <br>  After registration, you can download the original starter pack, as is, in the archive, so that your name appears as soon as possible in the ratings. <br><br>  <b>See you on the battlefield!</b> </div><p>Source: <a href="https://habr.com/ru/post/130582/">https://habr.com/ru/post/130582/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../130577/index.html">CAP-theorem simple, accessible language</a></li>
<li><a href="../130578/index.html">FPGA. The first steps</a></li>
<li><a href="../130579/index.html">5th meeting of the DEFCON-Russia group</a></li>
<li><a href="../130580/index.html">Bare Metal Deployment - how to look at one of the most interesting innovations of System Center Virtual Machine Manager 2012 RC closer</a></li>
<li><a href="../130581/index.html">Recirculating Neural Networks</a></li>
<li><a href="../130585/index.html">And talk? Interactive development webinar for Windows Phone</a></li>
<li><a href="../130587/index.html">New tzdata time zone database address</a></li>
<li><a href="../130588/index.html">"Weakly load 40 cores?" Or a simple parallel programming contest Acceler8 2011</a></li>
<li><a href="../130589/index.html">Why I do not believe in Dart</a></li>
<li><a href="../130590/index.html">Underline in username</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>