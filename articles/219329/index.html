<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Yii 2.0 beta</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We are very pleased to announce the release of the beta version of the PHP framework Yii 2. You can download it from yiiframework.com . 

 Beta includ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Yii 2.0 beta</h1><div class="post__text post__text-html js-mediator-article">  We are very pleased to announce the release of the beta version of the PHP framework Yii 2. You can <a href="http://www.yiiframework.com/download/">download it from yiiframework.com</a> . <br><br>  Beta includes hundreds of innovations, changes and fixes <a href="http://www.yiiframework.com/news/76/yii-2-0-alpha-is-released/">from the alpha release</a> . <br>  Next, we will review the most important, but first answer the frequently asked questions. <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Frequently asked Questions </h4><br><br><ul><li>  <b>What does beta mean?</b>  Beta means a stable set of features and architecture.  Starting from beta to GA (General Availability, stable release), we will deal mainly with bug fixes and documentation.  We are not going to change the architecture of the framework or add any new features.  It is worth noting that backwards-compatibility failures can still happen, but we will try to make them as small as possible, and made in detail to describe. </li><li>  <b>When will there be a stable release?</b>  So far, we can not name the exact date.  Since the next step is mainly to correct errors and refine the documentation, we think that it will not take much time. </li><li>  <b>Can I use beta in my projects?</b>  You should not use beta in projects with tight deadlines or if you are not familiar with Yii 2.0 yet.  If this is not about you and you are not afraid of changes in the framework, you can try.  We heard that quite a few projects are already running and are working on the `master` branch.  Also remember that the minimum PHP version for the framework is 5.4. </li><li>  <b>Is there documentation on 2.0?</b>  Yes, there is <a href="http://www.yiiframework.com/doc-2.0/guide-index.html">The Definitive Guide</a> and <a href="http://www.yiiframework.com/doc-2.0/">API documentation</a> .  Hyde is constantly updated.  Translation into Russian will be as soon as the original is more or less completed. </li><li>  <b>How can I upgrade applications from 1.1 to 2.0?</b>  A separate section has been written on this topic. <br>  <a href="http://www.yiiframework.com/doc-2.0/guide-upgrade-from-v1.html">Upgrading from Yii 1.1</a> .  It is worth noting that since 2.0 has been completely rewritten, updating will not be a trivial task.  However, if you worked with 1.1, it will be much easier for you because there is a lot in common between 1.1 and 2.0. </li><li> <b>How to upgrade from alpha 2.0?</b>  If you update alpha through Composer, you should delete everything except <code>.gitignore</code> from the <code>vendor</code> directory and run composer again.  You only need to do this once and you don‚Äôt have to do this with every new release.  A complete list of changes, including those that break backward compatibility, is available in the <a href="">CHANGELOG</a> file. </li><li>  <b>How to follow development 2.0?</b>  All development and discussion takes place on GitHub: <br>  <a href="https://github.com/yiisoft/yii2">https://github.com/yiisoft/yii2</a> .  You can subscribe to updates or put an asterisk to receive notification of updates.  You can also follow our twitter <a href="https://twitter.com/yiiframework">https://twitter.com/yiiframework</a> . </li></ul><br><br><h4>  Big changes from alpha version </h4><br><br>  A complete list of changes can be found in <a href="">CHANGELOG</a> , and below we describe the most important. <br><br><h5>  Structure </h5><br><br>  Yii 2 started using <a href="">PSR-4</a> <br>  for loading classes.  I.e: <br><br><ul><li>  The framework directory structure has become easier. </li><li>  The directory structure of extensions has become easier. </li><li>  The framework no longer loads classes named PEAR.  Loading classes from this has simplified and become faster. </li></ul><br><br>  Controller classes must now be in the namespace specified in <code>Module::controllerNamespace</code> , unless of course you use <code>Module::controllerMap</code> . <br><br>  We also returned support for grouping controllers in a subdirectory that was in 1.1. <br><br><h5>  The convenience of use </h5><br><br>  Ease of use is one of our team‚Äôs highest priorities.  That is why we pay a lot of attention to naming and ensuring that the code works well with different IDEs.  All this allows you to make everyday development more enjoyable. <br><br>  We switched to the PSR-1 and PSR-2 code styles and received support from many IDEs, <a href="https://github.com/squizlabs/PHP_CodeSniffer">automated code checking</a> and <br>  <a href="https://github.com/fabpot/PHP-CS-Fixer">automatic formatting</a> . <br><br><h5>  Performance </h5><br><br>  One of the most significant changes is that the session does not start until it is really needed.  This allows applications to not waste extra resources. <br><br>  If you use Markdown in your projects, you will notice that the conversion speed to HTML has increased significantly.  This became possible after Carsten Brandt (cebe), after reviewing existing solutions, wrote its library from scratch for this purpose.  In addition to performance, it expands better and supports the markdown version used by GitHub. <br><br><h5>  Security </h5><br><br>  Now Yii uses * masked * CSRF tokens to prevent <a href="http://breachattack.com/">BREACH</a> attacks. <br><br>  RBAC was rewritten, making it easier.  Business rules are now drawn up in the form of classes without any <code>eval</code> . <br><br><h5>  RESTful API framework </h5><br><br>  The long-awaited feature that appeared in beta is a built-in framework for creating a REST API.  In this review, we will not describe it in detail, but only list the main features.  A full description is available in <a href="http://www.yiiframework.com/doc-2.0/guide-rest.html">The Definitive Guide</a> . <br><br><ul><li>  Rapid prototyping of frequent operations via ActiveRecord; </li><li>  Response format negotiation (JSON and XML are supported by default); </li><li>  Customizable object serialization.  You can select serializable fields. </li><li>  Proper formatting of data collections and validation errors; </li><li>  Efficient routing with full HTTP support; </li><li>  <code>OPTIONS</code> and <code>HEAD</code> support; </li><li>  Authentication; </li><li>  Authorization; </li><li>  HATEOAS support; </li><li>  HTTP caching; </li><li>  Limit the number of requests. </li></ul><br><br><h5>  Dependency Injection and Service Locator </h5><br><br>  Many have asked why there is no Dependency Injection (DI) container in Yii.  In fact, Yii has always provided similar functionality in the form of a Service Locator, an instance of the Yii application.  Now we have allocated the service locator to a separate component, <code>yii\di\ServiceLocator</code> .  As before, both the application and the modules are service locators.  You can get the service (in 1.1 it was called the application component) using <code>Yii::$app-&gt;get('something')</code> . <br><br>  In addition to the Service Locator, we also implemented a <code>yii\di\Container</code> DI container.  It helps to create less related code.  According to preliminary data, our container is one of the fastest DI containers in PHP.  You can use <code>Yii::$container-&gt;set()</code> to set the initial values ‚Äã‚Äãof the classes.  The old <code>Yii::$objectConfig</code> removed. <br><br><h5>  Testing </h5><br><br>  Yii has been integrated with <a href="https://github.com/yiisoft/yii2-codeception">Codeception</a> .  This allows you to test the application as a whole by emulating user actions and validating the generated responses.  Unlike PHPInit's selenium support, Codeception does not require a browser, it is easier to put it on a CI server and it works much faster. <br><br>  Yii also adds <a href="http://www.yiiframework.com/doc-2.0/guide-test-fixture.html">support for fixtures</a> , which solves the problem of initializing test data - one of the longest and most routine tasks when writing tests.  Support for fixtures covers both their creation and application.  The <a href="https://github.com/yiisoft/yii2-faker">faker</a> extension has also been implemented, which helps create near-real data sets. <br><br>  Both application templates, both ‚Äúbasic‚Äù and ‚Äúadvanced‚Äù, come with tests: modular, functional and acceptance.  We hope this will be a good incentive to apply the development through testing. <br><br><h5>  Validation of models </h5><br><br>  There are quite a few interesting improvements in model validation. <br><br>  Validators <code>UniqueValidator</code> and <code>ExistValidator</code> now support checking multiple columns.  Below are some examples for <code>unique</code> : <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// a1    ['a1', 'unique'] // a1   ,     a2 ['a1', 'unique', 'targetAttribute' =&gt; 'a2'] // a1  a2            [['a1', 'a2'], 'unique', 'targetAttribute' =&gt; ['a1', 'a2']] // a1  a2    ,   a1     ['a1', 'unique', 'targetAttribute' =&gt; ['a1', 'a2']] // a1          a2,    a3 ['a1', 'unique', 'targetAttribute' =&gt; ['a2', 'a1' =&gt; 'a3']]</span></span></code> </pre><br><br>  Validation can be performed under conditions that are specified through the <code>when</code> and <code>whenClient</code> .  The following is an example of the mandatory field "state" only if the selected country is "USA": <br><br><pre> <code class="php hljs">[<span class="hljs-string"><span class="hljs-string">'state'</span></span>, <span class="hljs-string"><span class="hljs-string">'required'</span></span>, <span class="hljs-string"><span class="hljs-string">'when'</span></span> =&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($model)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $model-&gt;country == Country::USA; }, <span class="hljs-string"><span class="hljs-string">'whenClient'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">"function (attribute, value) { return $('#country').value == 'USA'; }"</span></span>, ]</code> </pre><br><br>  Sometimes you want to check the data is not tied to the model.  This can be done using the new class <code>yii\base\DynamicModel</code> : <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">actionSearch</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($name, $email)</span></span></span><span class="hljs-function"> </span></span>{ $model = DynamicModel::validateData(compact(<span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'email'</span></span>), [ [[<span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'email'</span></span>], <span class="hljs-string"><span class="hljs-string">'string'</span></span>, <span class="hljs-string"><span class="hljs-string">'max'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">128</span></span>], [<span class="hljs-string"><span class="hljs-string">'email'</span></span>, <span class="hljs-string"><span class="hljs-string">'email'</span></span>], ]); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($model-&gt;hasErrors()) { <span class="hljs-comment"><span class="hljs-comment">//   } else { //   } }</span></span></code> </pre><br><br><h5>  Database and Active Record </h5><br><br>  Everything related to databases is Yii's forte.  The feature set was already quite interesting in the alpha version, and the beta brought improvements and new features.  Active Record implementations include <a href="http://www.elasticsearch.org/">elasticsearch</a> , <a href="http://redis.io/">redis</a> and <a href="http://sphinxsearch.com/docs/">Sphinx search</a> .  And in the beta, <a href="https://www.mongodb.org/">mongodb</a> support <a href="https://www.mongodb.org/">appeared</a> . <br><br><h6>  Nested transaction support </h6><br><br>  Yii now supports nested transactions.  You can start a transaction without worrying about whether an external transaction has begun. <br><br><h6>  Join </h6><br><br>  We added <code>ActiveQuery::joinWith()</code> to support the creation of SQL queries with JOIN using the already declared AR links.  This is especially useful if you want to filter or sort data by fields from related tables.  For example: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//        id   id .    "customer"     $orders = Order::find()-&gt;joinWith('customer')-&gt;orderBy('customer.id, order.id')-&gt;all(); //   ,    .    "books"     $orders = Order::find()-&gt;innerJoinWith('books')-&gt;all();</span></span></code> </pre><br><br>  This is especially useful when working with related columns in a GridView.  Now, using <code>joinWith()</code> , it is very easy to sort or filter by them. <br><br><h6>  Data Type Conversion </h6><br><br>  ActiveRecord now converts data received from the database into the appropriate types.  For example, if you have an <code>integer</code> <code>type</code> column in your database, after receiving the corresponding ActiveRecord instance, the <code>type</code> will be of type <code>integer</code> in PHP. <br><br><h6>  Search </h6><br><br>  In order to simplify the search task, we added the <code>Query::filterWhere()</code> method, which automatically removes empty values.  For example, if you have a search form with a filter for the <code>name</code> and <code>email</code> fields, then you can use the above code to build a search query.  Without this method, you would have to check if the user entered something into the field and add the search condition only in this case.  <code>filterWhere()</code> does this checking for you. <br><br><pre> <code class="php hljs">$query = User::find()-&gt;filterWhere([ <span class="hljs-string"><span class="hljs-string">'name'</span></span> =&gt; Yii::$app-&gt;request-&gt;get(<span class="hljs-string"><span class="hljs-string">'name'</span></span>), <span class="hljs-string"><span class="hljs-string">'email'</span></span> =&gt; Yii::$app-&gt;request-&gt;get(<span class="hljs-string"><span class="hljs-string">'email'</span></span>), ]);</code> </pre><br><br><h6>  Batch requests </h6><br><br>  We added support for batch requests for working with large amounts of data.  When using this feature, we get the data in chunks, but not immediately.  This saves memory.  For example: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">yii</span></span>\<span class="hljs-title"><span class="hljs-title">db</span></span>\<span class="hljs-title"><span class="hljs-title">Query</span></span>; $query = (<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Query()) -&gt;from(<span class="hljs-string"><span class="hljs-string">'user'</span></span>) -&gt;orderBy(<span class="hljs-string"><span class="hljs-string">'id'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> ($query-&gt;batch() <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $users) { <span class="hljs-comment"><span class="hljs-comment">// $users ‚Äî   100      user } // ,         foreach ($query-&gt;each() as $user) { // $user ‚Äî      user }</span></span></code> </pre><br><br>  You can use batch requests with ActiveRecord: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//   10    foreach (Customer::find()-&gt;batch(10) as $customers) { // $customers ‚Äî  10    Customer } //   10   ,    foreach (Customer::find()-&gt;each(10) as $customer) { // $customer ‚Äî  Customer } //      foreach (Customer::find()-&gt;with('orders')-&gt;each() as $customer) { }</span></span></code> </pre><br><br><h6>  Subquery support </h6><br><br>  Support for subqueries has been added to the query builder.  You can create a subquery as a normal <code>Query</code> object and then use it in another <code>Query</code> : <br><br><pre> <code class="php hljs">$subQuery = (<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Query())-&gt;select(<span class="hljs-string"><span class="hljs-string">'id'</span></span>)-&gt;from(<span class="hljs-string"><span class="hljs-string">'user'</span></span>)-&gt;where(<span class="hljs-string"><span class="hljs-string">'status=1'</span></span>); $query-&gt;select(<span class="hljs-string"><span class="hljs-string">'*'</span></span>)-&gt;from([<span class="hljs-string"><span class="hljs-string">'u'</span></span> =&gt; $subQuery]);</code> </pre><br><br><h6>  Feedback </h6><br><br>  Links can often be declared in pairs.  For example, <code>Customer</code> may contain a <code>orders</code> link, in <code>Order</code> may contain a <code>customer</code> link.  In the example below, it can be noted that the <code>customer</code> order is not the same object as the original for <br>  who are looking for orders.  Calling <code>customer-&gt;orders</code> will lead to a new SQL request as well as calling <code>customer</code> order: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// SELECT * FROM customer WHERE id=1 $customer = Customer::findOne(1); // echoes "not equal" // SELECT * FROM order WHERE customer_id=1 // SELECT * FROM customer WHERE id=1 if ($customer-&gt;orders[0]-&gt;customer === $customer) { echo 'equal'; } else { echo 'not equal'; }</span></span></code> </pre><br><br>  To avoid unnecessary SQL inquiries, you can provide feedback for <code>customer</code> and <code>orders</code> relationships.  This is done using the <code>inverseOf()</code> method: <br><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Customer</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ActiveRecord</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ... public function getOrders() { return $this-&gt;hasMany(Order::className(), ['customer_id' =&gt; 'id'])-&gt;inverseOf('customer'); } }</span></span></code> </pre><br><br>  Now, if we execute the above code again, we get the following: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// SELECT * FROM customer WHERE id=1 $customer = Customer::findOne(1); // echoes "equal" // SELECT * FROM order WHERE customer_id=1 if ($customer-&gt;orders[0]-&gt;customer === $customer) { echo 'equal'; } else { echo 'not equal'; }</span></span></code> </pre><br><br><h6>  Uniform API for Relational Query </h6><br><br>  In Alpha 2.0 in ActiveRecord, we implemented support for both relational (for example, MySQL), <br>  and noSQL (for example, redis, elasticsearch, MongoDB) data stores.  In beta, we refactored this code and achieved greater uniformity of interfaces.  Namely, <code>ActiveRelation</code> was removed, and <code>ActiveQuery</code> became a single entry point for query execution and link description.  We also added the <code>ActiveRecord::findOne()</code> and <code>findAll()</code> methods. <br>  These methods allow you to query on keys or values ‚Äã‚Äãof columns using a short syntax.  Previously, this could be done with the parameters of the <code>ActiveRecord::find()</code> method, which caused confusion due to the method returning different data types. <br><br><h5>  AJAX support </h5><br><br>  We decided to use the excellent <a href="https://github.com/yiisoft/jquery-pjax">Pjax</a> library and created the <code>yii\widgets\Pjax</code> .  This is a generic widget that allows you to add AJAX to everything that is wrapped in it.  For example, you can wrap a <code>GridView</code> into it. <br>  In order to get paginated navigation and sorting without reloading the page: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">yii</span></span>\<span class="hljs-title"><span class="hljs-title">widgets</span></span>\<span class="hljs-title"><span class="hljs-title">Pjax</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">yii</span></span>\<span class="hljs-title"><span class="hljs-title">grid</span></span>\<span class="hljs-title"><span class="hljs-title">GridView</span></span>; Pjax::begin(); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> GridView::widget([ <span class="hljs-comment"><span class="hljs-comment">/*...*/</span></span> ]); Pjax::end();</code> </pre><br><br><h5>  Request and response </h5><br><br>  In addition to many internal fixes and improvements, the request and response components have undergone many changes.  The most noticeable is that working with request now looks like this: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//  GET   request,    ,   1 $page = Yii::$app-&gt;request-&gt;get('page', 1); //  POST   request,    ,   null $name = Yii::$app-&gt;request-&gt;post('name');</span></span></code> </pre><br><br>  Another fundamental change is that the response is now sent at the very end of the application, which allows you to modify the headers and body of the answer as you wish and where you want it. <br><br>  The request class is now able to parse the body of the request in various formats, such as JSON. <br><br><h5>  Filters </h5><br><br>  The whole filtering mechanism has been rethought.  Now you can enable filtering of actions at the controller level as well as at the application or module levels.  This allows you to organize hierarchical filters.  For example, you can set a filter for a module and it will be applied to all its actions.  In addition, you can install another filter on some module controllers.  This filter will be applied only to action th in these controllers. <br><br>  The code has been reorganized and the filters are now in the <code>yii\filters</code> namespace.  For example, you can use the filter <code>yii\filters\HttpBasicAtuh</code> to enable HTTP authentication Basic Auth.  To do this, it is described in the controller or module: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">behaviors</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [ <span class="hljs-string"><span class="hljs-string">'basicAuth'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'class'</span></span> =&gt; \yii\filters\auth\HttpBasicAuth::className(), <span class="hljs-string"><span class="hljs-string">'exclude'</span></span>=&gt; [<span class="hljs-string"><span class="hljs-string">'error'</span></span>], <span class="hljs-comment"><span class="hljs-comment">//    action "error" ], ]; }</span></span></code> </pre><br><br><h5>  Component initialization </h5><br><br>  We have introduced an important initialization step (‚Äúbootstrap‚Äù) into the application life cycle.  Extensions can register bootstrap classes by declaring them in <code>composer.json</code> .  A regular component can also be registered for bootstrap if declared in <code>Application::$bootstrap</code> . <br><br>  The bootstrap component will be installed before the application starts processing the request.  This enables the component to register event handlers and participate in the application life cycle. <br><br><h5>  Work with URL </h5><br><br>  Since the developers work a lot with URLs, we took out most of the URL-related methods to the <code>Url</code> helper and got a more pleasant API: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">yii</span></span>\<span class="hljs-title"><span class="hljs-title">helpers</span></span>\<span class="hljs-title"><span class="hljs-title">Url</span></span>; <span class="hljs-comment"><span class="hljs-comment">//    // : /index.php?r=management/default/users echo Url::to(''); //   ,  action // : /index.php?r=management/default/page&amp;id=contact echo Url::toRoute(['page', 'id' =&gt; 'contact']); //   ,    action // : /index.php?r=management/post/index echo Url::toRoute('post/index'); //      ,     // : /index.php?r=site/index echo Url::toRoute('/site/index'); // url    `actionHiTech`   // : /index.php?r=management/default/hi-tech echo Url::toRoute('hi-tech'); // url  action     , `DateTimeController::actionFastForward` // : /index.php?r=date-time/fast-forward&amp;id=105 echo Url::toRoute(['/date-time/fast-forward', 'id' =&gt; 105]); //  URL  alias Yii::setAlias('@google', 'http://google.com/'); echo Url::to('@google/?q=yii'); //   URL    // : /index.php?r=management/default/users echo Url::canonical(); //   URL // : /index.php?r=site/index echo Url::home(); Url::remember(); //  URL Url::previous(); //   URL</span></span></code> </pre><br><br>  The URL rules also have improvements.  You can use the new <code>yii\web\GroupUrlRule</code> class to group the rules.  For each group, you can set a common prefix that will be applied to all URLs in the group. <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GroupUrlRule([ <span class="hljs-string"><span class="hljs-string">'prefix'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'admin'</span></span>, <span class="hljs-string"><span class="hljs-string">'rules'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'login'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'user/login'</span></span>, <span class="hljs-string"><span class="hljs-string">'logout'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'user/logout'</span></span>, <span class="hljs-string"><span class="hljs-string">'dashboard'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'default/dashboard'</span></span>, ], ]); <span class="hljs-comment"><span class="hljs-comment">//    : [ 'admin/login' =&gt; 'admin/user/login', 'admin/logout' =&gt; 'admin/user/logout', 'admin/dashboard' =&gt; 'admin/default/dashboard', ]</span></span></code> </pre><br><br><h5>  Role Based Access Control (RBAC) </h5><br><br>  We redid the RBAC implementation.  Now it is based on the original NIST RBAC model, namely, we threw out the concept of <b>operations</b> and <b>tasks</b> .  Instead, they now have <b>permissions</b> , which corresponds to the NIST term. <br><br>  As mentioned above, the redesign has comprehended and biz rule.  Now the rules are described in separate classes. <br><br><h5>  Translations </h5><br><br>  First we want to say thanks to all members of the community who participated in the translation of the framework messages.  At the moment they are translated into 26 languages.  Good number, right? <br><br>  The message translation component now attempts to retrieve messages from an alternate source if the used one does not contain the desired message.  For example, if your application uses <code>fr-CA</code> as a language, and translations are only for <code>fr</code> , then Yii will first look for a translation in <code>fr-CA</code> and, if it is not found there, the search will continue in <code>fr</code> . <br><br>  A new option has been added to the Gii code generator that allows you to generate code with messages wrapped in <code>Yii::t()</code> . <br><br>  The command to search for messages for translation has learned to write lines in <code>.po</code> and databases. <br><br><h5>  Extensions and tools </h5><br><br>  We have implemented an extension of the <code>yii2-apidoc</code> documentation generator, which can be used to create API documentation and main documentation from markdown.  The generator is easily customized and expands to your needs.  We use it to generate official documentation and an API.  You can see the result here: <a href="http://www.yiiframework.com/doc-2.0/">http://www.yiiframework.com/doc-2.0/</a> . <br><br>  Debagger has received many minor improvements and a mail debug panel.  He also learned how to show the number of queries to the database and the number of sent letters in the toolbar. <br><br>  In addition to the improvements in the translations mentioned above, a new extension generator has been added to Gii.  In addition, you may notice improvements in the preview of the generated code.  You can quickly switch between files and update the diff, including from the keyboard.  Also, now when copying paste from diff, nothing superfluous gets into the buffer. <br>  Try it! <br><br><h4>  Thank! </h4><br><br>  The beta version of Yii 2.0 is a major milestone that has been achieved through great joint efforts.  We would not have succeeded without a <a href="https://github.com/yiisoft/yii2/graphs/contributors">huge amount of valuable code received from our wonderful community</a> . <br>  Thank you for the fact that this release took place. </div><p>Source: <a href="https://habr.com/ru/post/219329/">https://habr.com/ru/post/219329/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../219311/index.html">What is a Tomita-parser, how Yandex understands natural language with its help, and how you can use it to extract facts from texts</a></li>
<li><a href="../219315/index.html">Charger from body heat</a></li>
<li><a href="../219317/index.html">Choose LTE2600 or LTE1800 from the position of the operator</a></li>
<li><a href="../219325/index.html">New technology for dating a child before conception</a></li>
<li><a href="../219327/index.html">VSDCT on OpenGL ES 3</a></li>
<li><a href="../219331/index.html">DARPA turns obsolete drones into flying Wi-Fi access points</a></li>
<li><a href="../219333/index.html">Approximation of the curve in the boom trajectory for the game St.Val</a></li>
<li><a href="../219335/index.html">What else does Heartbleed threaten a simple user with?</a></li>
<li><a href="../219337/index.html">Harmonic vibrations</a></li>
<li><a href="../219339/index.html">Building Global Innovators or do you need 1 million euros?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>