<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Review of Quanta servers: interesting solutions, rack-sized blade baskets, microserver hives and HPC farms</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Tray with disks leaves the enclosure, and the server remains in the rack 

 In the server market, finding something new is a great success, because mo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Review of Quanta servers: interesting solutions, rack-sized blade baskets, microserver hives and HPC farms</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/e6a/1fd/6e7/e6a1fd6e7a8b407194545d5544a50369.jpeg"><br>  <i>Tray with disks leaves the enclosure, and the server remains in the rack</i> <br><br>  In the server market, finding something new is a great success, because most of the evolution revolves around known technologies, simply making them stronger, higher, faster and cheaper.  When the Quanta servers were brought to us, I waited for everything familiar, but with a different interface.  However, the glands that were brought to CROC for testing were able to surprise me. <br><br><img src="https://habrastorage.org/files/551/f88/40b/551f8840b19e4275bc38cd33dbc2f5f6.jpeg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The first surprise was thin SSD-drives "in the ass" servers, they are convenient to use for the OS or data caching.  The second is that on one of the models the receivers for HDD conveniently leaving the server.  Well, there are also a lot of different little things that speak about a really thought-out assembly, in which, it seems, not only the manufacturer‚Äôs engineering brain was involved, but also people who know firsthand how to administer farms and data centers.  As you review, I'll show some more examples. <br><br>  It is noteworthy that Quanta did not release clones of what is on the market.  I will begin with a story about unusual models, then I will tell you more about the arrived iron.  Conclusions, as always, at the end. <br><a name="habracut"></a><br><h2>  Interesting stuff </h2><br><img src="https://habrastorage.org/files/87d/be5/63d/87dbe563d5f14e2f8c879a54fadcacc1.jpeg"><br>  <i>Folded handles on the switches and the same on the power supply</i> <i><br></i> <br><br><img src="https://habrastorage.org/files/8a6/689/c13/8a6689c13d614ecaa31c0aa93c34f611.jpeg"><br>  <i>Management of 2 nodes of the multi-mode server from one muzzle</i> <br><br><img src="https://habrastorage.org/files/29f/df8/1ba/29fdf81ba88e4c0289aa335eb33932fd.jpeg"><br>  <i>Convenient replacement of coolers, all instructions are attached.</i> <br><br><img src="https://habrastorage.org/files/f74/18b/9ea/f7418b9ea1044073b8e9477e6f916244.jpeg"><br>  <i>Usually the server has a one-piece cover; when it is opened, the server may overheat.</i>  <i>In the case of Quant, the server cover is divided into segments</i> <i><br></i> <br><br><img src="https://habrastorage.org/files/ede/f55/38d/edef5538da0e4208b2c94376887b05bd.jpeg"><br>  <i>Latches to hold cables on power supplies</i> <br><br><h2>  Now let's take a look at the Quanta servers themselves. </h2><br>  There are several groups of technical features and purpose.  Also for server hardware there are two types of additional software: <ul><li>  Quanta System Manager (QSM) is a data center management system with an intuitive graphical interface.  In fact - the management system iron Quanta. </li><li>  Quanta Datacenter Manager is a Quanta System Manager with additional features.  It can not only control the iron, but also receive information from various sensors, make changes to the work of external systems, such as air conditioning.  Due to this, it is supposed to optimize the cost of electricity, to work properly with cooling, etc. </li></ul><br><br>  On sale QuantaGrid and QuantaPlex - new modern models.  STRATOS is an old iron, you can hardly buy it in Russia. <br><br><img src="https://habrastorage.org/files/6a1/135/b04/6a1135b0471a4ec6a0a1c44d393205a5.jpeg"><br>  <i>Server rack with Quanta equipment</i> <br><br><h3>  Standard rack servers </h3><br>  Yes, there is in the line and such.  These are the variants of hardware that will cover 90% of the client's needs, standard workhorses.  Servers are made in 1U / 2U / 4U form factor, rack-mount version.  Built on Intel x86 base.  A wide choice of components, such as mezzanine cards and RAID controllers, various options for disk configuration (3.5 or 2.5 inch drives).  For some models, it is possible to install NVMe PCIe SSD cards with the possibility of hot-swappable.  NVMe is a special protocol that is designed to work with SSD carriers, contains a bunch of optimizations and improvements.  It provides better performance and minimal response time for SSD drives through the use of a new set of commands and a queue processing mechanism optimized for work with modern multi-core processors. <br><br>  Many servers, in addition to the disks on the front panel, have 2‚Äì4 additional slots for SSD disks.  Disks can be combined into a raid.  They are convenient to use for the OS or for data caching.  The disks are very thin (about 2 times thinner than 2.5-inch disks), they are often placed on the back of the server.  It looks like this: <br><br><img src="https://habrastorage.org/files/8ee/918/c3c/8ee918c3c85941a39427b5d8aebcd1d8.jpeg"><br><br><h3>  GPGPU servers </h3><br>  These are the same rack-mount servers.  Their key difference is the presence of one or several GPU / Xeon Phi GPU accelerators.  The main function of a GPU is HPC computing.  While the CPU includes several cores optimized for serial data processing, the GPU consists of thousands of smaller and more energy efficient cores created for processing several tasks simultaneously.  It contains a larger than CPU, memory, but not so fast, and a huge number of execution units.  In fact, the work of the GPU is reduced to operating with a huge number of independent tasks.  Thus, the servers of this series are ideal for tasks such as: <br><ul><li>  HPC (High Performance Computing) / technical computing (various mathematical parallel / distributed computing, of course, the application code must be written taking into account the calculation of data on GPGPU); </li><li>  3D Rendering. </li></ul><br><br><h3>  Microservers </h3><br>  This solution contains a large number of computation nodes in a relatively small number of units.  At the same time, a high CPU and memory density per unit in a rack is achieved.  It can contain up to 24 nodes in 3 units, in each node you can install 2 or 4 disks (depending on the server model) for the OS.  Disks can be combined into a raid.  It looks like this: <br><br><img src="https://habrastorage.org/files/8cb/f1d/28c/8cbf1d28c71646ad9821be90d74e8ad6.png"><img src="https://habrastorage.org/files/8f9/607/3ce/8f96073cef224fd6baeea233f35d994d.png"><br>  <i>Models for 12 and 9 nodes in 3 units</i> <br><br>  The server is great for: <br><ul><li>  dedicated hosting; </li><li>  cloud computing; </li><li>  big data processing; </li><li>  content delivery networks; </li><li>  as a server for hosting a web front end. </li></ul><br><br><h3>  Multisite servers (cluster in box) </h3><br>  Multisite servers are 2 or 4 servers in one 2U package.  High density and a single power supply allow you to save space in racks and electricity for power and cooling of iron.  In cluster configurations, the disks in the front of the server are visible to 2 nodes simultaneously.  Servers are perfect for: <br><ul><li>  implementations of 2-node clusters and clusters from a larger number of nodes (search and contextual mechanisms of many high-powered websites); </li><li>  virtualization (VMware, Microsoft, etc.); </li><li>  solutions under Hadoop; </li><li>  customers who need the maximum density of computing resources per 1U server rack; </li><li>  energy savings. </li></ul><br><br><h3>  Storage Servers </h3><br>  These are servers with maximum disk density per unit.  Many models, the essence is one.  Here are some examples: <ul><li>  QuantaPlex T21P-4U - holds up to 78 3.5-inch disks and 2 SSD-disks for the OS.  In the rack takes 4 units.  The server is designed for installation in a deep rack.  From the standard rack will stick up the back. </li><li>  QuantaGrid D51PH-1ULH is a server with 12 3.5-inch drives and 4 SSDs.  In the rack takes 1 unit.  The server is slightly longer than standard servers, but replacing all hot-plug components is done without pulling out of the rack.  ‚ÄúHow can I change 12 discs?‚Äù You ask.  And this is how I showed at the very top: </li></ul><br><br><img src="https://habrastorage.org/files/cb9/984/e99/cb9984e9977a431781f6b889f02afa0c.jpeg"><br>  <i>Server in rack, tray in our hands</i> <br>  Nowadays, SDS solutions are becoming more and more popular in the data storage market, so in addition to the obvious ways to use these servers, this line is an excellent candidate for SDS solutions. <br><br><h3>  Storage System Elements (JBOD) </h3><br>  There are few models presented, but they turned out to be very competitive in price.  In my opinion, it is worth highlighting JBOD QuantaVault JB4242 with 32 disks installed from the front and back of the server and QuantaVault JB4602 with 60 disks of vertical loading.  Both JBODs are made in the 4U form factor. <br><br><img src="https://habrastorage.org/files/552/60d/e0c/55260de0c7924d06baa3bc959b0d1c4c.png"><br>  <i>QuantaVault JB4602</i> <br><br><h3>  Network switches </h3><br>  Quanta offers a rich selection of Bare Metal switches with 1G / 10G Ethernet ports.  There are models with uplinks 40G.  The switch line covers all customer needs: from entry-level switches with 1G ports to Top-of-Rack switches.  Bare Metal is bare metal.  There is no OS inside.  Various options can be found on the Quanta website or downloaded from the websites of companies that develop such Firmware. <br>  Naturally, bare iron is not interesting for all customers, so Quanta also offers models with pre-installed OS.  Such that stuck - and works. <br><br><h3>  QCT Rackgo </h3><br>  QCT Rackgo, a solution based on Microsoft‚Äôs OCP Open Cloud Server (OCS) specifications, is innovative for running business applications built to integrate server, data storage and networking functionality with data exchange technologies and efficient management. <br><br>  It looks like a 42-unit rack with power supplies and cooling, but there is also a half version (probably, it is supposed to be used for remote offices).  Blades that do not have their own power supply or cooler are inserted into the rack.  There is a storage blade (JBOD), a data processing blade and network switches.  In essence, this solution is one big blade chassis.  Energy saving declared by the manufacturer - 35%. <br><br>  By the way, the manufacturer states that the QCT Rackgo can be cooled with air from the street without it being pre-cooled (in fact, take it outside and return to the same place).  Thus, additional savings are possible on the cooling of iron.  The solution is great for new projects that require a large amount of computing and storage resources, as well as for projects that imply the rapid growth of hardware components. <br><br><h2>  Testing equipment </h2><br>  CROC delivered several models of server hardware for testing.  Here is a list: <br><ul><li>  QuantaPlex T21P-4U; </li><li>  QuantaGrid D51PH-1ULH-1U Server; </li><li>  network switch QuantaMesh T3048-IZ1. </li></ul><br>  In the future, I will discuss in more detail about each of them, but first ... <br><br><h2>  General impressions </h2><br>  The servers are solid, no burrs and loose wires.  All iron looks logical and harmonious, easy to open and disassemble.  It's nice to work with him. <br>  Each server has a remote control console.  It can work both through a separate network port, and fumble network ports for data from the OS.  This functionality allows reducing the number of commutation inside the rack and freeing the network ports in the switches.  In terms of functionality, the console is no different from similar consoles from other vendors.  It works smartly, without brakes.  It is possible to update the BIOS and IMM from the same console, and not from the boot disk. <br><br>  The OS is installed using the Universal Deployment Kit boot disk.  I was surprised by the list of supported OS: <br><ul><li>  Windows 2008 R2 \ 2012 \ 2012 R2; </li><li>  Rhel 6.5 &amp; 7; </li><li>  Sles 11 SP3; </li><li>  Ubuntu 14.04 &amp; 14.04.1. </li></ul><br><br>  Where, I ask, everything else? <br><br>  In fact, the list of supported OS (those that can be installed on the server) is much wider, but they have to be installed as-is, adding drivers after installing the OS.  The manufacturer's website has a section with drivers for Linux / Window / ESX, from there you can download everything you need.  In the lab, we used the latest versions of Ubuntu and SLES, it worked fine. <br><br>  The site has very little documentation.  Virtually nothing but datasheet.  This causes some inconvenience.  To merge additional SSD disks into raid, I had to write to the manufacturer.  It turned out that in order to get this opportunity, you need to get into the BIOS and change a couple of settings.  Then everything is obvious.  How, interestingly, do people find it without documentation? <br>  Now in more detail for each server: <br><br><h3>  QuantaPlex T21P-4U </h3><br>  This is a 4-unit server, available in several configurations. <br><ul><li>  node and 78 drives; </li><li>  2 nodes and 70 disks.  2nd node and tray on 8 disks are interchangeable components, each server has 35 disks available. </li></ul><br>  In each node, you can additionally put on 2 SSD-disk hot plug.  Disks are combined in Raid1.  It is convenient to place a guest OS on these disks. <br>  The disk controller allows you to create only 2 Raid groups, which is small for 70 disks, so disks should be collected in a Raid group at the software level. <br>  The length of the server corresponds to the length of the standard rack, the sleeve is already sticking out of it.  Thus, the server is designed for installation in a deep rack. <br>  QuantaPlex T21P-4U can be used for any tasks that require a large number of disks.  It may be: <br><ul><li>  archival storage; </li><li>  CCTV; </li><li>  file storage; </li><li>  SDS and distributed data storage (CEPH or EMC ScaleIO). </li></ul><br><img src="https://habrastorage.org/files/fef/b46/b2f/fefb46b2ff0a4366b4f8dcde0ab8cb14.jpeg"><br><h3>  QuantaGrid D51PH-1ULH-1U </h3><br>  The server occupies 1 unit.  As in the previous model, its length corresponds to the length of the rack, but all the hot-plug components of this server can be changed without getting it from the rack.  Thus, it does not need a sleeve, and the server can be installed in a standard rack. <br><br>  The server has 12 3.5-inch disks and 4 SSD disks.  Raid controller supports various types of Raid groups.  A tray with 3.5-inch disks extends from the front of the server. <br><br>  The server is well suited for SDS and distributed data storage (CEPH or EMC ScaleIO), for storing and processing large data (Hadoop). <br><br><h3>  Network switch QuantaMesh T3048-IZ1 </h3><br>  To us for testing, in addition to server hardware, we also received network, namely QuantaMesh T3048-IZ1.  The solution is interesting and stands out from the general system, but first things first. <br><br>  This is how the switches look from the front: <br><br><img src="https://habrastorage.org/files/68b/d31/81f/68bd3181f9974c66a48a368847e97d21.jpeg"><br>  And so back: <br><br><img src="https://habrastorage.org/files/ee4/1b7/5f2/ee41b75f23c941e8b6c897ad81ccfb56.jpeg"><br>  Everything is collected qualitatively and soundly.  Note the cable holders and knobs on the front panel - a trifle, but nice. <br>  But the most interesting, of course, inside the switch.  It was built on the Intel ONP (Open Network Platform) platform - this is an open reference design for high-performance network platforms and data centers, which was laid out with thoughts about SDN (Software Defined Networking) and NFV (Network Functions Virtualization). <br>  This means that this switch at the hardware level supports OpenFlow packets and is ready to work with Open vSwitch. <br>  Note that the platform itself Intel ONP appeared for good reason and is an attempt to press Broadcom, which now feels great in the network segment. <br>  Since the solution is standardized, then in any Intel ONP switch you will find the Intel Ethernet Switch Switch Matrix FM6000 and the server part based on the x86 processor.  Intel Ethernet Switch FM6764 and Intel Core i3-2115C with 2 GB DDR3 and 32GB SSD work side by side in our switch.  This configuration provides a bandwidth of 1.28 Tb / s or 960 million packets / s with a delay of &lt;1 Œºs, while we get 48 ports of 1 / 10GbE SFP + and 4 ports of 10 / 40GbE QSFP +. <br>  Having told about iron, we will pass to software.  Intel has come here thoroughly and has developed a whole Intel ONS (Open Network Software) platform, which is based on Wind River Linux.  This operating system is interesting in that it has a real-time core and advanced network interfaces with increased speed of operation. <br>  Wind River itself was recently purchased by Intel and deals exclusively with real-time operating systems, as an example of their work - the OS of the Curiosity rover, so there is no reason not to trust such OS.  SDK and API are released for the platform itself, as well as various debugging utilities, which will allow you to customize the OS for yourself or add some additional features up to your own protocols.  If this is not enough, then the open loader is installed on the switch itself, and thanks to the x86 architecture, any other OS is available. <br>  Separately, we list the available options: <br><br><table><tbody><tr><th>  Level </th><th>  Opportunities </th></tr><tr><td>  L2 </td><td>  Port-based VLAN, 802.1Q VLAN, IGMP snooping, LACP, Storm Control, STP / RSTP / MSTP, Q-in-Q, QoS / DiffServ, L2 / L3 / L4 ACL, LLDP (802.1ab) </td></tr><tr><td>  L3 </td><td>  VLAN routing, OSPF, ECMP, ARP, IGMP, PIM-SM, VRRP, OSPF, BGP </td></tr><tr><td>  At the data center level </td><td>  802.1Qaz (ETS), 802.1Qbb (PFC), DCBX, VM Tracer, EVB / 802.1Qbg, OpenFlow v1.0, VXLAN, NVGRE </td></tr></tbody></table><br><br><h2>  Cost of </h2><br>  It is clear that the price can not be considered at all and never, it is clear that the servers for different tasks are different.  But I will comment that in specialized cases (microservers, GPU trusses, disk trusses), Quanta is cheaper by 10‚Äì15 percent of its analogues, in other variants at parity or slightly more expensive than the same HP / DELL / Huawei. <br><br>  Useful links: <br><ul><li>  QCT Product Portfolio - <a href="https://dl.dropboxusercontent.com/u/2615228/Report/QCT_Habr/QCT%2520Product%2520Portfolio_RU_v6_0.pdf">Russian version</a> ; </li><li>  QCT Product Portfolio - <a href="https://dl.dropboxusercontent.com/u/2615228/Report/QCT_Habr/QCT%2520Product%2520Portfolio_06032016-v8.1Fs.pdf">full English version</a> . </li><li>  My mail is RPokruchin@croc.ru </li></ul></div><p>Source: <a href="https://habr.com/ru/post/305014/">https://habr.com/ru/post/305014/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../304988/index.html">Signals and slots in PHP. Same as in Qt. Almost</a></li>
<li><a href="../304998/index.html">We play mp3 in our program and what can prevent it</a></li>
<li><a href="../305000/index.html">We are looking for vulnerabilities in code: theory, practice and prospects of SAST</a></li>
<li><a href="../305002/index.html">CMYK closed-loop search algorithm on a two-dimensional matrix</a></li>
<li><a href="../305006/index.html">Wired: How blockchain threatens the financial market, and why companies on Wall Street develop this technology</a></li>
<li><a href="../305016/index.html">Differences in the modeling of planned and actual operations</a></li>
<li><a href="../305018/index.html">Functors (chapter of the book "Category Theory for Programmers")</a></li>
<li><a href="../305022/index.html">How to work correctly with virtual machine snapshots</a></li>
<li><a href="../305026/index.html">Kaggle: A story about how we learned to predict the relevance of search queries and took 3rd place</a></li>
<li><a href="../305034/index.html">Changes in data centers: Technological solutions</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>