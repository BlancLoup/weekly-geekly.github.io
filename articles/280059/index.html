<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Model alignment: what you need to know about creating strategies for trading on the exchange. Part II</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On Habr√© and in the analytical section of our site, we write a lot about financial market trends and continue to publish a series of materials on crea...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Model alignment: what you need to know about creating strategies for trading on the exchange. Part II</h1><div class="post__text post__text-html js-mediator-article"> <a href="https://habrahabr.ru/company/itinvest/blog/280059/"><img src="https://habrastorage.org/files/53d/0bb/fe3/53d0bbfe3c8144f599e09d6dbd5c7de6.jpg"></a> <br><br>  On Habr√© and in the <a href="http://www.itinvest.ru/analytics/">analytical section of our site,</a> we write a lot about financial market trends and continue to publish a series of materials on creating strategies for trading on the stock exchange, based on the articles of the author of the blog Financial Hacker.  In the past <a href="https://habrahabr.ru/company/itinvest/blog/279321/">,</a> we talked about the use of market inefficiencies on the example of a history with a price limit for the Swiss franc.  This time, the author of the blog Financial Hacker decided to understand how the strategies focused on a particular model look like.  We present to your attention the main theses of the <a href="http://www.financial-hacker.com/build-better-strategies-part-2-model-based-systems/">second article</a> in the series. <a name="habracut"></a><br><br>  As mentioned last time, there are two main methods for building online trading strategies.  The first is focused on a specific model (model-based), the second - on data mining (data-mining).  Today we will talk about the first option.  The algorithms built on its basis are surprisingly simple.  But the process of creating them has its own pitfalls (otherwise everyone would feel like they were all too lazy).  Even the obvious inefficiency of the market gives the system only a small gap, which can be penetrated with its own algorithm.  And the most trifling mistake in his writing will turn a winning strategy into failure.  And this failure can not always be seen on the trial run. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      First you need to choose one of the market inefficiencies that the trader wants to use in his strategy.  Inefficiency produces a price anomaly or price pattern that can be described using a quantitative or qualitative model.  This model is designed to predict the current price y <sub>t</sub> , based on the previous value of the price y <sub>t-1</sub> , to which is added some function f from a limited number of previous values, plus a noise variable Œµ. <br><br><img src="https://habrastorage.org/files/f64/d53/7b0/f64d537b0cff48a889e807de3dbb0442.png"><br><br>  Obviously, the higher the value of the predictable function in front of unpredictable noise, the more reliable the strategy.  Some traders like to say that their method does not predict the behavior of the market, but "reacts to its changes."  But systems that are not based on market forecasting should definitely count on luck.  They only redistribute the risks.  Change, for example, the high risk of small losses tolerable by large losses.  But the probability of profit remains negative. <br><br>  Not all price abnormalities are usable.  The 1/16 dollar quotes limit is an obvious inefficiency, but the author honestly admits that he does not understand how it can be used for profit.  However, working strategies based on models known to him can be divided into several categories.  About each of them in order. <br><br><h4>  Following the trend </h4><br>  Momentum or price change dynamics - perhaps the most obvious and most frequently used anomaly.  There are many methods of following a trend strategy.  The classic version is the intersection of moving averages (moving average crossover).  <a href="http://www.financial-hacker.com/hackers-tools-zorro-and-r/">Under the link</a> you can see the scripts for it on R and C. <br><br>  There is one problem: momentum does not work in all markets all the time.  Any assets may not trade for a long period.  Random deviation may be positive or negative, but the momentum itself may be absent.  Be that as it may, there is an undoubted advantage in the filter that identifies the real market mode.  Here is an example of using a low pass filter to detect a reverse trend in a strategy written in the Zorro scripting language.  The MMI indicator is needed to capture the moment of entry into the trend. <br><br><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">function </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">run</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ vars Price = series(price()); vars Trend = series(LowPass(Price,<span class="hljs-number"><span class="hljs-number">500</span></span>)); vars MMI_Raw = series(MMI(Price,<span class="hljs-number"><span class="hljs-number">300</span></span>)); vars MMI_Smooth = series(LowPass(MMI_Raw,<span class="hljs-number"><span class="hljs-number">500</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(falling(MMI_Smooth)) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(valley(Trend)) reverseLong(<span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(peak(Trend)) reverseShort(<span class="hljs-number"><span class="hljs-number">1</span></span>); } }</code> </pre> <br>  The income curve of this strategy: <br><br><img src="https://habrastorage.org/files/0c0/431/56f/0c043156f7b344e8a007b0200350fa9f.png"><br><br><h4>  Return to average (mean reversion) </h4><br>  Believing that the market returns to a mean value implies a ‚Äúreal‚Äù or ‚Äúfair‚Äù price.  Traders buy when the current price is lower than what they think should be.  And sell at a higher value.  This, allegedly, causes the price to return to the average value more often than would have happened with random deviations.  There is evidence that a return to the average occurs in 75% of cases (some of the pros <a href="http://www.financial-hacker.com/the-market-meanness-index/">are listed here</a> in English).  Therefore, everything above 75% should be related to market inefficiency.  Calculation model: <br><br><img src="https://habrastorage.org/files/b97/53c/ff5/b9753cff51564317b0166cf4a25366ea.png"><br>  , <br><br>  Where y <sub>t</sub> , is the price on the scale t, y <sup>^</sup> is the fair price, Œª is the <a href="http://financial-dictionary.thefreedictionary.com/half-life">half-life factor</a> ( <a href="http://financial-dictionary.thefreedictionary.com/half-life">half-life factor</a> ), Œµ is the noise. <br><br>  The higher the half-life factor, the less likely it is to return to the average.  Usually the average value in the price series is reached in the range from 50 to 200 bars.  Œª can be calculated through a linear regression between y <sub>t-1</sub> and (y <sub>t-1</sub> -y <sub>t</sub> ).  To achieve an average value, price series may not be static because the fair price is free to change.  Just this change should be less significant than in the case of random deviation.  Usually, a return to the average is used by removing the trend from the price curve and normalizing the final result.  Thus, we get a swing signal that will trigger trades when the upper or lower values ‚Äã‚Äãare reached.  Here is a simple system script using this method: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">function </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">run</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ vars Price = series(price()); vars Filtered = series(HighPass(Price,<span class="hljs-number"><span class="hljs-number">30</span></span>)); vars Signal = series(FisherN(Filtered,<span class="hljs-number"><span class="hljs-number">500</span></span>)); var Threshold = <span class="hljs-number"><span class="hljs-number">1.0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(Hurst(Price,<span class="hljs-number"><span class="hljs-number">500</span></span>) &lt; <span class="hljs-number"><span class="hljs-number">0.5</span></span>) { <span class="hljs-comment"><span class="hljs-comment">// do we have mean reversion? if(crossUnder(Signal,-Threshold)) reverseLong(1); else if(crossOver(Signal,Threshold)) reverseShort(1); } }</span></span></code> </pre><br>  The high-pass filter attenuates the effect of all cycles with a value of more than 30 cycles, thus eliminating the trend from the price curve.  The result is normalized through the Fisher transform, which leads to the Gaussian distribution.  This allows you to define fixed boundaries of values ‚Äã‚Äãat 1 and -1, in order to separate the "tail" of the normal distribution.  When the price reaches the fraction in any direction, a trade is initiated in the expectation that it will return to normal values ‚Äã‚Äãin the near future.  To enter the mode of returning to the average values, the Hearst indicator set at a value of 0.5 for random deviation is used in the script. <br><br><img src="https://habrastorage.org/files/a71/662/f61/a71662f614c947b1938538f0d57f6be3.png"><br><br><h4>  Statistical arbitration </h4><br>  The strategy can be used similarity of two or more assets.  This allows you to hedge the first asset through the reverse position in the second.  Profit arises from the return to the average value of the difference in their prices. <br><br><img src="https://habrastorage.org/files/98a/e0f/fda/98ae0ffdac06482e96ab2447be5610ce.png"><br>  , <br>  Where y <sub>1</sub> and y <sub>2</sub> are the prices of two assets, the coefficients h <sub>1</sub> and h <sub>2</sub> determine the ratio for hedging.  They are calculated on the assumption that the difference between the value of the assets is zero or is a constant.  The easiest way to calculate is linear regression between y <sub>1</sub> and y <sub>2</sub> .  Further, here we can also apply the strategy of returning to the mean values, which we analyzed above. <br><br>  It is clear that assets must be of the same type.  The standard arbitration system can be based on the price difference of the ETF index and its main shares.  If y is not static, that is, its average value changes slowly, the hedging factor can be applied for real-time compensation. <br><br>  Here is a simple example of an arbitration system from an <a href="http://manual.zorro-project.com/Lecture4.htm">R tutorial</a> : <br><br><pre> <code class="cpp hljs">require(quantmod) symbols &lt;- c(<span class="hljs-string"><span class="hljs-string">"AAPL"</span></span>, <span class="hljs-string"><span class="hljs-string">"QQQ"</span></span>) getSymbols(symbols) <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> training set startT </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;- "2007-01-01" endT &lt;- "2009-01-01" rangeT &lt;- paste(startT,"::",endT,sep ="") tAAPL &lt;- AAPL[,6][rangeT] tQQQ &lt;- QQQ[,6][rangeT] #compute price differences on in-sample data pdtAAPL &lt;- diff(tAAPL)[-1] pdtQQQ &lt;- diff(tQQQ)[-1] #build the model model &lt;- lm(pdtAAPL ~ pdtQQQ - 1) #extract the hedge ratio (h1 is assumed 1) h2 &lt;- as.numeric(model$coefficients[1]) #spread price (in-sample) spreadT &lt;- tAAPL - h2 * tQQQ #compute statistics of the spread meanT &lt;- as.numeric(mean(spreadT,na.rm=TRUE)) sdT &lt;- as.numeric(sd(spreadT,na.rm=TRUE)) upperThr &lt;- meanT + 1 * sdT lowerThr &lt;- meanT - 1 * sdT #run in-sample test spreadL &lt;- length(spreadT) pricesB &lt;- c(rep(NA,spreadL)) pricesS &lt;- c(rep(NA,spreadL)) sp &lt;- as.numeric(spreadT) tradeQty &lt;- 100 totalP &lt;- 0 for(i in 1:spreadL) { spTemp &lt;- sp[i] if(spTemp &lt; lowerThr) { if(totalP &lt;= 0){ totalP &lt;- totalP + tradeQty pricesB[i] &lt;- spTemp } } else if(spTemp &gt; upperThr) { if(totalP &gt;= 0){ totalP &lt;- totalP - tradeQty pricesS[i] &lt;- spTemp } } }</span></span></span></span></code> </pre><br><h4>  Price limits </h4><br>  Price constraints cause steady price drift or set its maximum lower or upper values.  The most famous example here is the EUR / CHF (Euro / Franc) story, which we talked about in detail last time.  But even after the cancellation of the limit, the restrictions in the pair remained.  This time they were due not to the policy of the Swiss Central Bank, but to a serious asymmetry in the purchasing power of each of the currencies.  Such things can be used in a trading strategy.  Usually they give high returns in short periods of time when using the grid. <br><br><h4>  Cycles </h4><br>  If we are not talking about seasonal cycles, then they can be caused by the inverse reaction of the price curve to the actions of traders.  When most players believe in some fair share price, they open positions on buying or selling, if the price reaches a certain value in case of deviation from this value.  Or they close out winning positions when the preferred dynamic starts to slow down.  Thus, a sufficient number of traders can synchronize their input-output cycles and cause steady price fluctuations over a certain period.  Often, many such cycles are superimposed on a curve.  For example: <br><br><img src="https://habrastorage.org/files/61d/653/4e5/61d6534e51ea4520a34efe553b7df85c.png"><br><br>  If you know the period C <sub>i</sub> and phase D <sub>i of the</sub> dominant cycle, the trader will be able to determine the optimal moments for opening and closing positions while the cycle itself is stable.  It is possible to determine the action of cycles through the functions of spectral analysis.  Well, for example, through a fast Fourier transform or through a set of bandpass filters.  Here is the frequency range for the euro / dollar pair for October 2015: <br><br><img src="https://habrastorage.org/files/cbe/dff/e7c/cbedffe7c00c4aeaace7351824bb8700.png"><br><br>  Dealing with cycles is harder than using a trend or a return to the average.  It is necessary to take into account not only the duration of the cycle, but also its phase and amplitude (in order to understand whether it is worth paying attention to it at all).  Here is an example of a basic script for this purpose: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">function </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">run</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ vars Price = series(price()); var Phase = DominantPhase(Price,<span class="hljs-number"><span class="hljs-number">10</span></span>); vars Signal = series(<span class="hljs-built_in"><span class="hljs-built_in">sin</span></span>(Phase+PI/<span class="hljs-number"><span class="hljs-number">4</span></span>)); vars Dominant = series(BandPass(Price,rDominantPeriod,<span class="hljs-number"><span class="hljs-number">1</span></span>)); ExitTime = <span class="hljs-number"><span class="hljs-number">10</span></span>*rDominantPeriod; var Threshold = <span class="hljs-number"><span class="hljs-number">1</span></span>*PIP; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(Amplitude(Dominant,<span class="hljs-number"><span class="hljs-number">100</span></span>) &gt; Threshold) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(valley(Signal)) reverseLong(<span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(peak(Signal)) reverseShort(<span class="hljs-number"><span class="hljs-number">1</span></span>); } }</code> </pre><br>  The <code>DominantPhase</code> function determines the phase and duration of the cycle of the main maximum in the spectrum.  It is designated by the variable <code>rDominantPeriod</code> .  The phase is converted to a sine wave shifted by the <code>œÄ/4</code> value.  So we get a curve that goes over the price curve.  The only question is whether the price will follow our forecasts.  We check this through bandpass filters centered on the dominant cycle on the price curve, and measure their amplitude (a <sub>i</sub> in the formula).  If the amplitude exceeds the limit value, then the cycle is sufficiently stable.  Since the cycles are short, the position opening time is limited to <code>ExitTime</code> with a maximum value of 10 cycles. <br><br><img src="https://habrastorage.org/files/939/663/d2a/939663d2ae01452a8d5998444871c9d1.png"><br><br>  This graph shows that for the euro / dollar pair in 2012 and 2014 there were no long periods where there were stable cycles. <br><br><h4>  Clusters </h4><br>  The same effect, which causes prices to fluctuate, can lead to their uniting into groups at certain levels.  In its extreme expression, it can even give the supply and demand lines (or support and resistance) - favorite objects of consideration at trading seminars.  Experts at such seminars can identify support and resistance lines on any diagrams, without thinking of clusters, whether they are real stocks or the results of the baseball season.  For all others, the evidence for the existence of these lines remains in question.  There are only a few strategies aimed at their identification and use.  Even less bring real income.  Theoretically, clusters on price curves can be detected using a histogram, similar to a spectrogram, that we used to identify cycles. <br><br><h4>  Price curve patterns </h4><br>  Such patterns have their origins in the recurring behavior of traders.  On the exchanges not only produce certain patterns, but also believe in the existence of such.  Most of them, for example, the famous ‚Äúhead and shoulders‚Äù, the figure of price movement in technical analysis, which, allegedly, predicts a change in trend, are myths.  At least, the author of the article has not met a single statistical confirmation of this pattern.  However, some patterns, such as "cup" (cup) and "half cup" (half-cup), do exist and can predict the movement of the curve down and up.  Curve patterns should not be confused with candlestick patterns.  In general, they can be exploited using template definition methods.  For example, <a href="http://zorro-project.com/manual/en/detect.htm">the Frechet algorithm</a> . <br><br>  A special case is the breakout pattern, denoting a sudden momentum after a long movement in narrow limits of values.  It can be caused, for example, by the desire of traders to place their stop loss orders at a short distance above or below the current plateau.  The first closing speeds up the price movement until more and more such closings are initiated.  This effect can be used by creating a system that captures a period of small fluctuations and goes into standby mode until the first movement in any direction. <br><br><h4>  Seasonality </h4><br>  Season in our case does not always mean the time of year.  Demand and supply can follow monthly, weekly patterns, or even patterns of the same day.  For example, the S &amp; P500 index, as is commonly believed, goes up in the first days of each month or at the beginning of the opening of trading daily.  Such things are easy to use for their own purposes.  But they are often short-lived, unreliable, they cannot be recognized simply by looking at the price curve.  But if you wish, for each day, month and week you can create your own profile of average price changes. <br><br><h4>  Gaps </h4><br>  If market participants have enough time to think about when to open or close a position, they often come to the same opinion.  Time to think about them appears at night and on weekends.  This may lead to the fact that when you open the auction, the starting price will be at a new level.  The price at the opening and after the weekend is more predictable than during the trading day.  This circumstance can also be used in the strategy. <br><br><h4>  Autoregression and heteroscedasticity </h4><br>  The last word means, according to Wikipedia, the heterogeneity of observations, which is expressed in the unequal (non-constant) variance of the random error of the regression (econometric) model.  Or in our case, the prices are changing convulsively, and these changes vary over time. <br><br>  The ARIMA and GARCH models are the first models with which you deal in financial analysis.  They proceed from the assumption that future profits or future volatility can be determined through a linear combination of past earnings and past volatility.  They have the status of theoretical models.  But you can find them practical application.  With their help, you can predict tomorrow's price, no worse than any other.  Study at your leisure a correlogram with statistics of correlation of current and past incomes.  Perhaps ARIMA can be customized for specific price series.  There are two articles on the use of these models in existing trading strategies: ‚Äú <a href="https://www.quantstart.com/articles/ARIMA-GARCH-Trading-Strategy-on-the-SP500-Stock-Market-Index-Using-R">ARIMA / GARCH trading strategy for S &amp; P500</a> ‚Äù and ‚Äú <a href="http://robotwealth.com/fitting-time-series-models-to-the-forex-market-are-arimagarch-predictions-profitable/">Is it possible to predict prices through ARIMA / GARCH?</a>  " <br><br><h4>  news </h4><br>  Price shake-up usually happens on Mondays and Fridays, when many companies or organizations publish good or not so good news for the market.  Even without knowing their content, one can predict the first price reaction with the help of the strategy and be on the winning side.  But aerobatics, of course, is when the trader manages to interpret this news.  Some information services produce news marked "good" or "bad."  In order to figure out how to use public information more creatively and efficiently, you should get acquainted with the brilliant book ‚Äú <a href="http://ir-de.amazon-adsystem.com/e/ir%3Ft%3Dworterbuchdes-">The Index of Fear</a> ‚Äù by Robert Harris, a must-have in the library of any advanced financier. </div><p>Source: <a href="https://habr.com/ru/post/280059/">https://habr.com/ru/post/280059/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../280045/index.html">Yota application for Windows Phone - from Novosibirsk to St. Petersburg</a></li>
<li><a href="../280047/index.html">How we wanted to do something with iBeacons</a></li>
<li><a href="../280049/index.html">JPoint 2016 Student Day - the first reports</a></li>
<li><a href="../280051/index.html">Logical showcase for accessing big data</a></li>
<li><a href="../280057/index.html">We create package for Atom</a></li>
<li><a href="../280063/index.html">Work with C-unions (union) in Rust FFI</a></li>
<li><a href="../280065/index.html">Fbi Detected: How I Discovered FBI Agents</a></li>
<li><a href="../280071/index.html">Introduction to PHP 7: What's added, what's removed</a></li>
<li><a href="../280073/index.html">Damn! Cloud computers! Choosing a thin client for Parallels VDI</a></li>
<li><a href="../280075/index.html">Java "var" keyword: please, not this</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>