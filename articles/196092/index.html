<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Why we switched to Marionette.js</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="If you look at the history of the development of desktop applications, it is clear that it began with powerful servers that could send text screens to...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Why we switched to Marionette.js</h1><div class="post__text post__text-html js-mediator-article">  If you look at the history of the development of desktop applications, it is clear that it began with powerful servers that could send text screens to thin clients.  Thin clients gave the command that the server was processing and then sent the new screen back to the client. <br><br>  Over time, the equipment became cheaper and we came to the current model, when the client does a significant part of the work, and communicates with the server only in order to obtain information, save information or give a command that must be run in a protected, controlled environment. <br><a name="habracut"></a><br>  Now, if you think about it, in those days it was easier to develop, due to the fact that all users were equally limited by the hardware. <br><br>  Unfortunately (for developers), the restrictions imposed by this model are also completely unacceptable for end users.  They want responsive, fast, beautiful software, which is almost impossible in conditions where any small action leads to a request-response to a remote server. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Web Interface Evolution </h4><br>  You can see a similar evolution in web development.  We are in a state of changing paradigms, and the further, the more difficult it will be for applications written in the old paradigm.  Why use something that is not responsive and gives little interactivity when we have alternatives that are free from it? <br><br>  UI architecture is a very difficult design problem, and even if large companies have invested millions of dollars in its solution over the years, we still don‚Äôt even have ‚ÄúOne right way‚Äù to do it.  Many JavaScript ‚ÄúMVC‚Äù frameworks (this is almost the same bad term as server MVC frameworks) have appeared over the past years and are fundamentally different in how to apply the ideas of the UI architecture of the last 50 years to the web. <br><br><h4>  Choosing a framework </h4><br>  We have tried many frameworks, but for the sake of brevity, I will describe the four most popular ones: Backbone, Ember, Knockout, and Angular. <br>  Before starting, I want to say that all of these are really amazing projects with deserved popularity.  There is no such thing as a ‚ÄúSilver Bullet‚Äù in the design that would be good in all situations and problems, and each of these frameworks has strengths and weaknesses. <br><br><h4>  Our situation </h4><br>  We have (approximately) 250 thousand lines of industrial Rails application code.  It spent most of its life following the Rails Path, and we learned a lot from it.  The application contains an unreal amount of business logic.  Thus, scalability and flexibility were two key criteria that guided us when choosing a framework. <br><br><h4>  Ember.js </h4><br>  Based on the documentation and Yehuda Katz (wycats) conversations about Ember.js, this is basically an attempt to make Rails on the client side. <br>  Ember is the most ambitious framework available now and its strengths are obvious.  It deprives you of the choice in some cases and it is quite convenient.  In particular, I like their approach to routing (State Manager / StateManager), I think this is much better than other implementations. <br><br>  The weak side of Ember is the result of its advantages;  if you don‚Äôt want to take the Ember path, tough times are coming for you.  If you encounter a problem, you are dealing with an extremely complex framework, and most likely you will not be able to quickly solve the problem.  Ember has only reached version 1.0 and will change significantly in the coming years.  With frameworks that have such a level of presence in every aspect of your code, upgrading can be a difficult challenge (it took us more than a year to complete the Rails upgrade to version 3). <br><br>  The last straw for me was how Ember controls your architecture.  We have enough skills to make our own choices, so I believe that working with the fact that it imposes so many restrictions on us is a bad choice. <br><br><h4>  Angular.js </h4><br>  Angular uses an approach whereby in HTML and JavaScript there are no key things that make it more suitable for creating complex interfaces.  In the case of JavaScript, what is needed is the observed objects.  For HTML, the missing part is some form of templating.  Since both are extensible languages, what Angular does is add such features. <br>  I'm a big fan of Angular.  It provides a transparent separation between views and business logic, a component implementation that combines behavior and structure - what the current web really needs.  It also contains a dependency injection (Dependency Injection Framework), something that many developers consider redundant, but I think this is a good idea. <br><br>  The place when I stopped agreeing is how templateization is implemented.  I have been involved in web development since 2000, and during this time I have seen a steady tendency to distinguish between three parts of web technology: style, behavior and structure.  I saw (and was a part of) this movement, and I think things that encourage behavior in HTML and HTML in JavaScript are a bad way.  After all, what's the difference between <br><br><pre><code class="html hljs xml">onclick="foo();"</code> </pre> <br>  and <br><pre> <code class="html hljs xml">ng-click="foo();"</code> </pre><br><br>  In an environment like Xcode, I have no problems with this style of binding in the view, since the ‚Äúview‚Äù is not a code for me, but a design surface.  But since we are building the web differently, I think this is a bad direction. <br><br>  I would not even consider this a weakness, rather a difference of approaches.  I think Angular‚Äôs ‚Äã‚Äãweakness is a cumbersome API, the fact that web standards are going in a different direction than Angular, and that abstractions are fragile enough.  It is easy enough to be outside the regulated Angular world, when you need a deep understanding of how it works, and where / how you return. <br><br>  The decisive disadvantage for me was how difficult it is to make my own directive (directive), which I consider the most valuable feature of the entire framework.  Throughout my career, the only platform that came close to the level of anguish when trying to expand it was server controls in ASP.net WebForms.  This is a solvable problem, and I think if we were now at the point where Angular reached the second or third version, it would be my choice. <br><br><h4>  Knockout.js </h4><br>  Knockout takes a Microsoft-inspired MVVM approach to frontend.  They have a powerful language for data binding (databinding), and html bindings to view models.  They have a basic router, and that's all.  Knockout is not so much a ‚Äúframework‚Äù as a good data binding library. <br><br>  I think Knockout‚Äôs perfect application is when you make a ‚Äúhybrid‚Äù application, when you have interaction between page reloads, but the server still holds most of the logic.  If this is your case, then you have modest needs for the client side, and the separation of state and behavior is most likely what you need. <br><br>  The weakness of Knockout is that if you need a significant amount of client logic, this will become part of its solution. <br><br><h4>  Backbone.js </h4><br>  Backbone is the most popular front-end library of this type, but also the simplest.  Backbone's philosophy is to provide the minimum set of things needed to structure a front-end code on the web.  You can very quickly learn how to use Backbone (and read the code base from beginning to end in an hour), thanks to its simplicity. <br><br>  Backbone is worth using when you have modest needs (or initially moderate, but slowly growing).  Backbone is even more of a philosophy than a framework.  Backbone also has a surprisingly active community, which means that you can ‚Äúbuild your own framework‚Äù by choosing from a variety of third-party extensions and libraries.  Backbone is very JavaScript-based, that is, if you understand the language in which you write, you will understand the framework, as it does everything in the style of JavaScript. <br><br>  The weakness of Backbone is that it doesn‚Äôt really do so much on its own, and you do yourself a disservice if you don‚Äôt know what to plug into it.  This ‚Äújavascript‚Äù can also be a hindrance, since many ‚Äúweb developers‚Äù have scant knowledge about web technology, and if you are one of them, you can easily get lost with Backbone. <br><br><h4>  Backbone.Marionette </h4><br>  Marionette takes the position that if Backbone offers the necessary minimum for the structure of any type of application, large applications end up with a huge amount of generic code.  Marionette provides the structure necessary for this kind of application, and also gives guidance on how to organize large amounts of code. <br><br>  The reason we chose Marionette is their approach to code organization, which largely coincides with ours;  separation of large blocks of code into smaller ones that communicate with each other using well-defined and simple interfaces.  Separation of control and computation, make the code of representations as declarative as possible, and control the code as high as possible.  And also follow the established patterns of work with large and complex code bases. <br><br>  Marionette solves the biggest problem with Backbone - all this sample code in views.  It is also easy to build your own component architecture (which is too difficult now in Angular), and get the minimum structure for everything you need (as opposed to Knockout).  It will take work to complete the good architecture and build the infrastructure, but considering our needs and the current state of other libraries, I think this is a good compromise. <br><br><h4>  UI is difficult and there is no Silver Bullet. </h4><br>  This is an assessment of the specific situation and point of view, and I believe it makes sense for our product and our development team.  As I said at the beginning, all these options are perfect for their purposes.  If someone says to you, ‚ÄúI used the X framework and it‚Äôs bad, but now I use the Y framework and feel like I‚Äôm traveling through the sunny fields on a magic horse.‚Äù, Most likely he just made the wrong choice the first time. <br><br>  <a href="http://engineering.nulogy.com/posts/why-we-went-with-marionette-dot-js/">Original</a> Written by Matt Briggs. </div><p>Source: <a href="https://habr.com/ru/post/196092/">https://habr.com/ru/post/196092/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../196082/index.html">Test drive the clouds: why do you need it and how to do it</a></li>
<li><a href="../196084/index.html">Numenta NuPIC: First Steps</a></li>
<li><a href="../196086/index.html">Win32 / Napolar - new in-the-wild bot</a></li>
<li><a href="../196088/index.html">Derby.js TODO or not TODO</a></li>
<li><a href="../196090/index.html">Clojure Cup - the experience of participating in the hackathon on writing a web application on Clojure</a></li>
<li><a href="../196094/index.html">Former Microsoft Privacy Director now trusts only open source software.</a></li>
<li><a href="../196096/index.html">Metric # 24 - A podcast about technologies, products, and services from the IT world</a></li>
<li><a href="../196098/index.html">Runetology (209): Arkady Akulov, founder of the project Fotoshkola.net</a></li>
<li><a href="../196100/index.html">HTML5 Flash Player Shumway added to Firefox</a></li>
<li><a href="../196102/index.html">Now you can link Google Play Developer Console to your Google Analytics account.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>