<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>To help the leading "Mafia"</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Everyone knows the game "Mafia". Surely many of the habrasoobschestva played it. Players are required to have the ability to think logically, observat...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>To help the leading "Mafia"</h1><div class="post__text post__text-html js-mediator-article">  Everyone knows the game "Mafia".  Surely many of the habrasoobschestva played it.  Players are required to have the ability to think logically, observation, speech skills and much more.  A little more is required from the master.  We will talk about this in more detail. <br><br>  My experience of playing and conducting ‚ÄúMafia‚Äù is not that big, only about two years.  However, I do not even bother to calculate how many games I have spent.  The biggest inconvenience I encountered was nothing to write about.  Therefore, I had the idea to write a simple little program so that it would be easier to take into account actions and not to bother with drawing rulers, curved handwriting and all such other things. <br><a name="habracut"></a><br>  The key point in choosing what, in fact, to write, was cross-platform.  As a result, the script was born for the lead "Mafia" with the use of JavaScript and jQuery.  I am far from a perfectionist, so the script is also far from the possible perfection, however, I use it very successfully. <br><br><h4>  Player recruitment </h4><img src="https://habrastorage.org/files/13b/9e7/a92/13b9e7a92737494a9006dfbfa793e2fe.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The interface is made in minimalism - nothing superfluous.  With the "+" button we add players, with the "-" button opposite the player - we remove it.  Small buttons allow you to move players up or down the list if players at the table suddenly decide to switch places. <br><br>  Since at first I was not even going to tell anyone about this script, then ‚Äúprotection against a fool‚Äù is not provided almost anywhere.  The leader himself must make sure that there are not two detectives or maniacs in the game, for example. <br><br>  The game can begin only with the presence of five players, to start the game, you must press the "Start game" button. <br><br><h4>  Start </h4><img src="https://habrastorage.org/files/d6d/467/6d1/d6d4676d1a114d19a8b250368775d4bc.png"><br><br>  Before starting, all editable fields are automatically converted into plain text.  This was done so that later you could just save the page to disk, if you suddenly want to "save the game protocol." <br><br>  It is always possible to return to the beginning, for example, if a couple more people suddenly came, and the game did not really begin.  When you click the "Reapply" button, all information about game actions is "forgotten", only the names and roles that can be changed again remain - the game returns to the state before pressing the "Start game" button. <br><br><h4>  Then night falls, the city falls asleep and the mafia wakes up ... </h4><img src="https://habrastorage.org/files/df6/821/713/df682171317e4c89890c7e84c6af8620.png"><br><br>  When you press the buttons, they are highlighted, so the presenter sees that he presses.  Until the day comes (the ‚ÄúDay‚Äù button is not pressed), everything can be changed. <br><br>  The day has come, the presenter reports sad news, then the day events take place - discussion, performance, voting.  And the arrest of a potential criminal.  Or hanging - as you wish. <br><br>  As I said above, there is practically no ‚Äúprotection against a fool‚Äù, the program has almost no control over the leader.  Thus, a day without death and a night without murder can happen. <br><br>  True, usually this does not happen. <br><img src="https://habrastorage.org/files/3bf/350/e01/3bf350e012cd4ae989dc462de6b2e16f.png"><br><br>  To make it easier for the presenter to navigate the situation, if by agreement between the players, the eliminated roles are not announced, the buttons of the eliminated roles are blocked, but not removed at all.  Every night, the facilitator can see which roles he should ‚Äúawaken,‚Äù even if they have dropped out. <br><br><h4>  End of the game </h4><br>  For this script, there is no concept of "end of the game."  He is ready to endlessly handle pressing the buttons "Night" and "Day", here again everything is on the conscience of the presenter. <br><br><h4>  Addition </h4><br>  In fact, the whole program is an html-page and scripts that change information.  Since I do not always have the opportunity to connect to the Internet, everything works locally - just open the html file in the browser.  Of course, the necessary scripts should be in the same folder as the html file. <br><br><h4>  What's in the plans </h4><br>  Add another bunch of different roles.  Someone, for example, lacks a lawyer, a sheriff.  Add a miscalculation of the situation to facilitate the work of the lead, for example, when the game should end 100%.  To add the same adjustable ‚Äúprotection against a fool‚Äù, for example, to exclude the possibility of a day without death. <br><br>  Waiting for your additions and comments. <br><br><h4>  PS </h4><br>  Interested individuals can download the script <a href="">here</a> .  Currently version 1.2. <br><br>  <b>Version 1.2:</b> <br>  Added tab "Settings", there you can load another style to display the elements. <br>  The configuration lines are in a separate config.js file, so they are easier to find if someone wants to change something ... <br>  Files are divided into folders - scripts in js, styles - in css. <br>  The $ Debug variable has been added, which includes the debugging mode, and the showDebugInfo function, which displays information in the dDebug layer. <br>  Fixed a bug that occurs when changing the number of players. <br>  Added a button with a timer.  By default, the timer is detected by three minutes. <br><br>  <b>Version 1.1:</b> <br>  Added ideas and design from <a href="http://habrahabr.ru/users/meft">Meft</a> : button layout, action icons. <br>  The interface is made more convenient - control buttons are moved up, the reference information is placed separately. <br>  Added the ability to automatically assign roles depending on the number of players. <br>  Added highlighting of mafia lines. <br><br>  <b>Version 1.0:</b> <br>  Roles: Mafia, Mafia Boss, Commissioner, Doctor, Suicide Bomber, Pretty Woman (Mistress), Thief, Maniac, Immortal. </div><p>Source: <a href="https://habr.com/ru/post/237633/">https://habr.com/ru/post/237633/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../237621/index.html">Steering behavior. Types of changing the direction of movement of the character on the go</a></li>
<li><a href="../237625/index.html">10 performance indicators that every online store owner should follow</a></li>
<li><a href="../237627/index.html">Infrastructure for load testing in the cloud - with Visual Studio 2013 and only when necessary</a></li>
<li><a href="../237629/index.html">Cell Steppers</a></li>
<li><a href="../237631/index.html">What could be the AI ‚Äã‚Äãprogram</a></li>
<li><a href="../237635/index.html">How to make a good video for the application page on the App Store</a></li>
<li><a href="../237639/index.html">Crowdfunding project math</a></li>
<li><a href="../237641/index.html">What to do an IT specialist in the army or how I wrote games on a VBA</a></li>
<li><a href="../237643/index.html">Using SQLite in Windows and Windows Phone JavaScript applications</a></li>
<li><a href="../237645/index.html">How to write a game in 1 day or Another snotty post-half manual on how to quickly learn C #</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>