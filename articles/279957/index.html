<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>3.1 Opening and managing windows</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="From translator: This article is the ninth in the translation cycle of the official SFML library guide. Past article can be found here. This series of...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>3.1 Opening and managing windows</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/bc7/94a/b37/bc794ab377be444f8090426e56ae38bd.png"><br><br>  <i>From translator: This article is the ninth in the translation cycle of the official SFML library guide.</i>  <i>Past article can be found <a href="https://habrahabr.ru/post/279689/" title="Previous article: Working with custom data streams">here.</a></i>  <i>This series of articles aims to provide people who do not know the original language the opportunity to get acquainted with this library.</i>  <i>SFML is a simple and cross-platform multimedia library.</i>  <i>SFML provides a simple interface for developing games and other multimedia applications.</i>  <i>The original article can be found <a href="http://www.sfml-dev.org/tutorials/2.3/window-window.php" title="Original article: Opening and managing a SFML window">here</a> .</i>  <i>Dedicated to Eva White.</i>  <i>Happy Birthday;).</i>  <i>Let's start.</i> <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Table of contents:</b> <div class="spoiler_text">  0.1 Introduction <br><br>  1. Getting Started 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li>  <a href="https://habrahabr.ru/post/278977/" title="Go to the article: SFML and Visual Studio">SFML and Visual Studio</a> </li><li>  <a href="https://habrahabr.ru/post/279069/" title="Go to Article: SFML and Code :: Blocks (MinGW)">SFML and Code :: Blocks (MinGW)</a> </li><li>  <a href="https://habrahabr.ru/post/279107/" title="Go to Article: SFML and Linux">SFML and Linux</a> </li><li>  <a href="https://habrahabr.ru/post/279147/" title="Go to Article: SFML and Xcode (Mac OS X)">SFML and Xcode (Mac OS X)</a> </li><li>  <a href="https://habrahabr.ru/post/279279/" title="Go to Article: Compiling SFML with CMake">Compiling SFML with CMake</a> </li></ol><br>  2. System Module <br><br><ol><li>  <a href="https://habrahabr.ru/post/279347/" title="Go to article: Processing Time">Processing time</a> </li><li>  <a href="https://habrahabr.ru/post/279653/" title="Go to article: Streams">Streams</a> </li><li>  <a href="https://habrahabr.ru/post/279689/" title="Go to article: Working with custom data streams">Work with custom data streams</a> </li></ol><br>  3. Window Module <br><br><ol><li>  <a href="https://habrahabr.ru/post/279957/" title="Go to Article: Opening and Managing Windows">Opening and managing windows</a> </li><li>  <a href="https://habrahabr.ru/post/280153/" title="Go to article: Event Handling">Event handling</a> </li><li>  Work with the keyboard, mouse and joysticks </li><li>  Using OpenGL </li></ol><br>  4. Graphics Module <br><br><ol><li>  Drawing 2D objects </li><li>  Sprites and textures </li><li>  Text and Fonts </li><li>  Forms </li><li>  Designing your own objects using arrays of vertices </li><li>  Position, Rotation, Scale: Transform Objects </li><li>  Adding special effects with shaders </li><li>  2D camera control and view </li></ol><br>  5. Audio module <br><br><ol><li>  Playing sounds and music </li><li>  Audio recording </li><li>  Custom audio streams </li><li>  Spitalization: sounds in 3D </li></ol><br>  6. Network module <br><br><ol><li>  Socket communication </li><li>  Use and Expansion Packages </li><li>  Web requests using HTTP </li><li>  File Transfer Using FTP </li></ol><br></div></div><br><h2>  Introduction </h2><br>  This article explains how to open and manage a window.  Drawing in a window goes beyond the tasks solved by the <code>sfml-window</code> module;  This task is solved by the <code>sfml-graphics</code> module.  However, window management using the <code>sfml-graphics</code> module is also done, so reading this article is important anyway. <br><br><h2>  Opening window </h2><br>  In SFML, windows are represented by the <a href="http://www.sfml-dev.org/documentation/2.3/classsf_1_1Window.php" title="Sf :: window documentation">sf :: Window</a> class.  A window can be created directly from the constructor of this class: <br><br><pre> <code class="hljs mel">#include &lt;SFML/Window.hpp&gt; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> main() { sf::Window <span class="hljs-keyword"><span class="hljs-keyword">window</span></span>(sf::VideoMode(<span class="hljs-number"><span class="hljs-number">800</span></span>, <span class="hljs-number"><span class="hljs-number">600</span></span>), <span class="hljs-string"><span class="hljs-string">"My window"</span></span>); ... <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre><br>  The first argument is the video mode, determines the size of the window being created (the size of the window area, without the window title and borders).  Here we have created a window of 800x600 pixels. <br><br>  The <a href="http://www.sfml-dev.org/documentation/2.3/classsf_1_1VideoMode.php" title="Documentation for sf :: VideoMode">sf :: VideoMode</a> class has interesting static functions with which you can get desktop resolution or available video modes.  We advise you to look at the documentation for this class. <br><br>  The second argument is the name of the window being created. <br><br>  The <a href="http://www.sfml-dev.org/documentation/2.3/classsf_1_1Window.php" title="Sf :: window documentation">sf :: Window</a> class constructor can accept the third argument: a style that allows you to choose which decorations and functions you want to use. <br><br>  You can use any combination of the following styles: <br><br><table><tbody><tr><td> <code>sf::Style::None</code> </td> <td>  No decorations (used, for example, for loading screens);  This style cannot be used with others. </td></tr><tr><td> <code>sf::Style::Titlebar</code> </td> <td>  The window has a caption. </td></tr><tr><td> <code>sf::Style::Resize</code> </td> <td>  You can resize the window and the open button appears full screen </td></tr><tr><td> <code>sf::Style::Close</code> </td> <td>  A close button appears near the window. </td></tr><tr><td> <code>sf::Style::Fullscreen</code> </td> <td>  The window opens in full screen mode;  This style cannot be combined with others and requires an available video mode. </td></tr><tr><td> <code>sf::Style::Default</code> </td> <td>  Standard style, which is the abbreviation <code>Titlebar | Resize | Close</code> <code>Titlebar | Resize | Close</code> </td></tr></tbody></table><br>  There is also a fourth argument that defines the specific OpenGL options.  This topic is discussed in more detail in the article on OpenGL. <br><br>  If you want to create a window <i>after</i> creating an instance of <a href="http://www.sfml-dev.org/documentation/2.3/classsf_1_1Window.php" title="Sf :: window documentation">sf :: Window</a> or re-creating a window with a different video mode or title, you can use the <code>create</code> function.  It takes the same arguments as the class constructor. <br><br><pre> <code class="hljs mel">#include &lt;SFML/Window.hpp&gt; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> main() { sf::Window <span class="hljs-keyword"><span class="hljs-keyword">window</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">window</span></span>.create(sf::VideoMode(<span class="hljs-number"><span class="hljs-number">800</span></span>, <span class="hljs-number"><span class="hljs-number">600</span></span>), <span class="hljs-string"><span class="hljs-string">"My window"</span></span>); ... <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre><br><h2>  Window revitalization </h2><br>  If you try to execute the code above (by deleting the "..."), you are unlikely to see anything.  First, because the program terminates immediately.  Secondly, because the program does not handle events;  so even if you added this code to an infinite loop, you will see a dead window that cannot be moved or closed. <br><br>  Let's add some code to make this program more interesting: <br><br><pre> <code class="hljs lua">#include &lt;SFML/Window.hpp&gt; int main() { sf::Window window(sf::VideoMode(<span class="hljs-number"><span class="hljs-number">800</span></span>, <span class="hljs-number"><span class="hljs-number">600</span></span>), <span class="hljs-string"><span class="hljs-string">"My window"</span></span>); //      ,    <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (window.isOpen()) { //    ,      sf::Event event; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (window.pollEvent(event)) { //    :    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (event.<span class="hljs-built_in"><span class="hljs-built_in">type</span></span> == sf::Event::Closed) window.<span class="hljs-built_in"><span class="hljs-built_in">close</span></span>(); } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre><br>  The code above opens the window and destroys it when the user closes it.  Let's take a closer look at how it works: <br><br>  First, we added a loop that ensures that the application will be updated / supplemented before the window closes.  Most (if not all) SFML programs will have a similar construction;  sometimes this loop is called the <i>main loop</i> or <i>game loop</i> . <br><br>  Then, the first thing we want to do inside our cycle is to check for unprocessed events.  Notice that we use a <code>while</code> to handle all pending events.  The <code>pollEvent</code> function returns <code>true</code> if there are events waiting to be processed, or <code>false</code> if there are none. <br><br>  Whenever an event occurs, we have to check its type (closing the window? Pressing the key? Moving the mouse? Connecting the joystick? ...), and, if we are interested in this, respond accordingly.  Here we only check if the <code>Event::Closed</code> event occurred, which is triggered if the user tries to close the window.  At this point, the window is still open and we must explicitly close it using the following functions.  This allows you to do something before closing the window, for example, save the current state of the application or display a message. <br><br>  People often forget about the event loop, because they don't need to handle events (they use keyboard input instead).  Without an event loop, the window will stop responding.  It is important to remember that the event loop has two roles: in addition to handling custom events, it is also handling internal window events that may be caused by moving or resizing a window. <br><br>  After the window is closed, the main loop ends and the program ends its execution. <br><br>  At this point, you probably noticed that we did not talk about drawing something in the window.  As stated in the introduction, this is not the task of the <code>sfml-window</code> module.  Drawing objects (sprites, text, or shapes) will be discussed in <code>sfml-graphics</code> articles. <br><br>  To draw something, you can also use OpenGL directly and ignore the <code>sfml-graphics</code> module.  <a href="http://www.sfml-dev.org/documentation/2.3/classsf_1_1Window.php" title="Sf :: window documentation">sf :: Window</a> creates an OpenGL context and is ready to accept calls to OpenGL.  You can read more about this topic in the article on the use of OpenGL. <br><br>  Don't expect to see something interesting in a new window: we can see some color (black or white), or the contents of the past application that used OpenGL, or ... something else. <br><br><h2>  Playing with the window </h2><br>  Of course, SFML allows you to play with your windows.  Basic window operations, such as resizing, positioning, names, or icons are supported, but, unlike special GUI libraries (Qt, wxWidgets), SFML does not provide advanced functionality.  SFML windows are intended only to provide an environment for OpenGL or SFML. <br><br><pre> <code class="hljs coffeescript"><span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    (  ) <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.setPosition(sf::Vector2i(<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">50</span></span>)); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.setSize(sf::Vector2u(<span class="hljs-number"><span class="hljs-number">640</span></span>, <span class="hljs-number"><span class="hljs-number">480</span></span>)); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.setTitle(<span class="hljs-string"><span class="hljs-string">"SFML window"</span></span>); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    sf::Vector2u size = <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.getSize(); unsigned int width = size.x; unsigned int height = size.y; ...</code> </pre><br>  You can refer to the API documentation for a complete list of <a href="http://www.sfml-dev.org/documentation/2.3/classsf_1_1Window.php" title="Sf :: window documentation">sf :: Window</a> functions. <br><br>  In case you really need advanced functionality for your window, you can create one window with another library and embed it in SFML.  To do this, you can use another constructor or create a function that passes <a href="http://www.sfml-dev.org/documentation/2.3/classsf_1_1Window.php" title="Sf :: window documentation">sf :: Window</a> descriptor to an existing window.  In this case, SFML will create a drawing context inside the passed window and catch all events without interfering with the parent window manager. <br><br><pre> <code class="hljs cpp">sf::WindowHandle handle = <span class="hljs-comment"><span class="hljs-comment">/*   ,         */</span></span>; sf::<span class="hljs-function"><span class="hljs-function">Window </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">window</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(handle)</span></span></span></span>;</code> </pre><br>  If you need an extra, very specific function, you can do it differently: create an SFML window, get its handle and do what SFML does not allow. <br><br><pre> <code class="hljs ruby">sf::Window window(sf::VideoMode(<span class="hljs-number"><span class="hljs-number">800</span></span>, <span class="hljs-number"><span class="hljs-number">600</span></span>), <span class="hljs-string"><span class="hljs-string">"SFML window"</span></span>); sf::WindowHandle handle = window.getSystemHandle(); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>     ,    </code> </pre><br>  Integrating SFML with other libraries requires work and will not be described here, but you can refer to other articles, examples, or posts on forums. <br><br><h2>  Frame rate control </h2><br>  Sometimes, when an application is running fast, you may notice visual artifacts.  The reason is that the update frequency of your application is not synchronized with the frame scan of your monitor, and as a result, the lower part of the previous frame is mixed with the top of the next one. <br><br>  The solution to this problem is to activate vertical synchronization.  Synchronization is performed automatically by the video card and can be simply turned on or off using the <code>setVerticalSyncEnabled</code> function: <br><br><pre> <code class="hljs javascript"><span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.setVerticalSyncEnabled(<span class="hljs-literal"><span class="hljs-literal">true</span></span>); <span class="hljs-comment"><span class="hljs-comment">//    ,   </span></span></code> </pre><br>  After this call, the application will run at a certain frequency equal to the monitor refresh rate. <br><br>  Sometimes the call to <code>setVerticalSyncEnabled</code> has no effect: most likely because vertical synchronization is turned off in the driver settings of your video card.  You must enable the ‚Äúcontrolled by application‚Äù option in the video driver settings. <br><br>  You may want your application to run at a given frame rate, instead of the monitor refresh rate.  This can be achieved by calling <code>setFramerateLimit</code> : <br><br><pre> <code class="hljs mel"><span class="hljs-keyword"><span class="hljs-keyword">window</span></span>.setFramerateLimit(<span class="hljs-number"><span class="hljs-number">60</span></span>); <span class="hljs-comment"><span class="hljs-comment">//    ,   </span></span></code> </pre><br>  Unlike <code>setVerticalSyncEnabled</code> , this function is implemented by SFML and uses the combination <a href="http://www.sfml-dev.org/documentation/2.3/classsf_1_1Clock.php" title="Documentation for sf :: Clock">sf :: Clock</a> and <code>sf::sleep</code> .  It is important to note that this function is not 100% reliable, especially for high frame rates: the possibilities of <code>sf::sleep</code> depend on the OS and equipment;  the minimum pause time is 10-15 milliseconds.  Do not rely on this feature if you are building an application that is highly time dependent. <br><br>  Never use <code>setVerticalSyncEnabled</code> and <code>setFramerateLimit</code> together.  This can cause bad consequences. <br><br><h2>  Things you need to know about windows </h2><br>  Below is a list of what you can and cannot do with SFML windows. <br><br><h3>  You can create multiple windows. </h3><br>  SFML allows you to create multiple windows, as well as process their events and manage them in the main thread or in multiple threads (but ... see below).  In this case, do not forget to create an event loop for each of them. <br><br><h3>  So far, many monitors are not supported. </h3><br>  SFML implicitly manages multiple monitors.  For this reason, you cannot select on which monitor the window will appear, and you cannot create more than one full-screen window.  This should be fixed in future releases. <br><br><h3>  Window events must be processed in a window stream. </h3><br>  This is a serious deterrent for most operating systems: the event-handling cycle (more precisely, the <code>pollEvent</code> or <code>waitEvent</code> ) should be called in the same thread that the window was created in.  This means that if you want to create a dedicated thread for handling events, you must make sure that the window is created in the same thread.  If you really want to divide tasks between threads, it is more convenient to handle events in the main thread, and perform window operations (for example, drawing graphics) in a separate thread.  This configuration will also be compatible with the other limitations described below. <br><br><h3>  On Mac OS X, window maintenance and event handling must be done in the main thread. </h3><br>  Yeah, that's true.  Mac OS X will not allow you to create a window or process events in a stream other than the main one. <br><br><h3>  On Windows, a window larger than the desktop is not processed correctly. </h3><br>  For some reason, Windows does not allow windows to be opened that is larger than the desktop.  This affects windows created with <code>VideoMode::getDesktopMode()</code> : if you use window decorations (borders and title), you will get a window that is slightly larger than the desktop. <br><br>  Next article: <a href="https://habrahabr.ru/post/280153/" title="Go to article: Event Handling">Event handling</a> . </div><p>Source: <a href="https://habr.com/ru/post/279957/">https://habr.com/ru/post/279957/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../279941/index.html">The market for virtual PBX and ITooLabs. Results of 2015</a></li>
<li><a href="../279947/index.html">Configuring Visual Studio Code Editor for PHP Development</a></li>
<li><a href="../279951/index.html">Combine landline and mobile phones into a single office network</a></li>
<li><a href="../279953/index.html">BEM with a human face</a></li>
<li><a href="../279955/index.html">Configuring Xamarin Studio to fully work with the code</a></li>
<li><a href="../279961/index.html">UNetLab 1.0. A serious competitor for GNS3</a></li>
<li><a href="../279963/index.html">How Big Data is Used to Analyze the Stock Market</a></li>
<li><a href="../279965/index.html">Java: improving the quality of the code (preconditions, IDEA QAPlug, GitHub Codacy integration)</a></li>
<li><a href="../279967/index.html">A detailed review of Affinity Designer (Mac OS). Part 2</a></li>
<li><a href="../279969/index.html">Open ports for NAT with NAT-PMP and UPnP IGD</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>