<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Redmine + Mercurial project management system on Ubuntu 16.04</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="As the number of people involved in the project increases, there is a need to somehow organize and manage their activities more effectively. At the in...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Redmine + Mercurial project management system on Ubuntu 16.04</h1><div class="post__text post__text-html js-mediator-article">  As the number of people involved in the project increases, there is a need to somehow organize and manage their activities more effectively.  At the initial stage, Google-tables were used for this purpose, but their possibilities are limited, and there was a desire to move to a new level.  The study of available project management systems showed that <b>Redmine is the</b> most advanced of the open source systems and even outperforms proprietary systems in some indicators. <br><br>  Redmine, indeed, has great potential: managing multiple projects, tracking errors, integrating with repositories, cross-references to fixed bugs in commits and commits in bug reports, assigning different user roles to each project, etc.  However, the installation procedure is quite complicated, and for some very useful functions, a slight refinement or use of plug-ins is required.  I hope that the guide below will help those who want to use Redmine in their projects. <br><a name="habracut"></a><br><h2>  Components </h2><br><h3>  Redmine project management system </h3><br>  ‚Üí <a href="http://www.redmine.org/">Official website</a> <br><br>  Key features: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  managing multiple projects </li><li>  event tracking system (bug, feature) </li><li>  Different user roles (manager, developer, reporter) for each project </li><li>  support news, documents, files, wiki, forums for each project </li><li>  integration with version control systems (SVN, Git, Mercurial) </li><li>  event notifications by email </li><li>  opportunity to record work time </li></ul><br><h3>  Mercurial Version Control System </h3><br>  ‚Üí <a href="https://www.mercurial-scm.org/">Official website</a> <br><br>  Cross-platform distributed version control system. <br><br><h3>  Also need </h3><br>  Web server and database management system.  <b>Mysql</b> and <b>Apache are used</b> . <br><br><h2>  Installation </h2><br>  The instruction is based on a useful, but very outdated instruction. <br>  <a href="http://www.redmine.org/projects/redmine/wiki/HowTo_Install_Redmine_12x_with_Mercurial_and_Subversion_on_Ubuntu_Server_1004/">HowTo Install Redmine 1.2.x with Mercurial and Subversion on Ubuntu Server 10.04</a> . <br><br>  Also used the official installation instructions <br>  <a href="http://www.redmine.org/projects/redmine/wiki/RedmineInstall">Redmine Installation Guide</a> . <br><br>  We assume that we already have a server with Ubuntu Server 16.04 pre-installed on it.  Further instructions describe the installation of the control system and auxiliary software. <br><br>  So, let's begin.  First install the LAMP server: <br><br><pre><code class="bash hljs">$ sudo tasksel install lamp-server</code> </pre> <br>  During installation, you will need to enter the password of the <i>root</i> user of the MySQL database (not to be confused with the root password of the operating system). <br><br>  Create a MySQL database and a <i>redmine</i> user to work with it.  Instead of [password] insert the desired user password. <br><br><pre> <code class="bash hljs">$ mysql -u root -p (  root   MySQL) &gt; create database redmine character <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> utf8; &gt; create user <span class="hljs-string"><span class="hljs-string">'redmine'</span></span>@<span class="hljs-string"><span class="hljs-string">'localhost'</span></span> identified by <span class="hljs-string"><span class="hljs-string">'[password]'</span></span>; &gt; grant all privileges on redmine.* to <span class="hljs-string"><span class="hljs-string">'redmine'</span></span>@<span class="hljs-string"><span class="hljs-string">'localhost'</span></span>; &gt; <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span></code> </pre> <br>  Download <b>Redmine</b> from <a href="http://www.redmine.org/projects/redmine/wiki/Download">www.redmine.org/projects/redmine/wiki/Download</a> or by team <br><br><pre> <code class="bash hljs">$ wget http://www.redmine.org/releases/redmine-3.3.3.tar.gz</code> </pre> <br>  Unpack Redmine in the / usr / share / redmine directory.  Find the config subdirectory and copy config / database.yml.example to config / database.yml.  After that, edit the file in order to set the "production" database mode: <br><br><pre> <code class="bash hljs">$ sudo cp /usr/share/redmine/config/database.yml.example /usr/share/redmine/config/database.yml $ sudo nano /usr/share/redmine/config/database.yml</code> </pre> <br>  Enter the text and save the file (ctrl + x): <br><br><pre> <code class="hljs pgsql">production: adapter: mysql2 <span class="hljs-keyword"><span class="hljs-keyword">database</span></span>: redmine host: localhost username: redmine <span class="hljs-keyword"><span class="hljs-keyword">password</span></span>: "[password]" <span class="hljs-keyword"><span class="hljs-keyword">encoding</span></span>: utf8</code> </pre> <br>  Install the necessary packages: <br><br><pre> <code class="bash hljs">$ sudo apt install ruby ruby-dev build-essential libmysqlclient-dev</code> </pre> <br>  Install Bundler: <br><br><pre> <code class="bash hljs">$ gem install bundler</code> </pre> <br>  Now you can install the gems required for Redmine: <br><br><pre> <code class="bash hljs">$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /usr/share/redmine $ bundle install --without development <span class="hljs-built_in"><span class="hljs-built_in">test</span></span> rmagick</code> </pre> <br>  Create a random key that Rails will use to encrypt cookie data: <br><br><pre> <code class="bash hljs">$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /usr/share/redmine $ bundle <span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> rake generate_secret_token</code> </pre><br>  Next, create the database structure (execute in / usr / share / redmine): <br><br><pre> <code class="bash hljs">$ RAILS_ENV=production bundle <span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> rake db:migrate $ RAILS_ENV=production bundle <span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> rake redmine:load_default_data</code> </pre><br>  Set the necessary access rights: <br><br><pre> <code class="bash hljs">$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /usr/share/redmine $ sudo chown -R www-data:www-data files <span class="hljs-built_in"><span class="hljs-built_in">log</span></span> tmp public/plugin_assets $ sudo chmod -R 755 files <span class="hljs-built_in"><span class="hljs-built_in">log</span></span> tmp public/plugin_assets</code> </pre><br>  If you wish, you can test the installation of Redmine using the WEBrick web server: <br><br><pre> <code class="bash hljs">$ sudo -u www-data bundle <span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> rails server webrick -e production</code> </pre> <br>  After launching WEBrick, the Redmine start page should be accessible in the browser at <code>http://localhost:3000/</code> <br><br><h2>  Apache integration </h2><br>  Install Passenger: <br><br><pre> <code class="bash hljs">$ sudo apt-get install libapache2-mod-passenger</code> </pre> <br>  Add a symbolic link to the Redmine public directory: <br><br><pre> <code class="bash hljs">$ sudo ln -s /usr/share/redmine/public /var/www/redmine</code> </pre> <br>  It is necessary to configure the default user Passenger, for this we edit the file: <br><br><pre> <code class="bash hljs">$ sudo nano /etc/apache2/mods-available/passenger.conf</code> </pre> <br>  You need to add the following line and save (ctrl + x): <br><br><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-attribute">PassengerDefaultUser</span></span> www-data</code> </pre> <br>  As a result, the file should look like this: <br><br><pre> <code class="apache hljs"><span class="hljs-section"><span class="hljs-section">&lt;IfModule mod_passenger.c&gt;</span></span> <span class="hljs-attribute"><span class="hljs-attribute">PassengerRoot</span></span> /usr/lib/ruby/vendor_ruby/phusion_passenger/locations.ini PassengerDefaultRuby /usr/bin/ruby PassengerDefaultUser www-data &lt;/IfModule&gt;</code> </pre> <br>  Next, create a configuration file redmine.conf for apache: <br><br><pre> <code class="bash hljs">$ sudo nano /etc/apache2/sites-available/redmine.conf</code> </pre> <br>  Add the following text and save (ctrl + x): <br><br><pre> <code class="apache hljs"><span class="hljs-section"><span class="hljs-section">&lt;VirtualHost *:80&gt;</span></span> <span class="hljs-attribute"><span class="hljs-attribute">ServerAdmin</span></span> webmaster@localhost DocumentRoot /var/www ServerName myservername RewriteEngine <span class="hljs-literal"><span class="hljs-literal">on</span></span> RewriteRule ^/$ /redmine<span class="hljs-meta"><span class="hljs-meta"> [R] &lt;Directory /var/www/redmine&gt; RailsBaseURI /redmine PassengerResolveSymlinksInDocumentRoot on &lt;/Directory&gt; ErrorLog /var/log/apache2/error.log # Possible values include: debug, info, notice, warn, error, crit, # alert, emerg. LogLevel warn CustomLog /var/log/apache2/access.log combined &lt;/VirtualHost&gt;</span></span></code> </pre> <br>  Connect Passenger and Rewite modules: <br><br><pre> <code class="bash hljs">$ sudo a2enmod passenger $ sudo a2enmod rewrite</code> </pre> <br>  Disable the default website and connect redmine: <br><br><pre> <code class="bash hljs">$ sudo a2dissite 000-default $ sudo a2ensite redmine</code> </pre> <br>  Set permissions on / tmp / cache Redmine: <br><br><pre> <code class="bash hljs">sudo chmod 777 /usr/share/redmine/tmp/cache</code> </pre> <br>  Restart Apache: <br><br><pre> <code class="bash hljs">$ sudo service apache2 reload</code> </pre> <br>  Now you can open your favorite browser and go to <code>http://[my site or ip]/redmine</code> or simply <code>http://[my site or ip]</code> .  A start page of the Redmine system should appear. <br><br><h2>  Install mercurial </h2><br>  You need to install the packages: <br><br><pre> <code class="bash hljs">$ sudo apt-get install mercurial libapache2-mod-perl2 libapache-dbi-perl libdbd-mysql-perl</code> </pre> <br>  Create a directory in which project repositories will be stored: <br><br><pre> <code class="bash hljs">$ sudo mkdir -p /var/hg/</code> </pre> <br>  Now we want to make the repositories accessible via the http protocol.  To do this, create a cgi script: <br><br><pre> <code class="bash hljs">$ sudo nano /var/hg/hgwebdir.cgi</code> </pre> <br>  Add the following text and save: <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/python from mercurial import demandimport; demandimport.enable() from mercurial.hgweb.hgwebdir_mod import hgwebdir import mercurial.hgweb.wsgicgi as wsgicgi application = hgwebdir('hgweb.config') wsgicgi.launch(application)</span></span></code> </pre> <br>  Now you need to create the hgweb.config file: <br><br><pre> <code class="bash hljs">$ sudo nano /var/hg/hgweb.config</code> </pre><br>  Add the following content and save: <br><br><pre> <code class="apache hljs">[<span class="hljs-attribute"><span class="hljs-attribute">paths</span></span>] /=/var/hg/**<span class="hljs-meta"><span class="hljs-meta"> [web] allow_push = * push_ssl = false allowbz2 = yes allowgz = yes allowzip = yes</span></span></code> </pre> <br>  Set file permissions: <br><br><pre> <code class="bash hljs">$ sudo chown -R www-data:www-data /var/hg/* $ sudo chmod gu+x /var/hg/hgwebdir.cgi</code> </pre> <br>  Now you need to create a conf file for Apache: <br><br><pre> <code class="bash hljs">$ sudo nano /etc/apache2/conf-available/hg.conf</code> </pre> <br>  Add the following content and save: <br><br><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-attribute">PerlLoadModule</span></span> Apache2::Redmine ScriptAliasMatch ^/hg/(.*) /var/hg/hgwebdir.cgi/<span class="hljs-number"><span class="hljs-number">$1</span></span> &lt;Directory /var/hg&gt; Options +ExecCGI &lt;/Directory&gt; &lt;Location /hg&gt; AuthType Basic AuthName <span class="hljs-string"><span class="hljs-string">"Mercurial"</span></span> Require valid-user AuthUserFile /dev/null #Redmine auth PerlAccessHandler Apache::Authn::Redmine::access_handler PerlAuthenHandler Apache::Authn::Redmine::authen_handler RedmineDSN <span class="hljs-string"><span class="hljs-string">"DBI:mysql:database=redmine;host=127.0.0.1"</span></span> RedmineDbUser <span class="hljs-string"><span class="hljs-string">"redmine"</span></span> RedmineDbPass <span class="hljs-string"><span class="hljs-string">"[password]"</span></span> &lt;/Location&gt;</code> </pre> <br>  You also need to create links: <br><br><pre> <code class="bash hljs">$ sudo ln -s /etc/apache2/conf-available/hg.conf /etc/apache2/conf-enabled/ $ sudo ln -s /usr/share/redmine/extra/svn/Redmine.pm /usr/lib/x86_64-linux-gnu/perl5/5.22/Apache2/</code> </pre> <br>  Enable CGI module and restart Apache: <br><br><pre> <code class="bash hljs">$ sudo a2enmod cgi $ sudo service apache2 reload</code> </pre> <br>  Repositories will be available at <code>http://[my site or ip]/hg/*</code> .  For example, for a project project, the address would be <code>http://[my site or ip]/hg/project</code> .  If the project has a subproject1 project, its repository will be available at <code>http://[my site or ip]/hg/project/subproject1</code> . <br><br>  To clone the repository you will need to run: <br><br><pre> <code class="bash hljs">$ hg <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> http://[my site or ip]/hg/project</code> </pre> <br>  If the cloned project is not public (set in the project settings via the Redmine web interface), then you will need to enter a username and password. <br><br>  Authorization is carried out on projects  Access will be possible only for project participants (managers and developers). <br><br>  When creating a repository in the Redmine web interface, you must specify the path to it, for example <i>/ var / hg / projectname</i> .  Repositories in <i>/ var / hg</i> must be created manually for each project and initialized with the ( <code>hg init</code> ) command. <br><br>  After creating a new repository, you need to make sure that it has the necessary access rights: <br><br><pre> <code class="bash hljs">$ sudo chown -R www-data:www-data /var/hg/[repository name]</code> </pre> <br>  In principle, it is possible to automate the creation of repositories.  Information about this is in the manual at the link <a href="http://www.redmine.org/projects/redmine/wiki/HowTo_Install_Redmine_12x_with_Mercurial_and_Subversion_on_Ubuntu_Server_1004/">HowTo Install Redmine 1.2.x with Mercurial and Subversion on Ubuntu Server 10.04</a> <br><br><h2>  Email Notification Change Notifications </h2><br>  Redmine supports notifications about various events (changes in the life of bug / features, etc.).  In order to use this functionality, it is enough to set up a method for sending emails.  This is done in the file /usr/share/redmine/config/configuration.yml The file contains templates for different configurations.  You need to uncomment and edit the one you need. <br><br>  For example: <br><br><pre> <code class="apache hljs"> <span class="hljs-attribute"><span class="hljs-attribute">email_delivery</span></span>: delivery_method: :smtp smtp_settings: address: <span class="hljs-string"><span class="hljs-string">"10.11.12.13"</span></span> port: 25 authentification: :none enable_starttls_auto: false openssl_verify_mode: 'none'</code> </pre><br>  Notice that each section in the configuration.yml file is shifted by two spaces.  It is important. <br><br>  Basic notifications should be available after specifying the method of sending emails.  However, for notifications about changes in the repository, you need to use an external plugin.  You can download it from <a href="https://github.com/lpirl/redmine_diff_email">github.com/lpirl/redmine_diff_email</a> . <br><br>  Install this plugin.  To do this, copy the contents of the plugin to the directory / usr / share / redmine / plugins / redmine_diff_email.  In accordance with the installation instructions for the plugin, we modify the file /usr/share/redmine/app/views/repositories/_form.html.erb: <br><br><pre> <code class="diff hljs"><span class="hljs-comment"><span class="hljs-comment">--- OLD +++ NEW @@ -23,6 +23,7 @@ &lt;% button_disabled = ! @repository.class.scm_available %&gt; &lt;%= repository_field_tags(f, @repository) %&gt; &lt;% end %&gt; +&lt;%= call_hook(:view_repository_form) %&gt; &lt;/div&gt; &lt;p&gt;</span></span></code> </pre> <br>  The original plugin works with an outdated version of redmine.  For redmine-3.3, you need to make changes to the file <br>  /usr/share/redmine/plugins/redmine_diff_email/db/migrate/002_add_repositories_is_diff_email_attached.rb.  The contents of the file should be like this: <br><br><pre> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AddRepositoriesIsDiffEmailAttached</span></span></span><span class="hljs-class"> &lt; ActiveRecord::Migration </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">self</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">up</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">add_column</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">repositories</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">is_diff_email_attached</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">boolean</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">default</span></span></span><span class="hljs-class"> =&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">false</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">null</span></span></span><span class="hljs-class"> =&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">false</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Repository</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">update_all</span></span></span><span class="hljs-class">(["</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">is_diff_email_attached</span></span></span><span class="hljs-class"> = ?", </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">true</span></span></span><span class="hljs-class">]) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Repository</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">update_all</span></span></span><span class="hljs-class">(["</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">is_diff_email</span></span></span><span class="hljs-class"> = ?", </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">true</span></span></span><span class="hljs-class">]) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">self</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">down</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">remove_column</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">repositories</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">is_diff_email_attached</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span></span></code> </pre><br>  After that, in the / usr / share / redmine directory execute the command to update the database: <br><br><pre> <code class="bash hljs">bundle <span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> rake redmine:plugins:migrate RAILS_ENV=production</code> </pre> <br>  Restart Redmine: <br><br><pre> <code class="bash hljs">$ sudo service apache2 reload</code> </pre> <br>  If the plug-in is installed correctly, the <b>Redmine Diff Email Plugin</b> will appear in the <i>Administration ‚Üí Plugins</i> list, and the notification settings will appear in the Redmine <i>SomeProject ‚Üí Settings tab ‚Üí Repositories Tab ‚Üí Edit menu</i> . <br><br>  In addition, in order for information about changes in repositories to be automatically tracked by Redmine, additional steps need to be taken.  First you need to enable WS to manage the repositories and generate an API key.  How it's done: <br><br>  * In the Redmine web interface, in the Administration menu, select Settings <br>  * Go to Repositories tab <br>  * Enable 'Enable WS for repository management' <br>  * Click on the link 'Generate a key' <br>  * Save changes with the 'Save' button <br><br>  Next, create a script: <br><br><pre> <code class="bash hljs">$ sudo nano /var/hg/fetch_changes</code> </pre> <br>  Add the following text and save: (it is necessary to replace [your API key] with the generated API key) <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/sh curl "http://localhost/redmine/sys/fetch_changesets?key=[your API key]" &gt; /dev/null 2&gt;&amp;1</span></span></code> </pre> <br>  Set permissions for the created file: <br><br><pre> <code class="bash hljs">$ sudo chown www-data:www-data /var/hg/fetch_changes $ sudo chmod ug+x /var/hg/fetch_changes</code> </pre> <br>  It remains to add the section [hooks] to /var/hg/hgweb.config, so that the fetch_changes script is executed after each commit: <br><br><pre> <code class="apache hljs">[<span class="hljs-attribute"><span class="hljs-attribute">hooks</span></span>] changegroup = /var/hg/fetch_changes</code> </pre> <br>  Now, with changes in the repository, Redmine will automatically send notifications to project participants. </div><p>Source: <a href="https://habr.com/ru/post/331006/">https://habr.com/ru/post/331006/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../330994/index.html">Verizon completed Yahoo takeover</a></li>
<li><a href="../330996/index.html">NTT Com announced the creation of the world's first fully software-defined network</a></li>
<li><a href="../330998/index.html">Fujitsu has developed virtual machine management technology that improves server utilization</a></li>
<li><a href="../331000/index.html">MyTaskHelper.ru in practice: creating a free database to check the results of the OGE</a></li>
<li><a href="../331002/index.html">Database Encryption Running Firebird 3.0</a></li>
<li><a href="../331008/index.html">AsyncDisplayKit 2.0 (Texture) Tutorial: Automatic Layout</a></li>
<li><a href="../331010/index.html">Interplanetary File System - no longer need to copy to the network</a></li>
<li><a href="../331014/index.html">Interplanetary File System - We localize the global gateway or sites in IPFS</a></li>
<li><a href="../331016/index.html">Overview of server monitoring systems. Replacing munin with ...</a></li>
<li><a href="../331018/index.html">Lecture on sports programming in the framework of the Intellect project</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>