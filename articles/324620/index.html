<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We make a more or less universal calculator of services for the site.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A cursory analysis of open data shows that on average 5 people leave requests for a calculator on the freelance exchanges every day - and a few hundre...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We make a more or less universal calculator of services for the site.</h1><div class="post__text post__text-html js-mediator-article">  A cursory analysis of open data shows that on average 5 people leave requests for a calculator on the freelance exchanges every day - and a few hundred more are interested in the search question.  Often, requests are standard - and, of course, there is a whole set of ready-made offers on the market: from plug-ins for specific CMS to calculators that can be purchased from studios.  The record we found (see in the first comment) is 24,999 rubles for a fairly common decision. <br><br>  Yes, the market is the market.  But since we mainly work with people whose sites are made on designers, they do not have 25 thousand for one widget.  So there was a desire to write a calculator that they could use on their own - and without studying HTML, JS, JQuery and CSS. <br><br><img src="https://habrastorage.org/files/20c/cb5/3d3/20ccb53d3991440a9dc826f39f28ecd9.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In the process of working on the project, we were able to implement several finds in the logic of the work and the design of the calculator.  These, as well as useful tools, and want to share with the community. <br><br><a name="habracut"></a><br>  In fact, we have a fairly versatile online calculator builder, the result of which can be embedded on any platform that supports HTML insertion. <br><br><blockquote><h4>  <a href="https://habr.com/ru/company/uteam/blog/324620/">How does the constructor calculators</a> </h4><br><h4>  <a href="https://habr.com/ru/company/uteam/blog/324620/">We write our adaptability</a> </h4><br><h4>  <a href="https://habr.com/ru/company/uteam/blog/324620/">Life hacking: how to simplify formulas to the alphabet</a> </h4><br><h4>  <a href="https://habr.com/ru/company/uteam/blog/324620/">Clean the code with a gulp (not what you might think)</a> </h4><br><h4>  <a href="https://habr.com/ru/company/uteam/blog/324620/">Is there life after life?</a> </h4></blockquote><br><h1><a name="ucalcpro"></a><br>  How does the constructor calculators </h1><br>  Starting the project, we discussed pretty hardcore ideas, but eventually we came to a drag-n-drop build interface, plus an admin panel in which a person can store and customize their calculators. <br><br>  <b>In the beginning there was an empty field.</b>  When registering on the service for the first time, a person really sees a blank page with a single button for adding a new calculator project. <br><br>  In the future, this page will contain snapshots of links to the user's calculators, like this: <br><br><img src="https://habrastorage.org/files/069/fe4/955/069fe4955baa4e2592262a375b7b75e9.png"><br><br>  To create a screenshot preview of a calculator in the office, we used <a href="http://phantomjs.org/">PhantomJS</a> .  The thing is very convenient, when you have already created several calculators, when entering the office it is immediately clear which project is where. <br><br>  <b>People love the slider.</b>  It became clear when we launched the first people to the service, and they began to choose which elements to create the widget from. <br><br>  The calculator creation interface itself is arranged similarly with an LC ‚Äî there is a large empty field to which elements from the side panel can be added.  For the start, we chose 8 elements.  Five are responsible directly for the calculator - this is a slider, a drop-down list, a check mark, a text field (for collecting mail, addresses, etc.) and a switch.  Three more - for the attractiveness (picture) and the order option - a text block and a button.  The most popular element of all was the slider. <br><br><img src="https://habrastorage.org/files/21a/61c/515/21a61c5150d642e6a75367a8684caafb.png"><br>  <i>First, we chose jQuery Scrollbar extensions to create a slider, but the thing behaved strangely on mobile.</i>  <i>Therefore, we have taken and modified the <a href="https://github.com/domsleee/JQuery-Range-Slider">JQuery-Range-Slider</a> extension.</i>  <i>The remaining elements are written and stylized themselves.</i> <br><br>  <b>Manipulations with elements and data of</b> calculators are made on the client side of the project - therefore, it was important in the process to figure out how to save browser resources as much as possible. <br><br>  This moment became one of the most troublesome at debugging.  But now the record of the processes occurring on the page, when a person drags an item into the calculator (this is the most resource-intensive moment), looks like this: <br><br><img src="https://habrastorage.org/files/4f5/ca2/669/4f5ca26697264d688be1b0bd94954757.png"><br><br>  We cut the handlers as much as possible, leaving only the required minimum.  With the optimization on the client side, the Timeline tool from Google Chrome Developer Tools helped us a lot. <br><br>  Initially, all elements are stored in the FIELDS object ‚Äî each has a typical HTML template and a list of options.  After dragging an item into the workspace, the necessary options arrive from the server and are inserted into the template ‚Äî for example, the button sends the order information to the owner and client: by mail via our server, or by SMS ‚Äî while using the SmsSimple API, but we are looking for another service (and we will be glad to recommendations). <br><br><img src="https://habrastorage.org/files/91c/2ac/eef/91c2aceef8ce44cea2b72becee5b5967.jpg"><br><br>  To substitute options, we wrote our Signe method to the prototype line.  It works like this: <br><br><img src="https://habrastorage.org/files/ff8/264/f3e/ff8264f3e75f47efbb7a402299358a3d.png"><br><br>  At the same time, we are trying to protect ourselves from inserting executable codes into the template: first of all, the <i>&lt;script&gt;</i> tags are removed on the server side, and the main protection is based on the escaping of special characters + escape tags. <br><br>  <b>Drag'n'drop in its own way.</b>  The idea of ‚Äã‚Äã‚Äútake more - throw further‚Äù, in our opinion, is the most convenient way to build anything for the average user.  Well, if only because it is beautiful. <br><br>  When we looked at existing solutions for creating calculators, they were confused by some ‚Äúnailing down of elements with nails‚Äù - the fact that elements can be arranged in a rather strictly definite way: for example, just under each other, and not next to each other.  I wanted to get away from this, for which we came up with a system of points. <br><br><img src="https://habrastorage.org/files/1f9/5b7/646/1f95b7646bfc4f7c8426c84e8f75950c.png"><br>  <i>Grid of invisible user points</i> <br><br>  Before dragging a new element, we create a map of points to which you can add a new field - for this, the script refers to all elements of the workspace and evaluates their boundaries. <br><br>  What does this give?  The user can immediately choose between: <br><br><img src="https://habrastorage.org/files/a2e/5f2/41b/a2e5f241b4874b2597b372bb01eae972.png"><br><br>  And here is a variant of the location of the element: <br><br><img src="https://habrastorage.org/files/fe5/78e/2ac/fe578e2ac8104ad6b55e1119cfe0ff77.png"><br><br>  When moving, we constantly check whether the mouse is above the calculator, and under the hood we remember the type of field being dragged and the position into which to throw it. <br><br>  Dragging an item by itself does not spend a lot of browser resources, but checking where the user is aiming directly depends on the number of fields that have already been added to the calculator.  To save browser resources, we began to determine only the coordinates of the fields that are near the mouse, and to identify the field nearest to it: <br><br><img src="https://habrastorage.org/files/5df/82e/4cf/5df82e4cf6674f13806ba8b0980c3d3b.png"><br>  <i>To create the visual effects themselves when building the calculator, we used the <a href="https://jqueryui.com/">jQuery UI</a> and <a href="https://daneden.github.io/animate.css/">Animate.css</a></i> <br><br>  <b>We abstract from the system of weights and measures.</b>  Since the solution was to be made universal and simple, we abandoned additional fields in which a person would choose meters, grams or rubles when creating a calculator.  Legend can be entered - but purely for convenience and reference.  For all text elements we used <a href="https://github.com/yabwe/medium-editor">Medium Editor</a> engine - a very convenient and simple text editor. <br><br>  To prove that the constructor is suitable for anything, we have made different examples.  And one of the examples made noise among the first testers: <br><br>  <i>‚ÄúThe‚Äú calculation of the amount of meat ‚Äùtemplate simply killed me: in the picture it is clear that the kebab, and according to the gradations, it seems as though all of these people were going to make a kebab) They bellowed the whole department.‚Äù</i> <i><br></i> <br><br><img src="https://habrastorage.org/files/332/c27/3f7/332c273f7aed49928a1cfde01bf9b6fb.png"><br>  <i>Feel for the calculator-template, which amused the whole department, <a href="https://ucalc.pro/example/16">here</a></i> <br><br>  <b>Pictures are important.</b>  For a better acquaintance with a product or service, it is logical to add images over the same checkmarks or other field responsible for the choice.  Thanks to the grid of points, it turned out to realize the insertion of the image in any area of ‚Äã‚Äãthe working field.  Sometimes this is useful: <br><br><img src="https://habrastorage.org/files/ef8/2bf/727/ef82bf727062423b8c6c23bf46849b51.png"><br>  <i>Thanks to Vladimir Gingazov, author of the channel ‚ÄúAdobe Muse in Russian‚Äù for the topic with Christmas trees</i> <br><br>  The implementation of the image download itself was done through the FileSystem API &amp; File API - the whole process is perfectly described in this <a href="https://habrahabr.ru/post/112286/">article</a> . <br><br>  <b>‚ÄúAnd play with ...?‚Äù</b> It is logical to give the user the ability to adjust the colors of texts, buttons, background, etc.  under the colors of the site.  To call and create a color palette, we used the <a href="https://plugins.jquery.com/spectrum/">Spectrum</a> widget. <br><br><img src="https://habrastorage.org/files/010/329/2b3/0103292b3b564698b2c56f813d4b6e1e.png"><br><br>  <b>Data storage and autosave.</b>  Data on the client side of the calculator is stored in JSON format.  You can see their structure simply by writing in the SAVER.json console on the service. <br><br><img src="https://habrastorage.org/files/be7/681/5c9/be76815c9f8342c4b68db3e0aa1b426d.png"><br><br>  Autosave occurs at every action, if there is activity in the calculator.  Changes are also saved in parallel in DOM, and each time we check: <br><br><ul><li>  Does JSON have all the data from the DOM. </li><li>  Does the DOM have all the data from JSON. </li></ul><br><br>  If within 4 seconds nothing happens, the calculator stops the autosave until new edits - so we get rid of senseless requests to the server. <br><br>  <b>Preview</b>  In order not to waste client browser resources, we decided not to animate the preview interface using jQuery - since CSS3 does an excellent job with animation: just change the class at the root of the interface, and the viewing area will change the width and appearance, styled as a smartphone and tablet. <br><br><img src="https://habrastorage.org/files/64e/647/81a/64e64781a8ee4401bda32cca829cd1be.gif"><br>  <i>Focus on console</i> <br><br>  The creation of an adaptive version of the calculator itself has become a separate song. <br><br><h1><a name="mobilefirst"></a><br>  Divine layout: write your adaptability </h1><br>  The uKit site builder, for which our project was originally created, uses the Twitter Bootstrap grid ‚Äî a popular and well-deserved solution to tailor web elements to the visitor's screen.  But bootstrapping involves two design options: a table or column.  Therefore, we have developed our own version of the adaptation of the calculator. <br><br>  Since  The structure of the calculator is stored in JSON, we have a parent array with strings, and in each row is an array of cells.  In addition, there is an array of sub-rows (and sub-cells) in the cell so that there is not one field inside, but several.  The cell structure is shown below: <br><br><img src="https://habrastorage.org/files/61c/1d0/467/61c1d0467d694ce6941952cee762e504.gif"><br><br>  The calculator has a parent block with the <i>display: table</i> style, inside it has a <i>table-row</i> and a <i>table-cell</i> , respectively.  The calculator itself is drawn on the site in the frame.  Styles for adaptation are placed inside the frame - and when the frame becomes narrow enough, the calculator, without changing the HTML grid, moves the fields to new lines.  This is done by changing the <i>display</i> style: if it is a <i>table-cell</i> on a wide calculator, then the <i>block</i> becomes narrow, and our field is on a new line. <br><br><img src="https://habrastorage.org/files/751/710/8f8/7517108f82f748f6a90765cbd3554988.gif"><br><br>  The initial desktop view of the calculator depends on the width of the container in which it is located, and the calculator tends to show as many fields as possible in one line.  When the screen narrows, the function that rebuilds the grid passes through all the lines of the calculator, and if there are ‚Äúextra‚Äù cells in the line, a new line is created below. <br><br><ul><li>  If the site itself with a calculator is adapted for mobile devices, the container with the calculator will occupy the entire width of the device without scaling. </li><li>  If the site is not adapted for mobile devices, the calculator will be displayed on a smaller scale - and its appearance will be repeated for the PC. </li></ul><br>  Similarly, in the editor: when the user changes the width of his project, a frame with a copy of his calculator is displayed in front of him.  As soon as the resize is completed, a new grid is drawn under the frame, the frame is hidden for the user, and you can continue working with fields and formulas. <br><br><h1><a name="formula1"></a><br>  Simplify working with formulas </h1><br>  Since we have a full-featured calculator control room, we decided to abandon the use of something external and effective, and ideally, complex formulas when creating and editing forms. <br><br>  Instead, all in a separate tab there are elements of the calculator in the form of a diagram.  The scheme contains the names of variables and ranges of values ‚Äã‚Äãfor each of the elements of the calculator. <br><br><img src="https://habrastorage.org/files/fff/0bf/942/fff0bf942a7c40d8a9f8f722a4660256.png"><br>  <i>To use some field in the calculation, it is enough to specify its variable in the box on the left.</i>  <i>There can be several formulas: in this case, the calculator displays several results, for example, ‚ÄúRegular price‚Äù and ‚ÄúDiscount price‚Äù.</i> <br><br>  Variables begin with the letter ‚ÄúA‚Äù.  If there are more fields than letters in the Latin alphabet, one more letter will be added to the variable name: ‚ÄúAA‚Äù and so on.  Each letter is associated with the numeric id of a specific field in the calculator.  We did not manage to find a ready-made solution for converting numbers into Latin letters and combinations of letters.  Therefore, we wrote the following method: <br><br> <code>DAT.varName(9) // I <br> DAT.varName(39) // AM <br> DAT.varName(9650215) // UCALC</code> <br> <br>  We will be glad if you <a href="https://gist.github.com/condor-bird/0dc03bbc0f118d0d60ec38cf6edca72b">find</a> it <a href="https://gist.github.com/condor-bird/0dc03bbc0f118d0d60ec38cf6edca72b">useful</a> (with questions you can knock on the <a href="https://habrahabr.ru/users/condor-bird/" class="user_link">condor-bird</a> ). <br><br><h1><a name="needforspeed"></a><br>  Optimize download speed </h1><br>  The further, the more we dealt with the service interface.  But the ultimate goal is for a person not only to collect his calculator from us, but also to put it on his site as a widget (although you can also publish a calculator by reference and use it on some social network). <br><br>  That is, it was time to cut off a <s>chunk</s> calculator from the service.  There was a choice between two ways: <br><br>  <b>Quick.</b>  In the same preview, the calculator widget is loaded - you can hide all the elements of the designer interface, leaving the fields, the grid and the calculation - and here it is, in essence, a widget for a third-party site. <br><br>  But the fast path was rejected - because it slowed down the load: we would get 1959 kilobytes, 269 of which would occupy all the CSS used in the service.  But one of the main requirements for the widget on the site is that it loads quickly. <br><br>  <b>And correct.</b>  Here we went to the <a href="http://gulpjs.com/">GULP</a> - in order to trim everything superfluous, like line breaks, and collect one minified file with the most clean code possible.  Why gulp?  There is an important reason for that - we had 41 files (and, accordingly, 41 server requests), and we wanted to fit everything into one request.  And we got what we wanted. <br><br><img src="https://habrastorage.org/files/d9f/2b3/347/d9f2b334758e4625bbd78bf730efd00c.png"><br>  <i>This is our <a href="https://ucalc.pro/example/31">default template</a> .</i>  <i>There was a download speed smoker</i> <br><br><img src="https://habrastorage.org/files/6b1/ffd/952/6b1ffd9527d74a9cb063b2cbdb18fb64.png"><br>  <i>Began loading speed of a healthy person</i> <br><br>  Now we leave from 140 to 180 kilobytes - depending on the number of fields.  For each type of field there are two versions: short and twice as short - for a third-party site. <br><br>  And what about the speed of execution of the script, you ask? <br><br><img src="https://habrastorage.org/files/e74/69b/3a7/e7469b3a74774c858afd0d76536dfdbf.png"><br>  <i>This is a <a href="https://ucalc.pro/api/16968">huge</a> wedding expenses <a href="https://ucalc.pro/api/16968">calculator</a> created by a real user.</i>  <i>It was like this.</i> <br><br><img src="https://habrastorage.org/files/2f4/4f7/5b3/2f44f75b37c9466fad41bdcae963b96c.png"><br>  <i>The same project.</i>  <i>It became so</i> <br><br>  As can be seen in the picture below, the text field remains the most heavy - we will optimize it further, giving the site only the option the user has chosen (in the field settings there is a choice between phone, mail, text, numeric value, etc.).  For the rest, for each calculator, we connect only used modules. <br><br><img src="https://habrastorage.org/files/623/45c/a7b/62345ca7b8774ace9b92fb3af063043e.png"><br><br>  After downloading on a third-party site, the calculator no longer refers to our server: all the formulas and other necessary things are sewn into the code loaded on the site. <br><br><h1><a name="42"></a><br>  Simplify auto-update calculator embedded on the site </h1><br>  In the ideal case, the user has collected a calculator, received a code for embedding it on the site - and happiness has come. <br><br>  But installation on the site does not always mean that the person will no longer touch the finished calculator.  The most obvious case when changes are required is a rise or fall in the price of a service. <br><br>  Therefore, for each embedded calculator, we make two versions: <br><br><ol><li>  Published - the one that is directly embedded on the site. </li><li>  Editable - the one that you can open and start editing in your account. </li></ol><br><img src="https://habrastorage.org/files/119/d76/a7f/119d76a7f52d402482706bf1186a601d.png"><br><br>  For this purpose, the system has a large green ‚ÄúSave‚Äù button - until you touch it, we don‚Äôt transfer the changes made in the editing version to the site, but simply memorize them through autosave. <br><br><h2>  First conclusions </h2><br>  The fact is that when creating an online calculator and its admin, a task with a lot of ready-made solutions, there is plenty of room for new products.  Someone new is everything like <a href="https://habrahabr.ru/users/brizing/" class="user_link">brizing</a> - the calculator designer was the first combat project in which he was entrusted with the work of the junior.  But the rest have discovered many new things. <br><br>  There will obviously be more discoveries - and you can give us more ideas and tasks: <a href="https://ucalc.pro/">uCalc</a> is at the stage of open testing, and we will be grateful to everyone who takes the time to touch the solution and unsubscribe thoughts and feelings in the comments, or in a personal, <a href="https://habrahabr.ru/users/brizing/" class="user_link">brizing</a> and <a href="https://habrahabr.ru/users/condor-bird/" class="user_link">condor- bird</a> . <br><br>  <b>UPD.</b>  Thanks to everyone who took part in testing the service.  A list of upcoming updates can be found <a href="http://all.uwishlist.ru/forums/589267-%25D0%2598%25D0%25B4%25D0%25B5%25D0%25B8-%25D0%25BF%25D0%25BE-%25D1%2581%25D0%25B5%25D1%2580%25D0%25B2%25D0%25B8%25D1%2581%25D1%2583-ucalc-pro">here</a> . </div><p>Source: <a href="https://habr.com/ru/post/324620/">https://habr.com/ru/post/324620/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../324608/index.html">Intel strengthens its position in HPC</a></li>
<li><a href="../324610/index.html">Monitoring of engineering infrastructure in the data center. Part 2. Power supply system</a></li>
<li><a href="../324612/index.html">How we started to develop our own project management system and what came out of it</a></li>
<li><a href="../324616/index.html">Position-independent code (PIC) in x64 shared libraries</a></li>
<li><a href="../324618/index.html">Encrypted mail services: what to choose?</a></li>
<li><a href="../324622/index.html">Data Science Weekend Review</a></li>
<li><a href="../324624/index.html">Why in the mobile development team appeared safe running Windows 10</a></li>
<li><a href="../324626/index.html">About biology, mega constructions and magical animals</a></li>
<li><a href="../324628/index.html">Schr√∂dinger data center</a></li>
<li><a href="../324632/index.html">On the market, a cow man sold (computational solution)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>