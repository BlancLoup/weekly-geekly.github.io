<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How we use Zabbix monitoring system for retail</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="You will not be surprised by monitoring systems like Zabbix. However, in retail they are not frequent guests, and if they are used, they are more and ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How we use Zabbix monitoring system for retail</h1><div class="post__text post__text-html js-mediator-article">  You will not be surprised by monitoring systems like Zabbix.  However, in retail they are not frequent guests, and if they are used, they are more and more to control servers.  We went further and applied them to monitor cash software and equipment. <br><br><img src="https://habrastorage.org/webt/oe/91/5m/oe915mnserqh-stapn4hwvsxb6m.jpeg"><a name="habracut"></a><br><br><h2>  Why monitoring systems are rare in retail </h2><br>  Everything is completely transparent here: retailers and service companies rarely use monitoring systems, because it is difficult to assess their economic efficiency.  With the introduction of business processes, everything is simple - X money and X effort.  But to calculate how much they saved the retailer in the future heavier. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Service contractors usually do not implement monitoring systems yet, so as not to reduce the significance of their work.  This is logical: Zabbix allows you to identify the problem before the client saw it.  On the one hand, it improves the quality of services provided.  On the other hand, the client sometimes has the erroneous impression that his business processes are well-established and work without any third-party assistance.  But this can be solved by providing timely reporting. <br><br>  However, even those retailers who agree to implement a monitoring system usually all end with monitoring servers, office computers, bespereboynik, active network equipment.  We also do this: <br><br><ul><li>  from the servers we obtain data on the utilization of processors, the performance of the fans, hard drives, memory, temperatures of processors and motherboards; </li></ul><br><ul><li>  from bespereboynik - status, charge level, information about how much time they will work in the event of a power outage; </li></ul><br><ul><li>  from network equipment - traffic on ports, utilization of resources. </li></ul><br>  As part of the information received, automatic requests are made to the Service Desk.  A number of other data helps us in investigating incidents.  A classic example: a user complains that his computer is slow.  Without a monitoring system, it‚Äôs hard to track down - either when the engineer connects, everything will be fine, or the employee has a subjective impression (his working PC is objectively slower than a clever gaming computer that is at home).  Therefore, we study the retrospective - the graphics for the time when the person watched the problem. <br><br>  But all of the above is commonplace, nothing new.  It so happened that we went further and with the help of Zabbix we began to monitor the performance of the <a href="https://www.pilot.ru/catalog/programmnoe-obespechenie/profi-t/">cash register software</a> and the cash register equipment.  We do this for large international retailers that are widely represented on the Russian market in both the food and non-food segments.  Also, our regional monitoring system was acquired by some regional networkers, who can now independently control the performance of their business processes. <br><br><h2>  Why we began to do this </h2><br>  Speaking frankly, the monitoring system was implemented in Pilot spontaneously, without any project and in parts.  If the decision about this came from above, perhaps we would have followed the path of other service contractors and would not bother.  But we have initiated the introduction of steel line employees - engineers.  Faced with one or another breakdown of cash equipment or software glitch, they were looking for how to prevent it in the future.  And they came to the idea of ‚Äã‚Äãa monitoring system. <br><br>  With its help, we get three solutions to problems: <br><br><ul><li>  preventively - fix the problem before it happened.  For example, when monitoring a hard disk, we see that the space on it has decreased to a critical level.  And we take measures in this connection; </li></ul><br><ul><li>  after the fact - we solve the problem after it happened.  For example, the fan on the processor failed.  The processor is still warm, but it works.  Sooner or later, of course, it will fail, but as long as we have the opportunity to replace the fan.  That is, the user has not yet noticed the incident, but he already is.  From its point of view, we solve the problem proactively, but from the point of view of equipment, after the fact; </li></ul><br><ul><li>  analytically - we get a large amount of data in retrospect for the analysis of incidents. </li></ul><br><br><img src="https://habrastorage.org/webt/-1/yh/v0/-1yhv02wsngac5pl_ydhzezyskk.png"><br><br>  Of course, our monitoring system affects far from all cash equipment because it does not always make sense.  Take a barcode scanner.  They are either working or not.  And in the second case, the store employees will inform us about the problem much faster than the monitoring system.  Therefore, we focused on the control of <a href="https://www.pilot.ru/catalog/pos-sistemy/">POS-terminals</a> and <a href="https://www.pilot.ru/catalog/kontrolno-kassovaya-tekhnika/">cash registers (CCP)</a> . <br><br><h2>  CCP health monitoring </h2><br>  KKT gives through the driver enough information that allows you to judge its performance.  For example: <br><br><ul><li>  Various inventory data - versions of hardware, firmware, drivers, serial numbers.  In general, the composition of the equipment at the service is fixed in the annexes to the contracts and stored in the CMDB, however, the customer is free to move and replace the equipment as he pleases.  Of course, he does not always remember that it would be nice to notify the service company.  This is where the monitoring system comes to the rescue, which tracks the changes in the equipment configuration.  We wrote an integration module that adjusts the CMDB according to the inventory data from Zabbix.  In addition to tracking the actual configuration of equipment at service facilities, it, coupled with the auto-detection functionality of the monitoring system, thoroughly reduces the time for starting inventory of a new client, if such work is provided for in the contract. </li></ul><br><br>  Case from life: many probably remember the case of a bug in the firmware of one of the manufacturers of CCP in December 2017?  As soon as the first information about the problem appeared, we set up a trigger in Zabbix, which signals the firmware version of the bug, and received a list of CCV that needs urgent work. <br><br><ul><li>  The CCP status code is an excellent parameter that allows you to track almost any malfunction, ranging from incorrectly set time or overheating of the printer head to the presence of unsent fiscal data on the fiscal drive. </li></ul><br><h2>  Control of cash register software </h2><br>  As part of monitoring the cash program, we monitor various signs: <br><br><ul><li>  service operability - software is enabled or not, does it open any network ports or is waiting for a connection; </li></ul><br><ul><li>  records in the logs - usually the software writes to the logs about the problems that have arisen, forms a set of errors.  As an indirect sign, if the logs change, then the software works, if there are no new entries in them, then you need to create an application; </li></ul><br><ul><li>  in fact, the entries themselves in the logs - if an error message is encountered, the trigger is triggered.  After processing, the records are transferred to ELK: Logstash from us removes the logs through the Zabbix API; </li></ul><br><ul><li>  the results of the work of the integration software that downloads, converts and sends data (for example, transmits information to the USAIS, CRF, receives a product line).  So, recently an incorrectly formed data package with a nomenclature disabled the software of self-payment terminals, paralyzing their work in one of our customer‚Äôs stores.  Thanks to the monitoring system, we were able to locate the problem on time; </li></ul><br><ul><li>  software versions, drivers - sometimes there are situations when, for example, the versions of two programs are not compatible, but for the work of cash software it is necessary that they interact; </li></ul><br><ul><li>  databases - we monitor the serviceability of services, the availability of network ports, the number of databases, their versions and the number of disabled databases; </li></ul><br><ul><li>  external services (for example, USAIS, with which we interact through IP networks in automatic mode). </li></ul><br><br><img src="https://habrastorage.org/webt/aj/58/pb/aj58pbyioafwqbsfp7x7jwfq0ui.png"><br><br><h2>  Problems that most often go to the monitoring system </h2><br>  Most often, Zabbix signals us about network problems: device unavailability, too long response time.  Further, there are difficulties with the utilization of resources: low-power PCs are usually used for cash registers.  The third most frequent issue is the validity of data from external systems. <br><br>  Quite often there are reports of incorrect local time.  Cash PCs are usually not introduced into AD and the ntp service there has to be configured separately, which is sometimes forgotten.  And the wrong time at the checkout is fraught with major problems for the store: for example, selling alcohol when it is prohibited, which can lead to a fine or loss of a license. <br><br><h2>  Fighting fraud and equipment downtime </h2><br>  Another field of activity, where Zabbix, rather, by the way, unexpectedly, turned out to be useful - the fight against fraud.  It happens that contractors in the regions or individual field engineers who are paid by the job, enter into a criminal conspiracy with the users of the customer and solve problems that actually did not exist.  We can bring them to clean water by analyzing the readings of the monitoring system.  So far this is done manually, when a suspicious surge of activity is registered in a particular location, but we are working to automatically verify applications against Zabbix readings in all cases where this is possible. <br><br>  Now from our monitoring system receives from 15 to 25% of applications.  This is quite a small amount, but by the end of this year we want to bring it up to 50% for customers who have signed <a href="https://www.pilot.ru/services/servisnoe_obsluzhivanie/">service</a> agreements with us. </div><p>Source: <a href="https://habr.com/ru/post/442044/">https://habr.com/ru/post/442044/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../442032/index.html">Bison reintroduction (a small victory for zoologists)</a></li>
<li><a href="../442034/index.html">Bypassing ReCaptcha in Selenium tests</a></li>
<li><a href="../442036/index.html">Mature container executable environment: containerd has become a graduate of the CNCF</a></li>
<li><a href="../442038/index.html">The event digest for HR-specialists in the field of IT for March 2019</a></li>
<li><a href="../442040/index.html">Partnership as an effective tool for business development</a></li>
<li><a href="../442046/index.html">React and Code Splitting</a></li>
<li><a href="../442048/index.html">How to solve typical problems programmer google</a></li>
<li><a href="../442050/index.html">What to do if you want to collect money for the repair of "The failure", and only Wikipedia is at hand</a></li>
<li><a href="../442052/index.html">New technology can improve resolution of images of biological tissues tenfold.</a></li>
<li><a href="../442054/index.html">Joomla Digest for February 2019</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>