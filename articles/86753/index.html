<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Install and configure cGit on Ubuntu</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="With the help of this article (step-by-step instructions) you can create your own Git repository, with a cGit -based web interface. 

 So, simply and ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Install and configure cGit on Ubuntu</h1><div class="post__text post__text-html js-mediator-article">  With the help of this article (step-by-step instructions) you can create your own Git repository, with a <a href="http://hjemli.net/git/cgit/">cGit</a> -based web interface. <br><a name="habracut"></a><br>  So, simply and concisely, the standard cGit (clickable) looks like: <br> <a href="http://piccy.info/view/03d1893530c39c81ec030c34ec3e7c5e/"><img src="https://habrastorage.org/getpro/habr/post_images/977/967/c1f/977967c1f95c32685b9a46f3895fb81a.jpg"></a> <a href="http://piccy.info/view/c7ad7d7af6013a32f663f73d73607b52/"><img src="https://habrastorage.org/getpro/habr/post_images/a9d/126/a84/a9d126a844cef0fedac73e0980611a8d.jpg"></a> <a href="http://piccy.info/view/4e1255e29101c12a9d266b8cf690a700/"><img src="https://habrastorage.org/getpro/habr/post_images/b6d/c47/ca6/b6dc47ca6d761815e117a30eb57b72db.jpg"></a> <br><br>  Now virtual dedicated servers (VPS, VDS) have become very popular.  For 5-15 dollars a month, you can afford to use almost full-fledged hosting, with individual settings, good resources and almost everything your heart desires.  My soul wants to use the Git version control system.  She has a lot of advantages, among which the main ones are speed and convenience.  I used SVN for quite a long time (not on my own) and I was very surprised when I tried Git.  The development process, merging branches, switching from branch to branch and updating is extremely convenient, fast and smooth!  As a web muzzle, I chose cGit, because I met quite a few places where it is used, it is small and fast.  And also because I really didn't like gitweb, which for some reason is more popular.  Ubuntu OS 9.04 and 9.10 are installed on my server and client, respectively.  All actions will be performed in the console.  The instruction is designed for a novice user. <br><br>  First of all (if you have not done it yet) we will need to install <a href="http://ru.wikipedia.org/wiki/LAMP">LAMP</a> on a remote computer (it is the server, it is also the future storage).  To do this, just execute in ubunt: <br><pre><code class="bash hljs">sudo tasksel install lamp-server</code> </pre> <br>  Next we download the latest version of cGit and compile it.  For this we need some libraries and programs.  To install them - run: <br><pre> <code class="bash hljs">sudo apt-get install libcurl4-openssl-dev git-core build-essential mc</code> </pre> <br>  We installed the packages for compilation, the file manager mc (with its very convenient editor mcedit) and the Git toolkit itself.  Let's start compiling and installing: <br><pre> <code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> git://hjemli.net/pub/git/cgit <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> cgit/ git submodule init git submodule update make</code> </pre> <br>  Download about 20 MB.  Wait for a successful compilation and linking (usually not longer than a few minutes).  As a result, we have a cgi-script, logo and css file for the future repository.  cGit we will install and configure manually. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Several options are possible further, depending on how you want to access cGit.  It was convenient for me to contact the subdomain.  For example: <b>git.example.ru</b> .  To do this, create a new virtual host (the name of the remote user is <b>projects</b> ): <br><pre> <code class="bash hljs">sudo touch /etc/apache2/sites-available/cgit sudo mcedit /etc/apache2/sites-available/cgit</code> </pre><br>  And insert into the file a piece of code (do not forget to change the domain to your own): <br><br><pre> <code class="apache hljs"><span class="hljs-section"><span class="hljs-section">&lt;VirtualHost *:80&gt;</span></span> <span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">ServerName</span></span></span></span> git.example.ru DocumentRoot /home/projects/www/cgit DirectoryIndex cgit.cgi SetEnv CGIT_CONFIG /etc/cgitrc &lt;Directory <span class="hljs-string"><span class="hljs-string">"/home/projects/www/cgit"</span></span>&gt; Options FollowSymlinks ExecCGI Allow from <span class="hljs-literal"><span class="hljs-literal">all</span></span> AllowOverride <span class="hljs-literal"><span class="hljs-literal">all</span></span> Order allow,deny &lt;Files cgit.cgi&gt; SetHandler cgi-script &lt;/Files&gt; &lt;/Directory&gt; &lt;Directory <span class="hljs-string"><span class="hljs-string">"/home/projects"</span></span>&gt; Allow from <span class="hljs-literal"><span class="hljs-literal">all</span></span> &lt;/Directory&gt; &lt;/VirtualHost&gt;</code> </pre><br><br>  Create a directory for cGit and copy the compiled files there: <br><pre> <code class="bash hljs">mkdir ~/www/cgit -p <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ~/cgit cp cgit ~/www/cgit/cgit.cgi cp cgit.png ~/www/cgit/ cp cgit.css ~/www/cgit/</code> </pre><br>  Create a configuration file for cGit and write the settings in it: <br><pre> <code class="bash hljs">sudo touch /etc/cgitrc sudo mcedit /etc/cgitrc</code> </pre> <br>  The editor opens.  Here are my contents of the config, with comments: <br><pre> <code class="hljs lua">#     virtual-root=/ #     . css=/cgit.css logo=/cgit.png #    Git . scan-<span class="hljs-built_in"><span class="hljs-built_in">path</span></span>=/home/projects #   ... enable-index-links=<span class="hljs-number"><span class="hljs-number">1</span></span> enable-<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>-filecount=<span class="hljs-number"><span class="hljs-number">1</span></span> enable-<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>-linecount=<span class="hljs-number"><span class="hljs-number">1</span></span> #  root-title=  # root-desc=    ,     ? #  ,     (  ) snapshots=tar.gz tar.bz2 zip #  ( ,   )  repo.url=temp repo.<span class="hljs-built_in"><span class="hljs-built_in">path</span></span>=/home/sartor/www/temp/.git repo.desc=    repo.owner=Sartor repo.url=<span class="hljs-built_in"><span class="hljs-built_in">exp</span></span> repo.<span class="hljs-built_in"><span class="hljs-built_in">path</span></span>=/home/sartor/www/<span class="hljs-built_in"><span class="hljs-built_in">exp</span></span>/.git repo.desc=Experimentum repo.owner=Sartor</code> </pre> <br>  Now everything is ready for launch.  Add a virtual host to the list of allowed ones and restart Apache: <br><pre> <code class="bash hljs">sudo a2ensite cgit sudo /etc/init.d/apache2 restart</code> </pre> <br>  Go to git.example.ru and make sure that everything works. <br>  If there is a 50x error, you need to do the following: <br><pre> <code class="bash hljs">sudo touch ~/www/cgit/.htaccess sudo mcedit ~/www/cgit/.htaccess</code> </pre> <br>  And insert the following contents (don't forget to change the paths to your own): <br><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">RewriteEngine</span></span></span></span> <span class="hljs-literal"><span class="hljs-literal">on</span></span> RewriteCond <span class="hljs-variable"><span class="hljs-variable">%{HTTP_HOST}</span></span> ^git\. RewriteCond <span class="hljs-variable"><span class="hljs-variable">%{REQUEST_FILENAME}</span></span> -f RewriteRule .* -<span class="hljs-meta"><span class="hljs-meta"> [L] RewriteCond %{HTTP_HOST} ^git\. RewriteRule ^git/$ /home/projects/www/cgit/cgit.cgi [L] RewriteCond %{HTTP_HOST} ^git\. RewriteRule ^(.*)$ /home/projects/www/cgit/cgit.cgi?url=$1 [L,QSA]</span></span></code> </pre> <br>  Now it will definitely work :) <br>  To check whether everything works correctly, create a repository with a single file: <br><pre> <code class="bash hljs">mkdir ~/<span class="hljs-built_in"><span class="hljs-built_in">test</span></span> <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ~/<span class="hljs-built_in"><span class="hljs-built_in">test</span></span> touch habr.txt <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">" , "</span></span> &gt; habr.txt git init git add . git commit -m <span class="hljs-string"><span class="hljs-string">" "</span></span></code> </pre> <br>  We update starnichka in the browser and see our first commit. <br><br>  Summarize what we have done and how to use it: <br>  On the remote server, we created a web interface for the popular Git version control system.  It is accessed through the git subdomain. <br><br>  I will describe the approximate developer script: <br><ol><li>  I create a new folder on the server (for example, <b>www / test</b> ) at home. </li><li>  I do <b>git init</b> in it. </li><li>  On the local machine I do <b>git clone projects@example.ru: www / test / .git</b> .  This will create a local copy of the remote repository (as long as it is empty). </li><li>  I throw a bunch of files into the local folder that we created in the previous step.  I do, so to speak, the framework of the project.  If necessary, add exceptions (.gitignore). </li><li>  I execute <b>git add.</b>  <b>&amp;&amp; git commit &amp;&amp; git push</b> , commenting on my changes. </li><li>  Everything.  Local and remote repositories updated and synchronized. </li><li>  I work on the project.  After any meaningful changes, I‚Äôll do step 5 again. Do not forget to go to the folder with which you worked.  Especially <s>lazy</s> cunning can do alias for bash. </li></ol><br>  If you are a web developer and you need to quite often show the current result of work, it will be very useful to put the <b>post-receive</b> file in the .git / hooks folder of a project with the following contents: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/sh cd .. env -i git checkout -f echo "   !"</span></span></code> </pre> <br>  And give him the right to perform.  Now, after each update (step 5), the project's working tree will also be updated and real files will always be the latest, up-to-date version (and almost everyone expects it when they update the remote repository, but this does not happen by default). <br><br>  Learning how to work with git is quick and intuitive.  For this hard currency there is a lot of information in different languages, and with the web interface it will be even easier to use. <br><br>  I do not pretend to the purity of configs, the admin from me is not very.  But they are guaranteed to work. </div><p>Source: <a href="https://habr.com/ru/post/86753/">https://habr.com/ru/post/86753/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../86746/index.html">Ultra-thin laptop LG X300</a></li>
<li><a href="../86747/index.html">Original greetings from Skype on March 8 - "You really cook delicious!"</a></li>
<li><a href="../86748/index.html">Annual award of the best on the demoscene according to scene.org</a></li>
<li><a href="../86750/index.html">Solar Powered Ships</a></li>
<li><a href="../86751/index.html">Flight Novosibirsk - Moscow, GPS data analysis</a></li>
<li><a href="../86754/index.html">Advanced Daddy - territory for IT dads</a></li>
<li><a href="../86756/index.html">Turning Midnight Commander into a console browser for GIT</a></li>
<li><a href="../86758/index.html">Will cable - Titanic, when will you drown?</a></li>
<li><a href="../86761/index.html">The first neurocomputer interface on sale</a></li>
<li><a href="../86763/index.html">Weekly digest of new computer hardware (Release 2) - CeBIT 2010</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>