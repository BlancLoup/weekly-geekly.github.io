<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Alternatives to the blockchain for maintaining secure registries</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Technology "blockchain" is beautiful and promising. Everything in it would be quite wonderful if a few annoying nuances: 



1. A very long time. The ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Alternatives to the blockchain for maintaining secure registries</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/web/709/017/0ba/7090170ba8ba4854a40c3693d88dd7d9.jpg"></div><br>  Technology "blockchain" is beautiful and promising.  Everything in it would be quite wonderful if a few annoying nuances: <br><br><ol><li>  <b>A very long time.</b>  The time of adding a transaction to a bitcoin chain, for example, is estimated from a minute to half an hour.  In Ethereum it is added faster, but in any case it is impossible to bring time to fractions of a second.  There is nothing to think about making the addition of data to the blockchain part of an OLTP transaction. </li><li>  Mining is <b>very resource intensive</b> .  It is, in fact, necessary in order to add computational complexity to the architecture. </li><li>  <b>Very expensive.</b>  The consequence of resource intensity. </li><li>  Technology <b>disgustingly scaled</b> both up and down.  If you need to build a system that will register billions of records daily, the blockchain is no good.  Also, the blockchain will be firing a gun at sparrows, if you try to adapt it for reliable logging of some petty nonsense. </li></ol><br>  I would like to have a technology that would simultaneously allow registries to conduct in an impenetrable reliable manner, and would be somehow simpler and cheaper. <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Model situation (fiction based on real events)</b> <div class="spoiler_text">  In one large production and distribution company there was a large sales department, in which, as usual, bonuses to managers depended on the volumes sold. <br><br>  The sweetest sales volumes are made on the most popular and, as a result, in short supply.  Sales managers - the guys are cunning.  They quickly realized that the surest way to have good bonuses is to constantly monitor shipments, and as soon as there is a shortage in the warehouse, quickly reserve it for yourself.  Create a fictitious ‚ÄúBuyer‚Äôs Order‚Äù, fill it with a deficit and tell everyone that this is a client who, for the time being, thinks he needs to take more (in general, the situation is normal).  Then, when there is a real request for a deficit, quickly remove the required amount from the fictitious account, and at the same second add to the real one. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      As a result, the business incurs losses.  In the warehouse for weeks lying goods, which would have to go on the first day.  The sales department, instead of looking for new customers and building relationships with them, has been monitoring deliveries all day.  Squabbles, hassle, mutual recriminations and offenses.  Something had to be done with this, but in such a way that it did not hurt the core business process.  We decided to start logging backup operations.  To keep track of situations when the deficit is reserved by the ‚Äúbuyer's order‚Äù, but then this reservation does not turn into a sale with the same document.  Those who abuse this most are hanged on the pillory. <br><br>  At first, it helped, but then a strange effect began to be observed: the indicators for the shortage of stock in the warehouse returned to the previous ones, although everything was chocolate in the logs.  It turned out that the realization did not take into account the power of the charm of sales managers.  For the sake of high bonuses, they got into the habit of conspiring with the system administrators so that they clean out compromising materials from the logs.  In the course went the whole arsenal of funds - bribery, blackmail, flirt, women's tears.  The guys from the administration service had nothing to oppose such an attack. <br><br>  The question arose that the technical means make it impossible to retroactively distort the log.  We looked in the direction of the blockchain, but we found out that it was too expensive to pass product reservations through popular blockchain platforms, and there was no desire to build a separate server rack for our own blockchain for settling squabbles in the sales department.  What to do is not clear. <br></div></div><br>  In principle, this could be the end of the publication and offer the respected public to dream up in the comments on how to make a super reliable recording of transaction steps in the conditions of total distrust of all to all without meaninglessly burning the processor power with a worthless selection of hash functions.  But in order that the only answer to the question was not a banal ‚Äúthis is impossible‚Äù or something about sidechains, I will try to offer my own version. <br><br>  At once I will make a reservation that the speech is not about how ‚Äúhow we should reorganize Bitcoin‚Äù.  Let bitcoin remain the way it is, and we will talk about how to make something functionally similar to the blockchain, but usable for a variety of needs, in particular in corporate systems.  Cheap and angry. <br><br>  First, look closely at the task itself.  Firstly, we already have a registry that is protected from tampering.  Secondly, the distribution of the system is not very important to us.  It is most convenient if the registry protection system is centralized.  Ideally, on the same server as the registry itself.  Distribution of the registry and its protection system can also be useful in many cases, but you need to start with a simple one.  With the principle of protection. <br><br>  Registry protection system in the corporate system infrastructure: <br><div style="text-align:center;"><img src="https://habrastorage.org/web/ad4/7c5/d8f/ad47c5d8fa10458486a7923b22ef3188.png"></div><br>  A priori, we believe that everything that happens on the servers is in the full power of the administrators, and these administrators with their human passions are the weak link.  Therefore, the function of monitoring the integrity of the registry is partially assigned to the workstations of users.  The principle of "do not trust, verify."  The administrator can do anything with the data located on the server, but he is unable to track where and on which computers (as well as smartphones, tablets, flash drives, etc.) spread checksums that fix the integrity of the registry.  A function is built into the client application (or, possibly, into a separate special monitoring application), which, if a violation of the registry integrity is detected, lights a red light and allows you to generate a cryptographically reliable indictment. <br><br>  Protected registry and its checksums: <br><br><img src="https://habrastorage.org/web/f15/364/4eb/f153644eb0324e8c96e5ddc9d7a8d1d4.png"><br><br>  For each registry entry, its own hash (H0 <sub>i</sub> ) is calculated, and the binary tree hashes of the second, third, and so on orders (H1, H2, ...) are automatically expanded.  After the next entry is entered in the registry, the entry itself is returned to the client application, as well as such a set of hashes of higher levels, so that it completely covers all previous registry entries.  For example, adding the sixth record returns D <sub>5</sub> , H0 <sub>5</sub> , H1 <sub>2</sub> and H2 <sub>0</sub> (it is more convenient to look at the picture below).  Adding the 15th record, respectively, returns D <sub>14</sub> , H0 <sub>14</sub> , H1 <sub>6</sub> , H2 <sub>2,</sub> and H3 <sub>0</sub> .  Having received the answer from the server, the client application: <br><br><ol><li>  Checks the compliance of D <sub>i</sub> with what it was about to register. </li><li>  Independently calculates H0 <sub>i</sub> and checks whether the result is equal to what the server sent. </li><li>  It remembers the response received from the server to its local database. </li></ol><br>  In order to exclude a fake server response and other troubles, this response can be protected by electronic signature of the server. <br><br>  <b>Express check of invariance of own records of the client</b> <br><br>  When a client has added another entry to the registry, he can verify a new received slice of hashes with slices obtained during previous calls.  Since additional levels could have increased since the previous access, a certain amount of additional data from the server may be required to verify the hashes.  For example, if a client first added D <sub>5</sub> , and then added D <sub>14</sub> , then for checking H2 <sub>0</sub> from H3 <sub>0</sub> he requests the value H1 <sub>3</sub> from the server, then calculates H2 <sub>1 from</sub> H1 <sub>2</sub> and H1 <sub>3</sub> , then from H2 <sub>0</sub> and H2 <sub>1</sub> calculates H3 <sub>0</sub> , which compares with that obtained.  If the values ‚Äã‚Äãdo not match, a red light turns on and an alarm is triggered. <br><br><img src="https://habrastorage.org/web/39b/3ab/c0f/39b3abc0fd6843c687aa675c7dc79e7b.png"><br>  <i>Gray color shows data missing on the client.</i>  <i>When adding the first record (D <sub>5</sub> ), the client saved the data highlighted in green in its local database, and when adding the next record (D <sub>14</sub> ), it received the data highlighted in blue.</i>  <i>The highlighted yellow is additionally requested from the protection server.</i> <br><br>  <b>Complete check of the registry</b> <br><br>  The client requests a section of the registry from the server and checks whether it is possible to exit from the received data to those hashes values ‚Äã‚Äãthat are stored in its local storage. <br><br>  <b>As a result, we have:</b> <br><br><ol><li>  <b>The speed of</b> adding data to the registry.  Mine Coin is no need.  Increased performance to the extent that the data in the secure registry can be recorded inside the OLTP transaction. </li><li>  <b>Reliability.</b>  Imperceptibly delete the entry from the registry is impossible.  The complexity of data corruption is equal to the difficulty of selecting a full hash collision. </li><li>  <b>Ease of implementation.</b>  Excellent downward scalability. </li><li>  Excellent upward scalability.  Even if there are one hundred billion entries in the registry, the number of levels of the binary tree is 36. If SHA-256 hashing is used, the hash data transmitted from the server is less than 2 kilobytes. </li><li>  Although the registry maintenance becomes centralized (which is not very good for Bitcoin-style cryptocurrency), a distributed architecture is quite possible based on replication and on-line switching from compromised nodes to those that were not found to be a forgery. </li></ol><br>  PS About the source code on the githaba, please do not ask.  They are not.  The idea goes into publication with the wheels. </div><p>Source: <a href="https://habr.com/ru/post/331706/">https://habr.com/ru/post/331706/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../331694/index.html">Conscious mistakes: how to add stupidity in the AI ‚Äã‚Äãcode</a></li>
<li><a href="../331696/index.html">Tabs, spaces and your salary - what's the connection?</a></li>
<li><a href="../331698/index.html">Integration of statistical code analysis tools for OpenStack to Jenkins CI</a></li>
<li><a href="../331700/index.html">An integrated approach to protection against targeted attacks and extortionate software such as Ransomware</a></li>
<li><a href="../331704/index.html">What happens if you cross React and Angular?</a></li>
<li><a href="../331708/index.html">Results of the Stepik Contest and new adaptive online courses</a></li>
<li><a href="../331710/index.html">Efficient DI library on Swift in 200 lines of code</a></li>
<li><a href="../331712/index.html">Evolution after evolution</a></li>
<li><a href="../331714/index.html">Translation of the Appium Essentials book. Chapter 3</a></li>
<li><a href="../331718/index.html">How to earn $ 80,000 on the App Store</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>