<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ESP8266 where to start or first experience</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article I want to share the experience of what to do when the ESP8266 handkerchiefs fall into my hands for the first time. At once I will make...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>ESP8266 where to start or first experience</h1><div class="post__text post__text-html js-mediator-article">  In this article I want to share the experience of what to do when the ESP8266 handkerchiefs fall into my hands for the first time.  At once I will make a reservation that picking in such glands, as well as programming, is my hobby for my money and in my free time from the main activity.  Therefore, I ask you to treat with a certain discount to the degree of criticism of this material. <br><br>  Why did I decide to write this?  It's simple: I killed 3 weeks of time to figure out where to start and how it works.  In addition, I will try to collect a small catalog of links for working with ESP8266.  I hope that this information will help you save at least a fraction of the time. <br><br><img src="https://habrastorage.org/files/4ee/3f5/d03/4ee3f5d03937417fb3e6615740e7d527.jpg" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So let's get started! <br><a name="habracut"></a><br>  I ordered 3 options for boards on a well-known Chinese website: <br><br><ol><li>  ESP8266 WIFI Serial Wireless Dev Test Board based on ESP-12 (hereinafter referred to as the Yellow Board) ($ 3.12) </li><li>  ESP8266 ESP-07 with Adapter Plate For ESP8266 (hereinafter ESP-07) ($ 2.30) </li><li>  LoLin V3 NodeMcu Lua based on ESP-12 (hereinafter referred to as Lolin) ($ 3.12) </li></ol><br>  The reasons why I took this zoo: <br><br><ol><li>  The Yellow board has LEDs built in which you can immediately blink, you can use not fabulous 3.3V for power supply, which you need to somehow get, but 3 AA batteries or by connecting 4.5V (which I did). </li><li>  LoLin bribed me by connecting with a micro cable and it doesn‚Äôt need any UART converters - it is immediately integrated into it based on the Chinese CH340 chip, for which you can easily find drivers like on win7x64 and on win10x64 (my cases), and Again, powered by a standard adapter with USB output, and not tricky 3.3V. </li><li>  Specifically, this ESP-07, I took a meteorological station.  The mercury-analog thermometer has faded, nailing a new one is lazy, and it‚Äôs lying when heated from the wall of the house decently.  For beginners, I recommend taking the Adapter Plate right away - the rise in price is only 20 cents, and there are much more amenities. </li></ol><br>  To begin with - check modules. <br><br>  In all start-up instructions, they write that if you plug in the power and the ‚ÄúAI-THINKER xxxxxxx‚Äù WiFi network appeared, it means the device is working.  It happened with my devices - they all created a WiFi network to which you could connect.  Hooray!  Earned!  I was delighted, but early. <br><br>  First I decided to experiment with the Yellow Board.  The seller with the best price-rating indicator in the description of the goods had only pictures.  And not a word of description.  On the Russian-speaking resources there were references to this board, but I did not find any specifics about it.  Some sellers I saw this instruction: <br><br><div class="spoiler">  <b class="spoiler_title">Instructions to the Yellow Board</b> <div class="spoiler_text">  1. Android phone installation IOT.APK, IOS client be released later <br>  2. shorting cap <br>  3. Replace the battery, mobile search network "AI-THINKER" router <br>  4. join the router (the router module form) password is: ai-thinker <br>  5. After the mobile phone. <br>  6. Enter the ‚ÄúSSID‚Äù and ‚ÄúPassword‚Äù in the ‚ÄúConfigure Device‚Äù, then click on the router icon. again ‚Äúdiscovered device‚Äù to achieve control in the LAN. <br><br>  My free translation: <br><br>  1. Install IOT.APK on a device with Wi-Fi running on Android OS (does not work on version 5.0 and higher!), The Client for IOS will be released later <br>  2. On the board, you must remove the jumper that activates the firmware mode. <br>  3. Restart the module (disconnect and connect the power) and after a minute, look for the AI-THINKER network on the Android device Wi-Fi <br>  4. Connect to this network with the password "ai-thinker" <br>  5. After that, launch the installed IOT application and click on the magnifying glass.  The fee should be automatically determined.  After that, move the sliders, click the switches and watch the LEDs on the board. <br></div></div><br>  The inconsistency was that my network ‚ÄúAI-THINKER xxxxxxxxx‚Äù did not ask for a password, but the phone immediately connected to it.  And the application at point-blank did not "see" ESP after connection.  The RGB LED is blue with a jumper or green without it. <br><br><img src="https://habrastorage.org/files/96d/58f/698/96d58f69805f4f078768b03f4d17800e.jpg" alt="image"><br><br>  I guessed that, perhaps, the Chinese soldered - soldered, and forgot to flash (or crookedly asked).  Therefore, I decided to sew myself.  For firmware, I used the ESP8266 Flasher.  And then the second surprise came out: no program recognized the board, did not respond to commands, the firmware was not flooded.  I connected via Arduino and through the UART converter - nothing.  The other two boards have already managed to reflash and blink the LED, and here it is deaf.  Until I thought to call the contacts. <br><br>  On this board, three pins for the firmware are displayed separately: TX, RX, GND.  So it turned out that TX is divorced on the RX of the ESP-12 itself, respectively, the RX is on the TX.  Those.  it was just necessary to swap two wires: we connect the UART converter according to the following scheme to the separately placed three contacts: <br><br>  Tx-tx <br>  Rx-rx <br>  GND-GND <br>  Or Arduino: <br>  Tx-rx <br>  Rx-tx <br>  GND-GND <br><br>  After this discovery, the module came to life, the original firmware for flashing LEDs was found (AI-THINKER-IOT-2014-10-17 165528.bin) and stitched with the same ESP8266 Flasher.  A password appeared on the access point, and the application immediately saw the Yellow card.  The only caveat: for flashing it is necessary to install a jumper, for all other cases to remove.  And do not forget to reboot the device after flashing. <br><br><h4>  ESP8266 ESP-07 with Adapter Plate </h4><br>  Instructions for connecting ESP-07 (ESP-12) via a UART converter: <br><br><img src="https://habrastorage.org/files/5c9/768/30c/5c976830ca6e43b89442587c8c791fce.jpg" alt="image"><br><br><ul><li>  Red - power 3.3V; </li><li>  Black - GND; </li><li>  Yellow - on the side of the ESP8266 - RX, on the side of the USB-TTL - TX; </li><li>  Green - on the side of the ESP8266 - TX, on the side of the USB-TTL - RX; </li><li>  Orange - CH_PD (CHIP ENABLE) - should always be pulled up to power; </li><li>  Blue - GPIO0 - is connected via a switch to the ground to activate the module flashing mode.  For a normal start of the GPIO0 module, you can leave it not connected; </li><li>  Gray - GPIO15 (MTDO, HSPICS) this pin must be pulled to the ground; </li><li>  If you connect to Arduino, then RX-RX, and TX-TX. </li></ul><br>  With the help of a soldering iron, the ESP-07 and the adapter were combined.  I recommend the adapter because it further facilitates the connection by a solderless method using a breadboard and wires.  In this case, for power, I used a step-down DC-DC converter from China.  There were DS18B20 sensors available, and it was decided to connect them. <br><br>  HomesSmart did not want to be set right away and the choice fell on <a href="http://forum.amperka.ru/threads/esp8266-%25D0%25BE%25D1%2582%25D0%25BF%25D1%2580%25D0%25B0%25D0%25B2%25D0%25BA%25D0%25B0-%25D1%2582%25D0%25B5%25D0%25BC%25D0%25BF%25D0%25B5%25D1%2580%25D0%25B0%25D1%2582%25D1%2583%25D1%2580%25D1%258B-%25D0%25BD%25D0%25B0-narodmon-ru-%25D0%2591%25D1%258E%25D0%25B4%25D0%25B6%25D0%25B5%25D1%2582%25D0%25BD%25D1%258B%25D0%25B9-%25D0%25B2%25D0%25B0%25D1%2580%25D0%25B8%25D0%25B0%25D0%25BD%25D1%2582.4568/">such an example</a> .  I will not reprint the scheme and code - they are almost the same.  It did not work immediately, but with Google and a tambourine it started and the data went to the People‚Äôs Monitoring. <br><br>  Loaded the script via <a href="http://esp8266.ru/esplorer/">ESplorer</a> . <br><br><div class="spoiler">  <b class="spoiler_title">It was on Arduino</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/158/a33/c8d/158a33c8dddc4271a1b8f80ba22afa57.jpg" alt="image"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Became on ESP8266</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/9ca/1eb/f11/9ca1ebf115164f109917b3656383d7f5.jpg" alt="image"><br></div></div><br>  Waiting for a compact power module 220AC - 3,3DC to optimize the number of wires. <br><br><h4>  LoLin V3 NodeMcu (Lolin) </h4><br>  This board was advised to immediately flash NodeMcu firmware, which was done through the NodeMcu flasher program.  The firmware itself is assembled by the designer, which allows you to enable only the most necessary. <br><br>  Next was supposed to connect and control 2-channel relay and control two sconces in the bedroom.  Here I want to dwell on one nyance.  The Chinese version of such a relay has a jumper JD-VCC - VCC - GND.  By default, it is set to JD-VCC - VCC pins. <br><br><img src="https://habrastorage.org/files/ec3/cb2/515/ec3cb25158934ab0b80f743fb9fc6aa4.jpg" alt="image"><br><br>  So, you should never install a perm on VCC - GND - arrange a short circuit!  These three contacts are used for additional power supply of the relay, in cases where the control may not be sufficient to trigger the relay.  The presence of a jumper indicates that power is supplied from the "control" contacts. <br><br>  The script was used like this: <br><br><div class="spoiler">  <b class="spoiler_title">Script text</b> <div class="spoiler_text"><pre><code class="lua hljs">#================= init.lua ================= <span class="hljs-comment"><span class="hljs-comment">--       ssid,pass = "SSID","PASSWORD"; if (file.open('wificonf') == true)then ssid = string.gsub(file.readline(), "\n", ""); pass = string.gsub(file.readline(), "\n", ""); file.close(); end wifi.setmode(wifi.STATION) wifi.sta.config(ssid,pass) wifi.sta.autoconnect(1); print('IP:',wifi.sta.getip()); --print('MAC:',wifi.sta.getmac()); led1 = 3 led2 = 4 gpio.mode(led1, gpio.OUTPUT) gpio.mode(led2, gpio.OUTPUT) restart=0; gpio.write(led1, gpio.HIGH); gpio.write(led2, gpio.HIGH); t=0 tmr.alarm(0,1000, 1, function() t=t+1 if t&gt;999 then t=0 end end) srv=net.createServer(net.TCP, 1000) srv:listen(80,function(conn) conn:on("receive",function(client,request) --      _GET local buf = ""; local _, _, method, path, vars = string.find(request, "([AZ]+) (.+)?(.+) HTTP"); if(method == nil)then _, _, method, path = string.find(request, "([AZ]+) (.+) HTTP"); end local _GET = {} if (vars ~= nil)then for k, v in string.gmatch(vars, "(%w+)=(%w+)&amp;*") do _GET[k] = v end end --     --    &lt;html&gt;&lt;body&gt;,      \ --        \,  &lt;/body&gt;&lt;/html&gt; conn:send('HTTP/1.1 200 OK\r\nConnection: keep-alive\r\nCache-Control: private, no-store\r\n\r\n\ &lt;!DOCTYPE HTML&gt;\ &lt;html&gt;\ &lt;head&gt;\ &lt;meta charset="UTF-8" /&gt;\ &lt;meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"&gt; \ &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; \ &lt;title&gt;My control&lt;/title&gt;\ &lt;/head&gt;&lt;body&gt;\ &lt;div class="container"&gt;\ &lt;section class="color-1"&gt;\ &lt;p&gt;\ &lt;a href=\"?pin=ON1\"&gt;&lt;button class="btn btn-4 btn-4a"&gt;Back ON&lt;/button&gt;&lt;/a&gt;\ &lt;a href=\"?pin=ON2\"&gt;&lt;button class="btn btn-4 btn-4a"&gt;Bra ON&lt;/button&gt;&lt;/a&gt;\ &lt;/p&gt;\ &lt;p&gt;\ &lt;a href=\"?pin=OFF1\"&gt;&lt;button class="btn btn-5 btn-5a"&gt;Back OFF&lt;/button&gt;&lt;/a&gt;\ &lt;a href=\"?pin=OFF2\"&gt;&lt;button class="btn btn-5 btn-5a"&gt;Bra OFF&lt;/button&gt;&lt;/a&gt;\ &lt;/p&gt;\ &lt;/section&gt;\ &lt;/div&gt;\ &lt;/body&gt;&lt;/html&gt;') --   --     local _on,_off = "","" if(_GET.pin == "ON1")then gpio.write(led1, gpio.LOW); elseif(_GET.pin == "OFF1")then gpio.write(led1, gpio.HIGH); elseif(_GET.pin == "ON2")then gpio.write(led2, gpio.LOW); elseif(_GET.pin == "OFF2")then gpio.write(led2, gpio.HIGH); end conn:on("sent",function(conn) conn:close() end) collectgarbage(); end) end) #========================================</span></span></code> </pre> <br></div></div><br>  I could not re-find the link to the source.  But the scheme is simple: connect Lolin to outputs D3 and D4 of relay 1 and relay 2 ( <i>led1 = 3 led2 = 4</i> ).  Then we go to the IP address issued by our router and see the page: <br><br><img src="https://habrastorage.org/files/ad8/e8b/2f5/ad8e8b2f561146fa89068727784382eb.jpg" alt="image"><br><br>  To my great regret, I have not yet figured out how to induce beauty, for example, to include a CSS-style file.  The question is in the use of individual files in the output of the page, and not in the task of style. <br><br>  I really hope that this information is useful at least for one person.  And do not judge strictly for the first article. <br><br><h4>  Links </h4><br><ul><li>  <a href="http://esp8266.ru/">esp8266.ru</a> - a very extensive resource on ESP8266 </li><li>  <a href="https://github.com/nodemcu/nodemcu-flasher">NodeMcu flasher (ESP8266 Flasher)</a> </li><li>  <a href="http://nodemcu-build.com/">NodeMcu constructor</a> </li><li>  <a href="">CH340 driver</a> (for Windows) </li><li>  Article " <a href="http://esp8266.ru/esp8266-podkluchenie-obnovlenie-proshivki/">ESP8266 - connecting and updating firmware</a> " </li><li>  <a href="https://yadi.sk/d/qyXdDUwIroHWR">AI-THINKER-IOT-2014-10-17 165528.bin</a> - firmware for the Yellow Card </li><li>  <a href="http://esp8266.ru/esplorer/">Esplorer</a> </li><li>  <a href="http://narodmon.ru/">People monitoring</a> </li><li>  <a href="http://forum.amperka.ru/threads/esp8266-%25D0%25BE%25D1%2582%25D0%25BF%25D1%2580%25D0%25B0%25D0%25B2%25D0%25BA%25D0%25B0-%25D1%2582%25D0%25B5%25D0%25BC%25D0%25BF%25D0%25B5%25D1%2580%25D0%25B0%25D1%2582%25D1%2583%25D1%2580%25D1%258B-%25D0%25BD%25D0%25B0-narodmon-ru-%25D0%2591%25D1%258E%25D0%25B4%25D0%25B6%25D0%25B5%25D1%2582%25D0%25BD%25D1%258B%25D0%25B9-%25D0%25B2%25D0%25B0%25D1%2580%25D0%25B8%25D0%25B0%25D0%25BD%25D1%2582.4568/">How to send DS18B20 sensor data to People Monitoring</a> </li><li>  <a href="http://homes-smart.ru/index.php/oborudovanie/bez-provodov-wi-fi/62-besprovodnoj-datchik-na-baze-esp8266-dlya-servisa-narodmon-ru">Homes-smart</a> project </li></ul></div><p>Source: <a href="https://habr.com/ru/post/394535/">https://habr.com/ru/post/394535/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../394523/index.html">This summer, the United States will conduct marine railgun tests</a></li>
<li><a href="../394525/index.html">100,000 people have already bought into the ‚Äúfree‚Äù broadband access service from VimpelCom</a></li>
<li><a href="../394529/index.html">City scanner from Half-Life 2 has become a reality</a></li>
<li><a href="../394531/index.html">Once again about drawing on the oscilloscope screen</a></li>
<li><a href="../394533/index.html">Japan introduces compulsory elementary programming lessons</a></li>
<li><a href="../394537/index.html">Making a three-axis milling machine with numerical control</a></li>
<li><a href="../394539/index.html">The threat from the Internet: Why Wall Street analysts view Airbnb as the ‚Äúkiller‚Äù of the hotel business</a></li>
<li><a href="../394541/index.html">More DIY gods DIY</a></li>
<li><a href="../394543/index.html">When size matters: Mi Max and other XIAOMI news</a></li>
<li><a href="../394545/index.html">Rudolf Svorenu - 89! How the book "Electronics step by step" - changed the lives of people</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>