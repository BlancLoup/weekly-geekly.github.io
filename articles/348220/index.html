<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Reason on which database to choose</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article is for you if you: 


- choose a database for a new project and study information about different options; 
- consider that the current d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Reason on which database to choose</h1><div class="post__text post__text-html js-mediator-article"><h4>  This article is for you if you: </h4><br><ul><li>  choose a database for a new project and study information about different options; </li><li>  consider that the current database does not suit you for some parameters and you want to change it, but you do not have a good specialist; </li><li>  just want to read in one article about several databases and when you can use them. </li></ul><br><h4>  My article is not for you if you: </h4><br><ul><li>  well know how to prepare your favorite database, optimize indexes, set up and all that; </li><li>  You have a good specialist on staff who can reasonably choose the option that your project needs.  the specialist must be really good, not an ‚Äúexpert on the couch‚Äù; </li><li>  you are servicing a project with the so-called ‚Äúbig data‚Äù, that is, you have huge databases, dozens or hundreds of servers in a cluster and all that ‚Äî well, you should have one or several specialists on staff. </li></ul><br><h4>  What will be discussed in the article? </h4><br>  I will analyze in my article some typical and not so many options for choosing databases, or, to be more precise, approaches to choosing.  When should stop on the fact that they use the majority, and when you can and think about the new and unknown.  I will describe MySQL, PostgreSQL, MongoDB, Redis, CouchDB / PouchDB and mention Aerospike with Tarantool, a couple of others - but in some moments a particular choice is not so important.  It is necessary to understand that it is better to initially design the data structure correctly than to choose a DBMS, and then try to invent what is actually stored in it. <br>  So, let's begin. <br><a name="habracut"></a><br><h4>  Small digressions: </h4><br><ol><li>  My calculations are not the ultimate truth.  I made some conclusions on the basis of real use, some on the basis of information on the Internet, discussions with other people.  Some conclusions are made on the basis of real problems, and some in purely theoretical ideas.  All this information is in one form or another on the Internet, but rather scattered, but I will try to compactly describe in one place. </li><li>  I consider only those products that are actively developing at the time of this writing and at the same time they have been stably existing for a long time.  Again, in my opinion, one of the conditions for choosing something for your project is that the product is fairly stable, working, has a large and well-developed community, its use does not involve multi-day dances with a tambourine, etc.  And what is important - it should be possible to officially take advantage of commercial support and thereby obtain guarantees from the developer.  It should be borne in mind that there are many other options, but they are either raw and additional and irrational efforts will have to be made to support them in the project.  Either much less successful or popular. </li><li>  I am pleased to read your opinion in the comments.  And about the described databases and not only.  And not only I, I think it will be interesting to many to read a reasoned opinion about any database. </li><li>  The most important and once again - there will not be a speech about large projects.  In such projects, there is usually already an architect or knowledgeable person and enough funds to ensure the optimal choice.  Although who knows, maybe my calculations and they will be useful. </li></ol><br><h4>  Now let's ask ourselves the questions: </h4><br><ul><li>  How conservative are you, do you want and do you like to delve into something new? </li><li>  Do you want not to think or, on the contrary, want to go deep into the database device? </li><li>  How good are the programmers in your team, will they be able to competently create the database structure, or are they already excellent specialists in any one DBMS? </li></ul><br>  Have you answered?  Right?  Then I will list the DBMS and describe in which case it is recommended to pay attention to them. <br><br>  <b><i>MySQL / MariaDB</i></b> <br><br>  People's DBMS or ‚Äúmust have‚Äù is on almost any hosting.  Easy to install, works fine without any special settings.  With the right approach can be flexibly adjusted to your needs.  But there are pitfalls, in some cases it will be thus a narrow neck and your project will slow down, no matter how you tune the DBMS and the data structure. <br>  MySQL for you if: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      - you are a conservative and do not want to delve into the settings of the DBMS, just put it and it works (well, or on the hosting use what you give); <br>  - you are a conservative, then you think structurally, in a table.  MySQL will cope; <br>  - in any programming language, framework, CMS, CMF and so on and so forth - there is integration with MySQL. <br>  - you are new and you need a DBMS for managing structural data, preferably small (up to 1 - 2 gigabytes). <br><br>  Minuses?  They are there and you should choose another DBMS if you see something important. <br><br>  - mediocre performance.  Really low, as not tuning.  even the cluster will not help much (it is necessary to set it up, yeah, those are still dancing with a tambourine).  We are talking about numbers about 20 MBytes / sec.  From personal experience, on SSD disks with such a stream, MySQL rested on its limit, could not cope and slowed down, and the service was tuned for several years, settings that were optimal for the load were used.  Out of the box configuration, I think it will have even less of a bar; <br>  - changing the data structure can be quite time-consuming process, especially with a large number of relationships between the data in different tables and even with the simple addition of fields; <br>  - sensitivity to server instability.  This is especially true when using XtraDB from Percona.  If you fail to complete MySQL correctly, you can break down the tables and databases so much that you can only recover from a full backup, of course, if you regularly do them.  And believe me, it always happens at the most unexpected moment.  There are tools that in simple situations can help restore performance, but they are not a panacea.  In the latest and current versions they actively struggle with this, much better stability and reliability is declared. <br><br>  <b><i>PostgreSQL</i></b> <br><br>  A kind of mastodon, very old and competent DBMS.  It is almost like MySQL, only better.  But we must be able to cook and adjust.  In the opinion of many, a very stable DBMS, it is almost impossible to drop it, tear down tables like in MySQL.  And this may be the decisive factor for you when choosing. <br><br>  PostgreSQL for you if: <br><br>  - you are a conservative (I understand, I repeat, but it is) and you need a reliable storage; <br>  - you or your specialist can configure and use PostgreSQL; <br>  - you need well-structured data, but with some flexibility in the data schema (JSON / BJSON); <br>  - with the help of third-party libraries, it is easy and convenient to expand into clusters and make a sharding of tables.  And it all really works. <br><br>  And I don‚Äôt have much to describe the minuses ... For the sake of justice, I didn‚Äôt have much practice, mostly judging from the stories of my friends <br><br>  - the need for experience with this DBMS to prepare it well.  Otherwise, it is better to take MySQL or read on; <br>  - The default authorization system can cause difficulties in using or configuring; not everyone likes it, some even very experienced developers still do not fully understand how it works there. <br><br>  <b><i>MongoDB</i></b> <br><br>  Oh, how many copies still breaks - SQL or NoSQL ... But still, in some cases, MongoDB does the job much better than MySQL or PostgreSQL.  For example, the real case, which I witnessed - the collection and processing of statistics on hosting (load on the CPU, i / o, memory, etc.) - MySQL could not cope with the word at all.  MongoDB coped without any problems.  The database reaches 200-300 GB, the data stream reaches 100 MB or more.  It is indicative, in my opinion. <br><br>  MongoDB for you if: <br><br>  - you do not have a clear, previously described data structure, or you assume that the composition of the data can then change dramatically (of course, this can be done in SQL, but you need to think in other terms, you can change it, but the question is how hard it will be); <br>  - you have planned a rather serious amount of data (tens or even hundreds of GB), you can determine this even at the TOR stage; <br>  - you just want NoSQL, it is fashionable; <br>  - easy to install and try, works fine without any special settings.  And if you go deeper, study, then you can configure a lot. <br><br>  Cons, too. <br><br>  - No simple transactions.  At least in the classical form as they are in MySQL / PostgreSQL.  When adding a set of data that depend on each other, there may be certain difficulties that will have to be solved independently at the code level.  Well, that is, you can and will not face of course, but ...; <br>  - data connectivity is practically absent.  Immediately it comes to mind, they constantly mention JOIN from SQL - this is essentially not the case.  Although, to be more precise, you just need to think in other categories; <br>  - you need to rebuild thinking just under NoSQL.  otherwise, it will be difficult to accompany - that is, a good programmer (more precisely, a software architect) is required in the future. <br><br>  <b><i>Redis</i></b> <br><br>  Most often, this DBMS is used as a caching layer for working with data from another, slower DBMS.  The best substitute for memcached, if it tells you something.  Rarely, but still can be used as an independent database for data.  At the same time, Redis can do different types of data, including lists, queues, Pub / Sub can, and it is also very easy to work with TTL (key lifetime).  It works in memory, it is very fast, it is able to save data on a disk, and with the support of overwriting (loads the disk much less) and load at startup.  Almost a fairy tale. <br><br>  Redis for you if: <br><br>  - the amount of data is small and very simple scheme that fits into the pattern ‚Äúkey = value‚Äù; <br>  - simple implementation of Master - Slave replication.  It's really very simple setup, just add instructions to the wizard to the server config, run Redis Server and the data is already replicated.  Although, probably, it should be clarified that it is unlikely that you can configure flexible replication (partial); <br>  - need Pub / Sub (queues).  In fairness it should be said that there are separate Pub / Sub systems that implement in addition to this pattern and others.  Redis realizes it quite elegantly and simply, it is quite possible that you will not need others; <br>  - you need a cache for a slower DBMS, or just want not to think about the speed of the DBMS with an eye on its volume.  An example would be a Drupal site, with the main database in MySQL and a cache in Redis.  Conducted tests for the sake of interest in the usual ab, the speed of content delivery can increase significantly.  On normal Apache + Redis + mod_php, you can achieve comparable performance with Nginx + php-fpm, and if you add Redis to Nginx ... <br><br>  Cons also have, as without them. <br><br>  - the amount of data should not exceed the amount of free RAM on your server (in fact, it can, but then they will all go to the swap, slow down the work, in general, it is better to avoid); <br>  - for the sake of performance, there is a rather weak data integrity.  That is, it may well happen that the data is added, and after the restart there is none.  Turning on AOL (append of file) slightly smoothes the situation, but then loading from disk will be quite lengthy; <br>  - transactions and related data is not that able.  To be more precise, there is Pipeline and Multi / Exec, but this is still not quite a transaction in the classical sense; <br>  - still not able to properly cluster and sharding.  There is still no normal implementation. <br><br>  Of course, you can tense up and do something similar to a cluster using a special script, but in my opinion it looks rather crooked and suboptimal. <br><br><h4>  Alternatives </h4><br>  From personal experience and surfing the Internet, studying various articles, reviews, I came across several different options that can be applied if something did not suit you in the previous versions.  So, meet some more interesting projects. <br><br>  <b><i>IBM Lotus Domino / Notes</i></b> <br><br>  In my opinion, the clearest example of a successful commercial project of the NoSQL DBMS concept.  Although I suspect that success is more likely not in his NoSQL, but in the presence of a full-fledged application server with a built-in code editor and interface to the database.  The solution is very mature, it exists on the market for quite some time and is supported by the IBM giant - well, that is, very cool.  He personally participated in the development of two different electronic document management systems based on it, and also accompanied some critical applications in the bank.  By the way, despite the paid distribution policy, few people know, but it can be downloaded for free for study. <br><br>  <b><i>Couchdb</i></b> <br><br>  Do you want to store documents of different structure (well, like MongoDB, type), but you don‚Äôt have an adapter for the application or don‚Äôt want extra dependencies?  CouchDB works via http, has a built-in web server, exchanges in JSON.  Very comfortably.  By the way, is able to transaction and you can subscribe to changes in data.  But it is not exactly. <br><br>  <b><i>PouchDB</i></b> <br><br>  This is a very interesting project, as if an analogue of CouchDB, but a more mundane, embedded version.  Embedded in the application, works as a local database, but can custom replication with CouchDB or PouchDB Server (based on ExpressJS).  PouchDB is actually more like an interlayer, where outside you work with a single API, CouchDB-like, but inside there can be completely different DBMS - both SQLite and LevelDB and browser database and MongoDB and even MySQL.  It is very useful if you make a distributed application, where data exchange is important, but the connection with the server may be unstable or episodic. <br><br>  <b><i>Aerospike</i></b> <br><br>  In my opinion a great replacement for Redis in terms of database key / value.  Able to transactions, can data integrity, can a large amount of data (in excess of the amount of available RAM).  True, there is no Pub / Sub and some special data structures, but it works quickly and well.  Perhaps the only drawback is the weak popularity compared to Redis.  It is not clear by the way why ... <br><br>  <b><i>Apache cassandra</i></b> <br><br>  Designed and working as a distributed NoSQL DBMS for big data.  Data is stored in the form of a family of columns, which at first can fundamentally change the approach to developing an application.  But after breaking thinking it may well turn out that this is exactly what you need.  A simple addition of nodes on the fly, high fault tolerance at the exit of one of the nodes.  In theory, it can be used on small projects, but it will probably look as if a nail are being driven in with a microscope. <br><br>  <b><i>Tarantool</i></b> <br><br>  A wonderful project from Mail.Ru.  Something in between Redis / Aerospike and MongoDB ... Although in my opinion, the developers themselves still find it difficult to draw analogies :).  He must be able to, and to be more precise, want to cook.  And it's not about tuning, but about the constant adjustment for the development of new versions of Tarantool.  You need to want to delve into the internal structure of this project, constantly study changes to its API and documentation, all the time to customize the application code to change.  And if you also want to participate in the development process, chat with developers in the chat - then all the more for you. <br><br>  And now, as if all. <br><br>  Yes, I mentioned not all DBMS (if you look at <a href="https://db-engines.com/">this site</a> , there are 253 names listed there).  I hope you did not think that I will list them all? <br><br>  Perhaps in the description of a particular DBMS, I made an inaccuracy and did not mention something important.  This is very possible and if so - write in the comments, I read with interest. <br>  I hope my conclusions will be useful and interesting. <br><br>  <b>UPD1</b> : Regarding MySQL failover.  You are all right.  I do not declare that InnoDB is unstable, I just mentioned that the situation is possible.  And if it happens, then it will not be possible to restore working capacity in any way, only to completely restore everything entirely from backup.  It is about this speech, and not about the fact that you decided that I consider it unstable.  According to a real example, on the servers we have this happened 2 or 3 times in the last year.  On different servers.  On the server, several hundred databases with different loads, volumes, etc.  This does not mean that your MySQL will fall regularly on a virtual machine with one or two sites, this is not at all the point.  Something like this. </div><p>Source: <a href="https://habr.com/ru/post/348220/">https://habr.com/ru/post/348220/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../348208/index.html">Interview. How to create a high-quality knowledge base: choice of technologies, search and further support</a></li>
<li><a href="../348210/index.html">Create CSS keylogger</a></li>
<li><a href="../348212/index.html">Game development for NES in C. Chapters 4-6. Drawing character</a></li>
<li><a href="../348214/index.html">Transcription of geographical names in Open Street Map. Latvia, Lithuania, Poland, Estonia</a></li>
<li><a href="../348218/index.html">New lite text markup language based on pair quotes (pq)</a></li>
<li><a href="../348222/index.html">The second part of the comparison of python and tcl</a></li>
<li><a href="../348224/index.html">Simple intent classifier</a></li>
<li><a href="../348226/index.html">Developing a game for Android on Python based on Kivy. From A to Z: pitfalls and non-obvious solutions. Part 1</a></li>
<li><a href="../348228/index.html">News from the world of OpenStreetMap ‚Ññ393 (01/23/2018-29.01.2018)</a></li>
<li><a href="../348230/index.html">GCCGO versus "standard" implementation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>