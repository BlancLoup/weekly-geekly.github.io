<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Yii 1.1.8</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The release of the PHP framework Yii 1.1.8, which includes more than 80 bugfixes, new features and improvements. Many thanks to those who reportable b...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Yii 1.1.8</h1><div class="post__text post__text-html js-mediator-article">  The release of the PHP framework Yii 1.1.8, which includes more than 80 bugfixes, new features and improvements.  Many thanks to those who reportable bugs, offered new features and used Orphus on <a href="http://yiiframework.ru/">yiiframework.ru</a> as <a href="http://yiiframework.ru/">intended</a> . <br><br>  You can pick up a fresh distribution <a href="http://www.yiiframework.com/download/">from the official site</a> . <br><br>  Upgrade instructions can be read in <a href="http://www.yiiframework.com/files/UPGRADE-1.1.8.txt">UPGRADE</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The full list of changes, as usual, can be read in <a href="http://www.yiiframework.com/files/CHANGELOG-1.1.8.txt">CHANGELOG</a> , we will briefly review the most interesting. <br><br><a name="habracut"></a><br><br><h4>  Custom Classes for URL Rules </h4><br><br>  For complex work with URLs that the standard <code>CUrlRule</code> class cannot handle (for example, when part of the URL depends on values ‚Äã‚Äãin the database), you can write your own classes for handling URLs and use them in the <code>CUrlManager</code> configuration: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-comment"><span class="hljs-comment">//   '/login' ‚Üí 'site/login'  .. '&lt;action:(login|logout|about)&gt;' =&gt; 'site/&lt;action&gt;', //    '//' array( 'class' =&gt; 'application.components.CarUrlRule', 'connectionID' =&gt; 'db', ), //    'post/update' '&lt;controller:\w+&gt;/&lt;action:\w+&gt;' =&gt; '&lt;controller&gt;/&lt;action&gt;', ),</span></span></code> </pre><br><br>  The class itself is inherited from <code>CBaseUrlRule</code> and looks like this: <br><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CarUrlRule</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CBaseUrlRule</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> $connectionID = <span class="hljs-string"><span class="hljs-string">'db'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createUrl</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($manager,$route,$params,$ampersand)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($route===<span class="hljs-string"><span class="hljs-string">'car/index'</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>($params[<span class="hljs-string"><span class="hljs-string">'manufacturer'</span></span>], $params[<span class="hljs-string"><span class="hljs-string">'model'</span></span>])) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $params[<span class="hljs-string"><span class="hljs-string">'manufacturer'</span></span>] . <span class="hljs-string"><span class="hljs-string">'/'</span></span> . $params[<span class="hljs-string"><span class="hljs-string">'model'</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>($params[<span class="hljs-string"><span class="hljs-string">'manufacturer'</span></span>])) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $params[<span class="hljs-string"><span class="hljs-string">'manufacturer'</span></span>]; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-comment"><span class="hljs-comment">//    } public function parseUrl($manager,$request,$pathInfo,$rawPathInfo) { if (preg_match('%^(\w+)(/(\w+))?$%', $pathInfo, $matches)) { //   $matches[1]  $matches[3]  //     ? //  ,  $_GET['manufacturer'] / $_GET['model'] //   'car/index' } return false; //    } }</span></span></code> </pre><br><br><h4>  Improved class autoloader </h4><br><br>  Yii already has a class loader that connects them as soon as they are needed.  Now it does not conflict with third-party loaders and can be performed both before and after.  In previous versions, it was always executed after third-party autoloaders, which led to unnecessary calls when using the Yii classes: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//        Yii Yii::registerAutoloader($autoloader);</span></span></code> </pre><br><br>  Now you can do this: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//   true        Yii Yii::registerAutoloader($autoloader, true);</span></span></code> </pre><br><br>  By default, the Yii autoloader uses the PHP include path.  For some hosting companies, this is a problem that can be solved by adjusting <code>index.php</code> bit: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span>(<span class="hljs-string"><span class="hljs-string">'path/to/yii.php'</span></span>); <span class="hljs-comment"><span class="hljs-comment">//  PHP include path Yii::$enableIncludePath = false; Yii::createWebApplication($config)-&gt;run();</span></span></code> </pre><br><br><h4>  Real-time logging </h4><br><br>  Some console applications can run for very long.  It is useful for them to write messages to the log immediately and not to wait for the application to finish: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//       Yii::getLogger()-&gt;autoFlush = 1; //       Yii::getLogger()-&gt;autoDump = true;</span></span></code> </pre><br><br><h4>  We work with counters in the database via AR </h4><br><br>  The <code>CActiveRecord</code> class has a new <code>saveCounters()</code> method, similar to the existing <code>CActiveRecord::updateCounters()</code> .  The main difference is that <code>saveCounters()</code> works only with the current object while <code>updateCounters()</code> works with the entire table: <br><br><pre> <code class="php hljs">$post = Post::model()-&gt;findByPk(<span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-comment"><span class="hljs-comment">//     $post-&gt;saveCounters(array('views'=&gt;1)); //      Post::model()-&gt;updateCounters(array('views'=&gt;1), 'id=1');</span></span></code> </pre><br><br><h4>  Generate Translation Files </h4><br><br>  When using a <code>yiic message</code> it was often necessary to delete the old file and replace it with a new one that was generated next.  Now you can write directly to the old file, if you set the <code>overwrite</code> option to <code>true</code> in the command configuration. <br><br><h4>  Creating URLs in console applications </h4><br><br>  In web applications, <code>CUrlManager</code> is usually used to generate a URL, which was previously not available to console applications.  Now both in web applications and in console you can use <code>Yii::app()-&gt;createUrl()</code> , which is very convenient, for example, to build a sitemap that lists the URL of a web application. <br><br><h4>  In clips, you can now use parameters </h4><br><br>  This is useful when a piece of code in view is repeated many times, but it is not sufficiently complex to carry it into a separate file: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">//  clip </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">?&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">&lt;?php</span></span></span><span class="hljs-comment"> $this-&gt;beginClip('hello')</span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">?&gt;</span></span></span><span class="hljs-comment"> &lt;p&gt;, {username}!&lt;/p&gt; </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">&lt;?php</span></span></span><span class="hljs-comment"> $this-&gt;endClip() </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">?&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">&lt;?php</span></span></span><span class="hljs-comment"> //  clip </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">?&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">&lt;?php</span></span></span><span class="hljs-comment"> $this-&gt;renderClip('hello',array( '{username}'=&gt;'Qiang', ))</span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">?&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">&lt;?php</span></span></span><span class="hljs-comment"> $this-&gt;renderClip('hello',array( '{username}'=&gt;'Alex', ))</span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">?&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">&lt;?php</span></span></span><span class="hljs-comment"> $this-&gt;renderClip('hello',array( '{username}'=&gt;'Michael', ))</span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">?&gt;</span></span></span></span></code> </pre></div><p>Source: <a href="https://habr.com/ru/post/122770/">https://habr.com/ru/post/122770/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../122761/index.html">Switching to SSD: the story of a single file</a></li>
<li><a href="../122762/index.html">CP / M-80 on the Quorum clone Spectrum</a></li>
<li><a href="../122764/index.html">How BlackBerry makes planning and life easier for me</a></li>
<li><a href="../122768/index.html">Yota - How many (inside)?</a></li>
<li><a href="../122769/index.html">Manage to buy - Amazon Kindle 3 Wifi for only $ 30!</a></li>
<li><a href="../122772/index.html">Corporate market is not interesting for Mozilla</a></li>
<li><a href="../122773/index.html">Xperia Arc banner on Habr√©</a></li>
<li><a href="../122777/index.html">Manage to return - Amazon Kindle 3 Wifi</a></li>
<li><a href="../122778/index.html">Overview of one docking station</a></li>
<li><a href="../122780/index.html">Kinect for Windows SDK, learning resources and usage examples</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>