<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>KeepDraw.js - javascript framework for drawing on canvas</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello. This article focuses on the library for drawing on canvas - KeepDraw. 
 This is a framework for working with canvas 2d with support for events ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>KeepDraw.js - javascript framework for drawing on canvas</h1><div class="post__text post__text-html js-mediator-article">  Hello.  This article focuses on the library for drawing on canvas - KeepDraw. <br>  This is a framework for working with canvas 2d with support for events and animation. <br><br><h3>  Distinctive features: </h3><br><ol><li>  API in OOP style; </li><li>  Events for the mouse, keyboard and touch screens; </li><li>  Animation support; </li><li>  Drawing bezier curves on points; </li><li>  Many functions that check the intersection of figures and points; </li><li>  Fill shapes with gradients and images; </li><li>  Object templates are line, rectangle, text, polygon, and circle. </li><li>  Mobile support. </li><li>  Smoothing shapes using bezier curves. </li><li>  Lightweight.  The compressed version weighs 15 kilobytes. </li></ol><a name="habracut"></a><br><h3>  Introduction </h3><br>  The main object on the canvas is Stage.  It specifies the width of the canvas, the block div identifier (canvas), the height and the background.  Stage.childs includes all visible shapes on the canvas.  For each canvas, you can specify one Stage object.  If you have specified the stage and the figures, you can start the animation or the events. <br><br><h4>  Code example: </h4><br><pre><code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//  var stage = new KeepDraw.Stage({ width: innerWidth, height: innerHeight, canvas: 'canvas', fill: '#00afff' }); //  var circle = new KeepDraw.Circle({ x: innerWidth / 2, y: innerHeight / 2, radius: innerHeight / 3, color: 'white', stage: stage });</span></span></code> </pre> <br><div style="text-align:center;"><img src="https://keepdraw.github.io/im1.png" alt="image"></div><br><h3>  Key figures </h3><br>  In KeepDraw there are: a rectangle (Rect), a regular polygon (Polygon), Text (Text), a Line or a private figure (Line). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  An example of your own figure: </h4><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> stage = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> KeepDraw.Stage({ <span class="hljs-attr"><span class="hljs-attr">width</span></span>: innerWidth, <span class="hljs-attr"><span class="hljs-attr">height</span></span>: innerHeight, <span class="hljs-attr"><span class="hljs-attr">canvas</span></span>: <span class="hljs-string"><span class="hljs-string">'canvas'</span></span>, <span class="hljs-attr"><span class="hljs-attr">fill</span></span>: <span class="hljs-string"><span class="hljs-string">'#00afff'</span></span> }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> line = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> KeepDraw.Line({ <span class="hljs-attr"><span class="hljs-attr">x</span></span>: <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-attr"><span class="hljs-attr">y</span></span>: <span class="hljs-number"><span class="hljs-number">50</span></span>, <span class="hljs-attr"><span class="hljs-attr">segments</span></span>: [[<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">-70</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">-70</span></span>,<span class="hljs-number"><span class="hljs-number">100</span></span>],[<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">100</span></span>,<span class="hljs-number"><span class="hljs-number">70</span></span>,<span class="hljs-number"><span class="hljs-number">100</span></span>,<span class="hljs-number"><span class="hljs-number">130</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>],[<span class="hljs-number"><span class="hljs-number">200</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">270</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">270</span></span>,<span class="hljs-number"><span class="hljs-number">108.94</span></span>],[<span class="hljs-number"><span class="hljs-number">200</span></span>,<span class="hljs-number"><span class="hljs-number">100</span></span>,<span class="hljs-number"><span class="hljs-number">130</span></span>,<span class="hljs-number"><span class="hljs-number">100</span></span>,<span class="hljs-number"><span class="hljs-number">70</span></span>,<span class="hljs-number"><span class="hljs-number">0.3</span></span>],[<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">-70</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>]], <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">'white'</span></span>, <span class="hljs-attr"><span class="hljs-attr">strokeWidth</span></span>: <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-attr"><span class="hljs-attr">strokeColor</span></span>: <span class="hljs-string"><span class="hljs-string">'#30ccff'</span></span>, <span class="hljs-attr"><span class="hljs-attr">stage</span></span>: stage });</code> </pre> <br><div style="text-align:center;"><img src="https://keepdraw.github.io/im2.png" alt="image"></div><br><h3>  Styles </h3><br>  The following values ‚Äã‚Äãcan be applied to all shapes: <br><br><ul><li>  color - Fill (color, gradient or image); </li><li>  strokeColor - the color of the stroke; </li><li>  strokeWidth - the width of the stroke; </li><li>  shadowColor - the color of the shadow; </li><li>  shadowWidth - the width of the shadow; </li><li>  lineCap - stroke of line segments (usual - butt, rectangular - square, oval - round; </li><li>  lineJoin - stroke of the ends of the line (usual - mitter, rectangular - bevel, oval - round; </li><li>  shadowOffsetX - shadow shift along the x axis; </li><li>  shadowOffsetY - shift of the shadow along the y axis; </li><li>  font - text font (size and font); </li><li>  opacity - opacity (0 - 1); </li></ul><br><h4>  Code example: </h4><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> stage = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> KeepDraw.Stage({ <span class="hljs-attr"><span class="hljs-attr">width</span></span>: innerWidth, <span class="hljs-attr"><span class="hljs-attr">height</span></span>: innerHeight, <span class="hljs-attr"><span class="hljs-attr">canvas</span></span>: <span class="hljs-string"><span class="hljs-string">'canvas'</span></span>, <span class="hljs-attr"><span class="hljs-attr">fill</span></span>: <span class="hljs-string"><span class="hljs-string">'#00afff'</span></span> }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> circle = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> KeepDraw.Circle({ <span class="hljs-attr"><span class="hljs-attr">x</span></span>: innerWidth / <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">y</span></span>: innerHeight / <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">radius</span></span>: innerHeight / <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">'rgba(255, 255, 255, 0.5)'</span></span>, <span class="hljs-attr"><span class="hljs-attr">strokeColor</span></span>: <span class="hljs-string"><span class="hljs-string">'white'</span></span>, <span class="hljs-attr"><span class="hljs-attr">shadowWidth</span></span>: <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-attr"><span class="hljs-attr">strokeWidth</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-attr"><span class="hljs-attr">shadowColor</span></span>: <span class="hljs-string"><span class="hljs-string">'rgba(0,0,0,0.5)'</span></span>, <span class="hljs-attr"><span class="hljs-attr">stage</span></span>: stage });</code> </pre><br><div style="text-align:center;"><img src="https://keepdraw.github.io/im3.png" alt="image"></div><br><h3>  Additional functions </h3><br>  All figures have their own functions: <br><br><ul><li>  toLine () - convert any shape into a line; </li><li>  smooth (strength 0 - 3) - smoothing using bezier, applicable only to the line; </li><li>  endPoints () - returns an array of extreme points: [top [x, y], bottom [x, y], left [x, y], right [x, y]]; </li><li>  clone () - returns a clone shape; </li><li>  star () - makes the line look like a star; </li><li>  floor () - rounds all values ‚Äã‚Äãin the figure object; </li><li>  setAttrs (object) - assigns the object values ‚Äã‚Äãto the shape; </li><li>  simplify (periodicity) - uniformly removes line segments; </li><li>  reflect (in width, in height), true or false - reflects the line; </li><li>  inScreen () - determines whether a figure is visible on the screen; </li><li>  inDistance (minX, minY, maxX, maxY) - determines whether the figure is at a certain distance; </li><li>  rotate (degrees, [x, y]) - rotates a line around its axis or point; </li></ul><br><h3>  Developments </h3><br>  You can sign events to the figures (click, mousedown, touchstart and others); <br><br>  ‚Üí <a href="https://keepdraw.github.io/ex5.html">Example</a> <br><br>  Animation.  You can set the animation in several ways: <br><br><pre> <code class="javascript hljs"> Stage.Animation: stage.draw = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">diff</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (poly.x &gt; innerWidth * <span class="hljs-number"><span class="hljs-number">0.88</span></span>) vel = <span class="hljs-number"><span class="hljs-number">-1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (poly.x &lt; innerWidth * <span class="hljs-number"><span class="hljs-number">0.12</span></span>) vel = <span class="hljs-number"><span class="hljs-number">1</span></span>; poly.rotate(vel * diff); poly.x += innerHeight / <span class="hljs-number"><span class="hljs-number">150</span></span> * vel; }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> anim = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> KeepDraw.Animation(stage);</code> </pre><br>  ‚Üí <a href="https://keepdraw.github.io/ex3.html">Demo</a> <br><br>  Or via tween: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> tween = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> KeepDraw.Tween(poly, { <span class="hljs-attr"><span class="hljs-attr">age</span></span>: <span class="hljs-number"><span class="hljs-number">40</span></span>, <span class="hljs-attr"><span class="hljs-attr">end</span></span>: <span class="hljs-number"><span class="hljs-number">5000</span></span>, <span class="hljs-attr"><span class="hljs-attr">attrs</span></span>: { <span class="hljs-attr"><span class="hljs-attr">x</span></span>: innerWidth, <span class="hljs-attr"><span class="hljs-attr">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> } }); tween.play(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> anim = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> KeepDraw.Animation(stage);</code> </pre><br>  ‚Üí <a href="https://keepdraw.github.io/ex4.html">Demo</a> <br><br><h3>  Conclusion </h3><br>  ‚Üí Online image editor based on KeepDraw - <a href="http://roundraw.github.io/">roundraw.github.io</a> ; <br>  ‚Üí <a href="">Github</a> <br>  ‚Üí Homepage - <a href="http://keepdraw.github.io/">keepdraw.github.io</a> </div><p>Source: <a href="https://habr.com/ru/post/320488/">https://habr.com/ru/post/320488/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../320478/index.html">Entry into international markets: attracting investment abroad</a></li>
<li><a href="../320480/index.html">Simple MVC Applications</a></li>
<li><a href="../320482/index.html">How to debug machine learning models</a></li>
<li><a href="../320484/index.html">7 entry levels that all game developers need to learn</a></li>
<li><a href="../320486/index.html">Mobio Mobile Arbitration Course</a></li>
<li><a href="../320492/index.html">The main stages of recruitment: advice from HR specialists from the Krasnodar studio Plarium</a></li>
<li><a href="../320494/index.html">‚ÄúWhen working on code inspections, you meet Java puzzlers every day‚Äù: Tagir Valeev about working on IntelliJ IDEA</a></li>
<li><a href="../320496/index.html">Open online courses from ITMO University</a></li>
<li><a href="../320498/index.html">Data models for user authentication in web applications</a></li>
<li><a href="../320500/index.html">Review Knime Analytics Platform - open source data analysis systems</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>