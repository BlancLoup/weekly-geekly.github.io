<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Migration of sites to the cloud with Azure Websites Migration Assistant</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cloud technologies are increasingly penetrating our lives, allowing you to easily and quickly deploy complex technical solutions on the huge computing...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Migration of sites to the cloud with Azure Websites Migration Assistant</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/025/b24/369/025b243695c04bf9b12fa462ae16e5f3.jpg"><br><br>  Cloud technologies are increasingly penetrating our lives, allowing you to easily and quickly deploy complex technical solutions on the huge computing power in just a few mouse clicks.  The main giants of the IT market are constantly improving their services, introducing more and more new opportunities.  The advantage of clouds is quite obvious - speed, power, scalability and ease of configuration.  This can be a great solution if you are starting a new project or startup. <br><br>  But what to do if you already have a website that is hosted on your own facilities?  This resource works, a database is probably connected to it, various settings in the config have been applied, and so on.  In this case, migration to the cloud is a rather troublesome process.  Even if you really understand that using a cloud you can win, it‚Äôs not a fact that the complexity of transferring all of this environment can outweigh these advantages. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      For such cases, Microsoft has <a href="http://azure.microsoft.com/blog/2014/10/28/introducing-azure-websites-migration-assistant/">introduced</a> its new tool - <a title="Azure Websites Migration Assistant" href="https://www.movemetothecloud.net/">Azure Websites Migration Assistant</a> .  This is a small program that can collect the necessary information about a website hosted on IIS (starting with version 6), analyze it, and then automatically transfer all settings, files and, most importantly, even the database directly to the Microsoft Azure cloud. <br><br>  In this article, I will demonstrate by example that the migration of a site is really easy and takes only a few minutes. <a name="habracut"></a><br><br><h1>  Training </h1><br>  I prepared a website and placed it on my local computer with IIS 8: <br><br><img src="https://habrastorage.org/files/3b8/a32/e45/3b8a32e456944a378bdefc3771116e3e.png"><br><br>  By the way, it is worth focusing on the fact that it is the website that is migrating, not the virtual directory.  In this case, in addition to the Default Web Site, I have created a site for <i>migrations</i> , which I will transfer.  This is a simple ASP.NET site created using a template in Visual Studio 2013. It also has a database, also hosted on the local computer in SQL Server Express, connected to it: <br><br><img src="https://habrastorage.org/files/a66/bcc/021/a66bcc021e0b440498a370ce5a4eb5ff.PNG"><br><br>  The database structure is simple and contains only information about the user and roles.  This database is created automatically with the website.  Here is how it looks in the end: <br><br><img src="https://habrastorage.org/files/231/9bf/f90/2319bff90fb64851911faf66c3dde23d.png"><br><br>  The site has bindings configured so that it opens by default when calling <a href="http://localhost/">localhost</a> : 80.  Of course, this example is not super complicated, but even in such a simple case, the independent migration of all files, settings and databases would take quite a long time (at least a day). <br><br><h1>  Azure Website Migration Assistant </h1><br>  The first thing to do is download the Azure Website Migration Assistant utility from the <a title="Azure Websites Migration Assistant" href="https://www.movemetothecloud.net/">official website</a> .  It is a simple ClickOnce application made in the style of a step by step wizard. <br><br>  In the first step, you will be asked to choose where to find the site that you want to migrate: <br><br><img src="https://habrastorage.org/files/6bb/a79/d1d/6bba79d1d4b94321bd8364f660698705.png"><br><br>  There are two options - a local computer or a remote server.  The second one is especially useful if you do not have physical access to the server with your website or installing additional software there for one reason or another is impossible. <br><br>  In our case, I choose the first option, and the utility offers me to specify which site I will be migrating: <br><br><img src="https://habrastorage.org/files/602/ef1/900/602ef190059d4b4bae86c42bdcf81461.png"><br><br>  I do not want to transfer the Default Web Site, because there is nothing there, so I choose only the site migrations. <br><br>  Once you have made your choice and click Next, a brief analysis of your IIS and determination of the key parameters of the website will be made.  It looks like this: <br><br><img src="https://habrastorage.org/files/5f9/7c2/637/5f97c26372fc43fa8d5951bffb555bf3.png"><br><br>  This screen lists the main server settings, such as the protocol and port number on which the site is available, the application pool in which the code is running, as well as, note, connections to the database.  This setting (and not only it) is taken from the web.config of your site.  This means that, firstly, Azure Website Migration Assistant knows that your website is working from the database (and then takes this into account), and secondly, it can transfer any other specific configuration parameters and apply them in the cloud. <br><br>  The next step (which is called by the Upload button) will show you a report on the readiness of your site for migration.  This report is compiled on a server in the cloud and identifies any potential inconsistencies between your local configuration and what may work in Azure. <br><br><img src="https://habrastorage.org/files/5e9/8f3/51e/5e98f351e0e94854b31f723514fa614d.png"><br><br>  At the moment there is a list of known limitations, which are listed in a <a href="https://www.movemetothecloud.net/Resources">special section</a> on the official Azure Websites Migration Assistant.  In my case, all checks were successful and the migration can be continued: <br><br><img src="https://habrastorage.org/files/cbc/62f/767/cbc62f76748d42d99fb0317c0abd6ac5.png"><br><br>  After clicking the Begin Migration button, the most interesting part begins - working with Azure.  You will be asked to login under your "cloud" account.  I see no reason not to do this :) <br><br><img src="https://habrastorage.org/files/9ed/8f2/8f3/9ed8f28f349343e8a499a1aae5078b0c.png"><br><br>  After you successfully log in, the utility will be able to get data about your cloud and the resources it contains.  In the next step, you can choose in which subscription you want to add a new website, and in which region it should be: <br><br><img src="https://habrastorage.org/files/ebd/a24/377/ebda243779e843e3bed638343888c49c.png"><br><br>  I will choose West Europe as the closest.  The Start Migration button will not actually start the migration yet, but send it to the next settings screen: <br><br><img src="https://habrastorage.org/files/a76/897/3ed/a768973ed83748c8814d4d714e321084.png"><br><br>  And this is the screen that I think is the coolest in the entire utility.  Remember, I said that Azure Websites Migration Assistant reads settings from web.config, including the database connection string?  So, this is done for a reason, because on this screen you can create a cloud database in which the <u>schema and data</u> from the local database are then transferred.  It is enough to specify the server name and administrator login / password. <br><br>  The bottom half indicates the parameters of the future site - its name and the name of the database.  Also in the Customize settings section, you can configure the power settings of the future site.  You can choose from all the options available in the regular <a href="https://portal.azure.com/">Azure management portal</a> : <br><br><img src="https://habrastorage.org/files/07f/1e7/5c8/07f1e75c871f43488303c02066f063ea.png"><br><br>  The next step is the creation of cloud capacity: a website and a database server: <br><br><img src="https://habrastorage.org/files/8aa/120/9d5/8aa1209d53814d028595b500d2de8039.png"><br><br><img src="https://habrastorage.org/files/e7d/ce9/a5b/e7dce9a5bc3040f6a7b2018c3df64b01.png"><br><br>  After everything is completed, the last step is to transfer the data.  When you click on Begin Publish, all local files of your website will be transferred to the cloud, along with the database structure and data: <br><br><img src="https://habrastorage.org/files/e0d/117/6a3/e0d1176a37e147a4ae07e1ef19f0e2d7.png"><br><br><img src="https://habrastorage.org/files/c03/25d/388/c0325d3885d74975aa5e2be08aa3fb06.png"><br><br><h1>  Check </h1><br>  To make sure that everything works correctly, just go to the address of the cloud site and compare with the local version: <br><br><img src="https://habrastorage.org/files/97f/607/af7/97f607af793b4e1a92f56db0ff3c2cf7.png"><br><br>  Pay attention to the URL - this is no longer localhost, but a full-fledged website on the Internet.  And also look at the top right of the site, where <i>Hello</i> is written <i>: aaa@aaa.com</i> .  Information about the user is taken from the database, and the fact that this user is visible in the cloud site says that both the database schema, its data, and connection parameters - everything was transferred to Azure Websites Migration Assistant without any problems and restored to the cloud in original form. <br><br>  Additionally, you can check what is happening in <a href="https://portal.azure.com/">the management portal</a> : <br><br><img src="https://habrastorage.org/files/e28/a62/459/e28a62459f2a47d9a45cd79af30f85e5.png"><br><br>  The new site is available and associated with database migrations.  Great what else to say! <br><br><h1>  Not the end </h1><br>  This utility is not the final release, and will continue to evolve.  Some limitations are already known: <br><ul><li>  only ports 80 and 443 are available (restrictions on Azure itself), so if you are using something else, think about workarounds </li><li>  Authentication can only be anonymous or via web forms, and Windows Authentication can be implemented via the Azure Active Directory </li><li>  COM components and custom ISAPI filters also do not migrate automatically, you will need to turn them on by hand </li><li>  <a href="https://www.movemetothecloud.net/Resources">full list here</a> </li></ul><br>  All code of this utility is laid out in <a href="http://websiteassist.codeplex.com/">free access on Codeplex</a> .  So if you really want, you can modify it yourself.  Well, almost all steps of the utility have a link to the feedback form - do not be lazy to write a review to the developers so that they can improve the tool in future releases: <br><br><img src="https://habrastorage.org/files/048/25e/e0b/04825ee0b5d243c9906498e21261ce3e.png"><br><br>  Successful to you migration! <br><br>  PS And if you do not have Azure, but you want to try, then you can find a <a href="http://azure.microsoft.com/ru-ru/pricing/free-trial/">free trial</a> </div><p>Source: <a href="https://habr.com/ru/post/242049/">https://habr.com/ru/post/242049/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../242039/index.html">The choice of software for the client. Requirements collection</a></li>
<li><a href="../242041/index.html">We present the software product. How to convince the client of your choice</a></li>
<li><a href="../242043/index.html">Reduce CPU consumption Skype for Linux and Mac OS</a></li>
<li><a href="../242045/index.html">Weather Station for pumping. Add to SD card Arduine</a></li>
<li><a href="../242047/index.html">Samsung Electronics begins mass production of the industry's first 8-gigabit DDR4 based on 20-nm process technology</a></li>
<li><a href="../242051/index.html">Review of the DVR Mio MiVue 568 with touch screen and GPS-receiver</a></li>
<li><a href="../242053/index.html">Networking in Windows Server Technical Preview</a></li>
<li><a href="../242055/index.html">Google Analytics: User Id and multichannel sequences</a></li>
<li><a href="../242057/index.html">How to increase the conversion rate of a landing page using the psychology of desire</a></li>
<li><a href="../242061/index.html">SSL Certification Centers on Innovations with SHA-2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>