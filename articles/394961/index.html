<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Home automation with ioBroker</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Now, when new pieces of hardware to control light bulbs, air conditioners and other household utensils, appear almost daily, there is an urgent need t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Home automation with ioBroker</h1><div class="post__text post__text-html js-mediator-article">  Now, when new pieces of hardware to control light bulbs, air conditioners and other household utensils, appear almost daily, there is an urgent need to combine all this wealth into one network. <br>  But the world, fortunately, does not sleep and diligently deals with this problem.  There are free solutions of decent quality and paid (not a fact that good quality). <br>  Like the world, I can not sleep too, and I also, like the whole world for many years in a row, and the last three years, especially hard, engaged in the integration of all kinds of equipment in a smart home. <br><br>  In this article I want to highlight the automation of the house and how with the help of the Open Source project to cover (and not only) their comfortable home.  Oh yeah, I almost forgot to say that all automation happens on JavaScript! <br><img src="https://habrastorage.org/files/066/4db/324/0664db32458e46c88ac054cf6c76fd4a"><br>  For all lovers of JS please under the cat <br><a name="habracut"></a><br><br>  For a start, a little dry theory and demagoguery on the subject of a smart home. <br>  Everyone understands this term as something different.  Someone turns on the lights in the bathroom using a motion sensor and thinks the house is already smart, and for some the house from IronMan (JARVIS) is not smart enough, because this house was finally blown to pieces, which means that it did not able to protect himself from some people in <a href="https://www.youtube.com/watch%3Fv%3DiqnLPRv2isA">helicopters</a> . <br>  But joking aside - all these people are right.  Just the level of "mind" at home is also different, like IQ in humans.  There are small ‚Äúchildren‚Äù who know how to turn on the light bulb, but there are graduates of the university, ‚Äúacademics‚Äù who can not only turn on the light, but also turn it off :) 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In the house you can isolate several areas of automation: <br>  - most often it is light <br>  - then heating <br>  - monitoring habitat: temperature inside and outside, humidity <br>  - security and alarm <br>  - multimedia (TV, music) <br>  - the role of shutters, windows, gates, doors, awnings <br>  - Ventilation and air conditioning <br>  - control the rest of home appliances <br>  - logging and graphics <br>  - notice <br><br>  The list can be continued, but I would like to focus on the most used directions.  For each field of automation there is its own system of devices, each with its own protocols, applications and control methods.  At the moment there is <b>no</b> manufacturer capable of providing devices in each of the areas of automation.  But there are some that have progressed particularly far: Samsung, Google, Apple. <br>  At the same time, each manufacturer necessarily invents its own bike of interaction protocols and no one wants to yield to another.  Although the interaction protocol from google <a href="https://developers.google.com/weave/">Weave</a> seems to be the most thoughtful. <br><br>  There are also attempts to create a protocol regardless of the manufacturer.  In this direction, IBM advanced the furthest from MQTT.  But, unfortunately, there is no standardized channel about getting descriptions about devices, such as units of measurement, location / room, functional group (blinds or lights) and other meta information. <br><br>  And what do I mean by smart home, or how was it said above, what level of automation suits me? <br>  I experimented a lot and came to the conclusion that all these controls from the phone, voice control or temperature plotting are just toys. <br><br>  <b>This smart home should be invisible.</b>  <b>It should only be noticeable when the smart home stops working.</b> <br><br>  A smart home should monitor people through sensors and adjust the habitat for them (no, of course it should not send this information to Google).  To regulate temperature, thus saving heat on heating;  include, when a person enters the room, the backlight without blinding him or covering the blinds on the windows if the TV is on and the window casts a glare on the image.  Scripts - an infinite number.  Especially intelligent houses should themselves recognize the sequences and dependencies of events and propose new rules for automation. <br><br>  I know what I am saying.  I hung up and a tablet near the front door and implemented voice control and built all possible and impossible schedules and I can open the apartment door with the phone, but this is all to show the guests once what my smart house is and hear ‚ÄúWow‚Äù in response .  My family and I almost never use it. <br><br>  No, it is of course important, sometimes to look at the status of sensors in the house on the phone, while swimming in the Mediterranean Sea or to receive a notification with a photo that someone came into the house, although he should not, open the door to the postman and trace that he would not have taken half the house with him.  And, in the end, to hear from friends that same ‚ÄúWow‚Äù is also not the last argument.  :) All this should be, at least in order to understand that it is actually not so important :) <br><br>  It is best to automate the apartment in which the bachelor-technophile lives, who goes to work at the same time every day and has a constant number of holidays and weekends (Russia, unfortunately, does not fall under this criterion. Some New Year's holidays in May cost something :)). <br><br>  Then comes a childless young family with a moderate love of technology.  It is important that each of them be separated from the cell phone. <br><br>  The most difficult case is a family with children (the bigger, the harder).  Children just can not be automated.  ‚ÄúSo dad that I forgot the phone.  I don‚Äôt need him in the yard. ‚Äù  And all the scripts for recognizing the presence of people in the room and the alarm activation rules based on them are useless.  (My case) <br><br>  But let's get back to how to do it all at home and make your habitat more comfortable. <br><br>  What is ioBroker? <br>  It is an integration platform for the Internet of Things and serves as a central server for: <br><ul><li>  smart home </li><li>  building automation </li><li>  assisted living </li></ul><br>  * By the way I will be grateful for the translation of the last term. <br><br>  ioBroker is a system capable of connecting all salad protocols and devices among themselves. <br><br>  Some construction company decided to build smart housing in Hamburg and they collected all possible devices in one apartment and offered to manage all this zoo eight phone applications (by the way, only apple).  <s>Here I should probably write: you can imagine, eight applications, Karl!</s> <br>  With ioBroker it would not be necessary. <br><br>  ioBroker has a very modular structure.  Each module runs in a separate process and when it falls, it just restarts and the whole system works further. <br><br>  The difference between ioBroker and other automation systems is the web visualization module in the browser - vis.  Half the time required for the development of the entire ioBroker was spent on its development. <br><img src="https://habrastorage.org/files/378/772/1c1/3787721c19fb40a6bc374ee56323a000"><br><img src="https://habrastorage.org/files/673/88c/074/67388c074c2f4268b27971f74e6eec1b"><br><br>  Another advantage of ioBroker is the huge number of available npm packages - 286,000. <br><img src="https://habrastorage.org/files/1ae/bb0/7f8/1aebb07f8fc1488b80095c6063b1e042"><br>  * Information taken from <a href="http://www.modulecounts.com/">http://www.modulecounts.com/</a> . <br><br>  Of course, the quality of packages is not always up to the mark, but as a rule for the same problem there are several different packages and the quantity in this case turns into quality.  You just need to select the desired package.  Thus, the connection of new protocols is only a matter of technology. <br>  I thus implemented the connection OPC UA, Sonos, MQTT, Telegram, Pushover, Homematic, Z-Wave, Simatic and a large number of other systems. <br><img src="https://habrastorage.org/files/56a/928/356/56a92835633849aaa518e7524aab1e01"><br>  Great emphasis is placed on the possibility of convenient configuration and configuration, and this eats up the lion's share of time, in contrast to FHEM and, for example, OpenHAB, where configuration occurs through configuration files. <br><br>  <b>Open Source Alternatives.</b> <br><img src="https://habrastorage.org/files/e8d/8e9/e4d/e8d8e9e4d5c34f8d9911e8e2866e65f8"><br>  - OpenHAB is a popular Java automation platform.  At the moment, there are up to 160 drivers or modules. <br><img src="https://habrastorage.org/files/ed5/a4e/a1b/ed5a4ea1b334458ab4f2fa34f5b3f98c"><br>  - FHEM is a common Perl automation system with a huge number of drivers - 340. That's just the system setup leaves much to be desired and the lack of a standardized meta-model makes it difficult to expand the system. <br><img src="https://habrastorage.org/files/042/eeb/9e6/042eeb9e66e742abad9865580d7bede0"><br>  - MajorDomo is a fairly mature PHP automation platform.  It is possible to find many articles about this system here on <a href="https://geektimes.ru/company/smartliving/blog/267080/">geektimes</a> . <br><img src="https://habrastorage.org/files/ed2/be4/907/ed2be4907f064acd8f3840b3f8c08cf2"><br>  - Domoticz - a system written in C / C ++ with a very decent graphical interface.  But due to the fact that C / C ++ is difficult to write quickly, then with a limited set of drivers / modules. <br><br>  In general, many interesting home automation systems can be found <a href="https://www.mysensors.org/controller/">here</a> .  Basically, the separation of systems occurs by programming languages ‚Äã‚Äã(Java, C / C ++, Python, Javascript, PHP, ...) and by hardware (Vera, Raspberry PI, Synology, Mediola, ...).  They all deserve the right to exist, although some may be more and some less. <br><br>  At the moment, the level of technical knowledge of people implementing the automation system is quite high and they do not faint from the words: Linux, console, apt-get.  But when the question appeared on the forum: ‚ÄúI installed the system, but I cannot change the home folder to the ioBroker folder.  Help!".  It was a bell that non-computer science began to catch up with and that simple computer users could use the system. <br><br>  All configuration interfaces have been translated into 3 languages, with the exception of German-specific drivers.  Well, why would a Russian-speaking user have a driver supplying data on gasoline prices in Germany or warnings of bad weather from the German weather service? .. <br>  Also without a driver remained for a purely Russian-speaking market, for example, the starline car alarm driver. <br><br>  Documentation is also written as much as possible in 3 languages, but there is still a lot of work to do.  Although over the past month there have been many good descriptions. <br><br>  JavaScript is used to write the interface, service, and scripts.  One of the widespread and popular programming languages.  Now Python is gaining more popularity, but you can‚Äôt write a graphical shell for a browser on python.  (Yes, I know about the existence of <a href="https://github.com/qsnake/py2js">py2js</a> , but have not yet seen anything worthwhile created by it) <br><br>  <b>A little about open source projects.</b> <br>  As a person participating in an open source project, I can say: I used to think that open source projects are being written by thousands of people from all over the world and that it is easy for them to write anything.  Now I can say that behind each open source there is one (sometimes in especially large projects a group of people) and that only one percent of users are active from the community.  Just for large projects, the number of users is millions and one percent of a million is ten thousand people.  But the smaller projects have dozens or units of individuals.  I can also say that one interested user can do more than ten disinterested programmers and it is important to simply gain a lot of users and the likelihood of a person capable of making a significant contribution becomes greater. <br><br>  <b>Opportunities</b> <br>  I can say that the possibilities ... are endless.  Multiply the number of npm packages by the amount of iron and you will have a million possibilities to turn on the light bulb: <br>  - via telegram <br>  - voice <br>  - rest API <br>  - web visualization <br>  - android application <br>  - interface for phones and tablets (mobile) <br>  - 340 drivers from FHEM <br>  - MQTT <br><br>  And the project is also actively developing and growing in 3 languages. <br><br>  For those interested - google to help.  And henceforth - I will try to describe not how the universe works, but how the communication between the modbus device and the nuclear power plant occurs. </div><p>Source: <a href="https://habr.com/ru/post/394961/">https://habr.com/ru/post/394961/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../394951/index.html">Two easy ways to delay a forced upgrade to Windows 10</a></li>
<li><a href="../394953/index.html">Facebook API allows you to access any sent links via Facebook Messenger</a></li>
<li><a href="../394955/index.html">TeamViewer denies hacking and introduces new security measures.</a></li>
<li><a href="../394957/index.html">False emptiness</a></li>
<li><a href="../394959/index.html">A prosthetic arm in the style of steampunk works like a tattoo machine.</a></li>
<li><a href="../394963/index.html">Microphone and cryptography: extract 4,096-bit RSA keys from a distance of 10 meters</a></li>
<li><a href="../394965/index.html">Beautiful ball</a></li>
<li><a href="../394967/index.html">Under steroids on a griddle, or how to make a mouse twice wireless</a></li>
<li><a href="../394969/index.html">Uber co-founder Travis Kalanik visited Moscow</a></li>
<li><a href="../394971/index.html">EURO 2016. Neuroprojections from IT giants</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>