<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Part 4: Still running Linux on RocketChip RISC-V</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the picture, the Linux kernel sends you greetings via GPIO. 


 In this part of the story of porting RISC-V RocketChip to a Chinese motherboard wit...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Part 4: Still running Linux on RocketChip RISC-V</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/webt/wq/cw/ae/wqcwaewtqxjju-xcycuspdxaipe.jpeg" width="45%" align="left">  <em>In the picture, the Linux kernel sends you greetings via GPIO.</em> </p><br><p>  In this part of the story of porting RISC-V RocketChip to a Chinese motherboard with Cyclone IV, we still run Linux, and also learn how to configure the IP Core memory controller ourselves and slightly edit the dts description of the hardware.  This article is a continuation of the <a href="https://habr.com/ru/post/458482/">third part</a> , but, in contrast to the fairly overgrown previous one, it will be rather short. </p><a name="habracut"></a><br><p> ... Since <code>setup_smp</code> is called only if the kernel is configured with SMP support, you can try disabling multi-core.  It will be unpleasant if I need to also implement atomicity support in the memory module (it seemed to me that I tinker with this cache myself), but in the single core case it shouldn‚Äôt prevent us. </p><br><div class="spoiler">  <b class="spoiler_title">It still didn't take off ...</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">[ 0.000000] OF: fdt: Ignoring memory range 0x80000000 - 0x80200000 [ 0.000000] Linux version 4.19.0-sifive-1+ (trosinenko@trosinenko-pc) (gcc version 8.3.0 (Buildroot 2019.02-07449-g4eddd28f99)) #1 Thu Jul 4 18:38:10 MSK 2019 [ 0.000000] bootconsole [early0] enabled [ 0.000000] Initial ramdisk at: 0x(____ptrval____) (16777216 bytes) [ 0.000000] Zone ranges: [ 0.000000] DMA32 [mem 0x0000000080200000-0x00000000bfffffff] [ 0.000000] Normal [mem 0x00000000c0000000-0x00000bffffffffff] [ 0.000000] Movable zone start for each node [ 0.000000] Early memory node ranges [ 0.000000] node 0: [mem 0x0000000080200000-0x00000000bfffffff] [ 0.000000] Initmem setup node 0 [mem 0x0000000080200000-0x00000000bfffffff] [ 0.000000] software IO TLB: mapped [mem 0xbb1fc000-0xbf1fc000] (64MB) [ 0.000000] Unable to find "cpu" devicetree entry [ 0.000000] Built 1 zonelists, mobility grouping on. Total pages: 258055 [ 0.000000] Kernel command line: debug console=ttySIF0,125200 root=/dev/mmcblk0p2 loglevel=7 rootwait [ 0.000000] Dentry cache hash table entries: 131072 (order: 8, 1048576 bytes) [ 0.000000] Inode-cache hash table entries: 65536 (order: 7, 524288 bytes) [ 0.000000] Sorting __ex_table... [ 0.000000] BUG: Bad page state in process swapper pfn:80bf7 [ 0.000000] page:ffffffe03f029e08 count:0 mapcount:-65280 mapping:0000000000000000 index:0x1 [ 0.000000] flags: 0x0() [ 0.000000] raw: 0000000000000000 0000000000000100 0000000000000200 0000000000000000 [ 0.000000] raw: 0000000000000001 0000000000000000 00000000ffff00ff [ 0.000000] page dumped because: nonzero mapcount [ 0.000000] Modules linked in: [ 0.000000] CPU: 0 PID: 0 Comm: swapper Not tainted 4.19.0-sifive-1+ #1 [ 0.000000] Call Trace: [ 0.000000] [&lt;ffffffe00002cfde&gt;] walk_stackframe+0x0/0xa0 [ 0.000000] [&lt;ffffffe00002d1da&gt;] show_stack+0x2a/0x34 [ 0.000000] [&lt;ffffffe00063c898&gt;] chachachllachachachTradeonachachach_inachachipachachachachllachachachTradeonachachachdevachachachypachachachllachachachTradeona+0x20/0x28 [ 0.000000] [&lt;ffffffe00009499c&gt;] bad_page+0xe4/0x102 [ 0.000000] [&lt;ffffffe0000949f2&gt;] free_pages_check_bad+0x38/0x7a [ 0.000000] [&lt;ffffffe000094bb0&gt;] free_pcppages_bulk+0x106/0x36c [ 0.000000] [&lt;ffffffe0000957be&gt;] free_unref_page_commit.isra.23+0x86/0x8e [ 0.000000] [&lt;ffffffe0000960bc&gt;] free_unref_page+0x44/0x58 [ 0.000000] [&lt;ffffffe0000960de&gt;] __free_pages.part.28+0xe/0x22 [ 0.000000] [&lt;ffffffe0000056da&gt;] __free_pages_bootmem+0x86/0x90 [ 0.000000] [&lt;ffffffe000007c46&gt;] free_all_bootmem+0x156/0x1ba [ 0.000000] [&lt;ffffffe0000023f8&gt;] mem_init+0x36/0x44 [ 0.000000] [&lt;ffffffe0000007a0&gt;] start_kernel+0x1aa/0x328 [ 0.000000] [&lt;ffffffe000000058&gt;] _sinittext+0x58/0x5c [ 0.000000] Disabling lock debugging due to kernel taint [ 0.000000] BUG: Bad page state in process swapper pfn:80bf9 [ 0.000000] page:ffffffe03f029e78 count:0 mapcount:-65280 mapping:0000000000000000 index:0x0 [ 0.000000] flags: 0x0() [ 0.000000] raw: 0000000000000000 ffffffe03f020080 ffffffe03f020080 0000000000000000 [ 0.000000] raw: 0000000000000000 0000000000000000 00000000ffff00ff [ 0.000000] page dumped because: nonzero mapcount [ 0.000000] Modules linked in: [ 0.000000] CPU: 0 PID: 0 Comm: swapper Tainted: GB 4.19.0-sifive-1+ #1 [ 0.000000] Call Trace: [ 0.000000] [&lt;ffffffe00002cfde&gt;] walk_stackframe+0x0/0xa0 [ 0.000000] [&lt;ffffffe00002d1da&gt;] show_stack+0x2a/0x34 [ 0.000000] [&lt;ffffffe00063c898&gt;] chachachllachachachTradeonachachach_inachachipachachachachllachachachTradeonachachachdevachachachypachachachllachachachTradeona+0x20/0x28 [ 0.000000] [&lt;ffffffe00009499c&gt;] bad_page+0xe4/0x102 [ 0.000000] [&lt;ffffffe0000949f2&gt;] free_pages_check_bad+0x38/0x7a [ 0.000000] [&lt;ffffffe0000955c6&gt;] __free_pages_ok+0x3fe/0x430 [ 0.000000] [&lt;ffffffe0000960ea&gt;] __free_pages.part.28+0x1a/0x22 [ 0.000000] [&lt;ffffffe0000056da&gt;] __free_pages_bootmem+0x86/0x90 [ 0.000000] [&lt;ffffffe000007c46&gt;] free_all_bootmem+0x156/0x1ba [ 0.000000] [&lt;ffffffe0000023f8&gt;] mem_init+0x36/0x44 [ 0.000000] [&lt;ffffffe0000007a0&gt;] start_kernel+0x1aa/0x328 [ 0.000000] [&lt;ffffffe000000058&gt;] _sinittext+0x58/0x5c [ 0.000000] BUG: Bad page state in process swapper pfn:80bfa [ 0.000000] page:ffffffe03f029eb0 count:0 mapcount:-65280 mapping:0000000000000000 index:0x0 [ 0.000000] flags: 0x0() [ 0.000000] raw: 0000000000000000 ffffffe03f0200b8 ffffffe03f0200b8 0000000000000000 [ 0.000000] raw: 0000000000000000 0000000000000000 00000000ffff00ff [ 0.000000] page dumped because: nonzero mapcount [ 0.000000] Modules linked in: [ 0.000000] CPU: 0 PID: 0 Comm: swapper Tainted: GB 4.19.0-sifive-1+ #1 [ 0.000000] Call Trace: [ 0.000000] [&lt;ffffffe00002cfde&gt;] walk_stackframe+0x0/0xa0 [ 0.000000] [&lt;ffffffe00002d1da&gt;] show_stack+0x2a/0x34 [ 0.000000] [&lt;ffffffe00063c898&gt;] chachachllachachachTradeonachachach_inachachipachachachachllachachachTradeonachachachdevachachachypachachachllachachachTradeona+0x20/0x28 [ 0.000000] [&lt;ffffffe00009499c&gt;] bad_page+0xe4/0x102 [ 0.000000] [&lt;ffffffe0000949f2&gt;] free_pages_check_bad+0x38/0x7a [ 0.000000] [&lt;ffffffe0000955c6&gt;] __free_pages_ok+0x3fe/0x430 [ 0.000000] [&lt;ffffffe0000960ea&gt;] __free_pages.part.28+0x1a/0x22 [ 0.000000] [&lt;ffffffe0000056da&gt;] __free_pages_bootmem+0x86/0x90 [ 0.000000] [&lt;ffffffe000007c46&gt;] free_all_bootmem+0x156/0x1ba [ 0.000000] [&lt;ffffffe0000023f8&gt;] mem_init+0x36/0x44 [ 0.000000] [&lt;ffffffe0000007a0&gt;] start_kernel+0x1aa/0x328 [ 0.000000] [&lt;ffffffe000000058&gt;] _sinittext+0x58/0x5c [ 0.000000] BUG: Bad page state in process swapper pfn:80bfb [ 0.000000] page:ffffffe03f029ee8 count:0 mapcount:-65280 mapping:0000000000000000 index:0x0 [ 0.000000] flags: 0x0() [ 0.000000] raw: 0000000000000000 ffffffe03f0200f0 ffffffe03f0200f0 0000000000000000 [ 0.000000] raw: 0000000000000000 0000000000000000 00000000ffff00ff [ 0.000000] page dumped because: nonzero mapcount [ 0.000000] Modules linked in: [ 0.000000] CPU: 0 PID: 0 Comm: swapper Tainted: GB 4.19.0-sifive-1+ #1 [ 0.000000] Call Trace: [ 0.000000] [&lt;ffffffe00002cfde&gt;] walk_stackframe+0x0/0xa0 [ 0.000000] [&lt;ffffffe00002d1da&gt;] show_stack+0x2a/0x34 [ 0.000000] [&lt;ffffffe00063c898&gt;] chachachllachachachTradeonachachach_inachachipachachachachllachachachTradeonachachachdevachachachypachachachllachachachTradeona+0x20/0x28 [ 0.000000] [&lt;ffffffe00009499c&gt;] bad_page+0xe4/0x102 [ 0.000000] [&lt;ffffffe0000949f2&gt;] free_pages_check_bad+0x38/0x7a [ 0.000000] [&lt;ffffffe0000955c6&gt;] __free_pages_ok+0x3fe/0x430 [ 0.000000] [&lt;ffffffe0000960ea&gt;] __free_pages.part.28+0x1a/0x22 [ 0.000000] [&lt;ffffffe0000056da&gt;] __free_pages_bootmem+0x86/0x90 [ 0.000000] [&lt;ffffffe000007c46&gt;] free_all_bootmem+0x156/0x1ba [ 0.000000] [&lt;ffffffe0000023f8&gt;] mem_init+0x36/0x44 [ 0.000000] [&lt;ffffffe0000007a0&gt;] start_kernel+0x1aa/0x328 [ 0.000000] [&lt;ffffffe000000058&gt;] _sinittext+0x58/0x5c [ 0.000000] BUG: Bad page state in process swapper pfn:80bfc [ 0.000000] page:ffffffe03f029f20 count:0 mapcount:-65280 mapping:0000000000000000 index:0x0 [ 0.000000] flags: 0x0() [ 0.000000] raw: 0000000000000000 ffffffe03f020028 ffffffe03f020028 0000000000000000 [ 0.000000] raw: 0000000000000000 0000000000000000 00000000ffff00ff ...</code> </pre> </div></div><br><p>  Interestingly, after all the debugging, I decided to see what the ‚Äúreference‚Äù kernel output should look like, said <code>make qemu</code> , and saw a similar error. </p><br><p>  Alas, the next level (Linux kernel) is more complicated: GDB, connected via JTAG to RocketChip, seems to work with physical addresses regardless of how the MMU is configured, and the kernel has already configured the address mapping at the moment of interest, so just say <code>display/10i $pc</code> does not work - see only a lot of <code>unimp</code> .  But if we have already figured out the offset (it seems that <code>0x80200000 -&gt; 0xffffffe000000000</code> ), then we can cheat: </p><br><pre> <code class="plaintext hljs">1: x/10i $pc =&gt; 0xffffffe000002436 &lt;setup_smp&gt;: unimp 0xffffffe000002438 &lt;setup_smp+2&gt;: unimp 0xffffffe00000243a &lt;setup_smp+4&gt;: unimp 0xffffffe00000243c &lt;setup_smp+6&gt;: unimp 0xffffffe00000243e &lt;setup_smp+8&gt;: unimp 0xffffffe000002440 &lt;setup_smp+10&gt;: unimp 0xffffffe000002442 &lt;setup_smp+12&gt;: unimp 0xffffffe000002444 &lt;setup_smp+14&gt;: unimp 0xffffffe000002446 &lt;setup_smp+16&gt;: unimp 0xffffffe000002448 &lt;setup_smp+18&gt;: unimp (gdb) undisplay 1 (gdb) display/10i ($pc - 0xffffffe000002436 + 0x80202436) 2: x/10i ($pc - 0xffffffe000002436 + 0x80202436) 0x80202436: addi sp,sp,-96 0x80202438: sd s0,80(sp) 0x8020243a: sd s1,72(sp) 0x8020243c: sd s2,64(sp) 0x8020243e: sd s3,56(sp) 0x80202440: sd s4,48(sp) 0x80202442: sd s5,40(sp) 0x80202444: sd s6,32(sp) 0x80202446: sd s7,24(sp) 0x80202448: sd s8,16(sp)</code> </pre> <br><p>  Breakpoints are put similarly: </p><br><pre> <code class="plaintext hljs">(gdb) p setup_smp $1 = {&lt;text variable, no debug info&gt;} 0xffffffe000002436 &lt;setup_smp&gt; (gdb) b *0x80202436 Breakpoint 1 at 0x80202436 (gdb) c Continuing. Program received signal SIGTRAP, Trace/breakpoint trap. setup_smp () at /home/trosinenko/freedom-u-sdk/linux/arch/riscv/kernel/smpboot.c:58 58 while ((dn = of_find_node_by_type(dn, "cpu"))) { (gdb) bt #0 setup_smp () at /home/trosinenko/freedom-u-sdk/linux/arch/riscv/kernel/smpboot.c:58 #1 0xffffffe0000022a2 in setup_arch () at /home/trosinenko/freedom-u-sdk/linux/arch/riscv/kernel/setup.c:253 #2 0x0000000000000000 in ?? () Backtrace stopped: frame did not save the PC</code> </pre> <br><p>  That's just they have to manually remove to go further - for GDB it is some kind of completely incomprehensible trap.  Oh yeah, if you accidentally say <code>s</code> or <code>n</code> instead of <code>si</code> , gdb will try to insert an implicit breakpoint, which for obvious reasons will not be set, but you can‚Äôt dissuade GDB anyway.  But don't be in a hurry to reboot the board - according to my observations, it is enough to restart only gdb (note that the old breakpoints may not disappear). </p><br><p>  Actually, you will have to deal with the initial problem: placing the debugging <code>printk</code> into the <code>of_find_node_by_type</code> function used by the search code of the boot processor core shows that it sees some garbage instead of device type names.  For example, it from somewhere takes the line ‚ÄúSerial port‚Äù, although this is clearly not in dtb in the <code>device_type</code> field.  Looking for these bytes in the kernel image, I found them, looked at the offset, and realized the obvious: the size of the kernel in the boot parameters is clearly underestimated: 8Mb is allocated to it, and it takes more than ten.  Allocated 16Mb, but the oddities did not stop.  After dancing with reading FDT from different addresses (the address is normally sent to the core in register <code>a1</code> ), I finally decided to trace, and what <strong>is</strong> there <strong>now</strong> parsing.  Fortunately, instead of walking with a debugger (and we remember that there are nuances with the translation of addresses that still need to be solved one way or another), you can simply and kostylno in the <code>drivers/of/fdt.c</code> specify <code>#define pr_debug printk</code> .  The result was: </p><br><div class="spoiler">  <b class="spoiler_title">add debug output</b> <div class="spoiler_text"><pre> <code class="diff hljs">diff --git a/arch/riscv/kernel/setup.cb/arch/riscv/kernel/setup.c index 3db0d71d128b..fac47df9d1db 100644 --- a/arch/riscv/kernel/setup.c +++ b/arch/riscv/kernel/setup.c @@ -173,6 +173,7 @@ asmlinkage void __init setup_vm(void) void __init parse_dtb(unsigned int hartid, void *dtb) { + printk("HART = %u DTB = %lx\n", hartid, dtb); early_init_dt_scan(__va(dtb)); } diff --git a/drivers/of/base.cb/drivers/of/base.c index 74eaedd5b860..c019e4158e1d 100644 --- a/drivers/of/base.c +++ b/drivers/of/base.c @@ -940,10 +940,12 @@ struct device_node *of_find_node_by_type(struct device_node *from, unsigned long flags; raw_spin_lock_irqsave(&amp;devtree_lock, flags); - for_each_of_allnodes_from(from, np) + for_each_of_allnodes_from(from, np) { + printk("%lx %lx [%s] | [%s]\n", from, np, np-&gt;type, type); if (np-&gt;type &amp;&amp; (of_node_cmp(np-&gt;type, type) == 0) &amp;&amp; of_node_get(np)) break; + } of_node_put(from); raw_spin_unlock_irqrestore(&amp;devtree_lock, flags); return np; diff --git a/drivers/of/fdt.cb/drivers/of/fdt.c index 800ad252cf9c..2b45870ebada 100644 --- a/drivers/of/fdt.c +++ b/drivers/of/fdt.c @@ -31,6 +31,8 @@ #include "of_private.h" +#define pr_debug printk + /* * of_fdt_limit_memory - limit the number of regions in the /memory node * @limit: maximum entries @@ -1253,6 +1255,7 @@ bool __init early_init_dt_scan(void *params) */ void __init unflatten_device_tree(void) { + printk("INITIAL: %lx\n", initial_boot_params); __unflatten_device_tree(initial_boot_params, NULL, &amp;of_root, early_init_dt_alloc_memory_arch, false);</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Conclusion on the gland</b> <div class="spoiler_text"><pre> <code class="plaintext hljs"> SIFIVE, INC. 5555555555555555555555555 5555 5555 5555 5555 5555 5555 5555 5555555555555555555555 5555 555555555555555555555555 5555 5555 5555 5555 5555 5555 5555555555555555555555555555 55555 55555 555555555 55555 55555 55555 55555 55555 5 55555 55555 55555 55555 55555 55555 55555 55555 55555 55555 55555 555555555 55555 5 SiFive RISC-V Core IP { #address-cells = &lt;0x00000001&gt;; #size-cells = &lt;0x00000001&gt;; compatible = "freechips,rocketchip-unknown-dev"; model = "freechips,rocketchip-unknown"; chosen { linux,initrd-start = &lt;0x82000000&gt;; riscv,kernel-end = &lt;0x81200000&gt;; riscv,kernel-start = &lt;0x80200000&gt;; #address-cells = &lt;0x00000001&gt;; #size-cells = &lt;0x00000000&gt;; bootargs = &lt;0x64656275 0x6720636f 0x6e736f6c 0x653d7474 0x79534946 0x302c3132 0x35323030 0x20726f6f 0x743d2f64 0x65762f6d 0x6d63626c 0x6b307032 0x206c6f67 0x6c657665 0x6c3d3720 0x726f6f74 0x77616974&gt;; } firmware { sifive,uboot = "YYYY-MM-DD"; } aliases { serial0 = &lt;0x2f736f63 0x2f736572 0x69616c40 0x36343030 0x30303030&gt;; } cpus { #address-cells = &lt;0x00000001&gt;; #size-cells = &lt;0x00000000&gt;; cpu@0 { device_type = "cpu"; clock-frequency = &lt;0x00000000&gt;; compatible = "sifive,rocket0", "riscv"; d-cache-block-size = &lt;0x00000010&gt;; d-cache-sets = &lt;0x00000040&gt;; d-cache-size = &lt;0x00001000&gt;; d-tlb-sets = &lt;0x00000001&gt;; d-tlb-size = &lt;0x00000020&gt;; i-cache-block-size = &lt;0x00000010&gt;; i-cache-sets = &lt;0x00000040&gt;; i-cache-size = &lt;0x00001000&gt;; i-tlb-sets = &lt;0x00000001&gt;; i-tlb-size = &lt;0x00000020&gt;; mmu-type = "riscv,sv39"; next-level-cache = &lt;0x00000001&gt;; reg = &lt;0x00000000&gt;; riscv,isa = "rv64imafdc"; status = "okay"; timebase-frequency = &lt;0x000f4240&gt;; tlb-split; interrupt-controller { #interrupt-cells = &lt;0x00000001&gt;; compatible = "riscv,cpu-intc"; interrupt-controller; phandle = &lt;0x00000002&gt;; } } } ram@80000000 { device_type = "memory"; reg = &lt;0x80000000 0x40000000&gt;; reg-names = "mem"; phandle = &lt;0x00000001&gt;; } soc { #address-cells = &lt;0x00000001&gt;; #size-cells = &lt;0x00000001&gt;; compatible = "freechips,rocketchip-unknown-soc", "simple-bus"; ranges; clint@2000000 { compatible = "riscv,clint0"; interrupts-extended = &lt;0x00000002 0x00000003 0x00000002 0x00000007&gt;; reg = &lt;0x02000000 0x00010000&gt;; reg-names = "control"; } debug-controller@0 { compatible = "sifive,debug-013", "riscv,debug-013"; interrupts-extended = &lt;0x00000002 0x0000ffff&gt;; reg = &lt;0x00000000 0x00001000&gt;; reg-names = "control"; } gpio@64002000 { #gpio-cells = &lt;0x00000002&gt;; #interrupt-cells = &lt;0x00000002&gt;; compatible = "sifive,gpio0"; gpio-controller; interrupt-controller; interrupt-parent = &lt;0x00000003&gt;; interrupts = &lt;0x00000003 0x00000004 0x00000005 0x00000006 0x00000007 0x00000008&gt;; reg = &lt;0x64002000 0x00001000&gt;; reg-names = "control"; } interrupt-controller@c000000 { #interrupt-cells = &lt;0x00000001&gt;; compatible = "riscv,plic0"; interrupt-controller; interrupts-extended = &lt;0x00000002 0x0000000b 0x00000002 0x00000009&gt;; reg = &lt;0x0c000000 0x04000000&gt;; reg-names = "control"; riscv,max-priority = &lt;0x00000007&gt;; riscv,ndev = &lt;0x00000008&gt;; phandle = &lt;0x00000003&gt;; } rom@10000 { compatible = "sifive,maskrom0"; reg = &lt;0x00010000 0x00002000&gt;; reg-names = "mem"; } serial@64000000 { compatible = "sifive,uart0"; interrupt-parent = &lt;0x00000003&gt;; interrupts = &lt;0x00000002&gt;; reg = &lt;0x64000000 0x00001000&gt;; reg-names = "control"; } spi@64001000 { #address-cells = &lt;0x00000001&gt;; #size-cells = &lt;0x00000000&gt;; compatible = "sifive,spi0"; interrupt-parent = &lt;0x00000003&gt;; interrupts = &lt;0x00000001&gt;; reg = &lt;0x64001000 0x00001000&gt;; reg-names = "control"; mmc@0 { compatible = "mmc-spi-slot"; disable-wp; reg = &lt;0x00000000&gt;; spi-max-frequency = &lt;0x01312d00&gt;; voltage-ranges = &lt;0x00000ce4 0x00000ce4&gt;; } } tlclk { #clock-cells = &lt;0x00000000&gt;; clock-frequency = &lt;0x017d7840&gt;; clock-output-names = "tlclk"; compatible = "fixed-clock"; } } } [ 0.000000] HART = 0 DTB = 81200000 [ 0.000000] search "chosen", depth: 0, uname: [ 0.000000] search "chosen", depth: 1, uname: chosen [ 0.000000] Looking for initrd properties... [ 0.000000] Command line is: debug console=ttySIF0,125200 root=/dev/mmcblk0p2 loglevel=7 rootwait [ 0.000000] dt_root_size_cells = 1 [ 0.000000] dt_root_addr_cells = 1 [ 0.000000] memory scan node ram@80000000, reg size 8, [ 0.000000] - 80000000 , 40000000 [ 0.000000] OF: fdt: Ignoring memory range 0x80000000 - 0x80200000 [ 0.000000] Linux version 4.19.0-sifive-1+ (trosinenko@trosinenko-pc) (gcc version 8.3.0 (Buildroot 2019.02-07449-g4eddd28f99)) #1 SMP Sat Jul 6 12:14:41 MSK 2019 [ 0.000000] bootconsole [early0] enabled [ 0.000000] initrd not found or empty - disabling initrd [ 0.000000] Zone ranges: [ 0.000000] DMA32 [mem 0x0000000080200000-0x00000000bfffffff] [ 0.000000] Normal [mem 0x00000000c0000000-0x00000bffffffffff] [ 0.000000] Movable zone start for each node [ 0.000000] Early memory node ranges [ 0.000000] node 0: [mem 0x0000000080200000-0x00000000bfffffff] [ 0.000000] Initmem setup node 0 [mem 0x0000000080200000-0x00000000bfffffff] [ 0.000000] INITIAL: ffffffe001000000 [ 0.000000] -&gt; unflatten_device_tree() [ 0.000000] Unflattening device tree: [ 0.000000] magic: d00dfeed [ 0.000000] size: 00001000 [ 0.000000] version: 00000011 [ 0.000000] size is 13512, allocating... [ 0.000000] unflattening (____ptrval____)... [ 0.000000] fixed up name for -&gt; [ 0.000000] fixed up name for chosen -&gt; chosen [ 0.000000] fixed up name for firmware -&gt; firmware [ 0.000000] fixed up name for aliases -&gt; aliases [ 0.000000] fixed up name for cpus -&gt; cpus [ 0.000000] fixed up name for cpu@0 -&gt; cpu [ 0.000000] fixed up name for interrupt-controller -&gt; interrupt-controller [ 0.000000] fixed up name for ram@80000000 -&gt; ram [ 0.000000] fixed up name for soc -&gt; soc [ 0.000000] fixed up name for clint@2000000 -&gt; clint [ 0.000000] fixed up name for debug-controller@0 -&gt; debug-controller [ 0.000000] fixed up name for gpio@64002000 -&gt; gpio [ 0.000000] fixed up name for interrupt-controller@c000000 -&gt; interrupt-controller [ 0.000000] fixed up name for rom@10000 -&gt; rom [ 0.000000] fixed up name for serial@64000000 -&gt; serial [ 0.000000] fixed up name for spi@64001000 -&gt; spi [ 0.000000] fixed up name for mmc@0 -&gt; mmc [ 0.000000] fixed up name for tlclk -&gt; tlclk [ 0.000000] &lt;- unflatten_device_tree() [ 0.000000] software IO TLB: mapped [mem 0xbb1fc000-0xbf1fc000] (64MB) [ 0.000000] 0 ffffffe03effcab0 [attach() failed for %s with error %d [ 0.000000] ] | [cpu] [ 0.000000] 0 ffffffe03eff0020 [(null)] | [cpu]</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Output to QEMU</b> <div class="spoiler_text"><pre> <code class="plaintext hljs"> SIFIVE, INC. 5555555555555555555555555 5555 5555 5555 5555 5555 5555 5555 5555555555555555555555 5555 555555555555555555555555 5555 5555 5555 5555 5555 5555 5555555555555555555555555555 55555 55555 555555555 55555 55555 55555 55555 55555 5 55555 55555 55555 55555 55555 55555 55555 55555 55555 55555 55555 555555555 55555 5 SiFive RISC-V Core IP { #address-cells = &lt;0x00000002&gt;; #size-cells = &lt;0x00000002&gt;; compatible = "riscv-virtio"; model = "riscv-virtio,qemu"; chosen { linux,initrd-start = &lt;0x00000000 0x88000000&gt;; linux,initrd-end = &lt;0x00000000 0x88442b86&gt;; riscv,kernel-start = &lt;0x00000000 0x80200000&gt;; riscv,kernel-end = &lt;0x00000000 0x80c482ac&gt;; bootargs = ""; stdout-path = &lt;0x2f756172 0x74403130 0x30303030&gt;; } uart@10000000 { interrupts = &lt;0x0000000a&gt;; interrupt-parent = &lt;0x00000002&gt;; clock-frequency = &lt;0x00384000&gt;; reg = &lt;0x00000000 0x10000000 0x00000000 0x00000100&gt;; compatible = "ns16550a"; } test@100000 { reg = &lt;0x00000000 0x00100000 0x00000000 0x00001000&gt;; compatible = "sifive,test0"; } virtio_mmio@10008000 { interrupts = &lt;0x00000008&gt;; interrupt-parent = &lt;0x00000002&gt;; reg = &lt;0x00000000 0x10008000 0x00000000 0x00001000&gt;; compatible = "virtio,mmio"; } virtio_mmio@10007000 { interrupts = &lt;0x00000007&gt;; interrupt-parent = &lt;0x00000002&gt;; reg = &lt;0x00000000 0x10007000 0x00000000 0x00001000&gt;; compatible = "virtio,mmio"; } virtio_mmio@10006000 { interrupts = &lt;0x00000006&gt;; interrupt-parent = &lt;0x00000002&gt;; reg = &lt;0x00000000 0x10006000 0x00000000 0x00001000&gt;; compatible = "virtio,mmio"; } virtio_mmio@10005000 { interrupts = &lt;0x00000005&gt;; interrupt-parent = &lt;0x00000002&gt;; reg = &lt;0x00000000 0x10005000 0x00000000 0x00001000&gt;; compatible = "virtio,mmio"; } virtio_mmio@10004000 { interrupts = &lt;0x00000004&gt;; interrupt-parent = &lt;0x00000002&gt;; reg = &lt;0x00000000 0x10004000 0x00000000 0x00001000&gt;; compatible = "virtio,mmio"; } virtio_mmio@10003000 { interrupts = &lt;0x00000003&gt;; interrupt-parent = &lt;0x00000002&gt;; reg = &lt;0x00000000 0x10003000 0x00000000 0x00001000&gt;; compatible = "virtio,mmio"; } virtio_mmio@10002000 { interrupts = &lt;0x00000002&gt;; interrupt-parent = &lt;0x00000002&gt;; reg = &lt;0x00000000 0x10002000 0x00000000 0x00001000&gt;; compatible = "virtio,mmio"; } virtio_mmio@10001000 { interrupts = &lt;0x00000001&gt;; interrupt-parent = &lt;0x00000002&gt;; reg = &lt;0x00000000 0x10001000 0x00000000 0x00001000&gt;; compatible = "virtio,mmio"; } cpus { #address-cells = &lt;0x00000001&gt;; #size-cells = &lt;0x00000000&gt;; timebase-frequency = &lt;0x00989680&gt;; cpu@0 { device_type = "cpu"; reg = &lt;0x00000000&gt;; status = "okay"; compatible = "riscv"; riscv,isa = "rv64imafdcsu"; mmu-type = "riscv,sv48"; clock-frequency = &lt;0x3b9aca00&gt;; interrupt-controller { #interrupt-cells = &lt;0x00000001&gt;; interrupt-controller; compatible = "riscv,cpu-intc"; linux,phandle = &lt;0x00000001&gt;; phandle = &lt;0x00000001&gt;; } } } memory@80000000 { device_type = "memory"; reg = &lt;0x00000000 0x80000000 0x00000000 0x40000000&gt;; } soc { #address-cells = &lt;0x00000002&gt;; #size-cells = &lt;0x00000002&gt;; compatible = "simple-bus"; ranges; pci@30000000 { interrupt-map-mask = &lt;0x00001800 0x00000000 0x00000000 0x00000007&gt;; interrupt-map = &lt;0x00000000 0x00000000 0x00000000 0x00000001 0x00000002 0x00000020 0x00000000 0x00000000 0x00000000 0x00000002 0x00000002 0x00000021 0x00000000 0x00000000 0x00000000 0x00000003 0x00000002 0x00000022 0x00000000 0x00000000 0x00000000 0x00000004 0x00000002 0x00000023 0x00000800 0x00000000 0x00000000 0x00000001 0x00000002 0x00000021 0x00000800 0x00000000 0x00000000 0x00000002 0x00000002 0x00000022 0x00000800 0x00000000 0x00000000 0x00000003 0x00000002 0x00000023 0x00000800 0x00000000 0x00000000 0x00000004 0x00000002 0x00000020 0x00001000 0x00000000 0x00000000 0x00000001 0x00000002 0x00000022 0x00001000 0x00000000 0x00000000 0x00000002 0x00000002 0x00000023 0x00001000 0x00000000 0x00000000 0x00000003 0x00000002 0x00000020 0x00001000 0x00000000 0x00000000 0x00000004 0x00000002 0x00000021 0x00001800 0x00000000 0x00000000 0x00000001 0x00000002 0x00000023 0x00001800 0x00000000 0x00000000 0x00000002 0x00000002 0x00000020 0x00001800 0x00000000 0x00000000 0x00000003 0x00000002 0x00000021 0x00001800 0x00000000 0x00000000 0x00000004 0x00000002 0x00000022&gt;; ranges = &lt;0x01000000 0x00000000 0x00000000 0x00000000 0x03000000 0x00000000 0x00010000 0x02000000 0x00000000 0x40000000 0x00000000 0x40000000 0x00000000 0x40000000&gt;; reg = &lt;0x00000000 0x30000000 0x00000000 0x10000000&gt;; dma-coherent; bus-range = &lt;0x00000000 0x000002ff&gt;; linux,pci-domain = &lt;0x00000000&gt;; device_type = "pci"; compatible = "pci-host-ecam-generic"; #size-cells = &lt;0x00000002&gt;; #interrupt-cells = &lt;0x00000001&gt;; #address-cells = &lt;0x00000003&gt;; } interrupt-controller@c000000 { linux,phandle = &lt;0x00000002&gt;; phandle = &lt;0x00000002&gt;; riscv,ndev = &lt;0x00000035&gt;; riscv,max-priority = &lt;0x00000007&gt;; reg-names = "control"; reg = &lt;0x00000000 0x0c000000 0x00000000 0x04000000&gt;; interrupts-extended = &lt;0x00000001 0x0000000b 0x00000001 0x00000009&gt;; interrupt-controller; compatible = "riscv,plic0"; #interrupt-cells = &lt;0x00000001&gt;; #address-cells = &lt;0x00000000&gt;; } clint@2000000 { interrupts-extended = &lt;0x00000001 0x00000003 0x00000001 0x00000007&gt;; reg = &lt;0x00000000 0x02000000 0x00000000 0x00010000&gt;; compatible = "riscv,clint0"; } } } [ 0.000000] HART = 0 DTB = 80e00000 [ 0.000000] search "chosen", depth: 0, uname: [ 0.000000] search "chosen", depth: 1, uname: chosen [ 0.000000] Looking for initrd properties... [ 0.000000] initrd_start=0x88000000 initrd_end=0x88442b86 [ 0.000000] Command line is: earlyprintk [ 0.000000] dt_root_size_cells = 2 [ 0.000000] dt_root_addr_cells = 2 [ 0.000000] memory scan node memory@80000000, reg size 16, [ 0.000000] - 80000000 , 40000000 [ 0.000000] OF: fdt: Ignoring memory range 0x80000000 - 0x80200000 [ 0.000000] Linux version 4.19.0-sifive-1+ (trosinenko@trosinenko-pc) (gcc version 8.3.0 (Buildroot 2019.02-07449-g4eddd28f99)) #1 SMP Sat Jul 6 12:14:41 MSK 2019 [ 0.000000] bootconsole [early0] enabled [ 0.000000] Initial ramdisk at: 0x(____ptrval____) (4467590 bytes) [ 0.000000] Zone ranges: [ 0.000000] DMA32 [mem 0x0000000080200000-0x00000000bfffffff] [ 0.000000] Normal [mem 0x00000000c0000000-0x00000bffffffffff] [ 0.000000] Movable zone start for each node [ 0.000000] Early memory node ranges [ 0.000000] node 0: [mem 0x0000000080200000-0x00000000bfffffff] [ 0.000000] Initmem setup node 0 [mem 0x0000000080200000-0x00000000bfffffff] [ 0.000000] INITIAL: ffffffe000c00000 [ 0.000000] -&gt; unflatten_device_tree() [ 0.000000] Unflattening device tree: [ 0.000000] magic: d00dfeed [ 0.000000] size: 00000d56 [ 0.000000] version: 00000011 [ 0.000000] size is 14192, allocating... [ 0.000000] unflattening (____ptrval____)... [ 0.000000] fixed up name for -&gt; [ 0.000000] fixed up name for chosen -&gt; chosen [ 0.000000] fixed up name for uart@10000000 -&gt; uart [ 0.000000] fixed up name for test@100000 -&gt; test [ 0.000000] fixed up name for virtio_mmio@10008000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10007000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10006000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10005000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10004000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10003000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10002000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10001000 -&gt; virtio_mmio [ 0.000000] fixed up name for cpus -&gt; cpus [ 0.000000] fixed up name for cpu@0 -&gt; cpu [ 0.000000] fixed up name for interrupt-controller -&gt; interrupt-controller [ 0.000000] fixed up name for memory@80000000 -&gt; memory [ 0.000000] fixed up name for soc -&gt; soc [ 0.000000] fixed up name for pci@30000000 -&gt; pci [ 0.000000] fixed up name for interrupt-controller@c000000 -&gt; interrupt-controller [ 0.000000] fixed up name for clint@2000000 -&gt; clint [ 0.000000] &lt;- unflatten_device_tree() [ 0.000000] software IO TLB: mapped [mem 0xbb1fc000-0xbf1fc000] (64MB) [ 0.000000] 0 ffffffe03effc808 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effca78 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effcd98 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd068 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd230 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd4b8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd740 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd9c8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effdc50 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effded8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe160 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe3e8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe670 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe888 [cpu] | [cpu] [ 0.000000] ffffffe03effe888 ffffffe03effec00 [&lt;NULL&gt;] | [cpu] [ 0.000000] ffffffe03effe888 ffffffe03effeee8 [memory] | [cpu] [ 0.000000] ffffffe03effe888 ffffffe03efff0b0 [&lt;NULL&gt;] | [cpu] [ 0.000000] ffffffe03effe888 ffffffe03efff320 [pci] | [cpu] [ 0.000000] ffffffe03effe888 ffffffe03efff858 [&lt;NULL&gt;] | [cpu] [ 0.000000] ffffffe03effe888 ffffffe03efffd58 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effc808 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effca78 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effcd98 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd068 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd230 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd4b8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd740 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd9c8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effdc50 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effded8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe160 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe3e8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe670 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe888 [cpu] | [cpu] [ 0.000000] elf_hwcap is 0x112d [ 0.000000] percpu: Embedded 17 pages/cpu @(____ptrval____) s29400 r8192 d32040 u69632 [ 0.000000] Built 1 zonelists, mobility grouping on. Total pages: 258055 [ 0.000000] Kernel command line: earlyprintk [ 0.000000] Dentry cache hash table entries: 131072 (order: 8, 1048576 bytes) [ 0.000000] Inode-cache hash table entries: 65536 (order: 7, 524288 bytes) [ 0.000000] Sorting __ex_table... [ 0.000000] Memory: 949716K/1046528K available (6565K kernel code, 342K rwdata, 2564K rodata, 208K init, 832K bss, 96812K reserved, 0K cma-reserved) [ 0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=1, Nodes=1 [ 0.000000] rcu: Hierarchical RCU implementation. [ 0.000000] rcu: RCU event tracing is enabled. [ 0.000000] rcu: RCU restricting CPUs from NR_CPUS=8 to nr_cpu_ids=1. [ 0.000000] rcu: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=1 [ 0.000000] NR_IRQS: 0, nr_irqs: 0, preallocated irqs: 0 [ 0.000000] plic: mapped 53 interrupts to 2 (out of 2) handlers. [ 0.000000] clocksource: riscv_clocksource: mask: 0xffffffffffffffff max_cycles: 0x24e6a1710, max_idle_ns: 440795202120 ns [ 0.000000] Console: colour dummy device 80x25 [ 0.000000] console [tty0] enabled [ 0.000000] bootconsole [early0] disabled [ 0.000000] HART = 0 DTB = 80e00000 [ 0.000000] search "chosen", depth: 0, uname: [ 0.000000] search "chosen", depth: 1, uname: chosen [ 0.000000] Looking for initrd properties... [ 0.000000] initrd_start=0x88000000 initrd_end=0x88442b86 [ 0.000000] Command line is: earlyprintk [ 0.000000] dt_root_size_cells = 2 [ 0.000000] dt_root_addr_cells = 2 [ 0.000000] memory scan node memory@80000000, reg size 16, [ 0.000000] - 80000000 , 40000000 [ 0.000000] OF: fdt: Ignoring memory range 0x80000000 - 0x80200000 [ 0.000000] Linux version 4.19.0-sifive-1+ (trosinenko@trosinenko-pc) (gcc version 8.3.0 (Buildroot 2019.02-07449-g4eddd28f99)) #1 SMP Sat Jul 6 12:14:41 MSK 2019 [ 0.000000] bootconsole [early0] enabled [ 0.000000] Initial ramdisk at: 0x(____ptrval____) (4467590 bytes) [ 0.000000] Zone ranges: [ 0.000000] DMA32 [mem 0x0000000080200000-0x00000000bfffffff] [ 0.000000] Normal [mem 0x00000000c0000000-0x00000bffffffffff] [ 0.000000] Movable zone start for each node [ 0.000000] Early memory node ranges [ 0.000000] node 0: [mem 0x0000000080200000-0x00000000bfffffff] [ 0.000000] Initmem setup node 0 [mem 0x0000000080200000-0x00000000bfffffff] [ 0.000000] INITIAL: ffffffe000c00000 [ 0.000000] -&gt; unflatten_device_tree() [ 0.000000] Unflattening device tree: [ 0.000000] magic: d00dfeed [ 0.000000] size: 00000d56 [ 0.000000] version: 00000011 [ 0.000000] size is 14192, allocating... [ 0.000000] unflattening (____ptrval____)... [ 0.000000] fixed up name for -&gt; [ 0.000000] fixed up name for chosen -&gt; chosen [ 0.000000] fixed up name for uart@10000000 -&gt; uart [ 0.000000] fixed up name for test@100000 -&gt; test [ 0.000000] fixed up name for virtio_mmio@10008000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10007000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10006000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10005000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10004000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10003000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10002000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10001000 -&gt; virtio_mmio [ 0.000000] fixed up name for cpus -&gt; cpus [ 0.000000] fixed up name for cpu@0 -&gt; cpu [ 0.000000] fixed up name for interrupt-controller -&gt; interrupt-controller [ 0.000000] fixed up name for memory@80000000 -&gt; memory [ 0.000000] fixed up name for soc -&gt; soc [ 0.000000] fixed up name for pci@30000000 -&gt; pci [ 0.000000] fixed up name for interrupt-controller@c000000 -&gt; interrupt-controller [ 0.000000] fixed up name for clint@2000000 -&gt; clint [ 0.000000] &lt;- unflatten_device_tree() [ 0.000000] software IO TLB: mapped [mem 0xbb1fc000-0xbf1fc000] (64MB) [ 0.000000] 0 ffffffe03effc808 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effca78 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effcd98 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd068 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd230 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd4b8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd740 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd9c8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effdc50 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effded8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe160 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe3e8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe670 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe888 [cpu] | [cpu] [ 0.000000] ffffffe03effe888 ffffffe03effec00 [&lt;NULL&gt;] | [cpu] [ 0.000000] ffffffe03effe888 ffffffe03effeee8 [memory] | [cpu] [ 0.000000] ffffffe03effe888 ffffffe03efff0b0 [&lt;NULL&gt;] | [cpu] [ 0.000000] ffffffe03effe888 ffffffe03efff320 [pci] | [cpu] [ 0.000000] ffffffe03effe888 ffffffe03efff858 [&lt;NULL&gt;] | [cpu] [ 0.000000] ffffffe03effe888 ffffffe03efffd58 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effc808 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effca78 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effcd98 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd068 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd230 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd4b8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd740 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd9c8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effdc50 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effded8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe160 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe3e8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe670 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe888 [cpu] | [cpu] [ 0.000000] elf_hwcap is 0x112d [ 0.000000] percpu: Embedded 17 pages/cpu @(____ptrval____) s29400 r8192 d32040 u69632 [ 0.000000] Built 1 zonelists, mobility grouping on. Total pages: 258055 [ 0.000000] Kernel command line: earlyprintk [ 0.000000] Dentry cache hash table entries: 131072 (order: 8, 1048576 bytes) [ 0.000000] Inode-cache hash table entries: 65536 (order: 7, 524288 bytes) [ 0.000000] Sorting __ex_table... [ 0.000000] Memory: 949716K/1046528K available (6565K kernel code, 342K rwdata, 2564K rodata, 208K init, 832K bss, 96812K reserved, 0K cma-reserved) [ 0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=1, Nodes=1 [ 0.000000] rcu: Hierarchical RCU implementation. [ 0.000000] rcu: RCU event tracing is enabled. [ 0.000000] rcu: RCU restricting CPUs from NR_CPUS=8 to nr_cpu_ids=1. [ 0.000000] rcu: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=1 [ 0.000000] NR_IRQS: 0, nr_irqs: 0, preallocated irqs: 0 [ 0.000000] plic: mapped 53 interrupts to 2 (out of 2) handlers. [ 0.000000] clocksource: riscv_clocksource: mask: 0xffffffffffffffff max_cycles: 0x24e6a1710, max_idle_ns: 440795202120 ns [ 0.000000] Console: colour dummy device 80x25 [ 0.000000] console [tty0] enabled [ 0.000000] bootconsole [early0] disabled [ 0.000000] Calibrating delay loop (skipped), value calculated using timer frequency.. 20.00 BogoMIPS (lpj=100000) [ 0.000000] pid_max: default: 32768 minimum: 301 [ 0.000000] Mount-cache hash table entries: 2048 (order: 2, 16384 bytes) [ 0.000000] Mountpoint-cache hash table entries: 2048 (order: 2, 16384 bytes) [ 0.020000] rcu: Hierarchical SRCU implementation. [ 0.020000] smp: Bringing up secondary CPUs ... [ 0.020000] smp: Brought up 1 node, 1 CPU [ 0.050000] devtmpfs: initialized [ 0.050000] 0 ffffffe03effc808 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effca78 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effcd98 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effd068 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effd230 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effd4b8 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effd740 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effd9c8 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effdc50 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effded8 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effe160 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effe3e8 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effe670 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effe888 [cpu] | [cpu] [ 0.050000] random: get_random_u32 called from bucket_table_alloc+0x76/0x17a with crng_init=0 [ 0.050000] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604462750000 ns [ 0.050000] futex hash table entries: 256 (order: 2, 16384 bytes) [ 0.060000] NET: Registered protocol family 16 [ 0.090000] vgaarb: loaded [ 0.090000] SCSI subsystem initialized [ 0.090000] usbcore: registered new interface driver usbfs [ 0.090000] usbcore: registered new interface driver hub [ 0.090000] usbcore: registered new device driver usb [ 0.090000] pps_core: LinuxPPS API ver. 1 registered [ 0.090000] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti &lt;giometti@linux.it&gt; [ 0.090000] PTP clock support registered [ 0.100000] Advanced Linux Sound Architecture Driver Initialized. [ 0.100000] clocksource: Switched to clocksource riscv_clocksource [ 0.110000] NET: Registered protocol family 2 [ 0.110000] tcp_listen_portaddr_hash hash table entries: 512 (order: 1, 8192 bytes) [ 0.110000] TCP established hash table entries: 8192 (order: 4, 65536 bytes) [ 0.110000] TCP bind hash table entries: 8192 (order: 5, 131072 bytes) [ 0.110000] TCP: Hash tables configured (established 8192 bind 8192) [ 0.110000] UDP hash table entries: 512 (order: 2, 16384 bytes) [ 0.110000] UDP-Lite hash table entries: 512 (order: 2, 16384 bytes) [ 0.110000] NET: Registered protocol family 1 [ 0.120000] Unpacking initramfs... [ 0.590000] workingset: timestamp_bits=62 max_order=18 bucket_order=0 [ 0.620000] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 251) [ 0.620000] io scheduler noop registered [ 0.620000] io scheduler deadline registered [ 0.620000] io scheduler cfq registered (default) [ 0.620000] io scheduler mq-deadline registered [ 0.620000] io scheduler kyber registered [ 0.620000] shpchp: Standard Hot Plug PCI Controller Driver version: 0.4 [ 0.690000] Serial: 8250/16550 driver, 4 ports, IRQ sharing disabled [ 0.690000] 10000000.uart: ttyS0 at MMIO 0x10000000 (irq = 10, base_baud = 230400) is a 16550A [ 0.720000] console [ttyS0] enabled [ 0.720000] [drm] radeon kernel modesetting enabled. [ 0.720000] [drm] amdgpu kernel modesetting enabled. [ 0.730000] loop: module loaded [ 0.730000] libphy: Fixed MDIO Bus: probed [ 0.740000] e1000e: Intel(R) PRO/1000 Network Driver - 3.2.6-k [ 0.740000] e1000e: Copyright(c) 1999 - 2015 Intel Corporation. [ 0.740000] ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver [ 0.740000] ehci-pci: EHCI PCI platform driver [ 0.740000] ehci-platform: EHCI generic platform driver [ 0.740000] mousedev: PS/2 mouse device common for all mice [ 0.740000] usbcore: registered new interface driver usbhid [ 0.740000] usbhid: USB HID core driver [ 0.740000] usbcore: registered new interface driver snd-usb-audio [ 0.740000] NET: Registered protocol family 10 [ 0.750000] Segment Routing with IPv6 [ 0.750000] sit: IPv6, IPv4 and MPLS over IPv4 tunneling driver [ 0.750000] NET: Registered protocol family 17 [ 0.750000] Key type dns_resolver registered [ 0.760000] ALSA device list: [ 0.760000] No soundcards found. [ 0.770000] Freeing unused kernel memory: 208K [ 0.770000] This architecture does not have kernel memory protection. [ 0.770000] Run /init as init process</code> 0x00000001 0x00000002 0x00000020 0x00000000 0x00000000 0x00000000 0x00000002 0x00000002 0x00000021 0x00000000 0x00000000 0x00000000 0x00000003 0x00000002 0x00000022 0x00000000 0x00000000 0x00000000 0x00000004 0x00000002 0x00000023 0x00000800 0x00000000 0x00000000 0x00000001 0x00000002 0x00000021 0x00000800 0x00000000 0x00000000 0x00000002 0x00000002 0x00000022 0x00000800 0x00000000 0x00000000 0x00000003 0x00000002 0x00000023 0x00000800 0x00000000 0x00000000 <code class="plaintext hljs"> SIFIVE, INC. 5555555555555555555555555 5555 5555 5555 5555 5555 5555 5555 5555555555555555555555 5555 555555555555555555555555 5555 5555 5555 5555 5555 5555 5555555555555555555555555555 55555 55555 555555555 55555 55555 55555 55555 55555 5 55555 55555 55555 55555 55555 55555 55555 55555 55555 55555 55555 555555555 55555 5 SiFive RISC-V Core IP { #address-cells = &lt;0x00000002&gt;; #size-cells = &lt;0x00000002&gt;; compatible = "riscv-virtio"; model = "riscv-virtio,qemu"; chosen { linux,initrd-start = &lt;0x00000000 0x88000000&gt;; linux,initrd-end = &lt;0x00000000 0x88442b86&gt;; riscv,kernel-start = &lt;0x00000000 0x80200000&gt;; riscv,kernel-end = &lt;0x00000000 0x80c482ac&gt;; bootargs = ""; stdout-path = &lt;0x2f756172 0x74403130 0x30303030&gt;; } uart@10000000 { interrupts = &lt;0x0000000a&gt;; interrupt-parent = &lt;0x00000002&gt;; clock-frequency = &lt;0x00384000&gt;; reg = &lt;0x00000000 0x10000000 0x00000000 0x00000100&gt;; compatible = "ns16550a"; } test@100000 { reg = &lt;0x00000000 0x00100000 0x00000000 0x00001000&gt;; compatible = "sifive,test0"; } virtio_mmio@10008000 { interrupts = &lt;0x00000008&gt;; interrupt-parent = &lt;0x00000002&gt;; reg = &lt;0x00000000 0x10008000 0x00000000 0x00001000&gt;; compatible = "virtio,mmio"; } virtio_mmio@10007000 { interrupts = &lt;0x00000007&gt;; interrupt-parent = &lt;0x00000002&gt;; reg = &lt;0x00000000 0x10007000 0x00000000 0x00001000&gt;; compatible = "virtio,mmio"; } virtio_mmio@10006000 { interrupts = &lt;0x00000006&gt;; interrupt-parent = &lt;0x00000002&gt;; reg = &lt;0x00000000 0x10006000 0x00000000 0x00001000&gt;; compatible = "virtio,mmio"; } virtio_mmio@10005000 { interrupts = &lt;0x00000005&gt;; interrupt-parent = &lt;0x00000002&gt;; reg = &lt;0x00000000 0x10005000 0x00000000 0x00001000&gt;; compatible = "virtio,mmio"; } virtio_mmio@10004000 { interrupts = &lt;0x00000004&gt;; interrupt-parent = &lt;0x00000002&gt;; reg = &lt;0x00000000 0x10004000 0x00000000 0x00001000&gt;; compatible = "virtio,mmio"; } virtio_mmio@10003000 { interrupts = &lt;0x00000003&gt;; interrupt-parent = &lt;0x00000002&gt;; reg = &lt;0x00000000 0x10003000 0x00000000 0x00001000&gt;; compatible = "virtio,mmio"; } virtio_mmio@10002000 { interrupts = &lt;0x00000002&gt;; interrupt-parent = &lt;0x00000002&gt;; reg = &lt;0x00000000 0x10002000 0x00000000 0x00001000&gt;; compatible = "virtio,mmio"; } virtio_mmio@10001000 { interrupts = &lt;0x00000001&gt;; interrupt-parent = &lt;0x00000002&gt;; reg = &lt;0x00000000 0x10001000 0x00000000 0x00001000&gt;; compatible = "virtio,mmio"; } cpus { #address-cells = &lt;0x00000001&gt;; #size-cells = &lt;0x00000000&gt;; timebase-frequency = &lt;0x00989680&gt;; cpu@0 { device_type = "cpu"; reg = &lt;0x00000000&gt;; status = "okay"; compatible = "riscv"; riscv,isa = "rv64imafdcsu"; mmu-type = "riscv,sv48"; clock-frequency = &lt;0x3b9aca00&gt;; interrupt-controller { #interrupt-cells = &lt;0x00000001&gt;; interrupt-controller; compatible = "riscv,cpu-intc"; linux,phandle = &lt;0x00000001&gt;; phandle = &lt;0x00000001&gt;; } } } memory@80000000 { device_type = "memory"; reg = &lt;0x00000000 0x80000000 0x00000000 0x40000000&gt;; } soc { #address-cells = &lt;0x00000002&gt;; #size-cells = &lt;0x00000002&gt;; compatible = "simple-bus"; ranges; pci@30000000 { interrupt-map-mask = &lt;0x00001800 0x00000000 0x00000000 0x00000007&gt;; interrupt-map = &lt;0x00000000 0x00000000 0x00000000 0x00000001 0x00000002 0x00000020 0x00000000 0x00000000 0x00000000 0x00000002 0x00000002 0x00000021 0x00000000 0x00000000 0x00000000 0x00000003 0x00000002 0x00000022 0x00000000 0x00000000 0x00000000 0x00000004 0x00000002 0x00000023 0x00000800 0x00000000 0x00000000 0x00000001 0x00000002 0x00000021 0x00000800 0x00000000 0x00000000 0x00000002 0x00000002 0x00000022 0x00000800 0x00000000 0x00000000 0x00000003 0x00000002 0x00000023 0x00000800 0x00000000 0x00000000 0x00000004 0x00000002 0x00000020 0x00001000 0x00000000 0x00000000 0x00000001 0x00000002 0x00000022 0x00001000 0x00000000 0x00000000 0x00000002 0x00000002 0x00000023 0x00001000 0x00000000 0x00000000 0x00000003 0x00000002 0x00000020 0x00001000 0x00000000 0x00000000 0x00000004 0x00000002 0x00000021 0x00001800 0x00000000 0x00000000 0x00000001 0x00000002 0x00000023 0x00001800 0x00000000 0x00000000 0x00000002 0x00000002 0x00000020 0x00001800 0x00000000 0x00000000 0x00000003 0x00000002 0x00000021 0x00001800 0x00000000 0x00000000 0x00000004 0x00000002 0x00000022&gt;; ranges = &lt;0x01000000 0x00000000 0x00000000 0x00000000 0x03000000 0x00000000 0x00010000 0x02000000 0x00000000 0x40000000 0x00000000 0x40000000 0x00000000 0x40000000&gt;; reg = &lt;0x00000000 0x30000000 0x00000000 0x10000000&gt;; dma-coherent; bus-range = &lt;0x00000000 0x000002ff&gt;; linux,pci-domain = &lt;0x00000000&gt;; device_type = "pci"; compatible = "pci-host-ecam-generic"; #size-cells = &lt;0x00000002&gt;; #interrupt-cells = &lt;0x00000001&gt;; #address-cells = &lt;0x00000003&gt;; } interrupt-controller@c000000 { linux,phandle = &lt;0x00000002&gt;; phandle = &lt;0x00000002&gt;; riscv,ndev = &lt;0x00000035&gt;; riscv,max-priority = &lt;0x00000007&gt;; reg-names = "control"; reg = &lt;0x00000000 0x0c000000 0x00000000 0x04000000&gt;; interrupts-extended = &lt;0x00000001 0x0000000b 0x00000001 0x00000009&gt;; interrupt-controller; compatible = "riscv,plic0"; #interrupt-cells = &lt;0x00000001&gt;; #address-cells = &lt;0x00000000&gt;; } clint@2000000 { interrupts-extended = &lt;0x00000001 0x00000003 0x00000001 0x00000007&gt;; reg = &lt;0x00000000 0x02000000 0x00000000 0x00010000&gt;; compatible = "riscv,clint0"; } } } [ 0.000000] HART = 0 DTB = 80e00000 [ 0.000000] search "chosen", depth: 0, uname: [ 0.000000] search "chosen", depth: 1, uname: chosen [ 0.000000] Looking for initrd properties... [ 0.000000] initrd_start=0x88000000 initrd_end=0x88442b86 [ 0.000000] Command line is: earlyprintk [ 0.000000] dt_root_size_cells = 2 [ 0.000000] dt_root_addr_cells = 2 [ 0.000000] memory scan node memory@80000000, reg size 16, [ 0.000000] - 80000000 , 40000000 [ 0.000000] OF: fdt: Ignoring memory range 0x80000000 - 0x80200000 [ 0.000000] Linux version 4.19.0-sifive-1+ (trosinenko@trosinenko-pc) (gcc version 8.3.0 (Buildroot 2019.02-07449-g4eddd28f99)) #1 SMP Sat Jul 6 12:14:41 MSK 2019 [ 0.000000] bootconsole [early0] enabled [ 0.000000] Initial ramdisk at: 0x(____ptrval____) (4467590 bytes) [ 0.000000] Zone ranges: [ 0.000000] DMA32 [mem 0x0000000080200000-0x00000000bfffffff] [ 0.000000] Normal [mem 0x00000000c0000000-0x00000bffffffffff] [ 0.000000] Movable zone start for each node [ 0.000000] Early memory node ranges [ 0.000000] node 0: [mem 0x0000000080200000-0x00000000bfffffff] [ 0.000000] Initmem setup node 0 [mem 0x0000000080200000-0x00000000bfffffff] [ 0.000000] INITIAL: ffffffe000c00000 [ 0.000000] -&gt; unflatten_device_tree() [ 0.000000] Unflattening device tree: [ 0.000000] magic: d00dfeed [ 0.000000] size: 00000d56 [ 0.000000] version: 00000011 [ 0.000000] size is 14192, allocating... [ 0.000000] unflattening (____ptrval____)... [ 0.000000] fixed up name for -&gt; [ 0.000000] fixed up name for chosen -&gt; chosen [ 0.000000] fixed up name for uart@10000000 -&gt; uart [ 0.000000] fixed up name for test@100000 -&gt; test [ 0.000000] fixed up name for virtio_mmio@10008000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10007000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10006000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10005000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10004000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10003000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10002000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10001000 -&gt; virtio_mmio [ 0.000000] fixed up name for cpus -&gt; cpus [ 0.000000] fixed up name for cpu@0 -&gt; cpu [ 0.000000] fixed up name for interrupt-controller -&gt; interrupt-controller [ 0.000000] fixed up name for memory@80000000 -&gt; memory [ 0.000000] fixed up name for soc -&gt; soc [ 0.000000] fixed up name for pci@30000000 -&gt; pci [ 0.000000] fixed up name for interrupt-controller@c000000 -&gt; interrupt-controller [ 0.000000] fixed up name for clint@2000000 -&gt; clint [ 0.000000] &lt;- unflatten_device_tree() [ 0.000000] software IO TLB: mapped [mem 0xbb1fc000-0xbf1fc000] (64MB) [ 0.000000] 0 ffffffe03effc808 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effca78 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effcd98 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd068 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd230 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd4b8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd740 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd9c8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effdc50 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effded8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe160 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe3e8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe670 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe888 [cpu] | [cpu] [ 0.000000] ffffffe03effe888 ffffffe03effec00 [&lt;NULL&gt;] | [cpu] [ 0.000000] ffffffe03effe888 ffffffe03effeee8 [memory] | [cpu] [ 0.000000] ffffffe03effe888 ffffffe03efff0b0 [&lt;NULL&gt;] | [cpu] [ 0.000000] ffffffe03effe888 ffffffe03efff320 [pci] | [cpu] [ 0.000000] ffffffe03effe888 ffffffe03efff858 [&lt;NULL&gt;] | [cpu] [ 0.000000] ffffffe03effe888 ffffffe03efffd58 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effc808 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effca78 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effcd98 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd068 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd230 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd4b8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd740 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd9c8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effdc50 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effded8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe160 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe3e8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe670 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe888 [cpu] | [cpu] [ 0.000000] elf_hwcap is 0x112d [ 0.000000] percpu: Embedded 17 pages/cpu @(____ptrval____) s29400 r8192 d32040 u69632 [ 0.000000] Built 1 zonelists, mobility grouping on. Total pages: 258055 [ 0.000000] Kernel command line: earlyprintk [ 0.000000] Dentry cache hash table entries: 131072 (order: 8, 1048576 bytes) [ 0.000000] Inode-cache hash table entries: 65536 (order: 7, 524288 bytes) [ 0.000000] Sorting __ex_table... [ 0.000000] Memory: 949716K/1046528K available (6565K kernel code, 342K rwdata, 2564K rodata, 208K init, 832K bss, 96812K reserved, 0K cma-reserved) [ 0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=1, Nodes=1 [ 0.000000] rcu: Hierarchical RCU implementation. [ 0.000000] rcu: RCU event tracing is enabled. [ 0.000000] rcu: RCU restricting CPUs from NR_CPUS=8 to nr_cpu_ids=1. [ 0.000000] rcu: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=1 [ 0.000000] NR_IRQS: 0, nr_irqs: 0, preallocated irqs: 0 [ 0.000000] plic: mapped 53 interrupts to 2 (out of 2) handlers. [ 0.000000] clocksource: riscv_clocksource: mask: 0xffffffffffffffff max_cycles: 0x24e6a1710, max_idle_ns: 440795202120 ns [ 0.000000] Console: colour dummy device 80x25 [ 0.000000] console [tty0] enabled [ 0.000000] bootconsole [early0] disabled [ 0.000000] HART = 0 DTB = 80e00000 [ 0.000000] search "chosen", depth: 0, uname: [ 0.000000] search "chosen", depth: 1, uname: chosen [ 0.000000] Looking for initrd properties... [ 0.000000] initrd_start=0x88000000 initrd_end=0x88442b86 [ 0.000000] Command line is: earlyprintk [ 0.000000] dt_root_size_cells = 2 [ 0.000000] dt_root_addr_cells = 2 [ 0.000000] memory scan node memory@80000000, reg size 16, [ 0.000000] - 80000000 , 40000000 [ 0.000000] OF: fdt: Ignoring memory range 0x80000000 - 0x80200000 [ 0.000000] Linux version 4.19.0-sifive-1+ (trosinenko@trosinenko-pc) (gcc version 8.3.0 (Buildroot 2019.02-07449-g4eddd28f99)) #1 SMP Sat Jul 6 12:14:41 MSK 2019 [ 0.000000] bootconsole [early0] enabled [ 0.000000] Initial ramdisk at: 0x(____ptrval____) (4467590 bytes) [ 0.000000] Zone ranges: [ 0.000000] DMA32 [mem 0x0000000080200000-0x00000000bfffffff] [ 0.000000] Normal [mem 0x00000000c0000000-0x00000bffffffffff] [ 0.000000] Movable zone start for each node [ 0.000000] Early memory node ranges [ 0.000000] node 0: [mem 0x0000000080200000-0x00000000bfffffff] [ 0.000000] Initmem setup node 0 [mem 0x0000000080200000-0x00000000bfffffff] [ 0.000000] INITIAL: ffffffe000c00000 [ 0.000000] -&gt; unflatten_device_tree() [ 0.000000] Unflattening device tree: [ 0.000000] magic: d00dfeed [ 0.000000] size: 00000d56 [ 0.000000] version: 00000011 [ 0.000000] size is 14192, allocating... [ 0.000000] unflattening (____ptrval____)... [ 0.000000] fixed up name for -&gt; [ 0.000000] fixed up name for chosen -&gt; chosen [ 0.000000] fixed up name for uart@10000000 -&gt; uart [ 0.000000] fixed up name for test@100000 -&gt; test [ 0.000000] fixed up name for virtio_mmio@10008000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10007000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10006000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10005000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10004000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10003000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10002000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10001000 -&gt; virtio_mmio [ 0.000000] fixed up name for cpus -&gt; cpus [ 0.000000] fixed up name for cpu@0 -&gt; cpu [ 0.000000] fixed up name for interrupt-controller -&gt; interrupt-controller [ 0.000000] fixed up name for memory@80000000 -&gt; memory [ 0.000000] fixed up name for soc -&gt; soc [ 0.000000] fixed up name for pci@30000000 -&gt; pci [ 0.000000] fixed up name for interrupt-controller@c000000 -&gt; interrupt-controller [ 0.000000] fixed up name for clint@2000000 -&gt; clint [ 0.000000] &lt;- unflatten_device_tree() [ 0.000000] software IO TLB: mapped [mem 0xbb1fc000-0xbf1fc000] (64MB) [ 0.000000] 0 ffffffe03effc808 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effca78 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effcd98 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd068 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd230 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd4b8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd740 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd9c8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effdc50 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effded8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe160 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe3e8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe670 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe888 [cpu] | [cpu] [ 0.000000] ffffffe03effe888 ffffffe03effec00 [&lt;NULL&gt;] | [cpu] [ 0.000000] ffffffe03effe888 ffffffe03effeee8 [memory] | [cpu] [ 0.000000] ffffffe03effe888 ffffffe03efff0b0 [&lt;NULL&gt;] | [cpu] [ 0.000000] ffffffe03effe888 ffffffe03efff320 [pci] | [cpu] [ 0.000000] ffffffe03effe888 ffffffe03efff858 [&lt;NULL&gt;] | [cpu] [ 0.000000] ffffffe03effe888 ffffffe03efffd58 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effc808 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effca78 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effcd98 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd068 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd230 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd4b8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd740 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd9c8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effdc50 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effded8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe160 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe3e8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe670 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe888 [cpu] | [cpu] [ 0.000000] elf_hwcap is 0x112d [ 0.000000] percpu: Embedded 17 pages/cpu @(____ptrval____) s29400 r8192 d32040 u69632 [ 0.000000] Built 1 zonelists, mobility grouping on. Total pages: 258055 [ 0.000000] Kernel command line: earlyprintk [ 0.000000] Dentry cache hash table entries: 131072 (order: 8, 1048576 bytes) [ 0.000000] Inode-cache hash table entries: 65536 (order: 7, 524288 bytes) [ 0.000000] Sorting __ex_table... [ 0.000000] Memory: 949716K/1046528K available (6565K kernel code, 342K rwdata, 2564K rodata, 208K init, 832K bss, 96812K reserved, 0K cma-reserved) [ 0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=1, Nodes=1 [ 0.000000] rcu: Hierarchical RCU implementation. [ 0.000000] rcu: RCU event tracing is enabled. [ 0.000000] rcu: RCU restricting CPUs from NR_CPUS=8 to nr_cpu_ids=1. [ 0.000000] rcu: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=1 [ 0.000000] NR_IRQS: 0, nr_irqs: 0, preallocated irqs: 0 [ 0.000000] plic: mapped 53 interrupts to 2 (out of 2) handlers. [ 0.000000] clocksource: riscv_clocksource: mask: 0xffffffffffffffff max_cycles: 0x24e6a1710, max_idle_ns: 440795202120 ns [ 0.000000] Console: colour dummy device 80x25 [ 0.000000] console [tty0] enabled [ 0.000000] bootconsole [early0] disabled [ 0.000000] Calibrating delay loop (skipped), value calculated using timer frequency.. 20.00 BogoMIPS (lpj=100000) [ 0.000000] pid_max: default: 32768 minimum: 301 [ 0.000000] Mount-cache hash table entries: 2048 (order: 2, 16384 bytes) [ 0.000000] Mountpoint-cache hash table entries: 2048 (order: 2, 16384 bytes) [ 0.020000] rcu: Hierarchical SRCU implementation. [ 0.020000] smp: Bringing up secondary CPUs ... [ 0.020000] smp: Brought up 1 node, 1 CPU [ 0.050000] devtmpfs: initialized [ 0.050000] 0 ffffffe03effc808 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effca78 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effcd98 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effd068 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effd230 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effd4b8 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effd740 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effd9c8 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effdc50 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effded8 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effe160 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effe3e8 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effe670 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effe888 [cpu] | [cpu] [ 0.050000] random: get_random_u32 called from bucket_table_alloc+0x76/0x17a with crng_init=0 [ 0.050000] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604462750000 ns [ 0.050000] futex hash table entries: 256 (order: 2, 16384 bytes) [ 0.060000] NET: Registered protocol family 16 [ 0.090000] vgaarb: loaded [ 0.090000] SCSI subsystem initialized [ 0.090000] usbcore: registered new interface driver usbfs [ 0.090000] usbcore: registered new interface driver hub [ 0.090000] usbcore: registered new device driver usb [ 0.090000] pps_core: LinuxPPS API ver. 1 registered [ 0.090000] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti &lt;giometti@linux.it&gt; [ 0.090000] PTP clock support registered [ 0.100000] Advanced Linux Sound Architecture Driver Initialized. [ 0.100000] clocksource: Switched to clocksource riscv_clocksource [ 0.110000] NET: Registered protocol family 2 [ 0.110000] tcp_listen_portaddr_hash hash table entries: 512 (order: 1, 8192 bytes) [ 0.110000] TCP established hash table entries: 8192 (order: 4, 65536 bytes) [ 0.110000] TCP bind hash table entries: 8192 (order: 5, 131072 bytes) [ 0.110000] TCP: Hash tables configured (established 8192 bind 8192) [ 0.110000] UDP hash table entries: 512 (order: 2, 16384 bytes) [ 0.110000] UDP-Lite hash table entries: 512 (order: 2, 16384 bytes) [ 0.110000] NET: Registered protocol family 1 [ 0.120000] Unpacking initramfs... [ 0.590000] workingset: timestamp_bits=62 max_order=18 bucket_order=0 [ 0.620000] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 251) [ 0.620000] io scheduler noop registered [ 0.620000] io scheduler deadline registered [ 0.620000] io scheduler cfq registered (default) [ 0.620000] io scheduler mq-deadline registered [ 0.620000] io scheduler kyber registered [ 0.620000] shpchp: Standard Hot Plug PCI Controller Driver version: 0.4 [ 0.690000] Serial: 8250/16550 driver, 4 ports, IRQ sharing disabled [ 0.690000] 10000000.uart: ttyS0 at MMIO 0x10000000 (irq = 10, base_baud = 230400) is a 16550A [ 0.720000] console [ttyS0] enabled [ 0.720000] [drm] radeon kernel modesetting enabled. [ 0.720000] [drm] amdgpu kernel modesetting enabled. [ 0.730000] loop: module loaded [ 0.730000] libphy: Fixed MDIO Bus: probed [ 0.740000] e1000e: Intel(R) PRO/1000 Network Driver - 3.2.6-k [ 0.740000] e1000e: Copyright(c) 1999 - 2015 Intel Corporation. [ 0.740000] ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver [ 0.740000] ehci-pci: EHCI PCI platform driver [ 0.740000] ehci-platform: EHCI generic platform driver [ 0.740000] mousedev: PS/2 mouse device common for all mice [ 0.740000] usbcore: registered new interface driver usbhid [ 0.740000] usbhid: USB HID core driver [ 0.740000] usbcore: registered new interface driver snd-usb-audio [ 0.740000] NET: Registered protocol family 10 [ 0.750000] Segment Routing with IPv6 [ 0.750000] sit: IPv6, IPv4 and MPLS over IPv4 tunneling driver [ 0.750000] NET: Registered protocol family 17 [ 0.750000] Key type dns_resolver registered [ 0.760000] ALSA device list: [ 0.760000] No soundcards found. [ 0.770000] Freeing unused kernel memory: 208K [ 0.770000] This architecture does not have kernel memory protection. [ 0.770000] Run /init as init process</code> 0x00000022 0x00001000 0x00000000 0x00000000 0x00000002 0x00000002 0x00000023 0x00001000 0x00000000 0x00000000 0x00000003 0x00000002 0x00000020 0x00001000 0x00000000 0x00000000 0x00000004 0x00000002 0x00000021 0x00001800 0x00000000 0x00000000 0x00000001 0x00000002 0x00000023 0x00001800 0x00000000 0x00000000 0x00000002 0x00000002 0x00000020 0x00001800 0x00000000 0x00000000 0x00000003 0x00000002 0x00 <code class="plaintext hljs"> SIFIVE, INC. 5555555555555555555555555 5555 5555 5555 5555 5555 5555 5555 5555555555555555555555 5555 555555555555555555555555 5555 5555 5555 5555 5555 5555 5555555555555555555555555555 55555 55555 555555555 55555 55555 55555 55555 55555 5 55555 55555 55555 55555 55555 55555 55555 55555 55555 55555 55555 555555555 55555 5 SiFive RISC-V Core IP { #address-cells = &lt;0x00000002&gt;; #size-cells = &lt;0x00000002&gt;; compatible = "riscv-virtio"; model = "riscv-virtio,qemu"; chosen { linux,initrd-start = &lt;0x00000000 0x88000000&gt;; linux,initrd-end = &lt;0x00000000 0x88442b86&gt;; riscv,kernel-start = &lt;0x00000000 0x80200000&gt;; riscv,kernel-end = &lt;0x00000000 0x80c482ac&gt;; bootargs = ""; stdout-path = &lt;0x2f756172 0x74403130 0x30303030&gt;; } uart@10000000 { interrupts = &lt;0x0000000a&gt;; interrupt-parent = &lt;0x00000002&gt;; clock-frequency = &lt;0x00384000&gt;; reg = &lt;0x00000000 0x10000000 0x00000000 0x00000100&gt;; compatible = "ns16550a"; } test@100000 { reg = &lt;0x00000000 0x00100000 0x00000000 0x00001000&gt;; compatible = "sifive,test0"; } virtio_mmio@10008000 { interrupts = &lt;0x00000008&gt;; interrupt-parent = &lt;0x00000002&gt;; reg = &lt;0x00000000 0x10008000 0x00000000 0x00001000&gt;; compatible = "virtio,mmio"; } virtio_mmio@10007000 { interrupts = &lt;0x00000007&gt;; interrupt-parent = &lt;0x00000002&gt;; reg = &lt;0x00000000 0x10007000 0x00000000 0x00001000&gt;; compatible = "virtio,mmio"; } virtio_mmio@10006000 { interrupts = &lt;0x00000006&gt;; interrupt-parent = &lt;0x00000002&gt;; reg = &lt;0x00000000 0x10006000 0x00000000 0x00001000&gt;; compatible = "virtio,mmio"; } virtio_mmio@10005000 { interrupts = &lt;0x00000005&gt;; interrupt-parent = &lt;0x00000002&gt;; reg = &lt;0x00000000 0x10005000 0x00000000 0x00001000&gt;; compatible = "virtio,mmio"; } virtio_mmio@10004000 { interrupts = &lt;0x00000004&gt;; interrupt-parent = &lt;0x00000002&gt;; reg = &lt;0x00000000 0x10004000 0x00000000 0x00001000&gt;; compatible = "virtio,mmio"; } virtio_mmio@10003000 { interrupts = &lt;0x00000003&gt;; interrupt-parent = &lt;0x00000002&gt;; reg = &lt;0x00000000 0x10003000 0x00000000 0x00001000&gt;; compatible = "virtio,mmio"; } virtio_mmio@10002000 { interrupts = &lt;0x00000002&gt;; interrupt-parent = &lt;0x00000002&gt;; reg = &lt;0x00000000 0x10002000 0x00000000 0x00001000&gt;; compatible = "virtio,mmio"; } virtio_mmio@10001000 { interrupts = &lt;0x00000001&gt;; interrupt-parent = &lt;0x00000002&gt;; reg = &lt;0x00000000 0x10001000 0x00000000 0x00001000&gt;; compatible = "virtio,mmio"; } cpus { #address-cells = &lt;0x00000001&gt;; #size-cells = &lt;0x00000000&gt;; timebase-frequency = &lt;0x00989680&gt;; cpu@0 { device_type = "cpu"; reg = &lt;0x00000000&gt;; status = "okay"; compatible = "riscv"; riscv,isa = "rv64imafdcsu"; mmu-type = "riscv,sv48"; clock-frequency = &lt;0x3b9aca00&gt;; interrupt-controller { #interrupt-cells = &lt;0x00000001&gt;; interrupt-controller; compatible = "riscv,cpu-intc"; linux,phandle = &lt;0x00000001&gt;; phandle = &lt;0x00000001&gt;; } } } memory@80000000 { device_type = "memory"; reg = &lt;0x00000000 0x80000000 0x00000000 0x40000000&gt;; } soc { #address-cells = &lt;0x00000002&gt;; #size-cells = &lt;0x00000002&gt;; compatible = "simple-bus"; ranges; pci@30000000 { interrupt-map-mask = &lt;0x00001800 0x00000000 0x00000000 0x00000007&gt;; interrupt-map = &lt;0x00000000 0x00000000 0x00000000 0x00000001 0x00000002 0x00000020 0x00000000 0x00000000 0x00000000 0x00000002 0x00000002 0x00000021 0x00000000 0x00000000 0x00000000 0x00000003 0x00000002 0x00000022 0x00000000 0x00000000 0x00000000 0x00000004 0x00000002 0x00000023 0x00000800 0x00000000 0x00000000 0x00000001 0x00000002 0x00000021 0x00000800 0x00000000 0x00000000 0x00000002 0x00000002 0x00000022 0x00000800 0x00000000 0x00000000 0x00000003 0x00000002 0x00000023 0x00000800 0x00000000 0x00000000 0x00000004 0x00000002 0x00000020 0x00001000 0x00000000 0x00000000 0x00000001 0x00000002 0x00000022 0x00001000 0x00000000 0x00000000 0x00000002 0x00000002 0x00000023 0x00001000 0x00000000 0x00000000 0x00000003 0x00000002 0x00000020 0x00001000 0x00000000 0x00000000 0x00000004 0x00000002 0x00000021 0x00001800 0x00000000 0x00000000 0x00000001 0x00000002 0x00000023 0x00001800 0x00000000 0x00000000 0x00000002 0x00000002 0x00000020 0x00001800 0x00000000 0x00000000 0x00000003 0x00000002 0x00000021 0x00001800 0x00000000 0x00000000 0x00000004 0x00000002 0x00000022&gt;; ranges = &lt;0x01000000 0x00000000 0x00000000 0x00000000 0x03000000 0x00000000 0x00010000 0x02000000 0x00000000 0x40000000 0x00000000 0x40000000 0x00000000 0x40000000&gt;; reg = &lt;0x00000000 0x30000000 0x00000000 0x10000000&gt;; dma-coherent; bus-range = &lt;0x00000000 0x000002ff&gt;; linux,pci-domain = &lt;0x00000000&gt;; device_type = "pci"; compatible = "pci-host-ecam-generic"; #size-cells = &lt;0x00000002&gt;; #interrupt-cells = &lt;0x00000001&gt;; #address-cells = &lt;0x00000003&gt;; } interrupt-controller@c000000 { linux,phandle = &lt;0x00000002&gt;; phandle = &lt;0x00000002&gt;; riscv,ndev = &lt;0x00000035&gt;; riscv,max-priority = &lt;0x00000007&gt;; reg-names = "control"; reg = &lt;0x00000000 0x0c000000 0x00000000 0x04000000&gt;; interrupts-extended = &lt;0x00000001 0x0000000b 0x00000001 0x00000009&gt;; interrupt-controller; compatible = "riscv,plic0"; #interrupt-cells = &lt;0x00000001&gt;; #address-cells = &lt;0x00000000&gt;; } clint@2000000 { interrupts-extended = &lt;0x00000001 0x00000003 0x00000001 0x00000007&gt;; reg = &lt;0x00000000 0x02000000 0x00000000 0x00010000&gt;; compatible = "riscv,clint0"; } } } [ 0.000000] HART = 0 DTB = 80e00000 [ 0.000000] search "chosen", depth: 0, uname: [ 0.000000] search "chosen", depth: 1, uname: chosen [ 0.000000] Looking for initrd properties... [ 0.000000] initrd_start=0x88000000 initrd_end=0x88442b86 [ 0.000000] Command line is: earlyprintk [ 0.000000] dt_root_size_cells = 2 [ 0.000000] dt_root_addr_cells = 2 [ 0.000000] memory scan node memory@80000000, reg size 16, [ 0.000000] - 80000000 , 40000000 [ 0.000000] OF: fdt: Ignoring memory range 0x80000000 - 0x80200000 [ 0.000000] Linux version 4.19.0-sifive-1+ (trosinenko@trosinenko-pc) (gcc version 8.3.0 (Buildroot 2019.02-07449-g4eddd28f99)) #1 SMP Sat Jul 6 12:14:41 MSK 2019 [ 0.000000] bootconsole [early0] enabled [ 0.000000] Initial ramdisk at: 0x(____ptrval____) (4467590 bytes) [ 0.000000] Zone ranges: [ 0.000000] DMA32 [mem 0x0000000080200000-0x00000000bfffffff] [ 0.000000] Normal [mem 0x00000000c0000000-0x00000bffffffffff] [ 0.000000] Movable zone start for each node [ 0.000000] Early memory node ranges [ 0.000000] node 0: [mem 0x0000000080200000-0x00000000bfffffff] [ 0.000000] Initmem setup node 0 [mem 0x0000000080200000-0x00000000bfffffff] [ 0.000000] INITIAL: ffffffe000c00000 [ 0.000000] -&gt; unflatten_device_tree() [ 0.000000] Unflattening device tree: [ 0.000000] magic: d00dfeed [ 0.000000] size: 00000d56 [ 0.000000] version: 00000011 [ 0.000000] size is 14192, allocating... [ 0.000000] unflattening (____ptrval____)... [ 0.000000] fixed up name for -&gt; [ 0.000000] fixed up name for chosen -&gt; chosen [ 0.000000] fixed up name for uart@10000000 -&gt; uart [ 0.000000] fixed up name for test@100000 -&gt; test [ 0.000000] fixed up name for virtio_mmio@10008000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10007000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10006000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10005000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10004000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10003000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10002000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10001000 -&gt; virtio_mmio [ 0.000000] fixed up name for cpus -&gt; cpus [ 0.000000] fixed up name for cpu@0 -&gt; cpu [ 0.000000] fixed up name for interrupt-controller -&gt; interrupt-controller [ 0.000000] fixed up name for memory@80000000 -&gt; memory [ 0.000000] fixed up name for soc -&gt; soc [ 0.000000] fixed up name for pci@30000000 -&gt; pci [ 0.000000] fixed up name for interrupt-controller@c000000 -&gt; interrupt-controller [ 0.000000] fixed up name for clint@2000000 -&gt; clint [ 0.000000] &lt;- unflatten_device_tree() [ 0.000000] software IO TLB: mapped [mem 0xbb1fc000-0xbf1fc000] (64MB) [ 0.000000] 0 ffffffe03effc808 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effca78 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effcd98 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd068 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd230 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd4b8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd740 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd9c8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effdc50 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effded8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe160 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe3e8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe670 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe888 [cpu] | [cpu] [ 0.000000] ffffffe03effe888 ffffffe03effec00 [&lt;NULL&gt;] | [cpu] [ 0.000000] ffffffe03effe888 ffffffe03effeee8 [memory] | [cpu] [ 0.000000] ffffffe03effe888 ffffffe03efff0b0 [&lt;NULL&gt;] | [cpu] [ 0.000000] ffffffe03effe888 ffffffe03efff320 [pci] | [cpu] [ 0.000000] ffffffe03effe888 ffffffe03efff858 [&lt;NULL&gt;] | [cpu] [ 0.000000] ffffffe03effe888 ffffffe03efffd58 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effc808 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effca78 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effcd98 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd068 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd230 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd4b8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd740 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd9c8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effdc50 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effded8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe160 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe3e8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe670 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe888 [cpu] | [cpu] [ 0.000000] elf_hwcap is 0x112d [ 0.000000] percpu: Embedded 17 pages/cpu @(____ptrval____) s29400 r8192 d32040 u69632 [ 0.000000] Built 1 zonelists, mobility grouping on. Total pages: 258055 [ 0.000000] Kernel command line: earlyprintk [ 0.000000] Dentry cache hash table entries: 131072 (order: 8, 1048576 bytes) [ 0.000000] Inode-cache hash table entries: 65536 (order: 7, 524288 bytes) [ 0.000000] Sorting __ex_table... [ 0.000000] Memory: 949716K/1046528K available (6565K kernel code, 342K rwdata, 2564K rodata, 208K init, 832K bss, 96812K reserved, 0K cma-reserved) [ 0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=1, Nodes=1 [ 0.000000] rcu: Hierarchical RCU implementation. [ 0.000000] rcu: RCU event tracing is enabled. [ 0.000000] rcu: RCU restricting CPUs from NR_CPUS=8 to nr_cpu_ids=1. [ 0.000000] rcu: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=1 [ 0.000000] NR_IRQS: 0, nr_irqs: 0, preallocated irqs: 0 [ 0.000000] plic: mapped 53 interrupts to 2 (out of 2) handlers. [ 0.000000] clocksource: riscv_clocksource: mask: 0xffffffffffffffff max_cycles: 0x24e6a1710, max_idle_ns: 440795202120 ns [ 0.000000] Console: colour dummy device 80x25 [ 0.000000] console [tty0] enabled [ 0.000000] bootconsole [early0] disabled [ 0.000000] HART = 0 DTB = 80e00000 [ 0.000000] search "chosen", depth: 0, uname: [ 0.000000] search "chosen", depth: 1, uname: chosen [ 0.000000] Looking for initrd properties... [ 0.000000] initrd_start=0x88000000 initrd_end=0x88442b86 [ 0.000000] Command line is: earlyprintk [ 0.000000] dt_root_size_cells = 2 [ 0.000000] dt_root_addr_cells = 2 [ 0.000000] memory scan node memory@80000000, reg size 16, [ 0.000000] - 80000000 , 40000000 [ 0.000000] OF: fdt: Ignoring memory range 0x80000000 - 0x80200000 [ 0.000000] Linux version 4.19.0-sifive-1+ (trosinenko@trosinenko-pc) (gcc version 8.3.0 (Buildroot 2019.02-07449-g4eddd28f99)) #1 SMP Sat Jul 6 12:14:41 MSK 2019 [ 0.000000] bootconsole [early0] enabled [ 0.000000] Initial ramdisk at: 0x(____ptrval____) (4467590 bytes) [ 0.000000] Zone ranges: [ 0.000000] DMA32 [mem 0x0000000080200000-0x00000000bfffffff] [ 0.000000] Normal [mem 0x00000000c0000000-0x00000bffffffffff] [ 0.000000] Movable zone start for each node [ 0.000000] Early memory node ranges [ 0.000000] node 0: [mem 0x0000000080200000-0x00000000bfffffff] [ 0.000000] Initmem setup node 0 [mem 0x0000000080200000-0x00000000bfffffff] [ 0.000000] INITIAL: ffffffe000c00000 [ 0.000000] -&gt; unflatten_device_tree() [ 0.000000] Unflattening device tree: [ 0.000000] magic: d00dfeed [ 0.000000] size: 00000d56 [ 0.000000] version: 00000011 [ 0.000000] size is 14192, allocating... [ 0.000000] unflattening (____ptrval____)... [ 0.000000] fixed up name for -&gt; [ 0.000000] fixed up name for chosen -&gt; chosen [ 0.000000] fixed up name for uart@10000000 -&gt; uart [ 0.000000] fixed up name for test@100000 -&gt; test [ 0.000000] fixed up name for virtio_mmio@10008000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10007000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10006000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10005000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10004000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10003000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10002000 -&gt; virtio_mmio [ 0.000000] fixed up name for virtio_mmio@10001000 -&gt; virtio_mmio [ 0.000000] fixed up name for cpus -&gt; cpus [ 0.000000] fixed up name for cpu@0 -&gt; cpu [ 0.000000] fixed up name for interrupt-controller -&gt; interrupt-controller [ 0.000000] fixed up name for memory@80000000 -&gt; memory [ 0.000000] fixed up name for soc -&gt; soc [ 0.000000] fixed up name for pci@30000000 -&gt; pci [ 0.000000] fixed up name for interrupt-controller@c000000 -&gt; interrupt-controller [ 0.000000] fixed up name for clint@2000000 -&gt; clint [ 0.000000] &lt;- unflatten_device_tree() [ 0.000000] software IO TLB: mapped [mem 0xbb1fc000-0xbf1fc000] (64MB) [ 0.000000] 0 ffffffe03effc808 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effca78 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effcd98 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd068 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd230 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd4b8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd740 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd9c8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effdc50 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effded8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe160 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe3e8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe670 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe888 [cpu] | [cpu] [ 0.000000] ffffffe03effe888 ffffffe03effec00 [&lt;NULL&gt;] | [cpu] [ 0.000000] ffffffe03effe888 ffffffe03effeee8 [memory] | [cpu] [ 0.000000] ffffffe03effe888 ffffffe03efff0b0 [&lt;NULL&gt;] | [cpu] [ 0.000000] ffffffe03effe888 ffffffe03efff320 [pci] | [cpu] [ 0.000000] ffffffe03effe888 ffffffe03efff858 [&lt;NULL&gt;] | [cpu] [ 0.000000] ffffffe03effe888 ffffffe03efffd58 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effc808 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effca78 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effcd98 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd068 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd230 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd4b8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd740 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effd9c8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effdc50 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effded8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe160 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe3e8 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe670 [&lt;NULL&gt;] | [cpu] [ 0.000000] 0 ffffffe03effe888 [cpu] | [cpu] [ 0.000000] elf_hwcap is 0x112d [ 0.000000] percpu: Embedded 17 pages/cpu @(____ptrval____) s29400 r8192 d32040 u69632 [ 0.000000] Built 1 zonelists, mobility grouping on. Total pages: 258055 [ 0.000000] Kernel command line: earlyprintk [ 0.000000] Dentry cache hash table entries: 131072 (order: 8, 1048576 bytes) [ 0.000000] Inode-cache hash table entries: 65536 (order: 7, 524288 bytes) [ 0.000000] Sorting __ex_table... [ 0.000000] Memory: 949716K/1046528K available (6565K kernel code, 342K rwdata, 2564K rodata, 208K init, 832K bss, 96812K reserved, 0K cma-reserved) [ 0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=1, Nodes=1 [ 0.000000] rcu: Hierarchical RCU implementation. [ 0.000000] rcu: RCU event tracing is enabled. [ 0.000000] rcu: RCU restricting CPUs from NR_CPUS=8 to nr_cpu_ids=1. [ 0.000000] rcu: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=1 [ 0.000000] NR_IRQS: 0, nr_irqs: 0, preallocated irqs: 0 [ 0.000000] plic: mapped 53 interrupts to 2 (out of 2) handlers. [ 0.000000] clocksource: riscv_clocksource: mask: 0xffffffffffffffff max_cycles: 0x24e6a1710, max_idle_ns: 440795202120 ns [ 0.000000] Console: colour dummy device 80x25 [ 0.000000] console [tty0] enabled [ 0.000000] bootconsole [early0] disabled [ 0.000000] Calibrating delay loop (skipped), value calculated using timer frequency.. 20.00 BogoMIPS (lpj=100000) [ 0.000000] pid_max: default: 32768 minimum: 301 [ 0.000000] Mount-cache hash table entries: 2048 (order: 2, 16384 bytes) [ 0.000000] Mountpoint-cache hash table entries: 2048 (order: 2, 16384 bytes) [ 0.020000] rcu: Hierarchical SRCU implementation. [ 0.020000] smp: Bringing up secondary CPUs ... [ 0.020000] smp: Brought up 1 node, 1 CPU [ 0.050000] devtmpfs: initialized [ 0.050000] 0 ffffffe03effc808 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effca78 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effcd98 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effd068 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effd230 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effd4b8 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effd740 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effd9c8 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effdc50 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effded8 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effe160 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effe3e8 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effe670 [&lt;NULL&gt;] | [cpu] [ 0.050000] 0 ffffffe03effe888 [cpu] | [cpu] [ 0.050000] random: get_random_u32 called from bucket_table_alloc+0x76/0x17a with crng_init=0 [ 0.050000] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604462750000 ns [ 0.050000] futex hash table entries: 256 (order: 2, 16384 bytes) [ 0.060000] NET: Registered protocol family 16 [ 0.090000] vgaarb: loaded [ 0.090000] SCSI subsystem initialized [ 0.090000] usbcore: registered new interface driver usbfs [ 0.090000] usbcore: registered new interface driver hub [ 0.090000] usbcore: registered new device driver usb [ 0.090000] pps_core: LinuxPPS API ver. 1 registered [ 0.090000] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti &lt;giometti@linux.it&gt; [ 0.090000] PTP clock support registered [ 0.100000] Advanced Linux Sound Architecture Driver Initialized. [ 0.100000] clocksource: Switched to clocksource riscv_clocksource [ 0.110000] NET: Registered protocol family 2 [ 0.110000] tcp_listen_portaddr_hash hash table entries: 512 (order: 1, 8192 bytes) [ 0.110000] TCP established hash table entries: 8192 (order: 4, 65536 bytes) [ 0.110000] TCP bind hash table entries: 8192 (order: 5, 131072 bytes) [ 0.110000] TCP: Hash tables configured (established 8192 bind 8192) [ 0.110000] UDP hash table entries: 512 (order: 2, 16384 bytes) [ 0.110000] UDP-Lite hash table entries: 512 (order: 2, 16384 bytes) [ 0.110000] NET: Registered protocol family 1 [ 0.120000] Unpacking initramfs... [ 0.590000] workingset: timestamp_bits=62 max_order=18 bucket_order=0 [ 0.620000] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 251) [ 0.620000] io scheduler noop registered [ 0.620000] io scheduler deadline registered [ 0.620000] io scheduler cfq registered (default) [ 0.620000] io scheduler mq-deadline registered [ 0.620000] io scheduler kyber registered [ 0.620000] shpchp: Standard Hot Plug PCI Controller Driver version: 0.4 [ 0.690000] Serial: 8250/16550 driver, 4 ports, IRQ sharing disabled [ 0.690000] 10000000.uart: ttyS0 at MMIO 0x10000000 (irq = 10, base_baud = 230400) is a 16550A [ 0.720000] console [ttyS0] enabled [ 0.720000] [drm] radeon kernel modesetting enabled. [ 0.720000] [drm] amdgpu kernel modesetting enabled. [ 0.730000] loop: module loaded [ 0.730000] libphy: Fixed MDIO Bus: probed [ 0.740000] e1000e: Intel(R) PRO/1000 Network Driver - 3.2.6-k [ 0.740000] e1000e: Copyright(c) 1999 - 2015 Intel Corporation. [ 0.740000] ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver [ 0.740000] ehci-pci: EHCI PCI platform driver [ 0.740000] ehci-platform: EHCI generic platform driver [ 0.740000] mousedev: PS/2 mouse device common for all mice [ 0.740000] usbcore: registered new interface driver usbhid [ 0.740000] usbhid: USB HID core driver [ 0.740000] usbcore: registered new interface driver snd-usb-audio [ 0.740000] NET: Registered protocol family 10 [ 0.750000] Segment Routing with IPv6 [ 0.750000] sit: IPv6, IPv4 and MPLS over IPv4 tunneling driver [ 0.750000] NET: Registered protocol family 17 [ 0.750000] Key type dns_resolver registered [ 0.760000] ALSA device list: [ 0.760000] No soundcards found. [ 0.770000] Freeing unused kernel memory: 208K [ 0.770000] This architecture does not have kernel memory protection. [ 0.770000] Run /init as init process</code> </pre> </div></div><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (The ‚Äútimestamped‚Äù lines are displayed by the kernel, in front of them by the tree are BBL) On the one hand, the FDT is successfully read, on the other - some kind of nonsense is obtained in the parsed ‚Äúobject‚Äù tree. </font></font></p><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> During the debugging process, I realized that BBL could not read the ‚Äúdouble‚Äù address not because there was a mistake in the config file, but simply because the root node was set </font></font><code>#address-cells = &lt;1&gt;; #size-cells = &lt;1&gt;;</code>  . </p><br><p>   ,  ,    <code>type</code>  <code>name</code> ¬´¬ª,    :     (  ) , -  <code>0xabcdef -&gt; 0xab00ef</code> .    :  ,     ,    <code>printk</code>   .     <code>printk</code> ,   . ,    .   ,    <code>objdump</code> ,   breakpoint-       .      :      -    known-good , ,   ,     .         ,    !       ,  ,     .   ... </p><br><h2 id="zamenyaem-pamyat">   </h2><br><p>         ,  , , ,      .   ,     ‚Äî     ,     DDR2 SO-DIMM. ,        ,      Memtest (Linux, ,       . <strong>     ,       ...</strong> ).   ,  ,         .   ,    !  ,    ¬´¬ª,      . </p><br><p> ,       .  , Quartus 18     IP Core ,     . , -      .    :   IP Catalog  DDR2 SDRAM Controller with ALTMEMPHY Intel FPGA IP       ,   .   ‚Äî     . </p><br><h3 id="poluchaem-parametry-modulya-pamyati">     </h3><br><p>      :    SPD. ,      SPD     ,             . </p><br><p>  Ubuntu   <a href="https://unix.stackexchange.com/a/92044/251405"> </a> :    <code>i2c-tools</code> ,   <code>eeprom</code>  <code>i2c-i801</code> ( , ,     ),    <code>decode-dimms</code> : </p><br><div class="spoiler"> <b class="spoiler_title"> decode-dimms</b> <div class="spoiler_text"><pre> <code class="plaintext hljs"># decode-dimms version 6231 (2014-02-20 10:54:34 +0100) Memory Serial Presence Detect Decoder By Philip Edelbrock, Christian Zuckschwerdt, Burkart Lingner, Jean Delvare, Trent Piepho and others Decoding EEPROM: /sys/bus/i2c/drivers/eeprom/0-0050 Guessing DIMM is in bank 1 ---=== SPD EEPROM Information ===--- EEPROM Checksum of bytes 0-62 OK (0x00) SPD Revision Invalid Fundamental Memory type Unknown (0x00) ---=== Manufacturing Information ===--- Manufacturer Undefined Part Number Undefined Decoding EEPROM: /sys/bus/i2c/drivers/eeprom/4-0050 Guessing DIMM is in bank 1 ---=== SPD EEPROM Information ===--- EEPROM Checksum of bytes 0-62 OK (0x00) SPD Revision Invalid Fundamental Memory type Unknown (0x00) ---=== Manufacturing Information ===--- Manufacturer Undefined Part Number Undefined Decoding EEPROM: /sys/bus/i2c/drivers/eeprom/6-0050 Guessing DIMM is in bank 1 ---=== SPD EEPROM Information ===--- EEPROM Checksum of bytes 0-62 OK (0x76) # of bytes written to SDRAM EEPROM 128 Total number of bytes in EEPROM 256 Fundamental Memory type DDR2 SDRAM SPD Revision 1.2 ---=== Memory Characteristics ===--- Maximum module speed 800 MHz (PC2-6400) Size 1024 MB Banks x Rows x Columns x Bits 8 x 13 x 10 x 64 Ranks 2 SDRAM Device Width 16 bits Module Height 30.0 mm Module Type SO-DIMM (67.6 mm) DRAM Package Planar Voltage Interface Level SSTL 1.8V Module Configuration Type No Parity Refresh Rate Reduced (7.8 us) - Self Refresh Supported Burst Lengths 4, 8 tCL-tRCD-tRP-tRAS 6-6-6-18 Supported CAS Latencies (tCL) 6T, 5T, 4T Minimum Cycle Time 2.50 ns at CAS 6 (tCK min) 3.00 ns at CAS 5 3.75 ns at CAS 4 Maximum Access Time 0.40 ns at CAS 6 (tAC) 0.45 ns at CAS 5 0.50 ns at CAS 4 Maximum Cycle Time (tCK max) 8.00 ns ---=== Timing Parameters ===--- Address/Command Setup Time Before Clock (tIS) 0.17 ns Address/Command Hold Time After Clock (tIH) 0.25 ns Data Input Setup Time Before Strobe (tDS) 0.05 ns Data Input Hold Time After Strobe (tDH) 0.12 ns Minimum Row Precharge Delay (tRP) 15.00 ns Minimum Row Active to Row Active Delay (tRRD) 10.00 ns Minimum RAS# to CAS# Delay (tRCD) 15.00 ns Minimum RAS# Pulse Width (tRAS) 45.00 ns Write Recovery Time (tWR) 15.00 ns Minimum Write to Read CMD Delay (tWTR) 7.50 ns Minimum Read to Pre-charge CMD Delay (tRTP) 7.50 ns Minimum Active to Auto-refresh Delay (tRC) 60.00 ns Minimum Recovery Delay (tRFC) 127.50 ns Maximum DQS to DQ Skew (tDQSQ) 0.20 ns Maximum Read Data Hold Skew (tQHS) 0.30 ns ---=== Manufacturing Information ===--- Manufacturer Samsung Manufacturing Location Code 0x02 Part Number M4 70T2864QZ3-CF7 Revision Code 0x3351 Manufacturing Date 2009-W34 Assembly Serial Number 0x79C64E9A Number of SDRAM DIMMs detected and decoded: 3</code> </pre> </div></div><br><p>   ,      ,     . </p><br><p>      : </p><br><p><img src="https://habrastorage.org/webt/ki/ko/wq/kikowqnmhy2udulovzqtnnebg5s.jpeg" width="45%"><img src="https://habrastorage.org/webt/7t/g2/l3/7tg2l30tx8ylwijagknepu0im_o.jpeg" width="45%"></p><br><p>         : K4T1G164QQ-HCF7.     ,  datasheet        ,       IP Core.      : - <code>ns</code> , - ‚Äî <code>ps</code> ,      <code>tCK</code> .  ,     ,    ‚Äî      (    ,    ¬´¬ª   ).      :        ,     ,              Verilog:    <code>MemIfBundle</code>  <code>val mem_ba = IO(Output(UInt(2.W)))</code> ,   8 (..   3 ),  ,     ‚Äî    output    ‚Äî ,   ,   ,   . </p><br><p> ,       ,   ,          :    . </p><br><p> ,   <code>timebase-frequency</code>  DTS    CPU    <code>cpus</code> (     ), : </p><br><div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">[ 0.000000] OF: fdt: Ignoring memory range 0x80000000 - 0x80200000 [ 0.000000] Linux version 4.19.0-sifive-1+ (trosinenko@trosinenko-pc) (gcc version 8.3.0 (Buildroot 2019.02-07449-g4eddd28f99)) #1 SMP Tue Jul 9 22:42:36 MSK 2019 [ 0.000000] bootconsole [early0] enabled [ 0.000000] Initial ramdisk at: 0x(____ptrval____) (16777216 bytes) [ 0.000000] Zone ranges: [ 0.000000] DMA32 [mem 0x0000000080200000-0x00000000bfffffff] [ 0.000000] Normal [mem 0x00000000c0000000-0x00000bffffffffff] [ 0.000000] Movable zone start for each node [ 0.000000] Early memory node ranges [ 0.000000] node 0: [mem 0x0000000080200000-0x00000000bfffffff] [ 0.000000] Initmem setup node 0 [mem 0x0000000080200000-0x00000000bfffffff] [ 0.000000] software IO TLB: mapped [mem 0xbb1fc000-0xbf1fc000] (64MB) [ 0.000000] elf_hwcap is 0x112d [ 0.000000] percpu: Embedded 17 pages/cpu @(____ptrval____) s29400 r8192 d32040 u69632 [ 0.000000] Built 1 zonelists, mobility grouping on. Total pages: 258055 [ 0.000000] Kernel command line: debug console=ttySIF0,125200 root=/dev/mmcblk0p2 loglevel=7 rootwait [ 0.000000] Dentry cache hash table entries: 131072 (order: 8, 1048576 bytes) [ 0.000000] Inode-cache hash table entries: 65536 (order: 7, 524288 bytes) [ 0.000000] Sorting __ex_table... [ 0.000000] Memory: 937696K/1046528K available (6565K kernel code, 343K rwdata, 2564K rodata, 208K init, 832K bss, 108832K reserved, 0K cma-reserved) [ 0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=1, Nodes=1 [ 0.000000] rcu: Hierarchical RCU implementation. [ 0.000000] rcu: RCU event tracing is enabled. [ 0.000000] rcu: RCU restricting CPUs from NR_CPUS=8 to nr_cpu_ids=1. [ 0.000000] rcu: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=1 [ 0.000000] NR_IRQS: 0, nr_irqs: 0, preallocated irqs: 0 [ 0.000000] plic: mapped 8 interrupts to 1 (out of 2) handlers. [ 0.000000] clocksource: riscv_clocksource: mask: 0xffffffffffffffff max_cycles: 0x1d854df40, max_idle_ns: 3526361616960 ns [ 0.000000] Console: colour dummy device 80x25 [ 0.000000] Calibrating delay loop (skipped), value calculated using timer frequency.. 2.00 BogoMIPS (lpj=10000) [ 0.020000] pid_max: default: 32768 minimum: 301 [ 0.030000] Mount-cache hash table entries: 2048 (order: 2, 16384 bytes) [ 0.040000] Mountpoint-cache hash table entries: 2048 (order: 2, 16384 bytes) [ 0.140000] rcu: Hierarchical SRCU implementation. [ 0.190000] smp: Bringing up secondary CPUs ... [ 0.190000] smp: Brought up 1 node, 1 CPU [ 0.220000] devtmpfs: initialized [ 0.300000] random: get_random_u32 called from bucket_table_alloc+0x76/0x17a with crng_init=0 [ 0.330000] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604462750000 ns [ 0.340000] futex hash table entries: 256 (order: 2, 16384 bytes) [ 0.380000] NET: Registered protocol family 16 [ 1.850000] vgaarb: loaded [ 1.870000] SCSI subsystem initialized [ 1.900000] usbcore: registered new interface driver usbfs [ 1.910000] usbcore: registered new interface driver hub [ 1.920000] usbcore: registered new device driver usb [ 1.930000] pps_core: LinuxPPS API ver. 1 registered [ 1.940000] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti &lt;giometti@linux.it&gt; [ 1.950000] PTP clock support registered [ 1.970000] Advanced Linux Sound Architecture Driver Initialized. [ 2.010000] clocksource: Switched to clocksource riscv_clocksource [ 2.600000] NET: Registered protocol family 2 [ 2.640000] tcp_listen_portaddr_hash hash table entries: 512 (order: 1, 8192 bytes) [ 2.650000] TCP established hash table entries: 8192 (order: 4, 65536 bytes) [ 2.670000] TCP bind hash table entries: 8192 (order: 5, 131072 bytes) [ 2.700000] TCP: Hash tables configured (established 8192 bind 8192) [ 2.720000] UDP hash table entries: 512 (order: 2, 16384 bytes) [ 2.730000] UDP-Lite hash table entries: 512 (order: 2, 16384 bytes) [ 2.750000] NET: Registered protocol family 1 [ 2.770000] Unpacking initramfs... [ 23.980000] Initramfs unpacking failed: junk in compressed archive [ 24.030000] workingset: timestamp_bits=62 max_order=18 bucket_order=0 [ 25.020000] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 251) [ 25.030000] io scheduler noop registered [ 25.040000] io scheduler deadline registered [ 25.050000] io scheduler cfq registered (default) [ 25.060000] io scheduler mq-deadline registered [ 25.060000] io scheduler kyber registered [ 25.120000] sifive_gpio 64002000.gpio: SiFive GPIO chip registered 6 GPIOs [ 25.150000] shpchp: Standard Hot Plug PCI Controller Driver version: 0.4 [ 28.870000] Serial: 8250/16550 driver, 4 ports, IRQ sharing disabled [ 28.940000] sifive-serial 64000000.serial: unable to find controller clock [ 28.950000] sifive-serial: probe of 64000000.serial failed with error -2 [ 28.980000] [drm] radeon kernel modesetting enabled. [ 28.990000] [drm] amdgpu kernel modesetting enabled. [ 29.500000] loop: module loaded [ 29.610000] sifive_spi 64001000.spi: Unable to find bus clock [ 29.620000] sifive_spi: probe of 64001000.spi failed with error -2 [ 29.640000] libphy: Fixed MDIO Bus: probed [ 29.680000] e1000e: Intel(R) PRO/1000 Network Driver - 3.2.6-k [ 29.690000] e1000e: Copyright(c) 1999 - 2015 Intel Corporation. [ 29.700000] ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver [ 29.710000] ehci-pci: EHCI PCI platform driver [ 29.720000] ehci-platform: EHCI generic platform driver [ 29.750000] mousedev: PS/2 mouse device common for all mice [ 29.790000] usbcore: registered new interface driver usbhid [ 29.800000] usbhid: USB HID core driver [ 29.820000] usbcore: registered new interface driver snd-usb-audio [ 29.900000] NET: Registered protocol family 10 [ 29.960000] Segment Routing with IPv6 [ 29.960000] sit: IPv6, IPv4 and MPLS over IPv4 tunneling driver [ 30.020000] NET: Registered protocol family 17 [ 30.020000] Key type dns_resolver registered [ 30.070000] bootconsole [early0] uses init memory and must be disabled even before the real one is ready [ 30.080000] bootconsole [early0] disabled</code> </pre> <br><p>      . </p></div></div><br><p>       : </p><br><pre> <code class="plaintext hljs">[ 23.980000] Initramfs unpacking failed: junk in compressed archive ... [ 28.940000] sifive-serial 64000000.serial: unable to find controller clock ... [ 29.610000] sifive_spi 64001000.spi: Unable to find bus clock</code> </pre> <br><p> ‚Ä¶       . </p><br><p>        :    <code>clocks</code>    ,         <code>tlclk</code> : </p><br><pre> <code class="diff hljs">diff --git a/arch/riscv/dts/zeowaa-1gb.dts b/arch/riscv/dts/zeowaa-1gb.dts index 4b2cebc..1347e76 100644 --- a/arch/riscv/dts/zeowaa-1gb.dts +++ b/arch/riscv/dts/zeowaa-1gb.dts @@ -96,6 +97,7 @@ L8: serial@64000000 { compatible = "sifive,uart0"; interrupt-parent = &lt;&amp;L0&gt;; + clocks = &lt;&amp;tlclk&gt;; interrupts = &lt;2&gt;; reg = &lt;0x64000000 0x1000&gt;; reg-names = "control"; @@ -107,6 +109,7 @@ interrupt-parent = &lt;&amp;L0&gt;; interrupts = &lt;1&gt;; reg = &lt;0x64001000 0x1000&gt;; + clocks = &lt;&amp;tlclk&gt;; reg-names = "control"; L12: mmc@0 { compatible = "mmc-spi-slot"; @@ -116,7 +119,7 @@ voltage-ranges = &lt;3300 3300&gt;; }; }; - L11: tlclk { + tlclk: tlclk { #clock-cells = &lt;0&gt;; clock-frequency = &lt;25000000&gt;; clock-output-names = "tlclk";</code> </pre> <br><p>   <code>#define pr_debug printk</code>    <code>init/initramfs.c</code> ,      initramfs     : </p><br><pre> <code class="plaintext hljs">[ 2.760000] Unpacking initramfs... [ 2.770000] Detected gzip compressed data [ 23.940000] Detected (null) compressed data [ 23.970000] Initramfs unpacking failed: junk in compressed archive</code> </pre> <br><p>  , ,   <strong></strong> initramfs,  <strong></strong> . </p><br><p> , -  , ,   .    ?     issue  : <a href="https://github.com/sifive/freedom-u-sdk/issues/62">linux failed to bringup on vc707 board</a> ‚Äî ,  UART ,   ,    .  <a href="https://github.com/sifive/freedom-u-sdk/pull/64"></a>  11  2018  ‚Äî  . ,        ,      .    ,    ! ,  initramfs  , ,  . </p><br><p>   user=root, password=sifive,      ( ,  ,    GPIO  base,    ,        -)  <code>sysfs</code>    . </p><br><p>     ,     Linux.      earlyprintk    - ,        UART.  ,     ¬´¬ª. </p><br><p> <a href="https://asciinema.org/a/256637"><img src="https://asciinema.org/a/256637.svg"></a> </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/459470/">https://habr.com/ru/post/459470/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../45946/index.html">Orange will still become an Israeli Internet provider</a></li>
<li><a href="../459460/index.html">The difficulties of working with Redux and their solution</a></li>
<li><a href="../459462/index.html">SEO for Yandex. Search all?</a></li>
<li><a href="../459464/index.html">Lua in Moscow 2019: an interview with Roberto of Jerusalem</a></li>
<li><a href="../45947/index.html">Stages of development of a promotional site. Brief</a></li>
<li><a href="../459472/index.html">Heroku + Docker + Spring Boot</a></li>
<li><a href="../459474/index.html">How to make a perfectly-formed text in a second: a macro in Word for those who write a lot</a></li>
<li><a href="../459478/index.html">My experience in creating a multi-threaded backup application</a></li>
<li><a href="../45948/index.html">Acceleration of cutting layout in Photoshop</a></li>
<li><a href="../459480/index.html">Vivaldi: What does the browser earn?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>