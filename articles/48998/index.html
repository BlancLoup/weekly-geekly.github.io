<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Wordpress - coding standards for plugins</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Inspired by writing plugins for Wordpress'a made the rules of good tone ... 


 Naming convention 

 Where does the plugin begin - with the name :), t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Wordpress - coding standards for plugins</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/9e0/44b/dc4/9e044bdc444162faad29f6ed76a3a533.png" alt="WordPress Logotype" title="WordPress Logotype" width="128" height="128"><br>  Inspired by writing plugins for Wordpress'a made the rules of good tone ... <br><a name="habracut"></a><br><br><h2>  Naming convention </h2><br><br>  Where does the plugin begin - with the name :), therefore let's work out the rules for naming plugins: <br><ul><li>  We do not use stupid prefixes like <strong>wp_</strong> or <strong>wp-</strong> - we <strong>already</strong> know that the files in the <a href="http://wordpress.org/extend/plugins/">http://wordpress.org/extend/plugins/</a> directory are intended for wordpress </li><li>  If you want to highlight your plugin - add the original prefix / postfix (I use the prefix <strong>(a)</strong> - I really don‚Äôt know how informative this is) </li><li>  All names of classes and functions must contain the name of your plugin - in order to avoid conflicts </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Always create a directory with a plugin, even if it consists of a single file, you may want to expand the functionality in the future, and now you can‚Äôt do with one file, and create a directory - and this can introduce users into a stupor ... <br><br><h2>  readme.txt </h2><br>  Each plug-in is required to have a <a href="http://wordpress.org/extend/plugins/about/readme.txt">readme.txt file</a> , see the syntax description <a href="http://daringfireball.net/projects/markdown/syntax">http://daringfireball.net/projects/markdown/syntax</a> .  You can check your creation using a <a href="http://wordpress.org/extend/plugins/about/validator/">validator</a> . <br><br>  If for some reason you don‚Äôt upload your plugin to the wordpress repository, then in any case create this file - many will say thank you. <br><br><h2>  Headline </h2><br>  This is a mandatory element of the plugin, do not pervert much in it: <br><blockquote>  <font color="#000000">&lt;? php</font> <br>  <font color="#666666">/ *</font> <font color="#666666"><br></font>  <font color="#666666">Plugin Name: Name Of The Plugin</font> <font color="#666666"><br></font>  <font color="#666666">Plugin URI: http: // URI_Of_Page_Describing_Plugin_and_Updates</font> <font color="#666666"><br></font>  <font color="#666666">Description: A brief description of the Plugin.</font> <font color="#666666"><br></font>  <font color="#666666">Version: The Plugin's Version Number, eg: 1.0</font> <font color="#666666"><br></font>  <font color="#666666">Author: Name Of The Plugin Author</font> <font color="#666666"><br></font>  <font color="#666666">Author URI: http: // URI_Of_The_Plugin_Author</font> <font color="#666666"><br></font>  <font color="#666666">* /</font> <br>  <font color="#000000">?&gt;</font> </blockquote><br><br><h2>  Coding Standards </h2><br>  I did not see <a href="http://codex.wordpress.org/WordPress_Coding_Standards">full standards</a> from developers - for this reason I use <a href="http://framework.zend.com/manual/en/coding-standard.html">Zend Framework standards</a> , which I advise you to do.  (in the examples I will not use comments for PHP Documentator - in order to shorten the listing of sorts). <br><br>  And yet - our plugin should not cause errors (even the level of <em>Notice</em> ), so that during the development turn on the error display: <br> <code>error_reporting(E_ALL);</code> <br> <br><h2>  Dynamic file uploading </h2><br>  Load the whole plugin at once, then hang all the atsuk hooks and do nothing - this behavior of plug-ins is common, let's be smarter, for a start it is desirable to remove all the functionality of classes and files, and already in the functions load the necessary files: <br><br><blockquote>  <font color="#666666">// add content filter</font> <br>  add_filter <font color="#009900">(</font> <font>'the_content'</font> <font color="#339933">,</font> <font color="#990000">array</font> <font color="#009900">(</font> <font>'% PluginName%'</font> <font color="#339933">,</font> <font>'the_content'</font> <font color="#009900">)</font> <font color="#339933">,</font> <font color="#cc66cc">1000</font> <font color="#009900">)</font> ; <br><br>  <font color="#000000">class</font> <font color="#339933">%</font> PluginName <font color="#339933">%</font> <font color="#009900">{</font> <br><br>  <font color="#000000">var</font> <font color="#000088">$ some_variable</font> ; <br><br>  <font color="#0000ff">/ **</font> <font color="#0000ff"><br></font>  <font color="#0000ff">* filter fo the_content</font> <font color="#0000ff"><br></font>  <font color="#0000ff">*</font> <font color="#0000ff"><br></font>  <font color="#0000ff">* @return void</font> <font color="#0000ff"><br></font>  <font color="#0000ff">* /</font> <br>  <font color="#000000">function</font> the_content <font color="#009900">(</font> <font color="#000088">$ content</font> <font color="#009900">)</font> <br>  <font color="#009900">{</font> <br>  <font color="#b1b100">include_once</font> <font>'class / Content.php'</font> ; <br>  <font color="#000088">$ Content</font> <font color="#339933">=</font> <font color="#000000">new</font> <font color="#339933">%</font> PluginName <font color="#339933">%</font> _Content <font color="#009900">(</font> <font color="#009900">)</font> ; <br>  <font color="#b1b100">return</font> <font color="#000088">$ Content</font> <font color="#339933">-&gt;</font> <font color="#004000">parseContent</font> <font color="#009900">(</font> <font color="#000088">$ content</font> <font color="#009900">)</font> ; <br>  <font color="#009900">}</font> <br>  <font color="#009900">}</font> </blockquote><br><br>  It is also desirable to hang the hooks separately for each state - see the <a href="http://codex.wordpress.org/Conditional_Tags">list</a> : <br><blockquote>  <font color="#b1b100">if</font> <font color="#009900">(</font> is_admin <font color="#009900">(</font> <font color="#009900">)</font> <font color="#009900">)</font> <font color="#009900">{</font> <br>  <font color="#666666">// hooks for admin</font> <br>  <font color="#009900">}</font> <font color="#b1b100">else</font> <font color="#009900">{</font> <br>  <font color="#666666">// hooks for front end</font> <br>  <font color="#009900">}</font> <br>  <font color="#666666">// and so on ...</font> </blockquote><br><br>  You can even like this: <br><blockquote>  <font color="#b1b100">if</font> <font color="#009900">(</font> is_admin <font color="#009900">(</font> <font color="#009900">)</font> <font color="#009900">)</font> <font color="#009900">{</font> <br>  <font color="#b1b100">include_once</font> <font>'% PluginName% _admin.php'</font> ; <br>  <font color="#009900">}</font> <font color="#b1b100">else</font> <font color="#009900">{</font> <br>  <font color="#b1b100">include_once</font> <font>'% PluginName% _front.php'</font> ; <br>  <font color="#009900">}</font> <br>  <font color="#666666">// and so on ...</font> </blockquote><br><br><h2>  Variables and Namespaces </h2><br>  Since the namespace in PHP has not yet been implemented (meaning stable versions), a static class that combines all functions for hooks will help us with this task: <br><blockquote>  add_action <font color="#009900">(</font> <font>'% hook_name%'</font> <font color="#339933">,</font> <font color="#990000">array</font> <font color="#009900">(</font> <font>'% pluginName%'</font> <font color="#339933">,</font> <font>'% hook_name%'</font> <font color="#009900">)</font> <font color="#009900">)</font> ; <br><br>  <font color="#000000">class</font> <font color="#339933">%</font> PluginName <font color="#339933">%</font> <font color="#009900">{</font> <br><br>  <font color="#000000">var</font> <font color="#000088">$ some_variable</font> ; <br><br>  <font color="#0000ff">/ **</font> <font color="#0000ff"><br></font>  <font color="#0000ff">* some function description</font> <font color="#0000ff"><br></font>  <font color="#0000ff">*</font> <font color="#0000ff"><br></font>  <font color="#0000ff">* @return void</font> <font color="#0000ff"><br></font>  <font color="#0000ff">* /</font> <br>  <font color="#000000">function</font> <font color="#339933">%</font> hook_name <font color="#339933">%</font> <font color="#009900">(</font> <font color="#009900">)</font> <br>  <font color="#009900">{</font> <br>  <font color="#666666">// ...</font> <br>  <font color="#009900">}</font> <br>  <font color="#009900">}</font> </blockquote><br><br>  Or the usual class: <br><blockquote>  <font color="#666666">// create the essence of our class</font> <br>  <font color="#000088">$ PluginName</font> <font color="#339933">=</font> <font color="#000000">new</font> <font color="#339933">%</font> PluginName <font color="#339933">%</font> <font color="#009900">(</font> <font color="#009900">)</font> ; <br><br>  add_action <font color="#009900">(</font> <font>'% hook_name%'</font> <font color="#339933">,</font> <font color="#990000">array</font> <font color="#009900">(</font> <font color="#000088">$ PluginName</font> <font color="#339933">,</font> <font>'% hook_name%'</font> <font color="#009900">)</font> <font color="#009900">)</font> ; <br><br>  <font color="#000000">class</font> <font color="#339933">%</font> PluginName <font color="#339933">%</font> <font color="#009900">{</font> <br><br>  <font color="#000000">var</font> <font color="#000088">$ some_variable</font> ; <br><br>  <font color="#0000ff">/ **</font> <font color="#0000ff"><br></font>  <font color="#0000ff">* some function description</font> <font color="#0000ff"><br></font>  <font color="#0000ff">*</font> <font color="#0000ff"><br></font>  <font color="#0000ff">* @return void</font> <font color="#0000ff"><br></font>  <font color="#0000ff">* /</font> <br>  <font color="#000000">function</font> <font color="#339933">%</font> hook_name <font color="#339933">%</font> <font color="#009900">(</font> <font color="#009900">)</font> <br>  <font color="#009900">{</font> <br>  <font color="#666666">// ...</font> <br>  <font color="#009900">}</font> <br>  <font color="#009900">}</font> <br>  <font color="#666666">// delete the variable as unnecessary</font> <br>  <font color="#990000">unset</font> <font color="#009900">(</font> <font color="#000088">$ PluginName</font> <font color="#009900">)</font> ; </blockquote><br><br>  When using the options table (these are the <a href="http://codex.wordpress.org/Function_Reference/add_option">add_option</a> , <a href="http://codex.wordpress.org/Function_Reference/update_option">update_option</a> , <a href="http://codex.wordpress.org/Function_Reference/delete_option">delete_option functions</a> ), you should also use the prefix from the plugin name, so we will emulate the namespace of our options (for some reason the developers did not know this before) I don‚Äôt know) <br><br>  Following these tips we will avoid conflicts with other plugins ... <br><br><h2>  Plug-in installation </h2><br>  To initialize the system, there is the <a href="http://codex.wordpress.org/Function_Reference/register_activation_hook">register_activation_hook</a> hook, using it you can make the necessary changes to the database (create tables, make changes to options, etc.).  Believe me - the user does not always read the readme.txt where it will be written that it is necessary after initialization, it is necessary to save the plugin settings so that the default values ‚Äã‚Äãare saved in the database ... <br><br><h2>  Plugin settings </h2><br>  Let's not break the beautiful Wordpress admin panel - the plugin settings should be located in the appropriate menu - <strong>Settings</strong> ¬ª <strong>% Plugin Name%</strong> . <br><br>  I also advise you to put the settings page into a separate file with an informative name (for example, <em>% PluginName% _options.php</em> or <em>% PluginName% _settings.php</em> ): <br><br><blockquote>  <font color="#b1b100">if</font> <font color="#009900">(</font> is_admin <font color="#009900">(</font> <font color="#009900">)</font> <font color="#009900">)</font> <font color="#009900">{</font> <br>  add_action <font color="#009900">(</font> <font>'admin_menu'</font> <font color="#339933">,</font> <font color="#990000">array</font> <font color="#009900">(</font> <font>'% PluginName%'</font> <font color="#339933">,</font> <font>'adminMenu'</font> <font color="#009900">)</font> <font color="#009900">)</font> ; <br>  <font color="#009900">}</font> <br><br>  <font color="#000000">class</font> <font color="#339933">%</font> PluginName <font color="#339933">%</font> <font color="#009900">{</font> <br>  <font color="#000000">function</font> adminMenu <font color="#009900">(</font> <font color="#009900">)</font> <br>  <font color="#009900">{</font> <br>  <font color="#b1b100">if</font> <font color="#009900">(</font> <font color="#990000">function_exists</font> <font color="#009900">(</font> <font>'add_options_page'</font> <font color="#009900">)</font> <font color="#009900">)</font> <font color="#009900">{</font> <br>  add_options_page <font color="#009900">(</font> <font>'% PluginName%'</font> <font color="#339933">,</font> <font>'% PluginName%'</font> <font color="#339933">,</font> <font>'manage_options'</font> <font color="#339933">,</font> <font>'% PluginName% /% PluginName% _options.php'</font> <font color="#009900">)</font> ; <br>  <font color="#009900">}</font> <br>  <font color="#009900">}</font> <br>  <font color="#009900">}</font> </blockquote><br><br>  For everything to be beautiful - use the styles specified in wp-admin / wp-admin.css - they will thank you for this approach ... <br><br><h2>  Deactivating the plugin </h2><br>  If you make any changes to the database or on the file system when installing the plug-in, then it is advisable to clean this up after the plug-in is turned off, the <a href="http://codex.wordpress.org/Function_Reference/register_deactivation_hook">register_deactivation_hook</a> hook will help you with this. <br><br><h2>  Customization </h2><br>  Add CSS and JavaScript using the following construction: <br><blockquote>  <font color="#666666">// register our CSS file</font> <br>  wp_register_style <font color="#009900">(</font> <font>'% PluginName%'</font> <font color="#339933">,</font> get_option <font color="#009900">(</font> <font>'siteurl'</font> <font color="#009900">)</font> <font color="#339933">.</font> <font>'/wp-content/plugins/%PluginName%/%PluginName%.css'</font> <font color="#009900">)</font> ; <br>  <font color="#666666">// either</font> <br>  wp_enqueue_style <font color="#009900">(</font> <font>'% PluginName%'</font> <font color="#339933">,</font> get_option <font color="#009900">(</font> <font>'siteurl'</font> <font color="#009900">)</font> <font color="#339933">.</font> <font>'/wp-content/plugins/%PluginName%/%PluginName%.css'</font> <font color="#009900">)</font> ; <br><br>  <font color="#666666">// register our JS file (with dependencies)</font> <br>  wp_register_script <font color="#009900">(</font> <font>'% PluginName%'</font> <font color="#339933">,</font> get_option <font color="#009900">(</font> <font>'siteurl'</font> <font color="#009900">)</font> <font color="#339933">.</font> <font>'/wp-content/plugins/%PluginName%/%PluginName%.js'</font> <font color="#339933">,</font> <font color="#990000">array</font> <font color="#009900">(</font> <font>'jquery'</font> <font color="#009900">)</font> <font color="#009900">)</font> ; <br>  <font color="#666666">// either</font> <br>  wp_enqueue_script <font color="#009900">(</font> <font>'% PluginName%'</font> <font color="#339933">,</font> get_option <font color="#009900">(</font> <font>'siteurl'</font> <font color="#009900">)</font> <font color="#339933">.</font> <font>'/wp-content/plugins/%PluginName%/%PluginName%.js'</font> <font color="#339933">,</font> <font color="#990000">array</font> <font color="#009900">(</font> <font>'jquery'</font> <font color="#009900">)</font> <font color="#009900">)</font> ; </blockquote><br>  This method will work fine if these methods are located in a hook on <em>wp_head</em> or <em>admin_head</em> , otherwise you will have to call the <em>wp_print_styles</em> or <em>wp_print_scripts</em> method <em>yourself</em> and pass the script name for output to them ... <br><br>  Also, do not forget about conflicts, how to get around them in the article <a href="http://noteslog.com/post/how-to-load-javascript-in-wordpress-plugins/">How to load JavaScript in WordPress plugins</a> <br><br>  If your plugin has some kind of graphic design - and it usually changes for a specific theme - then it is advisable to check for the presence of a CSS file for our plugin in the current theme directory: <br><blockquote>  <font color="#b1b100">if</font> <font color="#009900">(</font> <font color="#990000">file_exists</font> <font color="#009900">(</font> TEMPLATEPATH <font color="#339933">.</font> <font>'/%PluginName%.css'</font> <font color="#009900">)</font> <font color="#009900">)</font> <font color="#009900">{</font> <br>  wp_register_style <font color="#009900">(</font> <font>'% PluginName%'</font> <font color="#339933">,</font> get_bloginfo <font color="#009900">(</font> <font>'template_directory'</font> <font color="#009900">)</font> <font color="#339933">.</font> <font>'/%PluginName%.css'</font> <font color="#009900">)</font> ; <br>  <font color="#009900">}</font> <font color="#b1b100">else</font> <font color="#009900">{</font> <br>  wp_register_style <font color="#009900">(</font> <font>'% PluginName%'</font> <font color="#339933">,</font> get_option <font color="#009900">(</font> <font>'siteurl'</font> <font color="#009900">)</font> <font color="#339933">.</font> <font>'/wp-content/plugins/%PluginName%/%PluginName%.css'</font> <font color="#009900">)</font> ; <br>  <font color="#009900">}</font> </blockquote><br><br>  When creating the CSS, be very careful, your CSS file should not break the current design, so again - use either prefixes or a hard link: <br><blockquote>  .% PluginName% -sidebar <font color="#00AA00">{</font> <font color="#808080">/*...*/</font> <font color="#00AA00">}</font> <br>  #% PluginName% <font color="#00AA00">{</font> <font color="#808080">/*...*/</font> <font color="#00AA00">}</font> <br>  #% PluginName% <font color="#00AA00">&gt;</font> div <font color="#00AA00">{</font> <font color="#808080">/*...*/</font> <font color="#00AA00">}</font> </blockquote><br>  You shouldn't forget that the CSS theme file of the current theme can influence the appearance of your plugin - so I advise you to clean up the margins, paddings and borders ... <br><br>  With such simple tricks we make life easier for ourselves and designers ... <br><br><h2>  Multilingual </h2><br>  You do not plan to do multilingualism, but then let others help you, prepare the plugin for translation, it will be enough to create a localization file containing only your language, and use the following functions to display the text: <br><br><blockquote>  __ <font color="#009900">(</font> <font>'String'</font> <font color="#339933">,</font> <font>'% PluginName%'</font> <font color="#009900">)</font> ; <br>  _e <font color="#009900">(</font> <font>'String'</font> <font color="#339933">,</font> <font>'% PluginName%'</font> <font color="#009900">)</font> ; <br>  _c <font color="#009900">(</font> <font>'String'</font> <font color="#339933">,</font> <font>'% PluginName%'</font> <font color="#009900">)</font> ; <br>  __ngettext <font color="#009900">(</font> <font>'String'</font> <font color="#339933">,</font> <font>'Strings'</font> <font color="#339933">,</font> <font color="#000088">$ c</font> <font color="#339933">,</font> <font>'% PluginName%'</font> <font color="#009900">)</font> </blockquote><br><br>  Translation files should also be placed in a separate language directory - so as not to clutter up the root directory of the plugin ... <br><br>  For more information, see the <a href="http://codex.wordpress.org/I18n_for_WordPress_Developers">I18n for WordPress Developers</a> page <a href="http://codex.wordpress.org/I18n_for_WordPress_Developers">.</a> <br><br><h2>  Documentation </h2><br>  If the user is required to make changes to the current theme - then it is desirable to describe this process in great detail - and not as usual: ‚ÄúThis code will output what you want.‚Äù <br><br>  By the way, ‚Äúthis code here‚Äù should not cause errors if your plugin is disabled, so do not forget to frame function calls with the following construction: <br><blockquote>  <font color="#000000">&lt;? php</font> <br>  <font color="#b1b100">if</font> <font color="#009900">(</font> <font color="#990000">function_exists</font> <font color="#009900">(</font> <font>'% FunctionName%'</font> <font color="#009900">)</font> <font color="#009900">)</font> <font color="#009900">{</font> <br>  <font color="#339933">%</font> FunctionName <font color="#339933">%</font> <font color="#009900">(</font> <font color="#009900">)</font> ; <br>  <font color="#009900">}</font> <br>  <font color="#000000">?&gt;</font> </blockquote><br><br>  Remember - the end user is often not a programmer, and he needs to chew everything and put it in his mouth ... <br><br><h2>  Compatibility </h2><br>  Unfortunately, Wordpress positions itself as a system with PHP4 support, so if you use PHP5, it is better to inform the user in advance at the stage of enabling the plugin, or create a file to ensure compatibility (if you use only specific functions): <br><blockquote>  <font color="#666666">// connect in the plugin file</font> <br>  <font color="#b1b100">if</font> <font color="#009900">(</font> <font color="#990000">version_compare</font> <font color="#009900">(</font> <font color="#990000">phpversion</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">,</font> <font>'5.1.0'</font> <font color="#339933">,</font> <font>'&lt;'</font> <font color="#009900">)</font> <font color="#009900">)</font> <font color="#009900">{</font> <br>  requery_once <font>'% PluginName% _compatibility.php'</font> <br>  <font color="#009900">}</font> <br><br>  <font color="#666666">// what could be in the file</font> <br>  <font color="#b1b100">if</font> <font color="#009900">(</font> <font color="#339933">!</font> <font color="#990000">function_exists</font> <font color="#009900">(</font> <font>'array_diff_key'</font> <font color="#009900">)</font> <font color="#009900">)</font> <font color="#009900">{</font> <br>  <font color="#000000">function</font> array_diff_key <font color="#009900">(</font> <font color="#009900">)</font> <br>  <font color="#009900">{</font> <br>  <font color="#000088">$ args</font> <font color="#339933">=</font> <font color="#990000">func_get_args</font> <font color="#009900">(</font> <font color="#009900">)</font> ; <br>  <font color="#b1b100">return</font> <font color="#990000">array_flip</font> <font color="#009900">(</font> <font color="#990000">call_user_func_array</font> <font color="#009900">(</font> <font>'array_diff'</font> <font color="#339933">,</font> <br>  <font color="#990000">array_map</font> <font color="#009900">(</font> <font>'array_flip'</font> <font color="#339933">,</font> <font color="#000088">$ args</font> <font color="#009900">)</font> <font color="#009900">)</font> <font color="#009900">)</font> ; <br>  <font color="#009900">}</font> <br>  <font color="#009900">}</font> </blockquote><br><br>  In order not to reinvent the bicycle - I advise you to look at the package PEAR <a href="http://pear.php.net/package/PHP_Compat">PHP_Compat</a> . <br><br>  It is likely that you may also need support for old Wordpress versions: <br><blockquote>  <font color="#666666">// connect in the plugin file</font> <br>  <font color="#b1b100">if</font> <font color="#009900">(</font> <font color="#990000">version_compare</font> <font color="#009900">(</font> get_bloginfo <font color="#009900">(</font> <font>'version'</font> <font color="#009900">)</font> <font color="#339933">,</font> <font>'2.6.0'</font> <font color="#339933">,</font> <font>'&lt;'</font> <font color="#009900">)</font> <font color="#009900">)</font> <font color="#009900">{</font> <br>  requery_once <font>'% PluginName% _compatibility.php'</font> <br>  <font color="#009900">}</font> </blockquote><br><br><h2>  findings </h2><br>  Let you down total. <br><br>  The plugin directory might look like this: <br><br> <code>\plugin-name <br> |--\languages <br> |--\library <br> |--\javascript <br> |--\css <br> |-- plugin-name.php <br> |-- plugin-name_admin.php <br> |-- plugin-name_front.php <br> |-- plugin-name_settings.php <br> |-- plugin-name_compatibility.php <br> |-- readme.txt <br></code> <br><ul><li>  % PluginName% prefix is ‚Äã‚Äãoptional, and with a large number of files it is even redundant </li><li>  languages ‚Äã‚Äã- all translations will be here </li><li>  library - directory for third-party libraries </li><li>  javascript and css - contain javascript and css files for your plugin </li><li>  readme.txt - required </li><li>  the functionality is divided into several files (admin.php, front.php, single.php, etc.) </li><li>  version compatibility is provided (compatibility.php) </li></ul><br>  <strong>PS</strong> If you have something to add, or there is a link to useful resources on the topic - you are welcome in the comments ... <br><br>  In preparing the material were used the following resources: <br><ul><li>  <a href="http://codex.wordpress.org/Developer_Documentation">Wordpress Developer Documentation</a> </li><li>  <a href="http://weblogtoolscollection.com/archives/2008/01/14/suggestions-for-plugin-standards/">Suggestions For Plugin Standards</a> </li><li>  <a href="http://www.smashingmagazine.com/2008/09/15/wordpress-developers-toolbox/">WordPress Developer's Toolbox</a> </li></ul><br>  For highlight syntax code used resource <a href="http://highlight.hohli.com/">highlight.hohli.com</a> </div><p>Source: <a href="https://habr.com/ru/post/48998/">https://habr.com/ru/post/48998/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../48986/index.html">Share your Wi-Fi!</a></li>
<li><a href="../48988/index.html">User manual in Russian in chm format</a></li>
<li><a href="../48990/index.html">Windows implementation in Mac OS X. Choice of the inhabitant.</a></li>
<li><a href="../48995/index.html">Internet on televisions, alarm clocks, mirrors</a></li>
<li><a href="../48996/index.html">2008 ended 753% with Twitter growth</a></li>
<li><a href="../48999/index.html">‚ÄúRussian Distributions‚Äù or ‚ÄúWhy Russia doesn‚Äôt like Debian‚Äù</a></li>
<li><a href="../49000/index.html">Positive in the work of the administrator of the online store</a></li>
<li><a href="../49003/index.html">Nokia Locate Sensor will not let you lose the remote control / keys / etc</a></li>
<li><a href="../49005/index.html">Intel cash register knows who you are and what you want</a></li>
<li><a href="../49008/index.html">ASCII steganography on your pictures</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>