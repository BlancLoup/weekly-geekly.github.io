<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How we participated in the HR hackathon. Our graduates share their decision and impressions of participation.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! 


 On November 23-24, a digital hackathon on data analysis in the HR sphere took place in Digital October, in which a team of graduates from o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How we participated in the HR hackathon. Our graduates share their decision and impressions of participation.</h1><div class="post__text post__text-html js-mediator-article"><p>  Hello! </p><br><p>  On November 23-24, a digital hackathon on data analysis in the HR sphere took place in Digital October, in which a team of graduates from our <a href="http://newprolab.com/bigdata%3Futm_source%3Dhabr%26utm_campaign%3Dhackaton">Big Data Specialist</a> program won.  Kirill Danilyuk, Igor Parfenov, Egor Andreev and Alexander Ivanovochkin share their decisions and impressions of participation. </p><a name="habracut"></a><br><br><h2 id="kontekst">  Context </h2><br><p>  On November 23-24, a digital hackathon on HR data analysis took place in Digital October - we organized ourselves into a team (ai.at.work) and decided to like HR tasks.  None of us had ever gone to hackathons before, so the interest was twofold. </p><br><p>  The post turned out to be long, so let's not be distracted by the extra details and get right down to business :) By the way, we won the competition.  So, we were offered the following situation: given the company "Chinikoff" selling appliances.  Chinikoff is a large retail chain that is present in many regions and has more than 190 retail stores.  The company is well-known, it has been working on the market for a long time (more than 20 years), it has more than 2000 employees and a developed system of personnel training.  The company conducts both full-time employee training and online: it has a corporate portal with a library, self-test tests and webinars. </p><br><p>  Obviously, one of the competitive advantages of the company is qualified and motivated for development employees, including sellers in retail stores.  Therefore, we have two tasks: </p><br><ol><li>  Given the available data, find the best way to train employees. </li><li>  Find some interesting patterns in the data, i.e., just ‚Äúfigure out‚Äù something useful from dataset. </li></ol><br><h2 id="dannye">  Data </h2><br><p>  Unfortunately, the company did not allow us to publish the data that was provided to us, so we will have to describe the entire structure in words. </p><br><p>  ‚ÄúDataset‚Äù provided to us is just two Excel files, each of which contains about a dozen tabs describing personal data of employees, courses they have taken, their success in terms of sales and plan fulfillment, employee survey data, etc. .  The main characteristic of the source data is their low quality.  For competitors at Kaggle, the situation is unusual: there is no preprocessing of data, the quality of the source tables is low, sometimes beyond the limits.  We obtained data with all possible quality problems: </p><br><ul><li>  Data in one column could be of different types: numbers, text, empty values. </li><li>  High sparsity of some tables, when most of the values ‚Äã‚Äãare absent. </li><li>  Explicit duplicates in the personal data, when the keys of the records are different, but the records themselves are identical.  For example, there may be several personal records of the same guard with different keys user_id. </li><li>  Structural problems: in one of the tables, part of the columns was located with an offset, in the other (employee survey results), the values ‚Äã‚Äãwere arranged either vertically or horizontally. </li><li>  Conceptual problems: we considered the results with the first employee survey incorrect as the survey was not anonymized. </li></ul><br><p>  However, one should not be afraid of such ‚Äúdirty‚Äù and noisy data, it is necessary to work with them, preprocess, transform.  The main task that we set for ourselves (and which took up most of the time of the hackathon) is to assemble a real dataset from what we have and use it for further work.  Actually, this was our advantage over other teams.  When there are high-quality and well-aggregated data, further analysis becomes much easier. </p><br><p>  The second difficulty was that the size of the source data was very modest.  We also approached this problem as a challenge, because the quality of the final solution strongly depends on the size of the data that can be used.  On the other hand, we were not required to produce solutions, but we had to demonstrate a working prototype. </p><br><p>  As a result, we collected two datasets: </p><br><ul><li>  Employees (employees).  A set of features describing the employee: age, gender, position, work experience, overall job satisfaction, fulfillment of sales plan, number of courses completed, average score for courses completed, and other similar features. </li><li>  Courses (courses, webinars, documents from the library).  All those objects that describe employee training in the company.  This dataset is just an employee-course couples with additional clarifications: what grade did the employee get for the course, how much time did he spend on the course, etc. </li></ul><br><h2 id="reshenie-zadachi-1">  Problem Solving # 1 </h2><br><p>  We approached the problem (to choose the best way to train each employee) from a practical point of view: our solution should use existing materials, work throughout the company (not only for sellers) and not require manual programming of categories. </p><br><p>  Obviously, a recommender system based on collaborative filtering is well suited to all of this ‚Äî we have implemented its prototype.  Such systems are ubiquitous now, we didn‚Äôt do anything new, but it was interesting to collect it using available data. </p><br><p>  All data processing was carried out using standard Python tools: Jupyter, numpy, pandas, sklearn.  A few important, though obvious, things: </p><br><ul><li> Work with Excel-tables was carried out through <a href="https://github.com/python-excel/xlrd">xlrd</a> , although, of course, nothing prevented us from using the standard Excel import from pandas: <code>pandas.read_excel</code> . </li><li>  One-hot encoding posts.  We presented the position of the employee in the form of a vector of length in the number of unique positions.  All values ‚Äã‚Äãof this vector are zeros, except for one unit opposite to its position.  Accordingly, by coding the posts of all employees, we get a sparse matrix of dimension M x N, where M is the number of unique posts, and N is the number of employees. </li><li>  Normalization of continuous values.  In <code>sklearn.preprocessing</code> there is a class <code>MinMaxScaler</code> , which allows to bring our values ‚Äã‚Äãto the desired range, by default in the range <code>[0, 1]</code> .  As a result, we received 173 signs, each of which (including one-hot encoded) can have a value in the range from zero to one. </li></ul><br><p><img src="https://s3-us-west-2.amazonaws.com/notion-static/d3799013a4ca4390b0e459a1641dd401/features.png"></p><br><p>  The next task is to determine the measure of the similarity of different employees with each other.  We recommend similar courses for similar employees.  In terms of recommender systems, this is User-User collaborative filtering.  The easiest way is to use a <a href="https://ru.wikipedia.org/wiki/%25D0%2592%25D0%25B5%25D0%25BA%25D1%2582%25D0%25BE%25D1%2580%25D0%25BD%25D0%25B0%25D1%258F_%25D0%25BC%25D0%25BE%25D0%25B4%25D0%25B5%25D0%25BB%25D1%258C">cosine measure</a> .  We represent each employee as a vector in a 173-dimensional space and, in pairs for every two employees, we consider the cosine of the angle between the vectors: </p><br><div style="text-align:center;"><img src="https://s3-us-west-2.amazonaws.com/notion-static/a9083c3cc8f443eea2b6c978199891d8/cosine_sim.svg" width="500"></div><br><p>  In fact, knowing the scalar product and the rate of vectors, we can calculate how much the two employees are ‚Äúsimilar‚Äù.  Within sklearn this is done in one line: </p><br><p> <code>sklearn.metrics.pairwise.cosine_similarity(df_profiles.iloc[:,1:])</code> </p> <br><p>  We get a matrix of dimension N x N, where N is the number of employees.  Each value in the matrix is ‚Äã‚Äãa measure of the similarity of two employees.  We wanted to add non-linearities to this measure in order to emphasize more closely the similarities or differences between the two employees: </p><br><pre> <code class="hljs kotlin">def norm_cos(x): <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> x &lt; <span class="hljs-number"><span class="hljs-number">0.25</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x / <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> x &lt; <span class="hljs-number"><span class="hljs-number">0.5</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x / <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> x &lt; <span class="hljs-number"><span class="hljs-number">0.75</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x / <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x</code> </pre> <br><p>  Further we undertook dataset with courses.  In fact, it was necessary to make the normalization of course estimates using basic predictors of employees (users) and courses (items).  The ‚Äúgrade‚Äù of a course is simply the sum of the number of times each employee has completed the course (or a webinar, or viewed an electronic document on the portal).  By counting the basic predictors, we can remove the estimate bias.  For example, if one employee passes many courses, his assessment will dominate and strongly distort the recommendations.  Such distortions are well identified and reduced by basic predictors. </p><br><p>  Having obtained two matrices: the employee similarity matrix and the course score matrix normalized by basic predictors, we can multiply them and, thus, get an estimate of each course (item) for each employee (user).  To recommend courses, we can take the required number of courses with the highest marks: </p><br><p><img src="https://s3-us-west-2.amazonaws.com/notion-static/5b8ec8c7749c43d3a63331d960790b28/Screenshot_2016-11-30_15.41.50.png"></p><br><p>  As we see, we don‚Äôt, in fact, recommend courses for the storekeeper.  But for the manager, we can advise something. </p><br><h2 id="reshenie-zadachi-2">  Problem solving # 2 </h2><br><p>  Having collected data with employees, we wanted to try to solve the second problem: dig up an interesting pattern in the data and, ideally, also turn it into a product.  We formulated the thesis - if an employee, by the totality of his characteristics, behaves as an employee of a higher position (for example, a salesman and a senior salesman), then it would be interesting to determine this and give a signal to his manager. </p><br><p>  We decided to use a dimensionally derived <a href="https://ru.wikipedia.org/wiki/%25D0%259C%25D0%25B5%25D1%2582%25D0%25BE%25D0%25B4_%25D0%25B3%25D0%25BB%25D0%25B0%25D0%25B2%25D0%25BD%25D1%258B%25D1%2585_%25D0%25BA%25D0%25BE%25D0%25BC%25D0%25BF%25D0%25BE%25D0%25BD%25D0%25B5%25D0%25BD%25D1%2582">principal</a> reduction <a href="https://ru.wikipedia.org/wiki/%25D0%259C%25D0%25B5%25D1%2582%25D0%25BE%25D0%25B4_%25D0%25B3%25D0%25BB%25D0%25B0%25D0%25B2%25D0%25BD%25D1%258B%25D1%2585_%25D0%25BA%25D0%25BE%25D0%25BC%25D0%25BF%25D0%25BE%25D0%25BD%25D0%25B5%25D0%25BD%25D1%2582">(PCA)</a> technique, leaving two components.  These PCA results are easier to visualize and can be shown to management. </p><br><p>  After the transformation, we clustered the PCA results with <a href="http://scikit-learn.org/stable/modules/generated/sklearn.cluster.KMeans.html">K-Means</a> .  The number of clusters was selected using medium <a href="http://scikit-learn.org/stable/modules/generated/sklearn.metrics.silhouette_score.html">silhouette score</a> clusters.  The higher this figure, the better the clusters are separable from each other. </p><br><p><img src="https://s3-us-west-2.amazonaws.com/notion-static/e99de2032ab64632b9b37e5dfb7de2ed/BwCxwipzU2IAAAAAElFTkSuQmCC-1.png"></p><br><p>  K-Means identified 10 clusters in this dataset.  As you can see, cluster # 3 is farthest from all the others and clearly separable from others - therefore, its silhouette score is higher than others.  The red vertical line in the left chart is the average. </p><br><p>  What does such clustering give us?  It turned out that our clustering turned out in fact according to posts and ‚Äúa bit of something else‚Äù.  For example, cluster # 0 is mostly cashier sellers, and cluster # 5 is senior cashier sellers.  But sometimes in cluster # 5 we see simple cashiers. </p><br><p>  In the original dataset, we had a lot of information about employee productivity and their training.  Therefore, when reducing the dimension and clustering, this information allowed us to attribute two people of different positions to the same cluster. </p><br><div style="text-align:center;"><img src="https://s3-us-west-2.amazonaws.com/notion-static/6a20128848b74790adc0a386e9ab8a08/cluster5_cashiers_promotion.png" width="500"></div><br><br><h2 id="vmesto-zaklyucheniya">  Instead of conclusion </h2><br><p>  What conclusions did we personally draw after the hackathon? </p><br><p>  <strong>First</strong> , do not underestimate the time for data processing.  It took us a tremendous amount of time to convert, process, generate features, normalize, and process attributes with missing values.  Without preprocessing, full data analysis would be problematic.  We considered dissatisfaction with the original data unprofessional and did everything we could by preprocessing. </p><br><p>  <strong>Secondly</strong> , we have not invented anything new.  PCA, K-Means, item-item, user-user collaborative filtering - all of these techniques have long been known.  PCA and K-Means work practically out of the box at sklearn.  However, if you impose them on a specific task, they are able to surprise people who have not seen anything like this before. </p><br><p>  <strong>Thirdly</strong> , it is very important to be able to present your project.  Remember that a working prototype made on the knee and trained on piecewise data is better than any theoretically correct solution or analysis, but without a demonstration of a real, living product that can be touched. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/316616/">https://habr.com/ru/post/316616/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../316602/index.html">View globals in the Cach√© Database Management Portal</a></li>
<li><a href="../316604/index.html">The important thing is inside: about procedural generation of organs</a></li>
<li><a href="../316606/index.html">Front-end JavaScript framework Evolution beta</a></li>
<li><a href="../316608/index.html">Mozilla and Tor closed a critical vulnerability that was actively used to de-anonymize Tor users.</a></li>
<li><a href="../316610/index.html">Double your money in December! New Year's Eve action on "My Circle"</a></li>
<li><a href="../316618/index.html">9 ways to optimize front-end performance</a></li>
<li><a href="../316620/index.html">As I opened the Dota-league. Part 2</a></li>
<li><a href="../316622/index.html">FIAS addresses in the PostgreSQL environment. Part 3</a></li>
<li><a href="../316624/index.html">Recipes. How to install software on servers using VMmanager and DCImanager</a></li>
<li><a href="../316628/index.html">The main thing from the conference for those who create new media - MediaMakers-2016</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>