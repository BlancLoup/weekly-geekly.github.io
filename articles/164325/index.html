<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>IOPS - what it is and how to count it</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="IOPS (number of I / O operations - from the English. Input / Output Operations Per Second) is one of the key parameters in measuring the performance o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>IOPS - what it is and how to count it</h1><div class="post__text post__text-html js-mediator-article"><img src="http://wethinkdiff.com/sites/default/files/IOPS_whats_is_it.png" alt="iops" align="left">  <b>IOPS</b> (number of I / O operations - from the English. Input / Output Operations Per Second) is one of the key parameters in measuring the performance of data storage systems, hard drives (HDD), solid-state drives (SSD) and network-attached storage (SAN). <br><br>  In fact, <i>IOPS is the number of blocks that manages to be considered or enrolled on the media.</i>  The larger the block size, the smaller the pieces that make up the file, and the smaller the IOPS will be, since it will take longer to read a larger chunk. <br><br>  <i>So, to determine IOPS, you need to know the speed and size of the block during a read / write operation.</i>  <i>The IOPS parameter is equal to the speed divided by the block size when the operation is performed.</i> <br><a name="habracut"></a><br><h4>  Performance characteristics </h4><br>  The main measured values ‚Äã‚Äãare linear (sequential) and random (random) access operations. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/7c5/0e7/1ee/7c50e71ee508707450ab3cb1d3b64a9d.png" alt="image"><br><br>  By linear read / write operations in which parts of files are read sequentially, one after another, is meant the transfer of large files (more than 128 K).  For arbitrary operations, the data is read randomly from different areas of the carrier, usually they are associated with a block size of 4 KB. <br><br>  The following are the main features: <br><table><tbody><tr><td>  <b>Parameter</b> <br></td><td>  <b>Description</b> <br></td></tr><tr><td>  Total IOPS (Total IOPS) <br></td><td>  The total number of I / O operations per second (when performing both reading and writing) <br></td></tr><tr><td>  Random Read IOPS <br></td><td>  Average number of random reads per second <br></td></tr><tr><td>  Random Write IOPS <br></td><td>  Average number of random write operations per second <br></td></tr><tr><td>  IOPS sequential read (Sequential Read) <br></td><td>  Average number of linear read operations per second <br></td></tr><tr><td>  IOPS sequential write (Sequential Write) <br></td><td>  Average number of linear write operations per second <br></td></tr></tbody></table><br><h4>  Approximate IOPS Values </h4><br>  Approximate IOPS values ‚Äã‚Äãfor hard drives. <br><table><tbody><tr><td><br>  <b>Device</b> <br></td><td><br>  <b>Type of</b> <br></td><td><br>  <b>Iops</b> <br></td><td><br>  <b>Interface</b> <br></td></tr><tr><td><br>  7,200 rpm SATA drives <br></td><td><br>  HDD <br></td><td><br>  ~ 75-100 IOPS <br></td><td><br>  SATA 3Gb / s <br></td></tr><tr><td><br>  10,000 rpm SATA drives <br></td><td><br>  HDD <br></td><td><br>  ~ 125-150 IOPS <br></td><td><br>  SATA 3Gb / s <br></td></tr><tr><td><br>  10,000 rpm SAS drives <br></td><td><br>  HDD <br></td><td><br>  ~ 140 IOPS <br></td><td><br>  SAS <br></td></tr><tr><td><br>  15,000 rpm SAS drives <br></td><td><br>  HDD <br></td><td><br>  ~ 175-210 IOPS <br></td><td><br>  SAS <br></td></tr></tbody></table><br>  Approximate IOPS values ‚Äã‚Äãfor SSD. <br><table><tbody><tr><td><br>  <b>Device</b> <br></td><td><br>  <b>Type of</b> <br></td><td><br>  <b>Iops</b> <br></td><td><br>  <b>Interface</b> <br></td></tr><tr><td><br>  Intel X25-M G2 MLC <br></td><td><br>  SSD <br></td><td><br>  ~ 8,600 IOPS <br></td><td><br>  SATA 3Gb / s <br></td></tr><tr><td><br>  OCZ Vertex 3 <br></td><td><br>  SSD <br></td><td><br>  ~ 60,000 IOPS (Random 4K) <br></td><td><br>  SATA 6 Gb / s <br></td></tr><tr><td><br>  OCZ RevoDrive 3 X2 <br></td><td><br>  SSD <br></td><td><br>  ~ 200,000 IOPS (Random 4K) <br></td><td><br>  PCIe <br></td></tr><tr><td><br>  OCZ Z-Drive R4 CloudServ <br></td><td><br>  SSD <br></td><td><br>  ~ 1 400 000 IOPS <br></td><td><br>  PCIe <br></td></tr></tbody></table><br><h4>  RAID penalty </h4><br>  Any read operations that are performed on disks are not subject to any penalty, since all disks can be used for reading operations.  But all in turn with write operations.  The number of penalties per entry depends on the type of RAID chosen, for example. <br><br>  In RAID 1, in order for the data to be recorded on a disk, there are two write operations (one record for each disk), and therefore RAID 1 has two penalties. <br><br>  In RAID 5, in order to write data, 4 operations occur (Reading existing data, RAID parity, Writing new data, Writing new parity), thus a penalty in RAID 5 is 4. <br><br>  This table provides the penalty value for the more commonly used RAID configurations. <br><table><tbody><tr><td>  RAID <br></td><td>  I / O Penalty <br></td></tr><tr><td>  RAID 0 <br></td><td>  1 (Edited by Reader) <br></td></tr><tr><td>  RAID 1 <br></td><td>  2 <br></td></tr><tr><td>  RAID 5 <br></td><td>  four <br></td></tr><tr><td>  RAID 6 <br></td><td>  6 <br></td></tr><tr><td>  RAID 10 <br></td><td>  2 <br></td></tr></tbody></table><br><h4>  Workload Characteristics </h4><br>  The workload characteristic is generally regarded as the percentage of the read and write operation that the application produces or requires.  For example, in VDI, the percentage of IOPS is considered 80-90% per write and 10-20% per read.  Understanding the characteristics of the workload is the most critical factor, since the choice of the optimal RAID for the environment depends on this.  Applications that use write-intensive operations are good candidates for RAID 10, while applications that use read-intensive operations can be placed on RAID 5. <br><br><h4>  IOPS calculation </h4><br>  There are two scenarios for calculating IOPS. <br>  One of the scenarios is when there are a certain number of disks, and we want to know how many IOPS these disks will issue? <br>  The second scenario, when we know how many IOPS we need, and we want to calculate the necessary number of disks? <br><br><h5>  Scenario 1: Calculation of IOPS based on a certain number of disks </h5><br>  Imagine that we have 20 450GB 15k RPM disks.  Consider two scenarios for the 80% Write-20% Read workload and another scenario with 20% Write-80% Read.  We will also calculate the number of IOPS for both RAID5 and RAID 10. <br><br>  The formula for calculating IOPS is: <br><br> <code>Total Raw IOPS = Disk Speed IOPS * Number of disks</code> <br> <code>Functional IOPS =(((Total Raw IOPS√óWrite %))/(RAID Penalty))+(Total Raw IOPS√óRead %)</code> <br> <br>  There is a definition of Raw IOPS and Functional IOPS, just the currents Functional IOPS are the IOPS that include the RAID penalty, and these are the ‚Äúreal‚Äù IOPS. <br><br>  And now we will substitute the numbers and see what happens. <br><br>  <b>Total Raw IOPS</b> = 170 * 20 = 3400 IOPS (one 15K RPM disk can produce an average of 170 IOPS) <br><br><h6>  For RAID-5 </h6><br>  Option 1 (80% Write 20% Read) Functional IOPS = (((3400 * 0.8)) / (4)) + (3400 * 0.2) = 1360 IOPS <br>  Option 2 (20% Write 80% Read) Functional IOPS = (((3400 * 0.2)) / (4)) + (3400 * 0.8) = 2890 IOPS <br><br><h6>  For RAID-1 </h6><br>  Option 1 (80% Write 20% Read) Functional IOPS = (((3400 * 0.8)) / (2)) + (3400 * 0.2) = 2040 IOPS <br>  Option 2 (20% Write 80% Read) Functional IOPS = (((3400 * 0.2)) / (2)) + (3400 * 0.8) = 3100 IOPS <br><br><h5>  Scenario 2: Count the number of disks to achieve a certain number of IOPS </h5><br>  Consider the situation where we need to determine the type of RAID and the number of disks to achieve a certain number of 5000 IOPS and with certain workloads, for example 80% Write20% Read and 20% Write80% Read. <br><br>  Again, to begin with, the formula by which we will consider: <br><br> <code>Total number of Disks required = ((Total Read IOPS + (Total Write IOPS*RAID Penalty))/Disk Speed IOPS)</code> <br> <br>  <b>Total IOPS</b> = 5000 <br><br>  Now substitute the numbers. <br><br>  <i>Note:</i> 80% of 5000 IOPS = 4000 IOPS and 20% of 5000 IOPS = 1000 IOPS with these numbers will be operated. <br><br><h6>  For RAID-5 </h6><br>  Option 1 (80% Write20% Read) - Total Number of disks required = ((1000+ (4000 * 4)) / 170) = 100 disks. <br>  Option 2 (20% Write80% Read) - Total Number of disks required = ((4000+ (1000 * 4)) / 170) = 47 disks approximately. <br><br><h6>  For RAID-1 </h6><br>  Option 1 (80% Write20% Read) - Total Number of disks required = ((1000+ (4000 * 2)) / 170) = 53 disks approximately. <br>  Option 2 (20% Write80% Read) - Total Number of disks required = ((4000+ (1000 * 2)) / 170) = 35 disks approximately. <br><br>  Understanding and calculating IOPS, RAID penalties, and workload characteristics are very critical aspect when planning.  When the load is more intensive on the write beam, choose RAID 10 and vice versa with read loads on RAID 5. <br><br><h4>  IOPS measurement software </h4><br>  <a href="http://www.iometer.org/">IOmeter</a> - IOPS test <br>  <a href="http://www.iozone.org/">IOzone</a> - IOPS Test <br>  <a href="http://freecode.com/projects/fio">FIO</a> - IOPS Test <br>  <a href="http://crystalmark.info/software/CrystalDiskMark/index-e.html">CrystalDiskMark</a> - IOPS Test <br>  <a href="http://www.microsoft.com/en-us/download/details.aspx%3Fid%3D20163">SQLIO</a> - test suite for calculating performance (IOPS, MB, Latency) under the database server <br>  <a href="http://wmarow.com/strcalc/">wmarow</a> - RAID Calculator for IOPS Performance </div><p>Source: <a href="https://habr.com/ru/post/164325/">https://habr.com/ru/post/164325/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../164309/index.html">12 tools that every Big Data programmer needs to know about</a></li>
<li><a href="../16431/index.html">(c) nuuuska.</a></li>
<li><a href="../164311/index.html">The digest of interesting news and materials from the world of ayti for the last week ‚Ññ37 (December 22 - 28, 2012)</a></li>
<li><a href="../164313/index.html">New Year's Battle of Santa Claus and Santa Claus, as well as a couple of words about Golang</a></li>
<li><a href="../164321/index.html">How expensive is Google Chrome for your SSD?</a></li>
<li><a href="../164327/index.html">Nearby Entertainment Literature</a></li>
<li><a href="../164329/index.html">Problems with the list of sites Roskomnadzor. Telecom operators, beware</a></li>
<li><a href="../16433/index.html">Business in Russian: a beautiful legend or a sad reality?</a></li>
<li><a href="../164333/index.html">We sculpt a snowman (decorate the application)</a></li>
<li><a href="../164337/index.html">Custom scripts in Opera Mobile for android</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>