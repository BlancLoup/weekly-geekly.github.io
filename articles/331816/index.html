<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creating a React Real-Time VR Application</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The React VR library allows you to write virtual reality applications for the web using JavaScript and React on top of the WebVR API . This specificat...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creating a React Real-Time VR Application</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/web/c5f/bad/0c1/c5fbad0c18f64142a75e613ce190bd4d.jpg"></p><br><p>  The React VR library allows you to write virtual reality applications for the web using JavaScript and React on top of the <a href="https://webvr.info/">WebVR API</a> .  This specification is supported by the latest (in some cases, experimental) versions of Chrome, Firefox and Edge browsers.  And for this you do not need VR glasses. </p><br><p>  <a href="https://webvrexperiments.com/">WebVR Experiments</a> is a showcase site that demonstrates the capabilities of WebVR.  My attention was drawn to the project <a href="https://forest.webvrexperiments.com/">The Musical Forest</a> , created by a wonderful person from Google Creative Lab, who used <a href="https://aframe.io/">A-Frame</a> , a web framework for WebVR, developed by the <a href="https://mozvr.com/">Mozilla VR</a> team. </p><a name="habracut"></a><br><p>  In Musical Forest, thanks to WebSockets, users can play music together in real time by clicking on geometric shapes.  But because of the possibilities and the technologies used, the application turned out to be quite complicated ( <a href="https://github.com/googlecreativelab/webvr-musicalforest">source code</a> ).  So why not create a similar real-time application on React VR with multiplayer support based on Pusher? </p><br><p>  Here‚Äôs what React VR / Pusher version looks like: </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/vm5vKh7h0b4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  The user can enter the channel ID in the URL.  When you click on a three-dimensional figure, the sound is played and the Pusher event is published, which are received by other users in the same channel, and they hear the same sound. </p><br><p>  To publish events, take a Node.js backend, so you need to have some experience with JavaScript and React.  If you are new to React VR and the concepts used in VR, then start by reading <a href="https://www.pluralsight.com/guides/front-end-javascript/getting-started-with-react-vr">this material</a> . </p><br><p>  Download links (just to try): </p><br><p>  ‚Üí <a href="https://github.com/eh3rrera/reactvr_musical">React VR project</a> . <br>  ‚Üí <a href="https://github.com/eh3rrera/server_pusher_reactvr_musical">Node.js backend</a> . </p><br><h2 id="nastraivaem-vr-proekt">  We configure the VR project </h2><br><p>  Let's start by installing (or updating) the React VR CLI tool: </p><br><pre><code class="hljs sql">npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> -g react-vr-cli</code> </pre> <br><p>  Let's create a new React VR project: </p><br><pre> <code class="hljs swift">react-vr <span class="hljs-keyword"><span class="hljs-keyword">init</span></span> musical-exp-react-vr-pusher</code> </pre> <br><p>  Go to the directory created by him and execute the command to start the development server: </p><br><pre> <code class="hljs dos"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> musical-exp-react-vr-pusher npm <span class="hljs-built_in"><span class="hljs-built_in">start</span></span></code> </pre> <br><p>  In the browser, go to <a href="http://localhost:8081/vr/">http: // localhost: 8081 / vr /</a> .  This should appear: </p><br><p><img src="https://habrastorage.org/web/52b/7f8/923/52b7f8923ea64191b30c1e01399df97e.jpg" alt="image"></p><br><p>  If you are using a compatible browser (like <a href="https://www.mozilla.org/en-US/firefox/channel/desktop/">Firefox Nightly</a> under Windows), you should also see the <em>View in VR</em> button, which allows you to view the application with VR glasses: </p><br><p><img src="https://habrastorage.org/web/997/350/7da/9973507daa47445688ff6c87b273e572.jpg" alt="image"></p><br><p>  Let's move on to programming. </p><br><h2 id="sozdayom-fon">  Create a background </h2><br><p>  For a background, take an equidistant image ( <a href="https://www.flickr.com/groups/equirectangular/">equirectangular image</a> ).  The main feature of such images is that the width should be exactly twice the height.  So open your favorite image editor and create a 4096 √ó 2048 image with a gradient fill.  Color - to your taste. </p><br><p><img src="https://habrastorage.org/web/ef6/6d2/3f6/ef66d23f6d834d87a19140c0aead7500.png" alt="image"></p><br><p>  Inside the static_assets directory in the root of the application, create a new images folder, and save the image there.  Now open the file index.vr.js and replace the contents of the render method with: </p><br><pre> <code class="hljs javascript"> render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">View</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Pano</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">source</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{asset(</span></span></span></span><span class="xml"><span class="hljs-tag">'</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">images</span></span></span></span><span class="xml"><span class="hljs-tag">/</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">background.jpg</span></span></span></span><span class="xml"><span class="hljs-tag">')} /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">View</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> ); }</span></span></code> </pre> <br><p>  Reload the page (or activate the <a href="https://facebook.github.io/react-vr/docs/dev-tools.html">hot reboot</a> ), and see this: </p><br><p><img src="https://habrastorage.org/web/8be/063/60f/8be06360f2774839ad717e667e11d6a3.gif" alt="image"></p><br><p>  To emulate a tree, use <a href="https://facebook.github.io/react-vr/docs/cylinder.html">Cylinder</a> .  In fact, we need hundreds of them to make the forest around the user.  In the original Musical Forest, in the <a href="">js / components / background-objects.js file,</a> you can find an algorithm that generates trees.  If we adapt the code for the React-component of our project, we get: </p><br><pre> <code class="hljs javascript"> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { View, Cylinder, } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react-vr'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> ({trees, perimeter, colors}) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> DEG2RAD = <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.PI / <span class="hljs-number"><span class="hljs-number">180</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> &lt;View&gt; {</span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">Array</span></span></span></span><span class="hljs-function"><span class="hljs-params">.apply(</span></span><span class="hljs-literal"><span class="hljs-function"><span class="hljs-params"><span class="hljs-literal">null</span></span></span></span><span class="hljs-function"><span class="hljs-params">, {length: trees}</span></span></span><span class="hljs-function">).</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">map</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(obj, index</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> theta = DEG2RAD * (index / trees) * <span class="hljs-number"><span class="hljs-number">360</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> randomSeed = <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.random(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> treeDistance = randomSeed * <span class="hljs-number"><span class="hljs-number">5</span></span> + perimeter; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> treeColor = <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.floor(randomSeed * <span class="hljs-number"><span class="hljs-number">3</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> x = <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.cos(theta) * treeDistance; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> z = <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.sin(theta) * treeDistance; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Cylinder</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">key</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{index}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">radiusTop</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{0.3}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">radiusBottom</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{0.3}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">dimHeight</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{10}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">segments</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{10}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{{</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">color:</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">colors</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">treeColor</span></span></span></span><span class="xml"><span class="hljs-tag">], </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">opacity:</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">randomSeed</span></span></span></span><span class="xml"><span class="hljs-tag">, </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">transform:</span></span></span></span><span class="xml"><span class="hljs-tag"> [{</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">scaleY</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">:</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">2</span></span></span></span><span class="xml"><span class="hljs-tag"> + </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">Math.random</span></span></span></span><span class="xml"><span class="hljs-tag">()}, {</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">translate:</span></span></span></span><span class="xml"><span class="hljs-tag"> [</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">x</span></span></span></span><span class="xml"><span class="hljs-tag">, </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">3</span></span></span></span><span class="xml"><span class="hljs-tag">, </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">z</span></span></span></span><span class="xml"><span class="hljs-tag">]},], }} /&gt;</span></span></span><span class="xml"> ); })} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">View</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); }</code> </pre> <br><p>  The functional component takes three parameters: </p><br><ul><li>  <code>trees</code> - the number of trees that should happen in the forest; </li><li>  <code>perimeter</code> - a value that allows you to control the range of drawing trees from the user; </li><li>  <code>colors</code> - an array of tree <a href="https://facebook.github.io/react-vr/docs/colors.html">color</a> values. </li></ul><br><p>  Using <code>Array.apply(null, {length: trees})</code> you can create an array of empty values, to which we apply the map function, to draw an array of cylinders of random colors, transparency, and positions within the <a href="https://facebook.github.io/react-vr/docs/view.html">View</a> component. </p><br><p>  You can save the code in the Forest.js file inside the component directory and use it inside index.vr.js: </p><br><pre> <code class="hljs scala"> ... <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-type"><span class="hljs-type">Forest</span></span> from './components/<span class="hljs-type"><span class="hljs-type">Forest</span></span>'; export <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">musical_exp_react_vr_pusher</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( &lt;<span class="hljs-type"><span class="hljs-type">View</span></span>&gt; &lt;<span class="hljs-type"><span class="hljs-type">Pano</span></span> source={asset(<span class="hljs-symbol"><span class="hljs-symbol">'images</span></span>/background.jpg')} /&gt; &lt;<span class="hljs-type"><span class="hljs-type">Forest</span></span> trees={<span class="hljs-number"><span class="hljs-number">100</span></span>} perimeter={<span class="hljs-number"><span class="hljs-number">15</span></span>} colors={['#<span class="hljs-number"><span class="hljs-number">016549</span></span>', '#<span class="hljs-number"><span class="hljs-number">87</span></span>b926', '#b1c96b']} /&gt; &lt;/<span class="hljs-type"><span class="hljs-type">View</span></span>&gt; ); } }; ...</code> </pre> <br><p>  In the browser we will see <a href="">it</a> .  Great, the background is ready, create 3D objects that will create sounds. </p><br><h2 id="sozdayom-3d-formy">  Create 3D Forms </h2><br><p>  You need to create six 3D-forms, when touched, each will play six different sounds.  Also useful is a small animation when the cursor is placed and removed from the object. </p><br><p>  To create the forms we need <a href="https://facebook.github.io/react-vr/docs/vrbutton.html">VrButton</a> , <a href="https://facebook.github.io/react-vr/docs/animated.html">Animated.View</a> , <a href="https://facebook.github.io/react-vr/docs/box.html">Box</a> , <a href="https://facebook.github.io/react-vr/docs/cylinder.html">Cylinder</a> and <a href="https://facebook.github.io/react-vr/docs/sphere.html">Sphere</a> .  But since all the forms will be different, just encapsulate in the component, it will be the same.  Save the following code to the components / SoundShape.js file: </p><br><pre> <code class="hljs scala"> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-type"><span class="hljs-type">React</span></span> from <span class="hljs-symbol"><span class="hljs-symbol">'reac</span></span>t'; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { <span class="hljs-type"><span class="hljs-type">VrButton</span></span>, <span class="hljs-type"><span class="hljs-type">Animated</span></span>, } from <span class="hljs-symbol"><span class="hljs-symbol">'react</span></span>-vr'; export <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SoundShape</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ constructor(props) { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(props); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state = { bounceValue: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">Animated</span></span>.<span class="hljs-type"><span class="hljs-type">Value</span></span>(<span class="hljs-number"><span class="hljs-number">0</span></span>), }; } animateEnter() { <span class="hljs-type"><span class="hljs-type">Animated</span></span>.spring( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.bounceValue, { toValue: <span class="hljs-number"><span class="hljs-number">1</span></span>, friction: <span class="hljs-number"><span class="hljs-number">4</span></span>, } ).start(); } animateExit() { <span class="hljs-type"><span class="hljs-type">Animated</span></span>.timing( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.bounceValue, { toValue: <span class="hljs-number"><span class="hljs-number">0</span></span>, duration: <span class="hljs-number"><span class="hljs-number">50</span></span>, } ).start(); } render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( &lt;<span class="hljs-type"><span class="hljs-type">Animated</span></span>.<span class="hljs-type"><span class="hljs-type">View</span></span> style={{ transform: [ {rotateX: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.bounceValue}, ], }} &gt; &lt;<span class="hljs-type"><span class="hljs-type">VrButton</span></span> onEnter={()=&gt;<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.animateEnter()} onExit={()=&gt;<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.animateExit()} &gt; {<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.children} &lt;/<span class="hljs-type"><span class="hljs-type">VrButton</span></span>&gt; &lt;/<span class="hljs-type"><span class="hljs-type">Animated</span></span>.<span class="hljs-type"><span class="hljs-type">View</span></span>&gt; ); } };</code> </pre> <br><p>  When the cursor hits the button area, <code>Animated.spring</code> changes the value of <code>this.state.bounceValue</code> from 0 to 1 and shows the bouncing effect.  When the cursor leaves the button area, <code>Animated.timing</code> changes the value of <code>this.state.bounceValue</code> from 1 to 0 for 50 milliseconds.  For this to work, we wrap the <code>VrButton</code> into the <code>Animated.View</code> component, which will change the rotateX transformation of the View every time the state changes. </p><br><p>  In index.vr.js, you can add <code>SpotLight</code> (you can select any other type of light source and change its properties) and use the <code>SoundShape</code> component, thereby making a cylinder: </p><br><pre> <code class="hljs scala"> ... <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { <span class="hljs-type"><span class="hljs-type">AppRegistry</span></span>, asset, <span class="hljs-type"><span class="hljs-type">Pano</span></span>, <span class="hljs-type"><span class="hljs-type">SpotLight</span></span>, <span class="hljs-type"><span class="hljs-type">View</span></span>, <span class="hljs-type"><span class="hljs-type">Cylinder</span></span>, } from <span class="hljs-symbol"><span class="hljs-symbol">'react</span></span>-vr'; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-type"><span class="hljs-type">Forest</span></span> from './components/<span class="hljs-type"><span class="hljs-type">Forest</span></span>'; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-type"><span class="hljs-type">SoundShape</span></span> from './components/<span class="hljs-type"><span class="hljs-type">SoundShape</span></span>'; export <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">musical_exp_react_vr_pusher</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( &lt;<span class="hljs-type"><span class="hljs-type">View</span></span>&gt; ... &lt;<span class="hljs-type"><span class="hljs-type">SpotLight</span></span> intensity={<span class="hljs-number"><span class="hljs-number">1</span></span>} style={{transform: [{translate: [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>]}],}} /&gt; &lt;<span class="hljs-type"><span class="hljs-type">SoundShape</span></span>&gt; &lt;<span class="hljs-type"><span class="hljs-type">Cylinder</span></span> radiusTop={<span class="hljs-number"><span class="hljs-number">0.2</span></span>} radiusBottom={<span class="hljs-number"><span class="hljs-number">0.2</span></span>} dimHeight={<span class="hljs-number"><span class="hljs-number">0.3</span></span>} segments={<span class="hljs-number"><span class="hljs-number">8</span></span>} lit={<span class="hljs-literal"><span class="hljs-literal">true</span></span>} style={{ color: '#<span class="hljs-number"><span class="hljs-number">96</span></span>ff00', transform: [{translate: [<span class="hljs-number"><span class="hljs-number">-1.5</span></span>,<span class="hljs-number"><span class="hljs-number">-0.2</span></span>,<span class="hljs-number"><span class="hljs-number">-2</span></span>]}, {rotateX: <span class="hljs-number"><span class="hljs-number">30</span></span>}], }} /&gt; &lt;/<span class="hljs-type"><span class="hljs-type">SoundShape</span></span>&gt; &lt;/<span class="hljs-type"><span class="hljs-type">View</span></span>&gt; ); } }; ...</code> </pre> <br><p>  Of course, you can change the properties of 3D-forms, and even replace them with <a href="https://facebook.github.io/react-vr/docs/model.html">3D-models</a> . </p><br><p>  Now add a pyramid (a cylinder with a zero radius of op radius and four segments): </p><br><pre> <code class="hljs xml"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">SoundShape</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Cylinder</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">radiusTop</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{0}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">radiusBottom</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{0.2}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">dimHeight</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{0.3}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">segments</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{4}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lit</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{true}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{{</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">color:</span></span></span><span class="hljs-tag"> '#</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">96de4e</span></span></span><span class="hljs-tag">', </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">transform:</span></span></span><span class="hljs-tag"> [{</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">translate:</span></span></span><span class="hljs-tag"> [</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">-1</span></span></span><span class="hljs-tag">,</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">-0.5</span></span></span><span class="hljs-tag">,</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">-2</span></span></span><span class="hljs-tag">]}, {</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rotateX:</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">30</span></span></span><span class="hljs-tag">}], }} /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">SoundShape</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Cube: </p><br><pre> <code class="hljs xml"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">SoundShape</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Box</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">dimWidth</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{0.2}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">dimDepth</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{0.2}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">dimHeight</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{0.2}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lit</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{true}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{{</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">color:</span></span></span><span class="hljs-tag"> '#</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">a0da90</span></span></span><span class="hljs-tag">', </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">transform:</span></span></span><span class="hljs-tag"> [{</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">translate:</span></span></span><span class="hljs-tag"> [</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">-0.5</span></span></span><span class="hljs-tag">,</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">-0.5</span></span></span><span class="hljs-tag">,</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">-2</span></span></span><span class="hljs-tag">]}, {</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rotateX:</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">30</span></span></span><span class="hljs-tag">}], }} /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">SoundShape</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Parallelepiped: </p><br><pre> <code class="hljs xml"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">SoundShape</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Box</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">dimWidth</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{0.4}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">dimDepth</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{0.2}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">dimHeight</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{0.2}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lit</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{true}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{{</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">color:</span></span></span><span class="hljs-tag"> '#</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">b7dd60</span></span></span><span class="hljs-tag">', </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">transform:</span></span></span><span class="hljs-tag"> [{</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">translate:</span></span></span><span class="hljs-tag"> [</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">0</span></span></span><span class="hljs-tag">,</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">-0.5</span></span></span><span class="hljs-tag">,</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">-2</span></span></span><span class="hljs-tag">]}, {</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rotateX:</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">30</span></span></span><span class="hljs-tag">}], }} /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">SoundShape</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Sphere: </p><br><pre> <code class="hljs xml"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">SoundShape</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Sphere</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">radius</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{0.15}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">widthSegments</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{20}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">heightSegments</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{12}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lit</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{true}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{{</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">color:</span></span></span><span class="hljs-tag"> '#</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">cee030</span></span></span><span class="hljs-tag">', </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">transform:</span></span></span><span class="hljs-tag"> [{</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">translate:</span></span></span><span class="hljs-tag"> [</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">0.5</span></span></span><span class="hljs-tag">,</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">-0.5</span></span></span><span class="hljs-tag">,</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">-2</span></span></span><span class="hljs-tag">]}, {</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rotateX:</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">30</span></span></span><span class="hljs-tag">}], }} /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">SoundShape</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  And a triangular prism: </p><br><pre> <code class="hljs xml"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">SoundShape</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Cylinder</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">radiusTop</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{0.2}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">radiusBottom</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{0.2}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">dimHeight</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{0.3}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">segments</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{3}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lit</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{true}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{{</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">color:</span></span></span><span class="hljs-tag"> '#</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">e6e200</span></span></span><span class="hljs-tag">', </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">transform:</span></span></span><span class="hljs-tag"> [{</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">translate:</span></span></span><span class="hljs-tag"> [</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span><span class="hljs-tag">,</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">-0.2</span></span></span><span class="hljs-tag">,</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">-2</span></span></span><span class="hljs-tag">]}, {</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rotateX:</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">30</span></span></span><span class="hljs-tag">}], }} /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">SoundShape</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  After import, save the file and update the browser.  It should turn out like this: </p><br><p><img src="https://habrastorage.org/web/9ef/fe8/0e6/9effe80e6b994e9ab55338a308f2f45c.gif" alt="image"></p><br><p>  Now add the sounds! </p><br><h2 id="dobavlyaem-zvuk">  Add sound </h2><br><p>  Among other things, React VR supports wav, mp3 and ogg files.  The full list is <a href="">here</a> . <br>  You can take samples from <a href="https://www.freesound.org/">Freesound</a> or another similar site.  Download what you like and place in the static_assets / sounds directory.  For our project, we take the sounds of six animals, a <a href="https://www.freesound.org/people/funkymuskrat/sounds/217050/">bird</a> , <a href="https://www.freesound.org/people/dobroide/sounds/34162/">another bird</a> , <a href="https://www.freesound.org/people/dobroide/sounds/59367/">another bird</a> , a <a href="https://www.freesound.org/people/NoiseCollector/sounds/4911/">cat</a> , a <a href="https://www.freesound.org/people/NoiseCollector/sounds/4911/">dog</a> and a <a href="https://www.freesound.org/people/Adam_N/sounds/164482/">cricket</a> (the last file had to be saved to reduce the bitrate, otherwise React VR did not lose it). </p><br><p>  React VR provides three sound playback options: </p><br><ul><li>  <a href="">VrSoundEffects</a> </li><li>  The <a href="https://facebook.github.io/react-vr/docs/vrbutton.html">onClickSound</a> event of the <a href="https://facebook.github.io/react-vr/docs/vrbutton.html">VrButton</a> button. </li><li>  <a href="https://facebook.github.io/react-vr/docs/sound.html">Sound</a> component. </li></ul><br><p>  However, 3D / surround sound supports only the <code>Sound</code> component, so the balance of the left and right channels will change when you move the listener around the stage or when you turn your head.  Add it to the <code>SoundShape</code> component, as well as the <code>onClick</code> event in the <code>VrButton</code> : </p><br><pre> <code class="hljs scala"> ... <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { ... <span class="hljs-type"><span class="hljs-type">Sound</span></span>, } from <span class="hljs-symbol"><span class="hljs-symbol">'react</span></span>-vr'; export <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SoundShape</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ ... render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( &lt;<span class="hljs-type"><span class="hljs-type">Animated</span></span>.<span class="hljs-type"><span class="hljs-type">View</span></span> ... &gt; &lt;<span class="hljs-type"><span class="hljs-type">VrButton</span></span> onClick={() =&gt; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.onClick()} ... &gt; ... &lt;/<span class="hljs-type"><span class="hljs-type">VrButton</span></span>&gt; &lt;<span class="hljs-type"><span class="hljs-type">Sound</span></span> playerState={<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.playerState} source={<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.sound} /&gt; &lt;/<span class="hljs-type"><span class="hljs-type">Animated</span></span>.<span class="hljs-type"><span class="hljs-type">View</span></span>&gt; ); } }</code> </pre> <br><p>  To control the playback use <a href="https://facebook.github.io/react-vr/docs/mediaplayerstate.html">MediaPlayerState</a> .  They will be passed as component properties. </p><br><p>  Using the information from index.vr.js, we define an array: </p><br><pre> <code class="hljs scala"> ... <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { ... <span class="hljs-type"><span class="hljs-type">MediaPlayerState</span></span>, } from <span class="hljs-symbol"><span class="hljs-symbol">'react</span></span>-vr'; ... export <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">musical_exp_react_vr_pusher</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ constructor(props) { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(props); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.config = [ {sound: asset(<span class="hljs-symbol"><span class="hljs-symbol">'sounds</span></span>/bird.wav'), playerState: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">MediaPlayerState</span></span>({})}, {sound: asset(<span class="hljs-symbol"><span class="hljs-symbol">'sounds</span></span>/bird2.wav'), playerState: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">MediaPlayerState</span></span>({})}, {sound: asset(<span class="hljs-symbol"><span class="hljs-symbol">'sounds</span></span>/bird3.wav'), playerState: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">MediaPlayerState</span></span>({})}, {sound: asset(<span class="hljs-symbol"><span class="hljs-symbol">'sounds</span></span>/cat.wav'), playerState: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">MediaPlayerState</span></span>({})}, {sound: asset(<span class="hljs-symbol"><span class="hljs-symbol">'sounds</span></span>/cricket.wav'), playerState: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">MediaPlayerState</span></span>({})}, {sound: asset(<span class="hljs-symbol"><span class="hljs-symbol">'sounds</span></span>/dog.wav'), playerState: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">MediaPlayerState</span></span>({})}, ]; } ... } <span class="hljs-type"><span class="hljs-type">And</span></span> a method to play a sound using the <span class="hljs-type"><span class="hljs-type">MediaPlayerState</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">object</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">when</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">the</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">right</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">index</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">is</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">passed</span></span></span></span>: ... export <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">musical_exp_react_vr_pusher</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ ... onShapeClicked(index) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.config[index].playerState.play(); } ... }</code> </pre> <br><p>  It remains only to transfer all this information to the SoundShape component.  Group our 3D forms into an array and use the map function to generate components: </p><br><pre> <code class="hljs scala"> ... export <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">musical_exp_react_vr_pusher</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ ... render() { const shapes = [ &lt;<span class="hljs-type"><span class="hljs-type">Cylinder</span></span> ... /&gt;, &lt;<span class="hljs-type"><span class="hljs-type">Cylinder</span></span> ... /&gt;, &lt;<span class="hljs-type"><span class="hljs-type">Box</span></span> ... /&gt;, &lt;<span class="hljs-type"><span class="hljs-type">Box</span></span> ... /&gt;, &lt;<span class="hljs-type"><span class="hljs-type">Sphere</span></span> ... /&gt;, &lt;<span class="hljs-type"><span class="hljs-type">Cylinder</span></span> ... /&gt; ]; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( &lt;<span class="hljs-type"><span class="hljs-type">View</span></span>&gt; ... {shapes.map((shape, index) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( &lt;<span class="hljs-type"><span class="hljs-type">SoundShape</span></span> onClick={() =&gt; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.onShapeClicked(index)} sound={<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.config[index].sound} playerState={<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.config[index].playerState}&gt; {shape} &lt;/<span class="hljs-type"><span class="hljs-type">SoundShape</span></span>&gt; ); })} &lt;/<span class="hljs-type"><span class="hljs-type">View</span></span>&gt; ); } ... }</code> </pre> <br><p>  Restart the browser and try to click on the objects, you will hear different sounds. <br>  With Pusher, we‚Äôll add real-time multi-user support to the React VR application. </p><br><h2 id="nastraivaem-pusher">  Customize Pusher </h2><br><p>  Create a free account at <a href="https://pusher.com/signup">https://pusher.com/signup</a> .  When you create an application, you will be asked to configure something: </p><br><p><img src="https://habrastorage.org/web/fd5/ccb/186/fd5ccb186b0046bb840879e3f270e701.png" alt="image"></p><br><p>  Enter a name, select React as the front end, and Node.js as the backend.  Sample code to get you started: </p><br><p><img src="https://habrastorage.org/web/b88/76f/0f2/b8876f0f2fc642e293f156d360b81399.png" alt="image"></p><br><p>  Do not worry, you are not forced to adhere to a specific set of technologies, you can always change them.  With Pusher, you can use any combination of libraries. </p><br><p>  Copy the cluster ID (comes after the name of the application, in this example, mt1), application ID, key and secret information, we will need it.  All this can also be found in the <em>App Keys</em> tab. </p><br><h2 id="publikuem-sobytie">  We publish the event </h2><br><p>  React VR works as a <a href="https://www.w3schools.com/HTML/html5_webworkers.asp">Web Worker</a> (more on the React VR architecture in the <a href="https://www.youtube.com/watch%3Fv%3DKHx-32m50c4">video</a> ), so we need to include the Pusher-worker script in index.vr.js: </p><br><pre> <code class="hljs javascript"> ... importScripts(<span class="hljs-string"><span class="hljs-string">'https://js.pusher.com/4.1/pusher.worker.min.js'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">musical_exp_react_vr_pusher</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ ... }</code> </pre> <br><p>  There are two conditions that must be met.  First, you need to be able to pass an identifier via a URL (like <a href="http://localhost:8081/vr/%3Fchannel%3D1234">http: // localhost: 8081 / vr /? Channel = 1234</a> ) so that users can choose which channels to go in and share with friends. </p><br><p>  For this we need to read the URL.  Fortunately, React VR comes with a <a href="https://facebook.github.io/react-vr/docs/native-modules.html">native</a> <a href="">Location</a> <a href="https://facebook.github.io/react-vr/docs/native-modules.html">module</a> , which makes the properties of the window.location object available for the React context. </p><br><p>  Now you need to contact the server that publishes the Pusher event so that all connected clients can play it too.  But we do not need the client who generated the event to receive it either, because in this case the sound will be played twice.  And what's the point of waiting for an event to play a sound, if it can be done immediately, as soon as the user clicks on the object. </p><br><p>  Each Pusher connection is assigned a unique socket ID.  To prevent recipients from accepting events in Pusher, you need to transfer the client's <code>socket_id</code> server, which you need to exclude when the event fires (more on this <a href="https://pusher.com/docs/server_api_guide/server_excluding_recipients">here</a> ). </p><br><p>  Thus, by slightly adapting the <code>getParameterByName</code> function to <a href="http://stackoverflow.com/a/901144/3593852">read URL parameters</a> and retaining <code>socketId</code> when successfully connected to Pusher, we can meet both requirements: </p><br><pre> <code class="hljs kotlin"> ... <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { ... NativeModules, } from <span class="hljs-string"><span class="hljs-string">'react-vr'</span></span>; ... <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Location = NativeModules.Location; export <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">musical_exp_react_vr_pusher</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ componentWillMount() { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> pusher = new Pusher(<span class="hljs-string"><span class="hljs-string">'&lt;INSERT_PUSHER_APP_KEY&gt;'</span></span>, { cluster: <span class="hljs-string"><span class="hljs-string">'&lt;INSERT_PUSHER_APP_CLUSTER&gt;'</span></span>, encrypted: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, }); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.socketId = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; pusher.connection.bind(<span class="hljs-string"><span class="hljs-string">'connected'</span></span>, () =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.socketId = pusher.connection.socket_id; }); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.channelName = <span class="hljs-string"><span class="hljs-string">'channel-'</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getChannelId(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> channel = pusher.subscribe(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.channelName); channel.bind(<span class="hljs-string"><span class="hljs-string">'sound_played'</span></span>, (<span class="hljs-keyword"><span class="hljs-keyword">data</span></span>) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.config[<span class="hljs-keyword"><span class="hljs-keyword">data</span></span>.index].playerState.play(); }); } getChannelId() { let channel = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getParameterByName(<span class="hljs-string"><span class="hljs-string">'channel'</span></span>, Location.href); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!channel) { channel = <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> channel; } getParameterByName(name, url) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> regex = new RegExp(<span class="hljs-string"><span class="hljs-string">"[?&amp;]"</span></span> + name + <span class="hljs-string"><span class="hljs-string">"(=([^&amp;#]*)|&amp;|#|$)"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> results = regex.exec(url); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!results) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!results[<span class="hljs-number"><span class="hljs-number">2</span></span>]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">''</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> decodeURIComponent(results[<span class="hljs-number"><span class="hljs-number">2</span></span>].replace(/\+/g, <span class="hljs-string"><span class="hljs-string">" "</span></span>)); } ... }</code> </pre> <br><p>  If there are no channel parameters in the URL, then ID 0 is assigned by default. This ID will be added to the Pusher channel to make it unique. </p><br><p>  Finally, we need to call endpoint on the server side, which will publish the event, passing the client's socket ID and channel in which the events will be posted: </p><br><pre> <code class="hljs axapta"> ... export <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">musical_exp_react_vr_pusher</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ ... onShapeClicked(<span class="hljs-keyword"><span class="hljs-keyword">index</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.config[<span class="hljs-keyword"><span class="hljs-keyword">index</span></span>].playerState.play(); fetch(<span class="hljs-string"><span class="hljs-string">'http://&lt;INSERT_YOUR_SERVER_URL&gt;/pusher/trigger'</span></span>, { method: <span class="hljs-string"><span class="hljs-string">'POST'</span></span>, headers: { <span class="hljs-string"><span class="hljs-string">'Accept'</span></span>: <span class="hljs-string"><span class="hljs-string">'application/json'</span></span>, <span class="hljs-string"><span class="hljs-string">'Content-Type'</span></span>: <span class="hljs-string"><span class="hljs-string">'application/json'</span></span>, }, body: JSON.stringify({ <span class="hljs-keyword"><span class="hljs-keyword">index</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">index</span></span>, socketId: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.socketId, channelName: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.channelName, }) }); } ... }</code> </pre> <br><p>  This is all the code for the React part.  Now let's deal with the server. </p><br><h2 id="sozdayom-nodejs-bekend">  Create a Node.js backend </h2><br><p>  Using the command, we generate the package.json file: </p><br><p> <code>npm init -y</code> </p> <br><p>  Add dependencies: </p><br><pre> <code class="hljs sql"> npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> <span class="hljs-comment"><span class="hljs-comment">--save body-parser express pusher</span></span></code> </pre> <br><p>  And save this code to a file: </p><br><pre> <code class="hljs pgsql"> const express = require(<span class="hljs-string"><span class="hljs-string">'express'</span></span>); const bodyParser = require(<span class="hljs-string"><span class="hljs-string">'body-parser'</span></span>); const Pusher = require(<span class="hljs-string"><span class="hljs-string">'pusher'</span></span>); const app = express(); app.use(bodyParser.json()); app.use(bodyParser.urlencoded({ extended: <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> })); <span class="hljs-comment"><span class="hljs-comment">/*   ,     React VR    .     ,   middleware   */</span></span> app.use((req, res, next) =&gt; { res.<span class="hljs-keyword"><span class="hljs-keyword">header</span></span>("Access-Control-Allow-Origin", "*") res.<span class="hljs-keyword"><span class="hljs-keyword">header</span></span>("Access-Control-Allow-Headers", "Origin, X-Requested-With, Content-Type, Accept") next(); }); const pusher = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Pusher({ appId: <span class="hljs-string"><span class="hljs-string">'&lt;INSERT_PUSHER_APP_ID&gt;'</span></span>, key: <span class="hljs-string"><span class="hljs-string">'&lt;INSERT_PUSHER_APP_KEY&gt;'</span></span>, secret: <span class="hljs-string"><span class="hljs-string">'&lt;INSERT_PUSHER_APP_SECRET&gt;'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">cluster</span></span>: <span class="hljs-string"><span class="hljs-string">'&lt;INSERT_PUSHER_APP_CLUSTER&gt;'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">encrypted</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, }); app.post(<span class="hljs-string"><span class="hljs-string">'/pusher/trigger'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(req, res) { pusher.<span class="hljs-keyword"><span class="hljs-keyword">trigger</span></span>(req.body.channelName, <span class="hljs-string"><span class="hljs-string">'sound_played'</span></span>, { <span class="hljs-keyword"><span class="hljs-keyword">index</span></span>: req.body.<span class="hljs-keyword"><span class="hljs-keyword">index</span></span> }, req.body.socketId ); res.send(<span class="hljs-string"><span class="hljs-string">'ok'</span></span>); }); const port = process.env.PORT || <span class="hljs-number"><span class="hljs-number">5000</span></span>; app.<span class="hljs-keyword"><span class="hljs-keyword">listen</span></span>(port, () =&gt; console.log(`Running <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> port ${port}`));</code> </pre> <br><p>  As you can see, we set up an Express server, a Pusher object, and a route / pusher / trigger, which simply triggers an event with a sound index for playback and a socketID to exclude the receiver of the event. </p><br><p>  All is ready.  Let's test. </p><br><h2 id="testiruem">  We are testing </h2><br><p>  Perform a Node.js backend with the command: </p><br><p> <code>node server.js</code> </p> <br><p>  Update the server URL in index.vr.js (using your IP instead of localhost) and in two browser windows we will open an address like <a href="http://localhost:8081/vr/%3Fchannel%3D1234">http: // localhost: 8081 / vr /? Channel = 1234</a> .  When you click on a 3D form, you will hear a double-lost sound (this is much more fun to do with friends on different computers): </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/c1lf8FearWQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h2 id="zaklyuchenie">  Conclusion </h2><br><p>  React VR is an excellent library that makes it easy to create VR projects, especially if you already know React / React Native.  If you add to this Pusher, you get a powerful complex web application development of a new generation. </p><br><p>  You can build the production release of this project for deployment on any web server: <a href="https://facebook.github.io/react-vr/docs/publishing.html">https://facebook.github.io/react-vr/docs/publishing.html</a> . </p><br><p>  You can also change colors, shapes, sounds, add more features from the original <a href="https://github.com/googlecreativelab/webvr-musicalforest">Musical Forest</a> . </p><br><p>  You can download the project code from the <a href="https://github.com/eh3rrera/reactvr_musical">GitHub</a> repository. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/331816/">https://habr.com/ru/post/331816/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../331800/index.html">Interesting Factorio Study: Plant Simulator</a></li>
<li><a href="../331802/index.html">About Gaudi, a nineteenth-century developer who achieved all that a developer can accomplish</a></li>
<li><a href="../331806/index.html">"Project Ironman." How to prepare for the "Iron Man" for 500 hours, using the skills of PM</a></li>
<li><a href="../331812/index.html">How to turn the passion of programming in the work</a></li>
<li><a href="../331814/index.html">Single or double precision?</a></li>
<li><a href="../331818/index.html">And about 3.3 thousand new ways to read Habrahabr and Hiktimes</a></li>
<li><a href="../331820/index.html">Another view on personnel management in retail: the experience of ZOZO RCAM</a></li>
<li><a href="../331822/index.html">Easy performance test of AWS, Google Cloud and Microsoft Azure cloud platforms</a></li>
<li><a href="../331824/index.html">Four questions for choosing a cloud authentication solution</a></li>
<li><a href="../331826/index.html">How HFT works: 3 simple explanations</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>