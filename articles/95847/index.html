<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Cloud Accounting</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The words "cloud", "cloud computing", "cloud" are used for anything. New buzzword, buzzword. We see "cloud antivirus", "cloud blade server." Even emin...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Cloud Accounting</h1><div class="post__text post__text-html js-mediator-article">  The words "cloud", "cloud computing", "cloud" are used for anything.  New buzzword, buzzword.  We see "cloud antivirus", "cloud blade server."  Even eminent vendors of network equipment do not hesitate to expose switches with the label ‚Äúfor cloud computing‚Äù.  This causes instinctual hostility, roughly, as ‚Äúorganic‚Äù food. <br><br>  Any techie who tries to deal with the technologies underlying the "cloud", after a few hours of dealing with the flow of advertising enthusiasm, will discover that these clouds are the same VDSs, side view.  He will be right.  Clouds, as they are done now, are ordinary virtual machines. <br><br>  However, clouds are not only marketing and renamed VDS.  The word ‚Äúcloud‚Äù (or, more precisely, the phrase ‚Äúcloud computing‚Äù) has its own technical truth.  It is not as pathetic and delightfully innovative as marketers say, but it does exist.  It was invented many decades ago, but only now the infrastructure (first of all, the Internet and x86 virtualization technologies) has grown to a level that allows it to be implemented on a massive scale. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So, first about the cause, which generally spawned the need for clouds: <br><br>  Here is what the provided service looks like for a regular VDS (any resource can be in the place of this graphic: processor, memory, disk): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a49/ab9/4f7/a49ab94f7fc0e9332945beabfb5e9802.png"><br>  Please note: this is a weekly schedule.  Existing technologies of a temporary increase in the resource consumption limit (burst, grace period) are not able to solve this problem at such long intervals.  Those.  a machine receives less resources when it needs them most. <br><br>  The second problem - look at the huge intervals (blue), when resources, in fact, had to be paid, but could not be used.  A virtual machine at night just does not need as many resources.  She is idle.  And despite this - the owner pays to the full. <br><br>  There is a problem: a person is forced to order more resources than they need on average in order to experience peaks without problems.  The rest of the time the resources are idle.  The provider sees that the server is not loaded, begins to sell more resources than it is (this is called an "oversell").  At some point, for example, due to the peak load on several clients, the provider violates its obligations.  He promised 70 people at 1GHz - but he only has 40 (2.5 * 16 cores).  Not good. <br><br>  It is unprofitable to sell the lane honestly (without an overcell) (and prices are non-market).  Oversell - reduce the quality of service, violate the terms of the contract. <br><br>  This problem is not related to VDS or virtualization, it‚Äôs a common question: how to honestly sell idle resources? <br><br>  The answer to this problem was the idea of ‚Äã‚Äã"cloud computing".  The words are fashionable, but their basis goes back to the times of large mainframes, when machine time was sold. <br><br>  Cloud computing does the same thing - instead of limits and quotas, which are paid regardless of real consumption, users are given the opportunity to use resources without restriction, with payment of real consumption (and only that which was actually used).  This is the essence of the "cloud". <br><br><a name="habracut"></a><br>  Instead of selling ‚Äú500 MHz 500 MB of memory of a 3 GB disk‚Äù, the user (more precisely, his virtual machine) is given everything she needs.  As much as needs. <br><br>  Do you have a peak in resource consumption before March 8, and then the low season?  Or you just can not predict when you will have these peaks?  Instead of seeking a compromise between lags and money to the wind, a different payment model is proposed: what is consumed is paid. <br><br><h1>  Resource accounting </h1><br>  Machine time is taken into account (it can be counted in ticks, but ideologically it‚Äôs more appropriate to do it in the old style: count seconds of machine time), of course, if you have threshed 3 cores with 50% load, this is one and a half seconds of machine time per second.  If you have a download of 3%, then in a minute you will spend only 2s of computer time. <br><br>  Memory is allocated "on demand" - and is limited only by the capabilities of the hoster and your greed.  It is also paid on a time-based basis - a megabyte of memory costs so much per second.  (in fact, on the old VDS it was, you paid ‚Äúmegabytes per month‚Äù, but they were idle most of the time). <br><br>  Disk space is also allocated on demand - pay per megabyte per second.  If you needed a place for a temporary dump on a terabyte, you do not need to pay a terabyte for a whole month - just an hour and a half is enough (the main thing is not to forget to erase the excess). <br><br><h1>  Disk space </h1><br>  Disk space is a complex resource: it is not only ‚Äústorage‚Äù, but also ‚Äúaccess‚Äù.  Payment is taken both for the space consumed (megabyte-seconds), for iops (pieces), and for the amount of written-read.  Each component costs money.  Since money is taken three times for one resource, the price is, in fact, divided into three. <br><br>  And here the interesting begins: the person who put the files, but does not touch them, pays less than the one who actively uses them to give to the client.  And the use can be different - I read it ten times a megabyte "and" read ten times a kilobyte "- there is a difference. interspersed with the recording ... <br><br>  The pay-as-you-go model is the most honest one, both for the consumer and for the service provider: the consumer only pays for what he consumes, but the supplier no longer feels irritated by fatty customers who survive all resources.  Consumed resource - sold resource.  Moreover, the reverse principle also applies: an unused resource is not paid.  If the hoster has failed to provide all the processor "according to need" (a congestion has arisen), then it is trivial, without trial and swearing, without long correspondence, automatically losing money, because it sold less than they wanted to buy.  Clients, although they feel unpleasant because of the congestion, will receive at least satisfaction - they will pay less for this time ... This congestion problem has an even more beautiful, cloudy solution, but about it next time. <br><br><h2>  RAM </h2><br>  For example, a graph of memory usage.  Please note - orange areas are areas that will not just ‚Äúslow down‚Äù, but areas where oom_killer will work.  With all that it implies.  If the payment was on consumption, then these peaks would cost not so much, but would allow to solve the "peak" situation without any problems. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/929/e5c/012/929e5c0125d143bc29b4fded6e8836be.png"><br><br>  And look again, again huge idle resources that absolutely do not want to pay.  After all, this memory is not used?  Not.  Why then pay for it? <br><br>  Clouds allow you to take memory when you need it.  And give back when the memory has ceased to be necessary.  And unlike other resources (memory / disk performance), the lack of which only leads to some slowdown, memory is a vital resource.  They didn‚Äôt give any memory - someone saw the happiness page from nginx ‚ÄúBad gateway‚Äù or simply didn‚Äôt see anything, because the connection was closed ... <br><br><h2>  Network </h2><br>  By the way, this principle applies to the network.  We are all accustomed to anlim at home (unlimited access at a fixed maximum speed).  But work is not home.  And it‚Äôs a pity to pay for the tight bandwidth of 30MB, for 100MB it‚Äôs expensive (see the first chart).  And, perhaps, there are further single peaks under 500MB, but rarely?  How to be in this situation?  Cheap traffic is cheaper and provides better service quality than a strip (anlim) squeezed into a narrow saving vice with the same actual amount of traffic per month.  Most people are used to the fact that ‚Äúpaid traffic is expensive‚Äù (thanks to opsox).  And if not?  And if the gigabyte of traffic will cost 80 kopecks?  (is it three orders of magnitude cheaper?) <br><br>  Why would you pay hundreds (thousands?) Of rubles for traffic if your virtual machine eats less than a hundred rubles? <br><br>  By the way, the same applies to the local network.  Yes, there gigabytes of traffic will cost a penny.  But he is?  It consumes resources, fast switches are installed for it ... So, it must be paid for. <br><br><h2>  Fake clouds </h2><br>  Sometimes, for ‚Äúnormal VDS‚Äù it is possible for the user to set the limits on resource consumption himself.  Like, not enough 500 MHz, put 600, here's a smooth slider for you, set limits yourself.  However, this is not a solution.  Well, yes, instead of 500 we put 600 - and what do we get?  The same VDS, with the same (or even large) areas of downtime for which we pay - but which we do not receive.  We cannot know exactly how many resources are needed for a server that serves clients (the number of which we cannot predict).  Thus, the payment "on the fact of consumption" is more fair. <br><br>  You can call this analogy: there are cars that have a carburetor.  And handle choke.  Which need to regulate the flow of fuel.  Perelil?  Not enough?  Bad rides.  And there are cars with injection engines, which themselves take as much gasoline as they need. <br><br>  That is the difference between the cloud and VDS with a pedal drive.  You do not need as much gasoline - pour and pour into the engine (at your expense!).  You crawl up the hill and you would add - but do not give.  They give it more precisely, but with hands, hands ... Looking up from the analogy: in the car, at least, you are sitting at the wheel.  And in the VDS - you monitor the consumption of resources around the clock? <br><br><h2>  Enterprise and hosters </h2><br>  It may seem that everything written concerns hosters.  This is not true.  The difference between the position of the hoster and the administrator of its own fleet of enterprise servers is that the provider operates with money and the administrator with available resources.  All considerations relating to the general use of resources apply to servers in the "private" cloud.  Instead of reserving memory by the square-socket method, using a common pool gives a much higher density of virtual machines, solves the problem ‚Äúoh, sql has fallen, I have set the memory limit incorrectly‚Äù. <br><br><h2>  Perfect cloud </h2><br>  I'll try to write out what resources should be in an ideal cloud: <br><ul><li>  CPU resources on request.  Perhaps, with the dynamic connection of additional cores, automatic migration of the virtual machine to a freer / faster server, if the current server resources are not enough.  Payment of processor time for ticks (or seconds of busy processor). </li><li>  The unlimited amount of memory that is paid upon consumption-release (accounting in kilobyte-seconds or multiple units). </li><li>  Disk space taken into account according to the same principles: payment in gigabyte hours.  I put a terabyte archive for two hours - I paid 2,000 gigabyte hours.  (most importantly, do not forget to erase too much) Put 2GB per day - paid 48 gigabyte hours. </li><li>  Disk operations - by the piece, disk traffic - by gigabyte </li><li>  The network is not limited, the speed in gigabits, and then in the top ten.  Payment by traffic. </li><li>  Full legal right to turn off the virtual machine and pay only for the ‚Äúdead weight‚Äù content of its disks </li><li>  Ability to export / import your virtual machines </li><li>  The ability to have multiple virtual machines on the same account </li><li>  Graphs of resource consumption in real time or close to it </li></ul></div><p>Source: <a href="https://habr.com/ru/post/95847/">https://habr.com/ru/post/95847/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../95839/index.html">Lightroom3 is available for download! (Release)</a></li>
<li><a href="../95841/index.html">HP promo - problem with gifts</a></li>
<li><a href="../95842/index.html">Helsinki from motherboards</a></li>
<li><a href="../95844/index.html">There is a question for Google experts</a></li>
<li><a href="../95845/index.html">Smart layout via ComposeKey</a></li>
<li><a href="../95848/index.html">Original design</a></li>
<li><a href="../95849/index.html">Deus Ex 3 will be released in early 2011</a></li>
<li><a href="../95850/index.html">A4Tech X-760H - are we rich to buy cheap?</a></li>
<li><a href="../95851/index.html">"The Lord of the Rings Online" will be free</a></li>
<li><a href="../95852/index.html">N900, new firmware PR1.2 - failure or success?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>