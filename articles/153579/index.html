<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Notification by mail from 1C</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="What for? 
 I decided to write this article, because I myself did not find information on this issue in my time. 
 I had to look for a solution myself...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Notification by mail from 1C</h1><div class="post__text post__text-html js-mediator-article"><h5>  What for? </h5><br>  I decided to write this article, because I myself did not find information on this issue in my time. <br>  I had to look for a solution myself.  Just in case, publish it on Habr√© - suddenly someone will come in handy. <br><br>  I work as a 1C programmer in large-scale production.  Due to its peculiarities, employers often set tasks for the organization of business processes with various coordination systems. <br>  And often one of the key requirements in such technical tasks is the possibility of notifying a person about the creation of some kind of action in the system or simply that some resolution is required of him.  There are quite a few such cases: reconciling a new order, a new nomenclature, sometimes, the security service wants to know which users and with what rights have been added to the system, or some of its own ITIL system is organized, and the boss wants to notify his workers about the new tasks.  And so on. <br><a name="habracut"></a><br>  Most often it is necessary to notify superiors.  But they often do not sit in one place, they strongly do not want to always keep open 1C and ask to notify them in other ways. <br><br>  And one of the easiest solutions for such tasks, as I see it, is to create email notifications, that is, sending alerts to the addressee‚Äôs mailbox, because everyone uses mail services, plus almost always the user has collector programs that notify him of new letter.  Moreover, sending a message to the mail is quite an easy task for 1C. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="1c hljs"><span class="hljs-type"><span class="hljs-type"></span></span> = <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <span class="hljs-type"><span class="hljs-type"></span></span>;  = <span class="hljs-keyword"><span class="hljs-keyword"></span></span> <span class="hljs-type"><span class="hljs-type"></span></span>; .SMTP = <span class="hljs-string"><span class="hljs-string">"dmz-server17"</span></span>; <span class="hljs-comment"><span class="hljs-comment">//   SMTP .SMTP = 25; //    =  ();  .();  ("    ,    !", .); ; ; . = ¬´¬ª; ..(¬´¬ª); ..(¬´¬ª);//   .        . = ¬´¬ª; .();</span></span></code> </pre> <br><br>  This code can be placed both before writing the document or in the ‚Äúhandler‚Äù of the button. <br><br><h5>  Managed Forms and Web Client </h5><br>  All this seems to work well, and the ‚Äúletters of happiness‚Äù come to the right people, but even here there is one snag.  If these are not only notification letters, but some kind of reciprocal action is implied (or more details need to be reflected), the user should still go to the 1C program, open the list of documents of the desired type and find the necessary document.  Of course, we will facilitate his work and in the letter we can specify the date and number of the letter, but still it comes down to the launch by the 1C user, and we are trying to avoid it! <br><br>  This is where 1C 8.2 comes to the rescue with their managed forms and the web client.  Without going into details, the essence of the process is as follows: the web server rises, your configuration is published there - and now you can work in 1C through almost any browser. <br>  And if earlier the document was identified by two parameters: ‚ÄúDate‚Äù and ‚ÄúNumber‚Äù - now the so-called ‚Äúnavigation link‚Äù has become available to us.  Its charm is that after the user navigates through it, 1C immediately opens the document to which it refers, and frees the user from his search. <br><br>  True, there is one BUT here: the navigation links work ONLY with managed forms.  Yes, rewriting the basic functionality of typical configurations (where 1C specialists themselves did not do this) into controlled forms is long enough, however, if we are talking about some kind of ‚Äúintra-organizational‚Äù coordination and notification modules, then this will not be difficult. <br><br>  Hence the following solution: it is necessary to include this link in the notification letter, so that the user can immediately click on the link, go to the desired document (on the web client) and do the necessary things.  This is solved only in a couple of lines: <br><br><pre> <code class="1c hljs">‚Ä¶  = <span class="hljs-string"><span class="hljs-string">"http://__/#"</span></span>+ <span class="hljs-built_in"><span class="hljs-built_in"></span></span>(.);  = <span class="hljs-built_in"><span class="hljs-built_in"></span></span>(,<span class="hljs-string"><span class="hljs-string">""""</span></span>,<span class="hljs-string"><span class="hljs-string">"%22"</span></span>); <span class="hljs-type"><span class="hljs-type"></span></span>..(<span class="hljs-string"><span class="hljs-string">"&lt;a href ="</span></span> + <span class="hljs-string"><span class="hljs-string">""""</span></span> +  + <span class="hljs-string"><span class="hljs-string">""""</span></span> + <span class="hljs-string"><span class="hljs-string">"&gt;  ‚Ññ "</span></span>+<span class="hljs-built_in"><span class="hljs-built_in"></span></span>(.) + <span class="hljs-string"><span class="hljs-string">"  "</span></span> + <span class="hljs-built_in"><span class="hljs-built_in"></span></span>(.<span class="hljs-built_in"><span class="hljs-built_in"></span></span>) + <span class="hljs-string"><span class="hljs-string">"&lt;/a&gt;"</span></span> ,<span class="hljs-class"><span class="hljs-class"></span></span>.HTML); ‚Ä¶</code> </pre><br><br>  In the code, the parameter "Source" is passed to the procedure, which is the "Object" (link), which, in turn, caused this procedure. <br><br>  When working with navigation links, you should consider one nuance.  This link is created and assigned to the object only at the moment of its recording in the database.  That is, if this is a new document, then it will NOT have this navigation link before recording.  This nuance should always be remembered, and there are two solutions to this problem: either to establish a link to the document itself, or, what I like more, to send letters in the ‚ÄúPostWrite On Server‚Äù handler. <br><br><h5>  1C 8.3.2 </h5><br>  More recently, 1C announced the release of version 8.3.2 of the platform, where one of the ‚Äúfeatures‚Äù is the ability to ‚Äúcompile‚Äù configurations into applications for installation under Android and iOS.  It seems to me that this opportunity is quite interesting, although it is still ‚Äúraw‚Äù.  But if everything goes well, in the near future it will be possible to send such notifications not only to the post office, but directly to the phone to the superiors - so that they can coordinate various processes, wherever they are, without distracting from their important affairs. </div><p>Source: <a href="https://habr.com/ru/post/153579/">https://habr.com/ru/post/153579/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../153565/index.html">Report from the past Facebook Developers World Hack Day Moscow</a></li>
<li><a href="../153569/index.html">Using dreams to test a project</a></li>
<li><a href="../153571/index.html">Evil USB HID-emulator or just Peensy</a></li>
<li><a href="../153573/index.html">Kyocera - applications and tools</a></li>
<li><a href="../153575/index.html">IT Knowledge Base in your company</a></li>
<li><a href="../153581/index.html">Security, instructions and integrators</a></li>
<li><a href="../153583/index.html">Facebook has taken over a billion active users</a></li>
<li><a href="../153585/index.html">IT Compote # 25 Programming and Technology Podcast</a></li>
<li><a href="../153591/index.html">Courses for administrators! For what?</a></li>
<li><a href="../153595/index.html">The shortest recording of asynchronous calls in tornado or patch bytecode in the decorator</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>