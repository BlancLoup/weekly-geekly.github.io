<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>FTBB programmer for minimalist Arduino</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Not so long ago, I told you how cheaply to build an Arduino-compatible board. 
 The only thing that was missing for a complete set was a programmer. M...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>FTBB programmer for minimalist Arduino</h1><div class="post__text post__text-html js-mediator-article"> Not so long ago, I <a href="http://habrahabr.ru/blogs/DIY/131589/">told you</a> how cheaply to build an Arduino-compatible board. <br>  The only thing that was missing for a complete set was a programmer.  Money for a full-fledged programmer is usually pitiful, especially if it is needed from time to time mainly for flashing a bootloader into a new chip. <br>  Most programmer circuits do not solve the problems of chicken and eggs - the programmer also needs to be stitched with something.  I also flashed my minimal Arduino with another Arduino board on hand.  But not everyone has it, right?  So you need a programmer that does not require firmware. <br>  I did not <a href="https://geektimes.ru/users/dihalt/" class="user_link">reinvent the wheel</a> and made a programmer based on a circuit <a href="http://easyelectronics.ru/skorostnoj-avr-usb-programmator-na-ft232rl-bez-vspomogatelnogo-kontrollera.html">published</a> by <a href="https://geektimes.ru/users/dihalt/" class="user_link">DIHALT</a> .  In fact, they can flash any AVR microcontroller or use an USB-UART adapter.  In general, it is useful. <br><img src="https://habrastorage.org/storage1/b00dbeaa/d01a0f2d/43e467d3/c05dd552.jpg"><br><a name="habracut"></a><br>  Unfortunately, the <a href="https://geektimes.ru/users/dihalt/" class="user_link">DIHALT</a> circuit contains logic and buffer chips, which were not at hand in the nearest store.  Therefore, I decided to make the most simple option: <br>  - Instead of switching modes on the buffer, logic and buttons, I decided to use just a jumper <br>  - Replaced the USB-B connector on the USB Mini-B - such shoelaces are usually at hand, and the connector itself is significantly smaller. <br>  -Have all the SMD trifle to the same size 0805 - resistors and capacitors in this size are cheaper, more affordable and do not have to look for different sizes for one board. <br>  - Changed the assignment of pins so that they went in the same order as on the Arduino in the ISP programmer mode. <br><br>  <b>We will need:</b> <br>  1 FT232RL IC - from 132r <br>  2 SMD capacitors per 100 nF - 2p each <br>  1 mini-B USB connector - from 10p <br>  1 piece of foiled PCB / getinaks 40x20 mm approximately. <br>  1 sheet of photographic paper 120-180 g / m2 (which is on hand and crawls into the printer without getting stuck) <br><br>  <b>Optional</b> : <br>  1 PBS-6 socket <br>  1 PBS-2 socket <br>  3 SMD LEDs <br>  3 SMD 510 ohm resistors <br>  1 jumper 2.54 mm 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      We take photographic paper for an inkjet printer, the best is a glossy 120-180 g / m2.  But I only had matte Lomond 180 g / m2 within availability. <br>  We print the template on paper at maximum quality without saving toner at 100% scale. <br>  Then we do everything as <a href="http://easyelectronics.ru/izgotovlenie-pechatnoj-platy-ot-i-do-video-urok.html">in the video tutorial at DI HALT</a> <br>  I did it the first time (except for the fact that at first I forgot to mirror the template).  Here is the etched board: <br> <a href="http://fotki.yandex.ru/users/masterraven/view/355578/"><img src="https://habrastorage.org/getpro/geektimes/post_images/e24/aa8/8b0/e24aa88b0b46ccb71be0c77b5c8d1de9.jpg" width="500" height="326" title="FTBB-PCB" alt="FTBB-PCB"></a> <br>  " <a href="http://fotki.yandex.ru/users/masterraven/view/355578/">FTBB-PCB</a> " <br>  Tinned board with drilled holes (1mm drill, hand drill) <a href="http://fotki.yandex.ru/users/masterraven/view/355579/"><img src="https://habrastorage.org/getpro/geektimes/post_images/4b8/5f2/648/4b85f26480ff16b9408a34d4bcd46d17.jpg" width="500" height="327" title="FTBB-PCB" alt="FTBB-PCB"></a> <br>  " <a href="http://fotki.yandex.ru/users/masterraven/view/355579/">FTBB-PCB</a> " <br>  Then, using the SMD soldering lesson, solder the FT232RL, USB connector, and a pair of capacitors. <br>  In principle, at this moment you can connect to a computer and make sure that the device works and is detected in Windows. <br> <a href="http://fotki.yandex.ru/users/masterraven/view/355580/"><img src="https://habrastorage.org/getpro/geektimes/post_images/073/afe/579/073afe579a09e0d802a0f223a677c0a6.jpg" width="500" height="308" title="FTBB" alt="FTBB"></a> <br>  " <a href="http://fotki.yandex.ru/users/masterraven/view/355580/">FTBB</a> " <br>  If you bought the optional components, then solder both sockets and resistors with LEDs on their backs on their places (if not, solder the wires directly to the pads) <br> <a href="http://fotki.yandex.ru/users/masterraven/view/356155/"><img src="https://habrastorage.org/getpro/geektimes/post_images/c14/4c1/bd6/c144c1bd6a800f3c136bd8b27006e25f.jpg" width="500" height="226" title="FTBB" alt="FTBB"></a> <br>  " <a href="http://fotki.yandex.ru/users/masterraven/view/356155/">FTBB</a> " <br>  Do not pay attention to the posting, when I opened the jumper, I forgot the second hole in the diagram and therefore I had to solder the wire, what to do.  In the attached file already corrected version. <br>  Everything, then we do the cable with the standard for ArduinoISP contact scheme - Reset, MOSI, MISO, SCK (on the Arduino board these are pins D10, D11, D12, D13).  VTG and GND are respectively connected to the "+" and "-" pins of the programmer. <br><img src="https://habrastorage.org/getpro/geektimes/post_images/3df/ed6/ae0/3dfed6ae0573cf561b38a931c8825fa2.png" alt="image"><br> <a href="http://fotki.yandex.ru/users/masterraven/view/356156/"><img src="https://habrastorage.org/getpro/geektimes/post_images/cd0/b76/7fd/cd0b767fd7ccb114dc0f456282ec74c5.jpg" width="500" height="213" title="FTBB" alt="FTBB"></a> <br>  " <a href="http://fotki.yandex.ru/users/masterraven/view/356156/">FTBB</a> " <br><br>  flashing a bootloader (bootloader) using avrdude modified to support FTBB. <br> <code>:: writing Arduino bootloader <br> avrdude.exe -p m168p -c ftbb -P ft0 -U flash:w:ATmegaBOOT_168_diecimila.hex:a <br> :: writing fuses <br> avrdude.exe -p m168p -c ftbb -P ft0 -Uefuse:w:0x00:m -Uhfuse:w:0xdd:m -Ulfuse:w:0xff:m -Ulock:w:0x0F:m</code> <br> <br>  I used FTBB for flashing the Atmega168P bootloader, soldered onto a breadboard. <br> <a href="http://fotki.yandex.ru/users/masterraven/view/356157/"><img src="https://habrastorage.org/getpro/geektimes/post_images/aa5/427/be0/aa5427be053e3addce92f33d3729a723.jpg" width="500" height="399" title="FTBB-bootloading" alt="FTBB-bootloading"></a> <br>  " <a href="http://fotki.yandex.ru/users/masterraven/view/356157/">FTBB-Bootloading</a> " <br>  Is done.  Now you can use the board as usual Arduino.  Or you can flash your bootloader, or even just any suitable firmware without any bootloader. <br>  With the jumper installed, we can flash the board so that it will work, you need to remove the jumper on the programmer or disconnect it from the board. <br>  As a USB-UART adapter for flashing sketches, we will use our FTBB programmer by connecting the TX-RX pins to the corresponding Arduino pins.  It will be stitched from the Arduino IDE as usual, you only need to click Reset on the board immediately after the sketch has been compiled.  (I did not start a DTR pin, because I‚Äôm using another bootloader). <br>  <b>All necessary files</b> : <br>  <a href="http://www.foto-positive.ru/rc/42-avrduder.html">AVRDudeR</a> with atmega168p and booload.cmd settings for bootloader firmware (as well as a script for flashing an arbitrary .hex file and a connection test).  I changed the pin assignment in the avrdude config to use the same cable as for the firmware using ArduinoISP. <br>  <a href="http://code.google.com/p/r-usb-irpc/downloads/detail%3Fname%3DFTBB-MiniUSB_A6.rar%26can%3D2%26q%3D">Template for LUT</a> + several variants of the board in Sprint Layout 5 format (2 variants of DI HALT and my two adaptations) and a sticker with pin signatures. <br><br>  <b>UPD</b> corrected links to files LUT and firmware. </div><p>Source: <a href="https://habr.com/ru/post/133978/">https://habr.com/ru/post/133978/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../133972/index.html">The release of version 0.6.4 led to the blocking of the nodejs.org domain in China</a></li>
<li><a href="../133973/index.html">Impressions of the Nokia Lumia 800</a></li>
<li><a href="../133974/index.html">Application Development for Meego Harmattan</a></li>
<li><a href="../133976/index.html">What engine do you use to create HTML5 games?</a></li>
<li><a href="../133977/index.html">Mandate Tag Management in MAFM 3.0</a></li>
<li><a href="../133979/index.html">How do you pronounce python (in Russian)?</a></li>
<li><a href="../133980/index.html">JSF GUI Development Experience</a></li>
<li><a href="../133981/index.html">Memory model in the examples and not only</a></li>
<li><a href="../133982/index.html">Habrahabr - winner ROTOR 2011</a></li>
<li><a href="../133983/index.html">Impressive Solids: making a game in C # under OpenGL, part I</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>