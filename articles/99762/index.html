<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Emacs as file manager</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Almost every computer user sooner or later has to face the problem of renaming several files at once. For example, change the file extension, change t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Emacs as file manager</h1><div class="post__text post__text-html js-mediator-article"> Almost every computer user sooner or later has to face the problem of renaming several files at once.  For example, change the file extension, change the name, insert the sequence number, and so on.  Someone writes shell scripts, someone uses programs specially created for this purpose, but real Indians use Emacs. <br><a name="habracut"></a><br>  In Emacs, there is a mode like <b>dired</b> .  This is a directory browsing mode.  To enable it just dial <br><br> <code>Alt-x dired</code> <br> <br>  after that, just select the path to the directory <br><img src="https://habrastorage.org/getpro/habr/post_images/c68/a9f/4d6/c68a9f4d63ef7872f76890ad089c4806.png" alt="image"><br><br>  Suppose we need to rename the files in this directory, turning the name <b>yuka</b> into the first and last name <b>yuka.kemmochi</b> .  We will use regular expressions for this <sup>[ <a href="https://habr.com/ru/post/99762/">1</a> ]</sup> .  Why regular expressions?  Because this is probably the most flexible way.  And although in this case we shoot from a laser gun with automatic aiming at sparrows, the technique tested here will be useful in more complex cases. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Regular Expressions in Emacs </h5><br>  Regular expressions are not so simple in themselves.  In Emacs, the case is complicated by the fact that it uses POSIX regular expressions, and special characters must be escaped with a slash.  Since the slash itself is a special character, it must also be escaped.  Plus, in the lines of each slash must be doubled.  All this leads to the fact that a regular expression in Emacs may look, for example, like this <br> <code>\\&lt;\\(HKCU\\|HKLM\\|dirifempty\\|files\\|filesandordirs\\)\\&gt; <br></code> <br>  What corresponds to the usual <br> <code>^(HKCU|HKLM|dirifempty|files|filesandordirs)$ <br></code> <br>  On the other hand, Emacs regular expressions are very easy to compose and test.  To do this, we probably use one of the most powerful tools of Emacs RE-builder: <br><img src="https://habrastorage.org/getpro/habr/post_images/9a0/ab4/7a2/9a0ab47a2f8ca5b456af0da563acd91f.png" alt="image"><br><br>  In the field that opens, you can enter an expression, remembering that it is entered as a string, so all slashes must be <u>doubled</u> . <br><img src="https://habrastorage.org/getpro/habr/post_images/678/4af/180/6784af18048d597fd03e3605db6c6a00.png" alt="image"><br><br>  Entering this is interactive, that is, Emacs tint what corresponds to the entered expression.  Moreover, individual groups are highlighted in a separate color. <br><br>  Making an expression, we are ready to rename files. <br><br><h5>  File operations </h5><br><br>  Before operating with files, we need to select them.  You can simply move through the buffer and standing in the name of the file, press <b>m</b> , you can enter <b>% g</b> and then in the prompt to enter part of the file name, you can use regular expressions again typing <b>% m</b> <br><img src="https://habrastorage.org/getpro/habr/post_images/c06/42b/173/c0642b1738d44fa4a91a5160f0b43cc3.png" alt="image"><br><br>  Select all the files simply <br><img src="https://habrastorage.org/getpro/habr/post_images/a10/70d/86d/a1070d86d3d69b0ed1ce7e0e6323d014.png" alt="image"><br><br>  Voila <br><img src="https://habrastorage.org/getpro/habr/post_images/86d/ed8/a23/86ded8a237e76fc05e91c9a4fe90c9d0.png" alt="image"><br><br>  Further operations are performed on the selected files. <br><br>  To rename files using regular expressions, click <b>% R.</b> <br><img src="https://habrastorage.org/getpro/habr/post_images/f27/e8c/c92/f27e8cc92eed000faadd528fbf1ec319.png" alt="image"><br><br>  The case of a letter is important, that is, <b>Shift</b> and <b>5</b> are pressed and then, without releasing <b>Shift,</b> press <b>r</b> .  As a rule, <b>5</b> and <b>r</b> are next to each other on the keyboard, so renaming files using regular expressions can be started fairly quickly and easily. <br><br>  We introduce our regular expression, remembering that the number of slashes should be ‚Äúhalved‚Äù compared to what we tried in the RE-builder. <br><br><br>  <i>An additional trick is that Emacs remembers what you typed in the invitations before and simply navigate through the input history using <b>Alt-p</b> - backward and <b>Alt-n</b> - forward.</i>  <i>Selecting the desired line from the history can be edited and used again.</i> <i><br></i> <br><br>  After that, it is proposed to enter expressions for the new file name <br><img src="https://habrastorage.org/getpro/habr/post_images/26b/400/8f4/26b4008f4f8dfedd50d56a08a153067e.png" alt="image"><br><br>  <b>Alt-p / Alt-n</b> work here. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/225/8ea/c9c/2258eac9c20d4881a7cb9a6bacbacc1b.png" alt="image"><br><br>  We use so-called replacement (Regular Expression Replacements).  The most interesting are the following: <br><ul><li>  <b>\ 1 ... \ 9</b> - groups, that is, that in the initial expression is limited by brackets \ (and \) in the order from left - inside - to right </li><li>  <b>\ &amp;</b> - that was necessary for all regular expression (i.e. group 0) </li><li>  <b>\?</b>  - user invitation to enter.  Each time you rename, Emacs will ask what to insert instead of <b>\?</b> </li></ul><br>  When you first rename, Emacs will ask <br><img src="https://habrastorage.org/getpro/habr/post_images/88e/ae6/86a/88eae686a51b3480542aa3fd16578fc7.png" alt="image"><br><br>  It should be noted that only those files from the selected ones whose name matches the regular expression entered immediately after <b>% R</b> will be renamed. <br><br>  You can press <b>y / n</b> , agreeing or refusing to rename the file.  Emacs will go to the next.  You can click <b>!</b>  (i.e. <b>Shift 1</b> <b><br></b>  ), by making Emacs run through all the marked files, or you can complete the entire renaming operation by pressing <b>q</b> . <br><img src="https://habrastorage.org/getpro/habr/post_images/2da/226/387/2da22638731a9c101270cb9d9a2e4d2a.png" alt="image"><br><br>  Easy and simple files renamed. <br><br><h5>  Additional literature </h5><br><ul><li>  <a href="http://www.gnu.org/software/emacs/manual/html_node/emacs/Dired.html">Dired Manual</a> </li><li>  <a href="http://www.gnu.org/software/emacs/manual/html_node/emacs/Regexps.html">Syntax of Regular Expressions</a> </li><li>  <a href="http://www.gnu.org/software/emacs/manual/html_node/emacs/Regexp-Backslash.html">Backslash in Regular Expressions</a> </li><li>  <a href="http://www.gnu.org/software/emacs/manual/html_node/emacs/Regexp-Replace.html">Regexp replacement</a> </li></ul><br><br><hr><br>  [1] You can also use the so-called <b>wdired-change-to-wdired-mode</b> , but that's another story. </div><p>Source: <a href="https://habr.com/ru/post/99762/">https://habr.com/ru/post/99762/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../99747/index.html">The trial ended between the Ukrainian division of Google and the company "GOU OGLE"</a></li>
<li><a href="../99754/index.html">PushButton Engine Lesson # 3: Adding Control to a Custom Component</a></li>
<li><a href="../99755/index.html">Yandex.Market - to be or not?</a></li>
<li><a href="../99758/index.html">Safety vs usability by Rosbank</a></li>
<li><a href="../99761/index.html">Opera Habragosti: Johan Borg</a></li>
<li><a href="../99765/index.html">Glippy - simple clipboard manager</a></li>
<li><a href="../99771/index.html">Coding without thinking - 2: an interview with the author of Titanuim Backup (the end)</a></li>
<li><a href="../99773/index.html">New Skype for iPhone with multitasking and abandonment of plans to introduce a charge for 3G calls</a></li>
<li><a href="../99775/index.html">Revolution begins today</a></li>
<li><a href="../99780/index.html">New version of first-person shooter Sauerbraten - Justice Edition</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>