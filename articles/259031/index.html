<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Double dispatch</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Not so long ago I ran into a service with a very curious task. But there is nothing new under the moon - and the task has long been familiar to you: d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Double dispatch</h1><div class="post__text post__text-html js-mediator-article">  Not so long ago I ran into a service with a very curious task.  But there is nothing new under the moon - and the task has long been familiar to you: double dispatching in C # in terms of static typing.  I will explain in more detail below, but for those who understand everything, I will say: yes, I will use a ‚Äúvisitor‚Äù, but rather unusual. <br><br>  A few more reservations, before stating the problem more strictly: I will not dwell on why dynamic does not suit me, explicit type checking through coercion and reflection.  There are two reasons for this: 1) the goal is to get rid of runtime exceptions 2) I want to show that the language is sufficiently expressive, even if you do not resort to the listed tools and remain within the framework of strict typing. <br><a name="habracut"></a><br><h1>  Staging </h1><br>  In other words, suppose that we have in our hands a certain collection of heterogeneous objects with a rather general and low-level interface.  Taking any two of them, we want to understand the type of each and process it using a special method. <br><br>  Example: <br><ul><li>  let's say there is some <b>ICell</b> interface that <b>RedCell</b> , <b>BlueCell</b> , <b>GreenCell</b> classes <b>do</b> . </li><li>  There are rules of the following form: <br><ol><li>  having received two red cells, we write "red on red" </li><li>  having received green and blue we write "coast" </li><li>  in all other cases - specify the first and second color </li></ol><br></li><li>  direct product of the set of cells on itself we get: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      red on red <br>  red -&gt; green <br>  red -&gt; blue <br>  green -&gt; red <br>  green -&gt; green <br>  Coast <br>  blue -&gt; red <br>  blue -&gt; green <br>  blue -&gt; blue <br></li></ul><br><br>  I think it is obvious that to solve such a problem we would have enough of one class of the form: <br><br><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Cell</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Cell</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> color</span></span></span><span class="hljs-function">)</span></span> { Color = color; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Color { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } }</code> </pre> <br>  Of course, in practice, you need to get access to specific properties of objects that cannot be brought into the common interface, but you do not have to clutter up the example with a complex domain area, so let's agree: in the general interface there is not a word about color, and all the cells look like this red below: <br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">ICell</span></span> { <span class="hljs-comment"><span class="hljs-comment">//Some code } internal class RedCell : ICell { public string Color { get { return ""; } } //Some code }</span></span></code> </pre><br><h1>  Classic visitor </h1><br>  Classics has already become a solution to this problem with one element.  I will not dwell on it, you can learn more about it, for example, in <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D0%25BE%25D1%2581%25D0%25B5%25D1%2582%25D0%25B8%25D1%2582%25D0%25B5%25D0%25BB%25D1%258C_(%25D1%2588%25D0%25B0%25D0%25B1%25D0%25BB%25D0%25BE%25D0%25BD_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B5%25D0%25BA%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F)">Wikipedia</a> .  In our case, the solution would look like this.  With such a model (we denote this code by [1], I‚Äôll remember about it below): <br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">ICell</span></span> { T AcceptVisitor&lt;T&gt;(ICellVisitor&lt;T&gt; visitor); } <span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">ICellVisitor</span></span>&lt;<span class="hljs-title"><span class="hljs-title">out</span></span> <span class="hljs-title"><span class="hljs-title">T</span></span>&gt; { <span class="hljs-function"><span class="hljs-function">T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Visit</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">RedCell cell</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-function"><span class="hljs-function">T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Visit</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">BlueCell cell</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-function"><span class="hljs-function">T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Visit</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">GreenCell cell</span></span></span><span class="hljs-function">)</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">RedCell</span></span> : <span class="hljs-title"><span class="hljs-title">ICell</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Color { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">""</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> T AcceptVisitor&lt;T&gt;(ICellVisitor&lt;T&gt; visitor) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> visitor.Visit(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } } <span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">BlueCell</span></span> : <span class="hljs-title"><span class="hljs-title">ICell</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Color { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">""</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> T AcceptVisitor&lt;T&gt;(ICellVisitor&lt;T&gt; visitor) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> visitor.Visit(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } } <span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">GreenCell</span></span> : <span class="hljs-title"><span class="hljs-title">ICell</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Color { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">""</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> T AcceptVisitor&lt;T&gt;(ICellVisitor&lt;T&gt; visitor) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> visitor.Visit(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } }</code> </pre><br>  A simple visitor easily solves our problem: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Visitor</span></span> : <span class="hljs-title"><span class="hljs-title">ICellVisitor</span></span>&lt;<span class="hljs-title"><span class="hljs-title">string</span></span>&gt; { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Visit</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">RedCell cell</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-comment"><span class="hljs-comment">//        // ICell,   RedCell      //    Color return cell.Color; } public string Visit(BlueCell cell) { return cell.Color; } public string Visit(GreenCell cell) { return cell.Color; } }</span></span></code> </pre><br><h1>  Application of the visitor to the task </h1><br>  Well, let's try to generalize the existing solution to the case of two elements.  The first thing that comes to mind is to turn each cell into a visitor: she knows her own type, and, having visited her own product, she also recognizes her type, therefore, solves our problem.  It turns out something like this (for simplicity, I will write a solution only for the red cell, otherwise there is a lot of code): <br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">ICell</span></span> { T AcceptVisitor&lt;T&gt;(ICellVisitor&lt;T&gt; visitor); } <span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">RedCell</span></span>&lt;<span class="hljs-title"><span class="hljs-title">T</span></span>&gt; : <span class="hljs-title"><span class="hljs-title">ICell</span></span>, <span class="hljs-title"><span class="hljs-title">ICellVisitor</span></span>&lt;<span class="hljs-title"><span class="hljs-title">T</span></span>&gt; { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> IProcessor&lt;T&gt; _processor; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RedCell</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IProcessor&lt;T&gt; processor</span></span></span><span class="hljs-function">)</span></span> { _processor = processor; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> TVisit AcceptVisitor&lt;TVisit&gt;(ICellVisitor&lt;TVisit&gt; visitor) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> visitor.Visit(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Color { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"red"</span></span>; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Visit</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">RedCell&lt;T&gt; cell</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _processor.Get(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, cell); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Visit</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">BlueCell&lt;T&gt; cell</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _processor.Get(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, cell); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Visit</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">GreenCell&lt;T&gt; cell</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _processor.Get(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, cell); } } <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">IProcessor</span></span>&lt;<span class="hljs-title"><span class="hljs-title">T</span></span>&gt; { <span class="hljs-function"><span class="hljs-function">T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Get</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">RedCell&lt;T&gt; a, RedCell&lt;T&gt; b</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-function"><span class="hljs-function">T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Get</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">RedCell&lt;T&gt; a, BlueCell&lt;T&gt; b</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-function"><span class="hljs-function">T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Get</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">RedCell&lt;T&gt; a, GreenCell&lt;T&gt; b</span></span></span><span class="hljs-function">)</span></span>; }</code> </pre><br>  Now all that remains is for us to add a simple processor, and the problem is solved! <br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Processor</span></span> : <span class="hljs-title"><span class="hljs-title">IProcessor</span></span>&lt;<span class="hljs-title"><span class="hljs-title">string</span></span>&gt; { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Get</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">RedCell&lt;</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt; a, RedCell&lt;</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt; b</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"  "</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Get</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">RedCell&lt;</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt; a, BlueCell&lt;</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt; b</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> GeneralCase(a, b); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Get</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">RedCell&lt;</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt; a, GreenCell&lt;</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt; b</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> GeneralCase(a, b); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GeneralCase</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ICell a, ICell b</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a.Color + <span class="hljs-string"><span class="hljs-string">" --&gt; "</span></span> + b.Color; } }</code> </pre><br><h1>  Criticism of the found solution </h1><br>  Well, indeed, a solution has been found.  Do you like it?  I do not.  The reasons are: <br><ul><li>  We need to write <b>N x N</b> Visit methods: to accept each in each cell;  adding a new color cell makes us write more <b>N + 1</b> new methods.  If <b>N</b> is large enough (two dozen, for example), then the amount of code and effort frighten; </li><li>  Adding any new cell you need will change all the previous ones.  And if they are in different assemblies, for example?  And, quite likely, we cannot or will not change one of these assemblies; </li><li>  In the classes of our model, we added methods unusual to them.  It is necessary to clarify - to solve the problem without adding a single method for the visitor is impossible (if you can - tell me by all means!), But are we ready to endure an <b>N + 1</b> additional method (in each class!) That does not carry any logical load?  Alas, this is syntactic garbage; </li><li>  You probably noticed that the cell has become generalized over T, namely: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">RedCell</span></span>&lt;<span class="hljs-title"><span class="hljs-title">T</span></span>&gt; : <span class="hljs-title"><span class="hljs-title">ICell</span></span>, <span class="hljs-title"><span class="hljs-title">ICellVisitor</span></span>&lt;<span class="hljs-title"><span class="hljs-title">T</span></span>&gt;</code> </pre><br>  This is absolutely no good!  I can not create a cell without having decided in advance what type of visitor will return to it!  Complete nonsense. <br><br>  Of course, you can get rid of the generalization: let the visitor return nothing, but change his state, which he put out in an open way, but: (1) I prefer the immutable state and programming that is biased to the functional (let me omit the motivation - I think it‚Äôs pretty clear ), it means that you need to avoid actions ( <b>Action</b> ) and strive to use functions ( <b>Fun</b> ), which means it would be good for the visitor to return the type. <br></li></ul><br>  I hope this is enough to confirm my opinion - the decision is so-so, however, there is one more important note that I want to dwell on.  Let us think how many methods should <b>IProcessor</b> contain?  <b>N x N.</b>  That is a lot.  But after all, we most likely need special treatment for a very small number of cases linear in <b>N.</b>  And nevertheless, we cannot know in advance which of them will be useful to us (and we are writing the framework, isn‚Äôt it? The structure of the classes, the basis that everyone will use later, connecting our assembly to their solutions). <br><br>  How can it be improved?  The obvious step is to separate the model from the visitor.  Yes, let, as before, each cell is able <b>AcceptVisitor (...)</b> , but all methods of Visit will be in separate classes.  It is easy to understand what we need, in this case, <b>N + 1</b> class, each of which contains <b>N</b> methods <b>Visit</b> .  Not weak, right?  In this case, any new cell leads to the addition of a new class + according to the method to each of the existing ones. <br><br><h1>  Best Solution Found </h1><br>  I have a solution that does not have these shortcomings, namely: I need several classes (I speak without precision, because different syntactic prettiness like the fluent interface, from which I could not resist, are added to this number, but whether using them is a matter of taste), and the number of classes depends on <b>N</b> ;  when adding a new cell, I will need to add a number of methods independent of <b>N</b> to these classes. <br><br>  If (well, you never know) you are still reading, then think for a moment, can you propose a solution that meets these requirements? <br><br>  If yes, then great, write to me, but mine here: <br><br>  Our model is still of the form [1], but this way (to slightly intrigue the patient reader) will look like an analogous processor from the previous example: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ConcreteDispatcherFactory</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> ICellVisitor&lt;ICellVisitor&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>&gt;&gt; CreateDispatcher() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PrototypeDispatcher&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>&gt;(Do) .TakeRed.WithRed(Do) .TakeGreen.WithBlue(Do); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Do</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ICell a, ICell b</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> colorRetriever = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ColorRetriever(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> aColor = a.AcceptVisitor(colorRetriever); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> bColor = b.AcceptVisitor(colorRetriever); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> aColor + <span class="hljs-string"><span class="hljs-string">"\t--&gt;\t"</span></span> + bColor; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Do</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">GreenCell a, BlueCell b</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">""</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Do</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">RedCell a, RedCell b</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"  "</span></span>; } }</code> </pre><br>  where ColorRetriever is a simple ‚Äúsingle‚Äù visitor: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ColorRetriever</span></span> : <span class="hljs-title"><span class="hljs-title">ICellVisitor</span></span>&lt;<span class="hljs-title"><span class="hljs-title">string</span></span>&gt; { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Visit</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">RedCell cell</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> cell.Color; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Visit</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">BlueCell cell</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> cell.Color; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Visit</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">GreenCell cell</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> cell.Color; } }</code> </pre><br>  [Before, in fact, by the decision itself, a small digression about this last <b>ColorRetriever</b> - I want to focus the reader‚Äôs attention on the fact that the lines themselves <br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> colorRetriever = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ColorRetriever(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> aColor = a.AcceptVisitor(colorRetriever); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> bColor = b.AcceptVisitor(colorRetriever);</code> </pre><br>  still do not solve the problem.  With their help, we only consistently gain access to each of the two cells in the form of an explicit type, not hidden by the interface, whereas we need to get such access for both at the same time.  The amendment was made thanks to the care <a href="http://habrahabr.ru/users/maxim_0_o/">maxim_0_o</a> , my bow to him <br><br>  As you can see, we stipulate a general case and two particular ones, and this will be enough to build a solution. <br>  By and large, we need two classes - the first and second visitor.  The second will be generalized and the first will create its typed instance so that it can be used for a specific cell. <br><br>  Here is the first: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">PrototypeDispatcher</span></span>&lt;<span class="hljs-title"><span class="hljs-title">TResult</span></span>&gt; : <span class="hljs-title"><span class="hljs-title">ICellVisitor</span></span>&lt;<span class="hljs-title"><span class="hljs-title">ICellVisitor</span></span>&lt;<span class="hljs-title"><span class="hljs-title">TResult</span></span>&gt;&gt; { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> Builder&lt;TResult, RedCell&gt; _redBuilder; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> Builder&lt;TResult, GreenCell&gt; _greenBuilder; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> Builder&lt;TResult, BlueCell&gt; _blueBuilder; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrototypeDispatcher</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Func&lt;ICell, ICell, TResult&gt; generalCase</span></span></span><span class="hljs-function">)</span></span> { _redBuilder = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Builder&lt;TResult, RedCell&gt;(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, generalCase); _blueBuilder = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Builder&lt;TResult, BlueCell&gt;(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, generalCase); _greenBuilder = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Builder&lt;TResult, GreenCell&gt;(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, generalCase); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> IBuilder&lt;TResult, RedCell&gt; TakeRed { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _redBuilder; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> IBuilder&lt;TResult, BlueCell&gt; TakeBlue { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _blueBuilder; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> IBuilder&lt;TResult, GreenCell&gt; TakeGreen { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _greenBuilder; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> ICellVisitor&lt;TResult&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Visit</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">RedCell cell</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _redBuilder.Take(cell); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> ICellVisitor&lt;TResult&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Visit</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">BlueCell cell</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _blueBuilder.Take(cell); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> ICellVisitor&lt;TResult&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Visit</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">GreenCell cell</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _greenBuilder.Take(cell); } }</code> </pre><br>  Here is the second: <br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Builder</span></span>&lt;<span class="hljs-title"><span class="hljs-title">TResult</span></span>, <span class="hljs-title"><span class="hljs-title">TA</span></span>&gt; : <span class="hljs-title"><span class="hljs-title">IBuilder</span></span>&lt;<span class="hljs-title"><span class="hljs-title">TResult</span></span>, <span class="hljs-title"><span class="hljs-title">TA</span></span>&gt;, <span class="hljs-title"><span class="hljs-title">ICellVisitor</span></span>&lt;<span class="hljs-title"><span class="hljs-title">TResult</span></span>&gt; <span class="hljs-title"><span class="hljs-title">where</span></span> <span class="hljs-title"><span class="hljs-title">TA</span></span> : <span class="hljs-title"><span class="hljs-title">ICell</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Func&lt;TA, RedCell, TResult&gt; _takeRed; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Func&lt;TA, BlueCell, TResult&gt; _takeBlue; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Func&lt;TA, GreenCell, TResult&gt; _takeGreen; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> Func&lt;ICell, ICell, TResult&gt; _generalCase; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> PrototypeDispatcher&lt;TResult&gt; _dispatcher; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> TA _target; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Builder</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">PrototypeDispatcher&lt;TResult&gt; dispatcher, Func&lt;ICell, ICell, TResult&gt; generalCase</span></span></span><span class="hljs-function">)</span></span> { _dispatcher = dispatcher; _generalCase = generalCase; _takeRed = (a, b) =&gt; _generalCase(a, b); _takeBlue = (a, b) =&gt; _generalCase(a, b); _takeGreen = (a, b) =&gt; _generalCase(a, b); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> PrototypeDispatcher&lt;TResult&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WithRed</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Func&lt;TA, RedCell, TResult&gt; toDo</span></span></span><span class="hljs-function">)</span></span> { _takeRed = toDo; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _dispatcher; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> PrototypeDispatcher&lt;TResult&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WithBlue</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Func&lt;TA, BlueCell, TResult&gt; toDo</span></span></span><span class="hljs-function">)</span></span> { _takeBlue = toDo; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _dispatcher; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> PrototypeDispatcher&lt;TResult&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WithGreen</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Func&lt;TA, GreenCell, TResult&gt; toDo</span></span></span><span class="hljs-function">)</span></span> { _takeGreen = toDo; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _dispatcher; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> TResult </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Visit</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">RedCell cell</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _takeRed(_target, cell); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> TResult </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Visit</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">BlueCell cell</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _takeBlue(_target, cell); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> TResult </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Visit</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">GreenCell cell</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _takeGreen(_target, cell); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> ICellVisitor&lt;TResult&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Take</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">TA a</span></span></span><span class="hljs-function">)</span></span> { _target = a; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } }</code> </pre><br>  And also an interface for beauty to separate the builder from the visitor (which merge in both classes, but the call syntax is beautiful): <br><br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">IBuilder</span></span>&lt;<span class="hljs-title"><span class="hljs-title">TResult</span></span>, <span class="hljs-title"><span class="hljs-title">out</span></span> <span class="hljs-title"><span class="hljs-title">TA</span></span>&gt; { <span class="hljs-function"><span class="hljs-function">PrototypeDispatcher&lt;TResult&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WithRed</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Func&lt;TA, RedCell, TResult&gt; toDo</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-function"><span class="hljs-function">PrototypeDispatcher&lt;TResult&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WithBlue</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Func&lt;TA, BlueCell, TResult&gt; toDo</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-function"><span class="hljs-function">PrototypeDispatcher&lt;TResult&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WithGreen</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Func&lt;TA, GreenCell, TResult&gt; toDo</span></span></span><span class="hljs-function">)</span></span>; }</code> </pre><br>  In conclusion, I want to refer to a series of articles <a href="http://ericlippert.com/2015/04/27/wizards-and-warriors-part-one/">about wizards and warriors</a> , where dispatching issues in C # are also discussed. </div><p>Source: <a href="https://habr.com/ru/post/259031/">https://habr.com/ru/post/259031/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../259021/index.html">How I reduced the Docker image by 98.8% with fanotify</a></li>
<li><a href="../259023/index.html">Fedora 22 - all trends in one build</a></li>
<li><a href="../259025/index.html">Web-based Crona</a></li>
<li><a href="../259027/index.html">InGaAs Semiconductor as an Alternative to Silicon</a></li>
<li><a href="../259029/index.html">Samba4 - using Python Scripting Interface</a></li>
<li><a href="../259033/index.html">Through the hardships of PC development</a></li>
<li><a href="../259035/index.html">Text Analytics as Commodity: Text Analytics Application Overview</a></li>
<li><a href="../259041/index.html">How to make a small contest in one day</a></li>
<li><a href="../259047/index.html">OWASP TOP-10: a practical look at web application security: # 1 - injections</a></li>
<li><a href="../259051/index.html">That new versions of UEFI standards are prepared for us, part one, PI 1.4</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>