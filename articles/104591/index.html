<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>HTML5 Video - from A to Z</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Yes, yes, this is another article about html5 and the <video> tag. But its main difference will be that the most basic concepts and theories will be c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>HTML5 Video - from A to Z</h1><div class="post__text post__text-html js-mediator-article">  Yes, yes, this is another article about html5 and the &lt;video&gt; tag.  But its main difference will be that the most basic concepts and theories will be considered here.  So get ready to carefully read and write, <a href="http://www.html5rocks.com/">let html5 rocks</a> ! <br><a name="habracut"></a><br><h4>  Write the code </h4><br>  So, to make the video appear on your web page, we write the following code: <br><blockquote><code><font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">video</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">source</font> <font color="#ff0000">src</font> <font color="#0000ff">="movie.mp4"</font> <font color="#ff0000">type</font> <font color="#0000ff">='video/mp4; codecs="avc1.42E01E, mp4a.40.2"'</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">source</font> <font color="#ff0000">src</font> <font color="#0000ff">="movie.webm"</font> <font color="#ff0000">type</font> <font color="#0000ff">='video/webm; codecs="vp8, vorbis"'</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">video</font> <font color="#0000ff">&gt;</font></font> &gt;</code> </blockquote> <br>  Immediately pay attention to the &lt;source&gt; tag, which allows you to include videos of different formats, which is important in cases where one of them is not supported by a particular browser. <br><br>  Of course, there is a simpler version of video insertion: <br><blockquote> <code><font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">video</font> <font color="#ff0000">src</font> <font color="#0000ff">="movie.webm"</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">video</font> <font color="#0000ff">&gt;</font></font></code> </blockquote> <br>  It remains to be hoped that in the near future for all browsers there will be enough of this option. <br><br>  And now it‚Äôs worth mentioning another important thing.  Do not forget to set the correct <b>MIME type</b> in the <b>Content-Type</b> headers on your server.  Otherwise, the video will either not work at all, or will not work for everyone.  In the case of Apache, everything is decided by adding the following lines to httpd.conf: <br> <code><br> AddType video/ogg .ogv <br> AddType video/mp4 .mp4 <br> AddType video/webm .webm</code> <br> <br>  If you work with Google App Engine, then for each video format in the app.yaml file you need to add a record like this: <br> <code>- url: /(.*\.ogv) <br> static_files: videos_folder/\1 <br> mime_type: video/ogg <br> upload: videos_folder/(.*\.ogv) <br></code> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      And another very important thing worth mentioning.  It is necessary to specify the values ‚Äã‚Äãof the <b>type</b> parameter in the <b>source</b> tag in order for the browser to automatically recognize the required format and load it, which will increase the performance. <br><br><h4>  Video formats </h4><br><br>  A video file in any of the <font color="green">video formats</font> should be interpreted as a zip-archive containing a <font color="blue">video stream</font> and an <font color="red">audio stream</font> .  Here are the three most common video formats on the web: <br><ul><li>  <font color="green">mp4</font> = <font color="blue">H.264</font> + <font color="red">AAC</font> </li><li>  <font color="green">.ogg / .ogv</font> = <font color="blue">Theora</font> + <font color="red">Vorbis</font> </li><li>  <font color="green">.webm</font> = <font color="blue">VP8</font> + <font color="red">Vorbis</font> </li></ul><br>  <i>(Unfortunately, Habr does not allow inserting examples from the original site, so you will have to watch them there - note of the translation.)</i> <br><br>  At the time of this writing (August 2010), the most correct and complete code for inserting video is the following: <br><blockquote> <code><font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">video</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">source</font> <font color="#ff0000">src</font> <font color="#0000ff">="movie.webm"</font> <font color="#ff0000">type</font> <font color="#0000ff">='video/webm; codecs="vp8, vorbis"'</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">source</font> <font color="#ff0000">src</font> <font color="#0000ff">="movie.mp4"</font> <font color="#ff0000">type</font> <font color="#0000ff">='video/mp4; codecs="avc1.42E01E, mp4a.40.2"'</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">source</font> <font color="#ff0000">src</font> <font color="#0000ff">="movie.ogv"</font> <font color="#ff0000">type</font> <font color="#0000ff">='video/ogg; codecs="theora, vorbis"'</font> <font color="#0000ff">/&gt;</font> <br> Video tag not supported. Download the video <font color="#0000ff">&lt;</font> <font color="#800000">a</font> <font color="#ff0000">href</font> <font color="#0000ff">="movie.webm"</font> <font color="#0000ff">&gt;</font> here <font color="#0000ff">&lt;/</font> <font color="#800000">a</font> <font color="#0000ff">&gt;</font> . <br> <font color="#0000ff">&lt;</font> <font color="#800000">video</font> <font color="#0000ff">&gt;</font></font> &gt;</code> </blockquote> <br><br>  One ‚ÄúBUT‚Äù - if you expect that your site will be used under the iPad, specify the video in .mp4 format first, this feature is related to the bug on the iPad itself. <br><br>  And since we are talking about .mp4, a number of points should be noted.  First, the h.264 video codec is not free, so you have to pay for the license.  You can read about it <a href="http://diveintohtml5.org/video.html">here</a> .  Secondly, you need to be absolutely sure in the specified video and audio codecs, they may differ from video to video.  The most common can be considered "avc1.42E01E, mp4a.40.2", so just in case check <a href="http://wiki.whatwg.org/wiki/Video_type_parameters">here</a> . <br><br><h4>  IE;) </h4><br><br>  A storm of delight flashed through the Internet when the new IE 9 came out. However, as long as there are happy owners of IE 6, you have to try it out.  A couple of possible solutions. <br><br><h5>  Chrome frame </h5><br><br>  The advantage of using <a href="http://code.google.com/chrome/chromeframe/">the Chrome Frame plugin</a> is that it can be put only once, and all new HTML, JavaScript and CSS features will be supported without any update.  This plugin is a rescue for web developers who will not bother and waste time writing an IE-compatible version of the site.  ( <i>A slightly controversial statement, especially if you remember what the <a href="http://www.securitylab.ru/news/386314.php">noise</a> was on the network when this plugin came out.</i> ) <br><br><h5>  Back to flash </h5><br><br>  Well, no one has canceled the flash - we recognize the browser, we see, we load the flash.  Especially since Adobe has added .webm format to the list of playable video formats.  So you don‚Äôt even have to think about recoding. <br><br><h4>  Encrypted, or need to transcode video </h4><br><br>  If there is a need to convert video, then a good program is <a href="http://www.mirovideoconverter.com/">Miro Converter</a> , which has versions for Windows and Mac.  The program does not have many opportunities to play with the parameters, but it allows you to convert into three main formats.  And if you look at it more closely, you can see that it is a shell for <a href="http://ffmpeg.org/">ffmpeg</a> and <a href="http://v2v.cc/~j/ffmpeg2theora/">ffmpeg2theora</a> , which work in all operating systems from under the command line.  Details about this program can be found <a href="http://diveintohtml5.org/video.html">here</a> . <br><br><h4>  Buns </h4><br><br>  Since we embed the video in a full html way, then we can use the full power of the web for our purposes.  Below I will describe what this power is.  ( <i>Unfortunately, again without illustrative examples, so go to the original site</i> ) <br><br><h5>  Video + HTML </h5><br><br>  To begin with, we can use various HTML attributes.  For example, the parameter <b>tabindex</b> allows you to set the position.  There are a couple of parameters that exist in audio, these are <b>loop</b> and <b>autoplay</b> .  In the parameter <b>poster,</b> you can specify a picture that will be displayed during the video download.  Having specified the <b>controls,</b> we will say to the browser - ‚ÄúUse native controls, we haven't come up with anything here.‚Äù  Well, there is still a <b>preload</b> , which allows you to load the video background.  As a result, we get something like this: <br><blockquote> <code><font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">video</font> <font color="#ff0000">poster</font> <font color="#0000ff">="star.png"</font> <font color="#ff0000">autoplay</font> <font color="#ff0000">loop</font> <font color="#ff0000">controls</font> <font color="#ff0000">tabindex</font> <font color="#0000ff">="0"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">source</font> <font color="#ff0000">src</font> <font color="#0000ff">="movie.webm"</font> <font color="#ff0000">type</font> <font color="#0000ff">='video/webm; codecs="vp8, vorbis"'</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">source</font> <font color="#ff0000">src</font> <font color="#0000ff">="movie.ogv"</font> <font color="#ff0000">type</font> <font color="#0000ff">='video/ogg; codecs="theora, vorbis"'</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">video</font> <font color="#0000ff">&gt;</font></font> <br></code> </blockquote><br>  Well, an option for those who comply with the standards: <br><blockquote> <code><font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">video</font> <font color="#ff0000">poster</font> <font color="#0000ff">="star.png"</font> <font color="#ff0000">autoplay</font> <font color="#0000ff">="autoplay"</font> <font color="#ff0000">loop</font> <font color="#0000ff">="loop"</font> <font color="#ff0000">controls</font> <font color="#0000ff">="controls"</font> <font color="#ff0000">tabindex</font> <font color="#0000ff">="0"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">source</font> <font color="#ff0000">src</font> <font color="#0000ff">="movie.webm"</font> <font color="#ff0000">type</font> <font color="#0000ff">='video/webm; codecs="vp8, vorbis"'</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">source</font> <font color="#ff0000">src</font> <font color="#0000ff">="movie.ogv"</font> <font color="#ff0000">type</font> <font color="#0000ff">='video/ogg; codecs="theora, vorbis"'</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">video</font> <font color="#0000ff">&gt;</font></font> <br></code> </blockquote><br><h5>  Video + JS </h5><br>  The video tag has a number of parameters that can be controlled using javascript.  An example can be seen on the <a href="http://www.w3.org/2010/05/video/mediaevents.html">W3</a> website. <br><br>  To begin with, like any html component, the video responds to all standard events, such as mouse hovering, dragging, and so on.  But besides them, it has a number of its own, allowing you to determine when the video was launched, stopped, and so on.  Already from the moment of video upload, we can use a number of events related to both networking (loadstart, progress, suspend, abort, error, emptied, stalled) and buffering (loadedmetadata, loadeddata, waiting, playing, canplay, canplaythrough ).  A simple example showing how you can set up video playback at the moment when it is ready to play: <br><blockquote> <code><font color="black">video.addEventListener( <font color="#A31515">'canplay'</font> , <font color="#0000ff">function</font> (e) { <br> <font color="#0000ff">this</font> .volume = 0.4; <br> <font color="#0000ff">this</font> .currentTime = 10; <br> <font color="#0000ff">this</font> .play(); <br> }, false</font> <br></code> </blockquote><br>  The network has already been laid out and custom settings have already appeared, allowing you to control, for example, playback speed or add interaction between 2 videos. <br><br><h5>  Video + CSS </h5><br><br>  There is almost no comment - video as an element of the web page takes all sorts of css pieces - from the <b>border</b> , <b>opacity</b> and ending with masks, gradients, transforms, transitions and animations.  It all depends solely on your imagination. <br><br><h5>  Video + canvas </h5><br><br>  HTML5 brought another powerful thing to this world - canvas.  And what prevents us from using these two innovations together?  That's right - nothing. <br><br>  An example of sharing canvas and video can be as follows - getting screenshots from the video being played.  Canvas has a <b>drawImage</b> method that allows you to get videos from 3 sources: from the image itself, from another canvas and from <b>video</b> !  And with the help of another method - <b>toDataURL</b> we already export the image in the format we need.  The following listing shows how to take screenshots from a video every 1.5 seconds: <br><blockquote> <code><font color="black">video_dom.addEventListener( <font color="#A31515">'play'</font> , <font color="#0000ff">function</font> () { <br> video_dom.width = canvas_draw.width = video_dom.offsetWidth; <br> video_dom.height = canvas_draw.height = video_dom.offsetHeight; <br> <font color="#0000ff">var</font> ctx_draw = canvas_draw.getContext( <font color="#A31515">'2d'</font> ); <br> draw_interval = setInterval( <font color="#0000ff">function</font> () { <br> <font color="#008000">// import the image from the video</font> <br> ctx_draw.drawImage(video_dom, 0, 0, video_dom.width, video_dom.height); <br> <font color="#008000">// export the image from the canvas</font> <br> <font color="#0000ff">var</font> img = <font color="#0000ff">new</font> Image(); <br> img.src = canvas_draw.toDataURL( <font color="#A31515">'image/png'</font> ); <br> img.width = 40; <br> frames.appendChild(img); <br> }, 1500) <br> }, <font color="#0000ff">false</font> );</font> <br></code> </blockquote><br><br>  I think people with rich imagination have already imagined what can be invented here.  For them and everyone who is interested in the possibility of receiving video frames there is an interesting thing - <a href="https://cvs.khronos.org/svn/repos/registry/trunk/public/webgl/doc/spec/WebGL-spec.html">WebGL</a> . <br><br><h5>  Video + SVG </h5><br><br>  SVG provides us with the ability to programmatically control the display of vector graphics.  But besides this there is such a wonderful thing as <a href="http://en.wikipedia.org/wiki/SVG_filter_effects">SVG filter effects</a> .  Using these filters, you can apply specific effects to individual webpage elements.  It looks like this: <br><blockquote> <code><font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">svg</font> <font color="#ff0000">id</font> <font color="#0000ff">='image'</font> <font color="#ff0000">version</font> <font color="#0000ff">="1.1"</font> <font color="#ff0000">xmlns</font> <font color="#0000ff">="http://www.w3.org/2000/svg"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">defs</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">filter</font> <font color="#ff0000">id</font> <font color="#0000ff">="myblur"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">feGaussianBlur</font> <font color="#ff0000">stdDeviation</font> <font color="#0000ff">="1"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">filter</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">defs</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">svg</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">style</font> <font color="#0000ff">&gt;</font> <br> video { filter:url(#myblur); border: 2px solid red; } <br> <font color="#0000ff">&lt;/</font> <font color="#800000">style</font> <font color="#0000ff">&gt;</font></font></code> </blockquote> <br>  A similar inline processing option works in Firefox 4 and IE9, for other browsers javascript and css are already required. <br><br><h4>  Conclusion </h4><br><br>  No doubt, many have already managed to appreciate the benefits of the new html component.  On the Internet ( <i>and on Habr√© - a comment of the lane</i> ) the mass of examples is already laid out ( <a href="http://www.craftymind.com/2010/04/20/blowing-up-html5-video-and-mapping-it-into-3d-space/">1</a> , <a href="http://demos.hacks.mozilla.org/openweb/WARMCSS/">2</a> , <a href="http://dev.opera.com/articles/view/custom-html5-video-player-with-css3-and-jquery/">3</a> , <a href="http://yayquery.github.com/jquery-singalong/">4</a> , <a href="http://habrahabr.ru/blogs/webstandards/80934/">5</a> , <a href="http://habrahabr.ru/blogs/lenta/63382/">6</a> ) <br><br>  I am glad that nobody is going to stop at what has been accomplished, and perhaps in the future we will have the opportunity to work with a <a href="http://dev.w3.org/html5/html-device/">microphone and a camera</a> and <a href="http://www.whatwg.org/specs/web-apps/current-work/">support broadcasting</a> . </div><p>Source: <a href="https://habr.com/ru/post/104591/">https://habr.com/ru/post/104591/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../104583/index.html">How sorting algorithms work</a></li>
<li><a href="../104586/index.html">Another iRobot tablet</a></li>
<li><a href="../104587/index.html">eBay, PayPal, missing iPad and unknown Police Report</a></li>
<li><a href="../104588/index.html">Natural Language Processing Seminar - Opening of the 2010/11 season</a></li>
<li><a href="../104589/index.html">Make it easier to use pyinstaller to create an exe</a></li>
<li><a href="../104592/index.html">poSEEDelki: Silicon Valley - Myths and Reality</a></li>
<li><a href="../104594/index.html">12 first winners</a></li>
<li><a href="../104595/index.html">Promotion at R01 (for those who are interested in the affiliate program for domains)</a></li>
<li><a href="../104597/index.html">Facebook refutes phone release rumors</a></li>
<li><a href="../104598/index.html">The first ‚Äúnational‚Äù presentation of htc Desire HD and htc Desire Z in Russia - photo report</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>