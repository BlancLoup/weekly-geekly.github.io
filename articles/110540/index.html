<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Web Worker Wars</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Web Worker Wars is a JavaScript program developed by me for programmers written, of course, in JavaScript. 
 A variety of games Battle in memory. Some...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Web Worker Wars</h1><div class="post__text post__text-html js-mediator-article">  Web Worker Wars is a JavaScript program developed by me for programmers written, of course, in JavaScript. <br>  A variety of games Battle in memory.  Something similar to the Google AI Challenge or HabraWars. <br><br><img src="http://img8.imageshack.us/img8/9670/wwwpxd.jpg" title="Web Worker Wars" alt="Web Worker Wars"><br><br><h3>  Features and rules </h3><br>  1. The game is a turn-based strategy for 2 or more bots. <br>  2. Each player writes his Web Worker, which accepts special commands from the game engine and can return an action. <br>  3. On each move, the bot has 4 action points and can distribute them to their actions. <br>  4. The bot has a limited field of view (the example is highlighted in blue on the logo). <br>  - All objects in the field of view are transferred to the callback actions and can be used in the calculations <br>  5. While the bot can perform 2 actions: <br>  - movement 1 square left, right, up, down, cost 1 OD <br>  - an aimed shot (hits the cage) at a distance of up to 5 cells, costing 2 OD, removes 2 points of life or shield from the enemy or yourself 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Further detailed rules, example worker and demo. <br><a name="habracut"></a><br>  6. Until the bot has run out OD The engine will request actions from the bot. <br>  - If the bot did not respond 2 seconds after the action request, its turn is completed, the ODs are burned <br>  - If there is not enough ML for an action, then the action is not performed, the bot's turn is completed, OD is burned <br>  - As soon as the action is completed, the bot removes a certain amount of ML <br>  - If the bot has sent a non-existent command, 1 MP is removed <br>  - The bot can not walk on the walls or on other players <br>  - After each action the bot can turn in any direction <br>  7. The first walker that first walked <br>  - In the future, it is supposed to remake: the minimum volume worker will walk first. <br>  8. Each bot has 10 Life Points and 2 Shield Points. <br>  - The shield is regenerated by +1 at the end of each phase (when everyone was leaving), but there can not be more than 2 <br>  9. The playing field has a size of 10 to 10 cells of the wall of the field - the wall (the field is actually 8 to 8). <br>  10. At the beginning, the bots are placed at the corners: the first bot in a cell is 1.1 the second - 8.8 <br>  11. The game has a limit of 500 moves (2000 OD on all bots) <br>  12. Each bot can receive different events: (onDamage, onHit, onAfterMove ...) <br>  - While their number is limited <br><br>  While the game is in trial mode, any rule may change. <br><br><h3>  Example worker </h3><br>  Its logic is simple: a worker walking erratically and turning randomly, looking for the enemy, as soon as the enemy gets into his field of vision, he starts shooting to the last (the example removed almost all comments in the article, the full version either in the demo or in the archive). <br><pre><code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/**#nocode+*/</span></span> (<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">global</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/**#nocode-*/</span></span> <span class="hljs-comment"><span class="hljs-comment">/** * Callbacks * * @namespace Callbacks */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Callbacks = { <span class="hljs-attr"><span class="hljs-attr">callback</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// its own id var id = state.player.name, target, i, c, ok = false, fow = []; // looking for enemy in fow for (i = 0, c = state.fow.length; i &lt; c; i += 1) { // push fow elements to 2d array, required for movements if (!fow[state.fow[i].y]) { fow[state.fow[i].y] = []; } fow[state.fow[i].y][state.fow[i].x] = state.fow[i].object; if (typeof state.fow[i].object === 'object' &amp;&amp; state.fow[i].object.name !== id) { // found! target = { x: state.fow[i].x, y: state.fow[i].y }; } } if (target) { // target - shoot! Player.post({ action: 'shoot', // shoot action options: target, // enemy xy direction: state.player.direction // do not change direction }); } else { // no target - seeking for target // make random moves if (Math.random() &gt; 0.5) { // move to x while (!ok) { // check if cell not occupied target = { x: state.player.x + (~~(Math.random() * 3) - 1), y: state.player.y }; if (typeof fow[target.y] === 'undefined' || typeof fow[target.y][target.x] === 'undefined' ) { ok = true; // cell is free } } } else { // or move to y while (!ok) { // check if cell not occupied target = { x: state.player.x, y: state.player.y + (~~(Math.random() * 3) - 1) }; if (typeof fow[target.y] === 'undefined' || typeof fow[target.y][target.x] === 'undefined' ) { ok = true; // cell is free } } } Player.post({ action: 'move', // move action options: target, direction: ~~(Math.random() * 5) // random direction }); } }, onHit: function (param) { }, onDamage: function (param) { }, onKill: function (param) { }, onDead: function () { } }; /** * Player * @namespace Player */ var Player = { post: function (data) { global.postMessage(JSON.stringify(data)); } }; /** * Message listener */ global.onmessage = function (e) { var data = JSON.parse(e.data); if (data.call &amp;&amp; typeof Callbacks[data.call] === 'function') { Callbacks[data.call](data.arguments); } }; /**#nocode+*/ }(this)); /**#nocode-*/</span></span></code> </pre> <br>  Battle initializer: <a href="http://azproduction.ru/web_worker_wars/">azproduction.ru/web_worker_wars</a> <br>  Demo 2 bots: <a href="http://azproduction.ru/web_worker_wars/arena.html">azproduction.ru/web_worker_wars/arena.html#ZRV1vYGY&amp;ZRV1vYGY</a> <br>  4 bots <a href="http://azproduction.ru/web_worker_wars/arena.html">azproduction.ru/web_worker_wars/arena.html#ZRV1vYGY&amp;ZRV1vYGY&amp;ZRV1vYGY&amp;ZRV1vYGY</a> <br><br>  Visualization in the demo - a record of the previous battle of workers.  not realtime. <br><br>  Archive with all files (old version): <a href="http://narod.ru/disk/1947680001/web_worker_wars.rar.html">narod.ru/disk/1947680001/web_worker_wars.rar.html</a> <br>  Google <a href="http://code.google.com/p/web-worker-wars/">code</a> project <a href="http://code.google.com/p/web-worker-wars/">code.google.com/p/web-worker-wars</a> <br><br>  I wonder your opinion about the game, suggestions for improvement. <br><br>  <b>UPD</b> Now you can upload your bots to pastebin.com and use the pastebin script id (http://pastebin.com/ZRV1vYGY) to launch bots in the battle initializer <a href="http://azproduction.ru/web_worker_wars/">azproduction.ru/web_worker_wars</a> </div><p>Source: <a href="https://habr.com/ru/post/110540/">https://habr.com/ru/post/110540/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../110534/index.html">McAfee Acquisition Approved by Intel</a></li>
<li><a href="../110535/index.html">Emotion visualization in 3D games</a></li>
<li><a href="../110536/index.html">Router with built-in Tor anonymizer</a></li>
<li><a href="../110537/index.html">Profiling python applications</a></li>
<li><a href="../110538/index.html">Making Desire HD from Desire</a></li>
<li><a href="../110541/index.html">Tutumba: our new user review service</a></li>
<li><a href="../110542/index.html">Do not use human keyboard</a></li>
<li><a href="../110544/index.html">Qt + QML on a simple example</a></li>
<li><a href="../110546/index.html">Website Creative Commons translated into Russian at 100%</a></li>
<li><a href="../110547/index.html">The policy of controlling the frequency of the processor "ondemand" and iowait in Ubuntu</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>