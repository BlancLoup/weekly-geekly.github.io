<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ASP.NET MVC Lesson 4. Routing</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The purpose of the lesson: To study the initialization of routing. Areas division in the application. Principles of creating routing. 

 Controller an...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">ğŸ”</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">ğŸ“œ</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">â¬†ï¸</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">â¬‡ï¸</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>ASP.NET MVC Lesson 4. Routing</h1><div class="post__text post__text-html js-mediator-article">  <b>The purpose of the lesson:</b> To study the initialization of routing.  Areas division in the application.  Principles of creating routing. <br><br><h5>  Controller and Action. </h5><br>  The website consists of pages.  In general, a website consists not of pages, but of answers to requests, but we want to have some specific structure. <br><br>  Actually, we have a router that must determine which method should be called by which controller.  Therefore, two main parameters that must be the controller and the action.  Consider how the route pattern is defined in App_Start / RouteConfig.cs: <br><pre><code class="cs hljs">routes.MapRoute( name: <span class="hljs-string"><span class="hljs-string">"Default"</span></span>, url: <span class="hljs-string"><span class="hljs-string">"{controller}/{action}/{id}"</span></span>, defaults: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> { controller = <span class="hljs-string"><span class="hljs-string">"Home"</span></span>, action = <span class="hljs-string"><span class="hljs-string">"Index"</span></span>, id = UrlParameter.Optional } );</code> </pre> <br><a name="habracut"></a>  Thus, <code>url = Â«/Role/Create/2Â»</code> will mean that we find the <b>RoleController</b> controller, in this controller we find the <b>Create</b> method, which can accept (or may not accept) the <b>id</b> parameter.  And if it accepts the id parameter, then id = 2 or even id = â€œ2â€, depending on what type it is. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Defaults means that if the string is <b>â€œ/ Role / Createâ€</b> - then in the case that the Create method is with the id parameter and the default value is not set, or default () cannot be created, then another method will be selected if possible (we polymorphic).  Otherwise, an error will be generated: a method is not found that is ready to accept such a request. <br><br><pre> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> ActionResult </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Index</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">? id</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-comment"><span class="hljs-comment">//ok return View(); } â€¦ public ActionResult Index(int id = 0) { //ok return View(); } â€¦ public ActionResult Index(int id) { //fail return View(); }</span></span></code> </pre><br><br>  In the case of url = â€œ/ Roleâ€ the Index method will be called in the RoleController controller. <br><br>  If url = â€œ/â€, the Index method will be called in the HomeController controller. <br><br>  Consider the examples. <br><br><h5>  Basecontroller </h5><br>  Let's create several controllers, but in order not to constantly create access to the repository, initially we will create a basic BaseController controller: <br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">BaseController</span></span> : <span class="hljs-title"><span class="hljs-title">Controller</span></span> { [Inject] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> IRepository Repository { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } }</code> </pre><br>  AND <br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">HomeController</span></span> : <span class="hljs-title"><span class="hljs-title">BaseController</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> ActionResult </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Index</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> View(); } }</code> </pre><br><br>  View Home / Index.cshtml: <br><pre> <code class="html hljs xml">@{ ViewBag.Title = "LessonProject"; Layout = "~/Views/Shared/_Layout.cshtml"; } <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span><span class="hljs-tag">&gt;</span></span>LessonProject<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"menu"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@Url.Action("</span></span></span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Index</span></span></span><span class="hljs-tag">", "</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Role</span></span></span><span class="hljs-tag">")"&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> @Html.ActionLink("", "Index", "User") <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Add to view RoleController: <br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">RoleController</span></span> : <span class="hljs-title"><span class="hljs-title">BaseController</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> ActionResult </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Index</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> roles = Repository.Roles.ToList(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> View(roles); } }</code> </pre><br>  AND <br><pre> <code class="html hljs xml">@model IList<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LessonProject.Model.Role</span></span></span><span class="hljs-tag">&gt;</span></span> @{ ViewBag.Title = "Roles"; Layout = "~/Views/Shared/_Layout.cshtml"; } <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span><span class="hljs-tag">&gt;</span></span>Roles<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> @foreach (var role in Model) { <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"item"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"id"</span></span></span><span class="hljs-tag">&gt;</span></span> @role.ID <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"name"</span></span></span><span class="hljs-tag">&gt;</span></span> @role.Name <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Code"</span></span></span><span class="hljs-tag">&gt;</span></span> @role.Code <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> } <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  And we will do the same UserController. <br><br>  Consider how routes are defined using Url.Action () and Html.ActionLink (). <br><br>  <b>Url.Action ()</b> - takes the parameters, the first - action, then - the controller, then through new {} - you can set and list all the others. <br>  <b>Html.ActionLink ()</b> - forms the tag <code><code>,   â€“  ,  â€“ action,  â€“ controller, ( )     ,         â€“       null. .. : <br> @Html.ActionLink(â€œ   1â€, â€œItemâ€, â€œUserâ€, new {id = 1}, <b>null</b> ) <br>    null: <br> <code>@Html.ActionLink(â€œ   1â€, â€œItemâ€, â€œUserâ€, new {id = 1})</code> <br>     : <br> <code>   1</code> <br> <br>    <br>  ,         RoleController: <br> <code class="cs">routes.MapRoute( name: "Role", url: "roli/{action}/{id}", defaults: new { controller = "Role", action = "Index", id = UrlParameter.Optional } );</code> <br>  â€œroli/{action}/{id}â€       defaults.  action  . <br> .  : <br> <code><a href="https://habr.com/roli"></a> </code> <br>   defaults action=â€Indexâ€: <br> <code><a href="https://habr.com/roli/Index"></a> </code> <br>    â€œDefaultsâ€: <br> <code><a href="https://habr.com/Role"></a> </code> <br> <br>   ,      â€œdefaultâ€     Role/Index: <br> <code class="cs"> context.MapRoute( name : "default", url : "{controller}/{action}/{id}", defaults : new { controller = "Home", action = "Index", id = UrlParameter.Optional }, );</code> <br>     ,   <code>IgnoreRoute</code> ,   ,   url   ,    ,     ,     . <br> <br>  (Constrains) <br>        ,    . , id      : <br> <code class="cs">routes.MapRoute( name: "Role", url: "roli/{action}/{id}", defaults: new { controller = "Role", action = "Index", id = UrlParameter.Optional }, constraints : new {id = @"\d+"} );</code> <br>   id,     ,     ,         : <br> : <br> <code>&lt;a href="@Url.Action("Index", "Role", new { id = "privet" })"&gt;</code></code></code> <code><code>,   â€“  ,  â€“ action,  â€“ controller, ( )     ,         â€“       null. .. : <br> @Html.ActionLink(â€œ   1â€, â€œItemâ€, â€œUserâ€, new {id = 1}, <b>null</b> )</code> <br>    null: <br> <code>@Html.ActionLink(â€œ   1â€, â€œItemâ€, â€œUserâ€, new {id = 1})</code> <br>     : <br> <code>   1</code> <br> <br>    <br>  ,         RoleController: <br> <code class="cs">routes.MapRoute( name: "Role", url: "roli/{action}/{id}", defaults: new { controller = "Role", action = "Index", id = UrlParameter.Optional } );</code> <br>  â€œroli/{action}/{id}â€       defaults.  action  . <br> .  : <br> <code><a href="https://habr.com/roli"></a> </code> <br>   defaults action=â€Indexâ€: <br> <code><a href="https://habr.com/roli/Index"></a> </code> <br>    â€œDefaultsâ€: <br> <code><a href="https://habr.com/Role"></a> </code> <br> <br>   ,      â€œdefaultâ€     Role/Index: <br> <code class="cs"> context.MapRoute( name : "default", url : "{controller}/{action}/{id}", defaults : new { controller = "Home", action = "Index", id = UrlParameter.Optional }, );</code> <br>     ,   <code>IgnoreRoute</code> ,   ,   url   ,    ,     ,     . <br> <br>  (Constrains) <br>        ,    . , id      : <br> <code class="cs">routes.MapRoute( name: "Role", url: "roli/{action}/{id}", defaults: new { controller = "Role", action = "Index", id = UrlParameter.Optional }, constraints : new {id = @"\d+"} );</code> <br>   id,     ,     ,         : <br> : <br> <code>&lt;a href="@Url.Action("Index", "Role", new { id = "privet" })"&gt;</code></code> <h5> <code><code>,   â€“  ,  â€“ action,  â€“ controller, ( )     ,         â€“       null. .. : <br> @Html.ActionLink(â€œ   1â€, â€œItemâ€, â€œUserâ€, new {id = 1}, <b>null</b> )</code> <br>    null: <br> <code>@Html.ActionLink(â€œ   1â€, â€œItemâ€, â€œUserâ€, new {id = 1})</code> <br>     : <br> <code>   1</code> <br> <br>    <br>  ,         RoleController: <br> <code class="cs">routes.MapRoute( name: "Role", url: "roli/{action}/{id}", defaults: new { controller = "Role", action = "Index", id = UrlParameter.Optional } );</code> <br>  â€œroli/{action}/{id}â€       defaults.  action  . <br> .  : <br> <code><a href="https://habr.com/roli"></a> </code> <br>   defaults action=â€Indexâ€: <br> <code><a href="https://habr.com/roli/Index"></a> </code> <br>    â€œDefaultsâ€: <br> <code><a href="https://habr.com/Role"></a> </code> <br> <br>   ,      â€œdefaultâ€     Role/Index: <br> <code class="cs"> context.MapRoute( name : "default", url : "{controller}/{action}/{id}", defaults : new { controller = "Home", action = "Index", id = UrlParameter.Optional }, );</code> <br>     ,   <code>IgnoreRoute</code> ,   ,   url   ,    ,     ,     . <br> <br>  (Constrains) <br>        ,    . , id      : <br> <code class="cs">routes.MapRoute( name: "Role", url: "roli/{action}/{id}", defaults: new { controller = "Role", action = "Index", id = UrlParameter.Optional }, constraints : new {id = @"\d+"} );</code> <br>   id,     ,     ,         : <br> : <br> <code>&lt;a href="@Url.Action("Index", "Role", new { id = "privet" })"&gt;</code></code> </h5> <code><code>,   â€“  ,  â€“ action,  â€“ controller, ( )     ,         â€“       null. .. : <br> @Html.ActionLink(â€œ   1â€, â€œItemâ€, â€œUserâ€, new {id = 1}, <b>null</b> )</code> <br>    null: <br> <code>@Html.ActionLink(â€œ   1â€, â€œItemâ€, â€œUserâ€, new {id = 1})</code> <br>     : <br> <code>   1</code> <br> <br>    <br>  ,         RoleController: <br> <code class="cs">routes.MapRoute( name: "Role", url: "roli/{action}/{id}", defaults: new { controller = "Role", action = "Index", id = UrlParameter.Optional } );</code> <br>  â€œroli/{action}/{id}â€       defaults.  action  . <br> .  : <br> <code><a href="https://habr.com/roli"></a> </code> <br>   defaults action=â€Indexâ€: <br> <code><a href="https://habr.com/roli/Index"></a> </code> <br>    â€œDefaultsâ€: <br> <code><a href="https://habr.com/Role"></a> </code> <br> <br>   ,      â€œdefaultâ€     Role/Index: <br> <code class="cs"> context.MapRoute( name : "default", url : "{controller}/{action}/{id}", defaults : new { controller = "Home", action = "Index", id = UrlParameter.Optional }, );</code> <br>     ,   <code>IgnoreRoute</code> ,   ,   url   ,    ,     ,     . <br> <br>  (Constrains) <br>        ,    . , id      : <br> <code class="cs">routes.MapRoute( name: "Role", url: "roli/{action}/{id}", defaults: new { controller = "Role", action = "Index", id = UrlParameter.Optional }, constraints : new {id = @"\d+"} );</code> <br>   id,     ,     ,         : <br> : <br> <code>&lt;a href="@Url.Action("Index", "Role", new { id = "privet" })"&gt;</code></code> <pre> <code class="hljs pgsql"><code>,   â€“  ,  â€“ action,  â€“ controller, ( )     ,         â€“       <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>. .. : <br> @Html.ActionLink(â€œ   <span class="hljs-number"><span class="hljs-number">1</span></span>â€, â€œItemâ€, â€œ<span class="hljs-keyword"><span class="hljs-keyword">User</span></span>â€, <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> {id = <span class="hljs-number"><span class="hljs-number">1</span></span>}, <b><span class="hljs-keyword"><span class="hljs-keyword">null</span></span></b> )</code> <br>    <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>: <br> <code>@Html.ActionLink(â€œ   <span class="hljs-number"><span class="hljs-number">1</span></span>â€, â€œItemâ€, â€œ<span class="hljs-keyword"><span class="hljs-keyword">User</span></span>â€, <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> {id = <span class="hljs-number"><span class="hljs-number">1</span></span>})</code> <br>     : <br> <code>   <span class="hljs-number"><span class="hljs-number">1</span></span></code> <br> <br>    <br>  ,         RoleController: <br> <code class="cs">routes.MapRoute( <span class="hljs-type"><span class="hljs-type">name</span></span>: "Role", url: "roli/{action}/{id}", defaults: <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> { controller = "Role", action = "Index", id = UrlParameter.Optional } );</code> <br>  â€œroli/{action}/{id}â€       defaults.  action  . <br> .  : <br> <code><a href="https://habr.com/roli"></a> </code> <br>   defaults action=â€<span class="hljs-keyword"><span class="hljs-keyword">Index</span></span>â€: <br> <code><a href="https://habr.com/roli/Index"></a> </code> <br>    â€œDefaultsâ€: <br> <code><a href="https://habr.com/Role"></a> </code> <br> <br>   ,      â€œ<span class="hljs-keyword"><span class="hljs-keyword">default</span></span>â€     <span class="hljs-keyword"><span class="hljs-keyword">Role</span></span>/<span class="hljs-keyword"><span class="hljs-keyword">Index</span></span>: <br> <code class="cs"> context.MapRoute( <span class="hljs-type"><span class="hljs-type">name</span></span> : "default", url : "{controller}/{action}/{id}", defaults : <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> { controller = "Home", action = "Index", id = UrlParameter.Optional }, );</code> <br>     ,   <code>IgnoreRoute</code> ,   ,   url   ,    ,     ,     . <br> <br>  (Constrains) <br>        ,    . , id      : <br> <code class="cs">routes.MapRoute( <span class="hljs-type"><span class="hljs-type">name</span></span>: "Role", url: "roli/{action}/{id}", defaults: <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> { controller = "Role", action = "Index", id = UrlParameter.Optional }, constraints : <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> {id = @"\d+"} );</code> <br>   id,     ,     ,         : <br> : <br> <code>&lt;a href="@Url.Action("<span class="hljs-keyword"><span class="hljs-keyword">Index</span></span>", "<span class="hljs-keyword"><span class="hljs-keyword">Role</span></span>", new { id = "privet" })"&gt;</code></code> </pre> <code><code>,   â€“  ,  â€“ action,  â€“ controller, ( )     ,         â€“       null. .. : <br> @Html.ActionLink(â€œ   1â€, â€œItemâ€, â€œUserâ€, new {id = 1}, <b>null</b> )</code> <br>    null: <br> <code>@Html.ActionLink(â€œ   1â€, â€œItemâ€, â€œUserâ€, new {id = 1})</code> <br>     : <br> <code>   1</code> <br> <br>    <br>  ,         RoleController: <br> <code class="cs">routes.MapRoute( name: "Role", url: "roli/{action}/{id}", defaults: new { controller = "Role", action = "Index", id = UrlParameter.Optional } );</code> <br>  â€œroli/{action}/{id}â€       defaults.  action  . <br> .  : <br> <code><a href="https://habr.com/roli"></a> </code> <br>   defaults action=â€Indexâ€: <br> <code><a href="https://habr.com/roli/Index"></a> </code> <br>    â€œDefaultsâ€: <br> <code><a href="https://habr.com/Role"></a> </code> <br> <br>   ,      â€œdefaultâ€     Role/Index: <br> <code class="cs"> context.MapRoute( name : "default", url : "{controller}/{action}/{id}", defaults : new { controller = "Home", action = "Index", id = UrlParameter.Optional }, );</code> <br>     ,   <code>IgnoreRoute</code> ,   ,   url   ,    ,     ,     . <br> <br>  (Constrains) <br>        ,    . , id      : <br> <code class="cs">routes.MapRoute( name: "Role", url: "roli/{action}/{id}", defaults: new { controller = "Role", action = "Index", id = UrlParameter.Optional }, constraints : new {id = @"\d+"} );</code> <br>   id,     ,     ,         : <br> : <br> <code>&lt;a href="@Url.Action("Index", "Role", new { id = "privet" })"&gt;</code></code> <pre> <code class="hljs pgsql"><code>,   â€“  ,  â€“ action,  â€“ controller, ( )     ,         â€“       <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>. .. : <br> @Html.ActionLink(â€œ   <span class="hljs-number"><span class="hljs-number">1</span></span>â€, â€œItemâ€, â€œ<span class="hljs-keyword"><span class="hljs-keyword">User</span></span>â€, <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> {id = <span class="hljs-number"><span class="hljs-number">1</span></span>}, <b><span class="hljs-keyword"><span class="hljs-keyword">null</span></span></b> )</code> <br>    <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>: <br> <code>@Html.ActionLink(â€œ   <span class="hljs-number"><span class="hljs-number">1</span></span>â€, â€œItemâ€, â€œ<span class="hljs-keyword"><span class="hljs-keyword">User</span></span>â€, <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> {id = <span class="hljs-number"><span class="hljs-number">1</span></span>})</code> <br>     : <br> <code>   <span class="hljs-number"><span class="hljs-number">1</span></span></code> <br> <br>    <br>  ,         RoleController: <br> <code class="cs">routes.MapRoute( <span class="hljs-type"><span class="hljs-type">name</span></span>: "Role", url: "roli/{action}/{id}", defaults: <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> { controller = "Role", action = "Index", id = UrlParameter.Optional } );</code> <br>  â€œroli/{action}/{id}â€       defaults.  action  . <br> .  : <br> <code><a href="https://habr.com/roli"></a> </code> <br>   defaults action=â€<span class="hljs-keyword"><span class="hljs-keyword">Index</span></span>â€: <br> <code><a href="https://habr.com/roli/Index"></a> </code> <br>    â€œDefaultsâ€: <br> <code><a href="https://habr.com/Role"></a> </code> <br> <br>   ,      â€œ<span class="hljs-keyword"><span class="hljs-keyword">default</span></span>â€     <span class="hljs-keyword"><span class="hljs-keyword">Role</span></span>/<span class="hljs-keyword"><span class="hljs-keyword">Index</span></span>: <br> <code class="cs"> context.MapRoute( <span class="hljs-type"><span class="hljs-type">name</span></span> : "default", url : "{controller}/{action}/{id}", defaults : <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> { controller = "Home", action = "Index", id = UrlParameter.Optional }, );</code> <br>     ,   <code>IgnoreRoute</code> ,   ,   url   ,    ,     ,     . <br> <br>  (Constrains) <br>        ,    . , id      : <br> <code class="cs">routes.MapRoute( <span class="hljs-type"><span class="hljs-type">name</span></span>: "Role", url: "roli/{action}/{id}", defaults: <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> { controller = "Role", action = "Index", id = UrlParameter.Optional }, constraints : <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> {id = @"\d+"} );</code> <br>   id,     ,     ,         : <br> : <br> <code>&lt;a href="@Url.Action("<span class="hljs-keyword"><span class="hljs-keyword">Index</span></span>", "<span class="hljs-keyword"><span class="hljs-keyword">Role</span></span>", new { id = "privet" })"&gt;</code></code> </pre> <code><code>,   â€“  ,  â€“ action,  â€“ controller, ( )     ,         â€“       null. .. : <br> @Html.ActionLink(â€œ   1â€, â€œItemâ€, â€œUserâ€, new {id = 1}, <b>null</b> )</code> <br>    null: <br> <code>@Html.ActionLink(â€œ   1â€, â€œItemâ€, â€œUserâ€, new {id = 1})</code> <br>     : <br> <code>   1</code> <br> <br>    <br>  ,         RoleController: <br> <code class="cs">routes.MapRoute( name: "Role", url: "roli/{action}/{id}", defaults: new { controller = "Role", action = "Index", id = UrlParameter.Optional } );</code> <br>  â€œroli/{action}/{id}â€       defaults.  action  . <br> .  : <br> <code><a href="https://habr.com/roli"></a> </code> <br>   defaults action=â€Indexâ€: <br> <code><a href="https://habr.com/roli/Index"></a> </code> <br>    â€œDefaultsâ€: <br> <code><a href="https://habr.com/Role"></a> </code> <br> <br>   ,      â€œdefaultâ€     Role/Index: <br> <code class="cs"> context.MapRoute( name : "default", url : "{controller}/{action}/{id}", defaults : new { controller = "Home", action = "Index", id = UrlParameter.Optional }, );</code> <br>     ,   <code>IgnoreRoute</code> ,   ,   url   ,    ,     ,     . <br> <br>  (Constrains) <br>        ,    . , id      : <br> <code class="cs">routes.MapRoute( name: "Role", url: "roli/{action}/{id}", defaults: new { controller = "Role", action = "Index", id = UrlParameter.Optional }, constraints : new {id = @"\d+"} );</code> <br>   id,     ,     ,         : <br> : <br> <code>&lt;a href="@Url.Action("Index", "Role", new { id = "privet" })"&gt;</code></code> <h5> <code><code>,   â€“  ,  â€“ action,  â€“ controller, ( )     ,         â€“       null. .. : <br> @Html.ActionLink(â€œ   1â€, â€œItemâ€, â€œUserâ€, new {id = 1}, <b>null</b> )</code> <br>    null: <br> <code>@Html.ActionLink(â€œ   1â€, â€œItemâ€, â€œUserâ€, new {id = 1})</code> <br>     : <br> <code>   1</code> <br> <br>    <br>  ,         RoleController: <br> <code class="cs">routes.MapRoute( name: "Role", url: "roli/{action}/{id}", defaults: new { controller = "Role", action = "Index", id = UrlParameter.Optional } );</code> <br>  â€œroli/{action}/{id}â€       defaults.  action  . <br> .  : <br> <code><a href="https://habr.com/roli"></a> </code> <br>   defaults action=â€Indexâ€: <br> <code><a href="https://habr.com/roli/Index"></a> </code> <br>    â€œDefaultsâ€: <br> <code><a href="https://habr.com/Role"></a> </code> <br> <br>   ,      â€œdefaultâ€     Role/Index: <br> <code class="cs"> context.MapRoute( name : "default", url : "{controller}/{action}/{id}", defaults : new { controller = "Home", action = "Index", id = UrlParameter.Optional }, );</code> <br>     ,   <code>IgnoreRoute</code> ,   ,   url   ,    ,     ,     . <br> <br>  (Constrains) <br>        ,    . , id      : <br> <code class="cs">routes.MapRoute( name: "Role", url: "roli/{action}/{id}", defaults: new { controller = "Role", action = "Index", id = UrlParameter.Optional }, constraints : new {id = @"\d+"} );</code> <br>   id,     ,     ,         : <br> : <br> <code>&lt;a href="@Url.Action("Index", "Role", new { id = "privet" })"&gt;</code></code> </h5> <code><code>,   â€“  ,  â€“ action,  â€“ controller, ( )     ,         â€“       null. .. : <br> @Html.ActionLink(â€œ   1â€, â€œItemâ€, â€œUserâ€, new {id = 1}, <b>null</b> )</code> <br>    null: <br> <code>@Html.ActionLink(â€œ   1â€, â€œItemâ€, â€œUserâ€, new {id = 1})</code> <br>     : <br> <code>   1</code> <br> <br>    <br>  ,         RoleController: <br> <code class="cs">routes.MapRoute( name: "Role", url: "roli/{action}/{id}", defaults: new { controller = "Role", action = "Index", id = UrlParameter.Optional } );</code> <br>  â€œroli/{action}/{id}â€       defaults.  action  . <br> .  : <br> <code><a href="https://habr.com/roli"></a> </code> <br>   defaults action=â€Indexâ€: <br> <code><a href="https://habr.com/roli/Index"></a> </code> <br>    â€œDefaultsâ€: <br> <code><a href="https://habr.com/Role"></a> </code> <br> <br>   ,      â€œdefaultâ€     Role/Index: <br> <code class="cs"> context.MapRoute( name : "default", url : "{controller}/{action}/{id}", defaults : new { controller = "Home", action = "Index", id = UrlParameter.Optional }, );</code> <br>     ,   <code>IgnoreRoute</code> ,   ,   url   ,    ,     ,     . <br> <br>  (Constrains) <br>        ,    . , id      : <br> <code class="cs">routes.MapRoute( name: "Role", url: "roli/{action}/{id}", defaults: new { controller = "Role", action = "Index", id = UrlParameter.Optional }, constraints : new {id = @"\d+"} );</code> <br>   id,     ,     ,         : <br> : <br> <code>&lt;a href="@Url.Action("Index", "Role", new { id = "privet" })"&gt;</code></code> <pre> <code class="hljs pgsql"><code>,   â€“  ,  â€“ action,  â€“ controller, ( )     ,         â€“       <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>. .. : <br> @Html.ActionLink(â€œ   <span class="hljs-number"><span class="hljs-number">1</span></span>â€, â€œItemâ€, â€œ<span class="hljs-keyword"><span class="hljs-keyword">User</span></span>â€, <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> {id = <span class="hljs-number"><span class="hljs-number">1</span></span>}, <b><span class="hljs-keyword"><span class="hljs-keyword">null</span></span></b> )</code> <br>    <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>: <br> <code>@Html.ActionLink(â€œ   <span class="hljs-number"><span class="hljs-number">1</span></span>â€, â€œItemâ€, â€œ<span class="hljs-keyword"><span class="hljs-keyword">User</span></span>â€, <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> {id = <span class="hljs-number"><span class="hljs-number">1</span></span>})</code> <br>     : <br> <code>   <span class="hljs-number"><span class="hljs-number">1</span></span></code> <br> <br>    <br>  ,         RoleController: <br> <code class="cs">routes.MapRoute( <span class="hljs-type"><span class="hljs-type">name</span></span>: "Role", url: "roli/{action}/{id}", defaults: <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> { controller = "Role", action = "Index", id = UrlParameter.Optional } );</code> <br>  â€œroli/{action}/{id}â€       defaults.  action  . <br> .  : <br> <code><a href="https://habr.com/roli"></a> </code> <br>   defaults action=â€<span class="hljs-keyword"><span class="hljs-keyword">Index</span></span>â€: <br> <code><a href="https://habr.com/roli/Index"></a> </code> <br>    â€œDefaultsâ€: <br> <code><a href="https://habr.com/Role"></a> </code> <br> <br>   ,      â€œ<span class="hljs-keyword"><span class="hljs-keyword">default</span></span>â€     <span class="hljs-keyword"><span class="hljs-keyword">Role</span></span>/<span class="hljs-keyword"><span class="hljs-keyword">Index</span></span>: <br> <code class="cs"> context.MapRoute( <span class="hljs-type"><span class="hljs-type">name</span></span> : "default", url : "{controller}/{action}/{id}", defaults : <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> { controller = "Home", action = "Index", id = UrlParameter.Optional }, );</code> <br>     ,   <code>IgnoreRoute</code> ,   ,   url   ,    ,     ,     . <br> <br>  (Constrains) <br>        ,    . , id      : <br> <code class="cs">routes.MapRoute( <span class="hljs-type"><span class="hljs-type">name</span></span>: "Role", url: "roli/{action}/{id}", defaults: <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> { controller = "Role", action = "Index", id = UrlParameter.Optional }, constraints : <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> {id = @"\d+"} );</code> <br>   id,     ,     ,         : <br> : <br> <code>&lt;a href="@Url.Action("<span class="hljs-keyword"><span class="hljs-keyword">Index</span></span>", "<span class="hljs-keyword"><span class="hljs-keyword">Role</span></span>", new { id = "privet" })"&gt;</code></code> </pre> <code><code>,   â€“  ,  â€“ action,  â€“ controller, ( )     ,         â€“       null. .. : <br> @Html.ActionLink(â€œ   1â€, â€œItemâ€, â€œUserâ€, new {id = 1}, <b>null</b> )</code> <br>    null: <br> <code>@Html.ActionLink(â€œ   1â€, â€œItemâ€, â€œUserâ€, new {id = 1})</code> <br>     : <br> <code>   1</code> <br> <br>    <br>  ,         RoleController: <br> <code class="cs">routes.MapRoute( name: "Role", url: "roli/{action}/{id}", defaults: new { controller = "Role", action = "Index", id = UrlParameter.Optional } );</code> <br>  â€œroli/{action}/{id}â€       defaults.  action  . <br> .  : <br> <code><a href="https://habr.com/roli"></a> </code> <br>   defaults action=â€Indexâ€: <br> <code><a href="https://habr.com/roli/Index"></a> </code> <br>    â€œDefaultsâ€: <br> <code><a href="https://habr.com/Role"></a> </code> <br> <br>   ,      â€œdefaultâ€     Role/Index: <br> <code class="cs"> context.MapRoute( name : "default", url : "{controller}/{action}/{id}", defaults : new { controller = "Home", action = "Index", id = UrlParameter.Optional }, );</code> <br>     ,   <code>IgnoreRoute</code> ,   ,   url   ,    ,     ,     . <br> <br>  (Constrains) <br>        ,    . , id      : <br> <code class="cs">routes.MapRoute( name: "Role", url: "roli/{action}/{id}", defaults: new { controller = "Role", action = "Index", id = UrlParameter.Optional }, constraints : new {id = @"\d+"} );</code> <br>   id,     ,     ,         : <br> : <br> <code>&lt;a href="@Url.Action("Index", "Role", new { id = "privet" })"&gt;</code></code> <br>  Will be: <br> <code><a href="https://habr.com/Role/Index/privet"></a> </code> <br>  And for: <br> <code>&lt;a href="@Url.Action("Index", "Role", new { id = "1" })"&gt;</code> <br>  Will be: <br> <code><a href="https://habr.com/roli/Index/1"></a> </code> <br>  <i>Note: For more information on restrictions, please visit: <a href="http://stephenwalther.com/archive/2008/08/07/asp-net-mvc-tip-30-create-custom-route-constraints.aspx">http://stephenwalther.com/archive/2008/08/07/asp-net-mvc-tip-30-create-custom-route-constraints.aspx</a></i> <br><br><h5>  Areas </h5><br>  To separate the various functional modules of the web application.  For example, the forum is separate from the entire site.  We will divide into the Admin part - where the admin panel will be, and everything else, which will be called Default. <br><br><img src="https://habrastorage.org/storage2/fe0/b74/d97/fe0b74d97287a4fc2164403ad743b9f3.jpg"><br><br>  We will do the following: <br><ul><li>  Rename the _Default to Default everywhere. </li><li>  <code>BaseController</code> transfer our controllers (except <code>BaseController</code> ) to the Areas / Default / Controllers folder </li><li>  Rename the namespace for controllers to <code>LessonProject.Areas.Default.Controllers</code> </li><li>  Fix the <code>DefaultAreaRegistration</code> . <br><br>  Here it is important to pay attention to a new parameter for specifying routes: namespaces, it indicates from which namespace controllers can be selected to parse the route: <br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">DefaultAreaRegistration</span></span> : <span class="hljs-title"><span class="hljs-title">AreaRegistration</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> AreaName { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Default"</span></span>; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RegisterArea</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">AreaRegistrationContext context</span></span></span><span class="hljs-function">)</span></span> { context.MapRoute( name : <span class="hljs-string"><span class="hljs-string">"default"</span></span>, url : <span class="hljs-string"><span class="hljs-string">"{controller}/{action}/{id}"</span></span>, defaults : <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> { controller = <span class="hljs-string"><span class="hljs-string">"Home"</span></span>, action = <span class="hljs-string"><span class="hljs-string">"Index"</span></span>, id = UrlParameter.Optional }, namespaces : <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> [] { <span class="hljs-string"><span class="hljs-string">"LessonProject.Areas.Default.Controllers"</span></span> } ); } }</code> </pre><br></li><li>  Global.asax has the string <code>AreaRegistration.RegisterAllAreas();</code>  which registers all found ads of the area, but it doesnâ€™t suit us, because if DefaultArea is registered earlier by AdminArea, then Default routing will work, and we wonâ€™t be able to get into the admin panel, so we fix: <br><pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> adminArea = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AdminAreaRegistration(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> adminAreaContext = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AreaRegistrationContext(adminArea.AreaName, RouteTable.Routes); adminArea.RegisterArea(adminAreaContext); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> defaultArea = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DefaultAreaRegistration(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> defaultAreaContext = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AreaRegistrationContext(defaultArea.AreaName, RouteTable.Routes); defaultArea.RegisterArea(defaultAreaContext);</code> </pre><br></li><li>  Registration of routes is removed (not api). </li></ul><br>  We start. <br><br>  All sources are located at <a href="https://bitbucket.org/chernikov/lessons">https://bitbucket.org/chernikov/lessons</a> </div><p>Source: <a href="https://habr.com/ru/post/176021/">https://habr.com/ru/post/176021/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../176007/index.html">ASP.NET MVC Lesson 2. Dependency Injection</a></li>
<li><a href="../176013/index.html">#FailOverConf - how it was, presentations and videos</a></li>
<li><a href="../176015/index.html">Whatsapp not for sale</a></li>
<li><a href="../176017/index.html">ASP NET.MVC Lesson 3. Working with the Database</a></li>
<li><a href="../176019/index.html">Rapid deployment of the telephone network to Asterisk + Cisco</a></li>
<li><a href="../176023/index.html">ASP.NET MVC Lesson 5. Creating a Database Entry</a></li>
<li><a href="../176029/index.html">Xbox Durango may be submitted on May 21st (+ vote)</a></li>
<li><a href="../176033/index.html">Lionel Messi managed to score a goal for the robot only from the fourth time - video</a></li>
<li><a href="../176035/index.html">Microsoft, Nokia and Oracle have filed a complaint with the European Commission on the monopoly of Android applications from Google</a></li>
<li><a href="../176039/index.html">Network Virtualization in Hyper-V. Customization</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>