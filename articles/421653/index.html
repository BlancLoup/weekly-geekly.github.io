<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Overview and design of modern electricity meters</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently, electronic ones have replaced electronic induction meters. In these counters, the counting mechanism is rotated not with the help of voltage...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Overview and design of modern electricity meters</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/en/u_/0x/enu_0xa8br88kj_ei5p234jwpya.jpeg"><br><br>  Recently, electronic ones have replaced electronic induction meters.  In these counters, the counting mechanism is rotated not with the help of voltage and current coils, but with the help of specialized electronics.  In addition, the means of counting and displaying the readings can be a microcontroller and a digital display, respectively.  All this has reduced the overall dimensions of the devices, as well as reduce their cost. <br><a name="habracut"></a><br>  The structure of almost any electronic meter includes one or several specialized computational microcircuits that perform the basic functions of conversion and measurement.  The input of such a chip receives information about the voltage and current intensity from the corresponding sensors in analog form.  Inside the chip, this information is digitized and converted in a certain way.  As a result, at the output of the microcircuit, pulse signals are formed, the frequency of which is proportional to the current power consumption of the load connected to the meter.  The impulses come to the counting mechanism, which is an electromagnet coordinated with gears on wheels with numbers.  In the case of more expensive meters with a digital display, an additional microcontroller is used.  It connects to the above-mentioned chip and to a digital display via a specific interface, leads to the accumulation of the measurement of electricity in a non-volatile memory, and also provides additional functionality of the device. <br><br>  Consider several similar microcircuits and meter models that I came across. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The figure below shows one of the cheapest and most popular single-phase meters ‚ÄúNEVA 103‚Äù.  As can be seen from the figure, the meter device is quite simple.  The main board consists of a specialized chip, its body kit and a power stabilizer assembly based on a ballast capacitor.  On the additional board there is an LED indicating the consumed load.  In this case - 3200 pulses per 1 kW * h.  It is also possible to remove pulses from the green terminal block located at the top of the meter.  The counting mechanism consists of seven wheels with numbers, gearbox and electromagnet.  It displays the calculated electricity with an accuracy of tenths of a kWh.  As can be seen from the figure, the gearbox has a gear ratio of 200: 1.  According to my remarks, this means ‚Äú200 pulses per 1 kWh‚Äù.  That is, 200 pulses, fed to the electromagnet, will contribute to the scrolling of the last red wheel for 1 full turn.  This ratio is a multiple of the ratio for the LED indicator, which is not accidental.  The gearbox with an electromagnet is placed in a metal box under two screens in order to protect it from interference by an external magnetic field. <br><br><img src="https://habrastorage.org/webt/rs/cl/v_/rsclv_0muit01afdrgjwq8yh77m.jpeg"><br><br>  In this counter model, the ADE7754 chip is used.  Consider its structure. <br><br><img src="https://habrastorage.org/webt/1o/rw/sk/1orwsk2yax8vtd4xoohnmz0g2fu.png"><br><br>  Pins 5 and 6 receive the analog signal from the current shunt, which is located on the first and second terminals of the meter (there is damage in the photo at this point).  Pins 8 and 7 receive an analog signal proportional to the line voltage.  Through pins 16 and 15, it is possible to set the gain of the internal op-amp, which is responsible for the current.  With the help of ADC nodes, both signals are converted into a digital form and, passing through a certain correction and filtering, arrive at the multiplier.  The multiplier multiplies these two signals, as a result, according to the laws of physics, at its output information is obtained about the current power consumption.  This signal is fed to a specialized converter, which generates ready-made pulses to the counting device (pins 23 and 24) and to the control LED and the counting output (pin 22).  Through pins 12, 13 and 14, the frequency multipliers and the modes of the pulses listed above are configured. <br><br>  The standard circuit diagram is practically the circuit of the counter under consideration. <br><br><img src="https://habrastorage.org/webt/ns/3h/oc/ns3hoci0tqaoamcpcu-uo1ocmpu.png"><br><br>  The common negative wire is connected to zero 220V.  The phase enters the pin 8 through a divider on the resistors, which serves to reduce the level of the measured voltage.  The signal from the shunt is fed to the corresponding inputs of the chip through resistors.  In this test circuit, configuration pins 12-14 are connected to a logical unit.  Depending on the meter model, they may have a different configuration.  In this overview, this information is not so important.  The LED indicator is connected to the corresponding pin in series with the optical isolation, on the other side of which a terminal block is connected to remove the counting information (K7 and K8). <br><br>  From the same family of microcircuits, there are similar analogues for three-phase measurements.  Most likely, they are built into cheap three-phase meters.  As an example, the figure below shows the structure of one of these microcircuits, namely the ADE7752. <br><br><img src="https://habrastorage.org/webt/gf/ze/u1/gfzeu1lvt7ewywbtljffpdrxobi.png"><br><br>  Instead of two ADC nodes, there are 6 of them: 2 for each phase.  Negative inputs OU voltage combined together and displayed on pin 13 (zero).  Each of the three phases is connected to its own positive input of the op-amp (pins 14, 15, 16).  The signals from current shunts for each phase are connected by analogy with the previous example.  For each of the three phases, a signal characterizing the current power is extracted using three multipliers.  These signals, in addition to filters, pass through additional nodes that are activated through pin 17 and serve to enable the operation of the mathematical module.  Then these three signals are summed, thus obtaining the total power consumption for all phases.  Depending on the binary configuration of pin 17, the adder sums up either the absolute values ‚Äã‚Äãof the three signals or their modules.  This is necessary for certain subtleties of measuring electricity, the details of which are not considered here.  This signal is fed to a converter similar to the previous example with a single-phase meter.  Its interface is also almost identical. <br><br>  It is worth noting that the above chips are used to measure the active energy.  More expensive meters can measure both active and reactive energy.  Consider, for example, the ADE7754 chip.  As can be seen from the figure below, its structure is much more complex than the structure of microcircuits from the previous examples. <br><br><img src="https://habrastorage.org/webt/zx/ya/_8/zxya_81yrbbty7tv4ntipndjg7g.png"><br><br>  The microcircuit measures active and reactive three-phase electric power, has a SPI interface for connecting a microcontroller and a CF output (pin 1) for external recording of active electric power.  All other information from the chip is read by the microcontroller through the interface.  Through it, the microchip configuration is carried out, in particular, the installation of numerous constants reflected in the structural diagram.  As a result, this microcircuit, unlike the previous two examples, is not autonomous, and a microcontroller is required to build a counter based on this microcircuit.  It is possible to visually observe the nodes responsible for measuring active and reactive energy in the structural diagram.  Here everything is much more complicated than in the previous two examples. <br><br>  As an example, we will consider another interesting device: a three-phase meter ‚ÄúEnergomera TsE6803V R32‚Äù.  As can be seen from the photo below, this counter has not yet been exploited.  He got me in an unsealed form with minor mechanical damage outside.  With all this, he was completely in working condition. <br><br><img src="https://habrastorage.org/webt/yp/kt/oj/ypktoj2hjwhfdklmrjs6lcacqec.jpeg"><br><br>  As you can see, looking at the main board, the device consists of three identical nodes (on the right), the power supply circuits and the microcontroller.  On the bottom of the main board there are three identical modules on separate boards, one for each node.  These modules are AD71056 microcircuits with the minimum required weight.  This microcircuit is a single-phase electricity meter. <br><br><img src="https://habrastorage.org/webt/qt/o6/3w/qto63w6addewkxzaqvqy5cezon8.jpeg"><br><br>  Modules are soldered vertically on the main board.  Twisted wires connect current shunts to these modules. <br><br>  For a couple of hours I managed to draw the electric circuit of the device.  Consider it in more detail. <br><br><img src="https://habrastorage.org/webt/s0/vb/me/s0vbme1rtit8ikse0p8xscisr-w.gif"><br><br>  The right side of the diagram shows a single-phase unit diagram, which was discussed above.  The D1 chip of this AD71056 module is similar to the ADE7755 chip, which was considered earlier.  The fourth contact of the module receives 5V power, the third - voltage signal.  From the second contact information is removed in the form of pulses of power consumption through the output CF of the D1 chip.  The signal from the current shunts enters through the contacts X1 and X2.  The configuration inputs of the SCF chip, S1 and S0 in this case are located on pins 8-10 and configured to "0,1,1". <br><br>  Each of the three modules serves each phase respectively.  The signal for measuring the voltage enters the module through a chain of four resistors and is taken from the zero terminal (‚ÄúN‚Äù).  It should be noted that the common wire for each module is its corresponding phase.  But the common wire of the whole circuit is connected to the zero terminal.  This tricky decision to provide power to each node of the scheme is described below. <br><br>  Each of the three phases goes to the Zener diodes VD4, VD5 and VD6, respectively, then to the RC ballast circuits R1C1, R2C2 and R3C3, then to the zener diodes VD1, VD2 and VD3, which are connected by their anodes to the zero.  From the first three zener diodes, the supply voltage for each module U3, U2 and U1 is removed, respectively, rectified by diodes VD10, VD11 and VD12.  Chip-regulators D1-D3 are used to obtain a supply voltage of 5V.  From the Zener diodes VD1-VD3, the supply voltage of the general circuit is removed, straightened by the diodes VD7-VD9, assembled at one point and fed to the regulator D4, from where 5V is removed. <br><br>  The general scheme is microcontroller (MK) D5 PIC16F720.  Obviously, it serves to collect and process information about the current power consumption coming from each module in the form of pulses.  These signals come from the U3, U2 and U1 modules to the MK pins RA2, RA4 and RA5 through optical isolators V1, V2 and V3, respectively.  As a result, on pins RC1 and RC2, the MK generates pulses for the mechanical counting device M1.  It is similar to the device considered earlier, and also has a 200: 1 ratio.  The coil resistance is high and is about 500 Ohms, which allows you to connect it directly to the MC without additional transistor circuits.  On the pin RC0, the MK generates pulses for the LED indicator HL2 and for the external pulse output at the XT1 connector.  The latter is implemented through optical isolation V4 and the transistor VT1.  In this counter model, the ratio is 400 pulses per 1 kWh.  In practice, when testing this meter (after minor repairs), it was noticed that the electromagnetic coil of the counting mechanism operates synchronously with the flash of the HL2 LED, but one time (two times less).  This confirms the correspondence of the ratio of 400: 1 for the indicator and 200: 1 for the counting mechanism, as mentioned earlier. <br><br>  On the left there is a place for a 10-pin connector XS1, which serves for flashing, as well as for the UART interface of the MK. <br><br>  Thus, the three-phase counter "Energomera TsE6803V R32" consists of three single-phase measuring chips and a microcontroller, processing information from them. <br><br>  In conclusion, it is worth noting that there are a number of meter models that are much more complex in their functionality.  For example, meters with remote control of indications on the power line, or even through a mobile communication module.  In this article, I reviewed only the simplest models and the basic principles of constructing their electrical circuits.  I apologize in advance for possibly incorrect terminology in the text, for I tried to express in simple language. </div><p>Source: <a href="https://habr.com/ru/post/421653/">https://habr.com/ru/post/421653/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../421637/index.html">Kids watch with GPS by September 1: what you can pay attention</a></li>
<li><a href="../421639/index.html">Chinese laptop Jumper EZBook X4 - backlit keyboard and new platform Gemini Lake</a></li>
<li><a href="../421643/index.html">Craft - to the library</a></li>
<li><a href="../421647/index.html">Convenient way to test React components</a></li>
<li><a href="../421649/index.html">‚ÄúTop 3D Expo. Digital Education 2018 ‚ÄùSeptember 21 in Technopolis Moscow</a></li>
<li><a href="../421655/index.html">Engineers jetpack: Alexander Fedorovich Andreev</a></li>
<li><a href="../421657/index.html">JSON continuous growth</a></li>
<li><a href="../421659/index.html">How Microsoft forgot about half the world or read error messages</a></li>
<li><a href="../421663/index.html">Adult Containers (Part 03): 10 Things You Should Not Do with Containers</a></li>
<li><a href="../421665/index.html">Android Jetpack: turn applications into rockets</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>