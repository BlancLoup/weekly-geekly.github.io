<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Running PhoneGap applications in a desktop browser</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="With this post I want to open a series of small notes about using PhoneGap in real projects. Notes about large and not very great finds, which need to...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Running PhoneGap applications in a desktop browser</h1><div class="post__text post__text-html js-mediator-article">  With this post I want to open a series of small notes about using PhoneGap in real projects.  Notes about large and not very great finds, which need to be fixed somewhere, so that later not to look again.  At the end of the post - a vote on whether such publications will be useful here. <br><br><h4>  Why open mobile apps in a browser? </h4><br>  There are two reasons: 1) for debugging, 2) for demonstration.  About the first is clear.  The second opportunity is not often used by developers, but you can meet it. <br><br>  Using a slightly modified PhoneGap application, you can display not just a screenshot on the promo site, but a real working JS dynamic.  That is, wrap the PhoneGap source in an iframe, put it inside a graphical view of some next iPhone and voila.  Some wow-factor and a penny to the conversion are guaranteed. <br><a name="habracut"></a><br><h4>  What needs to be changed? </h4><br>  Inclusion in the HTML cordova.js on the desktop gives a lot of errors, the mobile application without this inclusion will not work.  Start JS logic on the desktop and on the mobile phone need for different events.  If we start JS-logic on a mobile phone with a standard domready event, we will get extra pop-up questions when trying to use GPS navigation. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  The usual approach </h4><br>  The simplest thing is to make two versions of the source code.  1) for <b>mobile phones</b> : HTML <b>with the inclusion of cordova.js</b> + JS with the start of the <b>deviceready</b> event and 2) for the browser: <b>without cordova.js</b> + JS with the start of the <b>domready</b> event.  And comment / uncomment then small pieces before each assembly.  Pretty quickly annoying. <br><br><h4>  Decision </h4><br>  Always include cordova.js in HTML, <b>but</b> remove the cordova.js file from the project tree.  When building the PhoneGap Build project, the server will itself substitute the necessary JS file into the tree, and when opening from the browser to the console, a single JavaScript error that does not affect anything will be spat out.  Start JS-logic carried out as follows: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.cordova ) { <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.addEventListener( <span class="hljs-string"><span class="hljs-string">'deviceready'</span></span>, start, <span class="hljs-literal"><span class="hljs-literal">false</span></span> ); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { $( start ); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">start</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   JS-   }</span></span></code> </pre> </div><p>Source: <a href="https://habr.com/ru/post/203992/">https://habr.com/ru/post/203992/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../203974/index.html">Why do many banks and payment systems worry little about the safety of their customers?</a></li>
<li><a href="../203980/index.html">XCP for those who want but are afraid</a></li>
<li><a href="../203984/index.html">It is a little about neutrino, cosmology and domestic projects</a></li>
<li><a href="../203986/index.html">How we accelerated the search on hh.ru</a></li>
<li><a href="../203988/index.html">Furious bulls: how Wall Street became dependent on "high-speed" trades. Part 4</a></li>
<li><a href="../203994/index.html">What is the problem of "BEM problems"?</a></li>
<li><a href="../203996/index.html">How Cybersecurity Threw Cyberdrugs</a></li>
<li><a href="../203998/index.html">Visit to ASICMINER farm</a></li>
<li><a href="../204000/index.html">How I struggled with sms-spam or grief from the mind</a></li>
<li><a href="../204004/index.html">Graphics and typography of the new 2GIS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>