<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Bash's dead, baby *. Viva zsh</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I will allow myself to raise the fallen banner left over from previous speakers and continue the good work of promoting zsh to the masses. I hope afte...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Bash's dead, baby *. Viva zsh</h1><div class="post__text post__text-html js-mediator-article">  I will allow myself to raise the fallen banner left over from <a href="http://habrahabr.ru/blogs/linux/42680/">previous</a> <a href="http://habrahabr.ru/blogs/linux/42691/">speakers</a> and continue the good work of promoting zsh to the masses.  I hope after reading the topic you will also change the good old one, but, as for me, stuck in the past, bash with a more convenient and advanced zsh. <br>  Not to be unfounded, let's try to consider this case in the context of an absolutely subjective and biased comparison bash vs.  zsh <a name="habracut"></a><habracut><br>  Immediately make a reservation that I am not a supporter of the console on desktops, even though I use Linux at home, the GUI is closer to a person.  Therefore, the story will go about things that are more useful to the administrator than the end user, but by the way who knows. <br><br>  So, typical administrator operations: navigating through the file system, copying / deleting files, viewing logs, editing configuration files, moderate use of scripts to automate repetitive operations.  Um ... forgot nothing? <br>  Let's go in order. <br><br><h4>  1. Navigation </h4><br>  <b>bash:</b> <br>  classic for all * nix (and not even * nix) shells <br> <code>user@host:/home# cd dir1/subdir1/subdir2 <br> user@host:/home/dir1/subdir1/subdir2#</code> <br> <br>  <b>zsh:</b> <br>  The simplest and simplest in appearance, but at the same time my most favorite feature is the autocd <s>telepathic mode of control</s> , that is, switching between directories without using cd explicitly.  In my experience, it is enabled by default in all default zsh configs of all distributions. <br>  In combination with the ‚Äúuncovering paths‚Äù feature (that is, when you actually remember the whole path, but you are too lazy to type, in this case, you can enter only the initial characters) it makes navigation in zsh faster and more convenient about a million times (by the most modest of my calculations) <br>  As they say, it is better to see once. <br><img src="https://habrastorage.org/getpro/habr/post_images/634/8f5/c86/6348f5c86639b2c5e6a685f3884d4b35.gif" alt="zsh autocd">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Speaking of navigation, you can not avoid the wrenched theme autocomplex. <br>  Autocomplete in zsh is big and beautiful, but, to be honest, I‚Äôm not using some super-fancy stuff that is completely different from bash, since for the most part they are not intuitive.  But, if we talk about the intuitive use of autocomplex when navigating through files, then zsh can boast a ‚Äúmenu‚Äù, which, for me, is an undoubted and big step forward compared to bash. <br>  After all, now you can use not only Tab'om, but also arrows. <br>  And best of all, it all works not only locally, but even on a remote host: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/42d/251/1bd/42d2511bdfd0d7d3c68a07aaf7afbc19.gif" alt="zsh menu"><br>  <i>(menu function, disabled by default)</i> <br><br>  But there is an interesting way to use cd in zsh (although it would seem, why after autocd someone might need cd ...) <br>  Suppose we have the following directory structure in the file system: <br><ol><li>  / projects / project1 / src / backup </li><li>  / projects / project2 / src / backup </li></ol><br>  and we are in the first: <br> <code>user@host:/projects/project1/src/backup# cd 1 2 <br> user@host:/projects/project2/src/backup#</code> <br> <br>  magic however ... <br><br><h4>  2. Copy / Delete files </h4><br>  <b>bash:</b> <br>  something razatakoe <br> <code>user@host:/home# rm somelogs201001{12,{14..19},25}.log</code> <br>  (similar to copy) <br>  <b>zsh:</b> <br>  In addition to the above option from bash, in zsh you can use the following construction: <br> <code>user@host:/home# rm **/*.log</code> <br>  with the help of which all log files will be deleted from the current and all the underlying directories <br>  In many cases, this feature (‚ÄúRecursive Globing‚Äù) in combination with ls / mv / cp can replace and simplify scripts using find <br><br><h4>  3. View logs </h4><br>  <b>bash:</b> <br> <code>user@host:/home# less /var/log/messages</code> <br>  <b>zsh:</b> <br>  Well ... here it would be naive to expect some kind of over-breakthrough.  The developers have just introduced, so to speak, ‚Äúintuitive‚Äù redirection. <br> <code>user@host:/home# &lt; /var/log/messages</code> <br>  This uses the program from the $ PAGER variable <br><br><h4>  4. Editing configuration files </h4><br>  <b>bash:</b> <br> <code>user@host:/home# vim /somedir/someconfig.ini</code> <br>  <b>zsh:</b> <br>  The operation is trivial, but you can ‚Äúsave on matches‚Äù here. <br>  You can associate files by extension.  For example, associate ini files with vim <br><blockquote>  user <font color="#000000">@</font> host: <font color="#000000">/</font> home <font color="#666666"># alias -s ini = vim</font> </blockquote><br>  After that just enter the file name <br><blockquote>  user <font color="#000000">@</font> host: <font color="#000000">/</font> home <font color="#666666"># /somedir/someconfig.ini</font> </blockquote><br>  we will open it for editing. <br><br>  Console home gurus use this functionality to open movies, pictures and documents, but for me this is fanaticism.  I repeat once again - on the desktop taxis GUI. <br><br><h4>  5. Moderate use of scripts </h4><br>  Moderate, because for the most typical tasks all bicycles have already been invented long ago, and in 90% of cases a simple or difficult one-liner is enough.  Let's see how the contestants behave here. <br>  I have to use campers with bash2, bash3 and zsh for work, so you can very clearly see their behavior and, one can say, the evolution in terms of scripting capabilities. <br>  Here's how they behave on typical tasks, such as polling hosts, generating similar entries for some tables and so forth: <br>  <b>bash2:</b> <b><br></b> <code>user@host:/home# for i in $(seq 1 10);do ping -c 1 192.168.0.$i;done</code> <br>  <b>bash3:</b> <br> <code>user@host:/home# for i in 192.168.0.{1..10};do ping -c 1 $i;done</code> <br>  <b>zsh:</b> <br> <code>user@host:/home# for i in 192.168.0.{1..10};ping -c 1 $i</code> <br> <br>  In this case, zsh handles the format of a variable in a cycle more carefully, i.e.  code <br> <code>user@host:/home# for i in 192.168.0.{001..100};echo $i</code> <br>  will give exactly what is expected intuitively.  bash in this case will discard the leading zeroes of the counter. <br><br>  In general, scripts written in bash are 99.999% compatible with zsh (and when using any compatibility keys and 100% complete. For detailed information on percentages, please read the COMPABILITY section in mane carefully), I, for example, I found my own scripts with only one difference in terms of compatibility - in bash, the array elements are numbered from 0, and in zsh from 1, which I would attribute to plus zsh, since the script will be simpler: <br>  <b>bash:</b> <br> <code>for element in {0..$((${#array[@]})) - 1}</code> <br>  <b>zsh:</b> <br> <code>for element in {1..$((${#array[@]}))}</code> <br> <br><h4>  Far-reaching conclusions </h4><br>  I did not begin here to describe the remaining 50 thousand advantages, keys, and other zsh options, because as experience shows, 90% of the capabilities of any shell are not used 99.9% of the time.  In addition, they offer almost no advantages in daily work and are not so intuitive as compared to bash, while requiring thoughtful work with a file in the .zshrc area <br><br>  If you do not know all the above features, then the user and the zsh functionality will be absolutely indistinguishable from bash, including all its chips, such as a recursive search.  Therefore, the shell can be changed without serious consequences, and gradually master. <br>  zsh is included in most of the full-featured Linux distributions (and also * BSD + is ported to many exotic OSs, it seems even to Windows, but I will not lie - I did not check it myself), or it is easily accessible through repositories. <br><br><h4>  Bash strikes back </h4><br>  Even considering and using all the above advantages of zsh, there are a couple of moments in which bash is more convenient for me: <br>  - cdspell option, which fixes without unnecessary queries, typos in <i>cd / ect</i> paths on <i>cd / etc</i> <br>  <i>-in ubuntu, zsh by default cannot properly co-operate with apt, which in bash can offer uninstalled or similar packages.</i>  <i>zsh just says "package / command not found".</i>  <i><s>How to beat it, I do not know</s> .</i>  SOLVED, see UPD <br><br><hr><br>  <sup>* In the <a href="http://www.lyricsmania.com/soundtracklyrics/pulp_fiction_soundtrack_lyrics_129/zeds_dead_baby_%255Bdialogue%255D___bullwinkle_part_ii_medeiros_maria_de_lyrics_1931.html">original, of</a> course, everything was completely the opposite, therefore, for the sake of cheap PR, the quote had to be nastyly misquoted</sup> <br><br>  <i>UPD</i> <i><br></i>  <i>1. Thank you, thank you.</i>  <i>Transferred a topic in Linux for all</i> <i><br></i>  <i>2. My <a href="http://pastebin.com/f5042601a">config</a> as an example of plagiarism and the inept compilation of other people's finds</i> <i><br></i>  <i>3. The riddle from the menu on the remote host was solved in the comments - of course, it could not have happened without authorization by key</i> <i><br></i>  <i>4. Thank you <a href="https://habrahabr.ru/users/imposeren/" class="user_link">Imposeren</a> for solving the problem of integrating zsh and apt into ubuntu.</i>  <i>In order for apt in zsh to offer uninstalled / similar packages, it is necessary to sort out (from the word source) the file / etc / zsh_command_not_found</i> <i><br></i>  <i>5. Rethinking all the comments, rarely, but aptly updated the topic in the name of the Moon and so as not to forget</i> </habracut></div><p>Source: <a href="https://habr.com/ru/post/82537/">https://habr.com/ru/post/82537/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../82528/index.html">We change books for reviews</a></li>
<li><a href="../82529/index.html">Beautiful PR or how disappointed we are in VDS on Hyper-V from parking.ru</a></li>
<li><a href="../82531/index.html">What Wikipedia spends money on. 2008/2009 Report</a></li>
<li><a href="../82533/index.html">Intel office</a></li>
<li><a href="../82535/index.html">Microsoft transferred opensource code to Zend Framework</a></li>
<li><a href="../82539/index.html">ESET and the extension of NOD32 from a neighboring state</a></li>
<li><a href="../82541/index.html">We make a photo only by means of php + css + html</a></li>
<li><a href="../82542/index.html">Monopoly online</a></li>
<li><a href="../82544/index.html">Comparing libtheora and x264 codecs</a></li>
<li><a href="../82550/index.html">Resource-saving shredder for 100 thousand dollars</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>