<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>KISS + Ruby = load server fast</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I will describe the story here as on my knees made "load" testing service, and some thoughts about Ruby;) 

 Once upon a time there was one big system...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>KISS + Ruby = load server fast</h1><div class="post__text post__text-html js-mediator-article">  I will describe the story here as on my knees made "load" testing service, and some thoughts about Ruby;) <br><br>  Once upon a time there was one big system; it was not the first year, not the first release. <br>  The system is a central server through which information runs and a set of desktop applications that generate and consume this information, so to speak, gateways and destination. <br><br>  Once there was a trouble with the server, to locate the defect, it was necessary to load the server - to imitate the work of a large number of simultaneous active clients. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><br>  Clients communicate with servers through the Windows Communication Foundation aka WCF. <br><br>  As in any serious system with customers, there was an emulator available, which through the GUI made it possible to pull all the methods and watch the answers. <br>  In the emulator, there was even a special mode that could pretend to be living clients, like real ones (pull the right methods in the right order), even know how to do it multithreaded. <br><br>  Actually this is a prolonged introduction, we turn to the details. <br>  It was necessary to make a load of 6000 working customers. <br>  Each of them shows activity every 10 seconds. <br>  everyone has their own username / password. <br><br>  One emulator was able to run 250 threads / clients. In total, 24 copies of the emulator were needed to run, on a pile of machines (depending on the capacity from 1 to 4 pieces per machine). <br>  However, they said muzhuki, but it is necessary means it is necessary, launched, and the first stage was closed on this, confirmed the theory and postponed for the rarity of the situation. <br><br>  Then after a while again there was a need for a load, and the person who let it all in - was absent attracted me, but since  it was Friday night, etc., we decided to postpone until Monday. <br><br>  Actually, I am not a developer - I am a tester / QA, but with different strange backgrounds. <br><br>  I decided at home to see if it was possible to simplify this matter, whether it was possible to create a load with ‚Äúmore other‚Äù methods. <br><br>  I took the emulator, took Fiddler2 (Fiddler is a Web Debugging Proxy) and looked at what was being done. <br><br>  I saw there XML which runs both ways, and the magic word SOAP. <br><br>  Oh, I said, a good excuse to finally get to know him better. <br><br>  At the same time and check whether such things can be done on Ruby. <br>  Why Ruby? <br>  Well, firstly because it's beautiful, it's time, <br>  secondly Ruby + WATIR after this bundle I got carried away with chopping (I think separately to write about it) <br>  in the third - multi-platform, this was an important factor for me since  at home, where the first phase of research took place - OS X (Hackintosh), at work, Windows, and of course, Linux also came in handy in real life. <br><br>  I looked for a suitable library, found soap4r, Savon, chose the latter, because  It seemed easier.  Put the game started. <br><br>  Surprisingly, the first working code came out quickly, the task was to get a request that looked like a request from a native emulator. <br><blockquote><ol><li> <code><font color="black"><font color="#9966CC"><b>def</b></font> data_available <font color="#006600"><b>(</b></font> client,id,password <font color="#006600"><b>)</b></font> _xml= <font color="#006600"><b>%</b></font> Q <font color="#006600"><b>|&lt;</b></font> ?xml version= <font color="#996600">"1.0"</font> encoding= <font color="#996600">"utf-8"</font> ? <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Envelope xmlns:soap= <font color="#996600">"http://schemas.xmlsoap.org/soap/envelope/"</font> xmlns:xsi= <font color="#996600">"http://www.w3.org/2001/XMLSchema-instance"</font> xmlns:xsd= <font color="#996600">"http://www.w3.org/2001/XMLSchema"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> DataAvailable xmlns= <font color="#996600">"Company.ESD"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> ID <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{id}&lt;/deviceID&gt;</i></font> <font color="#006600"><b>&lt;</b></font> Password <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{password}&lt;/Password&gt;</i></font> <font color="#006600"><b>&lt;/</b></font> DataAvailable <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Envelope <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>|</b></font> _xml. <font color="#CC0066"><b>gsub!</b></font> <font color="#006600"><b>(</b></font> <font color="#006600"><b>/</b></font> \r <font color="#006600"><b>|</b></font> \n <font color="#006600"><b>/</b></font> , <font color="#996600">""</font> <font color="#006600"><b>)</b></font> response = client. <font color="#9900CC">request</font> <font color="#996600">"Company.ESD/Data/DataAvailable"</font> , <font color="#996600">"xmlns"</font> <font color="#006600"><b>=&gt;</b></font> <font color="#996600">"Company.ESD"</font> <font color="#9966CC"><b>do</b></font> soap. <font color="#9900CC">xml</font> =_xml <font color="#9966CC"><b>end</b></font> response <font color="#9966CC"><b>end</b></font> <font color="#9966CC"><b>def</b></font> do_test <font color="#006600"><b>(</b></font> id,pwd <font color="#006600"><b>)</b></font> client = <font color="#6666ff"><b>Savon::Client</b></font> . <font color="#9900CC">new</font> <font color="#9966CC"><b>do</b></font> wsdl. <font color="#9900CC">endpoint</font> = <font color="#996600">"https://superserver.super.com/DDService/Data.svc"</font> wsdl. <font color="#9900CC">namespace</font> = <font color="#996600">"https://superserver.super.com"</font> http. <font color="#9900CC">read_timeout</font> = <font color="#006666">90</font> http. <font color="#9900CC">open_timeout</font> = <font color="#006666">90</font> <font color="#9966CC"><b>end</b></font> r=data_available <font color="#006600"><b>(</b></font> client,id,pwd <font color="#006600"><b>)</b></font> . <font color="#9900CC">to_hash</font> <font color="#9966CC"><b>end</b></font></font></code> </li> <li> <code><font color="black"><font color="#9966CC"><b>def</b></font> data_available <font color="#006600"><b>(</b></font> client,id,password <font color="#006600"><b>)</b></font> _xml= <font color="#006600"><b>%</b></font> Q <font color="#006600"><b>|&lt;</b></font> ?xml version= <font color="#996600">"1.0"</font> encoding= <font color="#996600">"utf-8"</font> ? <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Envelope xmlns:soap= <font color="#996600">"http://schemas.xmlsoap.org/soap/envelope/"</font> xmlns:xsi= <font color="#996600">"http://www.w3.org/2001/XMLSchema-instance"</font> xmlns:xsd= <font color="#996600">"http://www.w3.org/2001/XMLSchema"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> DataAvailable xmlns= <font color="#996600">"Company.ESD"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> ID <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{id}&lt;/deviceID&gt;</i></font> <font color="#006600"><b>&lt;</b></font> Password <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{password}&lt;/Password&gt;</i></font> <font color="#006600"><b>&lt;/</b></font> DataAvailable <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Envelope <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>|</b></font> _xml. <font color="#CC0066"><b>gsub!</b></font> <font color="#006600"><b>(</b></font> <font color="#006600"><b>/</b></font> \r <font color="#006600"><b>|</b></font> \n <font color="#006600"><b>/</b></font> , <font color="#996600">""</font> <font color="#006600"><b>)</b></font> response = client. <font color="#9900CC">request</font> <font color="#996600">"Company.ESD/Data/DataAvailable"</font> , <font color="#996600">"xmlns"</font> <font color="#006600"><b>=&gt;</b></font> <font color="#996600">"Company.ESD"</font> <font color="#9966CC"><b>do</b></font> soap. <font color="#9900CC">xml</font> =_xml <font color="#9966CC"><b>end</b></font> response <font color="#9966CC"><b>end</b></font> <font color="#9966CC"><b>def</b></font> do_test <font color="#006600"><b>(</b></font> id,pwd <font color="#006600"><b>)</b></font> client = <font color="#6666ff"><b>Savon::Client</b></font> . <font color="#9900CC">new</font> <font color="#9966CC"><b>do</b></font> wsdl. <font color="#9900CC">endpoint</font> = <font color="#996600">"https://superserver.super.com/DDService/Data.svc"</font> wsdl. <font color="#9900CC">namespace</font> = <font color="#996600">"https://superserver.super.com"</font> http. <font color="#9900CC">read_timeout</font> = <font color="#006666">90</font> http. <font color="#9900CC">open_timeout</font> = <font color="#006666">90</font> <font color="#9966CC"><b>end</b></font> r=data_available <font color="#006600"><b>(</b></font> client,id,pwd <font color="#006600"><b>)</b></font> . <font color="#9900CC">to_hash</font> <font color="#9966CC"><b>end</b></font></font></code> </li> <li> <code><font color="black"><font color="#9966CC"><b>def</b></font> data_available <font color="#006600"><b>(</b></font> client,id,password <font color="#006600"><b>)</b></font> _xml= <font color="#006600"><b>%</b></font> Q <font color="#006600"><b>|&lt;</b></font> ?xml version= <font color="#996600">"1.0"</font> encoding= <font color="#996600">"utf-8"</font> ? <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Envelope xmlns:soap= <font color="#996600">"http://schemas.xmlsoap.org/soap/envelope/"</font> xmlns:xsi= <font color="#996600">"http://www.w3.org/2001/XMLSchema-instance"</font> xmlns:xsd= <font color="#996600">"http://www.w3.org/2001/XMLSchema"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> DataAvailable xmlns= <font color="#996600">"Company.ESD"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> ID <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{id}&lt;/deviceID&gt;</i></font> <font color="#006600"><b>&lt;</b></font> Password <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{password}&lt;/Password&gt;</i></font> <font color="#006600"><b>&lt;/</b></font> DataAvailable <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Envelope <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>|</b></font> _xml. <font color="#CC0066"><b>gsub!</b></font> <font color="#006600"><b>(</b></font> <font color="#006600"><b>/</b></font> \r <font color="#006600"><b>|</b></font> \n <font color="#006600"><b>/</b></font> , <font color="#996600">""</font> <font color="#006600"><b>)</b></font> response = client. <font color="#9900CC">request</font> <font color="#996600">"Company.ESD/Data/DataAvailable"</font> , <font color="#996600">"xmlns"</font> <font color="#006600"><b>=&gt;</b></font> <font color="#996600">"Company.ESD"</font> <font color="#9966CC"><b>do</b></font> soap. <font color="#9900CC">xml</font> =_xml <font color="#9966CC"><b>end</b></font> response <font color="#9966CC"><b>end</b></font> <font color="#9966CC"><b>def</b></font> do_test <font color="#006600"><b>(</b></font> id,pwd <font color="#006600"><b>)</b></font> client = <font color="#6666ff"><b>Savon::Client</b></font> . <font color="#9900CC">new</font> <font color="#9966CC"><b>do</b></font> wsdl. <font color="#9900CC">endpoint</font> = <font color="#996600">"https://superserver.super.com/DDService/Data.svc"</font> wsdl. <font color="#9900CC">namespace</font> = <font color="#996600">"https://superserver.super.com"</font> http. <font color="#9900CC">read_timeout</font> = <font color="#006666">90</font> http. <font color="#9900CC">open_timeout</font> = <font color="#006666">90</font> <font color="#9966CC"><b>end</b></font> r=data_available <font color="#006600"><b>(</b></font> client,id,pwd <font color="#006600"><b>)</b></font> . <font color="#9900CC">to_hash</font> <font color="#9966CC"><b>end</b></font></font></code> </li> <li> <code><font color="black"><font color="#9966CC"><b>def</b></font> data_available <font color="#006600"><b>(</b></font> client,id,password <font color="#006600"><b>)</b></font> _xml= <font color="#006600"><b>%</b></font> Q <font color="#006600"><b>|&lt;</b></font> ?xml version= <font color="#996600">"1.0"</font> encoding= <font color="#996600">"utf-8"</font> ? <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Envelope xmlns:soap= <font color="#996600">"http://schemas.xmlsoap.org/soap/envelope/"</font> xmlns:xsi= <font color="#996600">"http://www.w3.org/2001/XMLSchema-instance"</font> xmlns:xsd= <font color="#996600">"http://www.w3.org/2001/XMLSchema"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> DataAvailable xmlns= <font color="#996600">"Company.ESD"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> ID <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{id}&lt;/deviceID&gt;</i></font> <font color="#006600"><b>&lt;</b></font> Password <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{password}&lt;/Password&gt;</i></font> <font color="#006600"><b>&lt;/</b></font> DataAvailable <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Envelope <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>|</b></font> _xml. <font color="#CC0066"><b>gsub!</b></font> <font color="#006600"><b>(</b></font> <font color="#006600"><b>/</b></font> \r <font color="#006600"><b>|</b></font> \n <font color="#006600"><b>/</b></font> , <font color="#996600">""</font> <font color="#006600"><b>)</b></font> response = client. <font color="#9900CC">request</font> <font color="#996600">"Company.ESD/Data/DataAvailable"</font> , <font color="#996600">"xmlns"</font> <font color="#006600"><b>=&gt;</b></font> <font color="#996600">"Company.ESD"</font> <font color="#9966CC"><b>do</b></font> soap. <font color="#9900CC">xml</font> =_xml <font color="#9966CC"><b>end</b></font> response <font color="#9966CC"><b>end</b></font> <font color="#9966CC"><b>def</b></font> do_test <font color="#006600"><b>(</b></font> id,pwd <font color="#006600"><b>)</b></font> client = <font color="#6666ff"><b>Savon::Client</b></font> . <font color="#9900CC">new</font> <font color="#9966CC"><b>do</b></font> wsdl. <font color="#9900CC">endpoint</font> = <font color="#996600">"https://superserver.super.com/DDService/Data.svc"</font> wsdl. <font color="#9900CC">namespace</font> = <font color="#996600">"https://superserver.super.com"</font> http. <font color="#9900CC">read_timeout</font> = <font color="#006666">90</font> http. <font color="#9900CC">open_timeout</font> = <font color="#006666">90</font> <font color="#9966CC"><b>end</b></font> r=data_available <font color="#006600"><b>(</b></font> client,id,pwd <font color="#006600"><b>)</b></font> . <font color="#9900CC">to_hash</font> <font color="#9966CC"><b>end</b></font></font></code> </li> <li> <code><font color="black"><font color="#9966CC"><b>def</b></font> data_available <font color="#006600"><b>(</b></font> client,id,password <font color="#006600"><b>)</b></font> _xml= <font color="#006600"><b>%</b></font> Q <font color="#006600"><b>|&lt;</b></font> ?xml version= <font color="#996600">"1.0"</font> encoding= <font color="#996600">"utf-8"</font> ? <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Envelope xmlns:soap= <font color="#996600">"http://schemas.xmlsoap.org/soap/envelope/"</font> xmlns:xsi= <font color="#996600">"http://www.w3.org/2001/XMLSchema-instance"</font> xmlns:xsd= <font color="#996600">"http://www.w3.org/2001/XMLSchema"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> DataAvailable xmlns= <font color="#996600">"Company.ESD"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> ID <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{id}&lt;/deviceID&gt;</i></font> <font color="#006600"><b>&lt;</b></font> Password <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{password}&lt;/Password&gt;</i></font> <font color="#006600"><b>&lt;/</b></font> DataAvailable <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Envelope <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>|</b></font> _xml. <font color="#CC0066"><b>gsub!</b></font> <font color="#006600"><b>(</b></font> <font color="#006600"><b>/</b></font> \r <font color="#006600"><b>|</b></font> \n <font color="#006600"><b>/</b></font> , <font color="#996600">""</font> <font color="#006600"><b>)</b></font> response = client. <font color="#9900CC">request</font> <font color="#996600">"Company.ESD/Data/DataAvailable"</font> , <font color="#996600">"xmlns"</font> <font color="#006600"><b>=&gt;</b></font> <font color="#996600">"Company.ESD"</font> <font color="#9966CC"><b>do</b></font> soap. <font color="#9900CC">xml</font> =_xml <font color="#9966CC"><b>end</b></font> response <font color="#9966CC"><b>end</b></font> <font color="#9966CC"><b>def</b></font> do_test <font color="#006600"><b>(</b></font> id,pwd <font color="#006600"><b>)</b></font> client = <font color="#6666ff"><b>Savon::Client</b></font> . <font color="#9900CC">new</font> <font color="#9966CC"><b>do</b></font> wsdl. <font color="#9900CC">endpoint</font> = <font color="#996600">"https://superserver.super.com/DDService/Data.svc"</font> wsdl. <font color="#9900CC">namespace</font> = <font color="#996600">"https://superserver.super.com"</font> http. <font color="#9900CC">read_timeout</font> = <font color="#006666">90</font> http. <font color="#9900CC">open_timeout</font> = <font color="#006666">90</font> <font color="#9966CC"><b>end</b></font> r=data_available <font color="#006600"><b>(</b></font> client,id,pwd <font color="#006600"><b>)</b></font> . <font color="#9900CC">to_hash</font> <font color="#9966CC"><b>end</b></font></font></code> </li> <li> <code><font color="black"><font color="#9966CC"><b>def</b></font> data_available <font color="#006600"><b>(</b></font> client,id,password <font color="#006600"><b>)</b></font> _xml= <font color="#006600"><b>%</b></font> Q <font color="#006600"><b>|&lt;</b></font> ?xml version= <font color="#996600">"1.0"</font> encoding= <font color="#996600">"utf-8"</font> ? <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Envelope xmlns:soap= <font color="#996600">"http://schemas.xmlsoap.org/soap/envelope/"</font> xmlns:xsi= <font color="#996600">"http://www.w3.org/2001/XMLSchema-instance"</font> xmlns:xsd= <font color="#996600">"http://www.w3.org/2001/XMLSchema"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> DataAvailable xmlns= <font color="#996600">"Company.ESD"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> ID <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{id}&lt;/deviceID&gt;</i></font> <font color="#006600"><b>&lt;</b></font> Password <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{password}&lt;/Password&gt;</i></font> <font color="#006600"><b>&lt;/</b></font> DataAvailable <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Envelope <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>|</b></font> _xml. <font color="#CC0066"><b>gsub!</b></font> <font color="#006600"><b>(</b></font> <font color="#006600"><b>/</b></font> \r <font color="#006600"><b>|</b></font> \n <font color="#006600"><b>/</b></font> , <font color="#996600">""</font> <font color="#006600"><b>)</b></font> response = client. <font color="#9900CC">request</font> <font color="#996600">"Company.ESD/Data/DataAvailable"</font> , <font color="#996600">"xmlns"</font> <font color="#006600"><b>=&gt;</b></font> <font color="#996600">"Company.ESD"</font> <font color="#9966CC"><b>do</b></font> soap. <font color="#9900CC">xml</font> =_xml <font color="#9966CC"><b>end</b></font> response <font color="#9966CC"><b>end</b></font> <font color="#9966CC"><b>def</b></font> do_test <font color="#006600"><b>(</b></font> id,pwd <font color="#006600"><b>)</b></font> client = <font color="#6666ff"><b>Savon::Client</b></font> . <font color="#9900CC">new</font> <font color="#9966CC"><b>do</b></font> wsdl. <font color="#9900CC">endpoint</font> = <font color="#996600">"https://superserver.super.com/DDService/Data.svc"</font> wsdl. <font color="#9900CC">namespace</font> = <font color="#996600">"https://superserver.super.com"</font> http. <font color="#9900CC">read_timeout</font> = <font color="#006666">90</font> http. <font color="#9900CC">open_timeout</font> = <font color="#006666">90</font> <font color="#9966CC"><b>end</b></font> r=data_available <font color="#006600"><b>(</b></font> client,id,pwd <font color="#006600"><b>)</b></font> . <font color="#9900CC">to_hash</font> <font color="#9966CC"><b>end</b></font></font></code> </li> <li> <code><font color="black"><font color="#9966CC"><b>def</b></font> data_available <font color="#006600"><b>(</b></font> client,id,password <font color="#006600"><b>)</b></font> _xml= <font color="#006600"><b>%</b></font> Q <font color="#006600"><b>|&lt;</b></font> ?xml version= <font color="#996600">"1.0"</font> encoding= <font color="#996600">"utf-8"</font> ? <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Envelope xmlns:soap= <font color="#996600">"http://schemas.xmlsoap.org/soap/envelope/"</font> xmlns:xsi= <font color="#996600">"http://www.w3.org/2001/XMLSchema-instance"</font> xmlns:xsd= <font color="#996600">"http://www.w3.org/2001/XMLSchema"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> DataAvailable xmlns= <font color="#996600">"Company.ESD"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> ID <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{id}&lt;/deviceID&gt;</i></font> <font color="#006600"><b>&lt;</b></font> Password <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{password}&lt;/Password&gt;</i></font> <font color="#006600"><b>&lt;/</b></font> DataAvailable <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Envelope <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>|</b></font> _xml. <font color="#CC0066"><b>gsub!</b></font> <font color="#006600"><b>(</b></font> <font color="#006600"><b>/</b></font> \r <font color="#006600"><b>|</b></font> \n <font color="#006600"><b>/</b></font> , <font color="#996600">""</font> <font color="#006600"><b>)</b></font> response = client. <font color="#9900CC">request</font> <font color="#996600">"Company.ESD/Data/DataAvailable"</font> , <font color="#996600">"xmlns"</font> <font color="#006600"><b>=&gt;</b></font> <font color="#996600">"Company.ESD"</font> <font color="#9966CC"><b>do</b></font> soap. <font color="#9900CC">xml</font> =_xml <font color="#9966CC"><b>end</b></font> response <font color="#9966CC"><b>end</b></font> <font color="#9966CC"><b>def</b></font> do_test <font color="#006600"><b>(</b></font> id,pwd <font color="#006600"><b>)</b></font> client = <font color="#6666ff"><b>Savon::Client</b></font> . <font color="#9900CC">new</font> <font color="#9966CC"><b>do</b></font> wsdl. <font color="#9900CC">endpoint</font> = <font color="#996600">"https://superserver.super.com/DDService/Data.svc"</font> wsdl. <font color="#9900CC">namespace</font> = <font color="#996600">"https://superserver.super.com"</font> http. <font color="#9900CC">read_timeout</font> = <font color="#006666">90</font> http. <font color="#9900CC">open_timeout</font> = <font color="#006666">90</font> <font color="#9966CC"><b>end</b></font> r=data_available <font color="#006600"><b>(</b></font> client,id,pwd <font color="#006600"><b>)</b></font> . <font color="#9900CC">to_hash</font> <font color="#9966CC"><b>end</b></font></font></code> </li> <li> <code><font color="black"><font color="#9966CC"><b>def</b></font> data_available <font color="#006600"><b>(</b></font> client,id,password <font color="#006600"><b>)</b></font> _xml= <font color="#006600"><b>%</b></font> Q <font color="#006600"><b>|&lt;</b></font> ?xml version= <font color="#996600">"1.0"</font> encoding= <font color="#996600">"utf-8"</font> ? <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Envelope xmlns:soap= <font color="#996600">"http://schemas.xmlsoap.org/soap/envelope/"</font> xmlns:xsi= <font color="#996600">"http://www.w3.org/2001/XMLSchema-instance"</font> xmlns:xsd= <font color="#996600">"http://www.w3.org/2001/XMLSchema"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> DataAvailable xmlns= <font color="#996600">"Company.ESD"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> ID <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{id}&lt;/deviceID&gt;</i></font> <font color="#006600"><b>&lt;</b></font> Password <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{password}&lt;/Password&gt;</i></font> <font color="#006600"><b>&lt;/</b></font> DataAvailable <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Envelope <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>|</b></font> _xml. <font color="#CC0066"><b>gsub!</b></font> <font color="#006600"><b>(</b></font> <font color="#006600"><b>/</b></font> \r <font color="#006600"><b>|</b></font> \n <font color="#006600"><b>/</b></font> , <font color="#996600">""</font> <font color="#006600"><b>)</b></font> response = client. <font color="#9900CC">request</font> <font color="#996600">"Company.ESD/Data/DataAvailable"</font> , <font color="#996600">"xmlns"</font> <font color="#006600"><b>=&gt;</b></font> <font color="#996600">"Company.ESD"</font> <font color="#9966CC"><b>do</b></font> soap. <font color="#9900CC">xml</font> =_xml <font color="#9966CC"><b>end</b></font> response <font color="#9966CC"><b>end</b></font> <font color="#9966CC"><b>def</b></font> do_test <font color="#006600"><b>(</b></font> id,pwd <font color="#006600"><b>)</b></font> client = <font color="#6666ff"><b>Savon::Client</b></font> . <font color="#9900CC">new</font> <font color="#9966CC"><b>do</b></font> wsdl. <font color="#9900CC">endpoint</font> = <font color="#996600">"https://superserver.super.com/DDService/Data.svc"</font> wsdl. <font color="#9900CC">namespace</font> = <font color="#996600">"https://superserver.super.com"</font> http. <font color="#9900CC">read_timeout</font> = <font color="#006666">90</font> http. <font color="#9900CC">open_timeout</font> = <font color="#006666">90</font> <font color="#9966CC"><b>end</b></font> r=data_available <font color="#006600"><b>(</b></font> client,id,pwd <font color="#006600"><b>)</b></font> . <font color="#9900CC">to_hash</font> <font color="#9966CC"><b>end</b></font></font></code> </li> <li> <code><font color="black"><font color="#9966CC"><b>def</b></font> data_available <font color="#006600"><b>(</b></font> client,id,password <font color="#006600"><b>)</b></font> _xml= <font color="#006600"><b>%</b></font> Q <font color="#006600"><b>|&lt;</b></font> ?xml version= <font color="#996600">"1.0"</font> encoding= <font color="#996600">"utf-8"</font> ? <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Envelope xmlns:soap= <font color="#996600">"http://schemas.xmlsoap.org/soap/envelope/"</font> xmlns:xsi= <font color="#996600">"http://www.w3.org/2001/XMLSchema-instance"</font> xmlns:xsd= <font color="#996600">"http://www.w3.org/2001/XMLSchema"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> DataAvailable xmlns= <font color="#996600">"Company.ESD"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> ID <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{id}&lt;/deviceID&gt;</i></font> <font color="#006600"><b>&lt;</b></font> Password <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{password}&lt;/Password&gt;</i></font> <font color="#006600"><b>&lt;/</b></font> DataAvailable <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Envelope <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>|</b></font> _xml. <font color="#CC0066"><b>gsub!</b></font> <font color="#006600"><b>(</b></font> <font color="#006600"><b>/</b></font> \r <font color="#006600"><b>|</b></font> \n <font color="#006600"><b>/</b></font> , <font color="#996600">""</font> <font color="#006600"><b>)</b></font> response = client. <font color="#9900CC">request</font> <font color="#996600">"Company.ESD/Data/DataAvailable"</font> , <font color="#996600">"xmlns"</font> <font color="#006600"><b>=&gt;</b></font> <font color="#996600">"Company.ESD"</font> <font color="#9966CC"><b>do</b></font> soap. <font color="#9900CC">xml</font> =_xml <font color="#9966CC"><b>end</b></font> response <font color="#9966CC"><b>end</b></font> <font color="#9966CC"><b>def</b></font> do_test <font color="#006600"><b>(</b></font> id,pwd <font color="#006600"><b>)</b></font> client = <font color="#6666ff"><b>Savon::Client</b></font> . <font color="#9900CC">new</font> <font color="#9966CC"><b>do</b></font> wsdl. <font color="#9900CC">endpoint</font> = <font color="#996600">"https://superserver.super.com/DDService/Data.svc"</font> wsdl. <font color="#9900CC">namespace</font> = <font color="#996600">"https://superserver.super.com"</font> http. <font color="#9900CC">read_timeout</font> = <font color="#006666">90</font> http. <font color="#9900CC">open_timeout</font> = <font color="#006666">90</font> <font color="#9966CC"><b>end</b></font> r=data_available <font color="#006600"><b>(</b></font> client,id,pwd <font color="#006600"><b>)</b></font> . <font color="#9900CC">to_hash</font> <font color="#9966CC"><b>end</b></font></font></code> </li> <li> <code><font color="black"><font color="#9966CC"><b>def</b></font> data_available <font color="#006600"><b>(</b></font> client,id,password <font color="#006600"><b>)</b></font> _xml= <font color="#006600"><b>%</b></font> Q <font color="#006600"><b>|&lt;</b></font> ?xml version= <font color="#996600">"1.0"</font> encoding= <font color="#996600">"utf-8"</font> ? <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Envelope xmlns:soap= <font color="#996600">"http://schemas.xmlsoap.org/soap/envelope/"</font> xmlns:xsi= <font color="#996600">"http://www.w3.org/2001/XMLSchema-instance"</font> xmlns:xsd= <font color="#996600">"http://www.w3.org/2001/XMLSchema"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> DataAvailable xmlns= <font color="#996600">"Company.ESD"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> ID <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{id}&lt;/deviceID&gt;</i></font> <font color="#006600"><b>&lt;</b></font> Password <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{password}&lt;/Password&gt;</i></font> <font color="#006600"><b>&lt;/</b></font> DataAvailable <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Envelope <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>|</b></font> _xml. <font color="#CC0066"><b>gsub!</b></font> <font color="#006600"><b>(</b></font> <font color="#006600"><b>/</b></font> \r <font color="#006600"><b>|</b></font> \n <font color="#006600"><b>/</b></font> , <font color="#996600">""</font> <font color="#006600"><b>)</b></font> response = client. <font color="#9900CC">request</font> <font color="#996600">"Company.ESD/Data/DataAvailable"</font> , <font color="#996600">"xmlns"</font> <font color="#006600"><b>=&gt;</b></font> <font color="#996600">"Company.ESD"</font> <font color="#9966CC"><b>do</b></font> soap. <font color="#9900CC">xml</font> =_xml <font color="#9966CC"><b>end</b></font> response <font color="#9966CC"><b>end</b></font> <font color="#9966CC"><b>def</b></font> do_test <font color="#006600"><b>(</b></font> id,pwd <font color="#006600"><b>)</b></font> client = <font color="#6666ff"><b>Savon::Client</b></font> . <font color="#9900CC">new</font> <font color="#9966CC"><b>do</b></font> wsdl. <font color="#9900CC">endpoint</font> = <font color="#996600">"https://superserver.super.com/DDService/Data.svc"</font> wsdl. <font color="#9900CC">namespace</font> = <font color="#996600">"https://superserver.super.com"</font> http. <font color="#9900CC">read_timeout</font> = <font color="#006666">90</font> http. <font color="#9900CC">open_timeout</font> = <font color="#006666">90</font> <font color="#9966CC"><b>end</b></font> r=data_available <font color="#006600"><b>(</b></font> client,id,pwd <font color="#006600"><b>)</b></font> . <font color="#9900CC">to_hash</font> <font color="#9966CC"><b>end</b></font></font></code> </li> <li> <code><font color="black"><font color="#9966CC"><b>def</b></font> data_available <font color="#006600"><b>(</b></font> client,id,password <font color="#006600"><b>)</b></font> _xml= <font color="#006600"><b>%</b></font> Q <font color="#006600"><b>|&lt;</b></font> ?xml version= <font color="#996600">"1.0"</font> encoding= <font color="#996600">"utf-8"</font> ? <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Envelope xmlns:soap= <font color="#996600">"http://schemas.xmlsoap.org/soap/envelope/"</font> xmlns:xsi= <font color="#996600">"http://www.w3.org/2001/XMLSchema-instance"</font> xmlns:xsd= <font color="#996600">"http://www.w3.org/2001/XMLSchema"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> DataAvailable xmlns= <font color="#996600">"Company.ESD"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> ID <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{id}&lt;/deviceID&gt;</i></font> <font color="#006600"><b>&lt;</b></font> Password <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{password}&lt;/Password&gt;</i></font> <font color="#006600"><b>&lt;/</b></font> DataAvailable <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Envelope <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>|</b></font> _xml. <font color="#CC0066"><b>gsub!</b></font> <font color="#006600"><b>(</b></font> <font color="#006600"><b>/</b></font> \r <font color="#006600"><b>|</b></font> \n <font color="#006600"><b>/</b></font> , <font color="#996600">""</font> <font color="#006600"><b>)</b></font> response = client. <font color="#9900CC">request</font> <font color="#996600">"Company.ESD/Data/DataAvailable"</font> , <font color="#996600">"xmlns"</font> <font color="#006600"><b>=&gt;</b></font> <font color="#996600">"Company.ESD"</font> <font color="#9966CC"><b>do</b></font> soap. <font color="#9900CC">xml</font> =_xml <font color="#9966CC"><b>end</b></font> response <font color="#9966CC"><b>end</b></font> <font color="#9966CC"><b>def</b></font> do_test <font color="#006600"><b>(</b></font> id,pwd <font color="#006600"><b>)</b></font> client = <font color="#6666ff"><b>Savon::Client</b></font> . <font color="#9900CC">new</font> <font color="#9966CC"><b>do</b></font> wsdl. <font color="#9900CC">endpoint</font> = <font color="#996600">"https://superserver.super.com/DDService/Data.svc"</font> wsdl. <font color="#9900CC">namespace</font> = <font color="#996600">"https://superserver.super.com"</font> http. <font color="#9900CC">read_timeout</font> = <font color="#006666">90</font> http. <font color="#9900CC">open_timeout</font> = <font color="#006666">90</font> <font color="#9966CC"><b>end</b></font> r=data_available <font color="#006600"><b>(</b></font> client,id,pwd <font color="#006600"><b>)</b></font> . <font color="#9900CC">to_hash</font> <font color="#9966CC"><b>end</b></font></font></code> </li> <li> <code><font color="black"><font color="#9966CC"><b>def</b></font> data_available <font color="#006600"><b>(</b></font> client,id,password <font color="#006600"><b>)</b></font> _xml= <font color="#006600"><b>%</b></font> Q <font color="#006600"><b>|&lt;</b></font> ?xml version= <font color="#996600">"1.0"</font> encoding= <font color="#996600">"utf-8"</font> ? <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Envelope xmlns:soap= <font color="#996600">"http://schemas.xmlsoap.org/soap/envelope/"</font> xmlns:xsi= <font color="#996600">"http://www.w3.org/2001/XMLSchema-instance"</font> xmlns:xsd= <font color="#996600">"http://www.w3.org/2001/XMLSchema"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> DataAvailable xmlns= <font color="#996600">"Company.ESD"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> ID <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{id}&lt;/deviceID&gt;</i></font> <font color="#006600"><b>&lt;</b></font> Password <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{password}&lt;/Password&gt;</i></font> <font color="#006600"><b>&lt;/</b></font> DataAvailable <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Envelope <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>|</b></font> _xml. <font color="#CC0066"><b>gsub!</b></font> <font color="#006600"><b>(</b></font> <font color="#006600"><b>/</b></font> \r <font color="#006600"><b>|</b></font> \n <font color="#006600"><b>/</b></font> , <font color="#996600">""</font> <font color="#006600"><b>)</b></font> response = client. <font color="#9900CC">request</font> <font color="#996600">"Company.ESD/Data/DataAvailable"</font> , <font color="#996600">"xmlns"</font> <font color="#006600"><b>=&gt;</b></font> <font color="#996600">"Company.ESD"</font> <font color="#9966CC"><b>do</b></font> soap. <font color="#9900CC">xml</font> =_xml <font color="#9966CC"><b>end</b></font> response <font color="#9966CC"><b>end</b></font> <font color="#9966CC"><b>def</b></font> do_test <font color="#006600"><b>(</b></font> id,pwd <font color="#006600"><b>)</b></font> client = <font color="#6666ff"><b>Savon::Client</b></font> . <font color="#9900CC">new</font> <font color="#9966CC"><b>do</b></font> wsdl. <font color="#9900CC">endpoint</font> = <font color="#996600">"https://superserver.super.com/DDService/Data.svc"</font> wsdl. <font color="#9900CC">namespace</font> = <font color="#996600">"https://superserver.super.com"</font> http. <font color="#9900CC">read_timeout</font> = <font color="#006666">90</font> http. <font color="#9900CC">open_timeout</font> = <font color="#006666">90</font> <font color="#9966CC"><b>end</b></font> r=data_available <font color="#006600"><b>(</b></font> client,id,pwd <font color="#006600"><b>)</b></font> . <font color="#9900CC">to_hash</font> <font color="#9966CC"><b>end</b></font></font></code> </li> <li> <code><font color="black"><font color="#9966CC"><b>def</b></font> data_available <font color="#006600"><b>(</b></font> client,id,password <font color="#006600"><b>)</b></font> _xml= <font color="#006600"><b>%</b></font> Q <font color="#006600"><b>|&lt;</b></font> ?xml version= <font color="#996600">"1.0"</font> encoding= <font color="#996600">"utf-8"</font> ? <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Envelope xmlns:soap= <font color="#996600">"http://schemas.xmlsoap.org/soap/envelope/"</font> xmlns:xsi= <font color="#996600">"http://www.w3.org/2001/XMLSchema-instance"</font> xmlns:xsd= <font color="#996600">"http://www.w3.org/2001/XMLSchema"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> DataAvailable xmlns= <font color="#996600">"Company.ESD"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> ID <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{id}&lt;/deviceID&gt;</i></font> <font color="#006600"><b>&lt;</b></font> Password <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{password}&lt;/Password&gt;</i></font> <font color="#006600"><b>&lt;/</b></font> DataAvailable <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Envelope <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>|</b></font> _xml. <font color="#CC0066"><b>gsub!</b></font> <font color="#006600"><b>(</b></font> <font color="#006600"><b>/</b></font> \r <font color="#006600"><b>|</b></font> \n <font color="#006600"><b>/</b></font> , <font color="#996600">""</font> <font color="#006600"><b>)</b></font> response = client. <font color="#9900CC">request</font> <font color="#996600">"Company.ESD/Data/DataAvailable"</font> , <font color="#996600">"xmlns"</font> <font color="#006600"><b>=&gt;</b></font> <font color="#996600">"Company.ESD"</font> <font color="#9966CC"><b>do</b></font> soap. <font color="#9900CC">xml</font> =_xml <font color="#9966CC"><b>end</b></font> response <font color="#9966CC"><b>end</b></font> <font color="#9966CC"><b>def</b></font> do_test <font color="#006600"><b>(</b></font> id,pwd <font color="#006600"><b>)</b></font> client = <font color="#6666ff"><b>Savon::Client</b></font> . <font color="#9900CC">new</font> <font color="#9966CC"><b>do</b></font> wsdl. <font color="#9900CC">endpoint</font> = <font color="#996600">"https://superserver.super.com/DDService/Data.svc"</font> wsdl. <font color="#9900CC">namespace</font> = <font color="#996600">"https://superserver.super.com"</font> http. <font color="#9900CC">read_timeout</font> = <font color="#006666">90</font> http. <font color="#9900CC">open_timeout</font> = <font color="#006666">90</font> <font color="#9966CC"><b>end</b></font> r=data_available <font color="#006600"><b>(</b></font> client,id,pwd <font color="#006600"><b>)</b></font> . <font color="#9900CC">to_hash</font> <font color="#9966CC"><b>end</b></font></font></code> </li> <li> <code><font color="black"><font color="#006600"><b><font color="#9966CC"><b>def</b></font> data_available <font color="#006600"><b>(</b></font> client,id,password <font color="#006600"><b>)</b></font> _xml= <font color="#006600"><b>%</b></font> Q <font color="#006600"><b>|&lt;</b></font> ?xml version= <font color="#996600">"1.0"</font> encoding= <font color="#996600">"utf-8"</font> ? <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Envelope xmlns:soap= <font color="#996600">"http://schemas.xmlsoap.org/soap/envelope/"</font> xmlns:xsi= <font color="#996600">"http://www.w3.org/2001/XMLSchema-instance"</font> xmlns:xsd= <font color="#996600">"http://www.w3.org/2001/XMLSchema"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> DataAvailable xmlns= <font color="#996600">"Company.ESD"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> ID <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{id}&lt;/deviceID&gt;</i></font> <font color="#006600"><b>&lt;</b></font> Password <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{password}&lt;/Password&gt;</i></font> <font color="#006600"><b>&lt;/</b></font> DataAvailable <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Envelope <font color="#006600"><b>&gt;</b></font> | _xml. <font color="#CC0066"><b>gsub!</b></font> <font color="#006600"><b>(</b></font> <font color="#006600"><b>/</b></font> \r <font color="#006600"><b>|</b></font> \n <font color="#006600"><b>/</b></font> , <font color="#996600">""</font> <font color="#006600"><b>)</b></font> response = client. <font color="#9900CC">request</font> <font color="#996600">"Company.ESD/Data/DataAvailable"</font> , <font color="#996600">"xmlns"</font> <font color="#006600"><b>=&gt;</b></font> <font color="#996600">"Company.ESD"</font> <font color="#9966CC"><b>do</b></font> soap. <font color="#9900CC">xml</font> =_xml <font color="#9966CC"><b>end</b></font> response <font color="#9966CC"><b>end</b></font> <font color="#9966CC"><b>def</b></font> do_test <font color="#006600"><b>(</b></font> id,pwd <font color="#006600"><b>)</b></font> client = <font color="#6666ff"><b>Savon::Client</b></font> . <font color="#9900CC">new</font> <font color="#9966CC"><b>do</b></font> wsdl. <font color="#9900CC">endpoint</font> = <font color="#996600">"https://superserver.super.com/DDService/Data.svc"</font> wsdl. <font color="#9900CC">namespace</font> = <font color="#996600">"https://superserver.super.com"</font> http. <font color="#9900CC">read_timeout</font> = <font color="#006666">90</font> http. <font color="#9900CC">open_timeout</font> = <font color="#006666">90</font> <font color="#9966CC"><b>end</b></font> r=data_available <font color="#006600"><b>(</b></font> client,id,pwd <font color="#006600"><b>)</b></font> . <font color="#9900CC">to_hash</font> <font color="#9966CC"><b>end</b></font></b></font></font></code> </li> <li> <code><font color="black"><font color="#9966CC"><b>def</b></font> data_available <font color="#006600"><b>(</b></font> client,id,password <font color="#006600"><b>)</b></font> _xml= <font color="#006600"><b>%</b></font> Q <font color="#006600"><b>|&lt;</b></font> ?xml version= <font color="#996600">"1.0"</font> encoding= <font color="#996600">"utf-8"</font> ? <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Envelope xmlns:soap= <font color="#996600">"http://schemas.xmlsoap.org/soap/envelope/"</font> xmlns:xsi= <font color="#996600">"http://www.w3.org/2001/XMLSchema-instance"</font> xmlns:xsd= <font color="#996600">"http://www.w3.org/2001/XMLSchema"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> DataAvailable xmlns= <font color="#996600">"Company.ESD"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> ID <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{id}&lt;/deviceID&gt;</i></font> <font color="#006600"><b>&lt;</b></font> Password <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{password}&lt;/Password&gt;</i></font> <font color="#006600"><b>&lt;/</b></font> DataAvailable <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Envelope <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>|</b></font> _xml. <font color="#CC0066"><b>gsub!</b></font> <font color="#006600"><b>(</b></font> <font color="#006600"><b>/</b></font> \r <font color="#006600"><b>|</b></font> \n <font color="#006600"><b>/</b></font> , <font color="#996600">""</font> <font color="#006600"><b>)</b></font> response = client. <font color="#9900CC">request</font> <font color="#996600">"Company.ESD/Data/DataAvailable"</font> , <font color="#996600">"xmlns"</font> <font color="#006600"><b>=&gt;</b></font> <font color="#996600">"Company.ESD"</font> <font color="#9966CC"><b>do</b></font> soap. <font color="#9900CC">xml</font> =_xml <font color="#9966CC"><b>end</b></font> response <font color="#9966CC"><b>end</b></font> <font color="#9966CC"><b>def</b></font> do_test <font color="#006600"><b>(</b></font> id,pwd <font color="#006600"><b>)</b></font> client = <font color="#6666ff"><b>Savon::Client</b></font> . <font color="#9900CC">new</font> <font color="#9966CC"><b>do</b></font> wsdl. <font color="#9900CC">endpoint</font> = <font color="#996600">"https://superserver.super.com/DDService/Data.svc"</font> wsdl. <font color="#9900CC">namespace</font> = <font color="#996600">"https://superserver.super.com"</font> http. <font color="#9900CC">read_timeout</font> = <font color="#006666">90</font> http. <font color="#9900CC">open_timeout</font> = <font color="#006666">90</font> <font color="#9966CC"><b>end</b></font> r=data_available <font color="#006600"><b>(</b></font> client,id,pwd <font color="#006600"><b>)</b></font> . <font color="#9900CC">to_hash</font> <font color="#9966CC"><b>end</b></font></font></code> </li> <li></li><li> <code><font color="black"><font color="#9966CC"><b>def</b></font> data_available <font color="#006600"><b>(</b></font> client,id,password <font color="#006600"><b>)</b></font> _xml= <font color="#006600"><b>%</b></font> Q <font color="#006600"><b>|&lt;</b></font> ?xml version= <font color="#996600">"1.0"</font> encoding= <font color="#996600">"utf-8"</font> ? <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Envelope xmlns:soap= <font color="#996600">"http://schemas.xmlsoap.org/soap/envelope/"</font> xmlns:xsi= <font color="#996600">"http://www.w3.org/2001/XMLSchema-instance"</font> xmlns:xsd= <font color="#996600">"http://www.w3.org/2001/XMLSchema"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> DataAvailable xmlns= <font color="#996600">"Company.ESD"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> ID <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{id}&lt;/deviceID&gt;</i></font> <font color="#006600"><b>&lt;</b></font> Password <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{password}&lt;/Password&gt;</i></font> <font color="#006600"><b>&lt;/</b></font> DataAvailable <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Envelope <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>|</b></font> _xml. <font color="#CC0066"><b>gsub!</b></font> <font color="#006600"><b>(</b></font> <font color="#006600"><b>/</b></font> \r <font color="#006600"><b>|</b></font> \n <font color="#006600"><b>/</b></font> , <font color="#996600">""</font> <font color="#006600"><b>)</b></font> response = client. <font color="#9900CC">request</font> <font color="#996600">"Company.ESD/Data/DataAvailable"</font> , <font color="#996600">"xmlns"</font> <font color="#006600"><b>=&gt;</b></font> <font color="#996600">"Company.ESD"</font> <font color="#9966CC"><b>do</b></font> soap. <font color="#9900CC">xml</font> =_xml <font color="#9966CC"><b>end</b></font> response <font color="#9966CC"><b>end</b></font> <font color="#9966CC"><b>def</b></font> do_test <font color="#006600"><b>(</b></font> id,pwd <font color="#006600"><b>)</b></font> client = <font color="#6666ff"><b>Savon::Client</b></font> . <font color="#9900CC">new</font> <font color="#9966CC"><b>do</b></font> wsdl. <font color="#9900CC">endpoint</font> = <font color="#996600">"https://superserver.super.com/DDService/Data.svc"</font> wsdl. <font color="#9900CC">namespace</font> = <font color="#996600">"https://superserver.super.com"</font> http. <font color="#9900CC">read_timeout</font> = <font color="#006666">90</font> http. <font color="#9900CC">open_timeout</font> = <font color="#006666">90</font> <font color="#9966CC"><b>end</b></font> r=data_available <font color="#006600"><b>(</b></font> client,id,pwd <font color="#006600"><b>)</b></font> . <font color="#9900CC">to_hash</font> <font color="#9966CC"><b>end</b></font></font></code> </li> <li> <code><font color="black"><font color="#9966CC"><b>def</b></font> data_available <font color="#006600"><b>(</b></font> client,id,password <font color="#006600"><b>)</b></font> _xml= <font color="#006600"><b>%</b></font> Q <font color="#006600"><b>|&lt;</b></font> ?xml version= <font color="#996600">"1.0"</font> encoding= <font color="#996600">"utf-8"</font> ? <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Envelope xmlns:soap= <font color="#996600">"http://schemas.xmlsoap.org/soap/envelope/"</font> xmlns:xsi= <font color="#996600">"http://www.w3.org/2001/XMLSchema-instance"</font> xmlns:xsd= <font color="#996600">"http://www.w3.org/2001/XMLSchema"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> DataAvailable xmlns= <font color="#996600">"Company.ESD"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> ID <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{id}&lt;/deviceID&gt;</i></font> <font color="#006600"><b>&lt;</b></font> Password <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{password}&lt;/Password&gt;</i></font> <font color="#006600"><b>&lt;/</b></font> DataAvailable <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Envelope <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>|</b></font> _xml. <font color="#CC0066"><b>gsub!</b></font> <font color="#006600"><b>(</b></font> <font color="#006600"><b>/</b></font> \r <font color="#006600"><b>|</b></font> \n <font color="#006600"><b>/</b></font> , <font color="#996600">""</font> <font color="#006600"><b>)</b></font> response = client. <font color="#9900CC">request</font> <font color="#996600">"Company.ESD/Data/DataAvailable"</font> , <font color="#996600">"xmlns"</font> <font color="#006600"><b>=&gt;</b></font> <font color="#996600">"Company.ESD"</font> <font color="#9966CC"><b>do</b></font> soap. <font color="#9900CC">xml</font> =_xml <font color="#9966CC"><b>end</b></font> response <font color="#9966CC"><b>end</b></font> <font color="#9966CC"><b>def</b></font> do_test <font color="#006600"><b>(</b></font> id,pwd <font color="#006600"><b>)</b></font> client = <font color="#6666ff"><b>Savon::Client</b></font> . <font color="#9900CC">new</font> <font color="#9966CC"><b>do</b></font> wsdl. <font color="#9900CC">endpoint</font> = <font color="#996600">"https://superserver.super.com/DDService/Data.svc"</font> wsdl. <font color="#9900CC">namespace</font> = <font color="#996600">"https://superserver.super.com"</font> http. <font color="#9900CC">read_timeout</font> = <font color="#006666">90</font> http. <font color="#9900CC">open_timeout</font> = <font color="#006666">90</font> <font color="#9966CC"><b>end</b></font> r=data_available <font color="#006600"><b>(</b></font> client,id,pwd <font color="#006600"><b>)</b></font> . <font color="#9900CC">to_hash</font> <font color="#9966CC"><b>end</b></font></font></code> </li> <li> <code><font color="black"><font color="#9966CC"><b><font color="#9966CC"><b>def</b></font> data_available <font color="#006600"><b>(</b></font> client,id,password <font color="#006600"><b>)</b></font> _xml= <font color="#006600"><b>%</b></font> Q <font color="#006600"><b>|&lt;</b></font> ?xml version= <font color="#996600">"1.0"</font> encoding= <font color="#996600">"utf-8"</font> ? <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Envelope xmlns:soap= <font color="#996600">"http://schemas.xmlsoap.org/soap/envelope/"</font> xmlns:xsi= <font color="#996600">"http://www.w3.org/2001/XMLSchema-instance"</font> xmlns:xsd= <font color="#996600">"http://www.w3.org/2001/XMLSchema"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> DataAvailable xmlns= <font color="#996600">"Company.ESD"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> ID <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{id}&lt;/deviceID&gt;</i></font> <font color="#006600"><b>&lt;</b></font> Password <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{password}&lt;/Password&gt;</i></font> <font color="#006600"><b>&lt;/</b></font> DataAvailable <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Envelope <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>|</b></font> _xml. <font color="#CC0066"><b>gsub!</b></font> <font color="#006600"><b>(</b></font> <font color="#006600"><b>/</b></font> \r <font color="#006600"><b>|</b></font> \n <font color="#006600"><b>/</b></font> , <font color="#996600">""</font> <font color="#006600"><b>)</b></font> response = client. <font color="#9900CC">request</font> <font color="#996600">"Company.ESD/Data/DataAvailable"</font> , <font color="#996600">"xmlns"</font> <font color="#006600"><b>=&gt;</b></font> <font color="#996600">"Company.ESD"</font> <font color="#9966CC"><b>do</b></font> soap. <font color="#9900CC">xml</font> =_xml end response <font color="#9966CC"><b>end</b></font> <font color="#9966CC"><b>def</b></font> do_test <font color="#006600"><b>(</b></font> id,pwd <font color="#006600"><b>)</b></font> client = <font color="#6666ff"><b>Savon::Client</b></font> . <font color="#9900CC">new</font> <font color="#9966CC"><b>do</b></font> wsdl. <font color="#9900CC">endpoint</font> = <font color="#996600">"https://superserver.super.com/DDService/Data.svc"</font> wsdl. <font color="#9900CC">namespace</font> = <font color="#996600">"https://superserver.super.com"</font> http. <font color="#9900CC">read_timeout</font> = <font color="#006666">90</font> http. <font color="#9900CC">open_timeout</font> = <font color="#006666">90</font> <font color="#9966CC"><b>end</b></font> r=data_available <font color="#006600"><b>(</b></font> client,id,pwd <font color="#006600"><b>)</b></font> . <font color="#9900CC">to_hash</font> <font color="#9966CC"><b>end</b></font></b></font></font></code> </li> <li> <code><font color="black"><font color="#9966CC"><b>def</b></font> data_available <font color="#006600"><b>(</b></font> client,id,password <font color="#006600"><b>)</b></font> _xml= <font color="#006600"><b>%</b></font> Q <font color="#006600"><b>|&lt;</b></font> ?xml version= <font color="#996600">"1.0"</font> encoding= <font color="#996600">"utf-8"</font> ? <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Envelope xmlns:soap= <font color="#996600">"http://schemas.xmlsoap.org/soap/envelope/"</font> xmlns:xsi= <font color="#996600">"http://www.w3.org/2001/XMLSchema-instance"</font> xmlns:xsd= <font color="#996600">"http://www.w3.org/2001/XMLSchema"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> DataAvailable xmlns= <font color="#996600">"Company.ESD"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> ID <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{id}&lt;/deviceID&gt;</i></font> <font color="#006600"><b>&lt;</b></font> Password <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{password}&lt;/Password&gt;</i></font> <font color="#006600"><b>&lt;/</b></font> DataAvailable <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Envelope <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>|</b></font> _xml. <font color="#CC0066"><b>gsub!</b></font> <font color="#006600"><b>(</b></font> <font color="#006600"><b>/</b></font> \r <font color="#006600"><b>|</b></font> \n <font color="#006600"><b>/</b></font> , <font color="#996600">""</font> <font color="#006600"><b>)</b></font> response = client. <font color="#9900CC">request</font> <font color="#996600">"Company.ESD/Data/DataAvailable"</font> , <font color="#996600">"xmlns"</font> <font color="#006600"><b>=&gt;</b></font> <font color="#996600">"Company.ESD"</font> <font color="#9966CC"><b>do</b></font> soap. <font color="#9900CC">xml</font> =_xml <font color="#9966CC"><b>end</b></font> response <font color="#9966CC"><b>end</b></font> <font color="#9966CC"><b>def</b></font> do_test <font color="#006600"><b>(</b></font> id,pwd <font color="#006600"><b>)</b></font> client = <font color="#6666ff"><b>Savon::Client</b></font> . <font color="#9900CC">new</font> <font color="#9966CC"><b>do</b></font> wsdl. <font color="#9900CC">endpoint</font> = <font color="#996600">"https://superserver.super.com/DDService/Data.svc"</font> wsdl. <font color="#9900CC">namespace</font> = <font color="#996600">"https://superserver.super.com"</font> http. <font color="#9900CC">read_timeout</font> = <font color="#006666">90</font> http. <font color="#9900CC">open_timeout</font> = <font color="#006666">90</font> <font color="#9966CC"><b>end</b></font> r=data_available <font color="#006600"><b>(</b></font> client,id,pwd <font color="#006600"><b>)</b></font> . <font color="#9900CC">to_hash</font> <font color="#9966CC"><b>end</b></font></font></code> </li> <li> <code><font color="black"><font color="#9966CC"><b><font color="#9966CC"><b>def</b></font> data_available <font color="#006600"><b>(</b></font> client,id,password <font color="#006600"><b>)</b></font> _xml= <font color="#006600"><b>%</b></font> Q <font color="#006600"><b>|&lt;</b></font> ?xml version= <font color="#996600">"1.0"</font> encoding= <font color="#996600">"utf-8"</font> ? <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Envelope xmlns:soap= <font color="#996600">"http://schemas.xmlsoap.org/soap/envelope/"</font> xmlns:xsi= <font color="#996600">"http://www.w3.org/2001/XMLSchema-instance"</font> xmlns:xsd= <font color="#996600">"http://www.w3.org/2001/XMLSchema"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> DataAvailable xmlns= <font color="#996600">"Company.ESD"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> ID <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{id}&lt;/deviceID&gt;</i></font> <font color="#006600"><b>&lt;</b></font> Password <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{password}&lt;/Password&gt;</i></font> <font color="#006600"><b>&lt;/</b></font> DataAvailable <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Envelope <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>|</b></font> _xml. <font color="#CC0066"><b>gsub!</b></font> <font color="#006600"><b>(</b></font> <font color="#006600"><b>/</b></font> \r <font color="#006600"><b>|</b></font> \n <font color="#006600"><b>/</b></font> , <font color="#996600">""</font> <font color="#006600"><b>)</b></font> response = client. <font color="#9900CC">request</font> <font color="#996600">"Company.ESD/Data/DataAvailable"</font> , <font color="#996600">"xmlns"</font> <font color="#006600"><b>=&gt;</b></font> <font color="#996600">"Company.ESD"</font> <font color="#9966CC"><b>do</b></font> soap. <font color="#9900CC">xml</font> =_xml <font color="#9966CC"><b>end</b></font> response end <font color="#9966CC"><b>def</b></font> do_test <font color="#006600"><b>(</b></font> id,pwd <font color="#006600"><b>)</b></font> client = <font color="#6666ff"><b>Savon::Client</b></font> . <font color="#9900CC">new</font> <font color="#9966CC"><b>do</b></font> wsdl. <font color="#9900CC">endpoint</font> = <font color="#996600">"https://superserver.super.com/DDService/Data.svc"</font> wsdl. <font color="#9900CC">namespace</font> = <font color="#996600">"https://superserver.super.com"</font> http. <font color="#9900CC">read_timeout</font> = <font color="#006666">90</font> http. <font color="#9900CC">open_timeout</font> = <font color="#006666">90</font> <font color="#9966CC"><b>end</b></font> r=data_available <font color="#006600"><b>(</b></font> client,id,pwd <font color="#006600"><b>)</b></font> . <font color="#9900CC">to_hash</font> <font color="#9966CC"><b>end</b></font></b></font></font></code> </li> <li></li><li> <code><font color="black"><font color="#9966CC"><b>def</b></font> data_available <font color="#006600"><b>(</b></font> client,id,password <font color="#006600"><b>)</b></font> _xml= <font color="#006600"><b>%</b></font> Q <font color="#006600"><b>|&lt;</b></font> ?xml version= <font color="#996600">"1.0"</font> encoding= <font color="#996600">"utf-8"</font> ? <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Envelope xmlns:soap= <font color="#996600">"http://schemas.xmlsoap.org/soap/envelope/"</font> xmlns:xsi= <font color="#996600">"http://www.w3.org/2001/XMLSchema-instance"</font> xmlns:xsd= <font color="#996600">"http://www.w3.org/2001/XMLSchema"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> DataAvailable xmlns= <font color="#996600">"Company.ESD"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> ID <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{id}&lt;/deviceID&gt;</i></font> <font color="#006600"><b>&lt;</b></font> Password <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{password}&lt;/Password&gt;</i></font> <font color="#006600"><b>&lt;/</b></font> DataAvailable <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Envelope <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>|</b></font> _xml. <font color="#CC0066"><b>gsub!</b></font> <font color="#006600"><b>(</b></font> <font color="#006600"><b>/</b></font> \r <font color="#006600"><b>|</b></font> \n <font color="#006600"><b>/</b></font> , <font color="#996600">""</font> <font color="#006600"><b>)</b></font> response = client. <font color="#9900CC">request</font> <font color="#996600">"Company.ESD/Data/DataAvailable"</font> , <font color="#996600">"xmlns"</font> <font color="#006600"><b>=&gt;</b></font> <font color="#996600">"Company.ESD"</font> <font color="#9966CC"><b>do</b></font> soap. <font color="#9900CC">xml</font> =_xml <font color="#9966CC"><b>end</b></font> response <font color="#9966CC"><b>end</b></font> <font color="#9966CC"><b>def</b></font> do_test <font color="#006600"><b>(</b></font> id,pwd <font color="#006600"><b>)</b></font> client = <font color="#6666ff"><b>Savon::Client</b></font> . <font color="#9900CC">new</font> <font color="#9966CC"><b>do</b></font> wsdl. <font color="#9900CC">endpoint</font> = <font color="#996600">"https://superserver.super.com/DDService/Data.svc"</font> wsdl. <font color="#9900CC">namespace</font> = <font color="#996600">"https://superserver.super.com"</font> http. <font color="#9900CC">read_timeout</font> = <font color="#006666">90</font> http. <font color="#9900CC">open_timeout</font> = <font color="#006666">90</font> <font color="#9966CC"><b>end</b></font> r=data_available <font color="#006600"><b>(</b></font> client,id,pwd <font color="#006600"><b>)</b></font> . <font color="#9900CC">to_hash</font> <font color="#9966CC"><b>end</b></font></font></code> </li> <li> <code><font color="black"><font color="#9966CC"><b>def</b></font> data_available <font color="#006600"><b>(</b></font> client,id,password <font color="#006600"><b>)</b></font> _xml= <font color="#006600"><b>%</b></font> Q <font color="#006600"><b>|&lt;</b></font> ?xml version= <font color="#996600">"1.0"</font> encoding= <font color="#996600">"utf-8"</font> ? <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Envelope xmlns:soap= <font color="#996600">"http://schemas.xmlsoap.org/soap/envelope/"</font> xmlns:xsi= <font color="#996600">"http://www.w3.org/2001/XMLSchema-instance"</font> xmlns:xsd= <font color="#996600">"http://www.w3.org/2001/XMLSchema"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> DataAvailable xmlns= <font color="#996600">"Company.ESD"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> ID <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{id}&lt;/deviceID&gt;</i></font> <font color="#006600"><b>&lt;</b></font> Password <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{password}&lt;/Password&gt;</i></font> <font color="#006600"><b>&lt;/</b></font> DataAvailable <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Envelope <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>|</b></font> _xml. <font color="#CC0066"><b>gsub!</b></font> <font color="#006600"><b>(</b></font> <font color="#006600"><b>/</b></font> \r <font color="#006600"><b>|</b></font> \n <font color="#006600"><b>/</b></font> , <font color="#996600">""</font> <font color="#006600"><b>)</b></font> response = client. <font color="#9900CC">request</font> <font color="#996600">"Company.ESD/Data/DataAvailable"</font> , <font color="#996600">"xmlns"</font> <font color="#006600"><b>=&gt;</b></font> <font color="#996600">"Company.ESD"</font> <font color="#9966CC"><b>do</b></font> soap. <font color="#9900CC">xml</font> =_xml <font color="#9966CC"><b>end</b></font> response <font color="#9966CC"><b>end</b></font> <font color="#9966CC"><b>def</b></font> do_test <font color="#006600"><b>(</b></font> id,pwd <font color="#006600"><b>)</b></font> client = <font color="#6666ff"><b>Savon::Client</b></font> . <font color="#9900CC">new</font> <font color="#9966CC"><b>do</b></font> wsdl. <font color="#9900CC">endpoint</font> = <font color="#996600">"https://superserver.super.com/DDService/Data.svc"</font> wsdl. <font color="#9900CC">namespace</font> = <font color="#996600">"https://superserver.super.com"</font> http. <font color="#9900CC">read_timeout</font> = <font color="#006666">90</font> http. <font color="#9900CC">open_timeout</font> = <font color="#006666">90</font> <font color="#9966CC"><b>end</b></font> r=data_available <font color="#006600"><b>(</b></font> client,id,pwd <font color="#006600"><b>)</b></font> . <font color="#9900CC">to_hash</font> <font color="#9966CC"><b>end</b></font></font></code> </li> <li> <code><font color="black"><font color="#9966CC"><b>def</b></font> data_available <font color="#006600"><b>(</b></font> client,id,password <font color="#006600"><b>)</b></font> _xml= <font color="#006600"><b>%</b></font> Q <font color="#006600"><b>|&lt;</b></font> ?xml version= <font color="#996600">"1.0"</font> encoding= <font color="#996600">"utf-8"</font> ? <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Envelope xmlns:soap= <font color="#996600">"http://schemas.xmlsoap.org/soap/envelope/"</font> xmlns:xsi= <font color="#996600">"http://www.w3.org/2001/XMLSchema-instance"</font> xmlns:xsd= <font color="#996600">"http://www.w3.org/2001/XMLSchema"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> DataAvailable xmlns= <font color="#996600">"Company.ESD"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> ID <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{id}&lt;/deviceID&gt;</i></font> <font color="#006600"><b>&lt;</b></font> Password <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{password}&lt;/Password&gt;</i></font> <font color="#006600"><b>&lt;/</b></font> DataAvailable <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Envelope <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>|</b></font> _xml. <font color="#CC0066"><b>gsub!</b></font> <font color="#006600"><b>(</b></font> <font color="#006600"><b>/</b></font> \r <font color="#006600"><b>|</b></font> \n <font color="#006600"><b>/</b></font> , <font color="#996600">""</font> <font color="#006600"><b>)</b></font> response = client. <font color="#9900CC">request</font> <font color="#996600">"Company.ESD/Data/DataAvailable"</font> , <font color="#996600">"xmlns"</font> <font color="#006600"><b>=&gt;</b></font> <font color="#996600">"Company.ESD"</font> <font color="#9966CC"><b>do</b></font> soap. <font color="#9900CC">xml</font> =_xml <font color="#9966CC"><b>end</b></font> response <font color="#9966CC"><b>end</b></font> <font color="#9966CC"><b>def</b></font> do_test <font color="#006600"><b>(</b></font> id,pwd <font color="#006600"><b>)</b></font> client = <font color="#6666ff"><b>Savon::Client</b></font> . <font color="#9900CC">new</font> <font color="#9966CC"><b>do</b></font> wsdl. <font color="#9900CC">endpoint</font> = <font color="#996600">"https://superserver.super.com/DDService/Data.svc"</font> wsdl. <font color="#9900CC">namespace</font> = <font color="#996600">"https://superserver.super.com"</font> http. <font color="#9900CC">read_timeout</font> = <font color="#006666">90</font> http. <font color="#9900CC">open_timeout</font> = <font color="#006666">90</font> <font color="#9966CC"><b>end</b></font> r=data_available <font color="#006600"><b>(</b></font> client,id,pwd <font color="#006600"><b>)</b></font> . <font color="#9900CC">to_hash</font> <font color="#9966CC"><b>end</b></font></font></code> </li> <li> <code><font color="black"><font color="#9966CC"><b>def</b></font> data_available <font color="#006600"><b>(</b></font> client,id,password <font color="#006600"><b>)</b></font> _xml= <font color="#006600"><b>%</b></font> Q <font color="#006600"><b>|&lt;</b></font> ?xml version= <font color="#996600">"1.0"</font> encoding= <font color="#996600">"utf-8"</font> ? <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Envelope xmlns:soap= <font color="#996600">"http://schemas.xmlsoap.org/soap/envelope/"</font> xmlns:xsi= <font color="#996600">"http://www.w3.org/2001/XMLSchema-instance"</font> xmlns:xsd= <font color="#996600">"http://www.w3.org/2001/XMLSchema"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> DataAvailable xmlns= <font color="#996600">"Company.ESD"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> ID <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{id}&lt;/deviceID&gt;</i></font> <font color="#006600"><b>&lt;</b></font> Password <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{password}&lt;/Password&gt;</i></font> <font color="#006600"><b>&lt;/</b></font> DataAvailable <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Envelope <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>|</b></font> _xml. <font color="#CC0066"><b>gsub!</b></font> <font color="#006600"><b>(</b></font> <font color="#006600"><b>/</b></font> \r <font color="#006600"><b>|</b></font> \n <font color="#006600"><b>/</b></font> , <font color="#996600">""</font> <font color="#006600"><b>)</b></font> response = client. <font color="#9900CC">request</font> <font color="#996600">"Company.ESD/Data/DataAvailable"</font> , <font color="#996600">"xmlns"</font> <font color="#006600"><b>=&gt;</b></font> <font color="#996600">"Company.ESD"</font> <font color="#9966CC"><b>do</b></font> soap. <font color="#9900CC">xml</font> =_xml <font color="#9966CC"><b>end</b></font> response <font color="#9966CC"><b>end</b></font> <font color="#9966CC"><b>def</b></font> do_test <font color="#006600"><b>(</b></font> id,pwd <font color="#006600"><b>)</b></font> client = <font color="#6666ff"><b>Savon::Client</b></font> . <font color="#9900CC">new</font> <font color="#9966CC"><b>do</b></font> wsdl. <font color="#9900CC">endpoint</font> = <font color="#996600">"https://superserver.super.com/DDService/Data.svc"</font> wsdl. <font color="#9900CC">namespace</font> = <font color="#996600">"https://superserver.super.com"</font> http. <font color="#9900CC">read_timeout</font> = <font color="#006666">90</font> http. <font color="#9900CC">open_timeout</font> = <font color="#006666">90</font> <font color="#9966CC"><b>end</b></font> r=data_available <font color="#006600"><b>(</b></font> client,id,pwd <font color="#006600"><b>)</b></font> . <font color="#9900CC">to_hash</font> <font color="#9966CC"><b>end</b></font></font></code> </li> <li> <code><font color="black"><font color="#9966CC"><b>def</b></font> data_available <font color="#006600"><b>(</b></font> client,id,password <font color="#006600"><b>)</b></font> _xml= <font color="#006600"><b>%</b></font> Q <font color="#006600"><b>|&lt;</b></font> ?xml version= <font color="#996600">"1.0"</font> encoding= <font color="#996600">"utf-8"</font> ? <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Envelope xmlns:soap= <font color="#996600">"http://schemas.xmlsoap.org/soap/envelope/"</font> xmlns:xsi= <font color="#996600">"http://www.w3.org/2001/XMLSchema-instance"</font> xmlns:xsd= <font color="#996600">"http://www.w3.org/2001/XMLSchema"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> DataAvailable xmlns= <font color="#996600">"Company.ESD"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> ID <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{id}&lt;/deviceID&gt;</i></font> <font color="#006600"><b>&lt;</b></font> Password <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{password}&lt;/Password&gt;</i></font> <font color="#006600"><b>&lt;/</b></font> DataAvailable <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Envelope <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>|</b></font> _xml. <font color="#CC0066"><b>gsub!</b></font> <font color="#006600"><b>(</b></font> <font color="#006600"><b>/</b></font> \r <font color="#006600"><b>|</b></font> \n <font color="#006600"><b>/</b></font> , <font color="#996600">""</font> <font color="#006600"><b>)</b></font> response = client. <font color="#9900CC">request</font> <font color="#996600">"Company.ESD/Data/DataAvailable"</font> , <font color="#996600">"xmlns"</font> <font color="#006600"><b>=&gt;</b></font> <font color="#996600">"Company.ESD"</font> <font color="#9966CC"><b>do</b></font> soap. <font color="#9900CC">xml</font> =_xml <font color="#9966CC"><b>end</b></font> response <font color="#9966CC"><b>end</b></font> <font color="#9966CC"><b>def</b></font> do_test <font color="#006600"><b>(</b></font> id,pwd <font color="#006600"><b>)</b></font> client = <font color="#6666ff"><b>Savon::Client</b></font> . <font color="#9900CC">new</font> <font color="#9966CC"><b>do</b></font> wsdl. <font color="#9900CC">endpoint</font> = <font color="#996600">"https://superserver.super.com/DDService/Data.svc"</font> wsdl. <font color="#9900CC">namespace</font> = <font color="#996600">"https://superserver.super.com"</font> http. <font color="#9900CC">read_timeout</font> = <font color="#006666">90</font> http. <font color="#9900CC">open_timeout</font> = <font color="#006666">90</font> <font color="#9966CC"><b>end</b></font> r=data_available <font color="#006600"><b>(</b></font> client,id,pwd <font color="#006600"><b>)</b></font> . <font color="#9900CC">to_hash</font> <font color="#9966CC"><b>end</b></font></font></code> </li> <li> <code><font color="black"><font color="#9966CC"><b>def</b></font> data_available <font color="#006600"><b>(</b></font> client,id,password <font color="#006600"><b>)</b></font> _xml= <font color="#006600"><b>%</b></font> Q <font color="#006600"><b>|&lt;</b></font> ?xml version= <font color="#996600">"1.0"</font> encoding= <font color="#996600">"utf-8"</font> ? <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Envelope xmlns:soap= <font color="#996600">"http://schemas.xmlsoap.org/soap/envelope/"</font> xmlns:xsi= <font color="#996600">"http://www.w3.org/2001/XMLSchema-instance"</font> xmlns:xsd= <font color="#996600">"http://www.w3.org/2001/XMLSchema"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> DataAvailable xmlns= <font color="#996600">"Company.ESD"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> ID <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{id}&lt;/deviceID&gt;</i></font> <font color="#006600"><b>&lt;</b></font> Password <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{password}&lt;/Password&gt;</i></font> <font color="#006600"><b>&lt;/</b></font> DataAvailable <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Envelope <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>|</b></font> _xml. <font color="#CC0066"><b>gsub!</b></font> <font color="#006600"><b>(</b></font> <font color="#006600"><b>/</b></font> \r <font color="#006600"><b>|</b></font> \n <font color="#006600"><b>/</b></font> , <font color="#996600">""</font> <font color="#006600"><b>)</b></font> response = client. <font color="#9900CC">request</font> <font color="#996600">"Company.ESD/Data/DataAvailable"</font> , <font color="#996600">"xmlns"</font> <font color="#006600"><b>=&gt;</b></font> <font color="#996600">"Company.ESD"</font> <font color="#9966CC"><b>do</b></font> soap. <font color="#9900CC">xml</font> =_xml <font color="#9966CC"><b>end</b></font> response <font color="#9966CC"><b>end</b></font> <font color="#9966CC"><b>def</b></font> do_test <font color="#006600"><b>(</b></font> id,pwd <font color="#006600"><b>)</b></font> client = <font color="#6666ff"><b>Savon::Client</b></font> . <font color="#9900CC">new</font> <font color="#9966CC"><b>do</b></font> wsdl. <font color="#9900CC">endpoint</font> = <font color="#996600">"https://superserver.super.com/DDService/Data.svc"</font> wsdl. <font color="#9900CC">namespace</font> = <font color="#996600">"https://superserver.super.com"</font> http. <font color="#9900CC">read_timeout</font> = <font color="#006666">90</font> http. <font color="#9900CC">open_timeout</font> = <font color="#006666">90</font> <font color="#9966CC"><b>end</b></font> r=data_available <font color="#006600"><b>(</b></font> client,id,pwd <font color="#006600"><b>)</b></font> . <font color="#9900CC">to_hash</font> <font color="#9966CC"><b>end</b></font></font></code> </li> <li> <code><font color="black"><font color="#9966CC"><b><font color="#9966CC"><b>def</b></font> data_available <font color="#006600"><b>(</b></font> client,id,password <font color="#006600"><b>)</b></font> _xml= <font color="#006600"><b>%</b></font> Q <font color="#006600"><b>|&lt;</b></font> ?xml version= <font color="#996600">"1.0"</font> encoding= <font color="#996600">"utf-8"</font> ? <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Envelope xmlns:soap= <font color="#996600">"http://schemas.xmlsoap.org/soap/envelope/"</font> xmlns:xsi= <font color="#996600">"http://www.w3.org/2001/XMLSchema-instance"</font> xmlns:xsd= <font color="#996600">"http://www.w3.org/2001/XMLSchema"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> DataAvailable xmlns= <font color="#996600">"Company.ESD"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> ID <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{id}&lt;/deviceID&gt;</i></font> <font color="#006600"><b>&lt;</b></font> Password <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{password}&lt;/Password&gt;</i></font> <font color="#006600"><b>&lt;/</b></font> DataAvailable <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Envelope <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>|</b></font> _xml. <font color="#CC0066"><b>gsub!</b></font> <font color="#006600"><b>(</b></font> <font color="#006600"><b>/</b></font> \r <font color="#006600"><b>|</b></font> \n <font color="#006600"><b>/</b></font> , <font color="#996600">""</font> <font color="#006600"><b>)</b></font> response = client. <font color="#9900CC">request</font> <font color="#996600">"Company.ESD/Data/DataAvailable"</font> , <font color="#996600">"xmlns"</font> <font color="#006600"><b>=&gt;</b></font> <font color="#996600">"Company.ESD"</font> <font color="#9966CC"><b>do</b></font> soap. <font color="#9900CC">xml</font> =_xml <font color="#9966CC"><b>end</b></font> response <font color="#9966CC"><b>end</b></font> <font color="#9966CC"><b>def</b></font> do_test <font color="#006600"><b>(</b></font> id,pwd <font color="#006600"><b>)</b></font> client = <font color="#6666ff"><b>Savon::Client</b></font> . <font color="#9900CC">new</font> <font color="#9966CC"><b>do</b></font> wsdl. <font color="#9900CC">endpoint</font> = <font color="#996600">"https://superserver.super.com/DDService/Data.svc"</font> wsdl. <font color="#9900CC">namespace</font> = <font color="#996600">"https://superserver.super.com"</font> http. <font color="#9900CC">read_timeout</font> = <font color="#006666">90</font> http. <font color="#9900CC">open_timeout</font> = <font color="#006666">90</font> end r=data_available <font color="#006600"><b>(</b></font> client,id,pwd <font color="#006600"><b>)</b></font> . <font color="#9900CC">to_hash</font> <font color="#9966CC"><b>end</b></font></b></font></font></code> </li> <li></li><li> <code><font color="black"><font color="#9966CC"><b>def</b></font> data_available <font color="#006600"><b>(</b></font> client,id,password <font color="#006600"><b>)</b></font> _xml= <font color="#006600"><b>%</b></font> Q <font color="#006600"><b>|&lt;</b></font> ?xml version= <font color="#996600">"1.0"</font> encoding= <font color="#996600">"utf-8"</font> ? <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Envelope xmlns:soap= <font color="#996600">"http://schemas.xmlsoap.org/soap/envelope/"</font> xmlns:xsi= <font color="#996600">"http://www.w3.org/2001/XMLSchema-instance"</font> xmlns:xsd= <font color="#996600">"http://www.w3.org/2001/XMLSchema"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> DataAvailable xmlns= <font color="#996600">"Company.ESD"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> ID <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{id}&lt;/deviceID&gt;</i></font> <font color="#006600"><b>&lt;</b></font> Password <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{password}&lt;/Password&gt;</i></font> <font color="#006600"><b>&lt;/</b></font> DataAvailable <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Envelope <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>|</b></font> _xml. <font color="#CC0066"><b>gsub!</b></font> <font color="#006600"><b>(</b></font> <font color="#006600"><b>/</b></font> \r <font color="#006600"><b>|</b></font> \n <font color="#006600"><b>/</b></font> , <font color="#996600">""</font> <font color="#006600"><b>)</b></font> response = client. <font color="#9900CC">request</font> <font color="#996600">"Company.ESD/Data/DataAvailable"</font> , <font color="#996600">"xmlns"</font> <font color="#006600"><b>=&gt;</b></font> <font color="#996600">"Company.ESD"</font> <font color="#9966CC"><b>do</b></font> soap. <font color="#9900CC">xml</font> =_xml <font color="#9966CC"><b>end</b></font> response <font color="#9966CC"><b>end</b></font> <font color="#9966CC"><b>def</b></font> do_test <font color="#006600"><b>(</b></font> id,pwd <font color="#006600"><b>)</b></font> client = <font color="#6666ff"><b>Savon::Client</b></font> . <font color="#9900CC">new</font> <font color="#9966CC"><b>do</b></font> wsdl. <font color="#9900CC">endpoint</font> = <font color="#996600">"https://superserver.super.com/DDService/Data.svc"</font> wsdl. <font color="#9900CC">namespace</font> = <font color="#996600">"https://superserver.super.com"</font> http. <font color="#9900CC">read_timeout</font> = <font color="#006666">90</font> http. <font color="#9900CC">open_timeout</font> = <font color="#006666">90</font> <font color="#9966CC"><b>end</b></font> r=data_available <font color="#006600"><b>(</b></font> client,id,pwd <font color="#006600"><b>)</b></font> . <font color="#9900CC">to_hash</font> <font color="#9966CC"><b>end</b></font></font></code> </li> <li> <code><font color="black"><font color="#9966CC"><b><font color="#9966CC"><b>def</b></font> data_available <font color="#006600"><b>(</b></font> client,id,password <font color="#006600"><b>)</b></font> _xml= <font color="#006600"><b>%</b></font> Q <font color="#006600"><b>|&lt;</b></font> ?xml version= <font color="#996600">"1.0"</font> encoding= <font color="#996600">"utf-8"</font> ? <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Envelope xmlns:soap= <font color="#996600">"http://schemas.xmlsoap.org/soap/envelope/"</font> xmlns:xsi= <font color="#996600">"http://www.w3.org/2001/XMLSchema-instance"</font> xmlns:xsd= <font color="#996600">"http://www.w3.org/2001/XMLSchema"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> DataAvailable xmlns= <font color="#996600">"Company.ESD"</font> <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;</b></font> ID <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{id}&lt;/deviceID&gt;</i></font> <font color="#006600"><b>&lt;</b></font> Password <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i>#{password}&lt;/Password&gt;</i></font> <font color="#006600"><b>&lt;/</b></font> DataAvailable <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Body <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>&lt;/</b></font> soap:Envelope <font color="#006600"><b>&gt;</b></font> <font color="#006600"><b>|</b></font> _xml. <font color="#CC0066"><b>gsub!</b></font> <font color="#006600"><b>(</b></font> <font color="#006600"><b>/</b></font> \r <font color="#006600"><b>|</b></font> \n <font color="#006600"><b>/</b></font> , <font color="#996600">""</font> <font color="#006600"><b>)</b></font> response = client. <font color="#9900CC">request</font> <font color="#996600">"Company.ESD/Data/DataAvailable"</font> , <font color="#996600">"xmlns"</font> <font color="#006600"><b>=&gt;</b></font> <font color="#996600">"Company.ESD"</font> <font color="#9966CC"><b>do</b></font> soap. <font color="#9900CC">xml</font> =_xml <font color="#9966CC"><b>end</b></font> response <font color="#9966CC"><b>end</b></font> <font color="#9966CC"><b>def</b></font> do_test <font color="#006600"><b>(</b></font> id,pwd <font color="#006600"><b>)</b></font> client = <font color="#6666ff"><b>Savon::Client</b></font> . <font color="#9900CC">new</font> <font color="#9966CC"><b>do</b></font> wsdl. <font color="#9900CC">endpoint</font> = <font color="#996600">"https://superserver.super.com/DDService/Data.svc"</font> wsdl. <font color="#9900CC">namespace</font> = <font color="#996600">"https://superserver.super.com"</font> http. <font color="#9900CC">read_timeout</font> = <font color="#006666">90</font> http. <font color="#9900CC">open_timeout</font> = <font color="#006666">90</font> <font color="#9966CC"><b>end</b></font> r=data_available <font color="#006600"><b>(</b></font> client,id,pwd <font color="#006600"><b>)</b></font> . <font color="#9900CC">to_hash</font> end</b></font></font></code> </li> </ol></blockquote><br><br>  those.  there is one client, well, it's time to make a lot of customers open the documentation find an example, use <br>  run_client - the code of one "client" <br><br><blockquote><ol><li>  <font color="#9966CC"><b>def</b></font> run_test <font color="#006600"><b>(</b></font> clnt_id <font color="#006600"><b>)</b></font> </li><li>  pwd = get_pwd <font color="#006600"><b>(</b></font> clnt_id <font color="#006600"><b>)</b></font> </li><li>  id = get_id <font color="#006600"><b>(</b></font> clnt_id <font color="#006600"><b>)</b></font> </li><li>  <font color="#9966CC"><b>while</b></font> <font color="#0000FF"><b>true</b></font> </li><li>  do_test <font color="#006600"><b>(</b></font> id, pwd <font color="#006600"><b>)</b></font> </li><li>  <font color="#CC0066"><b>sleep</b></font> <font color="#006666">9</font> </li><li>  <font color="#9966CC"><b>end</b></font> </li><li>  <font color="#9966CC"><b>end</b></font> </li><li></li><li>  clients = <font color="#CC0066"><b>Array</b></font> .  <font color="#9900CC">new</font> </li><li>  1. <font color="#9900CC">upto</font> <font color="#006600"><b>(</b></font> <font color="#006666">10</font> <font color="#006600"><b>)</b></font> <font color="#9966CC"><b>do</b></font> <font color="#006600"><b>|</b></font>  client_id <font color="#006600"><b>|</b></font> </li><li>  client <font color="#006600"><b>&lt;&lt;</b></font> <font color="#CC00FF"><b>Thread</b></font> .  <font color="#9900CC">new</font> <font color="#9966CC"><b>do</b></font> </li><li>  <font color="#CC0066"><b>puts</b></font> <font color="#996600">"Start: # {client_id}"</font> </li><li>  run_client <font color="#006600"><b>(</b></font> t_cnt <font color="#006600"><b>)</b></font> </li><li>  <font color="#9966CC"><b>end</b></font> </li><li>  <font color="#9966CC"><b>end</b></font> </li><li>  clients.  <font color="#9900CC">map</font> <font color="#006600"><b>{</b></font> <font color="#006600"><b>|</b></font>  t <font color="#006600"><b>|</b></font>  t.  <font color="#9900CC">join</font> <font color="#006600"><b>}</b></font> </li></ol></blockquote><br><br>  launched - Hurray, works. <br>  let's try 1000, ops, on the screen start ~ 130 streams and brakes; ( <br>  it looks like Ruby doesn't really want to let in many threads <br>  Well, in general, it is not a question, the result is important for us. <br>  let's put 100 pieces in one file, and there will be 10 such files, so we have 1000 clients. <br>  we try - hooray works !!!, but let's say the percents are, we say gently, not podsaski, we start thinking what to do, we need even more! <br><br>  here we remember that the client is active every 10 seconds <br>  those.  we can start up one thread that can easily process 10 consecutive clients, each by second, in the result, and we get the activity of each client every 10 seconds. <br>  Hurray, it was possible to reduce the number of flows by 10 times, already happy, that is,  1000 clients need only 100 threads, and this is already real ... <br><br>  got such a launcher <br><blockquote><ol><li>  <font color="#9966CC"><b>def</b></font> do_for_time <font color="#006600"><b>(</b></font> time_in_sec, <font color="#006600"><b>&amp;</b></font> block <font color="#006600"><b>)</b></font> </li><li>  time_end = <font color="#CC00FF"><b>Time</b></font> .  <font color="#9900CC">now</font> <font color="#006600"><b>+</b></font> time_in_sec <font color="#006600"><b>-</b></font> <font color="#006666">0.01</font> </li><li>  <font color="#9966CC"><b>yield</b></font> </li><li>  time_rest = time_end <font color="#006600"><b>-</b></font> <font color="#CC00FF"><b>Time</b></font> .  <font color="#9900CC">now</font> </li><li>  <font color="#CC0066"><b>sleep</b></font> time_rest <font color="#9966CC"><b>if</b></font> time_rest <font color="#006600"><b>&gt;</b></font> = <font color="#006666">0.1</font> </li><li>  <font color="#9966CC"><b>end</b></font> </li><li></li><li>  <font color="#9966CC"><b>def</b></font> run_10 <font color="#006600"><b>(</b></font> start_id <font color="#006600"><b>)</b></font> </li><li>  clinets = <font color="#CC0066"><b>Array</b></font> .  <font color="#9900CC">new</font> </li><li>  1. <font color="#9900CC">upto</font> <font color="#006600"><b>(</b></font> <font color="#006666">10</font> <font color="#006600"><b>)</b></font> <font color="#9966CC"><b>do</b></font> <font color="#006600"><b>|</b></font>  nn <font color="#006600"><b>|</b></font> </li><li>  id = get_id <font color="#006600"><b>[</b></font> start_id <font color="#006600"><b>+</b></font> nn <font color="#006600"><b>]</b></font> </li><li>  pwd = get_pwd <font color="#006600"><b>[</b></font> start_id <font color="#006600"><b>+</b></font> nn <font color="#006600"><b>]</b></font> </li><li>  clinets <font color="#006600"><b>&lt;&lt;</b></font> <font color="#006600"><b>[</b></font> id, pwd <font color="#006600"><b>]</b></font> </li><li>  <font color="#9966CC"><b>end</b></font> </li><li></li><li>  clnt = HTTPClient.  <font color="#9900CC">new</font> </li><li>  <font color="#9966CC"><b>while</b></font> <font color="#0000FF"><b>true</b></font> <font color="#9966CC"><b>do</b></font> </li><li>  clinets.  <font color="#9900CC">each</font> <font color="#9966CC"><b>do</b></font> <font color="#006600"><b>|</b></font>  client <font color="#006600"><b>|</b></font> </li><li>  id = client <font color="#006600"><b>[</b></font> <font color="#006666">0</font> <font color="#006600"><b>]</b></font> </li><li>  pwd = client <font color="#006600"><b>[</b></font> <font color="#006666">1</font> <font color="#006600"><b>]</b></font> </li><li>  do_for_time <font color="#006600"><b>(</b></font> <font color="#006666">1</font> <font color="#006600"><b>)</b></font> <font color="#9966CC"><b>do</b></font> </li><li>  data_available <font color="#006600"><b>(</b></font> clnt, id, pwd <font color="#006600"><b>)</b></font> </li><li>  update_status <font color="#006600"><b>(</b></font> clnt, id, pwd <font color="#006600"><b>)</b></font> </li><li>  <font color="#9966CC"><b>end</b></font> </li><li>  <font color="#9966CC"><b>end</b></font> </li><li>  <font color="#9966CC"><b>end</b></font> </li><li>  <font color="#9966CC"><b>end</b></font> </li></ol></blockquote><br><br>  By the way, the funny function is do_for_time (oh, I love blocks in ruby!) <br>  we call it with the parameter how many seconds it should be executed, and we pass it the block that needs to be executed, and it together with the execution of the block will work as many seconds as requested (we assume that the function call of the block is much less than the waiting time) <br>  , but we still load the percents, we need to do something about it. <br><br>  I looked at the original requests again and understood, so why do we need SOAP? <br>  in the end, this is nothing more than a POST request with early known XML! <br><br>  said - done, rewrote our functions, threw out SOAP, got <blockquote><ol><li>  <font color="#9966CC"><b>def</b></font> check_data <font color="#006600"><b>(</b></font> http_client, id, pwd <font color="#006600"><b>)</b></font> </li><li>  uri = <font color="#996600">'https://superserver.super.com/DDService/Data.svc'</font> </li><li>  soap = <font color="#006600"><b>%</b></font> Q <font color="#006600"><b>| &lt;</b></font> ? xml version = <font color="#996600">"1.0"</font> encoding = <font color="#996600">"utf-8"</font> ?  <font color="#006600"><b>&gt; &lt;</b></font> soap: Envelope xmlns: soap = <font color="#996600">"http://schemas.xmlsoap.org/soap/envelope/"</font> xmlns: xsi = <font color="#996600">"http://www.w3.org/2001/XMLSchema-instance"</font> xmlns: xsd = <font color="#996600">"http://www.w3.org/2001/XMLSchema"</font> <font color="#006600"><b>&gt; &lt;</b></font> soap: Body <font color="#006600"><b>&gt; &lt;</b></font> DataAvailable xmlns = <font color="#996600">"company.ESD"</font> <font color="#006600"><b>&gt; &lt;</b></font> ID <font color="#006600"><b>&gt;</b></font> <font color="#008000"><i># {id} &lt;/ ID&gt; &lt;Password&gt; # {pwd} &lt; / Password&gt; &lt;/ DataAvailable&gt; &lt;/ soap: Body&gt; &lt;/ soap: Envelope&gt;</i></font> </li><li>  <font color="#006600"><b>|</b></font> </li><li>  headers = <font color="#006600"><b>{</b></font> </li><li>  <font color="#996600">'Content-Type'</font> <font color="#006600"><b>=&gt;</b></font> <font color="#996600">'text / xml; charset = UTF-8'</font> , </li><li>  <font color="#996600">'SOAPAction'</font> <font color="#006600"><b>=&gt;</b></font> <font color="#996600">'company.EDC / IData /'</font> , </li><li>  <font color="#006600"><b>}</b></font> </li><li></li><li>  http_client.  <font color="#9900CC">post</font> uri, soap, headers </li><li>  <font color="#9966CC"><b>end</b></font> </li></ol></blockquote><br><br>  Expectedly new version of a lot of food is much less proca, because  did not engage in unnecessary nonsense. <br><br>  3000 customers live quite easily ... <br><br>  I stopped home games here, because  rested in the non-metric channel ADSL, and yes it is necessary to rest;) <br><br>  on Monday continued at work, on the fast channel. <br>  , and here miracles begin, sad <br>  screw Ruby 1.8.7 guzzles 100% of 2 nuclear cpu at 1000 clients, opanka‚Ä¶ <br><br>  for checking in a virtual machine (on the same machine) I put ubuntu, I give it two cores, and I let the same thing, and ... <br>  In general, wonders, in VIRTUALKA under linux we have 5000 clients. <br><br>  Further experiments: <br>  by staging jruby, he has the right threads according to the description, we let 1000 - 20% of the load - URA <br>  we start the second file with 1000 and the opunky, loading 2x cores 80%, is tolerable, but not very clear; ( <br><br>  as a result, 2000 by car came up to our task (it was necessary to start up on a remote car, the virtual machine could not be installed there) <br>  The task was solved, the server was loaded. <br>  Played with SOAP, funny, not very difficult. <br>  Time spent, sumno hours 8. <br><br>  findings: <br>  1. ‚ÄúKeep it simple, Stupid!‚Äù - in our case, simplification helped solve the problem, avoiding complicated SOAP to just http requests saved the situation. <br>  2. RUBY can be used for such tasks, I did not have to fight with the language, he just allowed me to do what I wanted;) (almost without creating problems) <br>  3. Using scripting language - greatly speeds up parsing time with a problem, because  makes it easy to experiment, it's quick and easy. <br>  4. multiplatform - taxis <br>  5. Now you can rewrite it all in C # if necessary, maybe there will be many clients on one machine, but it is not necessary yet, the task turned out to be a one-time task. <br>  6. i love ruby! <br>  ______________________ <br><h6>  The text was prepared in the Blog <a href="http://www.softcoder.ru/blogeditor/">Editor</a> from ¬© SoftCoder.ru </h6></div><p>Source: <a href="https://habr.com/ru/post/113420/">https://habr.com/ru/post/113420/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../113411/index.html">Wall Street Journal predicts innovations in iPad 2</a></li>
<li><a href="../113412/index.html">Sony accidentally retweeted the PlayStation jailbreak code</a></li>
<li><a href="../113413/index.html">Internet company: right and mistakes</a></li>
<li><a href="../113414/index.html">Russian investors have invested in a collective intelligence support startup</a></li>
<li><a href="../113419/index.html">Extreme agile - I dance alone</a></li>
<li><a href="../113421/index.html">Using the experience of testing a relational database for NoSQL technology</a></li>
<li><a href="../113423/index.html">Who is cheaper?</a></li>
<li><a href="../113425/index.html">iPad and news: a small overview of the best apps</a></li>
<li><a href="../113426/index.html">Release Flash Player 10.2</a></li>
<li><a href="../113427/index.html">RAID-4 / RAID-DP - turning disadvantages into advantages</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>