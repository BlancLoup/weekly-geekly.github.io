<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Easier to do it yourself, or to fork () or not to fork ()</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Solving the problem of calculating volume data in cycles often pulls the parallelization task. 
 Of course, in perl, there are just a couple of models...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Easier to do it yourself, or to fork () or not to fork ()</h1><div class="post__text post__text-html js-mediator-article">  Solving the problem of calculating volume data in cycles often pulls the parallelization task. <br>  Of course, in perl, there are just a couple of models: fork or thread, which allow the use of "multithreading".  The implementation of each method and religious preferences to the material of this note do not apply. <br>  We will talk about the reinforcement of the choice of "divide / not divide" numbers. <br><a name="habracut"></a><br>  In short, the allocation of combing into a ‚Äúseparate stream‚Äù, besides the advantages, also carries a fat minus associated with the overhead of creating a descendant, communicating with it and maintaining it. <br>  It is logical to assume that knowing the cost of overhead "multithreading" we can reasonably choose one or another architecture of your application.  So you need to take and count, for example like this: <br><br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">use Benchmark qw( timethese cmpthese ) ; <br> <br> sub forked { <br> my $pid = fork; <br> $pid ? waitpid($pid, 0) : exit 0; <br> } <br> <br> sub empty { <br> 1; <br> } <br> <br> my $r = timethese( -1, { <br> a =&gt; sub {forked(2)}, <br> b =&gt; sub{empty(2)}, <br> } ); <br> cmpthese $r;</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  As a result of a simple action we get something like: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">Benchmark: running a, b for at least 1 CPU seconds... <br> a: 7 wallclock secs ( 0.09 usr 0.96 sys + 1.93 cusr 3.45 csys = 6.43 CPU) @ 278.69/s (n=1792) <br> b: 2 wallclock secs ( 1.11 usr + 0.01 sys = 1.12 CPU) @ 2730666.07/s (n=3058346) <br> Rate    a    b <br> a   279/s   --  -100% <br> b 2730666/s 979709%   -- <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  Ok, so the stream creation cycle and its maintenance gives us a maximum performance of <strong>278.69 / s</strong> .  This means that any calculation performed faster we consider ourselves, and we give children more and more cumbersome! <br>  It is often to use the benchmark where the numbers allow to draw conclusions and make the right decision. </div><p>Source: <a href="https://habr.com/ru/post/93921/">https://habr.com/ru/post/93921/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../93909/index.html">Why does Google buy GIPS VoIP engine?</a></li>
<li><a href="../93911/index.html">Google Calendar update</a></li>
<li><a href="../93913/index.html">The secret life of the director ChronoPay</a></li>
<li><a href="../93915/index.html">The first beta version of the Lightspark flash player is presented.</a></li>
<li><a href="../93916/index.html">speedtest.net via C ++</a></li>
<li><a href="../93922/index.html">The film "Prince of Persia: The Sands of Time", or about fake Christmas-tree toys</a></li>
<li><a href="../93925/index.html">Yandex.com</a></li>
<li><a href="../93928/index.html">MIT designed a replacement for Boeing</a></li>
<li><a href="../93931/index.html">Programmer's notes: OOP, And and Or</a></li>
<li><a href="../93932/index.html">Office attendance counts syst. access control. Should employees see ACS reporting?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>