<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How we made a system for mobile rounds at SIBUR</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When it comes to the coordinated work of any technically complex production, the importance of safety is difficult to overestimate. And if we are talk...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How we made a system for mobile rounds at SIBUR</h1><div class="post__text post__text-html js-mediator-article">  When it comes to the coordinated work of any technically complex production, the importance of safety is difficult to overestimate.  And if we are talking about the petrochemical sphere, all the more so.  Here, security involves a whole range of activities: access control, specially guarded perimeters, hungry dogs, video surveillance, as well as the satisfactory condition of technical hubs.  We will talk about these nodes today. <br><br> <a href="https://habr.com/company/sibur_official/blog/428353/"><img src="https://habrastorage.org/webt/eg/rt/xv/egrtxvlzbbicixrizit2_-ls7jy.jpeg" width="800"><br></a> <br><br>  Complex mechanisms and devices, even within just one platform set.  Composite valves and plugs, pumps, piping, fire extinguishing devices, electronics - all this must be monitored, each node must have certain parameters at the right time: the pressure in the pipes, the temperature of the node, the degree of opening of any plug and the like.  Of course, a number of the most critical parameters are controlled by electronics, but where it is automatically difficult to do this, the good old rounds with feet come into play. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So while at our facilities, the crawler finishes drinking tea, takes a walkie-talkie with him to communicate with colleagues, a notebook to record any defects found or deviations from the norm, is stored with patience and good mood and goes on a hike around the site.  If he notices any critical oddities, he reports them by radio, after which measures are taken to eliminate them.  And then, having completed the detour, he goes to his workplace and for some time rewrites all the detected jambs into a general report.  Hands in paper. <br><a name="habracut"></a><br>  Of course, a lot of time is spent on all this paper work, taking into account the total number of shifts, the frequency of detours and the speed of writing individual individuals.  But then the handwriting must also be disassembled.  Therefore, we decided to make life easier for walkers and ourselves by writing an application for mobile bypasses. <br><br>  The fact that it will be easier for the line inspector is understandable, because you no longer have to write everything down in your notebooks with your hands, and then waste time creating a report.  Any incident noticed by him is entered using a mobile application, and the system immediately stitches it into a general report in a readable format. <br><br>  And another plus for the company is in reducing equipment downtime at the site.  In the current reality, 1 hour of idle time of petrochemical production of average capacity is several million rubles.  An amount that can obviously be spent with more benefit than disconnecting part of the site and watching the restoration work, looking at the clock. <br><br>  And it is easier for shift supervisors - it‚Äôs immediately clear how thoroughly and thoroughly the next round was made (and whether it was done in principle), what defects were found, who was to blame and what to do.  If something happens - now the management can immediately give the lineman the necessary instructions in the application chat (‚ÄúSanya, twist that thing more tightly, and then suddenly something‚Äù). <br><br>  Actually, these were the main pains that we tried to solve. <br><br><h2>  App and smartphone </h2><br>  Approximately 15 people worked on the application, if you count everything as a whole - backend, frontend, mobile application, design. <br><br>  Backend decided to do on .NET Core, the front on reactjs, and so far without Kotlin and Java. <br><br>  Right now there is a working pilot in one of our sites - there are the following pieces of equipment at the checkpoints: <br><br><img src="https://habrastorage.org/webt/bt/a8/w8/bta8w8bw4ouyxmnsrquxa7mhmsw.jpeg"><br><br><img src="https://habrastorage.org/webt/1g/bx/77/1gbx77l54zjcar7acvfhgzww0mc.jpeg"><br><br>  The smartphone looks like this not so much because the crawler can drop it, beat them with a pair of nails or neutralize the perimeter intruder with an accurate throw, but because one of the main requirements for electronic devices on the site is explosion-proof, that is, the device should not become a source of explosion (not create spark and the like).  After all, anything can happen - somewhere there will be a release of gas, which in itself is not so dangerous, until someone nearby wants to smoke, weld one piece of iron to another piece of iron, or someone for some reason does not short the mobile the rain.  The implications are pretty obvious. <br><br>  Therefore, the main thing on the site is to move against any threat, no matter how incredible it may seem.  By the way, for the same reason, both Bluetooth beacons and NFC tags do not look like laconic beacons familiar to everyone, but like this: <br><br><img src="https://habrastorage.org/webt/fe/ej/m_/feejm_pd6osjifujfmnlowq51xo.jpeg"><br><br><img src="https://habrastorage.org/webt/s6/bm/dy/s6bmdyr6i6p-6ejuokbyozjjh8w.jpeg"><br><br>  The device works for traversal on the standard Android, respectively, the application we wrote for this platform.  Thanks to the app available: <br><br><ul><li>  authorization of the employee conducting the bypass using staff NFC tags (the employee‚Äôs badge with a tag is attached to the smartphone, the smartphone understands who is replacing); </li><li>  a shift screen with a report on the defects found and their description (you can take pictures on your smartphone and supply them with burning descriptions); </li><li>  statistics on the work performed (the shift manager sets specific tasks for the detour that need to be completed, something can come flying already in the process of detour); </li><li>  the composition of the shift (a list of colleagues and those who conducted the previous round); </li><li>  fixed defects (time of detection of the problem, name of the equipment and its code, type of problem, photo, status of the equipment, etc.); </li><li>  chat for quick problem solving; </li><li>  full report on the bypass (elapsed time, etc.). </li></ul><br><br>  We also thought about the possibility of making history during the crawl process, but we decided that for now it is not worth it. <br><br>  On average, there are 8 people in one shift, and there are 4 shifts themselves. We have sharpened the system for an average capacity of 2500 people (because now it‚Äôs a pilot on one site, and we now have 22 sites and 150 installations). <br><br><h2>  Bypass </h2><br>  The site, equipment and the necessary zones are hung with BT-beacons and NFC-tags.  In some places, in order for the perimeter to be marked as proven, Bluetooth is enough, and somewhere you need to use NFC.  Why is that?  Because there are certain types of equipment, for checking of which it is enough just to enter the range of the BT-beacon (it‚Äôs enough to see that the checked thing still exists in principle at the same place and it hasn‚Äôt been blown away), and other equipment requires more careful checking, using precision measuring instruments, fixing parameters and indicators. <br><br>  Therefore, the employee must touch the NFC-tag of the equipment being checked by the smartphone, so that the system counts this for checking. <br><br>  In addition, at each beacon we sewed up a list of checks that need to be carried out with the equipment tied to the beacon.  The employee enters the radius of the BT-beacon of the equipment and receives the checklist in the application with what exactly needs to be checked for this piece of iron.  Same with the NFC tag.  He touched the equipment - the checklist came to the smartphone - conducted checks.  For example, he attached a smartphone to the pump - and received a list: ‚ÄúCheck temperature‚Äù, ‚ÄúCheck pressure‚Äù and other parameters. <br><br>  Accordingly, as soon as an employee entered the BT-beacon zone, on the scheme for the management, such zone is marked in green (that is, the employee was here and examined this node), and in the case of an NFC tag, the employee notes each manual check in the list. <br><br>  By this we solve the problem of the employee‚Äôs forgetfulness (nevertheless, a person can overwork and spend on the device not 12 necessary checks, but 11, for example, but here he always has a list of checks at hand on the smartphone screen), and more clearly we form a report (in the results it will be seen which nodes were inspected and which checks were performed by a specific crawler). <br><br>  Since it turns out that almost everything is being done through this smartphone, then we are working on the possibility of rejecting radios as well - in the end, the crawler does so with a smartphone, why not send voice messages through the application from it.  The level of communication at the sites is provided appropriate, so there should be no problems. <br><br>  This is with regard to the application from the crawler.  And this is what it looks like for the shift supervisor. <br><br><h2>  System </h2><br>  In the general layout of the site, management sees the marked areas and each sensor corresponding to the equipment that needs to be checked.  As soon as the crawler marks the perimeter or piece of hardware checked with a smartphone, the corresponding section on the diagram is colored green. <br><br>  We wrote a convenient dashboard so that everything could be conveniently monitored, and generate reports, as well as set new tasks for the surveyors directly during the detour (sometimes there is such a need). <br><br>  We have achieved the well-coordinated work of this whole business thanks to the microservice architecture.  It looks like this (and we'll talk more about that later): <br><br><img src="https://habrastorage.org/webt/zw/dt/sc/zwdtscsiqlxjjnilmzri_syg7h0.jpeg"><br><br>  Full text search on backend done on Elasticsearch. <br><br><h2>  What then </h2><br>  Now the main problems that have led to the creation of the system, we have decided, and you can hang on it additional ruches.  For example, we divide the bases to speed up the overall operation of the system. <br><br>  We also want to pick up the possibility of filling out full-fledged repair requests and tracking their execution. <br><br>  By itself, we will close a number of bugs.  Now, for example, sometimes the crawlers complain that the permissions necessary for the application to work are being dropped from the mobile phones. <br><br>  In general, the pilot was quite successful, even though he does not go out to collect the most accurate incident statistics - for example, the trackman was walking around the site, he saw that one of the plugs had become loose, just adjusted on the move and went further, saying, ‚ÄúWhat the hell is this? to contribute. "  That is, frank little things are always corrected on the go, but not always recorded in the report.  But we want to fix every little thing. <br><br>  The main thing is that the change in useful time has changed for the better. <br><br>  So far this is all data on the basis of which we can build statistics, for the pilot is the pilot, but in general, everyone is happy. <br><br>  Including walkers. </div><p>Source: <a href="https://habr.com/ru/post/428353/">https://habr.com/ru/post/428353/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../428343/index.html">Interesting problem in C</a></li>
<li><a href="../428345/index.html">Covering the requirements of cases. The realities of SuperJob</a></li>
<li><a href="../428347/index.html">The future of WebAssembly as a ‚Äúskill tree‚Äù</a></li>
<li><a href="../428349/index.html">Cucumber in the cloud: using BDD scripts for load testing a product</a></li>
<li><a href="../428351/index.html">I see you: machine learning and artificial neural networks in the study of the sight of fruit flies</a></li>
<li><a href="../428355/index.html">Mechanics of gamification: rating</a></li>
<li><a href="../428357/index.html">Absorption in practice: life story</a></li>
<li><a href="../428361/index.html">A la perfecci√≥n: Improving WordPress with AMP for WordPress and Setka Editor Plugins</a></li>
<li><a href="../428363/index.html">Building a jetpack / hoverboard: rescue systems</a></li>
<li><a href="../428365/index.html">Tale of how Google billing was changed, or how to avoid unnecessary costs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>