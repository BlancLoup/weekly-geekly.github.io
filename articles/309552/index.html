<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How I created the HTML killer</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the life of every self-taught novice programmer, there is a moment when watching the next video in the series ‚ÄúBasics of% language_name%‚Äù is no lon...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How I created the HTML killer</h1><div class="post__text post__text-html js-mediator-article">  In the life of every self-taught novice programmer, there is a moment when watching the next video in the series ‚ÄúBasics of% language_name%‚Äù is <i>no</i> longer interesting, but <i>it‚Äôs</i> too early to ask for juniors.  At this point, I want to test my strength on some "almost present" project.  Under the cut - the story of how I came up with such a project and what came of it. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/444/1bf/b55/4441bfb559594f938e8dfc962f5b599e.png" alt="image"></div><a name="habracut"></a><br>  So it happened that in our country informatics teachers love Pascal.  And in pedagogical universities, students are usually taught to him.  I have nothing against this language, however, being a student of a pedagogical university, I wanted to learn something more mainstream. <br><br>  After getting acquainted with some programming languages ‚Äã‚Äãand projects of the ‚ÄúHello world!‚Äù Level on them, I caught the eye of Python. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Familiarity with its syntax and capabilities led me to delight.  I read all the books on the python that I found, studied hundreds of tutorials, reviewed several videos.  Understandably, I was impatient to put my knowledge into practice.  Therefore, when on one of the subjects the labs allowed me to pass in any language, I delivered a certain number of problems to the teacher (apparently, none of the students used to indulge in such delights of teachers).  Having made several such laboratory projects, I wanted to move on and get down to the ‚Äúreal‚Äù project. <br><br>  One day, reflecting on the idea of ‚Äã‚Äãsuch a project, I saw a picture from the beginning of the post and it dawned on me: you need to write down your markup language, with Russian-language commands and brackets! <br><br><h3>  Idea </h3><br>  The picture gave an idea, but this version of the ‚Äúmarkup language made in the USSR‚Äù did not seem very good.  In short, language requirements can be formulated as follows: <br><br><ul><li>  All commands must be available in the standard Russian layout; </li><li>  HTML compilation; </li><li>  "No!" Closing tags. </li></ul><br>  The first requirement was dictated by the concept itself, the second by the desire to see the results of the work in practice.  As for the third requirement, I didn‚Äôt like to write duplicate closing tags since high school (like &lt;/ body&gt; and &lt;/ bold&gt;), although their necessity is indisputable.  Therefore, it was decided to introduce a universal "locker" that would close any tags. <br><br><h4>  Syntax </h4><br>  Here you need to clarify that the actual language was not an end in itself, the main task was to pump up programming skills in python.  Therefore, the development of syntax was given a minimum of time - in fact, it is tracing with HTML with some features.  This was largely dictated by the desire to get the ability to compile in HTML. <br><br>  In general, a command of the language of the <abbr title="Hypertext Markup Language - Made in USSR">test</abbr> language can be described as follows: <br><br><pre><code class="hljs css">\::<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::(</span></span>)</code> </pre> <br>  The attribute part is optional.  Using <code>::</code> to separate attributes may seem like an unreasonable decision (for example, [] or {} would be more obvious), but this is a sacrifice offered by the ‚ÄúRussian-speaking‚Äù layout. <br><br><h4>  Implementation </h4><br>  As mentioned above, I am not a real welder and have never written compilers.  Although in general, the principles of their work represented. <br><br>  And here I came in handy knowledge of the theory of automata, obtained in the framework of the university course "Theoretical Foundations of Informatics."  I remember, then they seemed to me useless - perhaps the thing is how this course was taught. <br><br>  The algorithm of the compiler operation was divided into 2 stages: <br><br><ul><li>  Getting tokens from the source list; </li><li>  Use the resulting list to generate code. </li></ul><br>  To obtain a list of tokens, the source text was viewed almost character-by-character; if a ‚Äúboundary‚Äù character was encountered, the current token was added to the list.  Tokens boundaries could be: \, (,),%, commands, end of line character, etc. <br><br>  At the second compilation stage, a state machine was used that stored the current state and, possibly, the state stack.  Consider an example. <br><br>  The code should look something like this: <br><br><pre> <code class="hljs tex"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"></span></span></span></span>(   <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"></span></span></span></span>(),   - <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"></span></span></span></span>())</code> </pre> <br><br>  That after compilation was supposed to turn into <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>   <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-tag">&gt;</span></span>,   - <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">i</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  To implement the machine were created: <br><br><ul><li>  TokenList - a list that stores tokens; </li><li>  STATE - the current state of the machine; </li><li>  statement - state stack </li></ul><br>  This can be depicted as follows: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/dde/e50/3e6/ddee503e69ee49de9efd1e42b68611c7.png"></div><br>  Let the token \ par to the automat enter first.  Since this token is a command of the language, it sets the new state (&lt;p), which becomes the current one, and the previous state (&lt;body&gt;) is saved to the state stack. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/a43/f72/42b/a43f7242b0534b0e870028e58363538f.png"></div><br>  Please note: the new state becomes just &lt;p, not &lt;p&gt; - this is due to the fact that state names are used to generate code, and there may be some attributes of the tag in front of the&gt; symbol.  In fact, there are two different states: &lt;p and &lt;p&gt;, the automaton goes to the last when the token is supplied to the input "(". A similar scheme was used for all commands, therefore, it was considered to be the first states as "incomplete tags", and the second ones "Full tags". <br><br>  If the token ")" arrives at the input, and the current state is a "full tag", a pair tag is added to the generated file (for example, &lt;/ p&gt; tag), and the last state is removed from the top of the stack. <br>  The parsing ends when, after the next ")", it turns out that the state stack is empty. <br><br>  Text between <code>::</code> and <code>::</code> is considered tag attributes.  It was assumed that their parsing will use its own parsing algorithm, so at first it was simply added between the tag name and the&gt; character.  On the one hand, this allowed the use of HTML syntax within the commands of the NGPR, on the other hand, this text was not analyzed at all, so there was no guarantee that there were no errors in it from the HTML point of view. <br><br><h3>  results </h3><br>  In general, the results of the work can be assessed as ambiguous. <br><br>  Initially, the goal of the project was to pump up their skills in programming in python and create a product that would not be ashamed to show a potential employer (well, to amuse CHS, of course).  And if the first part is less good (I have mastered the language better, plus I dealt with github a little), then the second part is not so smooth. <br><br>  Some problems that have not been resolved: <br><br><ol><li>  Problems with the implementation of the analogue tag &lt;pre&gt;; </li><li>  Attribute analysis is not implemented ‚Äî in fact, they are simply substituted into an HTML tag; </li><li>  The idea of ‚Äã‚Äãrefusing to switch layouts was (so far?) Untenable - attributes and styles still have to be written in English, there is no implementation of any <abbr title="Cascading Style Sheet Language">YKTS</abbr> even in the project; </li><li>  Ambiguous solution: compiler in an <i>interpreted</i> language; </li><li>  Not all tags are implemented; </li><li>  It is possible to write a ‚Äúreal website‚Äù on the NGTR, but it is still necessary to know HTML. </li></ol><br>  The second and fifth points of this list are, in principle, solvable, but I must admit that at the moment I have lost some thought to this idea. <br><br>  On the other hand, there were some new thoughts.  In particular, I would like to figure out how to properly organize compiler options through command line arguments.  Or how to create a text editor with syntax highlighting of the NGTR.  But then I do not even know from which edge to grab. <br><br>  <b>Total</b> : a certain development experience was obtained, but the project cannot be called successful.  Well, yes, the appearance of the "HTML killer" is postponed indefinitely. <br><br>  The compiler sources are on <a href="https://github.com/san-smith/USSRHTML">GitHub</a> .  Questions, comments, suggestions, criticism and assistance are accepted. </div><p>Source: <a href="https://habr.com/ru/post/309552/">https://habr.com/ru/post/309552/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../309542/index.html">A brief history of passwords from P to b: the birth, death and zombie apocalypse</a></li>
<li><a href="../309544/index.html">Tower Defense on the Unity engine - Part 2</a></li>
<li><a href="../309546/index.html">A person. Dennis Ritchie - creator of the C language and OS UNIX</a></li>
<li><a href="../309548/index.html">Creating a dynamic time-lapse using a microcontroller</a></li>
<li><a href="../309550/index.html">HPE Vertica 8 Review (Frontloader)</a></li>
<li><a href="../309554/index.html">"How I spent this summer": video from summer meetings JUG.ru</a></li>
<li><a href="../309556/index.html">Docker. Why and how</a></li>
<li><a href="../309558/index.html">Black box for the house: collect NAS do-it-yourself, part 1</a></li>
<li><a href="../309560/index.html">JETPLOW Architecture - NSA backdoor in my coffee stand</a></li>
<li><a href="../309564/index.html">Centralized backup policy management</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>