<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Let math add hearts</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="One and one - it turns out two. All alone - here you are, and there I am. 
 People are always alone doubly alone with themselves. 
 If something could...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Let math add hearts</h1><div class="post__text post__text-html js-mediator-article"><blockquote>  <i>One and one - it turns out two.</i>  <i>All alone - here you are, and there I am.</i> <i><br></i>  <i>People are always alone doubly alone with themselves.</i> <i><br></i>  <i>If something could bring them closer together, it would immediately be one of the two.</i> <i><br></i>  <i>Let mathematics add hearts - to make our way to the end.</i> <br><br>  Williams Jay, "Heroes Nowhere" </blockquote><br>  Probably, the post should be called "How to draw an animated heart for Valentine's Day, using math for other purposes."  I rejected this title in favor of a more poetic one: after all, a wonderful romantic holiday is coming, which we, the IT people and other nyards, should meet fully armed.  I will immediately show you the result, and under Habrakat there will be many letters about how I achieved this result. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9c1/17b/320/9c117b3208ad3561ebb1b7becefb0c38.gif" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><h4>  Disclaimer </h4><br>  I realize that a beautiful flashing heart can be done without the slightest knowledge of mathematics.  But is it interesting? <br><br><h4>  Step 1. Parameterize the heart. </h4><br>  To begin with, we need a mathematical object that even remotely resembles a heart.  Fortunately, for me this step was trivial: a couple of years ago I discovered a wonderful formula for just such a case (for aesthetic reasons, the graph in the figure is stretched horizontally, in fact it should fit between -1 and 1). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8af/b38/e9f/8afb38e9f372ac2f8df3b9358379546c.jpg" alt="image"><br><br>  The formula was found from the following considerations: take an ordinary circle <nobr>(x = cos (t); y = sin (t))</nobr> and imagine that it consists of jelly, while being rigidly attached to the ordinate axis.  Now let's ‚Äúblow‚Äù to it from below: add to the coordinate of the game some function w (x) = w (x (t)), equal to zero for x = 0, monotonously increasing for x&gt; 0 and even in x.  After such a ‚Äúblow‚Äù, the halves of the circle will move upwards, forming the ‚Äúbulges‚Äù of the heart, and due to the rigid attachment to the Y axis, the lower tail and the upper dent are formed.  In this case, w (x (t)) = | x |  <sup>1/2</sup> = | cos (t) |  <sup>1/2</sup> .  You can try the other ‚Äúblow function‚Äù on your own and see what comes of it. <br><br><h4>  Step 2. From parametric assignment to implicit function. </h4><br>  For our insidious plan, the parametric equation (x (t); y (t)) is inconvenient;  preferably it would be an implicit task of the form f (x, y) = 0. Well, everything is in our hands.  So, the pants are turning: <br><blockquote>  x = cos (t) <br>  y = sin (t) + | cos (t) |  <sup>1/2</sup> <br>  y - | x |  <sup>1/2</sup> = sin (t) <br>  (y - | x | <sup>1/2</sup> ) <sup>2</sup> + x <sup>2</sup> = 1 <br>  f (x, y) = (y - | x | <sup>1/2</sup> ) <sup>2</sup> + x <sup>2</sup> - 1 = 0 </blockquote><br><br><h4>  Step 3. From an implicit function to a function of two variables.  Color function. </h4><br>  Having f (x, y) in our hands, we can finally fulfill our dream: to draw a beautiful color picture.  For this we need another function: the color function.  It must take a real argument r and return an integer value from 0 to 255. It is also desirable that it be monotone on each semi-axis and have a maximum at the zero point.  As such a function, you can take, for example, this: <br><br><blockquote>  c (r) = max ([255 - 100 * | r |], 0) </blockquote><br>  Here 100 is the ‚Äúmagic number‚Äù, later we will completely replace it with the ‚Äúgood programming style‚Äù by the parameter. <br>  Now for each point (x, y) we can set the color as rgb (c (f (x, y)), 0, 0).  Those points that previously belonged directly to the ‚Äúheart‚Äù graphics turned bright red (note the fixed light contour on the gif).  As you move away from the graph, the color will fade until it turns black at some distance from it. <br><br><h4>  Step 4. Add a parameter, create an animation. </h4><br>  Now replace the magic number 100 with the parameter k.  The new color feature looks like this: <br><br><blockquote>  c (r, k) = max ([255 - k * | r |], 0) </blockquote><br>  Let k be some function of time.  Then for each point of the image at each moment of time we can calculate its color (which is, in fact, the mathematical definition of animation).  At first I wanted to take something like k (t) = 80 (sin (t) +1).  Then, however, I realized that with a large number of gif frames, it would weigh more than 640 kilobytes.  On the other hand, with a small number of frames it makes no sense to bother with the analytical task k (t).  As a result, in order to achieve heart pulsation, I successively assigned k values ‚Äã‚Äãof 80, 90, 100, 110, 120, 110, 100, 90, and then the images generated for these values ‚Äã‚Äãwere combined into a cyclic GIF.  In general, everything. <br><br><h4>  Conclusion </h4><br>  Unfortunately, I was not able to arrange a surprise for my girlfriend: she sneakily crept behind me just as I was generating frames for the animation.  However, she liked it. <br>  Artists, designers and other comrades with a keen sense of beauty will surely say that a heart could be more beautiful.  In part, I agree with them: the picture is not without flaws.  However, her true beauty is in mathematical rigor.  My girlfriend appreciated it.  And you? </div><p>Source: <a href="https://habr.com/ru/post/169219/">https://habr.com/ru/post/169219/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../169203/index.html">Adobe Flash Player updated, updated again.</a></li>
<li><a href="../169207/index.html">About the commission in Bitcoin</a></li>
<li><a href="../169209/index.html">Dell Venue Pro - year together</a></li>
<li><a href="../169213/index.html">Firefox and Google Chrome are blocking the abbreviation of links from Vkontakte</a></li>
<li><a href="../169217/index.html">Outfone Secure Business Phone BD618</a></li>
<li><a href="../169221/index.html">Another 0-day vulnerability in Adobe Reader</a></li>
<li><a href="../169223/index.html">Technical support for dummies: happiness in one click</a></li>
<li><a href="../169231/index.html">Access to PasswordBox in MVVM environment</a></li>
<li><a href="../169233/index.html">Bitrix + Bitcoin. Part 2. The choice of processing</a></li>
<li><a href="../169237/index.html">Threats of January 2013 and our recommendations on Conficker</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>