<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Autorun rails + rvm + unicorn + nginx on FreeBSD</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="First, you need to say ‚Äúthank you‚Äù to the author of this guide . Without him, I would not have sat down for writing this post for a long time: a bunch...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Autorun rails + rvm + unicorn + nginx on FreeBSD</h1><div class="post__text post__text-html js-mediator-article">  First, you need to say ‚Äúthank you‚Äù to the author of <a href="http://habrahabr.ru/post/120368/">this guide</a> .  Without him, I would not have sat down for writing this post for a long time: a bunch of problems would have to be solved on my own.  However, in my case, the situation was slightly different (not Debian, but FreeBSD), and the unicorn autostart question remained open.  I also didn‚Äôt pretend to elegance on the Internet, I also didn‚Äôt pretend: to do a service on a web application - moveton.  At FreeBSD, this problem is solved at first glance simply by creating ‚Äúmetaservices‚Äù that allow you to run more than one instance (as an example, FreeBSD jails).  However, as is often the case, there are nuances ... <br><a name="habracut"></a><br><h5>  rc.d </h5><br>  Since all rc.d-configs are shell scripts, you can not be limited to the <code>/etc/rc.conf</code> file and its companion <code>/etc/rc.conf.local</code> , but place the fragments in the <code>/etc/rc.conf.d</code> and <code>/usr/local/etc/rc.conf.d</code>  The only recommendation is that the files should be named the same as the services using them.  This allows you to avoid turning the configuration files into unreadable monsters from more than a hundred lines, in which you will not understand without grep.  The problem is different: if the service has several instances, ALL their settings should formally be in the same file (the name of which, I remind, coincides with the name of the service).  To solve this problem, you need to understand how the service startup scripts work. <br>  Usually this process is described approximately as follows: "When the system is started, the script runs in <code>/etc/rc</code> . It reads the settings from the <code>/etc/rc.conf</code> file (as well as <code>/etc/rc.conf.local</code> - if there is one) ..." And no!  Instead, it <b>includes the</b> <code>/etc/rc.subr</code> file, which defines some auxiliary functions and also <b>includes the</b> system configuration files: <br><pre> <code class="bash hljs">... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-variable"><span class="hljs-variable">${_rc_conf_loaded:-false}</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> : <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [ -r /etc/defaults/rc.conf ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> debug <span class="hljs-string"><span class="hljs-string">"Sourcing /etc/defaults/rc.conf"</span></span> . /etc/defaults/rc.conf source_rc_confs <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> [ -r /etc/rc.conf ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> debug <span class="hljs-string"><span class="hljs-string">"Sourcing /etc/rc.conf (/etc/defaults/rc.conf doesn't exist)."</span></span> . /etc/rc.conf <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span> _rc_conf_loaded=<span class="hljs-literal"><span class="hljs-literal">true</span></span> <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [ -f /etc/rc.conf.d/<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$_name</span></span></span><span class="hljs-string">"</span></span> ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> debug <span class="hljs-string"><span class="hljs-string">"Sourcing /etc/rc.conf.d/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${_name}</span></span></span><span class="hljs-string">"</span></span> . /etc/rc.conf.d/<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$_name</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span> ...</code> </pre><br>  In turn, the <code>/etc/defaults/rc.conf</code> file contains the following code: <br><pre> <code class="bash hljs">... rc_conf_files=<span class="hljs-string"><span class="hljs-string">"/etc/rc.conf /etc/rc.conf.local"</span></span> ... <span class="hljs-comment"><span class="hljs-comment">############################################################## ### Define source_rc_confs, the mechanism used by /etc/rc.* ## ### scripts to source rc_conf_files overrides safely. ## ############################################################## if [ -z "${source_rc_confs_defined}" ]; then source_rc_confs_defined=yes source_rc_confs () { local i sourced_files for i in ${rc_conf_files}; do case ${sourced_files} in *:$i:*) ;; *) sourced_files="${sourced_files}:$i:" if [ -r $i ]; then . $i fi ;; esac done } fi</span></span></code> </pre><br>  After downloading all the settings, a list of system services is compiled, and a launch script is called for each service, regardless of whether it is enabled or not.  Therefore, it is <b>strongly recommended not to place user services files in the <code>/etc/rc.d</code> directory</b> - this will increase the system boot time.  For user services, there is a directory <code>/usr/local/etc/rc.d</code> - the scripts in it are called up last, when the main system is already configured and ready to go.  But the real black magic begins further: each of these scripts again includes the <code>/etc/rc.subr</code> script loading the variables relating to it.  And this makes it possible to make even more modular configuration files: just include a code like the following in the main file in the <code>/etc/rc.conf.d</code> directory (using the unicorn example as an example): <br><pre> <code class="bash hljs">unicorn_enable=<span class="hljs-string"><span class="hljs-string">"YES"</span></span> unicorn_profiles=<span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> $(grep -rlE <span class="hljs-string"><span class="hljs-string">'^unicorn_[0-9a-zA-Z]+_enabled="[Yy][Ee][Ss]"$'</span></span> /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/etc/unicorn.d); <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> bn=$(basename <span class="hljs-variable"><span class="hljs-variable">$p</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [ -n <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$unicorn_profiles</span></span></span><span class="hljs-string">"</span></span> ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> unicorn_profiles=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$unicorn_profiles</span></span></span><span class="hljs-string"> </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$bn</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> unicorn_profiles=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$bn</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span> . <span class="hljs-variable"><span class="hljs-variable">$p</span></span> <span class="hljs-keyword"><span class="hljs-keyword">done</span></span></code> </pre><br><br><h5>  Unicorn </h5><br>  First of all, we'll put <code>sudo</code> - it is much more convenient than ‚Äúsculpt‚Äù a command to run through su, prompting for shell injection. <br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /usr/ports/security/sudo &amp;&amp; make install clean</code> </pre><br>  We will also put a utility called portmaster - this will facilitate the further process: <br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /usr/ports/ports-mgmt/portmaster &amp;&amp; make install clean</code> </pre><br>  We will install the rest of the software with its help: <br><pre> <code class="bash hljs">LN=<span class="hljs-string"><span class="hljs-string">'ln -f'</span></span> portmaster devel/bison textproc/libxml2 textproc/libxslt textproc/diffutils devel/gmake security/openssl devel/automake devel/git devel/subversion shells/bash</code> </pre><br>  For the lazy - setting the default environment: <br><pre> <code class="bash hljs">portmaster lang/ruby19 sysutils/rubygem-bundler www/rubygem-unicorn</code> </pre><br>  A description of the next steps can be found in the original article, and we move on to the next part - installing all this stuff as a service. <br><br>  In order to be able to manage multiple instances of the service, the following code must be included in the startup script: <br><pre> <code class="bash hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">is_unicorn_profile</span></span></span></span>() { <span class="hljs-built_in"><span class="hljs-built_in">local</span></span> profile <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> profile <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-variable"><span class="hljs-variable">$unicorn_profiles</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [ <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$profile</span></span></span><span class="hljs-string">"</span></span> = <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$1</span></span></span><span class="hljs-string">"</span></span> ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-built_in"><span class="hljs-built_in">return</span></span> 0 <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span> <span class="hljs-keyword"><span class="hljs-keyword">done</span></span> <span class="hljs-built_in"><span class="hljs-built_in">return</span></span> 1 } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [ -n <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${unicorn_profiles}</span></span></span><span class="hljs-string">"</span></span> ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [ -n <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$2</span></span></span><span class="hljs-string">"</span></span> ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> profile=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$2</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ! is_unicorn_profile <span class="hljs-variable"><span class="hljs-variable">$profile</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$0</span></span></span><span class="hljs-string">: no such profile defined in unicorn_profiles."</span></span> <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span> 1 <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span> <span class="hljs-built_in"><span class="hljs-built_in">eval</span></span> unicorn_socket=\<span class="hljs-variable"><span class="hljs-variable">${unicorn_${profile}</span></span>_socket:-<span class="hljs-string"><span class="hljs-string">"/tmp/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${name}</span></span></span><span class="hljs-string">-</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${profile}</span></span></span><span class="hljs-string">.sock"</span></span>} <span class="hljs-built_in"><span class="hljs-built_in">eval</span></span> unicorn_config=\<span class="hljs-variable"><span class="hljs-variable">${unicorn_${profile}</span></span>_config} <span class="hljs-built_in"><span class="hljs-built_in">eval</span></span> unicorn_dir=\<span class="hljs-variable"><span class="hljs-variable">${unicorn_${profile}</span></span>_dir} <span class="hljs-built_in"><span class="hljs-built_in">eval</span></span> unicorn_flags=\<span class="hljs-variable"><span class="hljs-variable">${unicorn_${profile}</span></span>_flags:-<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${unicorn_flags}</span></span></span><span class="hljs-string">"</span></span>} <span class="hljs-built_in"><span class="hljs-built_in">eval</span></span> unicorn_environment=\<span class="hljs-variable"><span class="hljs-variable">${unicorn_${profile}</span></span>_environment:-<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${unicorn_environment}</span></span></span><span class="hljs-string">"</span></span>} <span class="hljs-built_in"><span class="hljs-built_in">eval</span></span> unicorn_rails=\<span class="hljs-variable"><span class="hljs-variable">${unicorn_${profile}</span></span>_rails:-<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${unicorn_rails}</span></span></span><span class="hljs-string">"</span></span>} <span class="hljs-built_in"><span class="hljs-built_in">eval</span></span> unicorn_user=\<span class="hljs-variable"><span class="hljs-variable">${unicorn_${profile}</span></span>_user:-<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${unicorn_user}</span></span></span><span class="hljs-string">"</span></span>} <span class="hljs-built_in"><span class="hljs-built_in">eval</span></span> unicorn_procname=\<span class="hljs-variable"><span class="hljs-variable">${unicorn_${profile}</span></span>_procname:-<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${unicorn_procname}</span></span></span><span class="hljs-string">"</span></span>} <span class="hljs-built_in"><span class="hljs-built_in">eval</span></span> unicorn_bundler=\<span class="hljs-variable"><span class="hljs-variable">${unicorn_${profile}</span></span>_bundler:-<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${unicorn_bundler}</span></span></span><span class="hljs-string">"</span></span>} <span class="hljs-built_in"><span class="hljs-built_in">eval</span></span> unicorn_rvm=\<span class="hljs-variable"><span class="hljs-variable">${unicorn_${profile}</span></span>_rvm:-<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${unicorn_rvm}</span></span></span><span class="hljs-string">"</span></span>} <span class="hljs-built_in"><span class="hljs-built_in">eval</span></span> unicorn_ruby=\<span class="hljs-variable"><span class="hljs-variable">${unicorn_${profile}</span></span>_ruby:-<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${unicorn_ruby}</span></span></span><span class="hljs-string">"</span></span>} <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> checkyesno unicorn_rvm; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> unicorn_procname=<span class="hljs-string"><span class="hljs-string">"~</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${unicorn_user}</span></span></span><span class="hljs-string">/.rvm/rubies/ruby-</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${unicorn_ruby}</span></span></span><span class="hljs-string">/bin/ruby"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span> <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> [ -n <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$1</span></span></span><span class="hljs-string">"</span></span> ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> profile <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-variable"><span class="hljs-variable">${unicorn_profiles}</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Processing </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${name}</span></span></span><span class="hljs-string"> profile: </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${profile}</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-variable"><span class="hljs-variable">$0</span></span> <span class="hljs-variable"><span class="hljs-variable">$1</span></span> <span class="hljs-variable"><span class="hljs-variable">${profile}</span></span> <span class="hljs-keyword"><span class="hljs-keyword">done</span></span> <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span> 0 <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span> <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span></code> </pre><br>  Using RVM creates a problem: for different applications it is necessary to adjust the environment.  You can, of course, after starting each instance, reinitialize the environment, but it is easier to use an auxiliary script: <br><pre> <code class="bash hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> checkyesno unicorn_rvm; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [ -d <span class="hljs-string"><span class="hljs-string">"~</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${unicorn_user}</span></span></span><span class="hljs-string">/.rvm/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${unicorn_ruby}</span></span></span><span class="hljs-string">"</span></span> ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/bin/sudo -u <span class="hljs-variable"><span class="hljs-variable">$unicorn_user</span></span> /usr/bin/env SHELL=/usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/bin/bash CDPATH=. /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/bin/unicorn-wrapper <span class="hljs-variable"><span class="hljs-variable">${unicorn_ruby}</span></span> $(basename <span class="hljs-variable"><span class="hljs-variable">${command}</span></span>) <span class="hljs-variable"><span class="hljs-variable">${command_args}</span></span> rc=$? <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Ruby version </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${unicorn_ruby}</span></span></span><span class="hljs-string"> not found by RVM for user </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${unicorn_user}</span></span></span><span class="hljs-string">"</span></span> rc=1 <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/bin/sudo -u <span class="hljs-variable"><span class="hljs-variable">$unicorn_user</span></span> <span class="hljs-variable"><span class="hljs-variable">${command}</span></span> <span class="hljs-variable"><span class="hljs-variable">${command_args}</span></span> rc=$? <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span></code> </pre><br>  In the process of testing, it turned out that if ZSH is used, it is necessary to add <code>ZSH_VERSION=""</code> to the list of variables to be <code>ZSH_VERSION=""</code> .  The file <a href="https://github.com/orthanner/unix-tools/raw/master/unicorn-wrapper"><code>/usr/local/bin/unicorn-wrapper</code></a> is a simple wrapper that installs the correct version of Ruby and executes the specified command with arguments.  The full version of the startup script can be found <a href="https://github.com/orthanner/unix-tools/raw/master/rc.d/unicorn">next</a> .  It is very easy to use: <br><pre> <code class="bash hljs">service unicorn &lt;action&gt; [&lt;app&gt;]</code> </pre><br>  Config example: <br><pre> <code class="bash hljs">unicorn_redmine_enabled=<span class="hljs-string"><span class="hljs-string">"YES"</span></span> unicorn_redmine_dir=<span class="hljs-string"><span class="hljs-string">"/var/www/sites/mycoolsite.tld/redmine"</span></span> unicorn_redmine_rails=<span class="hljs-string"><span class="hljs-string">"NO"</span></span></code> </pre><br>  In an amicable way, it would be necessary to issue a Port Request, but so far the hands have not reached. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      PS There is only one question left open: how to integrate this kindly with the same capistrano so that the settings do not go off when updating? </div><p>Source: <a href="https://habr.com/ru/post/166807/">https://habr.com/ru/post/166807/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../166793/index.html">Development Management vs Community Project</a></li>
<li><a href="../166795/index.html">We present you our small content service - the section "In Format"</a></li>
<li><a href="../166799/index.html">Customize PowerShell Web Access ‚Äúfor yourself‚Äù</a></li>
<li><a href="../166801/index.html">Intel ceases production of desktop motherboards</a></li>
<li><a href="../166803/index.html">Runetology (182): Andrey Kravets, founder of Lostfilm.tv</a></li>
<li><a href="../166811/index.html">Tiles on the tablet. Acer Iconia Tab W700 Review</a></li>
<li><a href="../166815/index.html">Both cash and back ...</a></li>
<li><a href="../166817/index.html">How to recharge your Payoneer card</a></li>
<li><a href="../166821/index.html">Auto Transmission Speed ‚Äã‚ÄãControl</a></li>
<li><a href="../166823/index.html">Simple business: version 1.7.8.0. Code name "Angkor"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>