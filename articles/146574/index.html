<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Packages, systems, modules, libraries - WHAT?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="According to my observations, at least once a week in the cll list or another Lisp list, ‚Äúnewbies‚Äù are confused about what is associated with packages...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Packages, systems, modules, libraries - WHAT?</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/b70/f8a/380/b70f8a38094d0b674fac9b8a299a5401.gif"><br><br>  According to my observations, at least once a week in the <a href="">cll</a> list or another Lisp list, <a href="http://ru.wikipedia.org/wiki/%25D0%259D%25D0%25BE%25D0%25B2%25D0%25B8%25D1%2587%25D0%25BE%25D0%25BA">‚Äúnewbies‚Äù</a> are confused about what is associated with packages.  They talk about package ‚Äúloading‚Äù, ‚Äúrequiring‚Äù (requiring) a package, they are surprised that after loading the system one needs to use <a href="http://www.lispworks.com/documentation/HyperSpec/Body/26_glo_p.htm">package markers</a> , etc.  It annoys me, I also think that this may be one of the reasons why beginners think that using libraries in Lisp is more difficult than it actually is. <br><br>  I usually stop trying to write a useful explanation, and, of course, this explanation is very simple.  I created this page so that next time I could just send here, instead of explaining the same thing over and over again. <br><a name="habracut"></a><br>  First of all, you should have a clear head.  The term ‚Äúpackage‚Äù is heavily overloaded.  In Linux distributions like Debian or Gentoo, there are ‚Äúpackages‚Äù, ‚Äúpackages‚Äù are in the programming languages ‚Äã‚ÄãJava, Perl or Python.  It is likely that you came to Lisp with a preconceived opinion about what a ‚Äúpackage‚Äù is or what it should be. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Packages </h4><br>  <i>A package</i> in Common Lisp is a full-fledged element of a language whose semantics is clearly defined by the standard.  Moreover, of all the terms discussed on this page, this is the only one that has (in the context of Common Lisp) an unambiguous definition.  Packages are, strictly speaking, containers for characters.  We can say that they are needed to help organize the individual namespaces in your programs. <br><br>  Common Lisp has functions and macros for creating, modifying, exploring, and deleting packages.  A very good introduction to the packages (and symbols) can be found in <a href="http://lisper.ru/pcl/programming-in-the-large-packages-and-symbols">chapter 21 of</a> Peter Sibel's magnificent book <a href="http://lisper.ru/pcl/">Practical Common Lisp</a> .  The definition of the term is found in <a href="http://www.lispworks.com/documentation/HyperSpec/Body/11_.htm">Chapter 11</a> (online versions) of the <a href="http://www.lispworks.com/documentation/common-lisp.html">ANSI Common Lisp specification</a> . <br><br>  In general, about packages, that's all.  Technically speaking, you do not <i>download</i> packages.  You can download (with the help of <a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_load.htm"><code>LOAD</code></a> ) code, which in turn will create a package, and this is a significant difference. <br><br>  In addition, if your Lisp complains that it cannot find a package, it means that there is no package as a Lisp object in the image (i.e. <a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_find_p.htm"><code>FIND-PACKAGE</code></a> returns <code>NIL</code> ) because no one has created it yet.  This does not mean that the Lisp machine looked in the file system and found nothing.  (A common cause of such a failure is that events occur in the wrong order. About this below.) <br><br><h4>  Systems </h4><br>  Systems, unlike packages, are not even mentioned in the <a href="http://www.lispworks.com/documentation/common-lisp.html">standard</a> .  However, experienced Lisp programmers know this term because they will need to know and use some kind of system definition tool.  The most visible today is <a href="http://www.cliki.net/asdf">ASDF</a> (used by most open source Lisp libraries);  Another well-known tool for determining systems that are much older than ASDF is <a href="http://www.cliki.net/mk-defsystem">MK: DEFSYSTEM</a> .  Some developers also supply their system definition tools along with distributions, see for example <a href="http://www.lispworks.com/documentation/lw50/LWUG/html/lwuser-195.htm">Common Defsystem</a> for LispWorks. <br><br>  In this key, the system, strictly speaking, is a set of code plus instructions for its processing, for example, dependencies on other systems, what should be loaded / compiled first and foremost, etc.  In other words, the system definition tool is similar in purpose to <a href="http://ru.wikipedia.org/wiki/Make">make</a> or <a href="http://ru.wikipedia.org/wiki/Apache_Ant">Ant</a> . <br><br>  In addition, the system definition tool can usually be much more - Common Defsystem can, for example, <a href="http://www.lispworks.com/documentation/lw50/COM/html/com-131.htm">integrate COM type library files</a> , ASDF is fully extensible and used, among other things, to <a href="http://git.b9.com/cgi-bin/gitweb.cgi%3Fp%3Dclsql.git%3Ba%3Dblob_plain%3Bf%3Dclsql-uffi.asd%3Bhb%3Dmaster">compile C files</a> .  It is also often used to <a href="http://weitz.de/odd-streams/">define test suites of the</a> described system. <br><br>  Although ASDF is quite popular, it is not omnipresent.  It comes pre-installed with many Lisp systems like SBCL, OpenMCL or AllegroCL, most likely it will load in other Lisp systems, but this fact does not make it part of Common Lisp.  This is a set of code without explicit specifications and with different versions that are incompatible with each other. <br>  Come understand ... <br><br><h4>  Modules </h4><br>  <a href="http://www.lispworks.com/documentation/common-lisp.html">The standard</a> defines modules only superficially.  There are two things you need to know about <a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_provid.htm"><code>REQUIRE</code></a> , <a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_provid.htm"><code>PROVIDE</code></a> and <a href="http://www.lispworks.com/documentation/HyperSpec/Body/v_module.htm"><code>*MODULES*</code></a> - this functionality is not recommended (deprecated) and depends on the implementation.  Do not be disturbed by the fact that this functionality is not recommended.  All distributions today contain the specified functions, and the likelihood that a new ANSI standard will appear and all implementations will suddenly remove them, of course, is small.  What you need to worry about is that <code>REQUIRE</code> can be a convenient, but not portable method (if you are, of course, concerned about the mechanisms of portability). <br><br>  For example, in LispWorks you can use <br><br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">require</span></span> <span class="hljs-string"><span class="hljs-string">"foreign-parser"</span></span>)</code> </pre><br>  to load a <a href="http://www.lispworks.com/documentation/lw50/FLI/html/fli-167.htm">parser capable of reading definitions in C</a> , but this does not work on OpenMCL.  You can also call <br><br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">require</span></span> <span class="hljs-symbol"><span class="hljs-symbol">:asdf</span></span>)</code> </pre><br>  to load ASDF on OpenMCL, but not in LispWorks. <br><br>  Some distributions offer <i>hooks</i> to customize how <code>REQUIRE</code> works, and there are extensions like <a href="http://www.cliki.net/common-lisp-controller">common-lisp-controller</a> that connect REQUIRE with ASDF, but in general a module is a thing that depends on the implementation and should not be confused with systems (ASDF), and , especially with packages. <br><br><h4>  Libraries </h4><br>  Most likely you will not find a clear definition of what a library is.  Most people think of this as a collection of code designed to perform one or more specific tasks and distributed as a whole, usually in the form of a compressed archive that can be downloaded from somewhere.  In fact, this vague definition is, I think, most appropriate when talking about programs written in Lisp.  Most Lisp libraries today include system definition (ASDF), but this is not at all necessary.  Perhaps, depending on the method of receipt, it will be a module in your Lisp system, but this is also not necessary.  In addition, the library usually defines one or more packages, and may not define one. <br><br>  And, by agreement, or perhaps due to a lack of imagination, a situation may arise and often happens when the Ku library goes with the definition of the Ku system, which can be downloaded as a Ku module.  After downloading the code, get a new package called ‚ÄúKu‚Äù.  Four different entities with the same name!  I admit that this is confusing, but I hope that a few previous paragraphs have helped to clarify the situation slightly. <br><br><h4>  But still nothing works for me! </h4><br>  Often people complain that they cannot compile a file containing code like this: <br><br><pre> <code class="lisp hljs"><span class="hljs-comment"><span class="hljs-comment">;;        (require :cl-ppcre) (asdf:oos 'asdf:load-op :cl-ppcre) (defun my-simple-number-scanner (string) (cl-ppcre:scan "^[0-9]+$" string))</span></span></code> </pre><br>  Why is that?  Why can I download this file, but I cannot compile it?  And why can I compile it after downloading?  Isn't it strange? <br><br>  No, not strange.  The compiler reads the first form (which is the instruction to compile - if necessary - and load the CL-PPCRE system, but not to execute it. In the end, the compiler is only interested in compiling the code. After executing the first form, it proceeds to the second form, to the definition of the function. An error message is possible here, since a Lisp scanner trying to read this form will detect the ‚Äúcl-ppcre: scan‚Äù character sequence, which should denote <a href="http://www.lispworks.com/documentation/HyperSpec/Body/26_glo_e.htm">an external character</a> from the CL-PPCRE package, but the CL-PPCRE package itself is not yet. CL-PPCRE system boot,  among other things, the CL-PPCRE package is being created, but this has not happened yet. Read <a href="http://www.lispworks.com/documentation/HyperSpec/Body/03_.htm">chapter 3 of the</a> CLHS. <br><br>  You can use <a href="http://www.lispworks.com/documentation/HyperSpec/Body/s_eval_w.htm"><code>EVAL-WHEN</code></a> to tell the compiler to load CL-PPCRE before reading the second form.  It should, however, find another way to organize your code.  The first form is simply the announcement that your code depends on the CL-PPCRE system.  This should not be in the same file as the Lisp code.  <a href="http://weitz.de/starter-pack/">Write a system definition</a> for your program and place the dependencies there. </div><p>Source: <a href="https://habr.com/ru/post/146574/">https://habr.com/ru/post/146574/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../146568/index.html">How I was friends with MatLab and C ++ in Linux</a></li>
<li><a href="../146570/index.html">Management without control - part 1</a></li>
<li><a href="../146571/index.html">A week of amazing gifts. Excellent resources with the right license.</a></li>
<li><a href="../146572/index.html">10 most influential companies in Cloud Computing</a></li>
<li><a href="../146573/index.html">Rovio released a "new" game</a></li>
<li><a href="../146575/index.html">Shimi Personal Music Robot</a></li>
<li><a href="../146577/index.html">Android UI constructor in IntelliJ IDEA 12</a></li>
<li><a href="../146578/index.html">Firefox 14 for Android is much better</a></li>
<li><a href="../146579/index.html">Determine the location of the phone ... without GPS</a></li>
<li><a href="../146581/index.html">Access to images in isolated storage</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>