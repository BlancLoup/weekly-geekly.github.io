<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Backup Part 5: Testing Bacula and Veeam Backup for Linux</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article will look at various ‚Äúlarge‚Äù backup software, including commercial ones. List of candidates: Veeam Agent for Linux, Bacula. 


 The work ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Backup Part 5: Testing Bacula and Veeam Backup for Linux</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/webt/6-/rt/is/6-rtisdfvmv2enyilko13gucnnq.png"></p><br><p>  This article will look at various ‚Äúlarge‚Äù backup software, including commercial ones.  List of candidates: Veeam Agent for Linux, Bacula. </p><br><p>  The work with the file system will be checked to make it convenient to compare with previous candidates. </p><br><h2 id="ozhidaemye-rezultaty">  Expected results </h2><br><p>  Since both candidates are universal ready-made solutions, the most important result will be predictability of work, namely, the same work time when processing the same amount of data, as well as the same load. </p><a name="habracut"></a><br><h3 id="obzor-veeam-agent-dlya-linux">  Veeam Agent Review for Linux </h3><br><p>  This backup program works with block devices, for which it has a module for the Linux kernel, which ensures the integrity of the backup copy by tracking the changed data blocks.  A more detailed description is <a href="https://habr.com/ru/company/veeam/blog/430770/">here</a> . </p><br><p>  The process of creating a file backup works on the basis of the same kernel module: a block device nugget is created, which is mounted in a temporary directory, and then data is synchronized by file from an nugget to another local directory, or deleted using the smb or nfs protocol, where several files are created in proprietary format. </p><br><p>  The process of creating a file backup could not be completed.  At about 15-16% of the execution speed dropped to 600 kb / s and below, with 50% cpu usage, which potentially led to 6-7 hours of backup process, so the process was stopped. </p><br><p>  An application was created for technical support for Veeam, whose employees suggested using block-by-block mode as a solution. </p><br><div class="spoiler">  <b class="spoiler_title">The results of the work with block backup mode are as follows:</b> <div class="spoiler_text"><p> <a href=""><img src="https://habrastorage.org/webt/a7/sq/9x/a7sq9xfhuqptjyd22j2vgn78tem.png"></a> </p><br><p>  The program runs in this mode - 6 minutes per 20 GB of data. </p></div></div><br><p>  In general, quite good impressions of the program, but in the general overview it will not be taken into account due to the very large sluggishness of the file mode of operation. </p><br><h3 id="obzor-bacula">  Review Bacula </h3><br><p>  Bacula - client-server software for creating backup copies, logically consists of several parts, each of which performs its part of the work.  There is a Director, which serves to manage, FileDaemon - the service responsible for backup, StorageDaemon - a backup storage service, Console - an interface to the Director (there are TUI, GUI, Web options).  This complex is also included in the review because, despite a significantly large threshold of entry, it is quite a popular means of organizing backup. </p><br><div class="spoiler">  <b class="spoiler_title">In full backup mode</b> <div class="spoiler_text"><p>  In this mode, Bacula proved to be quite predictable, performing backup creation on average in 10 minutes, <br>  the load profile is: </p><br><p> <a href=""><img src="https://habrastorage.org/webt/jl/2a/-o/jl2a-opslr85cuofn5d-v3norwa.png"></a> </p><br><p>  The backup size was about 30 GB, as expected when working in this mode of operation. </p><br><p>  When creating incremental backups, the results were not very different, except for the size of the repository, of course (about 14 GB). </p></div></div><br><p>  In general, one can see uniform load on one processor core, as well as the fact that the indicators are similar to regular tar with activated compression.  Due to the fact that the bacula settings for backup are very, very extensive - there was no clear advantage to show. </p><br><h3 id="rezultaty">  results </h3><br><p>  In general, the situation is unfavorable for both candidates, most likely due to the fact that the backup file mode is being used.  In the next part, we will also consider the recovery process from backups, general conclusions can be made from the total time. </p><br><h3 id="anons">  Announcement </h3><br><p>  <a href="https://habr.com/ru/company/southbridge/blog/449282/">Backup, Part 1: Why do I need backup, review of methods, technologies</a> <br>  <a href="https://habr.com/ru/company/southbridge/blog/452630/">Backup, part 2: Review and test rsync-based backup tools</a> <br>  <a href="https://habr.com/ru/company/southbridge/blog/454420/">Backup, part 3: Review and testing duplicity, duplicati</a> <br>  <a href="https://habr.com/ru/company/southbridge/blog/454734/">Backup, part 4: zbackup, restic, borgbackup review and testing</a> <br>  Backup Part 5: Testing Bacula and Veeam Backup for Linux <br>  Backup Part 6: Comparing Backup Tools <br>  Backup, Part 7: Conclusions </p><br><p>  <u>Publisher:</u> Pavel Demkovich </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/459550/">https://habr.com/ru/post/459550/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../459538/index.html"># 18 Mosdroid Argon in Lamoda - Announcement</a></li>
<li><a href="../459540/index.html">Microntends: what are we talking about?</a></li>
<li><a href="../459542/index.html">Mechanics of gamification: skill tree</a></li>
<li><a href="../459544/index.html">Why the series "Chernobyl" so poorly described nuclear energy</a></li>
<li><a href="../45955/index.html">3g in the subway from MTS</a></li>
<li><a href="../459552/index.html">How to lose access to the live system, simply by fumbling the source code</a></li>
<li><a href="../459554/index.html">Watch for file changes with Alerting OpenDistro for Elasticsearch</a></li>
<li><a href="../459558/index.html">How to start using User Mode in Linux</a></li>
<li><a href="../459560/index.html">Capabilities of container data centers: a ready switching node in Myanmar for 50 days</a></li>
<li><a href="../459562/index.html">Differentiable programming</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>