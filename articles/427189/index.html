<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Entertaining prologue</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello residents , it's time to talk about declarative programming. This is when you rubbed at the institute, that the program can not code, and formul...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Entertaining prologue</h1><div class="post__text post__text-html js-mediator-article"><p>  Hello <em>residents</em> , it's time to talk about declarative programming.  This is when you rubbed at the institute, that the program can not code, and formulate.  This is the opposite of imperative, which is now in all programming languages.  Let's pay tribute to the functional approach, it‚Äôs brotherly here, and it‚Äôs doing its job getting deeper into modernity, so you can find lambda in C ++ and javascripts? </p><br><p>  But the situation is sadder with logical, production programming, which can be presented only on <strong>Prolog</strong> . </p><br><p>  Here I am going to throw an interesting thought for habr-effect.  Why not write an article about solving a programmer's problem.  So, I think a lot of posts and turned out.  I join the choice of topics.  Here is the original, new direction of development and competition between the participants, we show how we can solve problems, so that all readers are interested to express their opinions and point out your mistakes, because you have enough specialists in Javascript and C ++, can pitonoznavvy still come across ... </p><br><p>  Total <strong>goal of the article</strong> : to solve at the time of writing the problem, which was not yet known at the beginning of the post and show your code of thought, confirming it with the course and the resulting working solution.  But for this check you need an arbiter, you don‚Äôt review yourself.  I will <a href="http://leetcode.com/">select leetcode.com</a> in this role. </p><br><h1 id="1-itak">  1. So </h1><br><p>  <a href="https://leetcode.com/problemset/algorithms/">Here we</a> select the closest to the most difficult task, and try to solve it at Prolog, it is necessary to demonstrate how entertaining it is. </p><br><h1 id="2--zadacha-44-wildcard-matching">  2. Problem 44. Wildcard Matching </h1><a name="habracut"></a><br><blockquote>  An anaeronautical string (s) and a pattern (p), implement a wildcard pattern matching with support for '?'  and '*'. <br><br>  '?'  Matches any single character. <br>  '*' Matches any sequence of characters (including the empty sequence). <br>  The matching input string (not partial). <br><br>  Note: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      s could be empty and contains only lowercase letters az. <br>  could be empty and contains characters like lowercase?  or *. <br>  Example 1: <br>  Input: <br>  s = "aa" <br>  p = "a" <br>  Output: false <br>  Explanation: "a" does not match the entire string "aa". <br><br>  Example 2: <br>  Input: <br>  s = "aa" <br>  p = '*' <br>  Output: true <br><br>  Explanation: '*' matches any sequence. <br><br>  Example 3: <br>  Input: <br>  s = "cb" <br>  p = "? a" <br>  Output: false <br>  Explanation: '?'  matches 'c', but the second letter is 'a', which does not match 'b'. <br><br>  Example 4: <br>  Input: <br>  s = "adceb" <br>  p = "* <em>a</em> * b" <br><br>  Output: true <br>  Explanation: the first "star" matches the substring while the second "matches" <br><br>  Example 5: <br>  Input: <br>  s = "acdcb" <br>  p = "a * c? b" <br>  Output: false </blockquote><br><h1 id="3-vot-eto-hod">  3. This is a move. </h1><br><p>  Wow))) (sorry moderators), there was a task in which you need to implement a predicate.  Miracles do not even have to do any input / output, which can be difficult in such an environment.  The input types are simple, the output is boolean.  Elementary. </p><br><p>  While setting the citation icons in brief, I got acquainted with the task, we have a state machine, there is a chain of characters, it is a pattern, we must run through it and make a check, bypassing the state graph such that if we have reached the final vertex from the beginning, the answer is true.  This is the task for the reverse search. </p><br><p>  Then proceed, I write immediately a draft right here, then I will show the working version: <br>  The string ... in the prologue is an important data type list, this concept is recursive, declaratively described, so you have to work with it, you need to turn the lines into lists of atoms.  An atom, by the way, is not just a symbol, although it, too, an atom is a string with a small letter without spaces, for a Prolog it is a string constant, and no quotation marks can be used. </p><br><pre><code class="hljs mel">atom_to_list(<span class="hljs-string"><span class="hljs-string">''</span></span>,[]). %-      atom_to_list(Str,[H|T]) :- atom_concat(Ch,Rest,Str),atom_lenght(Ch,<span class="hljs-number"><span class="hljs-number">1</span></span>),atom_to_list(Rest,T). %-  ,        </code> </pre> <br><p>  Sorry for my English, check it in the best on the current environment <a href="https://swish.swi-prolog.org/">swi-prolog.org</a> , there is an online editor, here: <br><img src="https://habrastorage.org/webt/5c/te/4z/5cte4z410yfg9e1-6rlwxojupeu.png" alt="image"><br>  Upps.  That's what it means to not deceive anyone, this is a high entry threshold, references to library predicates are not correct.  We are looking for the correct built-in predicates for working with atoms. <br>  And in the picture there is a message that the variable <em>H</em> was unclaimed, some flaw in logic, the head of the list is the first character, and <em>Ch</em> must be in its place. </p><br><p>  Here is some documentation: </p><br><blockquote>  atom_concat (? Atom1,? Atom2,? Atom3) <br>  Atom3 forms the concatenation of Atom1 and Atom2.  Must be instantiated to atoms.  This predicate also allows for the mode (-, -, +), non-deterministically splitting&gt; this 3rd argument into two parts (as append / 3 does for lists).  SWI-Prolog allows for atomic arguments.  Portable code must use atomic_concat / 3 if non-atom arguments are involved. <br><br>  atom_length (+ Atom, -Length) <br>  True if Atom.  The SWI-Prolog version accepts all atomic types as well as code-lists and character-lists.  It would be a good idea to avoid the number of characters. </blockquote><br><h1 id="31-atom-v-spisok-atomov">  3.1 Atom to atom list </h1><br><p>  Like this <br><img src="https://habrastorage.org/webt/3u/4m/6n/3u4m6nhu3zml-1jkqojdq3iakdu.png"></p><br><h1 id="32-sobstvenno-konechnyy-avtomat">  3.2 The actual state machine </h1><br><p>  Imagine a graph that reads characters from a template and checks for matching characters in the input string.  Solution Draft: </p><br><pre> <code class="hljs ruby">%InpitList, PattList test_pattrn([],[]). <span class="hljs-string"><span class="hljs-string">%-      test_pattrn([Ch|UnpTail],[Ch|PatTail]):-</span></span>is_letter(Ch),test_pattrn(UnpTail,PatTail). %<span class="hljs-string"><span class="hljs-string">'?'</span></span> Matches any single character. test_pattrn([Ch<span class="hljs-params"><span class="hljs-params">|UnpTail],['?'|</span></span>PatTail])<span class="hljs-symbol"><span class="hljs-symbol">:-is_letter</span></span>(Ch),test_pattrn(UnpTail,PatTail). %<span class="hljs-string"><span class="hljs-string">'*'</span></span> Matches any sequence of characters (including the empty sequence). test_pattrn([Ch<span class="hljs-params"><span class="hljs-params">|UnpTail],['*'|</span></span>PatTail])<span class="hljs-symbol"><span class="hljs-symbol">:-is_letter</span></span>(Ch),test_pattrn(UnpTail,[<span class="hljs-string"><span class="hljs-string">'*'</span></span><span class="hljs-params"><span class="hljs-params">|PatTail]). test_pattrn([],['*'|</span></span>PatTail])<span class="hljs-symbol"><span class="hljs-symbol">:-test_pattrn</span></span>([],PatTail).</code> </pre><br><p>  Let's make the final interface: <br>  isMatch (S, P): - atom_to_list (S, SL), atom_to_list (P, PL),!, test_pattrn (SL, PL),!. </p><br><p>  Here are all the examples from the problem statement: </p><br><p><img src="https://habrastorage.org/webt/ck/yv/dm/ckyvdmeom6kfycxdzcbllsqq9d4.png"></p><br><h1 id="4-arbitr">  4. Arbitrator </h1><br><p>  It seems the decision is ready, now we include the arbitrator.  On the website <a href="https://leetcode.com/accounts/signup/">leetcode.com</a> (yes, yes, we solve the problem number 44), will receive tests, we will try to execute them consistently with our implementation.  One bad luck, there do not accept programs on <strong>Prolog</strong> . </p><br><p>  Nothing, one by one we get all the tasks: </p><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Solution</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isMatch</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, s, p)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">""" :type s: str :type p: str :rtype: bool """</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"aa"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"a"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"aa"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"*"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"cb"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"?a"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"adceb"</span></span><span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"*a*b"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"acdcb"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"a*c?b"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"aab"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"c*a*b"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"mississippi"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"m??*ss*?i*pi"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"aa"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"aa"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"aaa"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"aa"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"aa"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"a*"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"ab"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"?*"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"a"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"a"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"a"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"aa"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"aa"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"aaa"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"abefcdgiescdfimde"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"ab*cd?i*de"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"zacabz"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"*a?b*"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"leetcode"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"*e*t?d*"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"missingtest"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"mi*ing?s*t"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"aaaa"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"***a"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">""</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"*"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"a"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"?"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"a"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">""</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"a"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"a*"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"a"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"?*"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"a"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"*"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"b"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"?"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"b"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"??"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"bc"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"??"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"bcd"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"??"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"b"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"?*?"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"b"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"*?*?"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"b"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"*?*?*"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"c"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"*?*"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"cd"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"*?"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"cd"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"?"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"de"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"??"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"fg"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"???"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"hi"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"*?"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"ab"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"*a"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"aa"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"*a"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"cab"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"*ab"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"ab"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"*ab"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"ac"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"*ab"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"abc"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"*ab"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"cabab"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"ab*"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"cabab"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"*ab"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"ab"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"ab"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"ab"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"*?*?*"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"ac"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"ab"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"a"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"ab"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"abc"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"ab"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"ab*"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"a"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"ab*"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"ab"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"ab*"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"ac"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"ab*"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"abc"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"ab*"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"*a*"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"a"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"*a*"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">"b"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> p==<span class="hljs-string"><span class="hljs-string">"*a*"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span></code> </pre> <br><p>  Here is a list of tests, someone tried well to enter such a checklist for this task. </p><br><p>  And this is not all the tests, until we stop: </p><br><p><img src="https://habrastorage.org/webt/_z/yy/9c/_zyy9cp2gvrubajwm0xguqpc2uw.png"></p><br><p>  Here is the finished program, plus some tests: </p><br><pre> <code class="hljs pgsql">%-      atom_to_list(<span class="hljs-string"><span class="hljs-string">''</span></span>,[]). %-  ,         atom_to_list(Str,[Ch|T]) :- atom_concat(Ch,Rest,Str),atom_length(Ch,<span class="hljs-number"><span class="hljs-number">1</span></span>), atom_to_list(Rest,T). is_letter(X):-X@&gt;=a, X@=&lt;z. %InpitList, PattList test_pattrn([],[]). %-      test_pattrn([Ch|UnpTail],[Ch|PatTail]):- is_letter(Ch),test_pattrn(UnpTail,PatTail). %<span class="hljs-string"><span class="hljs-string">'?'</span></span> Matches <span class="hljs-keyword"><span class="hljs-keyword">any</span></span> single <span class="hljs-type"><span class="hljs-type">character</span></span>. test_pattrn([Ch|UnpTail],[<span class="hljs-string"><span class="hljs-string">'?'</span></span>|PatTail]):- is_letter(Ch),test_pattrn(UnpTail,PatTail). %<span class="hljs-string"><span class="hljs-string">'*'</span></span> Matches <span class="hljs-keyword"><span class="hljs-keyword">any</span></span> <span class="hljs-keyword"><span class="hljs-keyword">sequence</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> characters (including the empty <span class="hljs-keyword"><span class="hljs-keyword">sequence</span></span>). test_pattrn([Ch|UnpTail],[<span class="hljs-string"><span class="hljs-string">'*'</span></span>|PatTail]):- is_letter(Ch),test_pattrn(UnpTail,[<span class="hljs-string"><span class="hljs-string">'*'</span></span>|PatTail]). test_pattrn(Str,[<span class="hljs-string"><span class="hljs-string">'*'</span></span>|PatTail]):-test_pattrn(Str,PatTail). isMatch(S,P) :- atom_to_list(S,SL), atom_to_list(P,PL),!, test_pattrn(SL,PL),!. %unit-tests framework assert_are_equal(Goal, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>):-<span class="hljs-keyword"><span class="hljs-keyword">not</span></span>(Goal),!,writeln(Goal-&gt;ok). assert_are_equal(Goal, <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>):-Goal,!,writeln(Goal-&gt;ok). assert_are_equal(Goal, Exp):-writeln(Goal-&gt;failed:expected-Exp). %main goal :-assert_are_equal(isMatch(aa,a),<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>). :-assert_are_equal(isMatch(aa,<span class="hljs-string"><span class="hljs-string">'*'</span></span>),<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>). :-assert_are_equal(isMatch(cb,<span class="hljs-string"><span class="hljs-string">'?a'</span></span>),<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>). :-assert_are_equal(isMatch(adceb,<span class="hljs-string"><span class="hljs-string">'*a*b'</span></span>),<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>). :-assert_are_equal(isMatch(acdcb,<span class="hljs-string"><span class="hljs-string">'a*c?b'</span></span>),<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>). :-assert_are_equal(isMatch(aab,<span class="hljs-string"><span class="hljs-string">'c*a*b'</span></span>),<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>). :-assert_are_equal(isMatch(mississippi,<span class="hljs-string"><span class="hljs-string">'m??*ss*?i*pi'</span></span>),<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>). :-assert_are_equal(isMatch(abefcdgiescdfimde,<span class="hljs-string"><span class="hljs-string">'ab*cd?i*de'</span></span>),<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>). :-assert_are_equal(isMatch(zacabz,<span class="hljs-string"><span class="hljs-string">'*a?b*'</span></span>),<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>). :-assert_are_equal(isMatch(leetcode,<span class="hljs-string"><span class="hljs-string">'*e*t?d*'</span></span>),<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>). :-assert_are_equal(isMatch(aaaa,<span class="hljs-string"><span class="hljs-string">'***a'</span></span>),<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>). :-assert_are_equal(isMatch(b,<span class="hljs-string"><span class="hljs-string">'*?*?*'</span></span>),<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>).</code> </pre><br><p>  Here are the test results: </p><br><pre> <code class="hljs lisp">isMatch(<span class="hljs-name"><span class="hljs-name">aa</span></span>, *)-&gt;ok isMatch(cb, ?a)-&gt;ok isMatch(adceb, *a*b)-&gt;ok isMatch(<span class="hljs-name"><span class="hljs-name">acdcb</span></span>, a*c?b)-&gt;ok isMatch(<span class="hljs-name"><span class="hljs-name">aab</span></span>, c*a*b)-&gt;ok isMatch(<span class="hljs-name"><span class="hljs-name">mississippi</span></span>, m??*ss*?i*pi)-&gt;ok isMatch(<span class="hljs-name"><span class="hljs-name">abefcdgiescdfimde</span></span>, ab*cd?i*de)-&gt;ok isMatch(<span class="hljs-name"><span class="hljs-name">zacabz</span></span>, *a?b*)-&gt;ok isMatch(<span class="hljs-name"><span class="hljs-name">leetcode</span></span>, *e*<span class="hljs-literal"><span class="hljs-literal">t</span></span>?d*)-&gt;ok isMatch(<span class="hljs-name"><span class="hljs-name">aaaa</span></span>, ***a)-&gt;ok isMatch(b, *?*?*)-&gt;ok true</code> </pre> <br><h1 id="5-zaklyuchenie">  5. Conclusion </h1><br><p>  Prolog as a workout for the mind.  It's funny to solve problems on it, even though this solution did not have any optimization.  Manually getting to more complex tests turned out to be very time consuming, and so far it was not possible to prove the completeness of the solution.  And it seems to me that I have already reached the size of a habr article. </p><br><p>  What example is this decision to fail? </p><br><p>  How to you my call, inhabitants Habr? </p><br><p>  You can compete by forcing your brains to solve problems and show interesting solutions, because programming is a creative process. </p></div><p>Source: <a href="https://habr.com/ru/post/427189/">https://habr.com/ru/post/427189/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../427177/index.html">Egocentric daffodils are inferior in their productivity to humble leaders.</a></li>
<li><a href="../427179/index.html">Palm reborn from the ashes with a new gadget</a></li>
<li><a href="../427183/index.html">The first introvert in a shaking world</a></li>
<li><a href="../427185/index.html">How linear algebra is applied in machine learning</a></li>
<li><a href="../427187/index.html">Data Caching - Java Spring</a></li>
<li><a href="../427191/index.html">Why he didn‚Äôt call us back-5, or How I escaped from an interview with a company, in which it is a great honor to work in</a></li>
<li><a href="../427193/index.html">5-nm on the way - when to wait for a new process technology</a></li>
<li><a href="../427195/index.html">Tomorrow we will start killing you, or why do we need engineers</a></li>
<li><a href="../427199/index.html">Close acquaintance with an electromechanical punch card sorter (excursion into the beginning of the 20th century)</a></li>
<li><a href="../427203/index.html">Lumiere: talk about four unusual electronic instruments with photocells</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>