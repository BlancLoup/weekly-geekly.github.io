<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Is it MVC?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day! 

 Today I want to share with you thoughts about the architecture of information systems, in particular, the various approaches to the distr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Is it MVC?</h1><div class="post__text post__text-html js-mediator-article">  <b>Good day!</b> <br><br>  Today I want to share with you thoughts about the architecture of information systems, in particular, the various approaches to the distribution of logic, data and display, traditionally attributed to MVC. <br><br>  Over the past two weeks, in conversations with a dozen familiar programmers, I found out that everyone imagines MVC in a completely different way.  It comes to diametrically opposed views, but for some reason, everyone insists that this is MVC and that it should look that way, and are completely confident that everyone sees it that way. <br><a name="habracut"></a><br>  What is the difference?  To understand this, let's formulate the MVC tasks: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>1. Screen the model</b> ‚Äî that is, make the model not ‚Äúknow‚Äù anything about the technical implementation of the application, the user interface, the network protocols, the work with the base, and even the system architecture.  The model should display the subject area and be outside of technology. <br><br>  <b>2. Separating the presentation layer</b> means having the ability to create several views for the same model that can exist in parallel, for example, for different user devices, browsers, mobile platforms and windowed applications.  It also makes it possible to parallelize the work by introducing a division of labor with GUI programmers and even designers who can do display templates but should not go into the code. <br><br>  That's all - there are two parts of the system, and we need to make them less dependent on each other.  And since the model should not ‚Äúknow‚Äù about the representation, a third entity is introduced ‚Äî the controller, which ‚Äúknows‚Äù both parts of the system and, roughly speaking, can make calls to them.  This is where the confusion begins. <br><br>  <b>The first</b> thing opinions differ is where the application logic should be located.  Some put all the logic in the model and make a thin layer of the controller, while others, on the contrary, increase the controller's functionality, leaving only the data in the model.  In this case, the controller is filled with classes whose names indicate their belonging to the subject area with the prefixes ‚ÄúManager‚Äù, ‚ÄúDispatcher‚Äù, ‚ÄúLogic‚Äù, ‚ÄúController‚Äù, etc.  In fact, there are two options: make the controller the core of the system or make it a proxy layer.  But there is a class of tasks (graphical applications with advanced visualization and games), when the view is so closely connected with the model that the model contains the coordinates, behavior and features of the rendering directly, and the controller evaporates.  This is called MVVM (Model-View-ViewModel), and as it turned out later, it is convenient for a wide range of application tasks related to data entry, equipment management, etc. <br><br>  <b>The second</b> disagreement is about who should work with the database.  Someone puts requests to the data in the model and says that the model itself must know how to ‚Äúrise‚Äù and persist, others - put calls to the DBMS in the controller, and others - single out another component of the system specifically for working with the database, calling it ‚Äú Storage ‚Äù,‚Äú Repository ‚Äùor even‚Äú ORM ‚Äù(i.e., object-relational mapping).  At the request of the controller, the ORM spawns the model object and, at its request, the ORM can save, modify, or synchronize the object with the database. <br><br>  And the <b>third</b> difference is where the interface logic should be implemented, which can be forgotten only in the simplest applications.  It can be placed in the presentation layer, but for some it seems not conceptual and it finds a place in the controller.  Therefore, with each movement in the user interface, the control falls into the controller.  For web applications, this leads to page overload or constant AJAX requests, since the view itself is not able to respond to even the smallest user actions. <br><br>  Finally, the <b>last</b> point of discrepancies is manifested in the mixing of the MVC architectural approach with the three-tier architecture: DBMS-ServerApplication-Client, which is permanently entrenched in the minds, especially among the older generation of developers.  In fact, MVC and three-star, this is not the same thing, but they can exist in parallel.  For example, in web applications, all three links can be located on the server and only the rendering of the finished page will occur in a web browser.  Another option, and it is more modern, is when a client-side JavaScript application is launched in the browser that fully or partially implements the presentation layer.  For these purposes even JavaScript-template engines appeared.  But we will not be able to completely transfer the presentation to the client side of the browser, unless we completely abandon HTML and reduce the page to a single JavaScript connection tag.  This is extremism, I'm not even talking about SEO, mobile browsers and disabled JavaScript. <br><br>  Thus, everyone imagines MVC in different ways, and they implement completely different architectures under this sign, conventionally denote them: Mvc, MVc, mvC, mVC, etc.  All this happens because the task itself harbors a contradiction.  To make the model and view independent, it‚Äôs not at all necessary to separate data, logic and display.  These are completely different things.  In each separated link, there will still be data, logic and display, for example: the logic of the data in the database and stored procedures;  display logic in the user interface;  business logic or model logic;  data is contained in both the user interface and the controller;  An interface is not only an interface, but also a user interface between a model and a controller. <br><br>  It turns out that it is impossible to separate the model from the controller?  Perhaps, but for this you need to abandon the separation of data, logic and presentation.  Paradoxically, but MVC only works if Model, View and Controller are implemented at different levels of abstraction.  <b>Model</b> - must contain both the data and the logic of the domain and, in a competent object-oriented programming, must coincide with the concept ‚Äúobject of the subject domain‚Äù or ‚Äúdisplay of the object of the real world‚Äù.  Model is, first of all, modeling, and this includes an information model, a logical model, and even a visualization model, for some tasks.  The domain object does not need to know how it is stored in the database, transferred between program modules and over the network.  It runs in an application, just like in a virtual machine, and, ideally, should be portable even between systems.  Just for this, I insist on writing model logic in scripting, interpreted languages ‚Äã‚Äã(personal preference is JavaScript).  This does not exclude the speed of the model, because the script can be compiled into the native language code or directly into the byte code and cached for long periods of time.  As for the user interface, part of the model will always be contained in it, and if it is in JavaScript, then we will be able to run such things as business logic, validation and model, partly on the server, and partly on the client.  Some parts are only on the client or only on the server, and some are there and there, without rewriting them many times.  What then is the View?  And <b>View</b> is a renderer (for web applications, a browser), plus a library of visual components (forgive the old delfist), plus templates and styles. <br><br>  What remains for the controller?  <b>The controller</b> is the virtual machine in which the domain object is launched.  The controller does not have to correspond for each application; it is the Application Framework.  Moreover, part of the controller works on the server side, and some in the browser.  The controller takes the data from the model on the server side and transmits it over the network.  On the other hand, in the browser, the controller also catches the data and transmits it for visualization, as well as expands part of the model that is needed on the client, so as not to drive the data over the network with each user action.  Where did I get this?  And remember the seven levels of the ISO / OSI model, besides the vertical interaction between the layers, it also has horizontal (logical) interactions - protocols.  On different sides of the connection, the transport logically interacts with the transport, and the model must interact with the model, and the framework with the framework (see fig.).  At the same time, they have different levels of abstraction in a vertical interaction, and in the horizontal, they are on the same level. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b9b/2d1/e30/b9b2d1e3046bde2d51c19b7e7a13eff2.png"><br><br>  Thus, we have a model of Storage-Model-Application-Renderer-Template-Model, by itself, well reduced in SmartModel, which reflects the meaning of the approach.  But this is already in the field of metaprogramming, and I will tell you more about this in a separate article. <br><br>  I do not pretend to be authorship (these ideas have been flying in the air for a long time), or that this is the only and most correct approach to the architecture of information systems.  I haven‚Äôt seen it fully realized yet.  This is rather a plan of action that I have set for myself, rather than a description of the finished platform, however, I have already fragmentarily implemented a lot and will soon issue it to the public in Oupensor. <br><br>  <b>Thanks for attention.</b> </div><p>Source: <a href="https://habr.com/ru/post/117791/">https://habr.com/ru/post/117791/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../117785/index.html">The end of the work - left Portal 2</a></li>
<li><a href="../117786/index.html">Gmail will tell the recipient of the letter</a></li>
<li><a href="../117788/index.html">Mail game for office workers</a></li>
<li><a href="../117789/index.html">Comparing images and generating picture differences in ruby</a></li>
<li><a href="../117790/index.html">Seagate buys Samsung hard drive division</a></li>
<li><a href="../117792/index.html">New YouTube videos are now saved in WebM format.</a></li>
<li><a href="../117794/index.html">Freelance VS Office - duel! (Video report)</a></li>
<li><a href="../117797/index.html">Transfer data from one database to any other</a></li>
<li><a href="../117800/index.html">Call to join testing Ubuntu 11.04 Natty Narwhal</a></li>
<li><a href="../117801/index.html">New wave of the spread of Trojans VKontakte</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>