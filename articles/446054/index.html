<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Backup at the ready: destroying myths in honor of the holiday</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Backup does not apply to fashionable technologies, which are shouting from each iron. It just has to be in any serious company, that's all. We have se...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Backup at the ready: destroying myths in honor of the holiday</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/jj/2-/kj/jj2-kjibauvtmhuwadefby7xbfk.jpeg"><br><br>  Backup does not apply to fashionable technologies, which are shouting from each iron.  It just has to be in any serious company, that's all.  We have several thousand servers backed up in the bank - this is a difficult, interesting job, some of the intricacies of which, as well as typical misconceptions regarding backups, just want to tell. <br><a name="habracut"></a><br>  I have been dealing with this topic for almost 20 years, of which the last 2 years have been at Promsvyazbank.  At the very beginning of the practice, I backed up almost manually, with scripts that simply copied the files.  Then, convenient tools appeared in Windows: Robocopy utility for preparing files and NT Backup for copying.  And then the time came for specialized software, primarily Veritas Backup Exec, which is now called Symantec Backup Exec.  So with backcaps familiar for a long time. <br><br>  Simply put, backing up is backing up data (virtual machines, applications, databases, and files) just in case with a certain regularity.  Every case usually manifests itself in the form of a hardware or logical failure and leads to data loss.  The task of the backup system is to reduce losses from information loss.  A hardware failure is, for example, a server or storage failure where the database resides.  Logical is the loss or change of a part of the data, including due to the human factor: inadvertently deleting a table, file, running a script to execute a curve.  There are also requirements of the regulator to store a certain type of information for a long period, for example, up to several years. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/webt/ju/ze/yn/juzeyn9qj0stijccsb-shw1jwem.jpeg"><br><br>  The most typical appeal to backups is the restoration of a saved copy of databases for deploying various test systems, clones for developers. <br><br>  There are a few typical myths around backup that it‚Äôs time to dispel.  Here are the most famous ones. <br><br><h3>  Myth 1. Backup has long been just a minor function within security or storage systems. </h3><br>  Backup systems are still a separate class of solutions, and very independent.  Too important business is entrusted to them.  In fact, they are the last line of defense when it comes to data integrity.  So the backup works at its own pace, according to its own schedule.  The servers generate a daily report, there are events that act as triggers for the monitoring system. <br><br><img src="https://habrastorage.org/webt/vz/gw/bq/vzgwbq8w4quthyjdlut440yhxmo.png"><br><br>  Plus, the role-based model of access to the backup system allows you to delegate part of the authority to administrators of target systems to manage backup copies. <br><br><h3>  Myth 2. When there is a RAID, backup is no longer needed </h3><br><img src="https://habrastorage.org/webt/rb/eg/po/rbegpocgmcagpiqkh12qkmxfzf0.jpeg"><br><br>  Undoubtedly, RAID-arrays and data replication are a good way to protect information systems from hardware failures, and in the presence of a standby-server, quickly organize a switch to it in case of failure of the main machine. <br><br>  From logical errors that were made by users of the system, redundancy and replication does not save.  Here is a standby server with postponed recording - yes, it can help out if an error is detected before it was synchronized.  And if the moment is missed?  This will help only in time made backup.  If you know that the data has changed yesterday, you can restore the system as of the day before yesterday and pull out the necessary data from it.  Taking into account that logical errors are the most frequent, the good old backup remains a proven and necessary tool. <br><br><h3>  Myth 3. Backup is something that is done once a month. </h3><br>  Backup frequency is a configurable parameter, primarily dependent on backup system requirements.  It is quite possible to find data that almost never changes and is not particularly important, their loss will not be critical for the company. <br>  They, indeed, can be backed up once a month and even less often.  But more critical data is saved more often, depending on the RPO (Recovery point objrective) indicator, which specifies the allowable data loss.  This can be once a week, once a day, or even several times an hour.  We have transaction logs from the DBMS. <br><br><img src="https://habrastorage.org/webt/7q/nq/g6/7qnqg6vvg7d_facrc0bqzgk4yg0.png"><br><br>  When systems are put into commercial operation, backup documentation is approved, which reflects the main points, the update procedure, the system recovery procedure, the backup storage order, and the like. <br><br><h3>  Myth 4. The volume of copies is constantly growing and occupies any allocated space completely. </h3><br>  Backups have a limited shelf life.  It makes no sense, for example, to store during the year all 365 daily backups.  As a rule, it is permissible to keep daily copies for 2 weeks, after which they are replaced with fresh ones, and the version that was made first in the month remains for long-term storage.  She, in turn, is also stored for a certain time - each copy has a lifetime. <br><br><img src="https://habrastorage.org/webt/rx/1w/qx/rx1wqxrhi3smk0dwoa7o5eublfy.jpeg"><br><br>  There is a protection against data loss.  The rule is valid: before a backup is deleted, the next one must be formed.  Therefore, the data will not be deleted if the backup is not executed, for example, due to the server being unavailable.  Not only the time frames are respected, but the number of copies in the set is controlled.  If the system contains the fact that there should be two complete backups, there will always be two, and the old one will be deleted only when the new third is successfully written.  So the increase in the volume occupied by the backup archive is associated only with an increase in the amount of protected data and does not depend on time. <br><br><h3>  Myth 5. The backup started - everything hung </h3><br>  It is better to say this: if everything is hanging, then the administrator's hands do not grow from there.  In general, the speed of backup depends on many factors.  For example, from the speed of the backup system itself: how fast the disk storage there is, tape libraries.  From the speed of the backup system servers: do they have time to process data, perform compression and deduplication?  And also on the speed of the communication lines between the client and the server. <br><br>  Backup can go in one or several streams, depending on whether the backup system supports multi-threading.  For example, the Oracle DBMS allows you to send several threads, according to the number of available processors, until the transfer rate stops at limiting the network bandwidth. <br><br>  If you try to back up a large number of threads, then there is a chance to overload the working system, it will really start to slow down.  Therefore, the optimal number of threads is chosen to ensure sufficient speed.  If even the slightest decrease in speed is critical, then there is a great option when backing up is not from the combat server, but from its clone - standby in database terminology.  This process does not load the main production system.  Data can be collected through more streams, since the server is not used for maintenance. <br><br>  In large organizations, a separate network is created for the backup system so that the backup does not affect the prod.  In addition, traffic can be transmitted not through a network, but through a SAN. <br><img src="https://habrastorage.org/webt/q3/mz/z_/q3mzz_hn9ubpwzitr7nusd_iyek.jpeg"><br>  We try to distribute the load also in time.  Backups mostly go after hours: at night, on weekends.  In addition, they do not all run at the same time.  Virtual machine backups are a special case.  The process has almost no effect on the performance of the machine itself, so backup can be smeared by daytime, and not put it all off for the night.  There are many subtleties, if everything is taken into account, the backup will not affect the performance of the systems. <br><br><h3>  Myth # 6. Launched a backup system - here‚Äôs fault tolerance </h3><br>  Never forget that the backup system is the last line of defense, which means that there should be five more systems in front of it that ensure continuity, high availability and disaster-resilience of the IT infrastructure and information systems of the enterprise. <br><br>  Hope that the backup will restore all the data and quickly pick up the fallen service is not worth it.  Loss of data from the moment of backup until the moment of failure is guaranteed, and the data on the new server can be uploaded for several hours (or days, as lucky).  Therefore, it makes sense to create full-fledged fault-tolerant systems, without shifting everything to backup. <br><br><h3>  Myth 7. I set up a backup once, checked what works.  It remains only to watch the logs </h3><br>  This is one of the most harmful myths, the fake one you realize only during the incident.  Logs about successful backups are not a guarantee that everything really went right.  The saved copy is important to check in advance for deployability.  That is, start the recovery process in a test environment and look at the result. <br><br><h3>  And a little about the work of the sysadmin </h3><br>  In manual mode, no one has long copied data.  Modern SRK can backup almost everything, you just have to configure it.  If a new server has been added, prescribe policies: select content to back up, specify storage options, and apply a schedule. <br><br><img src="https://habrastorage.org/webt/h9/ad/bs/h9adbsv27ou7fri6lntvdmxtbfq.jpeg"><br><br>  At the same time, there is still a lot of work due to the vast fleet of servers, including databases, mail systems, virtual machine clusters, and file resources on both Windows and Linux / Unix.  Employees who support the backup system do not sit idle. <br><blockquote>  In honor of the holiday, I would like to wish all admins strong nerves, clarity of movements and infinite space for keeping backups! </blockquote></div><p>Source: <a href="https://habr.com/ru/post/446054/">https://habr.com/ru/post/446054/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../446042/index.html">DJI Mavic 2 Pro after half a year of use</a></li>
<li><a href="../446044/index.html">Do not be afraid to try, or How I became a programmer at an age far beyond 29</a></li>
<li><a href="../446046/index.html">Expansion of the Universe - the greatest misconception in the history of science</a></li>
<li><a href="../446048/index.html">Union Arduino and classic processor</a></li>
<li><a href="../446052/index.html">Creating a voice & tone for your product</a></li>
<li><a href="../446058/index.html">How to build SDN - eight open source tools</a></li>
<li><a href="../446060/index.html">Synthesis of high molecular dreams</a></li>
<li><a href="../446062/index.html">Quo vadis. Developer Bans on Google Play</a></li>
<li><a href="../446064/index.html">Expert: software update will not help marriage in the glider "Boeing"</a></li>
<li><a href="../446066/index.html">Developing a theory of algorithms as an open source project</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>