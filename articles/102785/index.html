<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Overview of index types Oracle, MySQL, PostgreSQL, MS SQL</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In one of the comments there was a request to tell more about the indices, and since, in RuNet, there is practically no summary of the supported indic...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Overview of index types Oracle, MySQL, PostgreSQL, MS SQL</h1><div class="post__text post__text-html js-mediator-article">  In one of the comments there was a request to tell more about the indices, and since, in RuNet, there is practically no summary of the supported indices of various DBMSs, in this review I will look at which types of indices are supported in the most popular DBMS <br><a name="habracut"></a><br><h4>  B-tree </h4><br>  The B-Tree index family is the most commonly used type of index, organized as a balanced tree, of ordered keys.  They are supported by almost all DBMS, both relational and non-relational, and for almost all types of data. <br><br> <a title="Habraffe.ru" href=""><img src="https://habrastorage.org/storage/habraeffect/c3/55/c3555c8347a300da6da0e4c41c1f68bb.gif"></a> <br><br>  Since most probably know them well (or can read about them, for example, <a href="http://habrahabr.ru/blogs/algorithm/66926/">here</a> ), the only thing that should perhaps be noted here is that this type of index is optimal for a set with a good distribution of values ‚Äã‚Äãand high power (cardinality -number of unique values). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Spatial indices </h4><br>  Currently, all DBMS data has spatial data types and functions for working with them, for Oracle it is a set of types and functions in the MDSYS schema, for PostgreSQL it is point, line, lseg, polygon, box, path, polygon, circle, in MySQL - geometry, point, linestring, polygon, multipoint, multilinestring, multipolygon, geometrycollection, MS SQL - Point, MultiPoint, LineString, MultiLineString, Polygon, MultiPolygon, GeometryCollection. <br>  In the scheme of work of spatial queries, usually there are two stages or two stages of filtering.  DBMS with weak spatial support work out only the first stage (coarse filtering, MySQL).  As a rule, an approximate, approximate representation of objects is used at this stage.  The most common type of approximation is the Minimum Bounding Rectangle (MBR) [100]. <br>  For spatial data types, there are special indexing methods based on R-trees (R-Tree index) and grids (Grid-based Spatial index). <br><br><h5>  Spatial grid </h5><br>  Spatial grid (spatial grid) index is a tree-like structure similar to a B-tree, but is used to provide access to spatial (Spatial) data, that is, to index multi-dimensional information, such as geographic data with two-dimensional coordinates (latitude and longitude). ).  In this structure, the nodes of the tree are the cells of space.  For example, for a two-dimensional space: first, the entire parent area will be divided into a grid of strictly defined resolution, then each grid cell in which the number of objects exceeds the maximum set of objects in the cell will be divided into the next level subgrid.  This process will continue until the maximum nesting is reached (if set), or until everything is divided up to cells that do not exceed the maximum objects. <br> <a title="Habraffe.ru" href=""><img src="https://habrastorage.org/storage/habraeffect/32/f2/32f2bff782fcdf551c2d62be3b7d5ec7.gif"></a> <br><br>  In the case of three-dimensional or multidimensional space, these will be rectangular parallelepipeds (cuboids) or parallelotopes. <br> <a title="Habraffe.ru" href=""><img src="https://habrastorage.org/storage/habraeffect/cf/71/cf7154e68834a4d650cf2e5ebc1131bc.png"></a> <br><br><h5>  Quadtree </h5><br>  Quadtree is a subspecies of the Grid-based Spatial index, in which there are always 4 descendants in the parent cell and the grid resolution varies depending on the nature or complexity of the data. <br><br> <a title="Habraffe.ru" href=""><img src="https://habrastorage.org/storage/habraeffect/3a/ac/3aaca22be9b8dae1d8bf155f3fb1ed07.gif"></a> <br><br><h5>  R-tree </h5><br>  R-Tree (Regions Tree) is also a tree-like data structure similar to the Spatial Grid, proposed in 1984 by Antonin Guttman.  This data structure also divides the space into many hierarchically nested cells, but which, unlike the Spatial Grid, do not have to completely cover the parent cell and can intersect. <br>  Various algorithms can be applied to splitting overflowed vertices, which causes the division of R-trees into subtypes: with quadratic and linear complexity (Guttman, of course, described with exponential complexity ‚Äî Exhaustive Search, but naturally he is not used anywhere). <br>  The quadratic subtype is divided into two rectangles with a minimum area covering all objects.  Linear - in the division by maximum distance. <br><br> <a title="Habraffe.ru" href=""><img src="https://habrastorage.org/storage/habraeffect/e2/39/e239ed09653a8040d7ebe6764283bb7d.png"></a> <br><br><h4>  HASH </h4><br>  Hash indices were proposed by Arthur Fuller, and they do not preserve the values ‚Äã‚Äãthemselves, but their hashes, thereby reducing the size (and, accordingly, their processing speed) of indices from large fields.  Thus, when querying using HASH indexes, the hash from the desired value will not be compared with the field hashes, but with the hashes of the fields. <br>  Due to the non-linearity of hash functions, this index cannot be sorted by value, which leads to the impossibility of using more / less and ‚Äúis null‚Äù in comparisons.  In addition, since hashes are not unique, collision resolution methods are used for matching hashes. <br><br><h4>  Bitmap </h4><br>  Bitmap index - the bit index method consists in creating separate bitmaps (sequence 0 and 1) for each possible value of the column, where each bit corresponds to a row with an indexed value, and its value equal to 1 means that the entry corresponding to the bit position contains the indexed value for this column or property. <br><br><table><tbody><tr><th>  Empid </th><th>  Floor </th></tr><tr><td>  one </td><td>  Male </td></tr><tr><td>  2 </td><td>  Female </td></tr><tr><td>  3 </td><td>  Female </td></tr><tr><td>  four </td><td>  Male </td></tr><tr><td>  five </td><td>  Female </td></tr></tbody></table><br><br>  Bit cards <br><table><tbody><tr><th>  Value </th><th>  Start </th><th>  the end </th><th>  Bit mask </th></tr><tr><td>  Male </td><td>  Address of the first line </td><td>  Last line address </td><td>  10010 </td></tr><tr><td>  Female </td><td>  Address of the first line </td><td>  Last line address </td><td>  01101 </td></tr></tbody></table><br>  The main advantage of bit indices is that on large sets with low power and good clustering by their values, the index will be less than B * -tree.  (Read more <a href="http://citforum.ru/database/oracle/bitmap_index/">here</a> or <a href="http://citforum.ru/database/oracle/bb_indexes/">here</a> ) <br><br><h4>  Reverse index </h4><br>  Reverse index is also a B-tree index but with a reversed key, used mainly for monotonously increasing values ‚Äã‚Äã(for example, an auto-incrementing identifier) ‚Äã‚Äãin OLTP systems in order to remove competition for the last leaf block of the index, since  due to the reversal of the value, two adjacent index entries fall into different index blocks.  It cannot be used for range search. <br>  Example: <br><table><tbody><tr><th>  Field in the table (bin) </th><th>  Reverse index key (bin) </th></tr><tr><td>  00000001 </td><td>  10,000,000 </td></tr><tr><td>  ... </td><td>  ... </td></tr><tr><td>  00001001 </td><td>  10010000 </td></tr><tr><td>  00001010 </td><td>  01010000 </td></tr><tr><td>  00001011 </td><td>  11010000 </td></tr></tbody></table>  As you can see, the value in the index changes much more than the value in the table itself, and therefore in the b-tree structure, they will fall into different blocks. <br><br><h4>  Inverted index </h4><br>  An inverted index is a full-text index that stores for each key token a sorted list of addresses of table entries that contain the given key. <br><table><tbody><tr><td>  one </td><td>  Mom washed the frame </td></tr><tr><td>  2 </td><td>  Dad washed the frame </td></tr><tr><td>  3 </td><td>  Dad was washing a car </td></tr><tr><td>  four </td><td>  Mom polished car </td></tr></tbody></table><br>  In simplified form, it will look like this: <br><table><tbody><tr><td>  Mama </td><td>  1.4 </td></tr><tr><td>  Soap </td><td>  one </td></tr><tr><td>  Rama </td><td>  1.2 </td></tr><tr><td>  Dad </td><td>  2.3 </td></tr><tr><td>  Polished </td><td>  four </td></tr><tr><td>  Car </td><td>  3.4 </td></tr></tbody></table><br><br><h4>  Partial index </h4><br>  Partial index is an index built on the part of the table that satisfies a specific condition of the index itself.  This index was created to reduce the size of the index. <br><br><h4>  Function-based index </h4><br>  The very flexible type of index is a functional index, that is, an index whose keys store the result of user-defined functions.  Functional indexes are often built for fields whose values ‚Äã‚Äãare pre-processed before comparison in a SQL command.  For example, when comparing string data with case-insensitive characters, the UPPER function is often used.  Creating a functional index with the UPPER function improves the efficiency of such comparisons. <br>  In addition, a functional index can help to implement any other missing index type of this DBMS (except, perhaps, a bit index, for example, Hash for Oracle) <br><br><h4>  Summary Table of Index Types </h4><br><table><tbody><tr><td></td><td>  Mysql </td><td>  PostgreSQL </td><td>  MS SQL </td><td>  Oracle </td></tr><tr><td>  B-Tree index </td><td>  there is </td><td>  there is </td><td>  there is </td><td>  there is </td></tr><tr><td>  Spatial indexes supported </td><td>  R-Tree with quadratic splitting </td><td>  Rtree_GiST (linear split is used) </td><td>  4-level Grid-based spatial index (separate for geographic and geodetic data) </td><td>  R-Tree with quadratic partitioning;  Quadtree </td></tr><tr><td>  Hash index </td><td>  Only in tables of type Memory </td><td>  there is </td><td>  Not </td><td>  Not </td></tr><tr><td>  Bitmap index </td><td>  Not </td><td>  there is </td><td>  Not </td><td>  there is </td></tr><tr><td>  Reverse index </td><td>  Not </td><td>  Not </td><td>  Not </td><td>  there is </td></tr><tr><td>  Inverted index </td><td>  there is </td><td>  there is </td><td>  there is </td><td>  there is </td></tr><tr><td>  Partial index </td><td>  Not </td><td>  there is </td><td>  there is </td><td>  Not </td></tr><tr><td>  Function based index </td><td>  Not </td><td>  there is </td><td>  there is </td><td>  there is </td></tr></tbody></table><br>  It is worth mentioning that in PostgreSQL GiST allows you to create an index based on R-Tree for any of your own data types.  For this you need to implement all 7 functions of the R-Tree mechanism. <br><br>  Additionally, you can read here: <br>  <a href="http://download.oracle.com/docs/cd/B19306_01/appdev.102/b14255/sdo_intro.htm">Oracle Spatial User Guide and Reference</a> <br>  <a href="http://www.microsoft.com/sqlserver/2008/en/us/spatial-data.aspx">Spatial data in MS SQL</a> <br>  <a href="http://technet.microsoft.com/en-us/library/bb964712.aspx">MS SQL: Spatial Indexing Overview</a> <br>  <a href="http://en.wikipedia.org/wiki/Hilbert_R-tree">Hilbert r-tree</a> <br>  <a href="http://www.postgresql.org/docs/7.3/static/datatype-geometric.html">PostgreSQL spatial types</a> <br>  <a href="http://www.postgresql.org/docs/7.3/static/functions-geometry.html">PostgreSQL Spatial Functions</a> <br>  <a href="http://www.duskyrobin.com/tpu/2006-04-00037.pdf">Indexing spatial data in Microsoft SQL Server 2000 DBMS</a> <br>  <a href="http://www.cs.ust.hk/faculty/dimitris/PA-PERS/ijgis97.pdf">Papadias D., Theodoridis T. Spatial Relations, Minimum Bounding Rectangles and Spatial Data Structures // Technical Report KDB-SLAB-TR-94-04,</a> <br>  <a href="http://www.cs.uml.edu/~cchen/580-S06/reading/KF94.pdf">Faloutsos C., Kamel I. Hilbert R-Tree: An Improved R-Tree Using Fractals // Department of CS, University of Maryland, Technical Research Report TR-93-19,</a> <br>  <a href="http://en.wikipedia.org/wiki/Hilbert_R-tree">Wikipedia: Hilbert R-tree</a> <br>  <a href="http://citforum.ru/programming/theory/sorting/sorting2.shtml">External Memory Search Methods</a> <br>  <a href="http://www.simple-talk.com/sql/t-sql-programming/intelligent-database-design-using-hash-keys/">Arthur Fuller.</a>  <a href="http://www.simple-talk.com/sql/t-sql-programming/intelligent-database-design-using-hash-keys/">Intelligent database design using hash keys</a> <br><br>  Ps.  Maybe I forgot to mention something, write on a personal or in a comment - I will add. </div><p>Source: <a href="https://habr.com/ru/post/102785/">https://habr.com/ru/post/102785/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../102771/index.html">Gmail users made a million calls in the first 24 hours</a></li>
<li><a href="../102772/index.html">Efficient processing of photos in Photoshop</a></li>
<li><a href="../102777/index.html">R. Feynman "The nature of physical laws" (third lecture)</a></li>
<li><a href="../102783/index.html">Worms: Reloaded</a></li>
<li><a href="../102784/index.html">Great Apple service</a></li>
<li><a href="../102786/index.html">Another way to find out where the customer came from, who left the order in the online store by phone</a></li>
<li><a href="../102787/index.html">RGB Invaders for 10K Apart</a></li>
<li><a href="../102789/index.html">Should you outsource or do it yourself?</a></li>
<li><a href="../102790/index.html">Potato promotion business</a></li>
<li><a href="../102794/index.html">Remote work in Bali (Indonesia)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>