<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to do FULLTEXT search in CMS on CodeIgniter</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On Habr√© lately, more and more posts devoted to the increasingly popular framework CodeIgniter appear. This is a fairly simple and convenient framewor...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to do FULLTEXT search in CMS on CodeIgniter</h1><div class="post__text post__text-html js-mediator-article">  On Habr√© lately, more and more posts devoted to the increasingly popular framework CodeIgniter appear.  This is a fairly simple and convenient framework with which you can quickly start making normal PHP applications.  Under the cat an example of the implementation of FULLTEXT search in CMS on CodeIgniter. <a name="habracut"></a><br><br>  <b>1. Preparation CodeIgniter.</b> <br><br>  <a href="http://codeigniter.com/downloads/">Download</a> and unpack the CodeIgniter distribution in any folder on your server.  We create a database, a user with access rights to this database, and write connection settings in application / config / database.php. <br>  Open application / config / config.php and set the base_url field setting. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>2. Configure the Database.</b> <br><br>  We have already created a database in the first step, but we do not have tables.  Create a simple table of pages. <br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">CREATE</font> <font color="#0000ff">TABLE</font> pages ( <br> id <font color="#0000ff">int</font> (10) UNSIGNED <font color="#0000ff">NOT</font> <font color="#0000ff">NULL</font> AUTO_INCREMENT, <br> url text <font color="#0000ff">NOT</font> <font color="#0000ff">NULL</font> , <br> title text <font color="#0000ff">NOT</font> <font color="#0000ff">NULL</font> , <br> content text <font color="#0000ff">NOT</font> <font color="#0000ff">NULL</font> , <br> updated datetime <font color="#0000ff">NOT</font> <font color="#0000ff">NULL</font> , <br> <font color="#0000ff">PRIMARY</font> <font color="#0000ff">KEY</font> (id), <br> FULLTEXT <font color="#0000ff">KEY</font> content (content) <br> ) ENGINE=MyISAM</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  When using FULLTEXT, you must specify all fields by which we will search.  In this table, the search will be performed only in the content field.  Please note that the FULLTEXT search only works using the MyISAM engine. <br><br>  <b>3. Test data</b> <br><br>  To test our search engine, you need to add a certain amount of test data to the table.  I decided that Wikipedia can be a good contributor to our database.  I wrote a small script that takes a few <a href="http://en.wikipedia.org/wiki/Wikipedia:Featured_articles">recent articles</a> and then enters these articles into the database using <a href="http://en.wikipedia.org/wiki/Special:Export">Wikipedia export</a> . <br>  <b>4. Search by database</b> <br>  For the search, we will use an SQL query of the form: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">SELECT</font> * <br> <font color="#0000ff">FROM</font> pages <br> <font color="#0000ff">WHERE</font> <font color="#0000ff">MATCH</font> (content) AGAINST ( <font color="#A31515">'test'</font> ) &gt; 0</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  When using the FULLTEXT search you need to remember a few limitations. <br><ul><li>  The query length must exceed 3 characters, otherwise the search will return an empty result. </li><li>  There is a set of <a href="http://dev.mysql.com/doc/refman/5.1/en/fulltext-stopwords.html">stop words</a> that MySQL ignores when searching ('the', 'however', 'hello').  If you try to search for these words, the search result will be empty. </li><li>  Also available advanced search.  Complete information can be found in the <a href="http://dev.mysql.com/doc/refman/5.1/en/fulltext-search.html">documentation for MySQL</a> . </li></ul><br><br>  <b>5. CodeIgniter and MVC pattern.</b> <br><br>  Let's return to our framework.  CodeIgniter provides the popular model-view-controller design pattern. <br>  Let me remind you the basic rules: <br><ul><li>  All changes and work with the database made from the model </li><li>  Nothing can be displayed to the user from the controller or model. </li><li>  Only one expression can be inside the tags (shorthand PHP entry) </li></ul><br>  If you violate any of these rules, you should go back and think again about the structure of your project. <br>  Let's start the search development with a model file.  I use only one method that performs the search.  You may notice that the ‚Äúdirect SQL query‚Äù is used here, although CodeIgniter has ActiveRecord allowing you to simplify the formation of queries. <br>  Below is the model code located in the application / models / page_model.php <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">class</font> Page_model extends Model <br> { <br> function Page_model() <br> { <br> parent::Model(); <br> <font color="#008000">//      </font> <br> $ <font color="#0000ff">this</font> -&gt;load-&gt;database(); <br> } <br> function search($terms) <br> { <br> <font color="#008000">//     </font> <br> $sql = <font color="#A31515">"SELECT url, title <br> FROM pages <br> WHERE MATCH (content) AGAINST (?) &gt; 0"</font> ; <br> $query = $ <font color="#0000ff">this</font> -&gt;db-&gt;query($sql, array($terms, $terms)); <br> <font color="#0000ff">return</font> $query-&gt;result(); <br> } <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  The next step is to create a file of the form: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;?</font> <font color="#800000">php</font> $ <font color="#ff0000">this-</font> <font color="#0000ff">&gt;</font> load- <font color="#0000ff">&gt;</font> helper('form'); ? <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;?</font> <font color="#800000">php</font> <font color="#ff0000">echo</font> <font color="#ff0000">form_open</font> ($ <font color="#ff0000">this-</font> <font color="#0000ff">&gt;</font> uri- <font color="#0000ff">&gt;</font> uri_string); ? <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;?</font> <font color="#800000">php</font> <font color="#ff0000">echo</font> <font color="#ff0000">form_label</font> ( <font color="#0000ff">'Search:'</font> , <font color="#0000ff">'search-box'</font> ); ? <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;?</font> <font color="#800000">php</font> <font color="#ff0000">echo</font> <font color="#ff0000">form_input</font> ( <font color="#ff0000">array</font> ( <font color="#0000ff">'name'</font> = <font color="#0000ff">&gt;</font> 'q', 'id' = <font color="#0000ff">&gt;</font> 'search-box', 'value' = <font color="#0000ff">&gt;</font> $search_terms)); ? <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;?</font> <font color="#800000">php</font> <font color="#ff0000">echo</font> <font color="#ff0000">form_submit</font> ( <font color="#0000ff">'search'</font> , <font color="#0000ff">'Search'</font> ); ? <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;?</font> <font color="#800000">php</font> <font color="#ff0000">echo</font> <font color="#ff0000">form_close</font> (); ? <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;?</font> <font color="#800000">php</font> <font color="#ff0000">if</font> ( ! <font color="#ff0000">is_null</font> ($ <font color="#ff0000">results</font> )) <font color="#ff0000">:</font> ? <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;?</font> <font color="#800000">php</font> <font color="#ff0000">if</font> ( <font color="#ff0000">count</font> ($ <font color="#ff0000">results</font> )) <font color="#ff0000">:</font> ? <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">ul</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;?</font> <font color="#800000">php</font> <font color="#ff0000">foreach</font> ($ <font color="#ff0000">results</font> <font color="#ff0000">as</font> $ <font color="#ff0000">result</font> ) <font color="#ff0000">:</font> ? <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">li</font> <font color="#0000ff">&gt;&lt;</font> <font color="#800000">a</font> <font color="#ff0000">href</font> ="&amp;# <font color="#ff0000">60</font> ;? <font color="#ff0000">php</font> <font color="#ff0000">echo</font> $ <font color="#ff0000">result-</font> <font color="#0000ff">&gt;</font> url; ? <font color="#0000ff">&gt;</font> " <font color="#0000ff">&gt;&lt;?</font> <font color="#800000">php</font> <font color="#ff0000">echo</font> $ <font color="#ff0000">result-</font> <font color="#0000ff">&gt;</font> title; ? <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">a</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">li</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;?</font> <font color="#800000">php</font> <font color="#ff0000">endforeach</font> ? <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">ul</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;?</font> <font color="#800000">php</font> <font color="#ff0000">else:</font> ? <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">p</font> <font color="#0000ff">&gt;&lt;</font> <font color="#800000">em</font> <font color="#0000ff">&gt;</font> There are no results for your query. <font color="#0000ff">&lt;/</font> <font color="#800000">em</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">p</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;?</font> <font color="#800000">php</font> <font color="#ff0000">endif</font> ? <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;?</font> <font color="#800000">php</font> <font color="#ff0000">endif</font> ? <font color="#0000ff">&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Now it's time to create a controller file that will link the model and the view: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">class</font> Pages extends Controller { <br> function search($search_terms = <font color="#A31515">''</font> ) <br> { <br> <font color="#008000">//     URL   </font> <br> <font color="#008000">//  ,    </font> <br> <font color="#008000">//   .</font> <br> <font color="#0000ff">if</font> ($ <font color="#0000ff">this</font> -&gt;input-&gt;post( <font color="#A31515">'q'</font> )) <br> { <br> redirect( <font color="#A31515">'/pages/search/'</font> . $ <font color="#0000ff">this</font> -&gt;input-&gt;post( <font color="#A31515">'q'</font> )); <br> } <br> <font color="#0000ff">if</font> ($search_terms) <br> { <br> <font color="#008000">//       </font> <br> $ <font color="#0000ff">this</font> -&gt;load-&gt;model( <font color="#A31515">'page_model'</font> ); <br> $results = $ <font color="#0000ff">this</font> -&gt;page_model-&gt;search($search_terms); <br> } <br> <font color="#008000">//       </font> <br> $ <font color="#0000ff">this</font> -&gt;load-&gt;view( <font color="#A31515">'search_results'</font> , array( <br> <font color="#A31515">'search_terms'</font> =&gt; $search_terms, <br> <font color="#A31515">'results'</font> =&gt; @$results <br> )); <br> } <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  At the beginning of this method, we used redirect functions.  This function is contained in the URL helper.  To use this function, we made a "manual" helper loading using $ this-&gt; load-&gt; helper ('url');  Because  we will often use this helper, it is easier to immediately register it in autoload, so as not to load it all the time manually.  To do this, edit the file application / config / autoload.php.  We add to the $ autoload ['helper'] section: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">$autoload[ <font color="#A31515">'helper'</font> ] = array( <font color="#A31515">'url'</font> );</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Now we have a working prototype.  Do not forget that your database must have data (at least 3 rows).  Now type in your browser something like 'http: //localhost/index.php/pages/search', enter in the search bar any text contained in the database and click search.  The result will look something like this: <br><img src="http://alllexe.com/wp-content/uploads/2010/12/screenshot-1.png" alt="image"><br><br>  <b>6. Adding new features to our search.</b> <br><br>  To begin, add pagination for search results.  To display pagination in CodeIgniter, the Pagination class is used. <br>  Modify our model to display paginated navigation.  To do this, we need to specify the number of records selected from the database, the record number from which to select, as well as get the total number of records for this query. <br>  Here's what we got: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">class</font> Page_model extends Model { <br> function search($terms, $start = 0, $results_per_page = 0) <br> { <br> <font color="#008000">//    </font> <br> <font color="#008000">//  </font> <br> <font color="#0000ff">if</font> ($results_per_page &gt; 0) <br> { <br> $limit = <font color="#A31515">"LIMIT $start, $results_per_page"</font> ; <br> } <br> <font color="#0000ff">else</font> <br> { <br> $limit = <font color="#A31515">''</font> ; <br> } <br> <font color="#008000">//  SQL </font> <br> $sql = <font color="#A31515">"SELECT url, title, content <br> FROM pages <br> WHERE MATCH (content) AGAINST (?) &gt; 0 <br> $limit"</font> ; <br> $query = $ <font color="#0000ff">this</font> -&gt;db-&gt;query($sql, array($terms, $terms)); <br> <font color="#0000ff">return</font> $query-&gt;result(); <br> } <br> function count_search_results($terms) <br> { <br> <font color="#008000">// Run SQL to count the total number of search results</font> <br> $sql = <font color="#A31515">"SELECT COUNT(*) AS count <br> FROM pages <br> WHERE MATCH (content) AGAINST (?)"</font> ; <br> $query = $ <font color="#0000ff">this</font> -&gt;db-&gt;query($sql, array($terms)); <br> <font color="#0000ff">return</font> $query-&gt;row()-&gt;count; <br> } <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  The next step is to modify our controller to work with page navigation. <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">class</font> Pages extends Controller { <br> function search($search_terms = <font color="#A31515">''</font> , $start = 0) <br> { <br> <font color="#008000">//     URL   </font> <br> <font color="#008000">//  ,    </font> <br> <font color="#008000">//   .</font> <br> <font color="#0000ff">if</font> ($ <font color="#0000ff">this</font> -&gt;input-&gt;post( <font color="#A31515">'q'</font> )) <br> { <br> redirect( <font color="#A31515">'/pages/search/'</font> . $ <font color="#0000ff">this</font> -&gt;input-&gt;post( <font color="#A31515">'q'</font> )); <br> } <br> <font color="#0000ff">if</font> ($search_terms) <br> { <br> <font color="#008000">//   </font> <br> <font color="#008000">//  </font> <br> $results_per_page = $ <font color="#0000ff">this</font> -&gt;config-&gt;item( <font color="#A31515">'results_per_page'</font> ); <br> <font color="#008000">//  ,  , </font> <br> <font color="#008000">//    </font> <br> $ <font color="#0000ff">this</font> -&gt;load-&gt;model( <font color="#A31515">'page_model'</font> ); <br> $results = $ <font color="#0000ff">this</font> -&gt;page_model-&gt;search($search_terms, $start, $results_per_page); <br> $total_results = $ <font color="#0000ff">this</font> -&gt;page_model-&gt;count_search_results($search_terms); <br> <font color="#008000">//   </font> <br> $ <font color="#0000ff">this</font> -&gt;_setup_pagination( <font color="#A31515">'/pages/search/'</font> . $search_terms . <font color="#A31515">'/'</font> , $total_results, $results_per_page); <br> <font color="#008000">//    </font> <br> $first_result = $start + 1; <br> $last_result = min($start + $results_per_page, $total_results); <br> } <br> <font color="#008000">//     </font> <br> $ <font color="#0000ff">this</font> -&gt;load-&gt;view( <font color="#A31515">'search_results'</font> , array( <br> <font color="#A31515">'search_terms'</font> =&gt; $search_terms, <br> <font color="#A31515">'first_result'</font> =&gt; @$first_result, <br> <font color="#A31515">'last_result'</font> =&gt; @$last_result, <br> <font color="#A31515">'total_results'</font> =&gt; @$total_results, <br> <font color="#A31515">'results'</font> =&gt; @$results <br> )); <br> } <br> function _setup_pagination($url, $total_results, $results_per_page) <br> { <br> <font color="#008000">//     </font> <br> $ <font color="#0000ff">this</font> -&gt;load-&gt;library( <font color="#A31515">'pagination'</font> ); <br> $uri_segment = count(explode( <font color="#A31515">'/'</font> , $url)); <br> <font color="#008000">//     </font> <br> <font color="#008000">//  </font> <br> $ <font color="#0000ff">this</font> -&gt;pagination-&gt;initialize(array( <br> <font color="#A31515">'base_url'</font> =&gt; site_url($url), <br> <font color="#A31515">'uri_segment'</font> =&gt; $uri_segment, <br> <font color="#A31515">'total_rows'</font> =&gt; $total_results, <br> <font color="#A31515">'per_page'</font> =&gt; $results_per_page <br> )); <br> } <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Let's take a look at what we did.  We added pagination, which means we added new segments to the URL.  This segment is both a search results page and a number to determine the starting position for a sample of the database. <br>  To set the number of results on the search page, I used the <a href="http://codeigniter.com/user_guide/libraries/config.html">config library</a> .  It is best to add a new file to the application / config folder.  Create a file application / config / application.php containing the line: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">$config[ <font color="#A31515">'results_per_page'</font> ] = 10;</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Add it to autoload by changing the application / config / autoload.php file again and add the 'application' to the $ autoload ['config'] section. <br>  We also use methods to process the information displayed in the search results (snippet and subtitle in the snippet of words from the query).  These methods are contained in our helper in the file application / helpers / search_helper.php.  The first function search_highlight ($ text, $ search_terms) selects words from the query in the search results, the second search_extract ($ content, $ search_terms, $ number_of_snippets = 3, $ snippet_length = 60) extracts from the content the part containing the search specified in the search. <br>  This is how our modified look file will look like: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;?</font> <font color="#800000">php</font> $ <font color="#ff0000">this-</font> <font color="#0000ff">&gt;</font> load- <font color="#0000ff">&gt;</font> helper(array('form', 'search')); ? <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;?</font> <font color="#800000">php</font> <font color="#ff0000">echo</font> <font color="#ff0000">form_open</font> ($ <font color="#ff0000">this-</font> <font color="#0000ff">&gt;</font> uri- <font color="#0000ff">&gt;</font> uri_string); ? <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;?</font> <font color="#800000">php</font> <font color="#ff0000">echo</font> <font color="#ff0000">form_label</font> ( <font color="#0000ff">'Search:'</font> , <font color="#0000ff">'search-box'</font> ); ? <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;?</font> <font color="#800000">php</font> <font color="#ff0000">echo</font> <font color="#ff0000">form_input</font> ( <font color="#ff0000">array</font> ( <font color="#0000ff">'name'</font> = <font color="#0000ff">&gt;</font> 'q', 'id' = <font color="#0000ff">&gt;</font> 'search-box', 'value' = <font color="#0000ff">&gt;</font> $search_terms)); ? <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;?</font> <font color="#800000">php</font> <font color="#ff0000">echo</font> <font color="#ff0000">form_submit</font> ( <font color="#0000ff">'search'</font> , <font color="#0000ff">'Search'</font> ); ? <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;?</font> <font color="#800000">php</font> <font color="#ff0000">echo</font> <font color="#ff0000">form_close</font> (); ? <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;?</font> <font color="#800000">php</font> <font color="#ff0000">if</font> ( ! <font color="#ff0000">is_null</font> ($ <font color="#ff0000">results</font> )) <font color="#ff0000">:</font> ? <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;?</font> <font color="#800000">php</font> <font color="#ff0000">if</font> ( <font color="#ff0000">count</font> ($ <font color="#ff0000">results</font> )) <font color="#ff0000">:</font> ? <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">p</font> <font color="#0000ff">&gt;</font> Showing search results for ' <font color="#0000ff">&lt;?</font> <font color="#800000">php</font> <font color="#ff0000">echo</font> $ <font color="#ff0000">search_terms</font> ; ? <font color="#0000ff">&gt;</font> ' ( <font color="#0000ff">&lt;?</font> <font color="#800000">php</font> <font color="#ff0000">echo</font> $ <font color="#ff0000">first_result</font> ; ? <font color="#0000ff">&gt;</font> <font color="#ff0000">‚Äì</font> <font color="#0000ff">&lt;?</font> <font color="#800000">php</font> <font color="#ff0000">echo</font> $ <font color="#ff0000">last_result</font> ; ? <font color="#0000ff">&gt;</font> of <font color="#0000ff">&lt;?</font> <font color="#800000">php</font> <font color="#ff0000">echo</font> $ <font color="#ff0000">total_results</font> ; ? <font color="#0000ff">&gt;</font> ): <font color="#0000ff">&lt;/</font> <font color="#800000">p</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">ul</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;?</font> <font color="#800000">php</font> <font color="#ff0000">foreach</font> ($ <font color="#ff0000">results</font> <font color="#ff0000">as</font> $ <font color="#ff0000">result</font> ) <font color="#ff0000">:</font> ? <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">li</font> <font color="#0000ff">&gt;&lt;</font> <font color="#800000">a</font> <font color="#ff0000">href</font> ="&amp;# <font color="#ff0000">60</font> ;? <font color="#ff0000">php</font> <font color="#ff0000">echo</font> $ <font color="#ff0000">result-</font> <font color="#0000ff">&gt;</font> url; ? <font color="#0000ff">&gt;</font> " <font color="#0000ff">&gt;&lt;?</font> <font color="#800000">php</font> <font color="#ff0000">echo</font> <font color="#ff0000">search_highlight</font> ($ <font color="#ff0000">result-</font> <font color="#0000ff">&gt;</font> title, $search_terms); ? <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">a</font> <font color="#0000ff">&gt;&lt;</font> <font color="#800000">br</font> <font color="#0000ff">/&gt;&lt;?</font> <font color="#800000">php</font> <font color="#ff0000">echo</font> <font color="#ff0000">search_extract</font> ($ <font color="#ff0000">result-</font> <font color="#0000ff">&gt;</font> content, $search_terms); ? <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">li</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;?</font> <font color="#800000">php</font> <font color="#ff0000">endforeach</font> ? <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">ul</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;?</font> <font color="#800000">php</font> <font color="#ff0000">echo</font> $ <font color="#ff0000">this-</font> <font color="#0000ff">&gt;</font> pagination- <font color="#0000ff">&gt;</font> create_links(); ? <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;?</font> <font color="#800000">php</font> <font color="#ff0000">else:</font> ? <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">p</font> <font color="#0000ff">&gt;&lt;</font> <font color="#800000">em</font> <font color="#0000ff">&gt;</font> There are no results for your query. <font color="#0000ff">&lt;/</font> <font color="#800000">em</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">p</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;?</font> <font color="#800000">php</font> <font color="#ff0000">endif</font> ? <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;?</font> <font color="#800000">php</font> <font color="#ff0000">endif</font> ? <font color="#0000ff">&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  And so new search results: <br><img src="http://alllexe.com/wp-content/uploads/2010/12/screenshot-2.png" alt="image"><br><br>  <b>7. Even more tasty chips.</b> <br><br>  CodeIgniter provides the ability to display <a href="http://codeigniter.com/user_guide/libraries/benchmark.html">test data</a> and various <a href="http://codeigniter.com/user_guide/general/profiling.html">additional information</a> . <br>  For example, you can run the test for the model: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#008000">// Mark the start of search</font> <br> $ <font color="#0000ff">this</font> -&gt;benchmark-&gt;mark( <font color="#A31515">'search_start'</font> ); <br> <font color="#008000">// Load the model, perform the search and establish the total</font> <br> <font color="#008000">// number of results</font> <br> $ <font color="#0000ff">this</font> -&gt;load-&gt;model( <font color="#A31515">'page_model'</font> ); <br> $results = $ <font color="#0000ff">this</font> -&gt;page_model-&gt;search($search_terms, $start, $results_per_page); <br> $total_results = $ <font color="#0000ff">this</font> -&gt;page_model-&gt;count_search_results($search_terms); <br> <font color="#008000">// Mark the end of search</font> <br> $ <font color="#0000ff">this</font> -&gt;benchmark-&gt;mark( <font color="#A31515">'search_end'</font> );</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  As a result, the form with the test results will look like this: <br><img src="http://alllexe.com/wp-content/uploads/2010/12/profiling.png" alt="image"></div><p>Source: <a href="https://habr.com/ru/post/110557/">https://habr.com/ru/post/110557/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../110547/index.html">The policy of controlling the frequency of the processor "ondemand" and iowait in Ubuntu</a></li>
<li><a href="../110549/index.html">Website launched on Windows Phone 7 for iPhone developers</a></li>
<li><a href="../110553/index.html">Review of the Kingmax Hercules Nano RAM Kit - Ancient Greek Hero in Nano-armor</a></li>
<li><a href="../110555/index.html">Platform 2011: Video of 70 conference reports became available.</a></li>
<li><a href="../110556/index.html">Plasticine Yandex.Mail: how it was</a></li>
<li><a href="../110561/index.html">Google Analytics and .rf Domains</a></li>
<li><a href="../110562/index.html">ASP.NET MVC 3: Web application in 15 minutes</a></li>
<li><a href="../110565/index.html">Beluga: mobile group chat</a></li>
<li><a href="../110566/index.html">Buyers with smartphones have become a nightmare retailers</a></li>
<li><a href="../110567/index.html">New old effects from Compiz - welcome!</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>