<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>About the prospects of using auto-change while typing</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the previous article I considered the creation of alternative keyboard layouts, incl. problems that arise when building optimization models for the...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>About the prospects of using auto-change while typing</h1><div class="post__text post__text-html js-mediator-article">  In the previous <a href="http://habrahabr.ru/post/210826/">article</a> I considered the creation of alternative keyboard layouts, incl.  problems that arise when building optimization models for these layouts. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/290/de2/fee/290de2fee95e140ec8f5baefee77a010.gif"><br><br>  Here we will go in a slightly different way and consider the possibility of reducing the total number of keystrokes (except for using <a href="http://en.wikipedia.org/wiki/Chorded_keyboard">chord</a> set methods and <a href="http://en.wikipedia.org/wiki/Stenotype">stenotypes</a> , because this is another big topic). <br>  At once I will make a reservation that the use of a stenotype together with the knowledge of shorthand, of course, will have a much greater effect in terms of productivity gains.  But the method discussed below is easy to implement (there is no need for special equipment, complex software) and takes less time to study (remembering a few dozen abbreviations is usually easy). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  What is autoCorrect? </h4><a name="habracut"></a><br>  AutoCorrect (AZ) will be called a way of printing a combination of letters / words / phrases, in which the source text is programmatically reassigned to other shortcuts.  For performance reasons, the typed key combination (let's call it a key or abbreviation) should have a minimum length relative to the original sequence of letters.  The difference in the number of keystrokes when typing a combination in its original form and when typing with abbreviations will be a gain on this combination due to AZ. <br><br>  For example, you need to type in such a frequently used word as ‚Äúbecause.‚Äù  If the abbreviation looks like "n", then the gain when typing only one word will be 5 characters. <br><br>  Note that in the world this practice has long existed.  Even competitions are held in various offsets - using the system of reductions and without it.  In the first case, the world record in the 30-minute interval is <a href="http://intersteno.ru/competition.htm">955 beats / min</a> , in the second - <a href="http://org.intersteno.it/uploads/ClassificationsListHannover2001.pdf">821 beats / min</a> .  Both records set the infamous Helena Matushkova. <br><br>  The most developed system of abbreviations for the Czech language, called Zavisie (ZAVpis).  There is even a training <a href="http://www.zav.cz/zaven/">site</a> , and there is information that mastering the system of cuts begins only after acquiring a sufficiently high level of blind typing skill. <br><br>  As we see from the ratio of numbers 955 and 821, the gain when using AZ is not that high (~ 16%).  However, in this case, the system AZ is adapted to the average structure of the language, and does not take into account the specific words, features characteristic of different areas of knowledge.  The user‚Äôs lexicon used in communication and everyday correspondence are also not taken into account.  In everyday life or a narrow practical field, the vocabulary is much smaller in volume, and the effectiveness of the AZ system, tailored to specific needs, can increase significantly. <br><br><h4>  The choice of words and other issues create a system AutoCorrect </h4><br>  First, you need to decide for what purposes the autochange system is created.  If the AZ system is required to reduce the time for recruiting an average sentence in Russian, then it is necessary to take into account the structure of the language as a whole.  Here you can go two ways. <br>  One of them is to personally collect a large sample of texts that adequately represent a language (usually the size of such a sample is from several hundred megabytes) and analyze them statistically to highlight the most frequent words, combinations of letters, symbols.  Then, based on the analysis, build statistical tables. <br>  Note that this method is more suitable for the case when the AZ system is created for itself, under its most frequently used words - in articles, in business correspondence, when communicating in a chat, on a forum, etc. <br><br>  The second is to use ready-made tables.  Of course, such tables are already in a usable form.  This implies the use of the <a href="http://ruscorpora.ru/index.html">National Corpus of the Russian language</a> and frequency dictionaries of the Russian language (one of the most famous is the Sharov frequency dictionary: <a href="http://dict.ruslang.ru/freq.php">[1]</a> ; <a href="http://artint.ru/projects/frqlist.php">[2]</a> ). <br>  A list of the 100 most frequent word forms can be viewed <a href="http://ruscorpora.ru/1grams.top.html">here</a> . <br><br>  It seems logical that the most frequent words should be subjected to autocaps first, and the longest among them.  In general, all language statistics are subject to <a href="http://ru.wikipedia.org/wiki/%25D0%2597%25D0%25B0%25D0%25BA%25D0%25BE%25D0%25BD_%25D0%25A6%25D0%25B8%25D0%25BF%25D1%2584%25D0%25B0">Zipf's law</a> .  This is a generalized hyperbolic distribution of ranked statisticians, no matter at what level - whether it is the level of individual letters or symbols;  letter combinations (n-grams);  word level;  phraseological level. <br>  Such statistics, along with Gaussian, very often appear in the world around us, and were found in various fields of knowledge.  For example, the distribution of people by income (Pareto), the distribution of scientists by productivity (Lotka), the distribution of articles by journals (Bradford), the distribution of settlements by population, the distribution of earthquakes by intensity, etc. In general, such statistics arise from the strong interdependence of events in the system (analogue of positive feedback), a type of chain reaction, as a result of which both extreme amplification and strong weakening can occur. <br><br>  For us, it is important that the peaks, positive deviations from the hyperbolic trend will just indicate the words that must first enter the AZ system.  In this case, the greatest contribution to the final effectiveness of the system will be made by the first few hundred most frequent words. <br><br>  Consider other features of the construction of the system AZ: <br><br>  <b>1.</b> Keys must be unique (do not coincide with words and other keys), minimal in length, easily remembered.  Such keys should consist either of the first few letters of the word, or of the first and last. <br><br>  <b>2. The</b> purpose of the keys (their length, letters, symbols used) will depend on the size of the AZ system itself.  Consider the simplest example.  Suppose we want to create a system for a single word ‚Äúlater‚Äù, it is obvious that the best option is the abbreviation ‚Äún‚Äù.  If the system consists of two more words (the real version), then the occurrences should be taken into account, as well as claim 1.  Let the word ‚Äúlater‚Äù be met 10,000 times, and the word ‚Äúbecause‚Äù - 100,000 times.  Obviously, the word with the maximum occurrence must be assigned a reduction in the minimum length ‚Äún‚Äù, and the word ‚Äúlater‚Äù - an abbreviation ‚Äúpm‚Äù.  Of course, in the case of only two abbreviations, a single letter can also be attributed to the second word.  But this case is still far from practical application, and therefore we have applied the abbreviation ‚ÄúPM‚Äù, which is more likely. <br>  It is also necessary to take into account that single-letter keys are maximum 33 (without using numbers and symbols as keys), two-letter 33 <sup>2</sup> = 1089.  And then, with an overestimation.  It is unlikely that there will be keys like ‚Äú‚Äù or ‚Äúyu‚Äù. <br><br>  <b>3.</b> Some keys may be in a hierarchical form.  For example, ‚Äúh‚Äù -&gt; ‚Äúwhat‚Äù -&gt; ‚Äúsomething‚Äù.  In this case, the key can ‚Äúunfold‚Äù both immediately after dialing and after pressing the activator key. <br><br>  <b>4. The</b> size of the AZ system should be a compromise between the theoretical gain and the time needed to study the system.  I did not use AZ widely, but for a deployed system I estimate a decent ceiling of about 1000 cuts.  For the system used in everyday life - 100 cuts will be enough for the most frequently used words, phrases, turns. <br><br><h4>  Calculate the winnings from using AutoCorrect </h4><br>  AutoCorrect reduces the number of characters typed.  Those.  word length is reduced by L <sub>cl-</sub> L <sub>AZ</sub> .  Suppose if we replace the word ‚Äúwhat‚Äù with ‚Äúh‚Äù, then on one word the gain will be L (what) -L (h) = 3-1 = 2 characters.  Further, each word has its own specific frequency, expressed as a percentage.  Or, if we use a <a href="http://ruscorpora.ru/index.html">corpus</a> , then it usually provides data on the occurrence of a word - i.e.  In general, the <a href="http://ruscorpora.ru/1grams.top.html">number of</a> such words in the body. <br>  For example, the word ‚Äúwhat‚Äù occurs in the corpus 2210373 times.  Then the total gain from a set of all the words "what" in the body will be <br><img src="https://habrastorage.org/getpro/habr/post_images/b37/773/c82/b37773c825725481d9426e3e247a044d.gif"><br>  characters. <br>  To calculate the relative gain as a percentage of the total number of characters typed, we need to know the characteristics of the Russian language on average.  The total volume of the body is 1.93 <sup>8</sup> 10 <sup>8</sup> words.  It would be logical to divide the number of words ‚Äúwhat‚Äù by the total number of words, but the words have different lengths, which must also be taken into account.  The average length of words in Russian, according to the body, is <a href="http://artint.ru/projects/frqlist.php">5.28</a> characters. <br><br>  Now we can now calculate the volume of the body in characters.  But the body is not the whole text.  In fact, there are many service signs in the text, such as a space, a period, a comma, a semicolon, quotes, various signs, numbers, etc.  And in order to find the volume of all the text in the corpus we need to multiply the number of characters found by a certain coefficient, which reflects the share of service marks in the Russian-language text.  According to his own calculations, approximately, the share of service marks is ~ 20%, with small deviations in one direction or another. <br>  Then the expression for calculating the relative gain in the constant autocorrect of one word takes the form: <br><img src="https://habrastorage.org/getpro/habr/post_images/b0f/926/bbb/b0f926bbb8729bb1c4022cfca60a1aa4.gif"><br>  Where <img src="https://habrastorage.org/getpro/habr/post_images/5ec/179/41d/5ec17941db6577576042b2322b2554f8.gif">  - the total number of words in the body, <br><img src="https://habrastorage.org/getpro/habr/post_images/eec/e9b/92b/eece9b92bdb6762780c83c358ad5e72c.gif">  - average word length in Russian, <br>  <i>k</i> - the proportion of service characters, numbers and other characters that are not included in the words. <br>  The remaining notation has been deciphered earlier. <br>  Thus, for a single autochange, on the word ‚Äúwhat‚Äù we get a relative gain equal to <br><img src="https://habrastorage.org/getpro/habr/post_images/101/201/43d/10120143d20ec4b46f8de52e886dc290.gif"><br>  As we can see, for one word the gain is large enough, and many may think that for a developed system of AZ, we can expect a gain of the order of tens of percent.  But we used one of the most frequent words.  And since the statistics of the occurrence of words is subject to a hyperbolic law, the contribution (frequency) of each subsequent word will decrease significantly.  Accordingly, the gain from AZ on such less frequent words will also not be very noticeable. <br><br><div class="spoiler">  <b class="spoiler_title">Begin Table Abbreviations</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/787/6d7/44b/7876d744bd1678d19cddbfdf112109b2.gif"></div></div><br>  The lines are sorted by total winnings, obtained from all AZ of the specified word throughout the body. <br><br><h4>  The impact of system volume autochange on its effectiveness </h4><br>  When choosing the number of words to be AZ, it is necessary to take into account the fact that the time spent studying the AZ system in the first approximation is proportional to the number of abbreviations.  Those.  the list of AZ must be of a reasonable size, where a compromise is found between the number of AZ and the gain they give.  For this it is necessary to construct an approximate graph of the relative gain from the number of AZ. <br><br>  A priori, we can assume that at first the gain will be significant, and the slope of the curve will be maximum (because the words are more frequent).  With a decrease in the frequency of words, the gain from each subsequent word will decrease, the slope of the curve will also decrease.  An interesting question is whether there will be saturation?  Each AZ will give some gain, but will not the frequency of the word fall so much that each successive increment will tend to zero? <br><br>  In this section, the main task is to find out to what number of AZs it is necessary to increase the list in order to observe a compromise between relative gain and time for training.  Those.  it is necessary to identify the transition region where the slope of the payoff curve becomes relatively small, in order to exclude inefficient AZ. <br><br>  The graph was constructed on the basis of some simplifications for the general analysis.  First, the lengths of all abbreviations AZ were assumed to be equal to two characters.  Accordingly, words with a length of less than 3 characters were excluded from the list of the most frequent words, since  AZ will not benefit from them on such a system.  Further, it was assumed that the number of 2-character abbreviations would be no more than 700. This should be close to the truth, even with a somewhat overestimated estimate, since  Obviously, absolutely all 1089 digrams cannot be used as abbreviations for obvious reasons (for example, unassociated combinations of letters, as mentioned above).  Three-letter abbreviations were not considered at this stage. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/230/715/5a1/2307155a18649e2ddd72397dbfa3f406.gif"><br>  The abscissa axis shows the total number of words with AZ, the ordinate axis shows the relative reduction in the number of keystrokes. <br><br>  As expected, at the very beginning of the graph, for the first 100 cuts, the gain rate is maximum. <br><br>  We present some data on the schedule: <br>  for the first 10 cuts, the gain is 0.82%, <br>  for the first 20 - 1.24%, <br>  for the first 50 - 2.23%, <br>  for the first 100 - 3.50%, <br>  for the first 200 - 5.37%, <br>  for the first 300 - 6.63%, <br>  for the first 400 - 7.52%, <br>  for the first 500 - 8.33%, <br>  for the first 600 - 9.04%, <br>  for the first 700 - 9.76%. <br><br>  We calculate the winnings for the 1st, 2nd, 3rd, etc.  hundreds of AZ. <br>  For the first hundred, as already mentioned - 3.50%, <br>  for the second - 1.87%, <br>  for the third - 1.26%, <br>  for the fourth - 0.89, <br>  5th - 0.81%, <br>  6th - 0.72%, <br>  7th - 0.72%. <br><br>  As we can see, the growth rate falls, but then stabilizes.  This is a rather unexpected result that does not coincide with the a priori assumption.  There is not even a hint of dependency saturation.  Apparently, with a sufficient number of cuts, you can provide a big win.  For example, at 700 AZ, the gain on the schedule will be 9.76%.  This is an acceptable value. <br>  In reality, the gain will be even greater (approximately by 0.2-0.3%), since  not only 2-character AZ are used, but also 1-character AZ for the most frequent words.  But in the future it will be necessary to use already 3-character abbreviations, therefore, the gain rate will drop slightly, abruptly, relative to that observed at the 6th and 7th hundreds of AZ. <br><br>  Based on the increase in gain, you can limit the list of AZ, consisting of 500 cuts, which will give a gain of 8.33%.  It is also necessary to mention that in everyday life a person uses for correspondence, communication, writing texts a limited set of words that is not at all equivalent in structure to the Russian language corpus.  The words that are among the most frequent are used daily.  Thus, for everyday tasks that do not include writing scientific articles, the gain will be even more significant, perhaps even at times. <br><br>  It is possible to suggest why the growth rate of the gain does not slow down constantly.  Apparently, the decrease in the frequency of the word is compensated by the fact that the less frequency words are also longer, and the gain is proportional to the product of the difference between the lengths of the word and AZ by the frequency of the word. <br><br>  For visual analysis, it is necessary to plot the dependence of the product of the word length on its frequency on the rank of the word in the frequency list.  The most effective will be AZ words that form peaks relative to the average trend (of course, with some reservations - for example, the word should be long enough). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b70/ae0/7ad/b70ae07ad15af65502b6dea9bab23bc8.gif"><br><br><h4>  On the comparative effectiveness of autoexchange for Russian and English </h4><br>  Autocorrects will not be equally effective for different languages ‚Äã‚Äãdue to the varying complexity of the languages ‚Äã‚Äãthemselves.  Printing in those languages ‚Äã‚Äãthat are considered ‚Äúricher‚Äù (in the sense of a larger number of word forms) will be harder to reduce with the help of AZ. <br>  For example, for a number of European languages, apparently, AZ will be more effective than for Russian.  In turn, English will probably be more adapted to AZ than German. <br><br>  Take an example: in Russian there are cases, numbers, in English cases there, but there is a number.  For example, the word lamp - lamp. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b1f/232/15a/b1f23215aa025ccc010f97655445287a.gif"><br><br>  Perhaps this example is not valid in all cases (for example, the situation for verbs will be different).  However, it shows several salient features. <br><br>  The table shows that for all cases the word "lamp" in the singular and plural numbers for the Russian language will require 12-3 = 9 autochange, and for the English language - only 2 autochangers (singular and plural).  Those.  with a highly developed, more redundant, with a large number of word forms, the task of assigning autochange is much more complicated. <br><br>  Also in English, there are fewer letters themselves (26 vs. 33 in Russian), and, therefore, much less combinations of these characters.  The maximum possible upper score is 26 <sup>2</sup> for English and 33 <sup>2</sup> for Russian.  In reality, of course, even less is used.  For Russian, there are about ~ 700 semantic digrams (two-letter combinations).  These circumstances indicate once again that languages ‚Äã‚Äãwhose entropy (redundancy) is higher are worse than auto-replacements. <br><br>  Finally, the list of the most frequent words in English should also be significantly shorter than for Russian.  Those.  If, for example, we take 10%, 20% coverage (the most frequent words that make up 10%, 20% of all words), then for English such a list should also be shorter. <br><br>  From the above examples, it is already clear that the task of constructing a flexible system of automatic replacement for the Russian language is a rather complicated non-trivial task, and it is even more difficult to ensure a good performance increase.  In our case, the total performance increase, starting from 10%, will be considered good in the average sense.  This is the minimum to which we must strive. <br><br><h4>  Using AutoCorrect for Service Symbols </h4><br>  In addition to words, a tangible share of characters is so-called.  service, syntactic symbols: space, punctuation, etc. They account for about 20% of the total number of characters. <br><br>  Let us turn to the list of the most frequent 2-character combinations (for all characters, such tables are usually not, so they need to be done independently, analyzing large amounts of textual information).  The most frequent 2-character combination is the combination ",", i.e.  comma + space.  According to its own data, it accounts for 1.64% of the total number of digits (two-character combinations). <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We will estimate the winnings when auto-replacing this combination with one symbol (or one click). </font><font style="vertical-align: inherit;">You can assign such a combination to the CapsLock key, since it is rarely used in everyday work (of course, you can use other options that are convenient for a particular user). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In the standard YTsUKEN layout, you need to press 2 keys - ‚ÄúShift‚Äù and ‚Äú.‚Äù To type a comma. </font><font style="vertical-align: inherit;">Thus, a combination that requires 3 presses to be dialed will be dialed with a single tap. </font><font style="vertical-align: inherit;">Which is equivalent to a reduction of 2 clicks. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In this case, the gain is calculated as follows: if the digram was completely excluded from the set, then the gain would be equal to its frequency. </font><font style="vertical-align: inherit;">But in our case there is just a reduction in the combination.</font></font> Those.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> the gain will be proportional to the relative reduction of the combination and its frequency: </font></font><br><img src="https://habrastorage.org/getpro/habr/post_images/791/d64/975/791d649754ec9bc57dcd2866c818d93d.gif"><br>  Where <img src="https://habrastorage.org/getpro/habr/post_images/cd6/c6f/42e/cd6c6f42e7ef2541374167c16edd5a70.gif"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- combination length before contraction, </font></font><br><img src="https://habrastorage.org/getpro/habr/post_images/1fa/3fa/314/1fa3fa31469e9850b8a06aed1afbc189.gif"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- combination length after contraction (including AZ), </font></font><br><img src="https://habrastorage.org/getpro/habr/post_images/9f9/6d5/bc7/9f96d5bc76327882f2833025c5718403.gif"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- combination frequency among combinations of the same length. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thus, we get the benefit from the reduction ‚Äú,‚Äù up to one click. </font></font><br><img src="https://habrastorage.org/getpro/habr/post_images/5cb/765/020/5cb765020a39b1c524fd559a04008172.gif"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In reality, taking into account this single digram will not give an overall picture, since it is necessary to take into account the fact that commas are also excluded in the digits, where they are in the second position.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To calculate the gain in this case, it is convenient to use unary (single-character) statistics, if it was calculated in the process of preparing the tables. In our case, this table was calculated. Despite some variability of statistical characteristics for texts of different genres, their considerable stability is still observed, which makes it possible to speak about a certain statistical structure of the Russian language on average. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In texts that are more or less widely encountered in practice, the fractions of a dot and comma are generally equal and make up approximately 1.5% each. For approximate calculations, the gain from replacing ‚Äú,‚Äù with CapsLock is quite sufficient.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In order to understand how to consider the effectiveness of AZ in this case, we can give an example. Consider a piece of text consisting of three sentences, each with 70 characters. Let each sentence have one capital letter (beginning) and 2 commas. Then the total number of hits will be 219. Use the replacement "," on CapsLock. Further, the gain can be determined as follows: since instead of three clicks for the set ‚Äú,‚Äù we only make one (CapsLock), this is equivalent to excluding a comma from the set, since It requires 2 clicks. Total remains 207 clicks. The gain will be 12 / 219‚âà5.5%, which is a lot for one combination with AZ. Of course, this is a purely hypothetical example in which the frequency of commas is too high.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">From here, by the way, another aspect of the use of AZ follows - competitive, because on a short light text, with frequency words, you can very significantly raise the result - up to 20-25% (and even higher). As mentioned at the very beginning of the article, when using the AZ should be a separate test. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In general, in order to estimate the real gain, it is necessary to recalculate the statistics of symbols in the statistics of clicks, i.e. the characters do not take into account such frequently pressed key as ‚ÄúShift‚Äù. We should also mention ‚ÄúEnter‚Äù, but in the usual analysis of arrays of text data this key (equivalent to a paragraph or transition to a new line) is usually not taken into account. And in this article this question is not covered.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To count the number of keystrokes of the ‚ÄúShift‚Äù key when typing on the YTZUKEN standard layout, you need to know the proportion of capital letters, as well as the proportion of the characters ‚Äú,‚Äù and ‚Äú!‚Äù, ‚Äú‚Äù, ‚Äù‚Äú, ‚Äù,‚Äú No. ‚Äù,‚Äú; ‚Äù,‚Äú % ",": ","? "," * "," (",") "," _ "," + ", I.e. </font><font style="vertical-align: inherit;">all recruited on the fourth row (digital) using Shift. </font><font style="vertical-align: inherit;">For the first approximation (which, however, should be sufficiently accurate), we assume that the shares of characters typed on the fourth row are approximately equal to zero (to a sufficient extent this corresponds to reality).</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Capital letters in most cases are typed only at the beginning of sentences. </font><font style="vertical-align: inherit;">You can add one upper case in the middle of a sentence to account for a proper name, if used. </font><font style="vertical-align: inherit;">Let us simply say that 1 sentence contains 2 capital letters. </font><font style="vertical-align: inherit;">The total length of the sentence in characters, according to the statistics of the Russian language corpus, will be</font></font><br><img src="https://habrastorage.org/getpro/habr/post_images/d2c/d27/426/d2cd274260b4dc63b745222de39dbd35.gif"><br>  Where <img src="https://habrastorage.org/getpro/habr/post_images/e4b/ac3/71f/e4bac371fd93d655a576272858bddfe0.gif"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- The average number of words in the sentence. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If we take into account that the comma makes up 1.5%, then this corresponds to approximately one comma per sentence: 65.8 ,8 0.015‚âà0.9. In addition, there are an average of 2 capital letters. That is, it turns out that there are 3 more clicks than symbols or 68.8 clicks on 1 sentence on average. Of these 68.8 clicks, 2 clicks are comma-separated. As mentioned earlier, the AZ "," on CapsLock is equivalent to excluding a comma from the set, therefore the gain from such AZ in the clicks will be:</font></font><br><img src="https://habrastorage.org/getpro/habr/post_images/381/395/e52/381395e5216bec1971cd240a3b145670.gif"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Compared to the gains that have been received in words, this is a very tangible increase from just one combination. In principle, this was to be expected, because the more often the combination, the greater will be the gain from the reduction of such a combination (with sufficient length or number of clicks). Of course, the minimum that can be shortened is two-character combinations. And the individual letters are no longer abbreviated. Here you can consider different levels of aggregation: 2-character, 3-character, etc. After 4-character it is more reasonable to consider the level of words, and then the phraseological level. Of course, there are some frequency combinations of letters, symbols, words, except for those that have already been considered by us.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">What other common syntactic characters can improve performance? For example, you can see that in the overwhelming majority of cases there is a space after the dot (except for the ellipsis, which is rare, and it can also be assigned to a separate key, at least in the extra layer). Also, the space always goes after the dash (but not after the hyphen). In principle, in most editors, a dash and a hyphen are typed with the same "- / _" key, but, for example, in the Word, a dash is set if there are spaces before and after it.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It is proposed to put the autospace after the dash, i.e. the combination "-" puts an extra space. This will also save a little on the set of service marks. It is also possible to put autospaces after such common characters as the colon ‚Äú:‚Äù and the semicolon ‚Äú;‚Äù. You can put the auto-space and after the other signs of the end of the sentence - interrogative and exclamatory "?" And "!".</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">There are cases, but very rarely, when it is necessary to type several identical characters in a row. For this case, you can provide the following AZ. Suppose you need to type five exclamation marks: "!!!!!", for this will be used AZ of the form "5!". For the rarely occurring dots, you can also provide a separate key, for example, ‚Äúe‚Äù, since the letters ‚Äúe‚Äù and ‚Äúe‚Äù often do not differ and ‚Äúe‚Äù remains unused (I ask you not to throw stones at me for supporters of the universal use of ‚Äúe‚Äù, since AZ can be assigned to any other key). In principle, everyone can define for himself unused keys and assign the most effective AZ to them.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Consider the auto space after the point, and the gain from such a function. As mentioned, the probability of a dot in the text is 1.5%. Each sentence has approximately one point, after which there is a space. Except when using dots "...", which are very rare. The point and the space after it make up about 1.5% 2 = 3% of all characters. Using the automated statement of the space after the point, we exclude half of these 3%, i.e. we get another 1.5% winnings. This is a good result for one function. Considering auto spaces after other signs - interrogative and exclamatory, it is possible to increase the gain even more. But, as a rule, the share of such signs is very small in comparison with a period and it is possible not to consider it as significant.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A rather frequent combination is "-" (space and dash), followed by another space. If you set the auto-space after this combination, the gain in symbols will be equal to the number of such combinations, respectively, the percentage gain will be equal to the share of such combinations in% of the total number of combinations of a given length. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">You can write a general formula for calculating the gain from the reduction of any combination, knowing its share (frequency) in the general structure of the language, including syntactic symbols: </font></font><br><img src="https://habrastorage.org/getpro/habr/post_images/aed/804/09e/aed80409e8343c6db77046d4c794bf69.gif"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">where </font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"></font></font></sub></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is the proportion of this combination among all combinations of the same length; it can be a digram (2 characters), a trigram (3 characters), n-gram (length n characters); in our case we deal with digrams; </font></font><br> <b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- the number of characters for which you can reduce the text after meeting this combination; </font><font style="vertical-align: inherit;">this formulation takes into account both the possibility of AZ, and the autogap and similar functions; </font></font><br> <b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">additional</font></font></sub></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - an additional benefit from the reduction of all other combinations, which include excluded characters; </font><font style="vertical-align: inherit;">in each case must be calculated separately.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> AutoCorrect at the level of individual combinations of letters and words </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As already mentioned, AZ can be used not only at the level of words, but also at the level of phrases, phraseological level. There are stable phrases, for example, some of them: ‚Äúhow are you‚Äù, ‚Äúlike life‚Äù, ‚Äúgood afternoon‚Äù, ‚Äúbecause‚Äù, ‚Äúdespite‚Äù, ‚Äúby all means‚Äù, etc .; less frequent - ‚Äúin any case,‚Äù ‚Äúbased on the foregoing,‚Äù ‚Äúfollows from what has been said.‚Äù </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Everyone has his own most frequent phrases that he uses in conversation and business communication, in correspondence. Based on these stable phrases, you can develop an addition to the AZ system for them. In each particular case, consistency with the existing AZ system should be taken into account and the gain provided by the auto-replacement of each new combination should be calculated.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">But much more frequent than words or phrases are n-grams (n-character combinations with a small n, n &lt;5). </font><font style="vertical-align: inherit;">For example, one can single out such frequent combinations at the end of words, such as ‚Äúny‚Äù, ‚Äúny‚Äù, ‚Äútsya‚Äù, ‚Äútsya‚Äù. </font><font style="vertical-align: inherit;">You can provide AZ for them. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For example, if you do not use the key with the letter "" (forgive me supporters of its use), then assign one of the AZ to this key. </font><font style="vertical-align: inherit;">And the combination of this key with Shift will give another combination, i.e. </font><font style="vertical-align: inherit;">Shitf +  = tsya; </font><font style="vertical-align: inherit;">e = tsya </font><font style="vertical-align: inherit;">Again, each of these combinations should be considered separately, in accordance with their frequency and consistency with the already-made system of abbreviations. </font><font style="vertical-align: inherit;">It is important that there is no confusion, and there are no similar writing abbreviations on words that are written entirely in completely different ways.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Optimization of layouts taking into account autocheck </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Next, you can link the system AZ and the procedure for optimizing the layout. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The optimization procedure described in the previous </font></font><a href="http://habrahabr.ru/post/210826/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">article has</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> as a input parameter a system of penalties and statistics of digrams. The system of penalties / incentives will remain the same, and as a result of the use of the AZ system, the statistics of digrams will somehow change. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Accordingly, the optimal layout for some system AZ will differ from the optimal layout used without AZ. It is necessary to recalculate changes in statistics for each position of autochange ‚Äî for each word with AZ, combinations, combinations of syntactic symbols.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To calculate the change in the frequency of a combination, one needs to consider a specific example, from which general patterns can then be derived. Take the word "more." The frequency of occurrence of the word in the body - 124201 times. The total number of words of the corpus </font></font><img src="https://habrastorage.org/getpro/habr/post_images/5ec/179/41d/5ec17941db6577576042b2322b2554f8.gif"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= 1.93 ‚àô 10 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . The average word length is </font></font><img src="https://habrastorage.org/getpro/habr/post_images/eec/e9b/92b/eece9b92bdb6762780c83c358ad5e72c.gif"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚âà5.28 characters. The proportion of syntactic symbols is </font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚âà 20%. Now we have all the data to count the number of characters in the package. Such a recalculation is needed to bring the statistics of words to the statistics of digrams (and the number of digrams in the text is equal to the number of characters in it minus 1). The total number of characters in the body: </font></font><br><img src="https://habrastorage.org/getpro/habr/post_images/946/432/a68/946432a68fa7b35495830ad08b138a65.gif"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Knowing the number of occurrences of a specific word in the body, we automatically know the number of occurrences of each digram from this word in the body.</font></font> Those.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">for the word ‚Äúmore‚Äù it will not be the total frequency of the digits ‚Äúbo‚Äù, ‚Äúol‚Äù, ‚Äúeh‚Äù, etc., but only the frequency of the digrams ‚Äúbo‚Äù, ‚Äúol‚Äù, ‚Äúeh‚Äù, ... of this word. This frequency will be written:</font></font><br><img src="https://habrastorage.org/getpro/habr/post_images/8b3/662/554/8b366255440bd153b13820bf77717864.gif"><br>  Where <img src="https://habrastorage.org/getpro/habr/post_images/f27/ef9/5cd/f27ef95cd79d7633db1cf0f3966aba41.gif"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- the frequency of any digram of the word in question; </font></font><br><img src="https://habrastorage.org/getpro/habr/post_images/f1a/617/f92/f1a617f92c2242ddca5bedc860d65e8c.gif"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- the frequency of occurrence of the word in the body; </font></font><br><img src="https://habrastorage.org/getpro/habr/post_images/73c/9d0/9ac/73c9d09ac188f2998bccb2be38a4f2c3.gif"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- the total number of shell symbols found above. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For example, let's calculate the frequencies of the digrams introduced into the body by the word ‚Äúmore‚Äù: </font></font><br><img src="https://habrastorage.org/getpro/habr/post_images/34b/f93/6e7/34bf936e77914842e16a7caec4f9571d.gif"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When using the AZ, these frequencies will be subtracted from the total number of the corresponding digrams, and some new ones introduced by the abbreviation will be added. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To be specific, assume that the word ‚Äúmore‚Äù will be shortened when typing to ‚Äúbo‚Äù. Then the frequencies of the digits ‚Äúol‚Äù, ‚Äúeh‚Äù, ‚Äúush‚Äù, ‚Äúabove‚Äù, ‚Äúe‚Äù will be subtracted from the general table of frequencies of the digrams. The combination of "bo" remains unchanged, and it is not necessary to recalculate it. But a new digram will be added, which previously did not exist in the word ‚Äúo‚Äù.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Its frequency will be the same as the others (i.e. the number of its occurrences in the body is equal to the frequency of occurrences of the word) - 0.01%. The value of this frequency will be added to the general table of frequencies of digrams. To complete the review, we calculate the resulting frequencies obtained only for AZ ‚Äúbo‚Äù = ‚Äúmore‚Äù. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/ddc/195/13b/ddc19513ba4e69b016ecaa8cf81db26b.gif"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If strictly, then you must also take into account the fact that the amount of typed text with an increase in the number of AZ will decrease.</font></font> Those.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">it is better to consider the effect in absolute values ‚Äã‚Äãattributable to the text of any volume. Thus, it will be more accurate if we consider not the relative changes (percentages), but the absolute values: how many digrams of this type were in the text and how many became. Conversion to relative values ‚Äã‚Äãis needed only at the final stage of calculation, before starting the optimization procedure. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Since the amount of data is quite large, this stage (as well as all), needs partial or complete automation. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The described procedure should be repeated for each autochange. As a result, we get the recalculated statistics of the digrams, which can be used as an input variable for the layout optimization procedure.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> It is possible to achieve the use of the system, both in terms of convenience and speed. </font></font></font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Implementation AutoCorrect </font></font></font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For practical use of AutoCorrect, you can use the popular programs </font></font></font></font><a href="http://www.autohotkey.com/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AutoHotKey</font></font></font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> or </font></font></font></font><a href="http://punto.yandex.ru/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PuntoSwitcher</font></font></font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font></font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CAN see the You AutoHotKey program documentation </font></font></font></font><a href="http://www.script-coding.com/AutoHotkeyTranslation.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">found here</font></font></font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , some of the features </font></font></font></font><a href="http://habrahabr.ru/post/24652/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">found here</font></font></font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font></font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lines of a common script with AZ:</font></font></font></font><br><pre><script type="text/javascript">function gtElInit() {var lib = new google.translate.TranslateService();lib.translatePage('ru', 'en', function () {});}</script><script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=gtElInit&amp;client=wt"></script><code class="cpp hljs">::::;</code> </pre> <br>  the word "time" will appear after pressing "in" and the activator key, usually a space. <br><br><pre> <code class="cpp hljs">::;</code> </pre><br>  in this case, the word ‚Äútime‚Äù will appear immediately after dialing ‚Äúc‚Äù. <br><br><pre> <code class="cpp hljs">:*:::; -   ,     .</code> </pre><br>  ;  - optional character, separates comments. <br><br><hr><br>  As an afterword, I note that this article, like the previous one, is mainly academic.  Practical application is limited only by professional or semi-professional typesetters, which are extremely small in the total mass of PC users.  Nevertheless, I hope that some of the most convenient replacements are already used or can be used by almost everyone.  Constructive criticism on calculations and presentation logic is welcome. </div><p>Source: <a href="https://habr.com/ru/post/211827/">https://habr.com/ru/post/211827/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../211815/index.html">Erlang for the little ones. Chapter 3: Basic Function Syntax</a></li>
<li><a href="../211817/index.html">Life is like an 8-bit game: Manual</a></li>
<li><a href="../211819/index.html">AppFactory: Delphi for Android Winner App</a></li>
<li><a href="../211823/index.html">How we did the game jam, but we got our own greenlight</a></li>
<li><a href="../211825/index.html">CMS of the future</a></li>
<li><a href="../211831/index.html">NYPD is testing Google Glass</a></li>
<li><a href="../211835/index.html">The largest space telescope in history has received the last three mirrors</a></li>
<li><a href="../211839/index.html">Created a 3D printer that can print carbon fiber parts</a></li>
<li><a href="../211843/index.html">Porridge, sir! Build a project on InterSystems Cach√© using Jenkins</a></li>
<li><a href="../211845/index.html">How I hacked the githab again</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>