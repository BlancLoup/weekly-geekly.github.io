<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Answers to common questions about the render prop template</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Kent S. Dodds, the author of the material we are publishing today, says that recently a group of programmers with whom he was supposed to conduct a tr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Answers to common questions about the render prop template</h1><div class="post__text post__text-html js-mediator-article">  Kent S. Dodds, the author of the material we are publishing today, says that recently a group of programmers with whom he was supposed to conduct a training on React became interested in the ‚Äúrender props‚Äù template, also called the ‚Äúfunction as a descendant‚Äù template (in different his publications are referred to as "children as a function" or "function as child").  <a href="https://reactjs.org/docs/render-props.html">The</a> React <a href="https://reactjs.org/docs/render-props.html">documentation</a> defines render render as a simple technique for transferring code between React components using a property whose value is a function.  The component using render prop accepts a function that returns a React element.  This component calls this function instead of implementing its own rendering logic.  Kent recommends that those who are not familiar with the render prop template, read this <a href="https://cdb.reacttraining.com/use-a-render-prop-50de598f11ce">material</a> and watch this <a href="https://www.youtube.com/watch%3Fv%3DBcVAq3YFiuc">video</a> , and then read on. <br><br> <a href="https://habrahabr.ru/company/ruvds/blog/349148/"><img src="https://habrastorage.org/getpro/habr/post_images/3cc/674/f28/3cc674f283a0dd9652dbc3caf289005e.jpg" alt="image"></a> <br><a name="habracut"></a><br>  Kent says that when preparing for classes, he <a href="https://codesandbox.io/s/k2krnxml7r">experimented</a> and decided to <a href="https%253A%252F%252Fblog.kentcdodds.com%252Fmedia%252F97133e347a440768b6629531fb1494f8%253FpostId%253Da9f84bb12d5d">ask</a> his readers on Twitter what questions they have about render props, about the details of any other templates related to this, they would like to know, and what examples would help them with render props.  In response to his tweet Kent received a lot of feedback.  As a result, he decided to dwell on the three most typical questions regarding the render prop template and answer them, illustrating the answers with examples. <br><br><h2>  <font color="#3AC1EF">Question # 1: How does using the render prop template affect performance?</font> </h2><br>  Perhaps this is the question that most often arises when I talk about the render prop template.  In addition, in the comments on the above tweet, it was asked several times about performance.  My answer to this question is very simple.  Here I refer to the Ryan Florence <a href="https://habrahabr.ru/company/ruvds/blog/340034/">material</a> on the use of features and performance in React.  To quote the main conclusions of this material, we can say the following: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  Write the code as you are used to, realizing your ideas in it. <br></li><li>  Perform performance measurements to find bottlenecks.  <a href="https://reactjs.org/blog/2016/11/16/react-v15.4.0.html">Here</a> you can learn how to do it. <br></li><li> Use <code>PureComponent</code> and <code>shouldComponentUpdate</code> only when necessary, skipping functions that are component properties (only if they are not used in life-cycle interceptor events to achieve side effects). <br></li></ul><br>  If you treat opponents of premature optimization, then you do not need evidence that the built-in functions degrade performance.  In order to think about their optimization, you need evidence to the contrary. <br><br>  I would like to complement these findings.  If you are really worried about embedding render prop functions and the possible negative impact of this on performance, just do not use the built-in functions. <br><br><pre> <code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyComp</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ renderDownshift = downshift =&gt; (   &lt;div&gt;{<span class="hljs-comment"><span class="hljs-comment">/*    */</span></span>}&lt;/div&gt; ) render() {   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (     &lt;<span class="hljs-type"><span class="hljs-type">Downshift</span></span>&gt;       {<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.renderDownshift}     &lt;/<span class="hljs-type"><span class="hljs-type">Downshift</span></span>&gt;   ) } }</code> </pre> <br><h2>  <font color="#3AC1EF">Question number 2: How, when using render props, to avoid the appearance of overly complicated rendering code that is hard to read?</font> </h2><br>  One of my readers, Mark Erickson, wondered how, using the render props template, not to put all the rendering logic into nested functions inside the <code>render()</code> method.  He wanted to know if, for the sake of increasing the readability of the code, it was possible to break this logic into small functions, but <a href="https%253A%252F%252Fblog.kentcdodds.com%252Fmedia%252F26d4ba0f9457ddc72c58d949931bac4d%253FpostId%253Da9f84bb12d5d">not to</a> abandon render props. <br><br>  Mark asks the right questions.  Almost all the examples of using the render prop template that I have seen are reduced to placing all the rendering logic in one function.  Usually in such cases, you can see the return command and one giant expression.  These huge rendering features annoyed me, but I began to treat them much better when I realized that the only reason I didn‚Äôt like them was because I thought they were complex, although in reality it‚Äôs not . <br><br>  In any case, since what we call ‚Äúrender props‚Äù are just functions that are called with arguments, you can do whatever your heart desires with them.  As a result, I prepared a <a href="https://codesandbox.io/s/ry4qwpnzqp">couple of examples</a> for Mark. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/778/fa9/4b8/778fa94b8e631e39877246f4d8ec8104.png"></div><br>  <i><font color="#999">Mark Examples</font></i> <br><br>  Here is a short version of the code for these examples. <br><br><pre> <code class="hljs django"><span class="xml"><span class="xml">function JustARegularFunctionComponent(props) { //      return </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{/*   */}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> } function App() { return (   </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">     </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">       With a totally different component.       Thanks React composibility!     </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">     </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">RenderPropComp</span></span></span></span><span class="xml"><span class="hljs-tag">       </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">render</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{arg</span></span></span></span><span class="xml"><span class="hljs-tag"> =&gt;</span></span></span><span class="xml"> (         </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">JustARegularFunctionComponent</span></span></span></span><span class="xml"><span class="hljs-tag"> {</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">...arg</span></span></span></span><span class="xml"><span class="hljs-tag">} /&gt;</span></span></span><span class="xml">       )}     /&gt;     </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">hr</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">     </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">       Inline! You don't have to make it an       implicit return arrow function     </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">     </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">RenderPropComp</span></span></span></span><span class="xml"><span class="hljs-tag">       </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">render</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{arg</span></span></span></span><span class="xml"><span class="hljs-tag"> =&gt;</span></span></span><span class="xml"> { // </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">--</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">notice</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">the</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">curly</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">brace</span></span></span></span><span class="xml"><span class="hljs-tag">!         //              </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">return</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt;</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{/*   */}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">       }}     /&gt;   </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> ) }</span></span></code> </pre> <br><h2>  <font color="#3AC1EF">Question number 3: How to organize access to the arguments of the render prop-functions in the methods of processing events of the life cycle of the component?</font> </h2><br>  Another fairly common question is how to access the render prop function arguments in the component's lifecycle processing methods.  The difficulty here lies in the fact that these functions are called in the context of the <code>render</code> component, so <a href="https%253A%252F%252Fblog.kentcdodds.com%252Fmedia%252F1a1c14782733ab7ea58462d8ab4cd69e%253FpostId%253Da9f84bb12d5d">it is not clear</a> how to work with the data passed to them, say, in <code>componentDidMount</code> . <br><br>  In fact, the answer to this question is hidden in the answer to the question of Mark, which we discussed above.  Please note that due to the React's composition capabilities, we can create a separate component and simply redirect the arguments to the properties of our component.  For example, it can be done <a href="https://codesandbox.io/s/6437r9qqk">like this</a> . <br><br><pre> <code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RegularClassComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ componentDidUpdate() {   <span class="hljs-comment"><span class="hljs-comment">//  ,      console.log(this.props.whatever) } render() {   return &lt;div&gt;{/*    */}&lt;/div&gt; } } function App() { return (   &lt;RenderPropComp     render={arg =&gt; &lt;RegularClassComponent {...arg} /&gt;}   /&gt; ) }</span></span></code> </pre> <br>  My friend <a href="https://twitter.com/donavon">Donavon will be</a> sad if I don‚Äôt tell about his favorite pattern ‚Äú <a href="http://americanexpress.io/faccs-are-an-antipattern/">component injection</a> ‚Äù.  Using this template, you can achieve our goal even easier, and the code will look cleaner: <br><br><pre> <code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RegularClassComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ componentDidUpdate() {   <span class="hljs-comment"><span class="hljs-comment">//  ,      console.log(this.props.whatever) } render() {   return &lt;div&gt;{/*    */}&lt;/div&gt; } } function App() { return (   &lt;CompInjectionComp component={RegularClassComponent} /&gt; ) }</span></span></code> </pre> <br>  You can work independently on implementation details.  In addition, you can take a look at the new <a href="http://npm.im/render-props">library</a> that Donavon created after our talk about render props. <br><br><h2>  <font color="#3AC1EF">Results</font> </h2><br>  I think the render prop template is just great technology, and I look forward <a href="https://github.com/jaredpalmer/awesome-react-render-props">to adding to the awesome-react-render-props list</a> that <a href="https://twitter.com/jaredpalmer">Jared Palmer is</a> working on.  In this template, I especially like the fact that it can include the component logic and not harm the ability to customize the system and not complicate the markup.  I think, as far as render props is concerned, there is still a lot of interesting things waiting for us. <br><br>  <b>Dear readers!</b>  Do you use the render props template in your React projects? </div><p>Source: <a href="https://habr.com/ru/post/349148/">https://habr.com/ru/post/349148/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../349136/index.html">Universal React + Express Applications (continued)</a></li>
<li><a href="../349138/index.html">Comparison: Docker swarm, Kubernetes, Rancher and D2C</a></li>
<li><a href="../349140/index.html">Ramda Thinking: Partial Application (Currying)</a></li>
<li><a href="../349144/index.html">TOP-10. Analysis of the best reports in the public domain. Heisenbug 2017 Moscow</a></li>
<li><a href="../349146/index.html">Configuring Zones on Solaris 11.3</a></li>
<li><a href="../349150/index.html">How to get to the top of Product Hunt</a></li>
<li><a href="../349154/index.html">11 more useful tools for developers and designers with Product Hunt</a></li>
<li><a href="../349156/index.html">Observer, object, stream, environment</a></li>
<li><a href="../349158/index.html">Check Point DEMO or how to quickly see the control interface</a></li>
<li><a href="../349160/index.html">Useful to the designer / developer. Fresh utilities and tools to speed up work. Issue number 8</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>