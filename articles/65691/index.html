<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>10 useful tricks to work with comments in WordPress</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In many blogs, sections with comments frankly neglected. But this is fundamentally wrong, since comments are nothing more than the interaction of auth...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>10 useful tricks to work with comments in WordPress</h1><div class="post__text post__text-html js-mediator-article"><img title="10 useful tricks to work with comments in WordPress" src="https://habrastorage.org/getpro/geektimes/post_images/569/d41/584/569d415843bc75c16e27cac3fac250ca.jpg" alt="10        WordPress" width="420" height="194"><br><br>  In many blogs, sections with comments frankly neglected.  But this is fundamentally wrong, since comments are nothing more than the interaction of authors with readers.  In this article, we will share the 10th excellent tips and secrets by which the comments section of the blog will reach the level that he, in fact, deserves. <a name="habracut"></a><br><br><h3>  1. Create comments for links with actions </h3><br><img title="Create comments for links with actions" src="https://habrastorage.org/getpro/geektimes/post_images/ada/61f/6f0/ada61f6f05c006b7a4b41f566721e88a.png" alt="     " width="425" height="130"><br>  <strong>Problem.</strong>  Regardless of the presence of mandatory approval of comments before posting, some of the entries always have to be edited, deleted or marked as spam.  By default, WordPress offers an ‚ÄúEdit‚Äù link for comments (using the ‚Äúedit_comment_link ()‚Äù function), without providing for ‚ÄúDelete‚Äù or ‚ÄúSpam‚Äù.  I propose to add them. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <strong>Decision.</strong>  First you need to create a function.  Paste the code below into the ‚Äúfunctions.php‚Äù file: <br><br> <code>function delete_comment_link($id) { <br> if (current_user_can('edit_post')) { <br> echo '| &lt;a href="'.admin_url("comment.php?action=cdc&amp;c=$id").'"&gt;del&lt;/a&gt; '; <br> echo '| &lt;a href="'.admin_url("comment.php?action=cdc&amp;dt=spam&amp;c=$id").'"&gt;spam&lt;/a&gt;'; <br> } <br> }</code> <br> <br>  After saving the file ‚Äúfunctions.php‚Äù, open ‚Äúcomments.php‚Äù and where the ‚ÄúDelete‚Äù and ‚ÄúSpam‚Äù links should appear, add the specified code.  Both must enter the comment loop.  Most themes provide a ‚Äúedit_comment_link ()‚Äù function.  In this case, the code is added immediately after it. <br><br> <code>delete_comment_link(get_comment_ID());</code> <br> <br>  <strong>Code analysis</strong>  First of all, we, of course, make sure that the user has permission to edit comments.  After confirmation, links appear that allow you to delete a comment or mark it as spam.  Notice the ‚Äúadmin_url ()‚Äù function, with which you can get the blog administrator URL. <br><br><h3>  2. Separate trackbacks from comments. </h3><br><img title="Separating trackbacks from comments" src="https://habrastorage.org/getpro/geektimes/post_images/e16/866/5b8/e168665b8e60b227feb7d1d475411c06.png" alt="   " width="417" height="177"><br>  <strong>Problem.</strong>  Too many trackbacks in the recordings?  Personally, I have yes.  On the one hand, this is great because readers can see which articles from other blogs link to yours.  On the other hand, an excessive amount of them makes it difficult to follow the discussion.  In such a situation, of course, it makes sense to separate the trackbacks from the comments, especially if the ‚ÄúReply‚Äù feature provided in WordPress 2.7 is not used. <br><br>  <strong>Decision.</strong>  Find in the topic and edit the file "comments.php".  Find a loop of comments that looks something like this: <br><br> <code>foreach ($comments as $comment) : ?&gt; <br> // Comments are displayed here <br> endforeach;</code> <br> <br>  Now replace it with the code below: <br><br> <code>&lt;ul class="commentlist"&gt; <br> &lt;?php //Displays comments only <br> foreach ($comments as $comment) : ?&gt; <br> <br> &lt;?php $comment_type = get_comment_type(); ?&gt; <br> &lt;?php if($comment_type == 'comment') { ?&gt; <br> &lt;li&gt;//Comment code goes here&lt;/li&gt; <br> &lt;?php } <br> endforeach; <br> &lt;/ul&gt; <br> &lt;ul&gt; <br> &lt;?php //Displays trackbacks only <br> <br> foreach ($comments as $comment) : ?&gt; <br> &lt;?php $comment_type = get_comment_type(); ?&gt; <br> &lt;?php if($comment_type != 'comment') { ?&gt; <br> &lt;li&gt;&lt;?php comment_author_link() ?&gt;&lt;/li&gt; <br> &lt;?php } <br> endforeach; <br> &lt;/ul&gt;</code> <br> <br>  <strong>Code analysis</strong>  In principle, absolutely nothing complicated.  The function ‚Äúget_comment_type ()‚Äù reports the type - a regular comment or trackback.  It‚Äôs enough for us to create two HTML lists by filling in the first one with regular comments, and the second one with trackbacks. <br><br><h3>  3. Get rid of HTML links in the comments. </h3><br><img title="Getting rid of HTML links in the comments." src="https://habrastorage.org/getpro/geektimes/post_images/dd4/758/af7/dd4758af7f1e08715b3614df61338abd.png" alt="  HTML-  " width="416" height="137"><br>  <strong>Problem.</strong>  Bloggers will never miss a chance to advertise their offspring, and even spammers have not disappeared anywhere.  I am always terribly annoyed by the incredible amount of links in the comments, as a rule, not having any relation to the question.  By default, URLs in <a href="http://www.wp-info.ru/">WordPress</a> comments turn into links.  Fortunately, those who are tired of links not less than me can fix it. <br><br>  <strong>Decision.</strong>  Just open the function.php file and paste in the code below: <br><br> <code>function plc_comment_post( $incoming_comment ) { <br> $incoming_comment['comment_content'] = htmlspecialchars($incoming_comment['comment_content']); <br> <br> $incoming_comment['comment_content'] = str_replace( "'", '&amp;apos;', $incoming_comment['comment_content'] ); <br> return( $incoming_comment ); <br> } <br> function plc_comment_display( $comment_to_display ) { <br> $comment_to_display = str_replace( '&amp;apos;', "'", $comment_to_display ); <br> return $comment_to_display; <br> } <br> add_filter('preprocess_comment', 'plc_comment_post', '', 1); <br> <br> add_filter('comment_text', 'plc_comment_display', '', 1); <br> add_filter('comment_text_rss', 'plc_comment_display', '', 1); <br> add_filter('comment_excerpt', 'plc_comment_display', '', 1);</code> <br> <br>  After saving the file, do not forget to say goodbye in your mind to links and other extraneous HTML fragments in the comments. <br><br>  <strong>Code analysis</strong>  We first created two functions that replace HTML characters with HTML objects.  After that, using the powerful ‚Äúadd_filter ()‚Äù function, we associate the standard WordPress functions for processing comments to the two newly created functions.  This ensures that all added comments will filter the HTML components. <br><br><h3>  4. Add Twitter avatars to comments </h3><br><img title="Adding Twitter Avatars to Comments" src="https://habrastorage.org/getpro/geektimes/post_images/162/db3/747/162db3747ed1fc099eeb6f3d6d6b89e6.png" alt="    Twitter" width="420" height="191"><br>  <strong>Problem.</strong>  The Twitter network is extremely useful to bloggers due to the ability to both popularize their own blog and be in touch with fellow bloggers and their own audience.  Twitter is so popular that, instead of global avatars (gravatars), comments can be illustrated with Twitter avatars. <br><br>  <strong>Decision.</strong> <br>  1. First we get a functional file <a href="http://www.smashingmagazine.com/2009/01/08/twitter-avatars-in-comments-wordpress-plugin/">from here</a> . <br>  2. Then unpack the archive on your hard drive and open the file ‚Äútwittar.php‚Äù. <br>  3. Selecting all its contents, paste into the blog-related file ‚Äúfunctions.php‚Äù. <br>  4. The last step is to open the file ‚Äúcomments.php‚Äù and find the loop of comments. <br>  5. Insert the following line into the loop: <br><br> <code>&lt;?php twittar('45', 'default.png', '#e9e9e9', 'twitavatars', 1, 'G'); ?&gt;</code> <br> <br>  <strong>Code analysis</strong>  A couple of months ago, a stunning <a href="http://www.smashingmagazine.com/">Twittar plug-in</a> was introduced to Smashing Magazine <a href="http://www.smashingmagazine.com/">www.smashingmagazine.com</a> , which serves to include Twitter avatars in WordPress blogs.  Having received a huge amount of feedback from WpRecipes.com readers, I decided to turn the software module into a code fragment - for those who are more comfortable. <br>  Of course, those who wish can simply install the add-on instead of editing the contents of the file ‚Äúfunction.php‚Äù - the choice is yours. <br><br><h3>  5. Select the style comments of the author </h3><br><img title="Select the style comments of the author" src="https://habrastorage.org/getpro/geektimes/post_images/a72/d4c/ebc/a72d4cebc64d60febfa8b6567511c2d1.jpg" alt="   " width="420" height="147"><br>  <strong>Problem.</strong>  In posts with a large number of comments, it is not always easy to find the comments and answers of the author, especially if the blog does not have the tree-like comments feature ‚ÄúThreaded Comments‚Äù implemented in WordPress 2.7.  But there is still a way out: let's highlight the author's comments in a different style - and readers will quickly find all your answers. <br><br>  <strong>Decision.</strong> <br>  1. Open the file ‚Äúcomments.php‚Äù and find the loop of comments: <br><br> <code>&lt;?php foreach comment as $comment) { ?&gt;</code> <br> <br>  2. After this line, insert the following fragment: <br><br> <code>&lt;?php <br> $isByAuthor = false; <br> if($comment-&gt;comment_author_email == get_the_author_email()) { <br> $isByAuthor = true; <br> } <br> ?&gt;</code> <br> <br>  3. Then find a line in the code representing comments (it may be different depending on the topic): <br><br> <code>&lt;li class="&lt;?php echo $oddcomment; ?&gt;" id="comment-&lt;?php comment_ID() ?&gt;"&gt;</code> <br> <br>  4. Now we need to display the ‚Äúauthorcomment‚Äù class for the author‚Äôs comments: <br><br> <code>&lt;li class="&lt;?php echo $oddcomment; ?&gt; &lt;?php if($isByAuthor ) { <br> echo 'authorcomment';} ?&gt;" id="comment-&lt;?php comment_ID() ?&gt;"&gt;</code> <br> <br>  5. It remains to create a CSS class for the author‚Äôs comments.  Open the ‚Äústyle.css‚Äù file and paste the code snippet into it.  Replace colors from sample as you see fit: <br><br> <code>.authorcomment{ <br> color:#fff; <br> font-weight:bold; <br> background:#068; <br> }</code> <br> <br>  <strong>Code analysis</strong>  The principle of operation of the proposed code is based on the comparison of e-mail addresses commenting entries with the address of the author.  If the match is, $ isByAuthor is set to true.  When displaying comments, the value of "$ isByAuthor" is checked.  When ‚Äútrue‚Äù is returned, the class ‚Äúauthorcomment‚Äù is added to the container. <br>  In Wordpress version 2.7 and above, this task is easier: simply add the ‚Äúcomment_class ();‚Äù class to the DIV comment, which will automatically add the ‚Äúbypostauthor‚Äù class in case of comments to your own posts (special thanks to Nima!). <br><br><h3>  6. Display the total number of comments and the average per record </h3><br><img title="Display the total number of comments and the average per record" src="https://habrastorage.org/getpro/geektimes/post_images/3fc/874/903/3fc8749032339402b608e3e020f5024a.png" alt="       " width="420" height="233"><br>  <strong>Problem.</strong>  On the WordPress console there is information about the total number of comments received by the blog.  But the mechanism to make it publicly available, unfortunately, is missing.  Displaying the total number of comments on a blog and the average number of comments per post can be very useful, especially if the blog has a page for potential advertisers. <br><br>  <strong>Decision.</strong> <br><br> <code>&lt;?php <br> $count_posts = wp_count_posts(); <br> $posts = $count_posts-&gt;publish; <br> $count_comments = get_comment_count(); <br> <br> $comments = $count_comments['approved']; <br> echo "There's a total of ".$comments." comments on my blog, with an average ".round($comments/$posts)." comments per post."; <br> ?&gt;</code> <br> <br>  <strong>Code analysis</strong>  The functions ‚Äúwp_count_posts ()‚Äù and ‚Äúget_comment_count ()‚Äù existing in version 2.5 make it easy to get, respectively, the total number of posts and comments on the WordPress blog.  To calculate the average number of comments to the record, elementary arithmetic operations and the ‚ÄúPHP round ()‚Äù function are enough to provide us with an integer value. <br><br><h3>  7. Display the n-th number of recent comments. </h3><br><img title="Display the nth number of recent comments." src="https://habrastorage.org/getpro/geektimes/post_images/eca/e20/ee1/ecae20ee1907cd1998f71f4a0556fcd7.jpg" alt=" n-   " width="425" height="266"><br>  <strong>Problem.</strong>  By default, WordPress provides a widget that displays any number of recent comments to posts.  This is great, but sometimes this feature is necessary in the absence of a widget. <br><br>  <strong>Decision.</strong>  The secret is very simple: paste the proposed code where you want to display a certain number of comments made last.  Do not forget to specify the specific number in line 3 (after the expression "LIMIT SQL"). <br><br> <code>&lt;?php <br> $pre_HTML =""; <br> $post_HTML =""; <br> global $wpdb; <br> $sql = "SELECT DISTINCT ID, post_title, post_password, comment_ID, comment_post_ID, comment_author, comment_date_gmt, comment_approved, comment_type,comment_author_url, SUBSTRING(comment_content,1,30) AS com_excerpt FROM $wpdb-&gt;comments LEFT OUTER JOIN $wpdb-&gt;posts ON ($wpdb-&gt;comments.comment_post_ID = $wpdb-&gt;posts.ID) WHERE comment_approved = '1' AND comment_type = '' AND post_password = '' ORDER BY comment_date_gmt DESC LIMIT 10"; <br> <br> $comments = $wpdb-&gt;get_results($sql); <br> $output = $pre_HTML; <br> $output .= "\n&lt;ul&gt;"; <br> foreach ($comments as $comment) { <br> $output .= "\n&lt;li&gt;".strip_tags($comment-&gt;comment_author) .":" . "&lt;a href=\"" . get_permalink($comment-&gt;ID)."#comment-" . $comment-&gt;comment_ID . "\" title=\"on ".$comment-&gt;post_title . "\"&gt;" . strip_tags($comment-&gt;com_excerpt)."&lt;/a&gt;&lt;/li&gt;"; <br> <br> } <br> $output .= "\n&lt;/ul&gt;"; <br> $output .= $post_HTML; <br> echo $output; <br> ?&gt;</code> <br> <br>  <strong>Code analysis</strong>  Here we also use the "$ wpdb" object, but this time along with the "get_results ()" method.  After receiving comments from the WordPress database, use the loop "for" to link them into an unordered HTML list.  Initialized at the top of the snippet, the variables $ pre_HTML and $ post_HTML determine which content comes before and after the list of comments. <br><br><h3>  8. Avoid comment spam - just </h3><br><img title="Avoid comment spam - just" src="https://habrastorage.org/getpro/geektimes/post_images/65d/1b1/ce3/65d1b1ce39da8eac36a257504e3d193d.jpg" alt="    ‚Äî " width="420" height="234"><br>  <strong>Problem.</strong>  Comment spam is a common headache.  Akismet is a good solution, but why not immediately block spammers instead of flagging suspicious messages?  The proposed code looks for the HTTP referrer request header (the page where the request came from) and automatically blocks the comment if it is incorrect or not defined. <br><br>  <strong>Decision.</strong>  In the file "functions.php", paste the code below: <br><br> <code>function check_referrer() { <br> if (!isset($_SERVER['HTTP_REFERER']) || $_SERVER['HTTP_REFERER'] == ‚Äú‚Äù) { <br> wp_die( __('Please enable referrers in your browser, or, if you\'re a spammer, bugger off!') ); <br> } <br> <br> } <br> add_action('check_comment_flood', 'check_referrer');</code> <br> <br>  That's all.  After saving the file, we bring the blog to a new level of protection against spam. <br><br>  <strong>Code analysis</strong>  The code automatically rejects requests for the publication of comments originating from a browser (usually a bot) without an HTTP referrer request header.  The check is performed using the array "PHP $ _SERVER []".  If the header is undefined or incorrect, the wp_die function is called and the script is terminated. <br>  This function is bound to the ‚Äúcheck_comment_flood ()‚Äù function implemented in WordPress.  Thus, we can be sure that the call to the ‚Äúcheck_referrer ()‚Äù function will be executed each time a comment is posted. <br><br><h3>  9. We support WordPress compatibility with versions below 2.7. </h3><br><img title="We support WordPress compatibility with versions below 2.7" src="https://habrastorage.org/getpro/geektimes/post_images/57d/3ec/b2b/57d3ecb2be1fad3b62c52f477418fe4d.jpg" alt="  WordPress    2.7" width="420" height="193"><br>  <strong>Problem.</strong>  In the release of WordPress 2.7 just a few months ago, a fundamentally new commenting system appeared, allowing you to display them in a tree-like form and display them on different pages.  Although it is very convenient, do not forget that many users have not yet updated their applications to version 2.8 or at least 2.7.  The proposed code will open to all owners of versions 2.7 and above the convenience of the new commenting system, retaining the old functions for those who have not taken care of the update. <br><br>  <strong>Decision.</strong>  For this purpose, you will need two files.  The first is a file with WordPress 2.7 supported comments ‚Äúcomments.php‚Äù.  The second is a comment template for earlier WordPress versions of legacy.comments.php.  Both files will be stored in the theme folder. <br>  In the file "functions.php" add the following code: <br><br> <code>&lt;?php <br> add_filter('comments_template', 'legacy_comments'); <br> function legacy_comments($file) { <br> if(!function_exists('wp_list_comments')) : // WP 2.7-only check <br> $file = TEMPLATEPATH.'/legacy.comments.php'; <br> endif; <br> <br> return $file; <br> } <br> ?&gt;</code> <br> <br>  <strong>Code analysis</strong>  This code creates a ‚Äúlegacy_comments ()‚Äù function bound to the standard ‚Äúcomments_template‚Äù function.  Each time WordPress accesses "comments_template ()", our legacy_comments () function will be executed.  In the absence of the ‚Äúwp_list_comments ()‚Äù function, the code automatically loads ‚Äúlegacy.comments.php‚Äù instead of ‚Äúcomments.php‚Äù. <br><br><h3>  10. Display the entries with the most comments in a specific time. </h3><br><img title="Display entries with the most comments in a specific time." src="https://habrastorage.org/getpro/geektimes/post_images/3c0/5b5/263/3c05b52638fc707a8b76536f63fafc2f.png" alt="        " width="419" height="253"><br>  <strong>Problem.</strong>  Number of comments is a great way to measure the popularity of a blog, as well as a good filter for displaying a list of the most popular posts.  It would be nice to limit the most popular entries to a specific period of time, for example, by displaying a list of the most-most recent months. <br><br>  <strong>Decision.</strong>  Just paste the proposed code where you want to list the most popular entries.  Do not forget to change the dates in line 3 to the actual for you. <br><br> <code>&lt;ul&gt; <br> &lt;?php <br> $result = $wpdb-&gt;get_results("SELECT comment_count,ID,post_title, post_date FROM $wpdb-&gt;posts WHERE post_date BETWEEN '2009-01-01' AND '2009-02-01' ORDER BY comment_count DESC LIMIT 0 , 10"); <br> foreach ($result as $topten) { <br> $postid = $topten-&gt;ID; <br> <br> $title = $topten-&gt;post_title; <br> $commentcount = $topten-&gt;comment_count; <br> if ($commentcount != 0) { <br> ?&gt; <br> &lt;li&gt;&lt;a href="&lt;?php echo get_permalink($postid); ?&gt;"&gt;&lt;?php echo $title ?&gt;&lt;/a&gt;&lt;/li&gt; <br> <br> &lt;?php } <br> } <br> ?&gt; <br> &lt;/ul&gt;</code> <br> <br>  <strong>Code analysis</strong>  The first step is to send the SQL query to the WordPress database via the "$ wpdb" object.  After receiving the results, we use a simple PHP ‚Äúforeach‚Äù operator to display the most popular records for a certain period in the form of an unordered HTML list. <br><br>  Original article: <a href="http://www.smashingmagazine.com/2009/07/23/10-wordpress-comments-hacks/">10 Handy WordPress Comments Hacks</a> <br>  Article translation: <a href="http://www.wp-info.ru/10-poleznyx-priemov-po-rabote-s-kommentariyami-v-wordpress/">10 useful tricks to work with comments in WordPress</a> </div><p>Source: <a href="https://habr.com/ru/post/65691/">https://habr.com/ru/post/65691/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../65686/index.html">In St. Petersburg, the Internet rises in price (after dumping)</a></li>
<li><a href="../65687/index.html">Clearing the file type field</a></li>
<li><a href="../65688/index.html">Internet Explorer 6</a></li>
<li><a href="../65689/index.html">Aluminum laptop Averatec N3400</a></li>
<li><a href="../65690/index.html">Withings Wi-Fi Body Scale - scales with a Wi-Fi module</a></li>
<li><a href="../65692/index.html">Asus eee pc 701 as a warding toy</a></li>
<li><a href="../65693/index.html">Conversation with the client</a></li>
<li><a href="../65694/index.html">Create view, shared hosting and .masterhost</a></li>
<li><a href="../65695/index.html">Relaxing Ocean Projector Pot Relaxing Projector</a></li>
<li><a href="../65697/index.html">Insidious question on Event \ Delegate</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>