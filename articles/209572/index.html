<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Optimize your wireless connection or iwconfig can all</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="For a long time, I suffered from packet losses and a drop in WiFi speed on my laptop after some time. And so I came across a small article that helped...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Optimize your wireless connection or iwconfig can all</h1><div class="post__text post__text-html js-mediator-article"> <em>For a long time, I suffered from packet losses and a drop in WiFi speed on my laptop after some time.</em>  <em>And so I came across a <a href="http://kmkeen.com/linux-wifi/">small article</a> that helped me summarize my knowledge and consciously select the necessary parameters to optimize the performance of my network card.</em> <em><br></em>  <em>Below I propose to get acquainted with the translation of this article.</em> <br><br>  This guide reveals the <code>iwconfig</code> for adjusting your wireless settings.  Out of the box, the defaults are very liberal, they give good throughput under optimal conditions.  In reality, you will never be as close to an access point as you would like, channels may overlap, and crowds of people will try to use the same channel as you.  And the default settings in these conditions are not so good. <br><br>  Please keep an open <a href="http://linux.die.net/man/8/iwconfig">reference (man page)</a> on <code>iwconfig</code> while reading this manual.  I will describe only single examples of different teams.  Help will give you much more detailed information on how to optimally adjust everything. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The first and most important is understanding what can lead to problems. <br><a name="habracut"></a><br><h3>  Attenuation </h3><br><pre> <code class="hljs cs">[<span class="hljs-meta"><span class="hljs-meta">.</span></span>]  -,   </code> </pre> <br>  Attenuation occurs when moving away from an access point or when there are reflective surfaces or absorbing materials on the signal path.  An example of a reflective surface could be aluminum siding or reflective film on a window.  Signals can not pass through such surfaces, they will be reflected. <br>  Absorbing materials are more obvious.  WiFi technology primarily uses frequencies near 2.4 GHz.  Microwave ovens operate at the same frequency due to the absorption of water at these frequencies, which allows to heat the water.  Thus, any large amount of water between you and the access point will reduce the signal.  Examples: trees (and high humidity next to them due to evaporation), cement, concrete, and cinder blocks are all about half made up of water (by weight).  Most other building materials contain less water and create less problems. <br><br>  Symptoms: <br><ul><li>  Weak signal </li></ul><br><br>  Solution options: <br><ul><li>  Place the access point on the line of sight. </li><li>  Install a directional antenna to increase attenuated signal. </li><li>  Increase transmitter power. </li><li>  Increase receiver sensitivity. </li><li>  Reduce connection speed to increase signal to noise ratio. </li></ul><br><br><h3>  Noise </h3><br><pre> <code class="hljs cs">[<span class="hljs-meta"><span class="hljs-meta">.</span></span>]  ,  </code> </pre> <br>  If attenuation reduces the signal level, then the noise increases the noise level.  Roughly speaking, attenuation and noise lead to the same effect - the signal-to-noise ratio decreases.  And if so, then the solutions will be the same.  Well, unless the increase in receiver sensitivity does not help ... <br><br>  This is usually environmental noise, or at least an unintended side effect.  But on the other hand there is one special case. <br><br>  But first a slight digression.  The concept of 50% in technology is very important.  It is often difficult to draw a clear boundary.  Many measurable properties simply fade out (fade away) but never run out.  So we have to artificially enter the threshold where something ends.  This threshold is often 50%.  As soon as something crosses the 50% threshold, it no longer exists.  Where this 50% transition occurs is one of the most important technical characteristics for many inventions. <br><br>  The developers of the 802.11 standard placed all the channels as close as possible to each other, on the border of 50% of power transitions.  In theory, this means that two channels will not interfere with each other.  But only in equal conditions.  In practice, if your access point is on the first channel and the neighbor is on the second channel, then you will not be able to use your access point while visiting your neighbor.  Your point is too far and the signal is too weak.  (In some cases, you can get by with a directional antenna.) <br><br>  For you, the nearest access points are just noise.  You can apply the above techniques to reduce the noise level, with the only exception that a more powerful transmitter will interfere with the neighbor because of the interference of signals. <br><br>  If you like to make antennas, then this can solve other problems.  Other access points in your area may ‚Äúblind‚Äù your receiver.  For example, in a developed area you may experience communication difficulties at a distance of more than 100 meters.  While with the disconnection of all nearby access points clogging the radio, the same antenna will be able to see access points a kilometer away. <br><br><h3>  Competition (Contention) </h3><br><pre> <code class="hljs cs">[<span class="hljs-meta"><span class="hljs-meta">.</span></span>] /  </code> </pre> <br>  When several people use the same access point, passions run high.  First, everyone is running at the slowest speed.  If at least one person connects from the old 802.11b WiFi adapter, no one will accelerate faster than 11MB.  (For high end access points with multiple antennas this may not be true.) <br><br>  The biggest challenge for competition is the ability to use only one radio channel at a time. <br>  Each takes up the channel in turn and must complete the transmission in its own time.  This is probably the biggest problem with WiFi on Linux.  The default settings are configured for optimal transmission and these values ‚Äã‚Äãare terrible for situations with a lot of disagreement (collision). <br><br>  Symptoms: <br><ul><li>  Unable to establish connection. </li><li>  Unable to get IP address. </li><li>  Frequent delays and timeouts when loading web pages. </li><li>  Lots of excessive repetition and bad packets. </li></ul><br><br>  Solution options: <br><ul><li>  Increase speed.  The higher the connection speed of each, the shorter the transmission time, the less collisions.  This is usually configured on the access point side, not the client. </li><li>  Fragment the transfer.  Usually small packages are collected in one, as large as possible.  Use <code>iwconfig wlan0 frag 256</code> to break packages into smaller sizes.  This will slightly reduce the transmission speed, but it will create fewer collisions. </li><li>  Turn on rts handshaking.  Before sending the packet, the client makes a preliminary exchange with the access point to make sure that she is ready to receive data.  This also reduces speed.  By default, this exchange is carried out only for packets longer than 2Kb.  To force the client to make such an exchange every time a packet is transmitted, use <code>iwconfig wlan0 rts 1</code> . </li><li>  Increase the number of repetitions.  Perseverance is the key to getting through the crowd, and this is true for the wireless network.  Usually your card is dealt after seven attempts to transfer a package.  Thirty is a more reasonable value, configured using <code>iwconfig wlan0 retry 30</code> . </li></ul><br><h3>  What about iwpriv? </h3><br>  <code>iwpriv</code> is a shockingly powerful utility.  Basically, all non-standard functions are merged there.  Some options are meaningless, others are wonderful, it all depends on the drivers, none of them are fully documented.  Experiment with your wifi card.  <code>iwpriv</code> most likely needs a separate article. <br><br><h3>  After connecting </h3><br>  You need an ip address.  Usually dhcpcd is extremely slow and often time-out on weak glands.  Dhcpcd will work 40 times faster if you run it <code>dhdpcd -A wlan0</code> .  Before Amtrak started placing wifi on trains, <code>-A</code> was crucial for hitting a new push with git or getting IMAP mail during a flight past the station.  Usually, <code>-A</code> trusts the access point and skips checking that the resulting ip address is unique on the network. <br><br><h3>  Finally </h3><br>  <i>From myself I will add that I did not translate the last part of the article, which contains warnings on the legality of increasing transmitter power.</i>  <i>With this, I think, and so everything is clear.</i> <i><br></i>  <i>This article has helped me a lot, I hope you did too.</i> <i><br></i> <br><div class="spoiler">  <b class="spoiler_title">My settings</b> <div class="spoiler_text">  sudo iwconfig wlan0 frag 1000 <br>  sudo iwconfig wlan0 rts 1024 <br>  sudo iwconfig wlan0 retry 30 <br></div></div></div><p>Source: <a href="https://habr.com/ru/post/209572/">https://habr.com/ru/post/209572/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../209550/index.html">Kruglendar for 2014</a></li>
<li><a href="../209552/index.html">Not all comments are equally helpful.</a></li>
<li><a href="../209554/index.html">The effectiveness of personal recommendations: a contextual approach</a></li>
<li><a href="../209566/index.html">CERN and the collider through the eyes of a tourist</a></li>
<li><a href="../209568/index.html">ActiveRecord vs DAO - Test memory consumption and query execution speed</a></li>
<li><a href="../209574/index.html">News digest from the world of mobile development for the last week ‚Ññ37 (January 13-19, 2014)</a></li>
<li><a href="../209576/index.html">Translation of Henrik Knberg's article ‚ÄúATDD from Trenches‚Äù (ATDD with advanced)</a></li>
<li><a href="../209578/index.html">A little introduction to Scalatest</a></li>
<li><a href="../209580/index.html">Riddle of elementary arithmetic</a></li>
<li><a href="../209584/index.html">Procurement for data schema with tests, CI, without preference</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>