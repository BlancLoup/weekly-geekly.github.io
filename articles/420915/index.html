<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>RFM analysis with one button or how we have made life easier for customers</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Since Machine Learning was first spoken at Mindbox, the Big Green Button has become the overall goal. This is such a button in full screen, when click...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>RFM analysis with one button or how we have made life easier for customers</h1><div class="post__text post__text-html js-mediator-article"><p> <a href="https://habr.com/company/mindbox/blog/420915/"><img align="left" alt="image" width="400" src="https://habrastorage.org/webt/rn/wo/mv/rnwomvuqtlukaj3mrs2ghlna8zq.png"></a> <br>  Since <em>Machine Learning was</em> first spoken at Mindbox, the <em>Big Green Button</em> has become the overall goal.  This is such a button in full screen, when clicked, everything works by itself and makes a profit. </p><br><p>  In the analytical project ‚ÄúRFM‚Äù the goal is less ambitious - <em>Small green button</em> .  You press, and the base is automatically divided into segments, which starts sending letters (for example). </p><br><p><br clear="left"></p><br><p>  To achieve the goal, we wrote an automatic RFM segmenter and developed a special report to visualize the results. </p><br><p>  We tell how it all happened and why you can now <del>  do without analysts </del>  devote more time to less trivial tasks. </p><a name="habracut"></a><br><h1 id="chto-takoe-rfm-analiz">  What is RFM Analysis? </h1><br><p>  The result of the email distribution depends on the reach of the audience and the quality of the newsletter itself.  Infinitely increase the coverage is impossible, which means you need to increase the quality.  To do this, you need to personalize the newsletter, since all people are different and everyone needs something different. </p><br><img alt="image" src="https://habrastorage.org/webt/2j/9k/ak/2j9kakz6ohehj_7vs0lortndwsw.jpeg"><br><br><p>  Consumers are usually many, making an individual letter for each is difficult.  To cope with the problem, marketers divide consumers into groups - segments. </p><br><p>  You can divide in different ways.  One option is <a href="https://ru.wikipedia.org/wiki/RFM-%25D0%25B0%25D0%25BD%25D0%25B0%25D0%25BB%25D0%25B8%25D0%25B7">RFM analysis</a> . </p><br><p>  That is, RFM analysis is a segmentation method.  Segments are called non-overlapping consumer groups.  RFM analysis suggests for each customer to distinguish three features: </p><br><ul><li>  R (Recency) - how long ago the customer made the last order. </li><li>  F (Frequency) - how many orders the client has made. </li><li>  M (Monetary) - how much money the client spent. </li></ul><br><p>  Many marketing companies make and use RFM analysis.  We including.  <a href="https://mindbox.ru/blog/marketing/rfm-raspredelenie/">In the article about RFM segmentation, they</a> told us what report we can do and how it can help marketers. </p><br><h1 id="suschestvuyuschie-podhody-k-rfm-analizu">  Existing RFM Analysis Approaches </h1><br><p>  The existing approaches to RFM analysis are almost the same for everyone. </p><br><img alt="image" width="400" align="left" src="https://habrastorage.org/webt/4l/op/yi/4lopyik0yzn8jufa1eypt0h_wsc.png"><br><p>  Clients are divided into groups for each attribute.  Usually there are no more than five such groups.  Intersections of groups are called segments. </p><br><p>  For example, when divided into four groups, 64 (4x4x4) consumer segments form for each of the three attributes, and 125 segments already form five groups. </p><br><p>  The main difficulty is to define the boundaries of groups, because there is no definite rule on how to do this. </p><br><p><br clear="left"></p><br><p>  Consider the most popular approaches on the example of a single customer base: </p><br><img alt="image" src="https://habrastorage.org/webt/c5/zq/5d/c5zq5dulgeig4spnojqq7ub3r-o.png"><br><br><p>  Here we use only two dimensions (R and M) of three for ease of perception. </p><br><p>  In our example: </p><br><ul><li>  The amount of purchases lies in the range from 0 to 15 thousand rubles. </li><li>  Prescription purchase is in the range from 1 hour to 240 days. </li></ul><br><h3 id="podhod-1-razdelenie-na-ravnye-chasti-po-diapazonam-znacheniy">  Approach 1. Division into equal parts by ranges of values. </h3><br><p>  In this approach, the separation is made on the basis of the values ‚Äã‚Äãof attributes.  In our case, we distinguish three groups for spending: up to 5 thousand rubles, from 5 to 10 thousand and from 10 thousand.  And three groups by the limitation of the purchase period: up to 80 days, from 80 to 160 days, from 160 days. </p><br><p>  We get nine segments: </p><br><img alt="image" src="https://habrastorage.org/webt/di/x-/mx/dix-mxjzjvqvtvyihz6ynghs3x4.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>  Advantages of the method: </p><br><ul><li>  Easy to automate. </li><li>  You can identify the "most-most": buying the most, most of all and not buying the longest. </li></ul><br><p>  Cons of the method: </p><br><ul><li>  The distribution by groups is uneven: in the example, 86% of consumers are in one segment, 13% are in the second, 1% are distributed among the remaining seven segments. </li><li>  The number of groups for each feature is the same. </li><li>  Many segments (remember that even when divided into 3 parts for each feature, there will be 27 segments). </li></ul><br><h3 id="podhod-2-razdelenie-na-ravnye-chasti-po-kolichestvu-potrebiteley">  Approach 2. Division into equal parts by the number of consumers </h3><br><p>  With this approach, the division by each attribute is performed so that the same number of consumers fall into groups. <br>  This is how buyers from our example are distributed (still divided into three parts for each attribute): </p><br><img alt="image" src="https://habrastorage.org/webt/uk/ql/yv/ukqlyvy8thmp451bep5cq-qywks.png"><br><br><p>  Advantages of the method: </p><br><ul><li>  Easy to automate. </li><li>  Usually, there is no strong imbalance between groups. </li></ul><br><p>  Cons of the method: </p><br><ul><li>  Poorly allocated "special" customers. <br>  In the example, consumers who bought 1 thousand rubles and 15 thousand rubles turned out to be in one segment.  At the same time, those who bought for really large sums did not stand out in a separate group (unlike the previous method). </li><li>  The number of groups for each feature is the same. </li><li>  Many segments. </li></ul><br><h3 id="podhod-3-ruchnoy">  Approach 3. Manual </h3><br><p>  The analyst studies the database and selects the correct separation. </p><br><p>  Advantages of the method: </p><br><ul><li>  Good segmentation. </li></ul><br><p>  Cons of the method: </p><br><ul><li>  Need a specialist. </li><li>  It takes a lot of time. </li></ul><br><h1 id="rfm-otchet-odnoy-knopkoy-s-pomoschyu-machine-learning">  One-Button RFM Report Using Machine Learning </h1><br><p>  We decided to get rid of the shortcomings of the old approaches.  To do this, I had to resort to <a href="https://ru.wikipedia.org/wiki/%25D0%259C%25D0%25B0%25D1%2588%25D0%25B8%25D0%25BD%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25BE%25D0%25B1%25D1%2583%25D1%2587%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5">Machine Learning</a> algorithms. </p><br><p>  Using clustering methods, we automatically determine how many customer segments are actually in the database and what those segments are.  And with the help of the decision tree, we bring these segments to a convenient form for perception.  How it works, we tell <a href="https://habr.com/company/mindbox/blog/423463/">in a separate article about the device segmenter</a> . </p><br><p>  For the example above, we got this result: </p><br><img alt="image" src="https://habrastorage.org/webt/q9/pm/br/q9pmbrvurcgyazb6aben74jsr1y.png"><br><br><p>  To make all this convenient and understandable for marketers, we have developed a report that describes the results of segmentation conveniently and clearly (we think). </p><br><p>  To get it, just press one button - and the system will do everything itself. <br>  The report is placed on one page and consists of three tables. </p><br><h3 id="chast-1-ocenka-sostoyaniya-bazy">  Part 1. Evaluation of the state of the base </h3><br><p>  The first table is a summary.  It contains information on all segments of the database, obtained on the basis of RFM-analysis.  Key indicators: consumer activity in the segment and their value. </p><br><p>  Activity is determined by the duration of the last purchase, and the value - the amount spent. </p><br><p>  Each segment belongs to one of the categories.  In each category there may be several segments or none at all.  The cells indicate the total number of consumers from all segments of the category. </p><br><img alt="image" src="https://habrastorage.org/webt/fn/s-/4i/fns-4igr3soh36lfax2d_tdivek.png"><br><p>  <em>The ‚ÄúActivity‚Äù and ‚ÄúValue‚Äù indicators form nine categories of segments.</em>  <em>Another category: ‚ÄúNever bought‚Äù</em> </p><br><p>  PS Here, the expressions "Outflow" and "Risk of outflow" are used as abbreviations for "Long time not buying customers" and "Customers who bought an average amount of time ago" and do not mean <em>outflow</em> in the literal sense of the word.  Similarly, ‚ÄúActive‚Äù is the designation for ‚ÄúCustomers who recently made a purchase.‚Äù </p><br><p>  In the example above, 80% of customers do not have purchases, almost a third of the high-valued ones are in outflow, another third are in the risk group. </p><br><p>  Assessing the state of the base helps to choose a category with which it is important to work first. </p><br><p>  To show how to use the report, we take high value customers, that is, customers who have spent the most money. </p><br><h3 id="chast-2-izuchenie-segmentov">  Part 2. Studying segments </h3><br><p>  In the second table of the report are displayed: the size of the segments, turnover, that is, the amount spent by all consumers in the segment, and the average bill. </p><br><p>  All customer segments are listed.  For example, here is a list of customer segments having purchases: </p><br><img alt="image" src="https://habrastorage.org/webt/7o/bu/i6/7obui6vxcws367sikyxdk53scrg.png"><br><br><p>  To display only high-value consumers, use the filter. </p><br><img alt="image" src="https://habrastorage.org/webt/hq/dq/wd/hqdqwdleefjj6vffswgyooiplaa.png"><br><br><p>  As a result of applying the filter, we get seven customer segments with high value. </p><br><img alt="image" src="https://habrastorage.org/webt/5s/7m/wy/5s7mwyqff8b_1u9lh8nkwlprpdq.png"><br><br><p>  Based on this information, various conclusions can be drawn. </p><br><p>  For example, segment 2 has a significantly higher turnover than others, with a moderate average check.  This indicates a large number of consumer purchases in this segment and their high loyalty.  Without fear of customer churn, they can send letters and tell, for example, about updates. </p><br><p>  Now let's pay attention to the average check: the segment No. 7 with the largest average check is in the outflow, and the segment No. 9 with the second largest average check is in the risk group.  Consumers from these segments are willing to buy large sums, but have not bought for a long time.  It may be worthwhile to encourage them to take action using a promotional code or an information letter. </p><br><p>  The study of segments is needed to understand which segments should be worked hard. </p><br><h3 id="chast-3-detalnaya-informaciya-po-segmentam">  Part 3. Detailed information on segments </h3><br><p>  The last table shows the boundaries of the segments for each feature (R, F, M) and the average values ‚Äã‚Äãfor them. </p><br><img alt="image" src="https://habrastorage.org/webt/vp/fv/nu/vpfvnuaah3ivgyfpqbycrdkolh8.png"><br><p>  <em>From this table it is clear that consumers from segment 2 do indeed have more purchases than others - an average of 12</em> </p><br><p>  We need to choose which segment we want to work with first.  Suppose we are interested in the segments with the largest average checks: ‚Ññ7 and ‚Ññ9.  Consider them in more detail. </p><br><p>  In the segment number 7, customers have not made a purchase for almost a year - it will not be easy to return them.  But, perhaps, it's worth a try, since on average consumers from this segment bought 2.1 times - this means that their first purchase did not disappoint.  It is likely that a good discount will help them again become actively interested in the brand. </p><br><p>  With the segment number 9 is easier - the average old purchase from customers of it is only three months, and the average number of purchases - 2.8.  Most likely, these clients are quite loyal and do not require any action towards themselves.  But you can send a letter with an advertisement or a small discount to remind you of a brand. </p><br><p>  When the segments for further actions are selected, you can run the necessary marketing campaigns. </p><br>
<h1 id="do-nastoyaschey-zelenoy-knopki-ostalos-sovsem-nemnogo">  There is very little left for the real <em>Green Button</em> . </h1><br><p>  We created an automatic RFM segmenter and were satisfied - it takes 20 seconds for a person to get the distribution of the customer base by segment. </p><br><p>  We are going to automate the setting up of marketing campaigns for the segments so that the person does not need to waste time on this. </p><br><p>  Of course, it will be a pity that no one will need our report anymore, but technical progress does not spare anyone. </p></div><p>Source: <a href="https://habr.com/ru/post/420915/">https://habr.com/ru/post/420915/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../420903/index.html">ERP implementation: how not to fail</a></li>
<li><a href="../420905/index.html">How in Russia they introduce smart lighting and how long it will take</a></li>
<li><a href="../420907/index.html">From NOKLA to Xiaomi: the evolution of Chinese mobile phones</a></li>
<li><a href="../420909/index.html">Russian TV companies accused Yandex of piracy</a></li>
<li><a href="../420913/index.html">Run the kubernetes inside the LXC</a></li>
<li><a href="../420919/index.html">Animated numbers on Android</a></li>
<li><a href="../420923/index.html">Software development meta skills</a></li>
<li><a href="../420927/index.html">"Rubber host look for Alibaba cloud": we place Elasticsearch on Alibaba Cloud facilities</a></li>
<li><a href="../420929/index.html">Run, Test, Run. We tell how was Mobile Testing Meetup</a></li>
<li><a href="../420931/index.html">How to test nuclear power plants</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>