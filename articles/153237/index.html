<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>CSS (ISO 24730-5) Measurement of distances without tape measure and wires</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In one of the previous topics, I talked about the first Russian positioning system in real time. This topic is for those who are interested, "how it w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>CSS (ISO 24730-5) Measurement of distances without tape measure and wires</h1><div class="post__text post__text-html js-mediator-article">  In one of the previous topics, I talked about the first Russian positioning system in real time.  This topic is for those who are interested, "how it works."  I‚Äôll start by measuring the distance using the radio frequency method. <br>  To determine the location of tags on the plan, RTLS Ltd uses the method of calculating the location of each tag, based on the distances measured by the mark (M) to three or more anchors (A) having a known position in space, as in the figure. <br><br><br><img src="https://habrastorage.org/storage2/b27/ac4/fee/b27ac4fee9183d50e4cd59857603ecda.jpg"><br>  Two technologies are used to measure distances, namely: <br>  <b>CSS</b> (Chirp Spread Spectrum) - use short chirp pulses and <br>  <b>SDS-TWR</b> (Symmetrical Double-Sided Two Way Ranging) is a symmetrical two-way bidirectional distance measurement. <br>  The technologies are based on measuring the propagation time of a radio signal from the transmitter to the receiver (time of flight) and comply with the international standards ISO 24730-5 and IEEE 802.15.4-2011, respectively. <br>  This topic is devoted to technology CSS. <br><a name="habracut"></a><br>  CSS technology as applied by RTLS LLC is different: <br>  1) optimum measurement accuracy for most industrial applications (one meter error at a distance of up to 30 meters with 90% confidence) indoors; <br>  2) high noise immunity; <br>  3) multi-path attenuation resistance; <br>  4) minimum label power consumption (to increase the battery life without recharging); <br>  5) the minimum cost. <br><br><h4>  <b>The structure of the positioning system RTLS</b> </h4><br>  The structural diagram is shown in the figure. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <br><img src="https://habrastorage.org/storage2/8b5/687/de0/8b5687de0b168d0698a6fdf98b5ed6d9.jpg"><br><br>  Measurement of distances in the system is carried out by tags that exchange packets with infrastructure elements via a bi-directional radio interface conforming to ISO 24730-5.  The infrastructure is connected via a software application interface (RTLS application API) to the server for managing the infrastructure, tags and the measurement process, as well as for obtaining measurement results and information about the status of tags.  The infrastructure in the RTLS system is composed of ZigBee wireless mesh network (IEEE 802.15.4) zones associated with an IP channel server.  Each ZigBee network base station has an additional radio interface for communicating with tags.  (One of the following topics will be devoted to the RTLS infrastructure). <br>  The server, in turn, has an external standard API that allows you to transfer the data received by the system to other automated systems. <br><br>  In the RTLS system, tags are not included in the network, they do not participate in data routing and translation, that is, they are exempt from everything except distance measurement and transmission of measurement results through the transport network to the server.  This allowed us to simplify the labels and reduce their energy consumption and price. <br><br>  Tags interact with the infrastructure through a bidirectional radio interface shown in the figure. <br><br><img src="https://habrastorage.org/storage2/a7b/bdf/44c/a7bbdf44cde6ca58ecf81a5b07383fa6.jpg"><br><br>  The frequency range, radio waveform, modulation, coding, packet formats, commands and other parameters are defined for this interface by the ISO 24730-5 standard.  Interface protocol stack includes: <br>  <b>PHY</b> - the physical layer, which determines the parameters of the transmission medium (working frequency, channel width, etc.); <br>  <b>MAC</b> is the medium access level that defines the encoding parameters, the packet format, and the like; <br>  <b>API</b> - an application level that defines label states and the order of their change, a list of commands and their parameters, packet exchange protocols with infrastructure elements, and so on. <br><br><h4>  <b>System operation</b> </h4><br>  At the moment of activation, the state of the label is initial, the ‚Äúdefault profile‚Äù is used.  The label periodically sends short broadcast packets - blinky.  Each blink contains the physical address of the tag, its state and information about the time when the tag will be ready to accept commands from the infrastructure. <br>  The infrastructure of the relevant teams indicates the label with which anchors and with what frequency to measure the distance, the number of measurement sessions and the address for transmitting the results.  The behavior of tags is changed by transmitting the corresponding commands by changing the state of the tags and setting the modes and parameters of measurements. <br>  If the tag does not receive the next command at a certain time, it returns to the initial state (to use the ‚Äúdefault profile‚Äù) and periodically sends blinks to restore the connection.  For more information about the states of the label, management commands and can be found in the annex to the article on the website RTLS <a href="http://www.rtlsnet.ru/technology/view/2">www.rtlsnet.ru/technology/view/2</a> . <br><br><h4>  <b>Distance Measurement Technology: Chirp Spread Spectrum (CSS)</b> </h4><br>  The CSS technology uses ‚Äúchirp‚Äù pulses (literally, chirp means chirp, and in Russian, CSS means linear-frequency modulation - chirp).  Chirp impulses - impulses of monotonously increasing or decreasing frequency.  The lower and upper chirp frequency of the pulse correspond to the limits of the frequency range defined by the standard. <br>  In nature, dolphins and bats for millions of years measure distances using Chirp impulses.  In the chirp radar, pulses were first used and patented by Professor Guttman in 1940.  Canon in the mid-1990s patented the use of chirp pulses in fiber-optic systems.  And in 1996, Nanotron Technologies began research and subsequently patented CSS for wireless data transmission. <br>  CSS is a radio frequency technology, best suited for situations where communication reliability and low power consumption are particularly important for battery-powered devices (battery-powered).  The speed of data transmission using CSS technology is average (up to 2 Mb / s). <br><br><h4>  <b>How it works</b> </h4><br>  Any CSS packet is transmitted by Chirp pulses of two types: with increasing (Upchirp) or with decreasing (Downchirp) frequency, as shown in the figures. <br><br><br><img src="https://habrastorage.org/storage2/92f/5ce/e70/92f5cee708d2ee48406604ba5063cd3c.jpg"><br><img src="https://habrastorage.org/storage2/fc4/3b5/86d/fc43b586dabe1dc8853db9d7783de223.jpg"><br><br><br>  The ISO 24730-5 standard sets the CSS with a center frequency of 2.45 GHz, a bandwidth of 80 MHz, and a fixed pulse width of 1 Œºs. <br>  In CSS technology, information is transmitted by a coded sequence of chirp pulses.  The symbol ‚Äú1‚Äù corresponds to the Upchirp impulse, to the symbol ‚Äú0‚Äù - the Downchirp impulse.  Decoding of the sequence is carried out by two complementary (complementary) dispersion delay lines (DLZ).  The coded sequence is fed to the inputs of both lines, but the DLZ parameters are selected so that the signals of different frequencies pass through the DLZ at different speeds.  In one LLL (in the picture - Up), high frequencies propagate through the delay line faster, in the second they resemble low frequencies.  As a result, the Upchirp impulse, which begins at low frequencies and ends at high frequencies, passes through DLZ Up and ‚Äúshrinks‚Äù in time.  The high-frequency end ‚Äúovertakes‚Äù the low-frequency onset and the initially uniformly distributed in time pulse energy at the output manifests itself in a short pulse, the amplitude of which turns out to be many times larger than the amplitude of the input signal.  On the contrary, Downchirp impulse, passing through DLZ Up, "eroded" in time and its amplitude decreases.  Thus, at the output of DLZ Up, pulses appear that correspond to the symbol "1".  In the second LLL (in the Down picture), low frequencies propagate faster, due to which Downchirp ‚Äúcompresses‚Äù the pulses, and at the LLL output, pulses appear that correspond to the ‚Äú0‚Äù symbol. <br><br><br><img src="https://habrastorage.org/storage2/0d8/5e9/eab/0d85e9eabe67e36586daa1da6257774f.jpg"><br><br>  In addition to decoding DLZ increase resistance to interference, as well as to broadband noise.  The bottom line is that the noise (noise), in contrast to the chirp pulses, have a constant frequency spectrum and pass through the SLP without changes.  The ‚Äúcompressed‚Äù chirp pulses in DLZ have a large amplitude compared to the initial amplitude, and are easily distinguished from the background of noise and interference. <br>  Another advantage of CSS is its resistance to multipath attenuation.  The transmitter signal in the 2.4 GHz band usually reaches the receiver in the "accompanying" several echo signals - reflections from obstacles, or even only in the form of echo signals in the absence of direct visibility.  The propagation paths of signals have different lengths, so the reflections are shifted in phase relative to the main signal.  In narrowband systems, this leads to communication failure.  CSS is different in that distorted and phase-shifted signals as a whole retain the frequency spectrum, which makes it possible to collect almost all of the energy distributed in the 80 MHz band of the original signal on the DLZ. </div><p>Source: <a href="https://habr.com/ru/post/153237/">https://habr.com/ru/post/153237/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../153223/index.html">You won‚Äôt believe how wonderful the office is at Notch</a></li>
<li><a href="../153225/index.html">How two programmers baked bread</a></li>
<li><a href="../153227/index.html">Spectacular animation of destruction (Pixel Dust) on JavaScript</a></li>
<li><a href="../153233/index.html">How to become a rich IT specialist - continued from another author</a></li>
<li><a href="../153235/index.html">Backup Academy: online courses and certification for backup virtual machines</a></li>
<li><a href="../153239/index.html">Search contacts performers on Free-lans.ru</a></li>
<li><a href="../153245/index.html">How to avoid becoming a poor IT person because of a translation error</a></li>
<li><a href="../153247/index.html">Ukrainians will receive electronic passports</a></li>
<li><a href="../153249/index.html">Publicity-privacy: a matter of respected public</a></li>
<li><a href="../153255/index.html">Methods for calculating multinomial coefficients</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>