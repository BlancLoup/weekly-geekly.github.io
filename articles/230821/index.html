<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>A bit about npm-scripts</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="If someone is not familiar with the subject area, then NPM is a node package manager (analogous to bundler / composer / easy_install / nuget) is a too...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>A bit about npm-scripts</h1><div class="post__text post__text-html js-mediator-article">  If someone is not familiar with the subject area, then <a href="http://github.com/npm/npm">NPM</a> is a node package manager (analogous to bundler / composer / easy_install / nuget) is a tool for managing dependencies in your Node.js project, which can also perform some useful functions.  It was written by <a href="https://github.com/isaacs">Isaac Schl√ºter</a> , who quite radically promoted at the beginning of his story (sending all existing Node.js projects pull requests with the addition of package.json - a dependency manifest). <br><br>  All the things below are known to many, but for some it can be a pleasant discovery, which will save some amount of typed characters. <br><a name="habracut"></a><br><h4>  pre- / post-myscript </h4><br>  Sometimes, in order to automate some routine, but with a little desire to drag N megabytes of dependencies in the form of different build tools, and in some cases under the impression of an <a href="http://substack.net/task_automation_with_npm_run">article</a> written by <a href="https://www.npmjs.org/~substack">@ substack</a> , developers can start writing in their <a href="https://www.npmjs.org/doc/misc/npm-scripts.html">npm scripts</a> long lines consisting of a list of commands and '&amp;&amp;'.  At least one of the exits can be the division of one complex command into several more simple ones.  The most remarkable is the fact that when you run your <code>npm run-script myscript</code> script <code>npm run-script myscript</code> , npm will also try to execute commands that are listed in premyscript and postmyscript before and after the execution of your script, respectively.  Thus, the 3 complex commands that previously comprised one script can simply be smashed into three scripts. <br><br>  The code that is responsible for this is pretty <a href="">simple</a> , and tries to add pre- / post- to the command name and run it if it is not a pre / post command itself and a 'restart' command, which is handled in a special way. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  npm run instead of run-script, npm i instead of npm install </h4><br>  The title, in principle, describes everything: very often, instead of ‚Äúnpm run-script‚Äù, you can see ‚Äúnpm run‚Äù, or ‚Äúnpm i‚Äù, which corresponds to the launch of the ‚Äúnpm install‚Äù command.  The code that does this is <a href="">simple</a> : using the <a href="https://github.com/isaacs/abbrev-js">abbrev-js</a> library, all the commands from the list turn into a huge dictionary, in which the keys are abbreviations of words, like: <br><pre> <code class="javascript hljs">{ <span class="hljs-attr"><span class="hljs-attr">i</span></span>: <span class="hljs-string"><span class="hljs-string">'install'</span></span>, <span class="hljs-attr"><span class="hljs-attr">in</span></span>: <span class="hljs-string"><span class="hljs-string">'install'</span></span>, <span class="hljs-attr"><span class="hljs-attr">ins</span></span>: <span class="hljs-string"><span class="hljs-string">'install'</span></span>, ...</code> </pre><br>  And runs the appropriate command. <br><br><h4>  No need to write paths for executable files in scripts </h4><br>  Sometimes npm scripts are used to run locally installed npm packages with binaries.  But often people do not know about one nice feature: npm at runtime <a href="">adds the</a> node_modules / .bin folder to the PATH variable.  That is, if you have a locally installed mocha, you do not need to write <br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">"scripts"</span></span>: { <span class="hljs-string"><span class="hljs-string">"test"</span></span>: <span class="hljs-string"><span class="hljs-string">"./node_modules/.bin/mocha"</span></span> }</code> </pre><br>  All you need to do is write <code>"test": "mocha"</code> .  A nice bonus of this is that developers for Windows will stop complaining that they do not start anything (the reason is that different separators are used along the way). <br><br><h4>  Bonus: require on module files </h4><br>  The require command, when working with module names (and not relative paths), can not only load the index.js / index.node file from the root of our module, which is set in node_modules, but also provide the ability to load an arbitrary file from inside the module (breaking any encapsulation, but sometimes it can be useful).  Therefore, you can do <code>require('module/lib/hidden-stuff')</code> . <br><br><h4>  Bonus # 2: Easter eggs in npm </h4><br>  There are a couple of <a href="">funny easter eggs</a> in the npm. </div><p>Source: <a href="https://habr.com/ru/post/230821/">https://habr.com/ru/post/230821/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../230805/index.html">PHP Programmer Job Interview Guide</a></li>
<li><a href="../230809/index.html">How GIL works in Ruby. Part 3. Does GIL make your code thread safe?</a></li>
<li><a href="../230811/index.html">Tablet Acer Iconia W4: a small assistant under the yoke of large Windows</a></li>
<li><a href="../230815/index.html">Microsoft will combine different versions of Windows into a single system.</a></li>
<li><a href="../230819/index.html">First exoplanet name contest</a></li>
<li><a href="../230823/index.html">FIAS or KLADR: choose the directory of addresses</a></li>
<li><a href="../230825/index.html">"Roscosmos" is going to create a lunar orbital station visited on the basis of the module for the ISS</a></li>
<li><a href="../230827/index.html">Why should you load your mind into a supercomputer?</a></li>
<li><a href="../230829/index.html">Generation of large cards in a remake of the game "Caesar III (c)"</a></li>
<li><a href="../230831/index.html">NPM 2.0.0 & passing arguments to run-script</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>