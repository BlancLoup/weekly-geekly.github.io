<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>jQuery from the inside - parsing html</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We continue the work of the first article and try to figure out what jQuery does for us when we create DOM elements using this library. 

 In the last...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>jQuery from the inside - parsing html</h1><div class="post__text post__text-html js-mediator-article">  We continue the work of the <a href="http://habrahabr.ru/post/164433/">first article</a> and try to figure out what jQuery does for us when we create DOM elements using this library. <br><br>  In the last issue, we mentioned that when passing to jQuery instead of the html string selector, based on it <a href="">, the parseHTML function</a> will create the corresponding elements and return them in the usual jQuery object.  Now we will look at all this more carefully and touch on, except core.js, also manipulation.js and attributes.js (briefly). <br><a name="habracut"></a><br><h4>  Start simple </h4><br>  jQuery <a href="">determines</a> that instead of the selector, the html string is passed by the first and last character (the ‚Äúless‚Äù and ‚Äúmore‚Äù signs, opening and closing tags) or, if the first check failed, by the special regular <code>/^(?:[^#&lt;]*(&lt;[\w\W]+&gt;)[^&gt;]*$|#([\w\-]*)$)/</code> . <br><br>  <b>ATTENTION</b> : starting from version 1.9, the check will consist only in spying on the first character of the line, it should be ‚Äúless than‚Äù.  At least that's what <a href="http://blog.jquery.com/2012/12/17/jquery-1-9-beta-1-released">they wrote in the blog</a> .  In this case, the string " <code><a href=""></a> <code>test"      html,  jQuery    ,  . <br> <br> -  ,          - ,         context.createElement( [tagName] )</code> ,              : <br> <code class="javascript">$('&lt;div&gt;') $('&lt;div /&gt;') $('&lt;div&gt;&lt;/div&gt;') $(document.createElement('div'))</code> <br>       ,      ,      <a href="http://api.jquery.com/attr/">jQuery.attr</a> ,      ,    .  , ,    -   . <br> <br>     <br>    jQuery     ,       ,  core.js ",  !"    <a href="">buildFragment</a>  manipulation.js,     .  -   ,      DOM-,        . <br> <br>  <br> <b></b>    1.9     ,    .          -  ,         ,   1.9          . <br> <br>     html-  ,        .   ,      document,   html   512 ,    <code>script</code> , <code>object</code> , <code>embed</code> , <code>option</code>  <code>style</code>   <a href=""> - </a> ( ,    Webkit'    ,     checked,      ). ,   ,    <a href=""> fragments</a> ,        -     html,     . <br> <br>      -    <code>jQuery.fragments</code> <b>  </b> !   ,           -  ,  .   ,     -     . <br> <br>     -        : <br> <code class="javascript">var users = { 5: '', 6: '', 10: '' }; $.each(users, function(id, name) { $('&lt;span id="user' + id + '" title=" ' + name + '"&gt;' + name + '&lt;/span&gt;') .appendTo(document.body); } );</code> <br>          .          ,     javascript-      .      <code>jQuery.fragments</code> : <br> <code class="javascript">&gt; jQuery.fragments Object { &lt;span id="user5" title=" "&gt;&lt;/span&gt;: false &lt;span id="user6" title=" "&gt;&lt;/span&gt;: false &lt;span id="user10" title=" "&gt;&lt;/span&gt;: false }</code> <br>  span',     <code>jQuery.fragments</code> . <code>false</code>   -   ,    ,        ,    -  <code>false</code>    .   -  , .     -       . <br> <br>    -              <code>jQuery.fragments</code> .    , ,  , , ,     . <br> <br> <img src="http://habrastorage.org/storage2/70f/d8d/8e6/70fd8d8e6d2feb6194ea9e5f8c0446be.png"> <br> <br>     ,  ,    .        : <br> <code class="javascript">//   ! $.each(users, function(id, name) { $('&lt;span&gt;', { 'id': 'user' + id, 'title': ' ' + name, 'text': name // &lt;-         ;) } ).appendTo(document.body); } );</code> (    DOM-             ,    <a href="https://habrahabr.ru/users/eforce/" class="user_link">eforce</a> ,      ,  ) <br> <br> <code>jQuery.fragments</code>      ,        <code>document.createElement('span')</code> ,       title,   -  . <br> <br>           ,         <code>jQuery.fragments</code> ,        -    ,     .         <code>span</code>  - ,   "user",         <code><a href=""></a> <a href="https://developer.mozilla.org/en-US/docs/DOM/DocumentFragment"></a> <a href=""></a> <code>$(''),     - .  . <br> <br> ,     .       ,    DocumentFragment        clean,         html-. <br> <br> safeFragment <br>          -, safeFragment</code> ,    .   IE        html5- (. <a href="http://bugs.jquery.com/ticket/6485"></a> ,  ). <br> <br>   <br>  <code>safeFragment</code>   ,   jQuery     <code>innerHTML</code>   html- <br> <br>   jQuery  ,       - .   <a href="">    </a>      <a href="">wrapMap</a> .   - ? ,        <code>innerHTML</code>  <code><code>,  , !</code> : <br> <code class="javascript">var k = document.createElement('div'); k.innerHTML = '&lt;td&gt;!&lt;/td&gt;' &gt; k &lt;div&gt;‚Äã!‚Äã&lt;/div&gt;‚Äã</code> <br>    <code>!</code> ,    <code>!</code> ,              3 ,    <code><code><code> ,     safeFrag</code>   . <br> <br>         IE - <a href=""></a>   tbody    <a href=""></a>       . <br> <br> , ,   <a href="">  </a>       <code>childNodes</code>     <code>safeFrag</code> . <br> <br> <a href=""></a>           ,     (  , . )      <code>parseHTML</code> , !         (   ),   . <br> <br>  ? <br> , .     <code>clean</code> ,   ,      (      jQuery )         ,       ,      ,      . ,           <code><a href="http://habrahabr.ru/post/164433/" rel="prev"></a> <a href="http://habrahabr.ru/post/164677/" rel="next"></a> <a href="http://habrahabr.ru/post/164805/"></a> ,        . ?    . <br> <br>  <br> ,  ?  , .   ! ,       ,   -  :) <br> <br>  , ,   -    . <br> <br>        ,   . <br> <br>    <br>   html   DOM , , </code></code></code></code></code></code> <pre> <code class="hljs erlang-repl"><a href=""></a> <code>test<span class="hljs-string"><span class="hljs-string">"      html,  jQuery    ,  . </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><br><span class="hljs-string"><span class="hljs-string"> -  ,          - ,         context.createElement( [tagName] )</span></span></code><span class="hljs-string"><span class="hljs-string"> ,              : </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><code class="javascript"><span class="hljs-string"><span class="hljs-string">$('&lt;div&gt;') $('&lt;div /&gt;') $('&lt;div&gt;&lt;/div&gt;') $(document.createElement('div'))</span></span></code><span class="hljs-string"><span class="hljs-string"> </span></span><br><span class="hljs-string"><span class="hljs-string">       ,      ,      </span></span><a href="http://api.jquery.com/attr/"><span class="hljs-string"><span class="hljs-string">jQuery.attr</span></span></a><span class="hljs-string"><span class="hljs-string"> ,      ,    .  , ,    -   . </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><br><span class="hljs-string"><span class="hljs-string">     </span></span><br><span class="hljs-string"><span class="hljs-string">    jQuery     ,       ,  core.js "</span></span>,  !<span class="hljs-string"><span class="hljs-string">"    </span></span><a href=""><span class="hljs-string"><span class="hljs-string">buildFragment</span></span></a><span class="hljs-string"><span class="hljs-string">  manipulation.js,     .  -   ,      DOM-,        . </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><br><span class="hljs-string"><span class="hljs-string">  </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><b><span class="hljs-string"><span class="hljs-string"></span></span></b><span class="hljs-string"><span class="hljs-string">    1.9     ,    .          -  ,         ,   1.9          . </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><br><span class="hljs-string"><span class="hljs-string">     html-  ,        .   ,      document,   html   512 ,    </span></span><code><span class="hljs-string"><span class="hljs-string">script</span></span></code><span class="hljs-string"><span class="hljs-string"> , </span></span><code><span class="hljs-string"><span class="hljs-string">object</span></span></code><span class="hljs-string"><span class="hljs-string"> , </span></span><code><span class="hljs-string"><span class="hljs-string">embed</span></span></code><span class="hljs-string"><span class="hljs-string"> , </span></span><code><span class="hljs-string"><span class="hljs-string">option</span></span></code><span class="hljs-string"><span class="hljs-string">  </span></span><code><span class="hljs-string"><span class="hljs-string">style</span></span></code><span class="hljs-string"><span class="hljs-string">   </span></span><a href=""><span class="hljs-string"><span class="hljs-string"> - </span></span></a><span class="hljs-string"><span class="hljs-string"> ( ,    Webkit'    ,     checked,      ). ,   ,    </span></span><a href=""><span class="hljs-string"><span class="hljs-string"> fragments</span></span></a><span class="hljs-string"><span class="hljs-string"> ,        -     html,     . </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><br><span class="hljs-string"><span class="hljs-string">      -    </span></span><code><span class="hljs-string"><span class="hljs-string">jQuery.fragments</span></span></code><span class="hljs-string"><span class="hljs-string"> </span></span><b><span class="hljs-string"><span class="hljs-string">  </span></span></b><span class="hljs-string"><span class="hljs-string"> !   ,           -  ,  .   ,     -     . </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><br><span class="hljs-string"><span class="hljs-string">     -        : </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><code class="javascript"><span class="hljs-string"><span class="hljs-string">var users = { 5: '', 6: '', 10: '' }; $.each(users, function(id, name) { $('&lt;span id="</span></span>user' + id + <span class="hljs-string"><span class="hljs-string">'" title=" '</span></span> + name + <span class="hljs-string"><span class="hljs-string">'"&gt;'</span></span> + name + <span class="hljs-string"><span class="hljs-string">'&lt;/span&gt;'</span></span>) .appendTo(document.body); } );</code> <br>          .          ,     javascript-      .      <code>jQuery.fragments</code> : <br> <code class="javascript">&gt; jQuery.fragments Object { &lt;span id=<span class="hljs-string"><span class="hljs-string">"user5"</span></span> title=<span class="hljs-string"><span class="hljs-string">" "</span></span>&gt;&lt;/span&gt;: false &lt;span id=<span class="hljs-string"><span class="hljs-string">"user6"</span></span> title=<span class="hljs-string"><span class="hljs-string">" "</span></span>&gt;&lt;/span&gt;: false &lt;span id=<span class="hljs-string"><span class="hljs-string">"user10"</span></span> title=<span class="hljs-string"><span class="hljs-string">" "</span></span>&gt;&lt;/span&gt;: false }</code> <br>  span',     <code>jQuery.fragments</code> . <code>false</code>   -   ,    ,        ,    -  <code>false</code>    .   -  , .     -       . <br> <br>    -              <code>jQuery.fragments</code> .    , ,  , , ,     . <br> <br> <img src="http://habrastorage.org/storage2/70f/d8d/8e6/70fd8d8e6d2feb6194ea9e5f8c0446be.png"> <br> <br>     ,  ,    .        : <br> <code class="javascript">//   ! $.each(users, function(id, name) { $(<span class="hljs-string"><span class="hljs-string">'&lt;span&gt;'</span></span>, { <span class="hljs-string"><span class="hljs-string">'id'</span></span>: <span class="hljs-string"><span class="hljs-string">'user'</span></span> + id, <span class="hljs-string"><span class="hljs-string">'title'</span></span>: <span class="hljs-string"><span class="hljs-string">' '</span></span> + name, <span class="hljs-string"><span class="hljs-string">'text'</span></span>: name // &lt;-         ;) } ).appendTo(document.body); } );</code> (    DOM-             ,    <a href="https://habrahabr.ru/users/eforce/" class="user_link">eforce</a> ,      ,  ) <br> <br> <code>jQuery.fragments</code>      ,        <code>document.createElement(<span class="hljs-string"><span class="hljs-string">'span'</span></span>)</code> ,       title,   -  . <br> <br>           ,         <code>jQuery.fragments</code> ,        -    ,     .         <code>span</code>  - ,   <span class="hljs-string"><span class="hljs-string">"user"</span></span>,         <code><a href=""></a> <a href="https://developer.mozilla.org/en-US/docs/DOM/DocumentFragment"></a> <a href=""></a> <code>$(<span class="hljs-string"><span class="hljs-string">''</span></span>),     - .  . <br> <br> ,     .       ,    DocumentFragment        clean,         html-. <br> <br> safeFragment <br>          -, safeFragment</code> ,    .   IE        html5- (. <a href="http://bugs.jquery.com/ticket/6485"></a> ,  ). <br> <br>   <br>  <code>safeFragment</code>   ,   jQuery     <code>innerHTML</code>   html- <br> <br>   jQuery  ,       - .   <a href="">    </a>      <a href="">wrapMap</a> .   - ? ,        <code>innerHTML</code>  <code><code>,  , !</code> : <br> <code class="javascript">var k = document.createElement(<span class="hljs-string"><span class="hljs-string">'div'</span></span>); k.innerHTML = <span class="hljs-string"><span class="hljs-string">'&lt;td&gt;!&lt;/td&gt;'</span></span> &gt; k &lt;div&gt;‚Äã!‚Äã&lt;/div&gt;‚Äã</code> <br>    <code>!</code> ,    <code>!</code> ,              <span class="hljs-number"><span class="hljs-number">3</span></span> ,    <code><code><code> ,     safeFrag</code>   . <br> <br>         IE - <a href=""></a>   tbody    <a href=""></a>       . <br> <br> , ,   <a href="">  </a>       <code>childNodes</code>     <code>safeFrag</code> . <br> <br> <a href=""></a>           ,     (  , . )      <code>parseHTML</code> , !         (   ),   . <br> <br>  ? <br> , .     <code>clean</code> ,   ,      (      jQuery )         ,       ,      ,      . ,           <code><a href="http://habrahabr.ru/post/164433/" rel="prev"></a> <a href="http://habrahabr.ru/post/164677/" rel="next"></a> <a href="http://habrahabr.ru/post/164805/"></a> ,        . ?    . <br> <br>  <br> ,  ?  , .   ! ,       ,   -  :) <br> <br>  , ,   -    . <br> <br>        ,   . <br> <br>    <br>   html   DOM , , </code></code></code></code></code></code> </pre> <code><a href=""></a> <code>test"      html,  jQuery    ,  . <br> <br> -  ,          - ,         context.createElement( [tagName] )</code> ,              : <br> <code class="javascript">$('&lt;div&gt;') $('&lt;div /&gt;') $('&lt;div&gt;&lt;/div&gt;') $(document.createElement('div'))</code> <br>       ,      ,      <a href="http://api.jquery.com/attr/">jQuery.attr</a> ,      ,    .  , ,    -   . <br> <br>     <br>    jQuery     ,       ,  core.js ",  !"    <a href="">buildFragment</a>  manipulation.js,     .  -   ,      DOM-,        . <br> <br>  <br> <b></b>    1.9     ,    .          -  ,         ,   1.9          . <br> <br>     html-  ,        .   ,      document,   html   512 ,    <code>script</code> , <code>object</code> , <code>embed</code> , <code>option</code>  <code>style</code>   <a href=""> - </a> ( ,    Webkit'    ,     checked,      ). ,   ,    <a href=""> fragments</a> ,        -     html,     . <br> <br>      -    <code>jQuery.fragments</code> <b>  </b> !   ,           -  ,  .   ,     -     . <br> <br>     -        : <br> <code class="javascript">var users = { 5: '', 6: '', 10: '' }; $.each(users, function(id, name) { $('&lt;span id="user' + id + '" title=" ' + name + '"&gt;' + name + '&lt;/span&gt;') .appendTo(document.body); } );</code> <br>          .          ,     javascript-      .      <code>jQuery.fragments</code> : <br> <code class="javascript">&gt; jQuery.fragments Object { &lt;span id="user5" title=" "&gt;&lt;/span&gt;: false &lt;span id="user6" title=" "&gt;&lt;/span&gt;: false &lt;span id="user10" title=" "&gt;&lt;/span&gt;: false }</code> <br>  span',     <code>jQuery.fragments</code> . <code>false</code>   -   ,    ,        ,    -  <code>false</code>    .   -  , .     -       . <br> <br>    -              <code>jQuery.fragments</code> .    , ,  , , ,     . <br> <br> <img src="http://habrastorage.org/storage2/70f/d8d/8e6/70fd8d8e6d2feb6194ea9e5f8c0446be.png"> <br> <br>     ,  ,    .        : <br> <code class="javascript">//   ! $.each(users, function(id, name) { $('&lt;span&gt;', { 'id': 'user' + id, 'title': ' ' + name, 'text': name // &lt;-         ;) } ).appendTo(document.body); } );</code> (    DOM-             ,    <a href="https://habrahabr.ru/users/eforce/" class="user_link">eforce</a> ,      ,  ) <br> <br> <code>jQuery.fragments</code>      ,        <code>document.createElement('span')</code> ,       title,   -  . <br> <br>           ,         <code>jQuery.fragments</code> ,        -    ,     .         <code>span</code>  - ,   "user",         <code><a href=""></a> <a href="https://developer.mozilla.org/en-US/docs/DOM/DocumentFragment"></a> <a href=""></a> <code>$(''),     - .  . <br> <br> ,     .       ,    DocumentFragment        clean,         html-. <br> <br> safeFragment <br>          -, safeFragment</code> ,    .   IE        html5- (. <a href="http://bugs.jquery.com/ticket/6485"></a> ,  ). <br> <br>   <br>  <code>safeFragment</code>   ,   jQuery     <code>innerHTML</code>   html- <br> <br>   jQuery  ,       - .   <a href="">    </a>      <a href="">wrapMap</a> .   - ? ,        <code>innerHTML</code>  <code><code>,  , !</code> : <br> <code class="javascript">var k = document.createElement('div'); k.innerHTML = '&lt;td&gt;!&lt;/td&gt;' &gt; k &lt;div&gt;‚Äã!‚Äã&lt;/div&gt;‚Äã</code> <br>    <code>!</code> ,    <code>!</code> ,              3 ,    <code><code><code> ,     safeFrag</code>   . <br> <br>         IE - <a href=""></a>   tbody    <a href=""></a>       . <br> <br> , ,   <a href="">  </a>       <code>childNodes</code>     <code>safeFrag</code> . <br> <br> <a href=""></a>           ,     (  , . )      <code>parseHTML</code> , !         (   ),   . <br> <br>  ? <br> , .     <code>clean</code> ,   ,      (      jQuery )         ,       ,      ,      . ,           <code><a href="http://habrahabr.ru/post/164433/" rel="prev"></a> <a href="http://habrahabr.ru/post/164677/" rel="next"></a> <a href="http://habrahabr.ru/post/164805/"></a> ,        . ?    . <br> <br>  <br> ,  ?  , .   ! ,       ,   -  :) <br> <br>  , ,   -    . <br> <br>        ,   . <br> <br>    <br>   html   DOM , , </code></code></code></code></code></code> <h4> <code><a href=""></a> <code>test"      html,  jQuery    ,  . <br> <br> -  ,          - ,         context.createElement( [tagName] )</code> ,              : <br> <code class="javascript">$('&lt;div&gt;') $('&lt;div /&gt;') $('&lt;div&gt;&lt;/div&gt;') $(document.createElement('div'))</code> <br>       ,      ,      <a href="http://api.jquery.com/attr/">jQuery.attr</a> ,      ,    .  , ,    -   . <br> <br>     <br>    jQuery     ,       ,  core.js ",  !"    <a href="">buildFragment</a>  manipulation.js,     .  -   ,      DOM-,        . <br> <br>  <br> <b></b>    1.9     ,    .          -  ,         ,   1.9          . <br> <br>     html-  ,        .   ,      document,   html   512 ,    <code>script</code> , <code>object</code> , <code>embed</code> , <code>option</code>  <code>style</code>   <a href=""> - </a> ( ,    Webkit'    ,     checked,      ). ,   ,    <a href=""> fragments</a> ,        -     html,     . <br> <br>      -    <code>jQuery.fragments</code> <b>  </b> !   ,           -  ,  .   ,     -     . <br> <br>     -        : <br> <code class="javascript">var users = { 5: '', 6: '', 10: '' }; $.each(users, function(id, name) { $('&lt;span id="user' + id + '" title=" ' + name + '"&gt;' + name + '&lt;/span&gt;') .appendTo(document.body); } );</code> <br>          .          ,     javascript-      .      <code>jQuery.fragments</code> : <br> <code class="javascript">&gt; jQuery.fragments Object { &lt;span id="user5" title=" "&gt;&lt;/span&gt;: false &lt;span id="user6" title=" "&gt;&lt;/span&gt;: false &lt;span id="user10" title=" "&gt;&lt;/span&gt;: false }</code> <br>  span',     <code>jQuery.fragments</code> . <code>false</code>   -   ,    ,        ,    -  <code>false</code>    .   -  , .     -       . <br> <br>    -              <code>jQuery.fragments</code> .    , ,  , , ,     . <br> <br> <img src="http://habrastorage.org/storage2/70f/d8d/8e6/70fd8d8e6d2feb6194ea9e5f8c0446be.png"> <br> <br>     ,  ,    .        : <br> <code class="javascript">//   ! $.each(users, function(id, name) { $('&lt;span&gt;', { 'id': 'user' + id, 'title': ' ' + name, 'text': name // &lt;-         ;) } ).appendTo(document.body); } );</code> (    DOM-             ,    <a href="https://habrahabr.ru/users/eforce/" class="user_link">eforce</a> ,      ,  ) <br> <br> <code>jQuery.fragments</code>      ,        <code>document.createElement('span')</code> ,       title,   -  . <br> <br>           ,         <code>jQuery.fragments</code> ,        -    ,     .         <code>span</code>  - ,   "user",         <code><a href=""></a> <a href="https://developer.mozilla.org/en-US/docs/DOM/DocumentFragment"></a> <a href=""></a> <code>$(''),     - .  . <br> <br> ,     .       ,    DocumentFragment        clean,         html-. <br> <br> safeFragment <br>          -, safeFragment</code> ,    .   IE        html5- (. <a href="http://bugs.jquery.com/ticket/6485"></a> ,  ). <br> <br>   <br>  <code>safeFragment</code>   ,   jQuery     <code>innerHTML</code>   html- <br> <br>   jQuery  ,       - .   <a href="">    </a>      <a href="">wrapMap</a> .   - ? ,        <code>innerHTML</code>  <code><code>,  , !</code> : <br> <code class="javascript">var k = document.createElement('div'); k.innerHTML = '&lt;td&gt;!&lt;/td&gt;' &gt; k &lt;div&gt;‚Äã!‚Äã&lt;/div&gt;‚Äã</code> <br>    <code>!</code> ,    <code>!</code> ,              3 ,    <code><code><code> ,     safeFrag</code>   . <br> <br>         IE - <a href=""></a>   tbody    <a href=""></a>       . <br> <br> , ,   <a href="">  </a>       <code>childNodes</code>     <code>safeFrag</code> . <br> <br> <a href=""></a>           ,     (  , . )      <code>parseHTML</code> , !         (   ),   . <br> <br>  ? <br> , .     <code>clean</code> ,   ,      (      jQuery )         ,       ,      ,      . ,           <code><a href="http://habrahabr.ru/post/164433/" rel="prev"></a> <a href="http://habrahabr.ru/post/164677/" rel="next"></a> <a href="http://habrahabr.ru/post/164805/"></a> ,        . ?    . <br> <br>  <br> ,  ?  , .   ! ,       ,   -  :) <br> <br>  , ,   -    . <br> <br>        ,   . <br> <br>    <br>   html   DOM , , </code></code></code></code></code></code> </h4> <code><a href=""></a> <code>test"      html,  jQuery    ,  . <br> <br> -  ,          - ,         context.createElement( [tagName] )</code> ,              : <br> <code class="javascript">$('&lt;div&gt;') $('&lt;div /&gt;') $('&lt;div&gt;&lt;/div&gt;') $(document.createElement('div'))</code> <br>       ,      ,      <a href="http://api.jquery.com/attr/">jQuery.attr</a> ,      ,    .  , ,    -   . <br> <br>     <br>    jQuery     ,       ,  core.js ",  !"    <a href="">buildFragment</a>  manipulation.js,     .  -   ,      DOM-,        . <br> <br>  <br> <b></b>    1.9     ,    .          -  ,         ,   1.9          . <br> <br>     html-  ,        .   ,      document,   html   512 ,    <code>script</code> , <code>object</code> , <code>embed</code> , <code>option</code>  <code>style</code>   <a href=""> - </a> ( ,    Webkit'    ,     checked,      ). ,   ,    <a href=""> fragments</a> ,        -     html,     . <br> <br>      -    <code>jQuery.fragments</code> <b>  </b> !   ,           -  ,  .   ,     -     . <br> <br>     -        : <br> <code class="javascript">var users = { 5: '', 6: '', 10: '' }; $.each(users, function(id, name) { $('&lt;span id="user' + id + '" title=" ' + name + '"&gt;' + name + '&lt;/span&gt;') .appendTo(document.body); } );</code> <br>          .          ,     javascript-      .      <code>jQuery.fragments</code> : <br> <code class="javascript">&gt; jQuery.fragments Object { &lt;span id="user5" title=" "&gt;&lt;/span&gt;: false &lt;span id="user6" title=" "&gt;&lt;/span&gt;: false &lt;span id="user10" title=" "&gt;&lt;/span&gt;: false }</code> <br>  span',     <code>jQuery.fragments</code> . <code>false</code>   -   ,    ,        ,    -  <code>false</code>    .   -  , .     -       . <br> <br>    -              <code>jQuery.fragments</code> .    , ,  , , ,     . <br> <br> <img src="http://habrastorage.org/storage2/70f/d8d/8e6/70fd8d8e6d2feb6194ea9e5f8c0446be.png"> <br> <br>     ,  ,    .        : <br> <code class="javascript">//   ! $.each(users, function(id, name) { $('&lt;span&gt;', { 'id': 'user' + id, 'title': ' ' + name, 'text': name // &lt;-         ;) } ).appendTo(document.body); } );</code> (    DOM-             ,    <a href="https://habrahabr.ru/users/eforce/" class="user_link">eforce</a> ,      ,  ) <br> <br> <code>jQuery.fragments</code>      ,        <code>document.createElement('span')</code> ,       title,   -  . <br> <br>           ,         <code>jQuery.fragments</code> ,        -    ,     .         <code>span</code>  - ,   "user",         <code><a href=""></a> <a href="https://developer.mozilla.org/en-US/docs/DOM/DocumentFragment"></a> <a href=""></a> <code>$(''),     - .  . <br> <br> ,     .       ,    DocumentFragment        clean,         html-. <br> <br> safeFragment <br>          -, safeFragment</code> ,    .   IE        html5- (. <a href="http://bugs.jquery.com/ticket/6485"></a> ,  ). <br> <br>   <br>  <code>safeFragment</code>   ,   jQuery     <code>innerHTML</code>   html- <br> <br>   jQuery  ,       - .   <a href="">    </a>      <a href="">wrapMap</a> .   - ? ,        <code>innerHTML</code>  <code><code>,  , !</code> : <br> <code class="javascript">var k = document.createElement('div'); k.innerHTML = '&lt;td&gt;!&lt;/td&gt;' &gt; k &lt;div&gt;‚Äã!‚Äã&lt;/div&gt;‚Äã</code> <br>    <code>!</code> ,    <code>!</code> ,              3 ,    <code><code><code> ,     safeFrag</code>   . <br> <br>         IE - <a href=""></a>   tbody    <a href=""></a>       . <br> <br> , ,   <a href="">  </a>       <code>childNodes</code>     <code>safeFrag</code> . <br> <br> <a href=""></a>           ,     (  , . )      <code>parseHTML</code> , !         (   ),   . <br> <br>  ? <br> , .     <code>clean</code> ,   ,      (      jQuery )         ,       ,      ,      . ,           <code><a href="http://habrahabr.ru/post/164433/" rel="prev"></a> <a href="http://habrahabr.ru/post/164677/" rel="next"></a> <a href="http://habrahabr.ru/post/164805/"></a> ,        . ?    . <br> <br>  <br> ,  ?  , .   ! ,       ,   -  :) <br> <br>  , ,   -    . <br> <br>        ,   . <br> <br>    <br>   html   DOM , , </code></code></code></code></code></code> <h5> <code><a href=""></a> <code>test"      html,  jQuery    ,  . <br> <br> -  ,          - ,         context.createElement( [tagName] )</code> ,              : <br> <code class="javascript">$('&lt;div&gt;') $('&lt;div /&gt;') $('&lt;div&gt;&lt;/div&gt;') $(document.createElement('div'))</code> <br>       ,      ,      <a href="http://api.jquery.com/attr/">jQuery.attr</a> ,      ,    .  , ,    -   . <br> <br>     <br>    jQuery     ,       ,  core.js ",  !"    <a href="">buildFragment</a>  manipulation.js,     .  -   ,      DOM-,        . <br> <br>  <br> <b></b>    1.9     ,    .          -  ,         ,   1.9          . <br> <br>     html-  ,        .   ,      document,   html   512 ,    <code>script</code> , <code>object</code> , <code>embed</code> , <code>option</code>  <code>style</code>   <a href=""> - </a> ( ,    Webkit'    ,     checked,      ). ,   ,    <a href=""> fragments</a> ,        -     html,     . <br> <br>      -    <code>jQuery.fragments</code> <b>  </b> !   ,           -  ,  .   ,     -     . <br> <br>     -        : <br> <code class="javascript">var users = { 5: '', 6: '', 10: '' }; $.each(users, function(id, name) { $('&lt;span id="user' + id + '" title=" ' + name + '"&gt;' + name + '&lt;/span&gt;') .appendTo(document.body); } );</code> <br>          .          ,     javascript-      .      <code>jQuery.fragments</code> : <br> <code class="javascript">&gt; jQuery.fragments Object { &lt;span id="user5" title=" "&gt;&lt;/span&gt;: false &lt;span id="user6" title=" "&gt;&lt;/span&gt;: false &lt;span id="user10" title=" "&gt;&lt;/span&gt;: false }</code> <br>  span',     <code>jQuery.fragments</code> . <code>false</code>   -   ,    ,        ,    -  <code>false</code>    .   -  , .     -       . <br> <br>    -              <code>jQuery.fragments</code> .    , ,  , , ,     . <br> <br> <img src="http://habrastorage.org/storage2/70f/d8d/8e6/70fd8d8e6d2feb6194ea9e5f8c0446be.png"> <br> <br>     ,  ,    .        : <br> <code class="javascript">//   ! $.each(users, function(id, name) { $('&lt;span&gt;', { 'id': 'user' + id, 'title': ' ' + name, 'text': name // &lt;-         ;) } ).appendTo(document.body); } );</code> (    DOM-             ,    <a href="https://habrahabr.ru/users/eforce/" class="user_link">eforce</a> ,      ,  ) <br> <br> <code>jQuery.fragments</code>      ,        <code>document.createElement('span')</code> ,       title,   -  . <br> <br>           ,         <code>jQuery.fragments</code> ,        -    ,     .         <code>span</code>  - ,   "user",         <code><a href=""></a> <a href="https://developer.mozilla.org/en-US/docs/DOM/DocumentFragment"></a> <a href=""></a> <code>$(''),     - .  . <br> <br> ,     .       ,    DocumentFragment        clean,         html-. <br> <br> safeFragment <br>          -, safeFragment</code> ,    .   IE        html5- (. <a href="http://bugs.jquery.com/ticket/6485"></a> ,  ). <br> <br>   <br>  <code>safeFragment</code>   ,   jQuery     <code>innerHTML</code>   html- <br> <br>   jQuery  ,       - .   <a href="">    </a>      <a href="">wrapMap</a> .   - ? ,        <code>innerHTML</code>  <code><code>,  , !</code> : <br> <code class="javascript">var k = document.createElement('div'); k.innerHTML = '&lt;td&gt;!&lt;/td&gt;' &gt; k &lt;div&gt;‚Äã!‚Äã&lt;/div&gt;‚Äã</code> <br>    <code>!</code> ,    <code>!</code> ,              3 ,    <code><code><code> ,     safeFrag</code>   . <br> <br>         IE - <a href=""></a>   tbody    <a href=""></a>       . <br> <br> , ,   <a href="">  </a>       <code>childNodes</code>     <code>safeFrag</code> . <br> <br> <a href=""></a>           ,     (  , . )      <code>parseHTML</code> , !         (   ),   . <br> <br>  ? <br> , .     <code>clean</code> ,   ,      (      jQuery )         ,       ,      ,      . ,           <code><a href="http://habrahabr.ru/post/164433/" rel="prev"></a> <a href="http://habrahabr.ru/post/164677/" rel="next"></a> <a href="http://habrahabr.ru/post/164805/"></a> ,        . ?    . <br> <br>  <br> ,  ?  , .   ! ,       ,   -  :) <br> <br>  , ,   -    . <br> <br>        ,   . <br> <br>    <br>   html   DOM , , </code></code></code></code></code></code> </h5> <code><a href=""></a> <code>test"      html,  jQuery    ,  . <br> <br> -  ,          - ,         context.createElement( [tagName] )</code> ,              : <br> <code class="javascript">$('&lt;div&gt;') $('&lt;div /&gt;') $('&lt;div&gt;&lt;/div&gt;') $(document.createElement('div'))</code> <br>       ,      ,      <a href="http://api.jquery.com/attr/">jQuery.attr</a> ,      ,    .  , ,    -   . <br> <br>     <br>    jQuery     ,       ,  core.js ",  !"    <a href="">buildFragment</a>  manipulation.js,     .  -   ,      DOM-,        . <br> <br>  <br> <b></b>    1.9     ,    .          -  ,         ,   1.9          . <br> <br>     html-  ,        .   ,      document,   html   512 ,    <code>script</code> , <code>object</code> , <code>embed</code> , <code>option</code>  <code>style</code>   <a href=""> - </a> ( ,    Webkit'    ,     checked,      ). ,   ,    <a href=""> fragments</a> ,        -     html,     . <br> <br>      -    <code>jQuery.fragments</code> <b>  </b> !   ,           -  ,  .   ,     -     . <br> <br>     -        : <br> <code class="javascript">var users = { 5: '', 6: '', 10: '' }; $.each(users, function(id, name) { $('&lt;span id="user' + id + '" title=" ' + name + '"&gt;' + name + '&lt;/span&gt;') .appendTo(document.body); } );</code> <br>          .          ,     javascript-      .      <code>jQuery.fragments</code> : <br> <code class="javascript">&gt; jQuery.fragments Object { &lt;span id="user5" title=" "&gt;&lt;/span&gt;: false &lt;span id="user6" title=" "&gt;&lt;/span&gt;: false &lt;span id="user10" title=" "&gt;&lt;/span&gt;: false }</code> <br>  span',     <code>jQuery.fragments</code> . <code>false</code>   -   ,    ,        ,    -  <code>false</code>    .   -  , .     -       . <br> <br>    -              <code>jQuery.fragments</code> .    , ,  , , ,     . <br> <br> <img src="http://habrastorage.org/storage2/70f/d8d/8e6/70fd8d8e6d2feb6194ea9e5f8c0446be.png"> <br> <br>     ,  ,    .        : <br> <code class="javascript">//   ! $.each(users, function(id, name) { $('&lt;span&gt;', { 'id': 'user' + id, 'title': ' ' + name, 'text': name // &lt;-         ;) } ).appendTo(document.body); } );</code> (    DOM-             ,    <a href="https://habrahabr.ru/users/eforce/" class="user_link">eforce</a> ,      ,  ) <br> <br> <code>jQuery.fragments</code>      ,        <code>document.createElement('span')</code> ,       title,   -  . <br> <br>           ,         <code>jQuery.fragments</code> ,        -    ,     .         <code>span</code>  - ,   "user",         <code><a href=""></a> <a href="https://developer.mozilla.org/en-US/docs/DOM/DocumentFragment"></a> <a href=""></a> <code>$(''),     - .  . <br> <br> ,     .       ,    DocumentFragment        clean,         html-. <br> <br> safeFragment <br>          -, safeFragment</code> ,    .   IE        html5- (. <a href="http://bugs.jquery.com/ticket/6485"></a> ,  ). <br> <br>   <br>  <code>safeFragment</code>   ,   jQuery     <code>innerHTML</code>   html- <br> <br>   jQuery  ,       - .   <a href="">    </a>      <a href="">wrapMap</a> .   - ? ,        <code>innerHTML</code>  <code><code>,  , !</code> : <br> <code class="javascript">var k = document.createElement('div'); k.innerHTML = '&lt;td&gt;!&lt;/td&gt;' &gt; k &lt;div&gt;‚Äã!‚Äã&lt;/div&gt;‚Äã</code> <br>    <code>!</code> ,    <code>!</code> ,              3 ,    <code><code><code> ,     safeFrag</code>   . <br> <br>         IE - <a href=""></a>   tbody    <a href=""></a>       . <br> <br> , ,   <a href="">  </a>       <code>childNodes</code>     <code>safeFrag</code> . <br> <br> <a href=""></a>           ,     (  , . )      <code>parseHTML</code> , !         (   ),   . <br> <br>  ? <br> , .     <code>clean</code> ,   ,      (      jQuery )         ,       ,      ,      . ,           <code><a href="http://habrahabr.ru/post/164433/" rel="prev"></a> <a href="http://habrahabr.ru/post/164677/" rel="next"></a> <a href="http://habrahabr.ru/post/164805/"></a> ,        . ?    . <br> <br>  <br> ,  ?  , .   ! ,       ,   -  :) <br> <br>  , ,   -    . <br> <br>        ,   . <br> <br>    <br>   html   DOM , , </code></code></code></code></code></code> <pre> <code class="hljs erlang-repl"><a href=""></a> <code>test<span class="hljs-string"><span class="hljs-string">"      html,  jQuery    ,  . </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><br><span class="hljs-string"><span class="hljs-string"> -  ,          - ,         context.createElement( [tagName] )</span></span></code><span class="hljs-string"><span class="hljs-string"> ,              : </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><code class="javascript"><span class="hljs-string"><span class="hljs-string">$('&lt;div&gt;') $('&lt;div /&gt;') $('&lt;div&gt;&lt;/div&gt;') $(document.createElement('div'))</span></span></code><span class="hljs-string"><span class="hljs-string"> </span></span><br><span class="hljs-string"><span class="hljs-string">       ,      ,      </span></span><a href="http://api.jquery.com/attr/"><span class="hljs-string"><span class="hljs-string">jQuery.attr</span></span></a><span class="hljs-string"><span class="hljs-string"> ,      ,    .  , ,    -   . </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><br><span class="hljs-string"><span class="hljs-string">     </span></span><br><span class="hljs-string"><span class="hljs-string">    jQuery     ,       ,  core.js "</span></span>,  !<span class="hljs-string"><span class="hljs-string">"    </span></span><a href=""><span class="hljs-string"><span class="hljs-string">buildFragment</span></span></a><span class="hljs-string"><span class="hljs-string">  manipulation.js,     .  -   ,      DOM-,        . </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><br><span class="hljs-string"><span class="hljs-string">  </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><b><span class="hljs-string"><span class="hljs-string"></span></span></b><span class="hljs-string"><span class="hljs-string">    1.9     ,    .          -  ,         ,   1.9          . </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><br><span class="hljs-string"><span class="hljs-string">     html-  ,        .   ,      document,   html   512 ,    </span></span><code><span class="hljs-string"><span class="hljs-string">script</span></span></code><span class="hljs-string"><span class="hljs-string"> , </span></span><code><span class="hljs-string"><span class="hljs-string">object</span></span></code><span class="hljs-string"><span class="hljs-string"> , </span></span><code><span class="hljs-string"><span class="hljs-string">embed</span></span></code><span class="hljs-string"><span class="hljs-string"> , </span></span><code><span class="hljs-string"><span class="hljs-string">option</span></span></code><span class="hljs-string"><span class="hljs-string">  </span></span><code><span class="hljs-string"><span class="hljs-string">style</span></span></code><span class="hljs-string"><span class="hljs-string">   </span></span><a href=""><span class="hljs-string"><span class="hljs-string"> - </span></span></a><span class="hljs-string"><span class="hljs-string"> ( ,    Webkit'    ,     checked,      ). ,   ,    </span></span><a href=""><span class="hljs-string"><span class="hljs-string"> fragments</span></span></a><span class="hljs-string"><span class="hljs-string"> ,        -     html,     . </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><br><span class="hljs-string"><span class="hljs-string">      -    </span></span><code><span class="hljs-string"><span class="hljs-string">jQuery.fragments</span></span></code><span class="hljs-string"><span class="hljs-string"> </span></span><b><span class="hljs-string"><span class="hljs-string">  </span></span></b><span class="hljs-string"><span class="hljs-string"> !   ,           -  ,  .   ,     -     . </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><br><span class="hljs-string"><span class="hljs-string">     -        : </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><code class="javascript"><span class="hljs-string"><span class="hljs-string">var users = { 5: '', 6: '', 10: '' }; $.each(users, function(id, name) { $('&lt;span id="</span></span>user' + id + <span class="hljs-string"><span class="hljs-string">'" title=" '</span></span> + name + <span class="hljs-string"><span class="hljs-string">'"&gt;'</span></span> + name + <span class="hljs-string"><span class="hljs-string">'&lt;/span&gt;'</span></span>) .appendTo(document.body); } );</code> <br>          .          ,     javascript-      .      <code>jQuery.fragments</code> : <br> <code class="javascript">&gt; jQuery.fragments Object { &lt;span id=<span class="hljs-string"><span class="hljs-string">"user5"</span></span> title=<span class="hljs-string"><span class="hljs-string">" "</span></span>&gt;&lt;/span&gt;: false &lt;span id=<span class="hljs-string"><span class="hljs-string">"user6"</span></span> title=<span class="hljs-string"><span class="hljs-string">" "</span></span>&gt;&lt;/span&gt;: false &lt;span id=<span class="hljs-string"><span class="hljs-string">"user10"</span></span> title=<span class="hljs-string"><span class="hljs-string">" "</span></span>&gt;&lt;/span&gt;: false }</code> <br>  span',     <code>jQuery.fragments</code> . <code>false</code>   -   ,    ,        ,    -  <code>false</code>    .   -  , .     -       . <br> <br>    -              <code>jQuery.fragments</code> .    , ,  , , ,     . <br> <br> <img src="http://habrastorage.org/storage2/70f/d8d/8e6/70fd8d8e6d2feb6194ea9e5f8c0446be.png"> <br> <br>     ,  ,    .        : <br> <code class="javascript">//   ! $.each(users, function(id, name) { $(<span class="hljs-string"><span class="hljs-string">'&lt;span&gt;'</span></span>, { <span class="hljs-string"><span class="hljs-string">'id'</span></span>: <span class="hljs-string"><span class="hljs-string">'user'</span></span> + id, <span class="hljs-string"><span class="hljs-string">'title'</span></span>: <span class="hljs-string"><span class="hljs-string">' '</span></span> + name, <span class="hljs-string"><span class="hljs-string">'text'</span></span>: name // &lt;-         ;) } ).appendTo(document.body); } );</code> (    DOM-             ,    <a href="https://habrahabr.ru/users/eforce/" class="user_link">eforce</a> ,      ,  ) <br> <br> <code>jQuery.fragments</code>      ,        <code>document.createElement(<span class="hljs-string"><span class="hljs-string">'span'</span></span>)</code> ,       title,   -  . <br> <br>           ,         <code>jQuery.fragments</code> ,        -    ,     .         <code>span</code>  - ,   <span class="hljs-string"><span class="hljs-string">"user"</span></span>,         <code><a href=""></a> <a href="https://developer.mozilla.org/en-US/docs/DOM/DocumentFragment"></a> <a href=""></a> <code>$(<span class="hljs-string"><span class="hljs-string">''</span></span>),     - .  . <br> <br> ,     .       ,    DocumentFragment        clean,         html-. <br> <br> safeFragment <br>          -, safeFragment</code> ,    .   IE        html5- (. <a href="http://bugs.jquery.com/ticket/6485"></a> ,  ). <br> <br>   <br>  <code>safeFragment</code>   ,   jQuery     <code>innerHTML</code>   html- <br> <br>   jQuery  ,       - .   <a href="">    </a>      <a href="">wrapMap</a> .   - ? ,        <code>innerHTML</code>  <code><code>,  , !</code> : <br> <code class="javascript">var k = document.createElement(<span class="hljs-string"><span class="hljs-string">'div'</span></span>); k.innerHTML = <span class="hljs-string"><span class="hljs-string">'&lt;td&gt;!&lt;/td&gt;'</span></span> &gt; k &lt;div&gt;‚Äã!‚Äã&lt;/div&gt;‚Äã</code> <br>    <code>!</code> ,    <code>!</code> ,              <span class="hljs-number"><span class="hljs-number">3</span></span> ,    <code><code><code> ,     safeFrag</code>   . <br> <br>         IE - <a href=""></a>   tbody    <a href=""></a>       . <br> <br> , ,   <a href="">  </a>       <code>childNodes</code>     <code>safeFrag</code> . <br> <br> <a href=""></a>           ,     (  , . )      <code>parseHTML</code> , !         (   ),   . <br> <br>  ? <br> , .     <code>clean</code> ,   ,      (      jQuery )         ,       ,      ,      . ,           <code><a href="http://habrahabr.ru/post/164433/" rel="prev"></a> <a href="http://habrahabr.ru/post/164677/" rel="next"></a> <a href="http://habrahabr.ru/post/164805/"></a> ,        . ?    . <br> <br>  <br> ,  ?  , .   ! ,       ,   -  :) <br> <br>  , ,   -    . <br> <br>        ,   . <br> <br>    <br>   html   DOM , , </code></code></code></code></code></code> </pre> <code><a href=""></a> <code>test"      html,  jQuery    ,  . <br> <br> -  ,          - ,         context.createElement( [tagName] )</code> ,              : <br> <code class="javascript">$('&lt;div&gt;') $('&lt;div /&gt;') $('&lt;div&gt;&lt;/div&gt;') $(document.createElement('div'))</code> <br>       ,      ,      <a href="http://api.jquery.com/attr/">jQuery.attr</a> ,      ,    .  , ,    -   . <br> <br>     <br>    jQuery     ,       ,  core.js ",  !"    <a href="">buildFragment</a>  manipulation.js,     .  -   ,      DOM-,        . <br> <br>  <br> <b></b>    1.9     ,    .          -  ,         ,   1.9          . <br> <br>     html-  ,        .   ,      document,   html   512 ,    <code>script</code> , <code>object</code> , <code>embed</code> , <code>option</code>  <code>style</code>   <a href=""> - </a> ( ,    Webkit'    ,     checked,      ). ,   ,    <a href=""> fragments</a> ,        -     html,     . <br> <br>      -    <code>jQuery.fragments</code> <b>  </b> !   ,           -  ,  .   ,     -     . <br> <br>     -        : <br> <code class="javascript">var users = { 5: '', 6: '', 10: '' }; $.each(users, function(id, name) { $('&lt;span id="user' + id + '" title=" ' + name + '"&gt;' + name + '&lt;/span&gt;') .appendTo(document.body); } );</code> <br>          .          ,     javascript-      .      <code>jQuery.fragments</code> : <br> <code class="javascript">&gt; jQuery.fragments Object { &lt;span id="user5" title=" "&gt;&lt;/span&gt;: false &lt;span id="user6" title=" "&gt;&lt;/span&gt;: false &lt;span id="user10" title=" "&gt;&lt;/span&gt;: false }</code> <br>  span',     <code>jQuery.fragments</code> . <code>false</code>   -   ,    ,        ,    -  <code>false</code>    .   -  , .     -       . <br> <br>    -              <code>jQuery.fragments</code> .    , ,  , , ,     . <br> <br> <img src="http://habrastorage.org/storage2/70f/d8d/8e6/70fd8d8e6d2feb6194ea9e5f8c0446be.png"> <br> <br>     ,  ,    .        : <br> <code class="javascript">//   ! $.each(users, function(id, name) { $('&lt;span&gt;', { 'id': 'user' + id, 'title': ' ' + name, 'text': name // &lt;-         ;) } ).appendTo(document.body); } );</code> (    DOM-             ,    <a href="https://habrahabr.ru/users/eforce/" class="user_link">eforce</a> ,      ,  ) <br> <br> <code>jQuery.fragments</code>      ,        <code>document.createElement('span')</code> ,       title,   -  . <br> <br>           ,         <code>jQuery.fragments</code> ,        -    ,     .         <code>span</code>  - ,   "user",         <code><a href=""></a> <a href="https://developer.mozilla.org/en-US/docs/DOM/DocumentFragment"></a> <a href=""></a> <code>$(''),     - .  . <br> <br> ,     .       ,    DocumentFragment        clean,         html-. <br> <br> safeFragment <br>          -, safeFragment</code> ,    .   IE        html5- (. <a href="http://bugs.jquery.com/ticket/6485"></a> ,  ). <br> <br>   <br>  <code>safeFragment</code>   ,   jQuery     <code>innerHTML</code>   html- <br> <br>   jQuery  ,       - .   <a href="">    </a>      <a href="">wrapMap</a> .   - ? ,        <code>innerHTML</code>  <code><code>,  , !</code> : <br> <code class="javascript">var k = document.createElement('div'); k.innerHTML = '&lt;td&gt;!&lt;/td&gt;' &gt; k &lt;div&gt;‚Äã!‚Äã&lt;/div&gt;‚Äã</code> <br>    <code>!</code> ,    <code>!</code> ,              3 ,    <code><code><code> ,     safeFrag</code>   . <br> <br>         IE - <a href=""></a>   tbody    <a href=""></a>       . <br> <br> , ,   <a href="">  </a>       <code>childNodes</code>     <code>safeFrag</code> . <br> <br> <a href=""></a>           ,     (  , . )      <code>parseHTML</code> , !         (   ),   . <br> <br>  ? <br> , .     <code>clean</code> ,   ,      (      jQuery )         ,       ,      ,      . ,           <code><a href="http://habrahabr.ru/post/164433/" rel="prev"></a> <a href="http://habrahabr.ru/post/164677/" rel="next"></a> <a href="http://habrahabr.ru/post/164805/"></a> ,        . ?    . <br> <br>  <br> ,  ?  , .   ! ,       ,   -  :) <br> <br>  , ,   -    . <br> <br>        ,   . <br> <br>    <br>   html   DOM , , </code></code></code></code></code></code> <pre> <code class="hljs erlang-repl"><a href=""></a> <code>test<span class="hljs-string"><span class="hljs-string">"      html,  jQuery    ,  . </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><br><span class="hljs-string"><span class="hljs-string"> -  ,          - ,         context.createElement( [tagName] )</span></span></code><span class="hljs-string"><span class="hljs-string"> ,              : </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><code class="javascript"><span class="hljs-string"><span class="hljs-string">$('&lt;div&gt;') $('&lt;div /&gt;') $('&lt;div&gt;&lt;/div&gt;') $(document.createElement('div'))</span></span></code><span class="hljs-string"><span class="hljs-string"> </span></span><br><span class="hljs-string"><span class="hljs-string">       ,      ,      </span></span><a href="http://api.jquery.com/attr/"><span class="hljs-string"><span class="hljs-string">jQuery.attr</span></span></a><span class="hljs-string"><span class="hljs-string"> ,      ,    .  , ,    -   . </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><br><span class="hljs-string"><span class="hljs-string">     </span></span><br><span class="hljs-string"><span class="hljs-string">    jQuery     ,       ,  core.js "</span></span>,  !<span class="hljs-string"><span class="hljs-string">"    </span></span><a href=""><span class="hljs-string"><span class="hljs-string">buildFragment</span></span></a><span class="hljs-string"><span class="hljs-string">  manipulation.js,     .  -   ,      DOM-,        . </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><br><span class="hljs-string"><span class="hljs-string">  </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><b><span class="hljs-string"><span class="hljs-string"></span></span></b><span class="hljs-string"><span class="hljs-string">    1.9     ,    .          -  ,         ,   1.9          . </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><br><span class="hljs-string"><span class="hljs-string">     html-  ,        .   ,      document,   html   512 ,    </span></span><code><span class="hljs-string"><span class="hljs-string">script</span></span></code><span class="hljs-string"><span class="hljs-string"> , </span></span><code><span class="hljs-string"><span class="hljs-string">object</span></span></code><span class="hljs-string"><span class="hljs-string"> , </span></span><code><span class="hljs-string"><span class="hljs-string">embed</span></span></code><span class="hljs-string"><span class="hljs-string"> , </span></span><code><span class="hljs-string"><span class="hljs-string">option</span></span></code><span class="hljs-string"><span class="hljs-string">  </span></span><code><span class="hljs-string"><span class="hljs-string">style</span></span></code><span class="hljs-string"><span class="hljs-string">   </span></span><a href=""><span class="hljs-string"><span class="hljs-string"> - </span></span></a><span class="hljs-string"><span class="hljs-string"> ( ,    Webkit'    ,     checked,      ). ,   ,    </span></span><a href=""><span class="hljs-string"><span class="hljs-string"> fragments</span></span></a><span class="hljs-string"><span class="hljs-string"> ,        -     html,     . </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><br><span class="hljs-string"><span class="hljs-string">      -    </span></span><code><span class="hljs-string"><span class="hljs-string">jQuery.fragments</span></span></code><span class="hljs-string"><span class="hljs-string"> </span></span><b><span class="hljs-string"><span class="hljs-string">  </span></span></b><span class="hljs-string"><span class="hljs-string"> !   ,           -  ,  .   ,     -     . </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><br><span class="hljs-string"><span class="hljs-string">     -        : </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><code class="javascript"><span class="hljs-string"><span class="hljs-string">var users = { 5: '', 6: '', 10: '' }; $.each(users, function(id, name) { $('&lt;span id="</span></span>user' + id + <span class="hljs-string"><span class="hljs-string">'" title=" '</span></span> + name + <span class="hljs-string"><span class="hljs-string">'"&gt;'</span></span> + name + <span class="hljs-string"><span class="hljs-string">'&lt;/span&gt;'</span></span>) .appendTo(document.body); } );</code> <br>          .          ,     javascript-      .      <code>jQuery.fragments</code> : <br> <code class="javascript">&gt; jQuery.fragments Object { &lt;span id=<span class="hljs-string"><span class="hljs-string">"user5"</span></span> title=<span class="hljs-string"><span class="hljs-string">" "</span></span>&gt;&lt;/span&gt;: false &lt;span id=<span class="hljs-string"><span class="hljs-string">"user6"</span></span> title=<span class="hljs-string"><span class="hljs-string">" "</span></span>&gt;&lt;/span&gt;: false &lt;span id=<span class="hljs-string"><span class="hljs-string">"user10"</span></span> title=<span class="hljs-string"><span class="hljs-string">" "</span></span>&gt;&lt;/span&gt;: false }</code> <br>  span',     <code>jQuery.fragments</code> . <code>false</code>   -   ,    ,        ,    -  <code>false</code>    .   -  , .     -       . <br> <br>    -              <code>jQuery.fragments</code> .    , ,  , , ,     . <br> <br> <img src="http://habrastorage.org/storage2/70f/d8d/8e6/70fd8d8e6d2feb6194ea9e5f8c0446be.png"> <br> <br>     ,  ,    .        : <br> <code class="javascript">//   ! $.each(users, function(id, name) { $(<span class="hljs-string"><span class="hljs-string">'&lt;span&gt;'</span></span>, { <span class="hljs-string"><span class="hljs-string">'id'</span></span>: <span class="hljs-string"><span class="hljs-string">'user'</span></span> + id, <span class="hljs-string"><span class="hljs-string">'title'</span></span>: <span class="hljs-string"><span class="hljs-string">' '</span></span> + name, <span class="hljs-string"><span class="hljs-string">'text'</span></span>: name // &lt;-         ;) } ).appendTo(document.body); } );</code> (    DOM-             ,    <a href="https://habrahabr.ru/users/eforce/" class="user_link">eforce</a> ,      ,  ) <br> <br> <code>jQuery.fragments</code>      ,        <code>document.createElement(<span class="hljs-string"><span class="hljs-string">'span'</span></span>)</code> ,       title,   -  . <br> <br>           ,         <code>jQuery.fragments</code> ,        -    ,     .         <code>span</code>  - ,   <span class="hljs-string"><span class="hljs-string">"user"</span></span>,         <code><a href=""></a> <a href="https://developer.mozilla.org/en-US/docs/DOM/DocumentFragment"></a> <a href=""></a> <code>$(<span class="hljs-string"><span class="hljs-string">''</span></span>),     - .  . <br> <br> ,     .       ,    DocumentFragment        clean,         html-. <br> <br> safeFragment <br>          -, safeFragment</code> ,    .   IE        html5- (. <a href="http://bugs.jquery.com/ticket/6485"></a> ,  ). <br> <br>   <br>  <code>safeFragment</code>   ,   jQuery     <code>innerHTML</code>   html- <br> <br>   jQuery  ,       - .   <a href="">    </a>      <a href="">wrapMap</a> .   - ? ,        <code>innerHTML</code>  <code><code>,  , !</code> : <br> <code class="javascript">var k = document.createElement(<span class="hljs-string"><span class="hljs-string">'div'</span></span>); k.innerHTML = <span class="hljs-string"><span class="hljs-string">'&lt;td&gt;!&lt;/td&gt;'</span></span> &gt; k &lt;div&gt;‚Äã!‚Äã&lt;/div&gt;‚Äã</code> <br>    <code>!</code> ,    <code>!</code> ,              <span class="hljs-number"><span class="hljs-number">3</span></span> ,    <code><code><code> ,     safeFrag</code>   . <br> <br>         IE - <a href=""></a>   tbody    <a href=""></a>       . <br> <br> , ,   <a href="">  </a>       <code>childNodes</code>     <code>safeFrag</code> . <br> <br> <a href=""></a>           ,     (  , . )      <code>parseHTML</code> , !         (   ),   . <br> <br>  ? <br> , .     <code>clean</code> ,   ,      (      jQuery )         ,       ,      ,      . ,           <code><a href="http://habrahabr.ru/post/164433/" rel="prev"></a> <a href="http://habrahabr.ru/post/164677/" rel="next"></a> <a href="http://habrahabr.ru/post/164805/"></a> ,        . ?    . <br> <br>  <br> ,  ?  , .   ! ,       ,   -  :) <br> <br>  , ,   -    . <br> <br>        ,   . <br> <br>    <br>   html   DOM , , </code></code></code></code></code></code> </pre> <code><a href=""></a> <code>test"      html,  jQuery    ,  . <br> <br> -  ,          - ,         context.createElement( [tagName] )</code> ,              : <br> <code class="javascript">$('&lt;div&gt;') $('&lt;div /&gt;') $('&lt;div&gt;&lt;/div&gt;') $(document.createElement('div'))</code> <br>       ,      ,      <a href="http://api.jquery.com/attr/">jQuery.attr</a> ,      ,    .  , ,    -   . <br> <br>     <br>    jQuery     ,       ,  core.js ",  !"    <a href="">buildFragment</a>  manipulation.js,     .  -   ,      DOM-,        . <br> <br>  <br> <b></b>    1.9     ,    .          -  ,         ,   1.9          . <br> <br>     html-  ,        .   ,      document,   html   512 ,    <code>script</code> , <code>object</code> , <code>embed</code> , <code>option</code>  <code>style</code>   <a href=""> - </a> ( ,    Webkit'    ,     checked,      ). ,   ,    <a href=""> fragments</a> ,        -     html,     . <br> <br>      -    <code>jQuery.fragments</code> <b>  </b> !   ,           -  ,  .   ,     -     . <br> <br>     -        : <br> <code class="javascript">var users = { 5: '', 6: '', 10: '' }; $.each(users, function(id, name) { $('&lt;span id="user' + id + '" title=" ' + name + '"&gt;' + name + '&lt;/span&gt;') .appendTo(document.body); } );</code> <br>          .          ,     javascript-      .      <code>jQuery.fragments</code> : <br> <code class="javascript">&gt; jQuery.fragments Object { &lt;span id="user5" title=" "&gt;&lt;/span&gt;: false &lt;span id="user6" title=" "&gt;&lt;/span&gt;: false &lt;span id="user10" title=" "&gt;&lt;/span&gt;: false }</code> <br>  span',     <code>jQuery.fragments</code> . <code>false</code>   -   ,    ,        ,    -  <code>false</code>    .   -  , .     -       . <br> <br>    -              <code>jQuery.fragments</code> .    , ,  , , ,     . <br> <br> <img src="http://habrastorage.org/storage2/70f/d8d/8e6/70fd8d8e6d2feb6194ea9e5f8c0446be.png"> <br> <br>     ,  ,    .        : <br> <code class="javascript">//   ! $.each(users, function(id, name) { $('&lt;span&gt;', { 'id': 'user' + id, 'title': ' ' + name, 'text': name // &lt;-         ;) } ).appendTo(document.body); } );</code> (    DOM-             ,    <a href="https://habrahabr.ru/users/eforce/" class="user_link">eforce</a> ,      ,  ) <br> <br> <code>jQuery.fragments</code>      ,        <code>document.createElement('span')</code> ,       title,   -  . <br> <br>           ,         <code>jQuery.fragments</code> ,        -    ,     .         <code>span</code>  - ,   "user",         <code><a href=""></a> <a href="https://developer.mozilla.org/en-US/docs/DOM/DocumentFragment"></a> <a href=""></a> <code>$(''),     - .  . <br> <br> ,     .       ,    DocumentFragment        clean,         html-. <br> <br> safeFragment <br>          -, safeFragment</code> ,    .   IE        html5- (. <a href="http://bugs.jquery.com/ticket/6485"></a> ,  ). <br> <br>   <br>  <code>safeFragment</code>   ,   jQuery     <code>innerHTML</code>   html- <br> <br>   jQuery  ,       - .   <a href="">    </a>      <a href="">wrapMap</a> .   - ? ,        <code>innerHTML</code>  <code><code>,  , !</code> : <br> <code class="javascript">var k = document.createElement('div'); k.innerHTML = '&lt;td&gt;!&lt;/td&gt;' &gt; k &lt;div&gt;‚Äã!‚Äã&lt;/div&gt;‚Äã</code> <br>    <code>!</code> ,    <code>!</code> ,              3 ,    <code><code><code> ,     safeFrag</code>   . <br> <br>         IE - <a href=""></a>   tbody    <a href=""></a>       . <br> <br> , ,   <a href="">  </a>       <code>childNodes</code>     <code>safeFrag</code> . <br> <br> <a href=""></a>           ,     (  , . )      <code>parseHTML</code> , !         (   ),   . <br> <br>  ? <br> , .     <code>clean</code> ,   ,      (      jQuery )         ,       ,      ,      . ,           <code><a href="http://habrahabr.ru/post/164433/" rel="prev"></a> <a href="http://habrahabr.ru/post/164677/" rel="next"></a> <a href="http://habrahabr.ru/post/164805/"></a> ,        . ?    . <br> <br>  <br> ,  ?  , .   ! ,       ,   -  :) <br> <br>  , ,   -    . <br> <br>        ,   . <br> <br>    <br>   html   DOM , , </code></code></code></code></code></code> <pre> <code class="hljs erlang-repl"><a href=""></a> <code>test<span class="hljs-string"><span class="hljs-string">"      html,  jQuery    ,  . </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><br><span class="hljs-string"><span class="hljs-string"> -  ,          - ,         context.createElement( [tagName] )</span></span></code><span class="hljs-string"><span class="hljs-string"> ,              : </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><code class="javascript"><span class="hljs-string"><span class="hljs-string">$('&lt;div&gt;') $('&lt;div /&gt;') $('&lt;div&gt;&lt;/div&gt;') $(document.createElement('div'))</span></span></code><span class="hljs-string"><span class="hljs-string"> </span></span><br><span class="hljs-string"><span class="hljs-string">       ,      ,      </span></span><a href="http://api.jquery.com/attr/"><span class="hljs-string"><span class="hljs-string">jQuery.attr</span></span></a><span class="hljs-string"><span class="hljs-string"> ,      ,    .  , ,    -   . </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><br><span class="hljs-string"><span class="hljs-string">     </span></span><br><span class="hljs-string"><span class="hljs-string">    jQuery     ,       ,  core.js "</span></span>,  !<span class="hljs-string"><span class="hljs-string">"    </span></span><a href=""><span class="hljs-string"><span class="hljs-string">buildFragment</span></span></a><span class="hljs-string"><span class="hljs-string">  manipulation.js,     .  -   ,      DOM-,        . </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><br><span class="hljs-string"><span class="hljs-string">  </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><b><span class="hljs-string"><span class="hljs-string"></span></span></b><span class="hljs-string"><span class="hljs-string">    1.9     ,    .          -  ,         ,   1.9          . </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><br><span class="hljs-string"><span class="hljs-string">     html-  ,        .   ,      document,   html   512 ,    </span></span><code><span class="hljs-string"><span class="hljs-string">script</span></span></code><span class="hljs-string"><span class="hljs-string"> , </span></span><code><span class="hljs-string"><span class="hljs-string">object</span></span></code><span class="hljs-string"><span class="hljs-string"> , </span></span><code><span class="hljs-string"><span class="hljs-string">embed</span></span></code><span class="hljs-string"><span class="hljs-string"> , </span></span><code><span class="hljs-string"><span class="hljs-string">option</span></span></code><span class="hljs-string"><span class="hljs-string">  </span></span><code><span class="hljs-string"><span class="hljs-string">style</span></span></code><span class="hljs-string"><span class="hljs-string">   </span></span><a href=""><span class="hljs-string"><span class="hljs-string"> - </span></span></a><span class="hljs-string"><span class="hljs-string"> ( ,    Webkit'    ,     checked,      ). ,   ,    </span></span><a href=""><span class="hljs-string"><span class="hljs-string"> fragments</span></span></a><span class="hljs-string"><span class="hljs-string"> ,        -     html,     . </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><br><span class="hljs-string"><span class="hljs-string">      -    </span></span><code><span class="hljs-string"><span class="hljs-string">jQuery.fragments</span></span></code><span class="hljs-string"><span class="hljs-string"> </span></span><b><span class="hljs-string"><span class="hljs-string">  </span></span></b><span class="hljs-string"><span class="hljs-string"> !   ,           -  ,  .   ,     -     . </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><br><span class="hljs-string"><span class="hljs-string">     -        : </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><code class="javascript"><span class="hljs-string"><span class="hljs-string">var users = { 5: '', 6: '', 10: '' }; $.each(users, function(id, name) { $('&lt;span id="</span></span>user' + id + <span class="hljs-string"><span class="hljs-string">'" title=" '</span></span> + name + <span class="hljs-string"><span class="hljs-string">'"&gt;'</span></span> + name + <span class="hljs-string"><span class="hljs-string">'&lt;/span&gt;'</span></span>) .appendTo(document.body); } );</code> <br>          .          ,     javascript-      .      <code>jQuery.fragments</code> : <br> <code class="javascript">&gt; jQuery.fragments Object { &lt;span id=<span class="hljs-string"><span class="hljs-string">"user5"</span></span> title=<span class="hljs-string"><span class="hljs-string">" "</span></span>&gt;&lt;/span&gt;: false &lt;span id=<span class="hljs-string"><span class="hljs-string">"user6"</span></span> title=<span class="hljs-string"><span class="hljs-string">" "</span></span>&gt;&lt;/span&gt;: false &lt;span id=<span class="hljs-string"><span class="hljs-string">"user10"</span></span> title=<span class="hljs-string"><span class="hljs-string">" "</span></span>&gt;&lt;/span&gt;: false }</code> <br>  span',     <code>jQuery.fragments</code> . <code>false</code>   -   ,    ,        ,    -  <code>false</code>    .   -  , .     -       . <br> <br>    -              <code>jQuery.fragments</code> .    , ,  , , ,     . <br> <br> <img src="http://habrastorage.org/storage2/70f/d8d/8e6/70fd8d8e6d2feb6194ea9e5f8c0446be.png"> <br> <br>     ,  ,    .        : <br> <code class="javascript">//   ! $.each(users, function(id, name) { $(<span class="hljs-string"><span class="hljs-string">'&lt;span&gt;'</span></span>, { <span class="hljs-string"><span class="hljs-string">'id'</span></span>: <span class="hljs-string"><span class="hljs-string">'user'</span></span> + id, <span class="hljs-string"><span class="hljs-string">'title'</span></span>: <span class="hljs-string"><span class="hljs-string">' '</span></span> + name, <span class="hljs-string"><span class="hljs-string">'text'</span></span>: name // &lt;-         ;) } ).appendTo(document.body); } );</code> (    DOM-             ,    <a href="https://habrahabr.ru/users/eforce/" class="user_link">eforce</a> ,      ,  ) <br> <br> <code>jQuery.fragments</code>      ,        <code>document.createElement(<span class="hljs-string"><span class="hljs-string">'span'</span></span>)</code> ,       title,   -  . <br> <br>           ,         <code>jQuery.fragments</code> ,        -    ,     .         <code>span</code>  - ,   <span class="hljs-string"><span class="hljs-string">"user"</span></span>,         <code><a href=""></a> <a href="https://developer.mozilla.org/en-US/docs/DOM/DocumentFragment"></a> <a href=""></a> <code>$(<span class="hljs-string"><span class="hljs-string">''</span></span>),     - .  . <br> <br> ,     .       ,    DocumentFragment        clean,         html-. <br> <br> safeFragment <br>          -, safeFragment</code> ,    .   IE        html5- (. <a href="http://bugs.jquery.com/ticket/6485"></a> ,  ). <br> <br>   <br>  <code>safeFragment</code>   ,   jQuery     <code>innerHTML</code>   html- <br> <br>   jQuery  ,       - .   <a href="">    </a>      <a href="">wrapMap</a> .   - ? ,        <code>innerHTML</code>  <code><code>,  , !</code> : <br> <code class="javascript">var k = document.createElement(<span class="hljs-string"><span class="hljs-string">'div'</span></span>); k.innerHTML = <span class="hljs-string"><span class="hljs-string">'&lt;td&gt;!&lt;/td&gt;'</span></span> &gt; k &lt;div&gt;‚Äã!‚Äã&lt;/div&gt;‚Äã</code> <br>    <code>!</code> ,    <code>!</code> ,              <span class="hljs-number"><span class="hljs-number">3</span></span> ,    <code><code><code> ,     safeFrag</code>   . <br> <br>         IE - <a href=""></a>   tbody    <a href=""></a>       . <br> <br> , ,   <a href="">  </a>       <code>childNodes</code>     <code>safeFrag</code> . <br> <br> <a href=""></a>           ,     (  , . )      <code>parseHTML</code> , !         (   ),   . <br> <br>  ? <br> , .     <code>clean</code> ,   ,      (      jQuery )         ,       ,      ,      . ,           <code><a href="http://habrahabr.ru/post/164433/" rel="prev"></a> <a href="http://habrahabr.ru/post/164677/" rel="next"></a> <a href="http://habrahabr.ru/post/164805/"></a> ,        . ?    . <br> <br>  <br> ,  ?  , .   ! ,       ,   -  :) <br> <br>  , ,   -    . <br> <br>        ,   . <br> <br>    <br>   html   DOM , , </code></code></code></code></code></code> </pre> <code><a href=""></a> <code>test"      html,  jQuery    ,  . <br> <br> -  ,          - ,         context.createElement( [tagName] )</code> ,              : <br> <code class="javascript">$('&lt;div&gt;') $('&lt;div /&gt;') $('&lt;div&gt;&lt;/div&gt;') $(document.createElement('div'))</code> <br>       ,      ,      <a href="http://api.jquery.com/attr/">jQuery.attr</a> ,      ,    .  , ,    -   . <br> <br>     <br>    jQuery     ,       ,  core.js ",  !"    <a href="">buildFragment</a>  manipulation.js,     .  -   ,      DOM-,        . <br> <br>  <br> <b></b>    1.9     ,    .          -  ,         ,   1.9          . <br> <br>     html-  ,        .   ,      document,   html   512 ,    <code>script</code> , <code>object</code> , <code>embed</code> , <code>option</code>  <code>style</code>   <a href=""> - </a> ( ,    Webkit'    ,     checked,      ). ,   ,    <a href=""> fragments</a> ,        -     html,     . <br> <br>      -    <code>jQuery.fragments</code> <b>  </b> !   ,           -  ,  .   ,     -     . <br> <br>     -        : <br> <code class="javascript">var users = { 5: '', 6: '', 10: '' }; $.each(users, function(id, name) { $('&lt;span id="user' + id + '" title=" ' + name + '"&gt;' + name + '&lt;/span&gt;') .appendTo(document.body); } );</code> <br>          .          ,     javascript-      .      <code>jQuery.fragments</code> : <br> <code class="javascript">&gt; jQuery.fragments Object { &lt;span id="user5" title=" "&gt;&lt;/span&gt;: false &lt;span id="user6" title=" "&gt;&lt;/span&gt;: false &lt;span id="user10" title=" "&gt;&lt;/span&gt;: false }</code> <br>  span',     <code>jQuery.fragments</code> . <code>false</code>   -   ,    ,        ,    -  <code>false</code>    .   -  , .     -       . <br> <br>    -              <code>jQuery.fragments</code> .    , ,  , , ,     . <br> <br> <img src="http://habrastorage.org/storage2/70f/d8d/8e6/70fd8d8e6d2feb6194ea9e5f8c0446be.png"> <br> <br>     ,  ,    .        : <br> <code class="javascript">//   ! $.each(users, function(id, name) { $('&lt;span&gt;', { 'id': 'user' + id, 'title': ' ' + name, 'text': name // &lt;-         ;) } ).appendTo(document.body); } );</code> (    DOM-             ,    <a href="https://habrahabr.ru/users/eforce/" class="user_link">eforce</a> ,      ,  ) <br> <br> <code>jQuery.fragments</code>      ,        <code>document.createElement('span')</code> ,       title,   -  . <br> <br>           ,         <code>jQuery.fragments</code> ,        -    ,     .         <code>span</code>  - ,   "user",         <code><a href=""></a> <a href="https://developer.mozilla.org/en-US/docs/DOM/DocumentFragment"></a> <a href=""></a> <code>$(''),     - .  . <br> <br> ,     .       ,    DocumentFragment        clean,         html-. <br> <br> safeFragment <br>          -, safeFragment</code> ,    .   IE        html5- (. <a href="http://bugs.jquery.com/ticket/6485"></a> ,  ). <br> <br>   <br>  <code>safeFragment</code>   ,   jQuery     <code>innerHTML</code>   html- <br> <br>   jQuery  ,       - .   <a href="">    </a>      <a href="">wrapMap</a> .   - ? ,        <code>innerHTML</code>  <code><code>,  , !</code> : <br> <code class="javascript">var k = document.createElement('div'); k.innerHTML = '&lt;td&gt;!&lt;/td&gt;' &gt; k &lt;div&gt;‚Äã!‚Äã&lt;/div&gt;‚Äã</code> <br>    <code>!</code> ,    <code>!</code> ,              3 ,    <code><code><code> ,     safeFrag</code>   . <br> <br>         IE - <a href=""></a>   tbody    <a href=""></a>       . <br> <br> , ,   <a href="">  </a>       <code>childNodes</code>     <code>safeFrag</code> . <br> <br> <a href=""></a>           ,     (  , . )      <code>parseHTML</code> , !         (   ),   . <br> <br>  ? <br> , .     <code>clean</code> ,   ,      (      jQuery )         ,       ,      ,      . ,           <code><a href="http://habrahabr.ru/post/164433/" rel="prev"></a> <a href="http://habrahabr.ru/post/164677/" rel="next"></a> <a href="http://habrahabr.ru/post/164805/"></a> ,        . ?    . <br> <br>  <br> ,  ?  , .   ! ,       ,   -  :) <br> <br>  , ,   -    . <br> <br>        ,   . <br> <br>    <br>   html   DOM , , </code></code></code></code></code></code> <h5> <code><code><code><a href=""></a> <code>test"      html,  jQuery    ,  . <br> <br> -  ,          - ,         context.createElement( [tagName] )</code> ,              : <br> <code class="javascript">$('&lt;div&gt;') $('&lt;div /&gt;') $('&lt;div&gt;&lt;/div&gt;') $(document.createElement('div'))</code> <br>       ,      ,      <a href="http://api.jquery.com/attr/">jQuery.attr</a> ,      ,    .  , ,    -   . <br> <br>     <br>    jQuery     ,       ,  core.js ",  !"    <a href="">buildFragment</a>  manipulation.js,     .  -   ,      DOM-,        . <br> <br>  <br> <b></b>    1.9     ,    .          -  ,         ,   1.9          . <br> <br>     html-  ,        .   ,      document,   html   512 ,    <code>script</code> , <code>object</code> , <code>embed</code> , <code>option</code>  <code>style</code>   <a href=""> - </a> ( ,    Webkit'    ,     checked,      ). ,   ,    <a href=""> fragments</a> ,        -     html,     . <br> <br>      -    <code>jQuery.fragments</code> <b>  </b> !   ,           -  ,  .   ,     -     . <br> <br>     -        : <br> <code class="javascript">var users = { 5: '', 6: '', 10: '' }; $.each(users, function(id, name) { $('&lt;span id="user' + id + '" title=" ' + name + '"&gt;' + name + '&lt;/span&gt;') .appendTo(document.body); } );</code> <br>          .          ,     javascript-      .      <code>jQuery.fragments</code> : <br> <code class="javascript">&gt; jQuery.fragments Object { &lt;span id="user5" title=" "&gt;&lt;/span&gt;: false &lt;span id="user6" title=" "&gt;&lt;/span&gt;: false &lt;span id="user10" title=" "&gt;&lt;/span&gt;: false }</code> <br>  span',     <code>jQuery.fragments</code> . <code>false</code>   -   ,    ,        ,    -  <code>false</code>    .   -  , .     -       . <br> <br>    -              <code>jQuery.fragments</code> .    , ,  , , ,     . <br> <br> <img src="http://habrastorage.org/storage2/70f/d8d/8e6/70fd8d8e6d2feb6194ea9e5f8c0446be.png"> <br> <br>     ,  ,    .        : <br> <code class="javascript">//   ! $.each(users, function(id, name) { $('&lt;span&gt;', { 'id': 'user' + id, 'title': ' ' + name, 'text': name // &lt;-         ;) } ).appendTo(document.body); } );</code> (    DOM-             ,    <a href="https://habrahabr.ru/users/eforce/" class="user_link">eforce</a> ,      ,  ) <br> <br> <code>jQuery.fragments</code>      ,        <code>document.createElement('span')</code> ,       title,   -  . <br> <br>           ,         <code>jQuery.fragments</code> ,        -    ,     .         <code>span</code>  - ,   "user",         <a href=""></a> <a href="https://developer.mozilla.org/en-US/docs/DOM/DocumentFragment"></a> <a href=""></a> $(''),     - .  . <br> <br> ,     .       ,    DocumentFragment        clean,         html-. <br> <br> safeFragment <br>          -, safeFragment ,    .   IE        html5- (. <a href="http://bugs.jquery.com/ticket/6485"></a> ,  ). <br> <br>   <br>  <code>safeFragment</code>   ,   jQuery     <code>innerHTML</code>   html- <br> <br>   jQuery  ,       - .   <a href="">    </a>      <a href="">wrapMap</a> .   - ? ,        <code>innerHTML</code>  <code><code>,  , !</code> : <br> <code class="javascript">var k = document.createElement('div'); k.innerHTML = '&lt;td&gt;!&lt;/td&gt;' &gt; k &lt;div&gt;‚Äã!‚Äã&lt;/div&gt;‚Äã</code> <br>    <code>!</code> ,    <code>!</code> ,              3 ,    <code><code><code> ,     safeFrag</code>   . <br> <br>         IE - <a href=""></a>   tbody    <a href=""></a>       . <br> <br> , ,   <a href="">  </a>       <code>childNodes</code>     <code>safeFrag</code> . <br> <br> <a href=""></a>           ,     (  , . )      <code>parseHTML</code> , !         (   ),   . <br> <br>  ? <br> , .     <code>clean</code> ,   ,      (      jQuery )         ,       ,      ,      . ,           <code><a href="http://habrahabr.ru/post/164433/" rel="prev"></a> <a href="http://habrahabr.ru/post/164677/" rel="next"></a> <a href="http://habrahabr.ru/post/164805/"></a> ,        . ?    . <br> <br>  <br> ,  ?  , .   ! ,       ,   -  :) <br> <br>  , ,   -    . <br> <br>        ,   . <br> <br>    <br>   html   DOM , , </code></code></code></code></code></code></code> </h5> <code><code><a href=""></a> <code>test"      html,  jQuery    ,  . <br> <br> -  ,          - ,         context.createElement( [tagName] )</code> ,              : <br> <code class="javascript">$('&lt;div&gt;') $('&lt;div /&gt;') $('&lt;div&gt;&lt;/div&gt;') $(document.createElement('div'))</code> <br>       ,      ,      <a href="http://api.jquery.com/attr/">jQuery.attr</a> ,      ,    .  , ,    -   . <br> <br>     <br>    jQuery     ,       ,  core.js ",  !"    <a href="">buildFragment</a>  manipulation.js,     .  -   ,      DOM-,        . <br> <br>  <br> <b></b>    1.9     ,    .          -  ,         ,   1.9          . <br> <br>     html-  ,        .   ,      document,   html   512 ,    <code>script</code> , <code>object</code> , <code>embed</code> , <code>option</code>  <code>style</code>   <a href=""> - </a> ( ,    Webkit'    ,     checked,      ). ,   ,    <a href=""> fragments</a> ,        -     html,     . <br> <br>      -    <code>jQuery.fragments</code> <b>  </b> !   ,           -  ,  .   ,     -     . <br> <br>     -        : <br> <code class="javascript">var users = { 5: '', 6: '', 10: '' }; $.each(users, function(id, name) { $('&lt;span id="user' + id + '" title=" ' + name + '"&gt;' + name + '&lt;/span&gt;') .appendTo(document.body); } );</code> <br>          .          ,     javascript-      .      <code>jQuery.fragments</code> : <br> <code class="javascript">&gt; jQuery.fragments Object { &lt;span id="user5" title=" "&gt;&lt;/span&gt;: false &lt;span id="user6" title=" "&gt;&lt;/span&gt;: false &lt;span id="user10" title=" "&gt;&lt;/span&gt;: false }</code> <br>  span',     <code>jQuery.fragments</code> . <code>false</code>   -   ,    ,        ,    -  <code>false</code>    .   -  , .     -       . <br> <br>    -              <code>jQuery.fragments</code> .    , ,  , , ,     . <br> <br> <img src="http://habrastorage.org/storage2/70f/d8d/8e6/70fd8d8e6d2feb6194ea9e5f8c0446be.png"> <br> <br>     ,  ,    .        : <br> <code class="javascript">//   ! $.each(users, function(id, name) { $('&lt;span&gt;', { 'id': 'user' + id, 'title': ' ' + name, 'text': name // &lt;-         ;) } ).appendTo(document.body); } );</code> (    DOM-             ,    <a href="https://habrahabr.ru/users/eforce/" class="user_link">eforce</a> ,      ,  ) <br> <br> <code>jQuery.fragments</code>      ,        <code>document.createElement('span')</code> ,       title,   -  . <br> <br>           ,         <code>jQuery.fragments</code> ,        -    ,     .         <code>span</code>  - ,   "user",         <a href=""></a> <a href="https://developer.mozilla.org/en-US/docs/DOM/DocumentFragment"></a> <a href=""></a> <code>$(''),     - .  . <br> <br> ,     .       ,    DocumentFragment        clean,         html-. <br> <br> safeFragment <br>          -, safeFragment</code> ,    .   IE        html5- (. <a href="http://bugs.jquery.com/ticket/6485"></a> ,  ). <br> <br>   <br>  <code>safeFragment</code>   ,   jQuery     <code>innerHTML</code>   html- <br> <br>   jQuery  ,       - .   <a href="">    </a>      <a href="">wrapMap</a> .   - ? ,        <code>innerHTML</code>  <code><code>,  , !</code> : <br> <code class="javascript">var k = document.createElement('div'); k.innerHTML = '&lt;td&gt;!&lt;/td&gt;' &gt; k &lt;div&gt;‚Äã!‚Äã&lt;/div&gt;‚Äã</code> <br>    <code>!</code> ,    <code>!</code> ,              3 ,    <code><code><code> ,     safeFrag</code>   . <br> <br>         IE - <a href=""></a>   tbody    <a href=""></a>       . <br> <br> , ,   <a href="">  </a>       <code>childNodes</code>     <code>safeFrag</code> . <br> <br> <a href=""></a>           ,     (  , . )      <code>parseHTML</code> , !         (   ),   . <br> <br>  ? <br> , .     <code>clean</code> ,   ,      (      jQuery )         ,       ,      ,      . ,           <code><a href="http://habrahabr.ru/post/164433/" rel="prev"></a> <a href="http://habrahabr.ru/post/164677/" rel="next"></a> <a href="http://habrahabr.ru/post/164805/"></a> ,        . ?    . <br> <br>  <br> ,  ?  , .   ! ,       ,   -  :) <br> <br>  , ,   -    . <br> <br>        ,   . <br> <br>    <br>   html   DOM , , </code></code></code></code></code></code> <h5> <code><code><a href=""></a> <code>test"      html,  jQuery    ,  . <br> <br> -  ,          - ,         context.createElement( [tagName] )</code> ,              : <br> <code class="javascript">$('&lt;div&gt;') $('&lt;div /&gt;') $('&lt;div&gt;&lt;/div&gt;') $(document.createElement('div'))</code> <br>       ,      ,      <a href="http://api.jquery.com/attr/">jQuery.attr</a> ,      ,    .  , ,    -   . <br> <br>     <br>    jQuery     ,       ,  core.js ",  !"    <a href="">buildFragment</a>  manipulation.js,     .  -   ,      DOM-,        . <br> <br>  <br> <b></b>    1.9     ,    .          -  ,         ,   1.9          . <br> <br>     html-  ,        .   ,      document,   html   512 ,    <code>script</code> , <code>object</code> , <code>embed</code> , <code>option</code>  <code>style</code>   <a href=""> - </a> ( ,    Webkit'    ,     checked,      ). ,   ,    <a href=""> fragments</a> ,        -     html,     . <br> <br>      -    <code>jQuery.fragments</code> <b>  </b> !   ,           -  ,  .   ,     -     . <br> <br>     -        : <br> <code class="javascript">var users = { 5: '', 6: '', 10: '' }; $.each(users, function(id, name) { $('&lt;span id="user' + id + '" title=" ' + name + '"&gt;' + name + '&lt;/span&gt;') .appendTo(document.body); } );</code> <br>          .          ,     javascript-      .      <code>jQuery.fragments</code> : <br> <code class="javascript">&gt; jQuery.fragments Object { &lt;span id="user5" title=" "&gt;&lt;/span&gt;: false &lt;span id="user6" title=" "&gt;&lt;/span&gt;: false &lt;span id="user10" title=" "&gt;&lt;/span&gt;: false }</code> <br>  span',     <code>jQuery.fragments</code> . <code>false</code>   -   ,    ,        ,    -  <code>false</code>    .   -  , .     -       . <br> <br>    -              <code>jQuery.fragments</code> .    , ,  , , ,     . <br> <br> <img src="http://habrastorage.org/storage2/70f/d8d/8e6/70fd8d8e6d2feb6194ea9e5f8c0446be.png"> <br> <br>     ,  ,    .        : <br> <code class="javascript">//   ! $.each(users, function(id, name) { $('&lt;span&gt;', { 'id': 'user' + id, 'title': ' ' + name, 'text': name // &lt;-         ;) } ).appendTo(document.body); } );</code> (    DOM-             ,    <a href="https://habrahabr.ru/users/eforce/" class="user_link">eforce</a> ,      ,  ) <br> <br> <code>jQuery.fragments</code>      ,        <code>document.createElement('span')</code> ,       title,   -  . <br> <br>           ,         <code>jQuery.fragments</code> ,        -    ,     .         <code>span</code>  - ,   "user",         <a href=""></a> <a href="https://developer.mozilla.org/en-US/docs/DOM/DocumentFragment"></a> <a href=""></a> <code>$(''),     - .  . <br> <br> ,     .       ,    DocumentFragment        clean,         html-. <br> <br> safeFragment <br>          -, safeFragment</code> ,    .   IE        html5- (. <a href="http://bugs.jquery.com/ticket/6485"></a> ,  ). <br> <br>   <br>  <code>safeFragment</code>   ,   jQuery     <code>innerHTML</code>   html- <br> <br>   jQuery  ,       - .   <a href="">    </a>      <a href="">wrapMap</a> .   - ? ,        <code>innerHTML</code>  <code><code>,  , !</code> : <br> <code class="javascript">var k = document.createElement('div'); k.innerHTML = '&lt;td&gt;!&lt;/td&gt;' &gt; k &lt;div&gt;‚Äã!‚Äã&lt;/div&gt;‚Äã</code> <br>    <code>!</code> ,    <code>!</code> ,              3 ,    <code><code><code> ,     safeFrag</code>   . <br> <br>         IE - <a href=""></a>   tbody    <a href=""></a>       . <br> <br> , ,   <a href="">  </a>       <code>childNodes</code>     <code>safeFrag</code> . <br> <br> <a href=""></a>           ,     (  , . )      <code>parseHTML</code> , !         (   ),   . <br> <br>  ? <br> , .     <code>clean</code> ,   ,      (      jQuery )         ,       ,      ,      . ,           <code><a href="http://habrahabr.ru/post/164433/" rel="prev"></a> <a href="http://habrahabr.ru/post/164677/" rel="next"></a> <a href="http://habrahabr.ru/post/164805/"></a> ,        . ?    . <br> <br>  <br> ,  ?  , .   ! ,       ,   -  :) <br> <br>  , ,   -    . <br> <br>        ,   . <br> <br>    <br>   html   DOM , , </code></code></code></code></code></code> </h5> <code><code><a href=""></a> <code>test"      html,  jQuery    ,  . <br> <br> -  ,          - ,         context.createElement( [tagName] )</code> ,              : <br> <code class="javascript">$('&lt;div&gt;') $('&lt;div /&gt;') $('&lt;div&gt;&lt;/div&gt;') $(document.createElement('div'))</code> <br>       ,      ,      <a href="http://api.jquery.com/attr/">jQuery.attr</a> ,      ,    .  , ,    -   . <br> <br>     <br>    jQuery     ,       ,  core.js ",  !"    <a href="">buildFragment</a>  manipulation.js,     .  -   ,      DOM-,        . <br> <br>  <br> <b></b>    1.9     ,    .          -  ,         ,   1.9          . <br> <br>     html-  ,        .   ,      document,   html   512 ,    <code>script</code> , <code>object</code> , <code>embed</code> , <code>option</code>  <code>style</code>   <a href=""> - </a> ( ,    Webkit'    ,     checked,      ). ,   ,    <a href=""> fragments</a> ,        -     html,     . <br> <br>      -    <code>jQuery.fragments</code> <b>  </b> !   ,           -  ,  .   ,     -     . <br> <br>     -        : <br> <code class="javascript">var users = { 5: '', 6: '', 10: '' }; $.each(users, function(id, name) { $('&lt;span id="user' + id + '" title=" ' + name + '"&gt;' + name + '&lt;/span&gt;') .appendTo(document.body); } );</code> <br>          .          ,     javascript-      .      <code>jQuery.fragments</code> : <br> <code class="javascript">&gt; jQuery.fragments Object { &lt;span id="user5" title=" "&gt;&lt;/span&gt;: false &lt;span id="user6" title=" "&gt;&lt;/span&gt;: false &lt;span id="user10" title=" "&gt;&lt;/span&gt;: false }</code> <br>  span',     <code>jQuery.fragments</code> . <code>false</code>   -   ,    ,        ,    -  <code>false</code>    .   -  , .     -       . <br> <br>    -              <code>jQuery.fragments</code> .    , ,  , , ,     . <br> <br> <img src="http://habrastorage.org/storage2/70f/d8d/8e6/70fd8d8e6d2feb6194ea9e5f8c0446be.png"> <br> <br>     ,  ,    .        : <br> <code class="javascript">//   ! $.each(users, function(id, name) { $('&lt;span&gt;', { 'id': 'user' + id, 'title': ' ' + name, 'text': name // &lt;-         ;) } ).appendTo(document.body); } );</code> (    DOM-             ,    <a href="https://habrahabr.ru/users/eforce/" class="user_link">eforce</a> ,      ,  ) <br> <br> <code>jQuery.fragments</code>      ,        <code>document.createElement('span')</code> ,       title,   -  . <br> <br>           ,         <code>jQuery.fragments</code> ,        -    ,     .         <code>span</code>  - ,   "user",         <a href=""></a> <a href="https://developer.mozilla.org/en-US/docs/DOM/DocumentFragment"></a> <a href=""></a> <code>$(''),     - .  . <br> <br> ,     .       ,    DocumentFragment        clean,         html-. <br> <br> safeFragment <br>          -, safeFragment</code> ,    .   IE        html5- (. <a href="http://bugs.jquery.com/ticket/6485"></a> ,  ). <br> <br>   <br>  <code>safeFragment</code>   ,   jQuery     <code>innerHTML</code>   html- <br> <br>   jQuery  ,       - .   <a href="">    </a>      <a href="">wrapMap</a> .   - ? ,        <code>innerHTML</code>  <code><code>,  , !</code> : <br> <code class="javascript">var k = document.createElement('div'); k.innerHTML = '&lt;td&gt;!&lt;/td&gt;' &gt; k &lt;div&gt;‚Äã!‚Äã&lt;/div&gt;‚Äã</code> <br>    <code>!</code> ,    <code>!</code> ,              3 ,    <code><code><code> ,     safeFrag</code>   . <br> <br>         IE - <a href=""></a>   tbody    <a href=""></a>       . <br> <br> , ,   <a href="">  </a>       <code>childNodes</code>     <code>safeFrag</code> . <br> <br> <a href=""></a>           ,     (  , . )      <code>parseHTML</code> , !         (   ),   . <br> <br>  ? <br> , .     <code>clean</code> ,   ,      (      jQuery )         ,       ,      ,      . ,           <code><a href="http://habrahabr.ru/post/164433/" rel="prev"></a> <a href="http://habrahabr.ru/post/164677/" rel="next"></a> <a href="http://habrahabr.ru/post/164805/"></a> ,        . ?    . <br> <br>  <br> ,  ?  , .   ! ,       ,   -  :) <br> <br>  , ,   -    . <br> <br>        ,   . <br> <br>    <br>   html   DOM , , </code></code></code></code></code></code> <pre> <code class="hljs erlang-repl"><a href=""></a> <code>test<span class="hljs-string"><span class="hljs-string">"      html,  jQuery    ,  . </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><br><span class="hljs-string"><span class="hljs-string"> -  ,          - ,         context.createElement( [tagName] )</span></span></code><span class="hljs-string"><span class="hljs-string"> ,              : </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><code class="javascript"><span class="hljs-string"><span class="hljs-string">$('&lt;div&gt;') $('&lt;div /&gt;') $('&lt;div&gt;&lt;/div&gt;') $(document.createElement('div'))</span></span></code><span class="hljs-string"><span class="hljs-string"> </span></span><br><span class="hljs-string"><span class="hljs-string">       ,      ,      </span></span><a href="http://api.jquery.com/attr/"><span class="hljs-string"><span class="hljs-string">jQuery.attr</span></span></a><span class="hljs-string"><span class="hljs-string"> ,      ,    .  , ,    -   . </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><br><span class="hljs-string"><span class="hljs-string">     </span></span><br><span class="hljs-string"><span class="hljs-string">    jQuery     ,       ,  core.js "</span></span>,  !<span class="hljs-string"><span class="hljs-string">"    </span></span><a href=""><span class="hljs-string"><span class="hljs-string">buildFragment</span></span></a><span class="hljs-string"><span class="hljs-string">  manipulation.js,     .  -   ,      DOM-,        . </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><br><span class="hljs-string"><span class="hljs-string">  </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><b><span class="hljs-string"><span class="hljs-string"></span></span></b><span class="hljs-string"><span class="hljs-string">    1.9     ,    .          -  ,         ,   1.9          . </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><br><span class="hljs-string"><span class="hljs-string">     html-  ,        .   ,      document,   html   512 ,    </span></span><code><span class="hljs-string"><span class="hljs-string">script</span></span></code><span class="hljs-string"><span class="hljs-string"> , </span></span><code><span class="hljs-string"><span class="hljs-string">object</span></span></code><span class="hljs-string"><span class="hljs-string"> , </span></span><code><span class="hljs-string"><span class="hljs-string">embed</span></span></code><span class="hljs-string"><span class="hljs-string"> , </span></span><code><span class="hljs-string"><span class="hljs-string">option</span></span></code><span class="hljs-string"><span class="hljs-string">  </span></span><code><span class="hljs-string"><span class="hljs-string">style</span></span></code><span class="hljs-string"><span class="hljs-string">   </span></span><a href=""><span class="hljs-string"><span class="hljs-string"> - </span></span></a><span class="hljs-string"><span class="hljs-string"> ( ,    Webkit'    ,     checked,      ). ,   ,    </span></span><a href=""><span class="hljs-string"><span class="hljs-string"> fragments</span></span></a><span class="hljs-string"><span class="hljs-string"> ,        -     html,     . </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><br><span class="hljs-string"><span class="hljs-string">      -    </span></span><code><span class="hljs-string"><span class="hljs-string">jQuery.fragments</span></span></code><span class="hljs-string"><span class="hljs-string"> </span></span><b><span class="hljs-string"><span class="hljs-string">  </span></span></b><span class="hljs-string"><span class="hljs-string"> !   ,           -  ,  .   ,     -     . </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><br><span class="hljs-string"><span class="hljs-string">     -        : </span></span><br><span class="hljs-string"><span class="hljs-string"> </span></span><code class="javascript"><span class="hljs-string"><span class="hljs-string">var users = { 5: '', 6: '', 10: '' }; $.each(users, function(id, name) { $('&lt;span id="</span></span>user' + id + <span class="hljs-string"><span class="hljs-string">'" title=" '</span></span> + name + <span class="hljs-string"><span class="hljs-string">'"&gt;'</span></span> + name + <span class="hljs-string"><span class="hljs-string">'&lt;/span&gt;'</span></span>) .appendTo(document.body); } );</code> <br>          .          ,     javascript-      .      <code>jQuery.fragments</code> : <br> <code class="javascript">&gt; jQuery.fragments Object { &lt;span id=<span class="hljs-string"><span class="hljs-string">"user5"</span></span> title=<span class="hljs-string"><span class="hljs-string">" "</span></span>&gt;&lt;/span&gt;: false &lt;span id=<span class="hljs-string"><span class="hljs-string">"user6"</span></span> title=<span class="hljs-string"><span class="hljs-string">" "</span></span>&gt;&lt;/span&gt;: false &lt;span id=<span class="hljs-string"><span class="hljs-string">"user10"</span></span> title=<span class="hljs-string"><span class="hljs-string">" "</span></span>&gt;&lt;/span&gt;: false }</code> <br>  span',     <code>jQuery.fragments</code> . <code>false</code>   -   ,    ,        ,    -  <code>false</code>    .   -  , .     -       . <br> <br>    -              <code>jQuery.fragments</code> .    , ,  , , ,     . <br> <br> <img src="http://habrastorage.org/storage2/70f/d8d/8e6/70fd8d8e6d2feb6194ea9e5f8c0446be.png"> <br> <br>     ,  ,    .        : <br> <code class="javascript">//   ! $.each(users, function(id, name) { $(<span class="hljs-string"><span class="hljs-string">'&lt;span&gt;'</span></span>, { <span class="hljs-string"><span class="hljs-string">'id'</span></span>: <span class="hljs-string"><span class="hljs-string">'user'</span></span> + id, <span class="hljs-string"><span class="hljs-string">'title'</span></span>: <span class="hljs-string"><span class="hljs-string">' '</span></span> + name, <span class="hljs-string"><span class="hljs-string">'text'</span></span>: name // &lt;-         ;) } ).appendTo(document.body); } );</code> (    DOM-             ,    <a href="https://habrahabr.ru/users/eforce/" class="user_link">eforce</a> ,      ,  ) <br> <br> <code>jQuery.fragments</code>      ,        <code>document.createElement(<span class="hljs-string"><span class="hljs-string">'span'</span></span>)</code> ,       title,   -  . <br> <br>           ,         <code>jQuery.fragments</code> ,        -    ,     .         <code>span</code>  - ,   <span class="hljs-string"><span class="hljs-string">"user"</span></span>,         <code><a href=""></a> <a href="https://developer.mozilla.org/en-US/docs/DOM/DocumentFragment"></a> <a href=""></a> <code>$(<span class="hljs-string"><span class="hljs-string">''</span></span>),     - .  . <br> <br> ,     .       ,    DocumentFragment        clean,         html-. <br> <br> safeFragment <br>          -, safeFragment</code> ,    .   IE        html5- (. <a href="http://bugs.jquery.com/ticket/6485"></a> ,  ). <br> <br>   <br>  <code>safeFragment</code>   ,   jQuery     <code>innerHTML</code>   html- <br> <br>   jQuery  ,       - .   <a href="">    </a>      <a href="">wrapMap</a> .   - ? ,        <code>innerHTML</code>  <code><code>,  , !</code> : <br> <code class="javascript">var k = document.createElement(<span class="hljs-string"><span class="hljs-string">'div'</span></span>); k.innerHTML = <span class="hljs-string"><span class="hljs-string">'&lt;td&gt;!&lt;/td&gt;'</span></span> &gt; k &lt;div&gt;‚Äã!‚Äã&lt;/div&gt;‚Äã</code> <br>    <code>!</code> ,    <code>!</code> ,              <span class="hljs-number"><span class="hljs-number">3</span></span> ,    <code><code><code> ,     safeFrag</code>   . <br> <br>         IE - <a href=""></a>   tbody    <a href=""></a>       . <br> <br> , ,   <a href="">  </a>       <code>childNodes</code>     <code>safeFrag</code> . <br> <br> <a href=""></a>           ,     (  , . )      <code>parseHTML</code> , !         (   ),   . <br> <br>  ? <br> , .     <code>clean</code> ,   ,      (      jQuery )         ,       ,      ,      . ,           <code><a href="http://habrahabr.ru/post/164433/" rel="prev"></a> <a href="http://habrahabr.ru/post/164677/" rel="next"></a> <a href="http://habrahabr.ru/post/164805/"></a> ,        . ?    . <br> <br>  <br> ,  ?  , .   ! ,       ,   -  :) <br> <br>  , ,   -    . <br> <br>        ,   . <br> <br>    <br>   html   DOM , , </code></code></code></code></code></code> </pre> <code><code><code><a href=""></a> <code>test"      html,  jQuery    ,  . <br> <br> -  ,          - ,         context.createElement( [tagName] )</code> ,              : <br> <code class="javascript">$('&lt;div&gt;') $('&lt;div /&gt;') $('&lt;div&gt;&lt;/div&gt;') $(document.createElement('div'))</code> <br>       ,      ,      <a href="http://api.jquery.com/attr/">jQuery.attr</a> ,      ,    .  , ,    -   . <br> <br>     <br>    jQuery     ,       ,  core.js ",  !"    <a href="">buildFragment</a>  manipulation.js,     .  -   ,      DOM-,        . <br> <br>  <br> <b></b>    1.9     ,    .          -  ,         ,   1.9          . <br> <br>     html-  ,        .   ,      document,   html   512 ,    <code>script</code> , <code>object</code> , <code>embed</code> , <code>option</code>  <code>style</code>   <a href=""> - </a> ( ,    Webkit'    ,     checked,      ). ,   ,    <a href=""> fragments</a> ,        -     html,     . <br> <br>      -    <code>jQuery.fragments</code> <b>  </b> !   ,           -  ,  .   ,     -     . <br> <br>     -        : <br> <code class="javascript">var users = { 5: '', 6: '', 10: '' }; $.each(users, function(id, name) { $('&lt;span id="user' + id + '" title=" ' + name + '"&gt;' + name + '&lt;/span&gt;') .appendTo(document.body); } );</code> <br>          .          ,     javascript-      .      <code>jQuery.fragments</code> : <br> <code class="javascript">&gt; jQuery.fragments Object { &lt;span id="user5" title=" "&gt;&lt;/span&gt;: false &lt;span id="user6" title=" "&gt;&lt;/span&gt;: false &lt;span id="user10" title=" "&gt;&lt;/span&gt;: false }</code> <br>  span',     <code>jQuery.fragments</code> . <code>false</code>   -   ,    ,        ,    -  <code>false</code>    .   -  , .     -       . <br> <br>    -              <code>jQuery.fragments</code> .    , ,  , , ,     . <br> <br> <img src="http://habrastorage.org/storage2/70f/d8d/8e6/70fd8d8e6d2feb6194ea9e5f8c0446be.png"> <br> <br>     ,  ,    .        : <br> <code class="javascript">//   ! $.each(users, function(id, name) { $('&lt;span&gt;', { 'id': 'user' + id, 'title': ' ' + name, 'text': name // &lt;-         ;) } ).appendTo(document.body); } );</code> (    DOM-             ,    <a href="https://habrahabr.ru/users/eforce/" class="user_link">eforce</a> ,      ,  ) <br> <br> <code>jQuery.fragments</code>      ,        <code>document.createElement('span')</code> ,       title,   -  . <br> <br>           ,         <code>jQuery.fragments</code> ,        -    ,     .         <code>span</code>  - ,   "user",         <a href=""></a> <a href="https://developer.mozilla.org/en-US/docs/DOM/DocumentFragment"></a> <a href=""></a> <code>$(''),     - .  . <br> <br> ,     .       ,    DocumentFragment        clean,         html-. <br> <br> safeFragment <br>          -, safeFragment</code> ,    .   IE        html5- (. <a href="http://bugs.jquery.com/ticket/6485"></a> ,  ). <br> <br>   <br>  <code>safeFragment</code>   ,   jQuery     <code>innerHTML</code>   html- <br> <br>   jQuery  ,       - .   <a href="">    </a>      <a href="">wrapMap</a> .   - ? ,        <code>innerHTML</code>  <code>,  , !</code> : <br> <code class="javascript">var k = document.createElement('div'); k.innerHTML = '&lt;td&gt;!&lt;/td&gt;' &gt; k &lt;div&gt;‚Äã!‚Äã&lt;/div&gt;‚Äã</code> <br>    <code>!</code> ,    <code>!</code> ,              3 ,    <code><code><code> ,     safeFrag</code>   . <br> <br>         IE - <a href=""></a>   tbody    <a href=""></a>       . <br> <br> , ,   <a href="">  </a>       <code>childNodes</code>     <code>safeFrag</code> . <br> <br> <a href=""></a>           ,     (  , . )      <code>parseHTML</code> , !         (   ),   . <br> <br>  ? <br> , .     <code>clean</code> ,   ,      (      jQuery )         ,       ,      ,      . ,           <code><a href="http://habrahabr.ru/post/164433/" rel="prev"></a> <a href="http://habrahabr.ru/post/164677/" rel="next"></a> <a href="http://habrahabr.ru/post/164805/"></a> ,        . ?    . <br> <br>  <br> ,  ?  , .   ! ,       ,   -  :) <br> <br>  , ,   -    . <br> <br>        ,   . <br> <br>    <br>   html   DOM , , </code></code></code></code></code></code> <table> <tbody><tr><td> <code><code><code><code><a href=""></a> <code>test"      html,  jQuery    ,  . <br> <br> -  ,          - ,         context.createElement( [tagName] )</code> ,              : <br> <code class="javascript">$('&lt;div&gt;') $('&lt;div /&gt;') $('&lt;div&gt;&lt;/div&gt;') $(document.createElement('div'))</code> <br>       ,      ,      <a href="http://api.jquery.com/attr/">jQuery.attr</a> ,      ,    .  , ,    -   . <br> <br>     <br>    jQuery     ,       ,  core.js ",  !"    <a href="">buildFragment</a>  manipulation.js,     .  -   ,      DOM-,        . <br> <br>  <br> <b></b>    1.9     ,    .          -  ,         ,   1.9          . <br> <br>     html-  ,        .   ,      document,   html   512 ,    <code>script</code> , <code>object</code> , <code>embed</code> , <code>option</code>  <code>style</code>   <a href=""> - </a> ( ,    Webkit'    ,     checked,      ). ,   ,    <a href=""> fragments</a> ,        -     html,     . <br> <br>      -    <code>jQuery.fragments</code> <b>  </b> !   ,           -  ,  .   ,     -     . <br> <br>     -        : <br> <code class="javascript">var users = { 5: '', 6: '', 10: '' }; $.each(users, function(id, name) { $('&lt;span id="user' + id + '" title=" ' + name + '"&gt;' + name + '&lt;/span&gt;') .appendTo(document.body); } );</code> <br>          .          ,     javascript-      .      <code>jQuery.fragments</code> : <br> <code class="javascript">&gt; jQuery.fragments Object { &lt;span id="user5" title=" "&gt;&lt;/span&gt;: false &lt;span id="user6" title=" "&gt;&lt;/span&gt;: false &lt;span id="user10" title=" "&gt;&lt;/span&gt;: false }</code> <br>  span',     <code>jQuery.fragments</code> . <code>false</code>   -   ,    ,        ,    -  <code>false</code>    .   -  , .     -       . <br> <br>    -              <code>jQuery.fragments</code> .    , ,  , , ,     . <br> <br> <img src="http://habrastorage.org/storage2/70f/d8d/8e6/70fd8d8e6d2feb6194ea9e5f8c0446be.png"> <br> <br>     ,  ,    .        : <br> <code class="javascript">//   ! $.each(users, function(id, name) { $('&lt;span&gt;', { 'id': 'user' + id, 'title': ' ' + name, 'text': name // &lt;-         ;) } ).appendTo(document.body); } );</code> (    DOM-             ,    <a href="https://habrahabr.ru/users/eforce/" class="user_link">eforce</a> ,      ,  ) <br> <br> <code>jQuery.fragments</code>      ,        <code>document.createElement('span')</code> ,       title,   -  . <br> <br>           ,         <code>jQuery.fragments</code> ,        -    ,     .         <code>span</code>  - ,   "user",         <a href=""></a> <a href="https://developer.mozilla.org/en-US/docs/DOM/DocumentFragment"></a> <a href=""></a> <code>$(''),     - .  . <br> <br> ,     .       ,    DocumentFragment        clean,         html-. <br> <br> safeFragment <br>          -, safeFragment</code> ,    .   IE        html5- (. <a href="http://bugs.jquery.com/ticket/6485"></a> ,  ). <br> <br>   <br>  <code>safeFragment</code>   ,   jQuery     <code>innerHTML</code>   html- <br> <br>   jQuery  ,       - .   <a href="">    </a>      <a href="">wrapMap</a> .   - ? ,        <code>innerHTML</code>  <code>,  , !</code> : <br> <code class="javascript">var k = document.createElement('div'); k.innerHTML = '&lt;td&gt;!&lt;/td&gt;' &gt; k &lt;div&gt;‚Äã!‚Äã&lt;/div&gt;‚Äã</code> <br>    <code>!</code> ,    ! ,              3 ,    <code><code><code> ,     safeFrag</code>   . <br> <br>         IE - <a href=""></a>   tbody    <a href=""></a>       . <br> <br> , ,   <a href="">  </a>       <code>childNodes</code>     <code>safeFrag</code> . <br> <br> <a href=""></a>           ,     (  , . )      <code>parseHTML</code> , !         (   ),   . <br> <br>  ? <br> , .     <code>clean</code> ,   ,      (      jQuery )         ,       ,      ,      . ,           <code><a href="http://habrahabr.ru/post/164433/" rel="prev"></a> <a href="http://habrahabr.ru/post/164677/" rel="next"></a> <a href="http://habrahabr.ru/post/164805/"></a> ,        . ?    . <br> <br>  <br> ,  ?  , .   ! ,       ,   -  :) <br> <br>  , ,   -    . <br> <br>        ,   . <br> <br>    <br>   html   DOM , , </code></code></code></code></code></code></code> </td> </tr></tbody></table> <code><code><code><a href=""></a> <code>test"      html,  jQuery    ,  . <br> <br> -  ,          - ,         context.createElement( [tagName] )</code> ,              : <br> <code class="javascript">$('&lt;div&gt;') $('&lt;div /&gt;') $('&lt;div&gt;&lt;/div&gt;') $(document.createElement('div'))</code> <br>       ,      ,      <a href="http://api.jquery.com/attr/">jQuery.attr</a> ,      ,    .  , ,    -   . <br> <br>     <br>    jQuery     ,       ,  core.js ",  !"    <a href="">buildFragment</a>  manipulation.js,     .  -   ,      DOM-,        . <br> <br>  <br> <b></b>    1.9     ,    .          -  ,         ,   1.9          . <br> <br>     html-  ,        .   ,      document,   html   512 ,    <code>script</code> , <code>object</code> , <code>embed</code> , <code>option</code>  <code>style</code>   <a href=""> - </a> ( ,    Webkit'    ,     checked,      ). ,   ,    <a href=""> fragments</a> ,        -     html,     . <br> <br>      -    <code>jQuery.fragments</code> <b>  </b> !   ,           -  ,  .   ,     -     . <br> <br>     -        : <br> <code class="javascript">var users = { 5: '', 6: '', 10: '' }; $.each(users, function(id, name) { $('&lt;span id="user' + id + '" title=" ' + name + '"&gt;' + name + '&lt;/span&gt;') .appendTo(document.body); } );</code> <br>          .          ,     javascript-      .      <code>jQuery.fragments</code> : <br> <code class="javascript">&gt; jQuery.fragments Object { &lt;span id="user5" title=" "&gt;&lt;/span&gt;: false &lt;span id="user6" title=" "&gt;&lt;/span&gt;: false &lt;span id="user10" title=" "&gt;&lt;/span&gt;: false }</code> <br>  span',     <code>jQuery.fragments</code> . <code>false</code>   -   ,    ,        ,    -  <code>false</code>    .   -  , .     -       . <br> <br>    -              <code>jQuery.fragments</code> .    , ,  , , ,     . <br> <br> <img src="http://habrastorage.org/storage2/70f/d8d/8e6/70fd8d8e6d2feb6194ea9e5f8c0446be.png"> <br> <br>     ,  ,    .        : <br> <code class="javascript">//   ! $.each(users, function(id, name) { $('&lt;span&gt;', { 'id': 'user' + id, 'title': ' ' + name, 'text': name // &lt;-         ;) } ).appendTo(document.body); } );</code> (    DOM-             ,    <a href="https://habrahabr.ru/users/eforce/" class="user_link">eforce</a> ,      ,  ) <br> <br> <code>jQuery.fragments</code>      ,        <code>document.createElement('span')</code> ,       title,   -  . <br> <br>           ,         <code>jQuery.fragments</code> ,        -    ,     .         <code>span</code>  - ,   "user",         <a href=""></a> <a href="https://developer.mozilla.org/en-US/docs/DOM/DocumentFragment"></a> <a href=""></a> <code>$(''),     - .  . <br> <br> ,     .       ,    DocumentFragment        clean,         html-. <br> <br> safeFragment <br>          -, safeFragment</code> ,    .   IE        html5- (. <a href="http://bugs.jquery.com/ticket/6485"></a> ,  ). <br> <br>   <br>  <code>safeFragment</code>   ,   jQuery     <code>innerHTML</code>   html- <br> <br>   jQuery  ,       - .   <a href="">    </a>      <a href="">wrapMap</a> .   - ? ,        <code>innerHTML</code>  <code>,  , !</code> : <br> <code class="javascript">var k = document.createElement('div'); k.innerHTML = '&lt;td&gt;!&lt;/td&gt;' &gt; k &lt;div&gt;‚Äã!‚Äã&lt;/div&gt;‚Äã</code> <br>    <code>!</code> ,    <code>!</code> ,              3 ,    <code><code><code> ,     safeFrag</code>   . <br> <br>         IE - <a href=""></a>   tbody    <a href=""></a>       . <br> <br> , ,   <a href="">  </a>       <code>childNodes</code>     <code>safeFrag</code> . <br> <br> <a href=""></a>           ,     (  , . )      <code>parseHTML</code> , !         (   ),   . <br> <br>  ? <br> , .     <code>clean</code> ,   ,      (      jQuery )         ,       ,      ,      . ,           <code><a href="http://habrahabr.ru/post/164433/" rel="prev"></a> <a href="http://habrahabr.ru/post/164677/" rel="next"></a> <a href="http://habrahabr.ru/post/164805/"></a> ,        . ?    . <br> <br>  <br> ,  ?  , .   ! ,       ,   -  :) <br> <br>  , ,   -    . <br> <br>        ,   . <br> <br>    <br>   html   DOM , , </code></code></code></code></code></code> <h5> <code><code><code><code><code><a href=""></a> <code>test"      html,  jQuery    ,  . <br> <br> -  ,          - ,         context.createElement( [tagName] )</code> ,              : <br> <code class="javascript">$('&lt;div&gt;') $('&lt;div /&gt;') $('&lt;div&gt;&lt;/div&gt;') $(document.createElement('div'))</code> <br>       ,      ,      <a href="http://api.jquery.com/attr/">jQuery.attr</a> ,      ,    .  , ,    -   . <br> <br>     <br>    jQuery     ,       ,  core.js ",  !"    <a href="">buildFragment</a>  manipulation.js,     .  -   ,      DOM-,        . <br> <br>  <br> <b></b>    1.9     ,    .          -  ,         ,   1.9          . <br> <br>     html-  ,        .   ,      document,   html   512 ,    <code>script</code> , <code>object</code> , <code>embed</code> , <code>option</code>  <code>style</code>   <a href=""> - </a> ( ,    Webkit'    ,     checked,      ). ,   ,    <a href=""> fragments</a> ,        -     html,     . <br> <br>      -    <code>jQuery.fragments</code> <b>  </b> !   ,           -  ,  .   ,     -     . <br> <br>     -        : <br> <code class="javascript">var users = { 5: '', 6: '', 10: '' }; $.each(users, function(id, name) { $('&lt;span id="user' + id + '" title=" ' + name + '"&gt;' + name + '&lt;/span&gt;') .appendTo(document.body); } );</code> <br>          .          ,     javascript-      .      <code>jQuery.fragments</code> : <br> <code class="javascript">&gt; jQuery.fragments Object { &lt;span id="user5" title=" "&gt;&lt;/span&gt;: false &lt;span id="user6" title=" "&gt;&lt;/span&gt;: false &lt;span id="user10" title=" "&gt;&lt;/span&gt;: false }</code> <br>  span',     <code>jQuery.fragments</code> . <code>false</code>   -   ,    ,        ,    -  <code>false</code>    .   -  , .     -       . <br> <br>    -              <code>jQuery.fragments</code> .    , ,  , , ,     . <br> <br> <img src="http://habrastorage.org/storage2/70f/d8d/8e6/70fd8d8e6d2feb6194ea9e5f8c0446be.png"> <br> <br>     ,  ,    .        : <br> <code class="javascript">//   ! $.each(users, function(id, name) { $('&lt;span&gt;', { 'id': 'user' + id, 'title': ' ' + name, 'text': name // &lt;-         ;) } ).appendTo(document.body); } );</code> (    DOM-             ,    <a href="https://habrahabr.ru/users/eforce/" class="user_link">eforce</a> ,      ,  ) <br> <br> <code>jQuery.fragments</code>      ,        <code>document.createElement('span')</code> ,       title,   -  . <br> <br>           ,         <code>jQuery.fragments</code> ,        -    ,     .         <code>span</code>  - ,   "user",         <a href=""></a> <a href="https://developer.mozilla.org/en-US/docs/DOM/DocumentFragment"></a> <a href=""></a> <code>$(''),     - .  . <br> <br> ,     .       ,    DocumentFragment        clean,         html-. <br> <br> safeFragment <br>          -, safeFragment</code> ,    .   IE        html5- (. <a href="http://bugs.jquery.com/ticket/6485"></a> ,  ). <br> <br>   <br>  <code>safeFragment</code>   ,   jQuery     <code>innerHTML</code>   html- <br> <br>   jQuery  ,       - .   <a href="">    </a>      <a href="">wrapMap</a> .   - ? ,        <code>innerHTML</code>  <code>,  , !</code> : <br> <code class="javascript">var k = document.createElement('div'); k.innerHTML = '&lt;td&gt;!&lt;/td&gt;' &gt; k &lt;div&gt;‚Äã!‚Äã&lt;/div&gt;‚Äã</code> <br>    <code>!</code> ,    <code>!</code> ,              3 ,    <code> ,     safeFrag</code>   . <br> <br>         IE - <a href=""></a>   tbody    <a href=""></a>       . <br> <br> , ,   <a href="">  </a>       <code>childNodes</code>     <code>safeFrag</code> . <br> <br> <a href=""></a>           ,     (  , . )      <code>parseHTML</code> , !         (   ),   . <br> <br>  ? <br> , .     <code>clean</code> ,   ,      (      jQuery )         ,       ,      ,      . ,           <code><a href="http://habrahabr.ru/post/164433/" rel="prev"></a> <a href="http://habrahabr.ru/post/164677/" rel="next"></a> <a href="http://habrahabr.ru/post/164805/"></a> ,        . ?    . <br> <br>  <br> ,  ?  , .   ! ,       ,   -  :) <br> <br>  , ,   -    . <br> <br>        ,   . <br> <br>    <br>   html   DOM , , </code></code></code></code></code></code> </h5> <code><code><code><code><code><a href=""></a> <code>test"      html,  jQuery    ,  . <br> <br> -  ,          - ,         context.createElement( [tagName] )</code> ,              : <br> <code class="javascript">$('&lt;div&gt;') $('&lt;div /&gt;') $('&lt;div&gt;&lt;/div&gt;') $(document.createElement('div'))</code> <br>       ,      ,      <a href="http://api.jquery.com/attr/">jQuery.attr</a> ,      ,    .  , ,    -   . <br> <br>     <br>    jQuery     ,       ,  core.js ",  !"    <a href="">buildFragment</a>  manipulation.js,     .  -   ,      DOM-,        . <br> <br>  <br> <b></b>    1.9     ,    .          -  ,         ,   1.9          . <br> <br>     html-  ,        .   ,      document,   html   512 ,    <code>script</code> , <code>object</code> , <code>embed</code> , <code>option</code>  <code>style</code>   <a href=""> - </a> ( ,    Webkit'    ,     checked,      ). ,   ,    <a href=""> fragments</a> ,        -     html,     . <br> <br>      -    <code>jQuery.fragments</code> <b>  </b> !   ,           -  ,  .   ,     -     . <br> <br>     -        : <br> <code class="javascript">var users = { 5: '', 6: '', 10: '' }; $.each(users, function(id, name) { $('&lt;span id="user' + id + '" title=" ' + name + '"&gt;' + name + '&lt;/span&gt;') .appendTo(document.body); } );</code> <br>          .          ,     javascript-      .      <code>jQuery.fragments</code> : <br> <code class="javascript">&gt; jQuery.fragments Object { &lt;span id="user5" title=" "&gt;&lt;/span&gt;: false &lt;span id="user6" title=" "&gt;&lt;/span&gt;: false &lt;span id="user10" title=" "&gt;&lt;/span&gt;: false }</code> <br>  span',     <code>jQuery.fragments</code> . <code>false</code>   -   ,    ,        ,    -  <code>false</code>    .   -  , .     -       . <br> <br>    -              <code>jQuery.fragments</code> .    , ,  , , ,     . <br> <br> <img src="http://habrastorage.org/storage2/70f/d8d/8e6/70fd8d8e6d2feb6194ea9e5f8c0446be.png"> <br> <br>     ,  ,    .        : <br> <code class="javascript">//   ! $.each(users, function(id, name) { $('&lt;span&gt;', { 'id': 'user' + id, 'title': ' ' + name, 'text': name // &lt;-         ;) } ).appendTo(document.body); } );</code> (    DOM-             ,    <a href="https://habrahabr.ru/users/eforce/" class="user_link">eforce</a> ,      ,  ) <br> <br> <code>jQuery.fragments</code>      ,        <code>document.createElement('span')</code> ,       title,   -  . <br> <br>           ,         <code>jQuery.fragments</code> ,        -    ,     .         <code>span</code>  - ,   "user",         <a href=""></a> <a href="https://developer.mozilla.org/en-US/docs/DOM/DocumentFragment"></a> <a href=""></a> <code>$(''),     - .  . <br> <br> ,     .       ,    DocumentFragment        clean,         html-. <br> <br> safeFragment <br>          -, safeFragment</code> ,    .   IE        html5- (. <a href="http://bugs.jquery.com/ticket/6485"></a> ,  ). <br> <br>   <br>  <code>safeFragment</code>   ,   jQuery     <code>innerHTML</code>   html- <br> <br>   jQuery  ,       - .   <a href="">    </a>      <a href="">wrapMap</a> .   - ? ,        <code>innerHTML</code>  <code>,  , !</code> : <br> <code class="javascript">var k = document.createElement('div'); k.innerHTML = '&lt;td&gt;!&lt;/td&gt;' &gt; k &lt;div&gt;‚Äã!‚Äã&lt;/div&gt;‚Äã</code> <br>    <code>!</code> ,    <code>!</code> ,              3 ,    <code> ,     safeFrag</code>   . <br> <br>         IE - <a href=""></a>   tbody    <a href=""></a>       . <br> <br> , ,   <a href="">  </a>       <code>childNodes</code>     <code>safeFrag</code> . <br> <br> <a href=""></a>           ,     (  , . )      <code>parseHTML</code> , !         (   ),   . <br> <br>  ? <br> , .     <code>clean</code> ,   ,      (      jQuery )         ,       ,      ,      . ,           <code><a href="http://habrahabr.ru/post/164433/" rel="prev"></a> <a href="http://habrahabr.ru/post/164677/" rel="next"></a> <a href="http://habrahabr.ru/post/164805/"></a> ,        . ?    . <br> <br>  <br> ,  ?  , .   ! ,       ,   -  :) <br> <br>  , ,   -    . <br> <br>        ,   . <br> <br>    <br>   html   DOM , , </code></code></code></code></code></code> <h4> <code><code><code><code><code><code><a href=""></a> <code>test"      html,  jQuery    ,  . <br> <br> -  ,          - ,         context.createElement( [tagName] )</code> ,              : <br> <code class="javascript">$('&lt;div&gt;') $('&lt;div /&gt;') $('&lt;div&gt;&lt;/div&gt;') $(document.createElement('div'))</code> <br>       ,      ,      <a href="http://api.jquery.com/attr/">jQuery.attr</a> ,      ,    .  , ,    -   . <br> <br>     <br>    jQuery     ,       ,  core.js ",  !"    <a href="">buildFragment</a>  manipulation.js,     .  -   ,      DOM-,        . <br> <br>  <br> <b></b>    1.9     ,    .          -  ,         ,   1.9          . <br> <br>     html-  ,        .   ,      document,   html   512 ,    <code>script</code> , <code>object</code> , <code>embed</code> , <code>option</code>  <code>style</code>   <a href=""> - </a> ( ,    Webkit'    ,     checked,      ). ,   ,    <a href=""> fragments</a> ,        -     html,     . <br> <br>      -    <code>jQuery.fragments</code> <b>  </b> !   ,           -  ,  .   ,     -     . <br> <br>     -        : <br> <code class="javascript">var users = { 5: '', 6: '', 10: '' }; $.each(users, function(id, name) { $('&lt;span id="user' + id + '" title=" ' + name + '"&gt;' + name + '&lt;/span&gt;') .appendTo(document.body); } );</code> <br>          .          ,     javascript-      .      <code>jQuery.fragments</code> : <br> <code class="javascript">&gt; jQuery.fragments Object { &lt;span id="user5" title=" "&gt;&lt;/span&gt;: false &lt;span id="user6" title=" "&gt;&lt;/span&gt;: false &lt;span id="user10" title=" "&gt;&lt;/span&gt;: false }</code> <br>  span',     <code>jQuery.fragments</code> . <code>false</code>   -   ,    ,        ,    -  <code>false</code>    .   -  , .     -       . <br> <br>    -              <code>jQuery.fragments</code> .    , ,  , , ,     . <br> <br> <img src="http://habrastorage.org/storage2/70f/d8d/8e6/70fd8d8e6d2feb6194ea9e5f8c0446be.png"> <br> <br>     ,  ,    .        : <br> <code class="javascript">//   ! $.each(users, function(id, name) { $('&lt;span&gt;', { 'id': 'user' + id, 'title': ' ' + name, 'text': name // &lt;-         ;) } ).appendTo(document.body); } );</code> (    DOM-             ,    <a href="https://habrahabr.ru/users/eforce/" class="user_link">eforce</a> ,      ,  ) <br> <br> <code>jQuery.fragments</code>      ,        <code>document.createElement('span')</code> ,       title,   -  . <br> <br>           ,         <code>jQuery.fragments</code> ,        -    ,     .         <code>span</code>  - ,   "user",         <a href=""></a> <a href="https://developer.mozilla.org/en-US/docs/DOM/DocumentFragment"></a> <a href=""></a> <code>$(''),     - .  . <br> <br> ,     .       ,    DocumentFragment        clean,         html-. <br> <br> safeFragment <br>          -, safeFragment</code> ,    .   IE        html5- (. <a href="http://bugs.jquery.com/ticket/6485"></a> ,  ). <br> <br>   <br>  <code>safeFragment</code>   ,   jQuery     <code>innerHTML</code>   html- <br> <br>   jQuery  ,       - .   <a href="">    </a>      <a href="">wrapMap</a> .   - ? ,        <code>innerHTML</code>  <code>,  , !</code> : <br> <code class="javascript">var k = document.createElement('div'); k.innerHTML = '&lt;td&gt;!&lt;/td&gt;' &gt; k &lt;div&gt;‚Äã!‚Äã&lt;/div&gt;‚Äã</code> <br>    <code>!</code> ,    <code>!</code> ,              3 ,    <code> ,     safeFrag</code>   . <br> <br>         IE - <a href=""></a>   tbody    <a href=""></a>       . <br> <br> , ,   <a href="">  </a>       <code>childNodes</code>     <code>safeFrag</code> . <br> <br> <a href=""></a>           ,     (  , . )      <code>parseHTML</code> , !         (   ),   . <br> <br>  ? <br> , .     <code>clean</code> ,   ,      (      jQuery )         ,       ,      ,      . ,           <a href="http://habrahabr.ru/post/164433/" rel="prev"></a> <a href="http://habrahabr.ru/post/164677/" rel="next"></a> <a href="http://habrahabr.ru/post/164805/"></a> ,        . ?    . <br> <br>  <br> ,  ?  , .   ! ,       ,   -  :) <br> <br>  , ,   -    . <br> <br>        ,   . <br> <br>    <br>   html   DOM , , </code></code></code></code></code></code> </h4> <code><code><code><code><code><code><a href=""></a> <code>test"      html,  jQuery    ,  . <br> <br> -  ,          - ,         context.createElement( [tagName] )</code> ,              : <br> <code class="javascript">$('&lt;div&gt;') $('&lt;div /&gt;') $('&lt;div&gt;&lt;/div&gt;') $(document.createElement('div'))</code> <br>       ,      ,      <a href="http://api.jquery.com/attr/">jQuery.attr</a> ,      ,    .  , ,    -   . <br> <br>     <br>    jQuery     ,       ,  core.js ",  !"    <a href="">buildFragment</a>  manipulation.js,     .  -   ,      DOM-,        . <br> <br>  <br> <b></b>    1.9     ,    .          -  ,         ,   1.9          . <br> <br>     html-  ,        .   ,      document,   html   512 ,    <code>script</code> , <code>object</code> , <code>embed</code> , <code>option</code>  <code>style</code>   <a href=""> - </a> ( ,    Webkit'    ,     checked,      ). ,   ,    <a href=""> fragments</a> ,        -     html,     . <br> <br>      -    <code>jQuery.fragments</code> <b>  </b> !   ,           -  ,  .   ,     -     . <br> <br>     -        : <br> <code class="javascript">var users = { 5: '', 6: '', 10: '' }; $.each(users, function(id, name) { $('&lt;span id="user' + id + '" title=" ' + name + '"&gt;' + name + '&lt;/span&gt;') .appendTo(document.body); } );</code> <br>          .          ,     javascript-      .      <code>jQuery.fragments</code> : <br> <code class="javascript">&gt; jQuery.fragments Object { &lt;span id="user5" title=" "&gt;&lt;/span&gt;: false &lt;span id="user6" title=" "&gt;&lt;/span&gt;: false &lt;span id="user10" title=" "&gt;&lt;/span&gt;: false }</code> <br>  span',     <code>jQuery.fragments</code> . <code>false</code>   -   ,    ,        ,    -  <code>false</code>    .   -  , .     -       . <br> <br>    -              <code>jQuery.fragments</code> .    , ,  , , ,     . <br> <br> <img src="http://habrastorage.org/storage2/70f/d8d/8e6/70fd8d8e6d2feb6194ea9e5f8c0446be.png"> <br> <br>     ,  ,    .        : <br> <code class="javascript">//   ! $.each(users, function(id, name) { $('&lt;span&gt;', { 'id': 'user' + id, 'title': ' ' + name, 'text': name // &lt;-         ;) } ).appendTo(document.body); } );</code> (    DOM-             ,    <a href="https://habrahabr.ru/users/eforce/" class="user_link">eforce</a> ,      ,  ) <br> <br> <code>jQuery.fragments</code>      ,        <code>document.createElement('span')</code> ,       title,   -  . <br> <br>           ,         <code>jQuery.fragments</code> ,        -    ,     .         <code>span</code>  - ,   "user",         <a href=""></a> <a href="https://developer.mozilla.org/en-US/docs/DOM/DocumentFragment"></a> <a href=""></a> <code>$(''),     - .  . <br> <br> ,     .       ,    DocumentFragment        clean,         html-. <br> <br> safeFragment <br>          -, safeFragment</code> ,    .   IE        html5- (. <a href="http://bugs.jquery.com/ticket/6485"></a> ,  ). <br> <br>   <br>  <code>safeFragment</code>   ,   jQuery     <code>innerHTML</code>   html- <br> <br>   jQuery  ,       - .   <a href="">    </a>      <a href="">wrapMap</a> .   - ? ,        <code>innerHTML</code>  <code>,  , !</code> : <br> <code class="javascript">var k = document.createElement('div'); k.innerHTML = '&lt;td&gt;!&lt;/td&gt;' &gt; k &lt;div&gt;‚Äã!‚Äã&lt;/div&gt;‚Äã</code> <br>    <code>!</code> ,    <code>!</code> ,              3 ,    <code> ,     safeFrag</code>   . <br> <br>         IE - <a href=""></a>   tbody    <a href=""></a>       . <br> <br> , ,   <a href="">  </a>       <code>childNodes</code>     <code>safeFrag</code> . <br> <br> <a href=""></a>           ,     (  , . )      <code>parseHTML</code> , !         (   ),   . <br> <br>  ? <br> , .     <code>clean</code> ,   ,      (      jQuery )         ,       ,      ,      . ,           <a href="http://habrahabr.ru/post/164433/" rel="prev"></a> <a href="http://habrahabr.ru/post/164677/" rel="next"></a> <a href="http://habrahabr.ru/post/164805/"></a> ,        . ?    . <br> <br>  <br> ,  ?  , .   ! ,       ,   -  :) <br> <br>  , ,   -    . <br> <br>        ,   . <br> <br>    <br>   html   DOM , , </code></code></code></code></code></code> <h4> <code><code><code><code><code><code><a href=""></a> <code>test"      html,  jQuery    ,  . <br> <br> -  ,          - ,         context.createElement( [tagName] )</code> ,              : <br> <code class="javascript">$('&lt;div&gt;') $('&lt;div /&gt;') $('&lt;div&gt;&lt;/div&gt;') $(document.createElement('div'))</code> <br>       ,      ,      <a href="http://api.jquery.com/attr/">jQuery.attr</a> ,      ,    .  , ,    -   . <br> <br>     <br>    jQuery     ,       ,  core.js ",  !"    <a href="">buildFragment</a>  manipulation.js,     .  -   ,      DOM-,        . <br> <br>  <br> <b></b>    1.9     ,    .          -  ,         ,   1.9          . <br> <br>     html-  ,        .   ,      document,   html   512 ,    <code>script</code> , <code>object</code> , <code>embed</code> , <code>option</code>  <code>style</code>   <a href=""> - </a> ( ,    Webkit'    ,     checked,      ). ,   ,    <a href=""> fragments</a> ,        -     html,     . <br> <br>      -    <code>jQuery.fragments</code> <b>  </b> !   ,           -  ,  .   ,     -     . <br> <br>     -        : <br> <code class="javascript">var users = { 5: '', 6: '', 10: '' }; $.each(users, function(id, name) { $('&lt;span id="user' + id + '" title=" ' + name + '"&gt;' + name + '&lt;/span&gt;') .appendTo(document.body); } );</code> <br>          .          ,     javascript-      .      <code>jQuery.fragments</code> : <br> <code class="javascript">&gt; jQuery.fragments Object { &lt;span id="user5" title=" "&gt;&lt;/span&gt;: false &lt;span id="user6" title=" "&gt;&lt;/span&gt;: false &lt;span id="user10" title=" "&gt;&lt;/span&gt;: false }</code> <br>  span',     <code>jQuery.fragments</code> . <code>false</code>   -   ,    ,        ,    -  <code>false</code>    .   -  , .     -       . <br> <br>    -              <code>jQuery.fragments</code> .    , ,  , , ,     . <br> <br> <img src="http://habrastorage.org/storage2/70f/d8d/8e6/70fd8d8e6d2feb6194ea9e5f8c0446be.png"> <br> <br>     ,  ,    .        : <br> <code class="javascript">//   ! $.each(users, function(id, name) { $('&lt;span&gt;', { 'id': 'user' + id, 'title': ' ' + name, 'text': name // &lt;-         ;) } ).appendTo(document.body); } );</code> (    DOM-             ,    <a href="https://habrahabr.ru/users/eforce/" class="user_link">eforce</a> ,      ,  ) <br> <br> <code>jQuery.fragments</code>      ,        <code>document.createElement('span')</code> ,       title,   -  . <br> <br>           ,         <code>jQuery.fragments</code> ,        -    ,     .         <code>span</code>  - ,   "user",         <a href=""></a> <a href="https://developer.mozilla.org/en-US/docs/DOM/DocumentFragment"></a> <a href=""></a> <code>$(''),     - .  . <br> <br> ,     .       ,    DocumentFragment        clean,         html-. <br> <br> safeFragment <br>          -, safeFragment</code> ,    .   IE        html5- (. <a href="http://bugs.jquery.com/ticket/6485"></a> ,  ). <br> <br>   <br>  <code>safeFragment</code>   ,   jQuery     <code>innerHTML</code>   html- <br> <br>   jQuery  ,       - .   <a href="">    </a>      <a href="">wrapMap</a> .   - ? ,        <code>innerHTML</code>  <code>,  , !</code> : <br> <code class="javascript">var k = document.createElement('div'); k.innerHTML = '&lt;td&gt;!&lt;/td&gt;' &gt; k &lt;div&gt;‚Äã!‚Äã&lt;/div&gt;‚Äã</code> <br>    <code>!</code> ,    <code>!</code> ,              3 ,    <code> ,     safeFrag</code>   . <br> <br>         IE - <a href=""></a>   tbody    <a href=""></a>       . <br> <br> , ,   <a href="">  </a>       <code>childNodes</code>     <code>safeFrag</code> . <br> <br> <a href=""></a>           ,     (  , . )      <code>parseHTML</code> , !         (   ),   . <br> <br>  ? <br> , .     <code>clean</code> ,   ,      (      jQuery )         ,       ,      ,      . ,           <a href="http://habrahabr.ru/post/164433/" rel="prev"></a> <a href="http://habrahabr.ru/post/164677/" rel="next"></a> <a href="http://habrahabr.ru/post/164805/"></a> ,        . ?    . <br> <br>  <br> ,  ?  , .   ! ,       ,   -  :) <br> <br>  , ,   -    . <br> <br>        ,   . <br> <br>    <br>   html   DOM , , </code></code></code></code></code></code> </h4> <code><code><code><code><code><code><a href=""></a> <code>test"      html,  jQuery    ,  . <br> <br> -  ,          - ,         context.createElement( [tagName] )</code> ,              : <br> <code class="javascript">$('&lt;div&gt;') $('&lt;div /&gt;') $('&lt;div&gt;&lt;/div&gt;') $(document.createElement('div'))</code> <br>       ,      ,      <a href="http://api.jquery.com/attr/">jQuery.attr</a> ,      ,    .  , ,    -   . <br> <br>     <br>    jQuery     ,       ,  core.js ",  !"    <a href="">buildFragment</a>  manipulation.js,     .  -   ,      DOM-,        . <br> <br>  <br> <b></b>    1.9     ,    .          -  ,         ,   1.9          . <br> <br>     html-  ,        .   ,      document,   html   512 ,    <code>script</code> , <code>object</code> , <code>embed</code> , <code>option</code>  <code>style</code>   <a href=""> - </a> ( ,    Webkit'    ,     checked,      ). ,   ,    <a href=""> fragments</a> ,        -     html,     . <br> <br>      -    <code>jQuery.fragments</code> <b>  </b> !   ,           -  ,  .   ,     -     . <br> <br>     -        : <br> <code class="javascript">var users = { 5: '', 6: '', 10: '' }; $.each(users, function(id, name) { $('&lt;span id="user' + id + '" title=" ' + name + '"&gt;' + name + '&lt;/span&gt;') .appendTo(document.body); } );</code> <br>          .          ,     javascript-      .      <code>jQuery.fragments</code> : <br> <code class="javascript">&gt; jQuery.fragments Object { &lt;span id="user5" title=" "&gt;&lt;/span&gt;: false &lt;span id="user6" title=" "&gt;&lt;/span&gt;: false &lt;span id="user10" title=" "&gt;&lt;/span&gt;: false }</code> <br>  span',     <code>jQuery.fragments</code> . <code>false</code>   -   ,    ,        ,    -  <code>false</code>    .   -  , .     -       . <br> <br>    -              <code>jQuery.fragments</code> .    , ,  , , ,     . <br> <br> <img src="http://habrastorage.org/storage2/70f/d8d/8e6/70fd8d8e6d2feb6194ea9e5f8c0446be.png"> <br> <br>     ,  ,    .        : <br> <code class="javascript">//   ! $.each(users, function(id, name) { $('&lt;span&gt;', { 'id': 'user' + id, 'title': ' ' + name, 'text': name // &lt;-         ;) } ).appendTo(document.body); } );</code> (    DOM-             ,    <a href="https://habrahabr.ru/users/eforce/" class="user_link">eforce</a> ,      ,  ) <br> <br> <code>jQuery.fragments</code>      ,        <code>document.createElement('span')</code> ,       title,   -  . <br> <br>           ,         <code>jQuery.fragments</code> ,        -    ,     .         <code>span</code>  - ,   "user",         <a href=""></a> <a href="https://developer.mozilla.org/en-US/docs/DOM/DocumentFragment"></a> <a href=""></a> <code>$(''),     - .  . <br> <br> ,     .       ,    DocumentFragment        clean,         html-. <br> <br> safeFragment <br>          -, safeFragment</code> ,    .   IE        html5- (. <a href="http://bugs.jquery.com/ticket/6485"></a> ,  ). <br> <br>   <br>  <code>safeFragment</code>   ,   jQuery     <code>innerHTML</code>   html- <br> <br>   jQuery  ,       - .   <a href="">    </a>      <a href="">wrapMap</a> .   - ? ,        <code>innerHTML</code>  <code>,  , !</code> : <br> <code class="javascript">var k = document.createElement('div'); k.innerHTML = '&lt;td&gt;!&lt;/td&gt;' &gt; k &lt;div&gt;‚Äã!‚Äã&lt;/div&gt;‚Äã</code> <br>    <code>!</code> ,    <code>!</code> ,              3 ,    <code> ,     safeFrag</code>   . <br> <br>         IE - <a href=""></a>   tbody    <a href=""></a>       . <br> <br> , ,   <a href="">  </a>       <code>childNodes</code>     <code>safeFrag</code> . <br> <br> <a href=""></a>           ,     (  , . )      <code>parseHTML</code> , !         (   ),   . <br> <br>  ? <br> , .     <code>clean</code> ,   ,      (      jQuery )         ,       ,      ,      . ,           <a href="http://habrahabr.ru/post/164433/" rel="prev"></a> <a href="http://habrahabr.ru/post/164677/" rel="next"></a> <a href="http://habrahabr.ru/post/164805/"></a> ,        . ?    . <br> <br>  <br> ,  ?  , .   ! ,       ,   -  :) <br> <br>  , ,   -    . <br> <br>        ,   . <br> <br>    <br>   html   DOM , , </code></code></code></code></code></code> <ol><li> <code><code><code><code><code><code><a href=""></a> <code>test"      html,  jQuery    ,  . <br> <br> -  ,          - ,         context.createElement( [tagName] )</code> ,              : <br> <code class="javascript">$('&lt;div&gt;') $('&lt;div /&gt;') $('&lt;div&gt;&lt;/div&gt;') $(document.createElement('div'))</code> <br>       ,      ,      <a href="http://api.jquery.com/attr/">jQuery.attr</a> ,      ,    .  , ,    -   . <br> <br>     <br>    jQuery     ,       ,  core.js ",  !"    <a href="">buildFragment</a>  manipulation.js,     .  -   ,      DOM-,        . <br> <br>  <br> <b></b>    1.9     ,    .          -  ,         ,   1.9          . <br> <br>     html-  ,        .   ,      document,   html   512 ,    <code>script</code> , <code>object</code> , <code>embed</code> , <code>option</code>  <code>style</code>   <a href=""> - </a> ( ,    Webkit'    ,     checked,      ). ,   ,    <a href=""> fragments</a> ,        -     html,     . <br> <br>      -    <code>jQuery.fragments</code> <b>  </b> !   ,           -  ,  .   ,     -     . <br> <br>     -        : <br> <code class="javascript">var users = { 5: '', 6: '', 10: '' }; $.each(users, function(id, name) { $('&lt;span id="user' + id + '" title=" ' + name + '"&gt;' + name + '&lt;/span&gt;') .appendTo(document.body); } );</code> <br>          .          ,     javascript-      .      <code>jQuery.fragments</code> : <br> <code class="javascript">&gt; jQuery.fragments Object { &lt;span id="user5" title=" "&gt;&lt;/span&gt;: false &lt;span id="user6" title=" "&gt;&lt;/span&gt;: false &lt;span id="user10" title=" "&gt;&lt;/span&gt;: false }</code> <br>  span',     <code>jQuery.fragments</code> . <code>false</code>   -   ,    ,        ,    -  <code>false</code>    .   -  , .     -       . <br> <br>    -              <code>jQuery.fragments</code> .    , ,  , , ,     . <br> <br> <img src="http://habrastorage.org/storage2/70f/d8d/8e6/70fd8d8e6d2feb6194ea9e5f8c0446be.png"> <br> <br>     ,  ,    .        : <br> <code class="javascript">//   ! $.each(users, function(id, name) { $('&lt;span&gt;', { 'id': 'user' + id, 'title': ' ' + name, 'text': name // &lt;-         ;) } ).appendTo(document.body); } );</code> (    DOM-             ,    <a href="https://habrahabr.ru/users/eforce/" class="user_link">eforce</a> ,      ,  ) <br> <br> <code>jQuery.fragments</code>      ,        <code>document.createElement('span')</code> ,       title,   -  . <br> <br>           ,         <code>jQuery.fragments</code> ,        -    ,     .         <code>span</code>  - ,   "user",         <a href=""></a> <a href="https://developer.mozilla.org/en-US/docs/DOM/DocumentFragment"></a> <a href=""></a> <code>$(''),     - .  . <br> <br> ,     .       ,    DocumentFragment        clean,         html-. <br> <br> safeFragment <br>          -, safeFragment</code> ,    .   IE        html5- (. <a href="http://bugs.jquery.com/ticket/6485"></a> ,  ). <br> <br>   <br>  <code>safeFragment</code>   ,   jQuery     <code>innerHTML</code>   html- <br> <br>   jQuery  ,       - .   <a href="">    </a>      <a href="">wrapMap</a> .   - ? ,        <code>innerHTML</code>  <code>,  , !</code> : <br> <code class="javascript">var k = document.createElement('div'); k.innerHTML = '&lt;td&gt;!&lt;/td&gt;' &gt; k &lt;div&gt;‚Äã!‚Äã&lt;/div&gt;‚Äã</code> <br>    <code>!</code> ,    <code>!</code> ,              3 ,    <code> ,     safeFrag</code>   . <br> <br>         IE - <a href=""></a>   tbody    <a href=""></a>       . <br> <br> , ,   <a href="">  </a>       <code>childNodes</code>     <code>safeFrag</code> . <br> <br> <a href=""></a>           ,     (  , . )      <code>parseHTML</code> , !         (   ),   . <br> <br>  ? <br> , .     <code>clean</code> ,   ,      (      jQuery )         ,       ,      ,      . ,           <a href="http://habrahabr.ru/post/164433/" rel="prev"></a> <a href="http://habrahabr.ru/post/164677/" rel="next"></a> <a href="http://habrahabr.ru/post/164805/"></a> ,        . ?    . <br> <br>  <br> ,  ?  , .   ! ,       ,   -  :) <br> <br>  , ,   -    . <br> <br>        ,   . <br> <br>    <br>   html   DOM , , </code></code></code></code></code></code> </li> <li> <code><code><code><code><code><code><a href=""></a> <code>test"      html,  jQuery    ,  . <br> <br> -  ,          - ,         context.createElement( [tagName] )</code> ,              : <br> <code class="javascript">$('&lt;div&gt;') $('&lt;div /&gt;') $('&lt;div&gt;&lt;/div&gt;') $(document.createElement('div'))</code> <br>       ,      ,      <a href="http://api.jquery.com/attr/">jQuery.attr</a> ,      ,    .  , ,    -   . <br> <br>     <br>    jQuery     ,       ,  core.js ",  !"    <a href="">buildFragment</a>  manipulation.js,     .  -   ,      DOM-,        . <br> <br>  <br> <b></b>    1.9     ,    .          -  ,         ,   1.9          . <br> <br>     html-  ,        .   ,      document,   html   512 ,    <code>script</code> , <code>object</code> , <code>embed</code> , <code>option</code>  <code>style</code>   <a href=""> - </a> ( ,    Webkit'    ,     checked,      ). ,   ,    <a href=""> fragments</a> ,        -     html,     . <br> <br>      -    <code>jQuery.fragments</code> <b>  </b> !   ,           -  ,  .   ,     -     . <br> <br>     -        : <br> <code class="javascript">var users = { 5: '', 6: '', 10: '' }; $.each(users, function(id, name) { $('&lt;span id="user' + id + '" title=" ' + name + '"&gt;' + name + '&lt;/span&gt;') .appendTo(document.body); } );</code> <br>          .          ,     javascript-      .      <code>jQuery.fragments</code> : <br> <code class="javascript">&gt; jQuery.fragments Object { &lt;span id="user5" title=" "&gt;&lt;/span&gt;: false &lt;span id="user6" title=" "&gt;&lt;/span&gt;: false &lt;span id="user10" title=" "&gt;&lt;/span&gt;: false }</code> <br>  span',     <code>jQuery.fragments</code> . <code>false</code>   -   ,    ,        ,    -  <code>false</code>    .   -  , .     -       . <br> <br>    -              <code>jQuery.fragments</code> .    , ,  , , ,     . <br> <br> <img src="http://habrastorage.org/storage2/70f/d8d/8e6/70fd8d8e6d2feb6194ea9e5f8c0446be.png"> <br> <br>     ,  ,    .        : <br> <code class="javascript">//   ! $.each(users, function(id, name) { $('&lt;span&gt;', { 'id': 'user' + id, 'title': ' ' + name, 'text': name // &lt;-         ;) } ).appendTo(document.body); } );</code> (    DOM-             ,    <a href="https://habrahabr.ru/users/eforce/" class="user_link">eforce</a> ,      ,  ) <br> <br> <code>jQuery.fragments</code>      ,        <code>document.createElement('span')</code> ,       title,   -  . <br> <br>           ,         <code>jQuery.fragments</code> ,        -    ,     .         <code>span</code>  - ,   "user",         <a href=""></a> <a href="https://developer.mozilla.org/en-US/docs/DOM/DocumentFragment"></a> <a href=""></a> <code>$(''),     - .  . <br> <br> ,     .       ,    DocumentFragment        clean,         html-. <br> <br> safeFragment <br>          -, safeFragment</code> ,    .   IE        html5- (. <a href="http://bugs.jquery.com/ticket/6485"></a> ,  ). <br> <br>   <br>  <code>safeFragment</code>   ,   jQuery     <code>innerHTML</code>   html- <br> <br>   jQuery  ,       - .   <a href="">    </a>      <a href="">wrapMap</a> .   - ? ,        <code>innerHTML</code>  <code>,  , !</code> : <br> <code class="javascript">var k = document.createElement('div'); k.innerHTML = '&lt;td&gt;!&lt;/td&gt;' &gt; k &lt;div&gt;‚Äã!‚Äã&lt;/div&gt;‚Äã</code> <br>    <code>!</code> ,    <code>!</code> ,              3 ,    <code> ,     safeFrag</code>   . <br> <br>         IE - <a href=""></a>   tbody    <a href=""></a>       . <br> <br> , ,   <a href="">  </a>       <code>childNodes</code>     <code>safeFrag</code> . <br> <br> <a href=""></a>           ,     (  , . )      <code>parseHTML</code> , !         (   ),   . <br> <br>  ? <br> , .     <code>clean</code> ,   ,      (      jQuery )         ,       ,      ,      . ,           <a href="http://habrahabr.ru/post/164433/" rel="prev"></a> <a href="http://habrahabr.ru/post/164677/" rel="next"></a> <a href="http://habrahabr.ru/post/164805/"></a> ,        . ?    . <br> <br>  <br> ,  ?  , .   ! ,       ,   -  :) <br> <br>  , ,   -    . <br> <br>        ,   . <br> <br>    <br>   html   DOM , , </code></code></code></code></code></code> </li> <li> <code><code><code><code><code><code><a href=""></a> <code>test"      html,  jQuery    ,  . <br> <br> -  ,          - ,         context.createElement( [tagName] )</code> ,              : <br> <code class="javascript">$('&lt;div&gt;') $('&lt;div /&gt;') $('&lt;div&gt;&lt;/div&gt;') $(document.createElement('div'))</code> <br>       ,      ,      <a href="http://api.jquery.com/attr/">jQuery.attr</a> ,      ,    .  , ,    -   . <br> <br>     <br>    jQuery     ,       ,  core.js ",  !"    <a href="">buildFragment</a>  manipulation.js,     .  -   ,      DOM-,        . <br> <br>  <br> <b></b>    1.9     ,    .          -  ,         ,   1.9          . <br> <br>     html-  ,        .   ,      document,   html   512 ,    <code>script</code> , <code>object</code> , <code>embed</code> , <code>option</code>  <code>style</code>   <a href=""> - </a> ( ,    Webkit'    ,     checked,      ). ,   ,    <a href=""> fragments</a> ,        -     html,     . <br> <br>      -    <code>jQuery.fragments</code> <b>  </b> !   ,           -  ,  .   ,     -     . <br> <br>     -        : <br> <code class="javascript">var users = { 5: '', 6: '', 10: '' }; $.each(users, function(id, name) { $('&lt;span id="user' + id + '" title=" ' + name + '"&gt;' + name + '&lt;/span&gt;') .appendTo(document.body); } );</code> <br>          .          ,     javascript-      .      <code>jQuery.fragments</code> : <br> <code class="javascript">&gt; jQuery.fragments Object { &lt;span id="user5" title=" "&gt;&lt;/span&gt;: false &lt;span id="user6" title=" "&gt;&lt;/span&gt;: false &lt;span id="user10" title=" "&gt;&lt;/span&gt;: false }</code> <br>  span',     <code>jQuery.fragments</code> . <code>false</code>   -   ,    ,        ,    -  <code>false</code>    .   -  , .     -       . <br> <br>    -              <code>jQuery.fragments</code> .    , ,  , , ,     . <br> <br> <img src="http://habrastorage.org/storage2/70f/d8d/8e6/70fd8d8e6d2feb6194ea9e5f8c0446be.png"> <br> <br>     ,  ,    .        : <br> <code class="javascript">//   ! $.each(users, function(id, name) { $('&lt;span&gt;', { 'id': 'user' + id, 'title': ' ' + name, 'text': name // &lt;-         ;) } ).appendTo(document.body); } );</code> (    DOM-             ,    <a href="https://habrahabr.ru/users/eforce/" class="user_link">eforce</a> ,      ,  ) <br> <br> <code>jQuery.fragments</code>      ,        <code>document.createElement('span')</code> ,       title,   -  . <br> <br>           ,         <code>jQuery.fragments</code> ,        -    ,     .         <code>span</code>  - ,   "user",         <a href=""></a> <a href="https://developer.mozilla.org/en-US/docs/DOM/DocumentFragment"></a> <a href=""></a> <code>$(''),     - .  . <br> <br> ,     .       ,    DocumentFragment        clean,         html-. <br> <br> safeFragment <br>          -, safeFragment</code> ,    .   IE        html5- (. <a href="http://bugs.jquery.com/ticket/6485"></a> ,  ). <br> <br>   <br>  <code>safeFragment</code>   ,   jQuery     <code>innerHTML</code>   html- <br> <br>   jQuery  ,       - .   <a href="">    </a>      <a href="">wrapMap</a> .   - ? ,        <code>innerHTML</code>  <code>,  , !</code> : <br> <code class="javascript">var k = document.createElement('div'); k.innerHTML = '&lt;td&gt;!&lt;/td&gt;' &gt; k &lt;div&gt;‚Äã!‚Äã&lt;/div&gt;‚Äã</code> <br>    <code>!</code> ,    <code>!</code> ,              3 ,    <code> ,     safeFrag</code>   . <br> <br>         IE - <a href=""></a>   tbody    <a href=""></a>       . <br> <br> , ,   <a href="">  </a>       <code>childNodes</code>     <code>safeFrag</code> . <br> <br> <a href=""></a>           ,     (  , . )      <code>parseHTML</code> , !         (   ),   . <br> <br>  ? <br> , .     <code>clean</code> ,   ,      (      jQuery )         ,       ,      ,      . ,           <a href="http://habrahabr.ru/post/164433/" rel="prev"></a> <a href="http://habrahabr.ru/post/164677/" rel="next"></a> <a href="http://habrahabr.ru/post/164805/"></a> ,        . ?    . <br> <br>  <br> ,  ?  , .   ! ,       ,   -  :) <br> <br>  , ,   -    . <br> <br>        ,   . <br> <br>    <br>   html   DOM , , </code></code></code></code></code></code> </li> <li> <code><code><code><code><code><code><a href=""></a> <code>test"      html,  jQuery    ,  . <br> <br> -  ,          - ,         context.createElement( [tagName] )</code> ,              : <br> <code class="javascript">$('&lt;div&gt;') $('&lt;div /&gt;') $('&lt;div&gt;&lt;/div&gt;') $(document.createElement('div'))</code> <br>       ,      ,      <a href="http://api.jquery.com/attr/">jQuery.attr</a> ,      ,    .  , ,    -   . <br> <br>     <br>    jQuery     ,       ,  core.js ",  !"    <a href="">buildFragment</a>  manipulation.js,     .  -   ,      DOM-,        . <br> <br>  <br> <b></b>    1.9     ,    .          -  ,         ,   1.9          . <br> <br>     html-  ,        .   ,      document,   html   512 ,    <code>script</code> , <code>object</code> , <code>embed</code> , <code>option</code>  <code>style</code>   <a href=""> - </a> ( ,    Webkit'    ,     checked,      ). ,   ,    <a href=""> fragments</a> ,        -     html,     . <br> <br>      -    <code>jQuery.fragments</code> <b>  </b> !   ,           -  ,  .   ,     -     . <br> <br>     -        : <br> <code class="javascript">var users = { 5: '', 6: '', 10: '' }; $.each(users, function(id, name) { $('&lt;span id="user' + id + '" title=" ' + name + '"&gt;' + name + '&lt;/span&gt;') .appendTo(document.body); } );</code> <br>          .          ,     javascript-      .      <code>jQuery.fragments</code> : <br> <code class="javascript">&gt; jQuery.fragments Object { &lt;span id="user5" title=" "&gt;&lt;/span&gt;: false &lt;span id="user6" title=" "&gt;&lt;/span&gt;: false &lt;span id="user10" title=" "&gt;&lt;/span&gt;: false }</code> <br>  span',     <code>jQuery.fragments</code> . <code>false</code>   -   ,    ,        ,    -  <code>false</code>    .   -  , .     -       . <br> <br>    -              <code>jQuery.fragments</code> .    , ,  , , ,     . <br> <br> <img src="http://habrastorage.org/storage2/70f/d8d/8e6/70fd8d8e6d2feb6194ea9e5f8c0446be.png"> <br> <br>     ,  ,    .        : <br> <code class="javascript">//   ! $.each(users, function(id, name) { $('&lt;span&gt;', { 'id': 'user' + id, 'title': ' ' + name, 'text': name // &lt;-         ;) } ).appendTo(document.body); } );</code> (    DOM-             ,    <a href="https://habrahabr.ru/users/eforce/" class="user_link">eforce</a> ,      ,  ) <br> <br> <code>jQuery.fragments</code>      ,        <code>document.createElement('span')</code> ,       title,   -  . <br> <br>           ,         <code>jQuery.fragments</code> ,        -    ,     .         <code>span</code>  - ,   "user",         <a href=""></a> <a href="https://developer.mozilla.org/en-US/docs/DOM/DocumentFragment"></a> <a href=""></a> <code>$(''),     - .  . <br> <br> ,     .       ,    DocumentFragment        clean,         html-. <br> <br> safeFragment <br>          -, safeFragment</code> ,    .   IE        html5- (. <a href="http://bugs.jquery.com/ticket/6485"></a> ,  ). <br> <br>   <br>  <code>safeFragment</code>   ,   jQuery     <code>innerHTML</code>   html- <br> <br>   jQuery  ,       - .   <a href="">    </a>      <a href="">wrapMap</a> .   - ? ,        <code>innerHTML</code>  <code>,  , !</code> : <br> <code class="javascript">var k = document.createElement('div'); k.innerHTML = '&lt;td&gt;!&lt;/td&gt;' &gt; k &lt;div&gt;‚Äã!‚Äã&lt;/div&gt;‚Äã</code> <br>    <code>!</code> ,    <code>!</code> ,              3 ,    <code> ,     safeFrag</code>   . <br> <br>         IE - <a href=""></a>   tbody    <a href=""></a>       . <br> <br> , ,   <a href="">  </a>       <code>childNodes</code>     <code>safeFrag</code> . <br> <br> <a href=""></a>           ,     (  , . )      <code>parseHTML</code> , !         (   ),   . <br> <br>  ? <br> , .     <code>clean</code> ,   ,      (      jQuery )         ,       ,      ,      . ,           <a href="http://habrahabr.ru/post/164433/" rel="prev"></a> <a href="http://habrahabr.ru/post/164677/" rel="next"></a> <a href="http://habrahabr.ru/post/164805/"></a> ,        . ?    . <br> <br>  <br> ,  ?  , .   ! ,       ,   -  :) <br> <br>  , ,   -    . <br> <br>        ,   . <br> <br>    <br>   html   DOM , , </code></code></code></code></code></code> </li> </ol></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/164533/">https://habr.com/ru/post/164533/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../164515/index.html">New Year's Programming Contest 2013 (C ++)</a></li>
<li><a href="../164517/index.html">Happy new year friends! Happy New Year!</a></li>
<li><a href="../164521/index.html">Leap years</a></li>
<li><a href="../164525/index.html">Has a solution and effectively solved, what is the difference?</a></li>
<li><a href="../164531/index.html">Acer and Asus stop netbook production</a></li>
<li><a href="../164537/index.html">New Year's Google Doodles made 200 thousand visitors to the site with horoscopes</a></li>
<li><a href="../164539/index.html">We attack via HTML tag a</a></li>
<li><a href="../164543/index.html">We do data virtualization in LongListSelector</a></li>
<li><a href="../164547/index.html">ISS video tour from astronaut Sunita Williams (Russian translation)</a></li>
<li><a href="../164551/index.html">What are pirates? Hollywood set box office record</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>