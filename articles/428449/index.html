<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Java Challengers # 2: String Comparison</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Java Challengers # 2: String Comparison 


 As always, we have a lot of late arrivals to the beginning of the course, so only yesterday we had the sec...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Java Challengers # 2: String Comparison</h1><div class="post__text post__text-html js-mediator-article"><h1 id="java-challengers-2-sravnenie-strok">  Java Challengers # 2: String Comparison </h1><br><p>  <em>As always, we have a lot of late arrivals to the beginning of the course, so only yesterday we had the second lesson among the new <a href="https://otus.pw/I0ex/">Java developer</a> stream.</em>  <em>But this is so, little things in life, but for now we are continuing to publish a series of articles on Java Challengers, the translation of which has been prepared for you.</em> </p><br><p> In Java, the <code>String</code> class encapsulates an array of <code>char</code> ( <em>note of a translator ‚Äî from java 9 this is already a <code>byte</code> array, see <a href="https://habr.com/company/otus/blog/426621/">Compact Strings in Java 9</a></em> ).  Speaking of simple, <code>String</code> is an array of characters used to make words, sentences, or other constructs. </p><br><p>  <strong>Encapsulation</strong> is one of the most powerful concepts of object-oriented programming.  Thanks to encapsulation, you don't need to know how the <a href="https://docs.oracle.com/javase/10/docs/api/java/lang/String.html"><code>String</code></a> class works.  You only need to know the methods of its interface. </p><br><p><img src="https://habrastorage.org/webt/9y/nz/bu/9ynzbuynkgesfwcmvuapp9ah5ci.png"><a name="habracut"></a></p><br><p>  When you look at the <code>String</code> class in Java, you can see how the <code>char</code> array is encapsulated: </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">String</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> value[])</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>(value, <span class="hljs-number"><span class="hljs-number">0</span></span>, value.length, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>); }</code> </pre> <br><p>  To better understand encapsulation, imagine a physical object: a machine.  Do you need to know how the car works under the hood to control it?  Of course not, but you need to know what the car‚Äôs interfaces are doing: the gas pedal, brakes and steering wheel.  Each of these interfaces supports certain actions: acceleration, braking, turning left, turning right.  The same goes for object oriented programming. </p><br><p>  <a href="https://habr.com/company/otus/blog/428307/">The first article</a> in the Java Challengers series was about method overloading, which is widely used in the <code>String</code> class.  Overloading can make your classes really flexible: </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">String</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String original)</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">String</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> value[], </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> offset, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> count)</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">String</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] codePoints, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> offset, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> count)</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">String</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params"> bytes[], </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> offset, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> length, String charsetName)</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-comment"><span class="hljs-comment">//    ...</span></span></code> </pre> <br><p>  Instead of trying to understand how the <code>String</code> class works, this article will help you understand <em>what</em> it does and <em>how to</em> use it in your code. </p><br><h2 id="chto-takoe-pul-strok-string-pool">  What is a string pool (String pool) </h2><br><p>  The <code>String</code> class is probably the most commonly used class in Java.  If a new object is created in dynamic memory (memory heap) every time we use a <code>String</code> , then we will waste a lot of memory.  A string pool (String pool) solves this problem by storing only one object for each value of the string. </p><br><p><img src="https://habrastorage.org/webt/kx/zv/kb/kxzvkbdaf7imr8yq5dj6bj048lu.jpeg" alt="strings-in-the-string-pool"></p><br><p>  <em>Rows in the row pool</em> </p><br><p>  Although we created several <code>String</code> variables with <code>Duke</code> and <code>Juggy</code> , only two objects are created and stored in the heap.  See the following sample code for proof.  (Recall that in Java the operator " <code>==</code> " is used to compare two objects and determine whether the object is the same or not.) </p><br><pre> <code class="java hljs">String juggy = <span class="hljs-string"><span class="hljs-string">"Juggy"</span></span>; String anotherJuggy = <span class="hljs-string"><span class="hljs-string">"Juggy"</span></span>; System.out.println(juggy == anotherJuggy);</code> </pre> <br><p>  This code will return <code>true</code> , because two <code>String</code> variables point to the same object in the string pool.  Their meanings are the same. </p><br><h2 id="isklyuchenie----operator-new">  The exception is the <code>new</code> operator </h2><br><p>  Now look at this code - it looks like the previous example, but there is a difference. </p><br><pre> <code class="plaintext hljs">String duke = new String("duke"); String anotherDuke = new String("duke"); System.out.println(duke == anotherDuke);</code> </pre> <br><p>  Based on the previous example, you might think that this code will return <code>true</code> , but it is not.  Adding the <code>new</code> operator results in the creation of a new <code>String</code> object in memory.  Thus, the JVM will create two different objects. </p><br><blockquote>  <strong>Native methods</strong> <br><br>  Native methods in Java are methods that will be compiled using the C language, usually for the purpose of memory management and performance optimization. </blockquote><br><h2 id="puly-strok-i-metod-intern">  String Pools and the <code>intern()</code> method </h2><br><p>  A method called <em>"string interning" is</em> used to store strings in a pool. </p><br><p>  Here is what <a href="https://docs.oracle.com/javase/6/docs/api/java/lang/String.html">Javadoc</a> tells us about the <code>intern()</code> method: </p><br><pre> <code class="java hljs"> <span class="hljs-comment"><span class="hljs-comment">/** *      . * *   ( )   {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@code</span></span></span><span class="hljs-comment"> String}. * *    intern,     , *    {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@code</span></span></span><span class="hljs-comment"> String},   *  {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@link</span></span></span><span class="hljs-comment"> #equals(Object)},     . * ,   {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@code</span></span></span><span class="hljs-comment"> String}   *        {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@code</span></span></span><span class="hljs-comment"> String}. * *   ,      {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@code</span></span></span><span class="hljs-comment"> s}  {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@code</span></span></span><span class="hljs-comment"> t}, * {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@code</span></span></span><span class="hljs-comment"> s.intern() == t.intern()}  {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@code</span></span></span><span class="hljs-comment"> true} *    ,  {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@code</span></span></span><span class="hljs-comment"> s.equals(t)}  {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@code</span></span></span><span class="hljs-comment"> true}. * *       . *      3.10.5 The Java&amp;trade; Language Specification. * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@returns</span></span></span><span class="hljs-comment"> ,         , * , ,       . * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@jls</span></span></span><span class="hljs-comment"> 3.10.5 String Literals */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">native</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">intern</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>;</code> </pre> <br><p>  The <code>intern()</code> method is used to store strings in a string pool.  First, it checks to see if the string already created exists in the pool.  If not, it creates a new line in the pool.  The string pool logic is based on the <a href="https://nobugsproject.com/2017/10/11/design-patterns-saga-18-real-project-situations-with-flyweight/">Flyweight</a> pattern. </p><br><p>  Now, notice what happens when we use <code>new</code> to create two lines: </p><br><pre> <code class="java hljs">String duke = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String(<span class="hljs-string"><span class="hljs-string">"duke"</span></span>); String duke2 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String(<span class="hljs-string"><span class="hljs-string">"duke"</span></span>); System.out.println(duke == duke2); <span class="hljs-comment"><span class="hljs-comment">//    false System.out.println(duke.intern() == duke2.intern()); //    true</span></span></code> </pre> <br><p>  Unlike the previous example with the keyword <code>new</code> , in this case the comparison returns <code>true</code> .  This is because using the <code>intern()</code> method ensures that the string is in the pool. </p><br><h2 id="metod-equals-v-klasse-string">  The <code>equals</code> method in the <code>String</code> class </h2><br><p>  The <code>equals()</code> method is used to check whether the two classes are the same or not.  Since <code>equals()</code> is in <code>Object</code> class, every Java class inherits it.  But the <code>equals()</code> method must be redefined to work correctly.  Of course, <code>String</code> redefines <code>equals()</code> . </p><br><p>  Take a look: </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">equals</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Object anObject)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span> == anObject) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (anObject <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> String) { String aString = (String)anObject; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (coder() == aString.coder()) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> isLatin1() ? StringLatin1.equals(value, aString.value) : StringUTF16.equals(value, aString.value); } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; }</code> </pre> <br><p>  As you can see, the value of the <code>String</code> class is compared through <code>equals()</code> , and not through an object reference.  It does not matter if the references to objects are different;  states will be compared. </p><br><h2 id="naibolee-rasprostranennye-metody-string">  The most common <code>String</code> methods </h2><br><p>  There is one more thing you need to know before solving a string comparison puzzle. </p><br><p>  Consider the most common methods of the <code>String</code> class: </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//         trim() //     substring(int beginIndex, int endIndex) //    length() //  ,     replaceAll(String regex, String replacement) // ,     CharSequence   contains(CharSequences)</span></span></code> </pre> <br><h2 id="reshite-zadachku-na-sravnenie-strok">  Solve a string comparison puzzle </h2><br><p>  Let's check what you learned about the <code>String</code> class by solving a small puzzle. </p><br><p>  In this problem, you compare several lines using the concepts studied.  Looking at the code below, can you determine the value of each <code>result</code> variable? </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ComparisonStringChallenge</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String... doYourBest)</span></span></span><span class="hljs-function"> </span></span>{ String result = <span class="hljs-string"><span class="hljs-string">""</span></span>; result += <span class="hljs-string"><span class="hljs-string">" powerfulCode "</span></span>.trim() == <span class="hljs-string"><span class="hljs-string">"powerfulCode"</span></span> ? <span class="hljs-string"><span class="hljs-string">"0"</span></span> : <span class="hljs-string"><span class="hljs-string">"1"</span></span>; result += <span class="hljs-string"><span class="hljs-string">"flexibleCode"</span></span> == <span class="hljs-string"><span class="hljs-string">"flexibleCode"</span></span> ? <span class="hljs-string"><span class="hljs-string">"2"</span></span> : <span class="hljs-string"><span class="hljs-string">"3"</span></span>; result += <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String(<span class="hljs-string"><span class="hljs-string">"doYourBest"</span></span>) == <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String(<span class="hljs-string"><span class="hljs-string">"doYourBest"</span></span>) ? <span class="hljs-string"><span class="hljs-string">"4"</span></span> : <span class="hljs-string"><span class="hljs-string">"5"</span></span>; result += <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String(<span class="hljs-string"><span class="hljs-string">"noBugsProject"</span></span>) .equals(<span class="hljs-string"><span class="hljs-string">"noBugsProject"</span></span>) ? <span class="hljs-string"><span class="hljs-string">"6"</span></span> : <span class="hljs-string"><span class="hljs-string">"7"</span></span>; result += <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String(<span class="hljs-string"><span class="hljs-string">"breakYourLimits"</span></span>).intern() == <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String(<span class="hljs-string"><span class="hljs-string">"breakYourLimits"</span></span>).intern() ? <span class="hljs-string"><span class="hljs-string">"8"</span></span> : <span class="hljs-string"><span class="hljs-string">"9"</span></span>; System.out.println(result); } }</code> </pre> <br><p>  What will be the conclusion? </p><br><ul><li>  A: 02468 </li><li>  B: 12469 </li><li>  C: 12579 </li><li>  D: 12568 </li></ul><br><p>  The correct answer is given at the end of the article. </p><br><h2 id="chto-seychas-proizoshlo-ponimanie-povedeniya-string">  What happened now?  Understanding <code>String</code> Behavior </h2><br><p>  In the first line we see: </p><br><pre> <code class="java hljs">result += <span class="hljs-string"><span class="hljs-string">" powerfulCode "</span></span>.trim() == <span class="hljs-string"><span class="hljs-string">"powerfulCode"</span></span> ? <span class="hljs-string"><span class="hljs-string">"0"</span></span> : <span class="hljs-string"><span class="hljs-string">"1"</span></span>;</code> </pre> <br><p>  In this case, the result is <code>false</code> , because when the <code>trim()</code> method removes spaces, it creates a new <code>String</code> using the <code>new</code> operator. </p><br><p>  Next we see: </p><br><pre> <code class="java hljs">result += <span class="hljs-string"><span class="hljs-string">"flexibleCode"</span></span> == <span class="hljs-string"><span class="hljs-string">"flexibleCode"</span></span> ? <span class="hljs-string"><span class="hljs-string">"2"</span></span> : <span class="hljs-string"><span class="hljs-string">"3"</span></span>;</code> </pre> <br><p>  There is no mystery here, the strings are the same in the string pool.  This comparison returns <code>true</code> . </p><br><p>  Then, we have: </p><br><pre> <code class="java hljs">result += <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String(<span class="hljs-string"><span class="hljs-string">"doYourBest"</span></span>) == <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String(<span class="hljs-string"><span class="hljs-string">"doYourBest"</span></span>) ? <span class="hljs-string"><span class="hljs-string">"4"</span></span> : <span class="hljs-string"><span class="hljs-string">"5"</span></span>;</code> </pre> <br><p>  Using <code>new</code> leads to the creation of two new lines and it does not matter whether their values ‚Äã‚Äãare equal or not.  In this case, the comparison will be <code>false</code> even if the values ‚Äã‚Äãare the same. </p><br><p>  Further: </p><br><pre> <code class="java hljs">result += <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String(<span class="hljs-string"><span class="hljs-string">"noBugsProject"</span></span>) .equals(<span class="hljs-string"><span class="hljs-string">"noBugsProject"</span></span>) ? <span class="hljs-string"><span class="hljs-string">"6"</span></span> : <span class="hljs-string"><span class="hljs-string">"7"</span></span>;</code> </pre> <br><p>  Since we used the <code>equals()</code> method, the string value will be compared, not an object instance. </p><br><p>  In this case, it does not matter whether different objects or not, since the value is compared.  The result is <code>true</code> . </p><br><p>  Finally, we have: </p><br><pre> <code class="java hljs">result += <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String(<span class="hljs-string"><span class="hljs-string">"breakYourLimits"</span></span>).intern() == <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String(<span class="hljs-string"><span class="hljs-string">"breakYourLimits"</span></span>).intern() ? <span class="hljs-string"><span class="hljs-string">"8"</span></span> : <span class="hljs-string"><span class="hljs-string">"9"</span></span>;</code> </pre> <br><p>  As you saw earlier, the <code>intern()</code> method puts a string into a pool of strings.  Both lines point to the same object, so in this case <code>true</code> . </p><br><h2 id="rasprostranennye-oshibki-so-strokami">  Common String Errors </h2><br><p>  It can be difficult to determine whether two lines indicate the same object or not, especially when the lines contain the same value.  It is useful to remember that using <code>new</code> always leads to the creation of a new object in memory, even if the string values ‚Äã‚Äãare the same. </p><br><p>  Using the methods of the <code>String</code> class to compare references to objects can also be complex.  The peculiarity is that if a method changes something in a string, then there will be different references to objects. </p><br><p>  A few examples that will help clarify: </p><br><pre> <code class="java hljs">System.out.println(<span class="hljs-string"><span class="hljs-string">"duke"</span></span>.trim() == <span class="hljs-string"><span class="hljs-string">"duke"</span></span>.trim());</code> </pre> <br><p>  This comparison will be true, because the <code>trim()</code> method does not create a new string. </p><br><pre> <code class="java hljs">System.out.println(<span class="hljs-string"><span class="hljs-string">" duke"</span></span>.trim() == <span class="hljs-string"><span class="hljs-string">"duke"</span></span>.trim());</code> </pre> <br><p>  In this case, the first <code>trim()</code> method generates a new string, since the method will do its work and therefore the links will be different. </p><br><p>  Finally, when <code>trim()</code> does its job, it creates a new line: </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//   trim   String new String(Arrays.copyOfRange(val, index, index + len), LATIN1);</span></span></code> </pre> <br><h2 id="chto-nuzhno-pomnit-o-strokah">  Things to remember about strings </h2><br><ul><li><p>  Strings are not changeable, so the status of the string cannot be changed. </p><br></li><li><p>  To save memory, the JVM stores rows in a row pool.  When creating a new line, the JVM checks its value and points to an existing object.  If there is no line in the pool with this value, the JVM creates a new line. </p><br></li><li><p>  The " <code>==</code> " operator compares object references.  The <code>equals()</code> method compares string values.  The same rule will apply to all objects. </p><br></li><li><p>  When using the <code>new</code> operator, a new line will be created in the heap (Note of the translator - it‚Äôs originally written in the pool, but this is not so, <a href="https://habr.com/company/otus/blog/428449/">thanks to</a> <a href="https://habr.com/users/zagayevskiy/" class="user_link">zagayevskiy</a> ), even if there is a line with the same value. </p><br></li></ul><br><h2 id="otvet">  Answer </h2><br><p>  The answer to this problem is D. The output will be 12,568. </p><br><p>  <em>To be continued...</em> </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/428449/">https://habr.com/ru/post/428449/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../428439/index.html">Without ensemble</a></li>
<li><a href="../428441/index.html">GitHub purchase completed. What will happen next?</a></li>
<li><a href="../428443/index.html">Reconciliation - checking data integrity in distributed systems</a></li>
<li><a href="../428445/index.html">How we went to the hackathon in Helsinki and lost</a></li>
<li><a href="../428447/index.html">Data protection in the cloud: a guide for developers</a></li>
<li><a href="../428451/index.html">KubeDirector - an easy way to run complex stateful applications in Kubernetes</a></li>
<li><a href="../428453/index.html">How programmers saved their homeland</a></li>
<li><a href="../428455/index.html">Relocation to Nizhny Novgorod</a></li>
<li><a href="../428457/index.html">Bypassing labels: SoundCloud launched direct deals with musicians - conditions were criticized</a></li>
<li><a href="../428461/index.html">Building a distributed VPN network based on Check Point. Several typical scenarios</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>