<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How long or where to quickly store information on disk</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good afternoon, Giktayms! 

 Some time ago, there were several interesting questions about the storage of information on hard drives on the toaster, w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How long or where to quickly store information on disk</h1><div class="post__text post__text-html js-mediator-article"><img align="left" width="40%" src="https://habrastorage.org/files/43c/80d/5d3/43c80d5d379f48fb893948ed3a85e8ba.jpg">  Good afternoon, Giktayms! <br><br>  Some time ago, there were several interesting questions about the storage of information on hard drives on the toaster, which made me want to dig a little deeper, and I did some research. <br><br>  Some of the information already ran through Habr√©, but not all.  And something I could not find in the Russian-speaking Internet, so I decided to share what I found with the community. <br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  About degaussing data on disk. </h3><br>  In normal living conditions (no abrupt change in temperature / humidity / pressure, no shock), the magnetized surface of the disk can store information for several decades.  It is difficult to guarantee, since real industrial tests were not conducted, and those that are carried out - usually just represent a change of external conditions for exposure to an aggressive environment. <br><br>  But most agree that the magnetic field is degrading at a rate of about <b>1% per year</b> . <br><br>  At the same time, one cannot say that after 50 years half of the disk will not be read - this is incorrect, because the field degradation is not equal to breakage - here the role is played by the sensitivity of the read heads and the <b>accuracy of the positioning mechanism</b> . <br><br>  Even in one batch of good manufacturer's hard disks, some excellent plates are obtained at the exit, and the whole device is carefully calibrated at the factory.  Recalibration at home is not possible. <br><br>  Over time, outwardly it may seem that magnetic recording has deteriorated, but in the overwhelming majority of cases - the deterioration of reading is associated with mechanical degradation of materials - this causes both <b>positioning errors</b> and sensitivity of the heads. <br><br>  If the important data for you is no longer read from the old hard disk - most likely it is a matter of degradation of mechanics / electronics, and they can be considered in special companies that specialize in data recovery - the hard drive will be disassembled, the pancakes will be removed and installed on a separate device, then they will be considered they are data directly. <br>  Even if the mechanics and electronics are completely screwed up - the plates themselves and the information on them is subject to reading. <br><br>  There are many witnesses who have old disks lying in a locker, they can be easily read after 15, and even 20 years (by the way, I am also one of them).  And it happens that the disk does not start, just going over the warranty period. <br><br>  So, in modern disks, electronics and mechanics first fail, connectors are broken, standards can even become outdated, but hardly the main cause is data demagnetization. <br><br>  To this we can add that the low-level markings of tracks and sectors, which were marked by the manufacturer, and which the user cannot overwrite using standard methods, should be demagnetized first.  True, the field strength at the markup is much higher, which is noticeable under the microscope, but nevertheless nothing lasts forever. <br><br>  Conclusions from this point - overwrite the information on the disk in order to ‚Äúupdate‚Äù the magnetic recording - there is no reason. <br>  It is much more important to ensure the absence of aggressive external influence, as the most elementary is to tighten it more reliably in order to reduce vibrations.  Turning on and off causes the disk temperature to change and therefore the material expands and contracts.  This is one of the important factors why fast HDDs live less than slow drives from the ‚Äúgreen‚Äù series, which have a much smaller temperature drop.  But do not forget that if the disk is not hot to the touch, this does not mean that the metal has not expanded - each on-off cycle accelerates the degradation of the material, it is just less in the ‚Äúcold disks‚Äù. <br><br>  If your computer regularly falls asleep and wakes up several times a day, and it is powered from the network - it makes sense to increase the waiting time until the disk is turned off when it is powered from the network.  Modern hard drives in idle mode consume only a <b>couple of watts</b> . <br><br><h3>  About sectors </h3><br>  This is not exactly 512 bytes.  This is an area in which 512 bytes are allocated for user data.  There is also a service information about the sector - it is a low-level mark of the beginning and end of the sector, as well as a data correction block, usually it goes after user data.  Plus unallocated space between sectors (gap). <br><br>  Sector labels are applied by the manufacturer during the so-called low-level formatting.  In the ancient years, it could be done independently from the BIOS, but now it is no longer available to the user using standard methods.  The amount of service data may vary depending on the optimization of the firmware of the disk, but in it is considered that the sector, along with the service data, takes 577 bytes.  Plus gap. <br><br>  More precisely, it was before. <br><br>  In 2007, an increase in the size of the sector was proposed, and after the approval and approval procedures, starting from 2011, all issued disks are already formatted with a sector of 4,096 bytes of user data (approximately 4,211 bytes with service data) - the so-called Advanced Format. <br>  Simplifying the addressing of low-level sectors, which were eight times smaller with the same volume, is an increase in productivity by simplifying calculations and working with large blocks, and the efficiency of disk utilization has increased markedly.  How much?  Let's read the next paragraph. <br><br><h3>  ECC data block </h3><br>  In 512 byte sectors, the ECC Block occupied <b>50 bytes</b> .  In 4096 byte sectors, the ECC block increased to <b>100 bytes</b> , but the number of sectors decreased.  And in fact, ECC now occupies <b>four times</b> less ( <b>100 bytes</b> by 4096 bytes versus <b>400 bytes</b> by 8 * 512 bytes). <br><br>  In addition, on a longer data chain, the correction algorithm works more efficiently, as a result, both space was saved and efficiency was increased.  According to various estimates, the ECC calculation speed increased by 5-10%.  So, the disk controller is less tense and can do other things.  This indirectly affects the overall write / read performance of the data. <br><br>  One of the main advantages is of course saving space. <br><br>  Totally - a decrease in the volume allocated for ECC blocks, a decrease in the total number of sectors (less gap, less tags, less indexes for addressing sectors) - the total space allocated for user data has increased by <b>more than 10%</b> ! <br><br>  There is another small plus associated with large sectors.  In the event of a defect or surface defect, a large portion will be marked as bad right away.  If you mark megabytes of sectors by 512 bytes, it will take many times longer than 4 KB. <br>  In addition, the unreadable part will be labeled more reliably - if we cut a rotten or wormy piece of a tasty apple, we cut off some of the good - and in the hard drive - it is better to mark the bad part <b>not in the butt</b> . <br><br>  But of course it is better to get rid of the disks with the beds. <br><br>  The only exception is logical bad blocks.  They are connected precisely with the ECC - when for various reasons (the electricity, firmware firmware, lunar storms ...) suddenly turned off, and the ECC turned out to be incorrect - this sector of the disk controller will be considered a failed one.  They can be corrected by rescanning the bad sectors - there are a lot of utilities now, starting with the famous Victoria. <br><br><h3>  Pro virtual 512 byte sector </h3><br>  The logo with "512e" means that the disk itself is already 4kb-sector, but it works in the emulation mode of virtual 512 byte sectors. <br>  The logo with "4Kn" says that the disk supports 4k native interface, such disks are on sale since 2014. <br><br>  Many still popular OS (here I am talking about Windows 7 and Windows Vista), do not support 4k disks natively. <br>  However, the old disks work fine for them, and the new disks provide an interface with virtual 512-byte sectors. <br><br>  On virtual 512-byte sectors should be remembered when you are testing 512e drives, or during the test run on an outdated OS. <br>  For example, the recording of random 512-byte sectors in such conditions will look like ‚Äúcount 4k, write 4k‚Äù, which obviously will produce an incomprehensible degradation of speed on the graph.  At the same time, linear read and write speeds will show normal performance. <br><br>  Windows supports 4k disks natively, starting with Windows 8 and Windows server 2012. <br><br><h3>  About Cluster Straddling. </h3><br>  This applies to those disks that work in 512e emulations (there are still a lot of such ones). <br><br>  Divide such a disk into partitions and format it with default settings.  Standard cluster NTFS-4 kilobytes.  The HFS + (or ext4) block is usually also 4 kilobytes.  And the physical sector of the disk is already 4 kilobytes.  A very convenient size (even the x86 mem page is also 4 KB). <br><br>  But during the partitioning of a 512e disk, it may turn out so that the partition will begin not from the beginning of the 4-sector, but with an offset of 512 bytes. <br>  As a result, the 4 kilobyte cluster / block will lie between the two 4 kilobyte physical sectors of the hard disk. <br>  Each time you read such a cluster, the hard disk (due to the logic of its work) will read two sectors entirely.  When recording, too, not everything is smooth. <br>  This problem is solved by various align utilities - the same WD Align Tool or HGST Align Tool for Windows 7 and higher. <br>  You only need to apply them AFTER you split the disk into partitions ‚Äî the utility will verify that the boundaries of the partitions coincide with the start of the new 4kbyte sector, and move them if necessary.  After that, you can work without a drop in performance. <br><br><h3>  Where information is read faster - at the beginning or at the end of the disc? </h3><br>  On hard drives, the first sector is on the outside of the disk, and the last sector is on the inside. <br><br>  At the beginning of time, the number of sectors on the track was the same, but it was so in the dense time that you can not remember.  Now the tracks that are closer to the beginning of the disk (outer side) contain more sectors. <br><br>  So, the linear speed of writing and reading information located at the <b>beginning of the disc is much higher</b> .  Exact numbers depend on the performance of the disk itself, but in percent - the difference can be 200% and even a little more percent between the most extreme tracks (!) <br>  The number of sectors per track is not indicated individually, but for an area into which several tracks are combined, so the difference in speed will not be visible for the two extreme tracks, but for the two extreme zones and gradually decrease towards the middle of the disk.  In addition, it is empirically possible to say that there are more ‚Äúfast‚Äù sectors on the disk - since there are simply more of them on the outer part of the disk. <br><br><h3>  How to store? </h3><br>  When compared to CDs, DVDs and flash drives, CDs and flash drives are clearly losing data storage duration.  DVDs can argue, but everything is ambiguous - high-quality discs, a good drive, and recording not at maximum speed are needed, and it‚Äôs still possible that the data will stop reading.  In addition, 4.5 or even 9 GB on DVD is not so much, plus the lack of comfort.  And you can save only once - contact with DVD-RW for long-term data storage is generally not worth it. <br><br>  I recorded over 5000 CD / DVDs in my time, tested reading.  Of course, the quality of reading and durability depended on the quality of the disc, but the same Verbatim, which was one of the standards of the CD-R 650, was rather mediocre in the DVD. And there could be something unfortunate in each game. <br><br>  If you take Blue Ray discs, then the cost of a writing drive and discs is such that, if not cheaper, then it is almost equivalent to buy a new hard disk after 5 years and copy data to it. <br><br>  At the moment, inexpensive ways to store personal data are mainly divided into: <br>  * If there is not too much data, and the Internet allows - you can store it in the cloud, or better in two different independent clouds, by pre-encrypting the data with a script / archiver.  Here I will advertise WinRAR, which besides archiving with a password, in addition can use ECC.  You can increase the size of the archive by a certain percentage, but you can have the opportunity to recover data from any damaged place in this archive, within this percentage.  It is even possible to split the archive into volumes, and create a volume for recovery as a separate file.  In antiquity, I actively used it with old floppy disks, when a whole floppy disk could simply not be read in another floppy disk drive. <br><br>  * Removable HDD, but I recommend changing the media at intervals of 3-5 years to a newer one, trying not to go too far from the warranty period.  You can simply buy a SATA / USB adapter and upgrade the system disk to a faster / more capacious, old disk to give backups. <br><br>  * Buy an inexpensive home NAS with a raid and set up an ordinary simple mirror.  This method is noticeably more expensive than the previous two, but if one of the disks fails, you just need to replace the broken disk with a new one, and the raid controller itself connects the new disk to the array and fills it with data.  That is, nothing will need to be re-configured, search and restore information from different backups.  Just replaced the disk and that's it.  The NAS is also very low power, it can be left on all the time and automate all backup processes. <br><br>  UPD: <a href="https://geektimes.ru/users/daemongloom/" class="user_link">DaemonGloom</a> recommends the wonderful WD My Cloud Mirror device, which comes at almost the price of hard screws, plus a small overpayment for the case / controller: <br>  "At current prices - a 2x4TB device gives $ 100 overpayment, 2x6TB - $ 80." <br><br>  Personally, I back up everything important to the second disk, and periodically upload archives to an external USB drive manually. <br>  Thus there is a) a working copy, b) a daily archive on the second disk, and c) approximately a monthly archive on an external disconnected disk.  But basically I'm starting to think about NAS. <br><br>  How do you keep it? </div><p>Source: <a href="https://habr.com/ru/post/394111/">https://habr.com/ru/post/394111/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../394101/index.html">Poll: what language is used in your OS</a></li>
<li><a href="../394103/index.html">Wind and ice on mars</a></li>
<li><a href="../394105/index.html">A smart bluetooth swab tells you when it's time to change</a></li>
<li><a href="../394107/index.html">Shadowplay LED Watch on the Arduino Uno Platform</a></li>
<li><a href="../394109/index.html">Committee of the State Duma approved a bill on total tapping users</a></li>
<li><a href="../394113/index.html">AOC and Jide have released all-in-one PC on Remix OS</a></li>
<li><a href="../394115/index.html">How much is your idea?</a></li>
<li><a href="../394119/index.html">The failure of the United States of RD-180 engines threatens some programs of NASA</a></li>
<li><a href="../394123/index.html">Minecraft Gameband - a bracelet for gamers</a></li>
<li><a href="../394125/index.html">On LG G Watch smart watches installed Windows 7</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>