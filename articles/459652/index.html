<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Automated regression testing approach</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello dear readers. We would like to coincide today's material with the launch of the "Python QA Engineer" course. Anticipating possible questions, we...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Automated regression testing approach</h1><div class="post__text post__text-html js-mediator-article"><p>  Hello dear readers.  We would like to coincide today's material with the launch of the <a href="https://otus.pw/a6Xg/">"Python QA Engineer"</a> course.  Anticipating possible questions, we warn that the article does not contain a word about Python, but we still find this material useful for testers, so we decided to share it with you. </p><br><p><img src="https://habrastorage.org/webt/8a/dt/mo/8adtmoertucef1dmhtaewwbf4bi.png"></p><br><p>  Testing every smallest detail of the code is an impossible thing, so regression testing should perform a comprehensive check and focus on a specific area in its entirety.  The main goal is to ensure that no regression error will damage the critical business process.  It is this effort that allows you to benefit from automation.  An automated testing approach that focuses on reducing regression errors will help go a long way toward building good customer relationships and increasing brand value. <a name="habracut"></a></p><br><p>  My team is responsible for testing the application for accounting, which uses complex calculations and puts the ledger records into the accounting system.  All of this is a workflow, and closing books every month is the most important. </p><br><p>  With each release, there are some changes in the calculations, for example, an account may need to increase debit or credit, or the available value may be divided between two accounts.  Such changes in a complex application that has many internal and external dependencies often lead to unpredictable behavior, including regression errors, in unexpected and seemingly unrelated places. </p><br><p>  Let's deal with the regression error, sometimes referred to as a critical incident or production problem.  Having worked for several years in the software industry, you understand that the regression error leaked to production is much more important than a wrongly functioning new function.  The fact is that the new function is still hidden, so when it breaks down, the impact on the business component is minimal, whereas with a regression error, the user relies on the work function and most likely does not have a backup version of the work system. </p><br><p>  Regression errors are caused by changes that were not taken into account by the project manager or the product owner during the acceptance tests;  architect, developer during code review at the design or implementation stage;  or QA-analyst and tester in test cases.  All security networks missed the error and a user came across it.  If an error in a recent update was detected at any of the above stages, i.e.  teams, interested parties or any other link that is present in your organization, then it was reviewed prior to release, or at least assessed for criticality. </p><br><p>  Regression errors entail several costs: urgent correction, fines for potential violation of the service level agreement and, most importantly, they damage your users' trust in your product.  They may decide that a new release will break something that is already working. </p><br><p>  It became important for my team to check everything. <br>  However, it is well known that this is impossible, or at least too expensive and time consuming.  Therefore, ‚Äútesting everything‚Äù focused on the following two things: critical business processes and confidence that the behavior in the main critical business processes will be the same as in the last release before the change.  In general, we wanted to make sure that a regression error did not appear in the latest release in the critical business process. </p><br><p>  We evaluated our typical automated testing approaches to validate calculations and verify that all of the logic is described in code to automate testing.  This approach led to the classic question: ‚ÄúWho is testing the code of the tester?‚Äù If the test case was unsuccessful, the same probability remained that the problem was in the code of the tester.  In addition, with each change in the application, the test code also needs to be updated, and such changes happened often. </p><br><p>  Also, thanks to automated testing, we made sure that we have a fixed set of inputs and an already known set of outputs.  Due to the complexity of the application, it was impossible to submit all possible input data sets at once.  Also needed were various data sets for the end of the month, quarter, year.  The schedule was a serious problem, since it takes a long time to generate a huge set of input data and the corresponding scripts. </p><br><p>  There was another variable: user data.  We had a special privilege: we received backup copies of user data every month.  The quality of the test is directly dependent on the data used for testing, and the production data is always better than the generated data, so our privilege was a huge advantage that we did not want to lose. </p><br><h3 id="vyyavlenie-i-realizaciya-regressionnyh-testov">  Identify and implement regression tests </h3><br><p>  Our idea was to use automated testing, which needs the minimum necessary maintenance, and which strengthens the confidence of stakeholders that the release will be of good quality. </p><br><p>  So, we needed a testing strategy for critical business cases that would guarantee the absence of regression errors and, of course, that we could quickly put into practice. <br>  Our preparation process looked like this: </p><br><ul><li>  Backup database with production, restored twice; </li><li>  Two test systems are installed, which work in parallel: <br><ul><li>  One with a production code; </li><li>  Another one with the current version of the application under test. </li></ul></li></ul><br><p>  This approach provides two identical systems with differences in the code in just one version: <br>  Having two systems is quite important because it helps to understand that any problem occurs only due to the latest code changes. <br>  Tests are separated, so from the standard process ‚Äúperform an action and get a reaction‚Äù we move to the fact that actions are performed from one point to another while preserving the workflow, after which the error reports are compared.  This is the key to identifying unexpected errors. </p><br><p>  When the tester focuses on a new function or some change, the test turns out to be oriented specifically to it, i.e.  verifies the relevance of a specific change.  Regression testing is different in that it must verify that nothing has changed.  This difference is reflected in automation scripts.  It makes scripts testing specific functions unsuitable for finding regression errors, so a different approach is needed here. </p><br><p>  For example, if you are working with an order management system, you need a script to place orders with a lot of input data to place orders for two installed test systems (preferably working in parallel), then you get a report on the orders for the past day and compare each value.  Then all orders are confirmed or approved (this action), and reports, such as daily confirmed orders, orders by nomenclature, reports from the warehouse, orders from each carrier, type of shipment, type of payment, etc.  will be compared in two systems.  This continues throughout the entire workflow.  You can combine actions, such as placing and confirming orders, and then compare reports at separate stages. </p><br><p>  Another example is a hotel management system, in which individual actions are defined as critical business processes, such as check-in, billing in a restaurant, and receiving inventory.  All these processes will be assigned their own actions and reports.  The difference in this system compared to the previous example is that test suites can be run in parallel, and there is no need to complete a step before starting the next one. </p><br><p>  A comparison of two reports is a moment of truth, and it must be flawless, in the sense that no stakeholder should have doubts about its correctness.  The difference in the reports is the real difference. </p><br><p>  For this operation, we use the web service interface.  All report submissions are performed in parallel on two systems, and the resulting response is compared in JSON format. </p><br><p>  The comparison takes place on three fronts: </p><br><ul><li>  Source (production) minus target (application under test); </li><li>  Target minus source; </li><li>  Comparing values ‚Äã‚Äãto get the intersection. </li></ul><br><p>  This will work for XML, XLS, fixed-width CSV or any other format.  We need to make sure that there are no unnecessary records, no missing records, and all the values ‚Äã‚Äãof the records are the same. </p><br><p>  This is the essence of the approach we are talking about.  All this is information available for reading in an application that is issued as a report or, in some cases, acts as an interface to other applications. </p><br><p>  The success of this approach lies in a comparison tool or utility that processes cases related to your application.  You can consider yourself lucky if you find something suitable out of the box, otherwise, it is important to understand that investing in such a tool is worth it, because they will bring good results. </p><br><p>  After all the talk about automation, you need to insert a remark.  Since some differences in the reports are expected, as they must be there in accordance with the requirements, all results must also be analyzed manually.  There should be clear successful results of passing test cases, however, unsuccessful results should also be analyzed and their validity must be confirmed.  Since we are talking about regression testing errors, they should be corrected before release.  Of course, there are some exceptions that are handled in accordance with the application. </p><br><h3 id="nastroyka-programmy">  Program setting </h3><br><p>  All applications are different, and installing and configuring them also happens in different ways.  Some additional steps may be required to prepare an application for testing, so they need to be considered at the right time and in the right place to perform the tests.  Here is a set of typical steps: </p><br><ul><li><p>  ‚ÄúConfuse‚Äù the data from the production by deleting e-mail identifiers or other confidential information, or replace it with dummy data; </p><br></li><li><p>  Receive data in proper form to run the test; </p><br></li><li><p>  Adapt settings for QA-environment, for example, by changing the integration of communication. </p><br><p>  The only point to remember is that the listed actions must be performed for both installations.  Remember that before you start executing a test suite, the settings must be identical. </p><br><p>  Often, actions other than a report request may return an object, for example, an action, such as creating or modifying an order, may return a new order object.  In this case, you need to compare two objects and not wait for the comparison of reports.  This can help identify the error in the early stages at the root. </p><br><p>  It is also recommended to break the entire set into smaller sets, for example, by grouping transactions and related reports together.  Kits can be run in parallel to save execution time.  However, for an application with a characteristic workflow, this will only work if you can split the cases vertically and horizontally or vice versa. </p><br><p>  Variations can begin with technologies - JSON, XML or scalers (int / string / float), and expand to the point that the application under test and production will respond with different structures, but still correspond to the architecture.  For example, the production version can use the old JAR file that operates on a specific format, and in the new version the JAR file has been updated and now the response format has changed, so comparing them will show inconsistencies.  In order to compare them properly, you will need a temporary plugin. </p><br><p> There will probably be few such situations.  In such cases, it is sometimes easier to tweak the design or view them in the context of a workaround. </p><br><p>  There are several options for processing such comparisons: </p><br></li><li><p>  Ignore some fields, such as identifiers and dates; </p><br></li><li><p>  Ignore numeric differences less than 0.0001; </p><br></li><li><p>  Ignore case sensitivity; </p><br></li><li><p>  Structure changes in two responses. </p><br></li></ul><br><h3 id="uluchshenie-regressionnogo-testirovaniya">  Improve regression testing </h3><br><p>  Regression testing should be holistic and focus on the whole area.  This balance will help to benefit from automation.  An automated testing approach will help reduce the number of regression errors and help on the path to good customer relationships and increasing brand value. </p><br><p>  Now, in the rhythm of constant movement forward, our team wants to try to abandon two identical system settings that we are using now and implement the same strategy on one installation.  We want to save responses from past executions and use them for comparison.  The hike to testing can always be improved.  Wish us good luck with this! </p><br><p>  <em>Translation prepared specifically for students of the course <a href="https://otus.pw/a6Xg/">"Python QA Engineer"</a> .</em> </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/459652/">https://habr.com/ru/post/459652/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../459630/index.html">Tic Tac Toe, Part 2: Undo / Redo with state storage</a></li>
<li><a href="../459638/index.html">Create a global knowledge base on nutrients</a></li>
<li><a href="../459640/index.html">Docs as Code. Part 1: Automate the Update</a></li>
<li><a href="../459644/index.html">Dimmers for LED lamps</a></li>
<li><a href="../459650/index.html">How not to lose money in a black box: billing testing methods</a></li>
<li><a href="../459656/index.html">OData service without writing code</a></li>
<li><a href="../45966/index.html">MySQL file storage and distribution</a></li>
<li><a href="../459662/index.html">PVS-Studio wanted, but could not find bugs in robots.txt</a></li>
<li><a href="../459668/index.html">How to recognize a text with a photo: new possibilities of the Vision framework</a></li>
<li><a href="../45967/index.html">Problem when using OutputCache in CustomControl</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>