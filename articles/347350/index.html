<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Style Tips. How to write a readable React code</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When a developer conducts a code review, he rarely has enough time to delve into each line: you have to quickly think through various situations in wh...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Style Tips. How to write a readable React code</h1><div class="post__text post__text-html js-mediator-article">  When a developer conducts a code review, he rarely has enough time to delve into each line: you have to quickly think through various situations in which this code may not work.  When analyzing, there are several points to pay attention to quickly understand exactly how the code works.  Nirmalya <a href="https://medium.freecodecamp.org/%40nirmalyaghosh%3Fsource%3Dpost_header_lockup">Ghosh saw a</a> few tricks on how to make the javascript code more elegant when creating components using the React library.  Although we have our own particularities of development at ESF, which you can read about in this <a href="https://habrahabr.ru/company/efs/blog/328012/">article</a> , we find some of the techniques described under the cut interesting.  We read and discuss in the comments! <br><br><img src="https://habrastorage.org/webt/yb/o-/89/ybo-89du84d_kdlkyydoxy5zpbm.jpeg"><br><a name="habracut"></a><br><h2>  Always use Prop-types to describe the properties of your components. </h2><br>  <a href="https://github.com/facebook/prop-types">Prop-types</a> is a module for checking types of React-properties and similar objects in runtime mode.  Prop-types checks the property passed to the component to match the desired type. <br><br>  If the type of the property passed to the component does not match the description, a warning will appear in the browser console.  In the example above, the console will issue the following warning: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="hljs markdown">"Warning: Failed prop type: Invalid prop <span class="hljs-code"><span class="hljs-code">`message`</span></span> of type <span class="hljs-code"><span class="hljs-code">`string`</span></span> supplied to <span class="hljs-code"><span class="hljs-code">`Hello`</span></span>, expected <span class="hljs-code"><span class="hljs-code">`array`</span></span> in Hello"</code> </pre> <br>  From this message it follows that the message property of type string is passed to the Hello component, although an array is assumed. <br><blockquote>  Although if you don‚Äôt like to write propTypes for each component, it is possible to use TypeScript, which allows you to check the compatibility of components not during debugging, but directly when compiling a project.  In the development of a unified frontal system, we use TypeScript, since the speed of feedback significantly reduces the cost of developing large projects. </blockquote><br><h2>  Use displayName to determine the name of the component. </h2><br>  The <a href="https://reactjs.org/docs/react-component.html">displayName</a> string is used in debug messages.  If you have not used displayName in your components yet, be sure to try! <br><br>  As a rule, when debugging code using the <a href="https://github.com/facebook/react-devtools">React developer tools</a> extension, you see components in it, whose names are taken from the name of the function or class that describes the component.  However, if you have two components with the same name (button, dropdown, etc.), then you will most likely have to rename one of them.  Otherwise, you cannot distinguish between them. <br><br>  displayName solves this problem - the component can be renamed by setting this property to it.  In the example above, even though the class is called Component, in the React developer tool extension you will see the name Hello, because Hello is its displayName. <br>  This technique is very useful for debugging, but it is often underestimated. <br><blockquote>  Also in production assemblies you may not see the name of the components in React DevTools, since all the names of the components are obfuscated.  displayName allows you to display the name of the component and it will be easier for you to find the error even in the combat configuration. <br></blockquote><h2>  Use linter to make it easier to check your code. </h2><br>  If you care about clean code, you should use linter to check it.  Such tools help to unify the style of the code in your team: if you strictly follow the given rules, the code base will always be uniform. <br><br>  For example, you can take the rule to use a semicolon at the end of a line.  If the developers do not follow this rule, linter will display an error or warning message depending on your settings. <br><br>  The most famous linter is <a href="https://eslint.org/">ESLint</a> , but you can use any other tool suitable for you. <br><blockquote>  Since projects on the EFS platform are developed in TypeScript, we use TSLint in our work, the checks of which are run at every Pull Request, which does not allow code that does not correspond to the code style command accepted in the main branch. <br></blockquote><h2>  The first iteration is not always the best. </h2><br>  Many of you know this - the first iteration is not always the best.  You should carefully check your original code and think about what you might have missed.  One way to test is to use the excellent, but rarely used Test Driven Development (TDD) technique.  Using this approach, the first iteration can be the best.  Think about what you are going to do before you write the first line of code, and when you introduce a new functionality or correct a mistake, look at the changes made and think about how to improve them. <br><blockquote>  There are several types of testing in the Unified Frontal System Program: in addition to unit tests built on the karma + jasmine stack, we use regression testing with comparing screenshots built on gemini technology.  As we develop large applications, we pay a lot of attention to integration testing.  We will not disclose in detail who has relevant cases or examples, let's discuss in the comments. </blockquote><h2>  The structure of the project should be clear </h2><br>  Splitting large functions into smaller functions allows you to reuse these functions.  In addition, small functions are easier to test.  To get rid of code duplication, duplicate pieces of code can be placed in special service files. <br><br>  After creating several files with the code, look, they probably have lines that overlap.  They can be placed in the service file, and then used in other files. <br><br>  In addition, it is important to divide one file into many small ones.  Analyzing one large file is always more difficult than several smaller ones.  If you break the code into several small files, each of which contains its own logic, it will become easier to view these files. <br><br><h2>  Be very careful when you name files. </h2><br>  Another thing to remember: if you name your files according to the functionality they contain, it will help you and other developers to better understand what is actually happening in this file. <br><br>  For example, dropdown.js is a good name, but it is too general, so using it for several files in one directory, for example, topDropdown.js, bottomDropdown.js, is a bad practice. <br><br>  As a prefix in the file name, it is better to use the task that the code in the file should perform.  For example, userDropdown.js, fileDropdown.js, etc. <br><br><h2>  Always write tests for your code. </h2><br>  The importance of this advice can not be overemphasized.  After the development of new functionality, you hope that the code works - it can actually work.  But most likely, there will be boundary conditions under which it will work incorrectly.  Tests will help identify such cases. <br><br>  Obviously, writing tests will increase development time, but at the same time it will help eliminate possible errors and save time in the future to find and correct them. <br>  If you care about the quality of the application, take the time to write tests. <br><br><h2>  Do not abuse reception for error handling. </h2><br>  In React 16, an efficient way to <a href="https://reactjs.org/blog/2017/07/26/error-handling-in-react-16.html">handle errors appeared</a> - Error Boundaries. <br>  In fact, Error Boundaries are React components that catch errors in their child components and output replacement code (fallback UI) instead of the component that broke. <br>  If the fallback code is present in your ErrorBoundary component, you can encapsulate your YourComponent component inside it: <br><br><pre> <code class="javascript hljs">&lt;ErrorBoundary&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">YourComponent</span></span></span></span><span class="xml"><span class="hljs-tag">/&gt;</span></span></span></span> &lt;<span class="hljs-regexp"><span class="hljs-regexp">/ErrorBoundary&gt;</span></span></code> </pre> <br>  This is a great way to output backup code for your components in case of errors.  However, it is not necessary to put all your components inside ErrorBoundary.  You can place the ErrorBoundary component in <a href="https://reactjs.org/blog/2017/07/26/error-handling-in-react-16.html">only a few critical areas of the code</a> . <br><br><blockquote>  In developing the EFS platform, we use Error Boundaries for centralized error handling.  Each of the errors falls on a special REST-service, allowing subsequent analysis of errors made in the development of applications. </blockquote><br><h2>  Check your code before sending. </h2><br>  Whether you are developing a new functionality or correcting errors, the likelihood of haste when sending changes and creating a pull request is high. <br><br>  Often, the developer does not look at the changes made, and therefore does not see room for improvement, when it is reasonable to break large functions into smaller ones and divide the code into modules.  The habit of analyzing your own code helps to improve its quality. <br><br>  We specifically endured this advice in conclusion, since this is one of the most common mistakes that delays the review of the code.  The developer who opened the pull request for the first time sees the overall picture of all the changes, after which he adds new commits to the branch instead of immediately checking his code before opening the pull request. <br><br>  We hope that the tips described will help make your code better!  We invite you to discuss in the comments. </div><p>Source: <a href="https://habr.com/ru/post/347350/">https://habr.com/ru/post/347350/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../347340/index.html">Scales and barcodes: How retailers and manufacturers ended up in a deep ... puddle</a></li>
<li><a href="../347342/index.html">Navalny Headquarters IT infrastructure and signature collection: project management</a></li>
<li><a href="../347344/index.html">Features of industrial aerial photography. Part I. Preparatory rake</a></li>
<li><a href="../347346/index.html">How to use all the features of mobile OS in React Native</a></li>
<li><a href="../347348/index.html">LittleFS is a compact and economical file system for ARM microcontrollers comprising mbed os. Fast start</a></li>
<li><a href="../347352/index.html">Interaction of C # and C ++ cross-platform</a></li>
<li><a href="../347354/index.html">Learn OpenGL. Lesson 4.5 - Framebuffer</a></li>
<li><a href="../347358/index.html">Unit tests. Quick start - effective result (with examples in C ++)</a></li>
<li><a href="../347360/index.html">How we built the data infrastructure in Wish</a></li>
<li><a href="../347362/index.html">Avito in the Russian-speaking PostgreSQL community: open 2018, remember 2017</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>