<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Vogue-Tec News # 0</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Review of innovations, interesting and general events around the player from Vogue magazine 
 Content 


- Linux? Linux! 
- We pick the software 
- uC...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Vogue-Tec News # 0</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage/76f4b801/573916b7/c19e368a/ecabbf11.jpg"><br><br>  Review of innovations, interesting and general events around the player from Vogue magazine <br><h4>  Content </h4><br><ul><li>  Linux?  Linux! </li><li>  We pick the software </li><li>  uCOS &amp; miniOS </li><li>  PS / 2 interface </li><li>  Site, manuals, downloads and Credits </li></ul><br><a name="habracut"></a><br><h4>  Linux?  Linux! </h4><br>  First, a bit of history: after it became clear that the topic on Habr√© had already broken two times, and the third one <a href="http://habrahabr.ru/users/hyborg/" class="user_link">would</a> burst, <a href="http://habrahabr.ru/users/hyborg/" class="user_link">hyborg</a> organized a <a href="http://groups.google.com/group/vogeeky">Google group</a> , or more simply, a mailing list, which was joined by people interested in the project.  Only in the first week, about 200 messages were sent, the total number of users in the group exceeded 70 and continued to grow. <br><br>  With regards to the very launch of Linux, comrades <a href="http://habrahabr.ru/users/kmeaw/" class="user_link">kmeaw</a> and <a href="http://habrahabr.ru/users/stolen/" class="user_link">stolen</a> posted their kernels based on Ingenic cores, collected in the case of kmeaw with the help of the gente crossdev, and with the usual toolchain, in the topic.  But the launch was just a little, and various kernel modules were badly buggy, it didn't work properly to screw the rootfs, but soon the solution was found - it turned out that the JZ4725B processor is almost identical to the JZ4750L clone, for which one Japanese found (or wrote) the kernel and wrote patches for its existing <a href="http://www.engadget.com/2009/11/09/neo-slim-3000-handheld-promises-game-emulation-and-more/">Neo Slim 3000</a> devices - a portable console in the spirit of ‚ÄúNES / GBA emulator / heap / other console), and a pair of media players.  After some time, through the efforts of the test hours, the <a href="http://habrahabr.ru/users/isage/" class="user_link">iSage</a> and faust habrauser (Habralogin unknown) wrote the config for our player's XZ0032 board, based on the Neo Slim 3000 board config, so says the label on the board itself.  Linux was successfully launched, after some time the rootfs from Ingenic were screwed with Qtopia by <a href="http://habrahabr.ru/users/tronix286/" class="user_link">tronix286</a> and other people, but the main achievement is the screen - it took completely to see what <a href="http://habrahabr.ru/users/odinokij_kot/" class="user_link">Odinokij_kot</a> helped, that is, to determine which pins on the processor go to which pins on the connector of the cable screen.  After a while, the screen was successfully launched, the bug from the blue screen was overcome - the driver of the buttons was broken and instead of the buttons it pulled the GPIO of the screen.  The sound was turned on, faust wrote the simplest polling button driver and repaired the SADC button controller - it turned out that the K3-K6 buttons are connected through a group of resistors and are not connected directly to the processor.  Also, USB-Ethernet was raised, and then USB Gadgets Hotplug, which, alas, is only assembled into modules, which made it possible to control the device without a UART.  In the meantime, whitequark (Habralogin unknown) added along with Sergey Gridassov an analogue of usbboot from Ingenic - JZboot, and put it all into his <a href="http://git.whitequark.org/">git</a> , which allowed it to be properly stitched without using windows.  Now whitequark has organized the kernel branch being developed and is transferring patches to the new version, since  in the old it found Kernel oops when working with UBIFS, which it was planned to switch to with YAFFS2, which is used now. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Thus, the overall work turned out to be a fairly stable kernel, which already managed to launch not only Qtopia, but also custom assembled rootfs, which I took up, taking as a basis the most recent version of rootfs from Ingenic. <br><br><h4>  We pick the software </h4><br>  Let's go to the contents of rootfs.  After several tests, MPlayer was found out - it is compiled for other processors and generally works crookedly, one of the available versions of MPlayer normally read only audio, the other only video, and in place they were not usable.  Resources came to the aid of users of the portable console Dingoo, also working on Ingenic processors.  Dingoo already had its own Linux port by the name of Dingux, and had its own wiki, which explained how to build software and make MPlayer work normally, iSage learned that you need to activate the JZ Chars core module for some reason turned off for our processor TCSM and rebuild MPlayer, after that, MPlayer began to work much more stable and faster, in places it began to eat normally not compressed video, it stopped pouring underruns.  Then it was time for another software - I tried to collect various console mp3 players on ncurses and finally came to the conclusion that the best way out for music is mpg123 and wrappers for it.  iSage meanwhile assembled PrBoom - the Doom port of the Linux engine with improvements and it started up right away :) I tried to build sdlquake, which so far has not been crowned with particular success, until I solved the problem of finding files, the quake engine stubbornly fails to see its pak0.pak , but it starts, which pleases.  Similarly, the gmenu2x shell, which is essentially an SDL menu, was finished, it still has a bunch of glitches and is not yet manageable, but already gives good signs of life, which is good news. <br><br>  I tried buildroot, squirrel and ptxdist from the software of the rootfs itself, and none of them met my requirements, buildroot showed itself well, but contained tons of glitches and bugs, could simply stop gathering for no particular reason, and so on, to this, I decided to leave my rootfs on older components, simply by updating busybox and other key things as much as possible.  I also added a dropbear patched to the root login, hooked up key generation, turned off telnet altogether, now you can flash the device and immediately after generating the keys get the console without resorting to anything other than setting up the network on your computer and working with the ssh client. <br><br>  At the moment, I am working on turning the board into an mp3 player, according to my idea everything should be like this - the user is flashing his board, sticking it into the computer, the usb gadgets file-backed storage rises on the device, and the user uploads files, then any specific file and rebuses the player, then the player on the download launches mplayer to the directory and scrolls through the buttons with buttons.  The same can be done with the video, but it is worth considering that the memory is currently marked up only 761MB. <br><br>  Other assemblies, public assemblies of rootfs, I, alas, have not met for all the time of discussion. <br><br><h4>  uCOS &amp; miniOS </h4><br>  At the end of the topic on Habr√©, there were reports of finding players with similar processors and similar boards, this topic was immediately checked by <a href="http://habrahabr.ru/users/xlab/" class="user_link">Xlab</a> , but at that time it was not crowned with success.  Recently, tronix286 contacted the Chinese and received software to create minios firmware and configs for a large number of boards and processors, the Chinese asked them not to transfer to anyone, for obvious reasons, because this is Ingenic internal software.  Perhaps in the near future we will see the native firmware for our player, of course it will have to be finished and adjusted, but I think we can handle it. <br><br><h4>  PS / 2 interface </h4><br>  During the discussion of possible interfaces, suddenly the idea arose to connect the good old PS / 2, to which an answer was immediately found - yes, it is possible, and it has already been done on other devices.  There are kernel drivers that can work with PS / 2 via GPIO pins, the problem arose in synchronization, since  PS / 2 is the USRT protocol.  whitequark confirmed that he tried to do this with other ears, but the controller was 12 MHz and could not cope with the task, our 360 MHz would be enough to synchronize the PS / 2.  Comrade <a href="http://habrahabr.ru/users/dlinyj/" class="user_link">dlinyj</a> took up this, and maybe soon will tell good news. <br><br><h4>  Site, manuals, downloads and Credits </h4><br>  After the discussion in the Google group had grown to a large scale, hyborg created a <a href="http://vogeeky.co.cc/">Google site</a> , on which my instructions for building firmware, compiling the kernel and software with links to the latest snapshots were copied, the whitequark U-boot and JZboot manuals were added in the same way .  Also, a page was created with a description of who did what for the project, a kind of captions. <br><br>  At the moment, these are all important news about the player from Vogue magazine, the next checkpoint will be when tronix286 launches the firmware from some player and this all works together, but I think he will write to you about it, or when the situation with the completion of gmenu2x is cleared. <br><br>  PS: If I have forgotten someone or something, I apologize in advance. </div><p>Source: <a href="https://habr.com/ru/post/110645/">https://habr.com/ru/post/110645/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../110630/index.html">Out on saga game Back to the Future</a></li>
<li><a href="../110638/index.html">Skype work recovery</a></li>
<li><a href="../110640/index.html">Google Nexus S and Android 2.3 video review</a></li>
<li><a href="../110641/index.html">New Chinese restaurant does not use hired power, only robots</a></li>
<li><a href="../110643/index.html">Introduction to SaaS - project management systems. Part 1</a></li>
<li><a href="../110646/index.html">A new type of memory surprises even its inventors.</a></li>
<li><a href="../110648/index.html">"Aeroflot" began to provide mobile communications in the air</a></li>
<li><a href="../110650/index.html">ABBYY Recognition Server and Contemporary Art</a></li>
<li><a href="../110651/index.html">To hell with everything or how to get 100k views in 3 hours of work</a></li>
<li><a href="../110652/index.html">Canobuvosti, 71st edition</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>