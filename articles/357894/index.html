<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Crazy hands: "Stern dispenser"</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Foreword 
 Many were faced with a situation where, when leaving for the summer on a well-deserved vacation, they had to leave their pet with no news w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Crazy hands: "Stern dispenser"</h1><div class="post__text post__text-html js-mediator-article"><h5>  Foreword </h5><br>  Many were faced with a situation where, when leaving for the summer on a well-deserved vacation, they had to leave their pet with no news with those unfortunate for 14 days, thereby limiting themselves and others with obligations and cares, disrupting the already 2 hours of enjoying the sea and the sun Nights from a childhood friend: ‚ÄúSeryoga, I'm sorry, the food you gave is over, but your Martin doesn‚Äôt eat Kitek, which I give to my Murzu,‚Äù ‚ÄúEmergency: you need to leave your city for 3 days, with Baba Galya "and so on and so forth  like these are. <br><br>  As a student of the University of Informatics and Radioelectronics, I decided to solve this situation in the most logical way for me - to create a device with which I no longer have to shift cares about caring for pets to my friends and relatives in my absence.  Fortunately, the work on the course project with the same name (‚ÄúCoincidence? I don‚Äôt think ...‚Äù) gave a stimulus and motivation to creativity.  As you know, in the everyday life of the average student there is rarely a place for extra money, especially when it comes to particularly expensive gadgets and household items.  Therefore, it was decided to do only with what was available at home, as well as donations from friends and relatives. <br><a name="habracut"></a><br><h5>  Where to begin </h5><br>  Since I decided to do the work absolutely from scratch, without resorting to using ready-made cases, I decided to think about how to organize the device management and operation, the choice (unfortunately, small) fell on the Arduino Uno R3, bought just for the implementation of the very course project. <br><br>  Determined with the control device, the case for the case.  For the case, two rather capacious buckets were chosen - from ice cream and cabbage, the microcontroller's case ideally fit into the case of the 2003 Genius Easy Mouse Pro PS2 ball mouse. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/a17/08c/397/a1708c3971e14cfcbf69d8a3651e4231.jpg"><br><br>  The dosage system will consist of a drive and a regulator.  The drive for the supply is made using an electric motor from an AirWick automatic air freshener.  Alternatively, you can use any 3.5 volt motor. <br><br><img src="https://habrastorage.org/files/f16/949/ed4/f16949ed450c4e5d9aec97bab2c755bc.jpg"><br><br>  In the end, it was decided to make the regulator out of a photoresistor and a blue LED, borrowed from the set of a young electrician of a group mate. <br><br><img src="https://habrastorage.org/files/a79/f76/4f9/a79f764f91ec49c8bdb4cc474d7cec37.jpg"><br><br>  The organization of a kind of ‚Äútimetable‚Äù was decided to be made with the help of a motion sensor; such ones are installed in the automatic lighting control systems in the rooms. <br><br><img src="https://habrastorage.org/files/618/6b4/4a5/6186b44a54fa4fcd8de0189a4d4bbe8f.jpg"><br><br>  Initially, it was decided to make the issuance schedule with a period of 8 hours, without using any sensors.  However, the idea had to be abandoned, due to the unreliability of the system. <br><br><h5>  Assembly of the device </h5><br>  To begin with, we will make the necessary holes in the bucket from the cabbage, read the lower part of the body. <br><br><img src="https://habrastorage.org/files/eae/a28/7d9/eaea287d957d48e1b07971c7c5535da4.jpg"><br><br>  Holes we need to install the regulator and the tank under the feed. <br><br>  At the bottom of the bucket from the ice cream (top), we need a hole for signaling the LED to the photoresistor (see above), as well as a larger hole for feeding.  On the side of the bucket will place a hole for mounting the regulator.  In the center of the bottom we place holes for the shaft and its attachment to the circle of the dispenser itself, the circle will be lower.  On the top lid we secure the case from the mouse with a microcontroller, simultaneously making holes for the connecting wires. <br><br><img src="https://habrastorage.org/files/ff9/aba/292/ff9aba2922604d6182ed0ea6919bd6e5.jpg"><br><br>  The drive for feeding is made of an electric motor on the shaft of which the dispenser.  The batcher, in turn, is made in the form of a plastic circle with a cut-out hole.  Actually, through the hole and feed is fed into the tank by rotating the circle by an electric motor.  The motor itself with the connected wires is placed on the bottom of the upper part. <br><br>  Let's go to the regulator.  To do this, you need a U-shaped bracket for mounting the photoresistor exactly above the LED.  In this case, an aluminum bracket for fixing drywall was used, it was chosen because of its flexibility, as well as convenient holes for mounting the LED and the resistor. <br><br>  Before assembling the individual elements, connecting the elements themselves, make sure to connect all the wires and smaller elements, the basic wiring diagram: <br><br><img src="https://habrastorage.org/files/311/232/2f4/3112322f423144818350b523193cdd19.jpg"><br><br>  In the diagram: <br><br>  PIR - pyroelectric motion sensor: <br><br><img src="https://habrastorage.org/files/7c0/4e0/d55/7c04e0d557b542ff97ec2e0d2ecff992.PNG"><br><br>  M1 is an electric motor, R2 is a 10 kOhm lowering resistor, for which you need to look <a href="http://arduino-diy.com/arduino-fotorezistor">here</a> , R1 is a 220 Ohm resistor, VD1 is a LED, PR1 is a photoresistor.  A1 - Analog input Arduino, D7, D4 and D13 - Arduino digital inputs. <br><br>  After connecting and assembling, we place a protective screen on the periphery; in our case, the top part of the bottle from soda pops out so that the feed does not fall on the movable parts, it is recommended to use dry food to prevent the dispenser opening from clogging up. <br><br><img src="https://habrastorage.org/files/2c6/65e/5d1/2c665e5d10724b8191a149bdd6186448.jpg"><br><br>  The simplest sketch: <br><br><pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> pirMSPin = <span class="hljs-number"><span class="hljs-number">7</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> pirEMPin = <span class="hljs-number"><span class="hljs-number">4</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> pirDaPPin = <span class="hljs-number"><span class="hljs-number">13</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> portion; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> delayflag; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> sensorValue; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setup</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ pinMode(pirMSPin, INPUT);<span class="hljs-comment"><span class="hljs-comment">//motion sensor pinMode(pirEMPin, OUTPUT);//electrical motor pinMode(pirDaPPin, OUTPUT);//diode and photoresistor digitalWrite(pirDaPPin, HIGH);//turn on diode and photoresistor Serial.begin(9600);//set baud rate } void checkPhoto() { if(sensorValue&gt;600) potion++; } void turnOffEM() { digitalWrite(pirEMPin, LOW); } void makeDelay() { delay(600); delayflag=1; } void turnOnEM() { digitalWrite(pirEMPin, HIGH); } void loop() { portion=0; delayflag=0; //digitalWrite(pirEMPin, LOW); int pirValMS = digitalRead(pirMSPin); if (pirValMS == HIGH) { Serial.println("MOVEMENT"); do{ sensorValue = analogRead(A0); Serial.println(sensorValue); checkPhoto(); Serial.println(flag); if(portion==1){ turnOnEM(); if(delayflag==0) makeDelay(); } if(portion==2) turnOffEM(); }while(portion&lt;2); //delay for a portion extraction, AKA timetable for 3 portions a day delay(28800000); } else { Serial.println("no movement"); } }</span></span></code> </pre> <br><h5>  Comments to the sketch, as well as the operation of the device </h5><br>  After receiving data on the registered movement, a signal is received to start the dosing process.  The batching process begins by reading the value of the photoresistor, if the value of the photoresistor signal is high enough, then this means that the photoresistor registers the signal from the LED and the feed delivery mechanism is in the closed position.  Then the motor starts and the dosing process begins.  The dosing process ends when the high signal is re-recorded from the photoresistor, which is an indicator of the complete dosing cycle. After the batch is discharged, the system goes into standby mode, the duration of which can be set by reprogramming the microcontroller using the delay string (28,800,000).  The number of dosage cycles (portions) can also be set by changing the variable with the telling name portion, delayflag is used to adjust the position of the dispenser. <br><br><h5>  Issue price </h5><br>  Given that the Arduino controller was available a priori, the components in the final version had to be paid only for the sensor, which costs about three conventional units. <br><br><h5>  <b>Eventually</b> </h5><br>  For two evenings of work we get an affordable system, in which our beloved pet will not go hungry, and the wallet will not empty. <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/xw9tPqIBLj0%3Ffeature%3Doembed&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjAQzNPWr80uhLcSFnXnY_n-CFf4w" frameborder="0" allowfullscreen=""></iframe><br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/jUM_8jsBLQI%3Ffeature%3Doembed&amp;xid=17259,15700023,15700186,15700190,15700248,15700253&amp;usg=ALkJrhiq2JCrs-5Lr1m2lJWLRN-x2Cx75w" frameborder="0" allowfullscreen=""></iframe></div><p>Source: <a href="https://habr.com/ru/post/357894/">https://habr.com/ru/post/357894/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../357884/index.html">Forecaster Class for Weather Station or Weather Predictor</a></li>
<li><a href="../357886/index.html">Arduino: TV viewing time limit using RFID RC522 and</a></li>
<li><a href="../357888/index.html">DMX-512 Channel Level Transmission Visualization</a></li>
<li><a href="../357890/index.html">We process lines on Arduino</a></li>
<li><a href="../357892/index.html">Based on "Processing lines on Arduino"</a></li>
<li><a href="../357896/index.html">Arduino Home Weather Station</a></li>
<li><a href="../357898/index.html">Build a graph on the character display 1602 Arduino</a></li>
<li><a href="../357900/index.html">Dual axis solar tracker on Arduino</a></li>
<li><a href="../357902/index.html">The Real Truth About Arduino Hate Programmers</a></li>
<li><a href="../357904/index.html">Smart LED flashing in Arduino</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>