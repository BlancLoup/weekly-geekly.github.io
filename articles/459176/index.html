<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Stable high voltage source to power the PMT</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The use of a photomultiplier tube is a very simple way to obtain the highest sensitivity of a photodetector, up to the registration of single photons ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Stable high voltage source to power the PMT</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/mt/rk/m3/mtrkm3bon-cvfmofnpjwap8kc8s.jpeg"><br><br>  The use of a photomultiplier tube is a very simple way to obtain the highest sensitivity of a photodetector, up to the registration of single photons with excellent speed.  And considering the mass of PMTs produced in the USSR and still lying in warehouses, it is also relatively inexpensive (modern ‚Äúbranded‚Äù PMTs are nevertheless expensive for amateur use).  But for powering the photomultiplier tube, a voltage source of 1-3 kilovolts is needed, and, moreover, very stable. <br><br>  The fact is that the sensitivity of the PMT depends on the anode voltage exponentially and very sharply: it increases 10 times with increasing voltage by 80-300 V, depending on the type of PMT.  And if it is necessary to ensure the stability of the gain at the percentage level, for some PMTs it is necessary that the voltage does not change by more than 0.1-0.3 V! 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In this article, I present a high-voltage source circuit for a photomultiplier, which has proven itself in laboratory conditions.  It provides output voltage from several hundred to 1500 V with an output current of up to 1 mA and stability not worse than 0.2 V per hour with constant current consumption after warming up.  A simple rework increases the upper voltage limit to 3 kV, however, at the cost of less stability. <br><a name="habracut"></a><br><h4>  Scheme </h4><br><img src="https://habrastorage.org/webt/1k/tw/g6/1ktwg6tuewbj3srfaxksicbxk9g.png"><br><br>  The basis of the source is a two-stroke inverter operating on a transformer for CCFL-lamps.  The inverter is made on the basis of a domestic microcircuit for electronic ballasts - 12111.  I couldn‚Äôt find an equal to this microcircuit on sale: it can control the field-effect transistors' gates directly and it needs only two external elements (time-saving resistor and capacitor) to work, while it regularly runs from 5 V and is inexpensive.  Unfortunately, NPO Delta has not produced this microcircuit for a long time, but it is still on sale and it is not difficult to get it.  This chip does not have any means of adjusting the fill factor, but we don‚Äôt need it - the output voltage is controlled by varying the supply voltage of the inverter output stage.  The key element is the dual n-MOSFET VT1 type IRF7341.  Resistors R2 and R3 limit inrush current when recharging gate capacitors. <br><br>  The inverter operates at 40 kHz.  It was experimentally established that at this frequency the applied transformer works best and has the best efficiency.  This frequency is set by the chain R1C1. <br><br>  I used a transformer from the TMS91429CT series, which has two identical primary and two identical isolated secondary windings.  This makes it possible to eliminate the voltage multiplier with large losses, replacing it with two one-cycle rectifiers, the output voltages of which add up, forming not quite normal in appearance, but essentially the same two-stroke rectifier.  The configuration drawn on the diagram works with this transformer somewhat better than the classic ‚Äúwith a tap from the middle‚Äù.  If higher voltages are needed, a doubler can be assembled in each of the ‚Äúhalves‚Äù. <br><br>  Resistor R8 and capacitor C9 form a filter that reduces high voltage ripple.  Resistor R10 reduces the risk of fatal electric shock: despite the fact that the DC power generated by this source does not pose any serious danger, the energy stored in the C9 capacitor is quite enough to kill, and limiting the peak current of its discharge to ~ 60 mA at maximum voltage <i>reduces</i> this possibility (for short-term - hundredths of a second - the impact of such a current is usually not fatal).  However, at a current of 1 mA, this resistor drops to 22 V, which is most likely unacceptable.  Therefore, if currents of more than a hundred microamps are needed, it will have to be removed, but in this case, remember that the output voltage of the source is <b>deadly</b> .  With a resistor R10, however, too, but the danger is not so high. <br><br>  The output voltage, divided by the divider R7R9 500 times, is fed to the input of the error amplifier at the OA DA1.2.  A reference voltage is supplied to its second input (via a repeater on DA1.1), which sets the output voltage, which, according to the division factor of the R7R9 divider, will be 500 times higher (for example, at a reference voltage of 3 V, the output will be 1.5 kV).  The gain of the error amplifier is chosen experimentally.  Its increase improves the accuracy of stabilization, but reduces stability.  Capacitor C8 compensates for the delay in the feedback loop and provides stability control.  The ratio of the gain of the error amplifier and the time constant of the circuit R6C8 is a question of the compromise between the accuracy of maintaining the output voltage and the time of its establishment. <br><br>  The output voltage error amplifier is supplied to the regulating element - p-MOS transistor VT2.  The transistor is completely closed when the voltage at the output of DA1.2 is close to the supply voltage (that is, if the high voltage is much higher than the specified one), and opens fully when it is lowered to zero (at a very low high voltage), which ensures its maintenance at a level slightly higher reference voltage multiplied by the division factor.  Not all MOS transistors work well in a linear mode, and the indicated on the circuit makes it quite acceptable.  Resistor R4 prevents the instability of an op-amp when operating on a capacitive load, which is the gate of the transistor. <br><br>  As a reference voltage source, a multi-turn potentiometer can be used, powered by a stabilized voltage source, but with increased stability requirements it may not be enough, since even the best of these variable resistors ‚Äúnoise‚Äù to varying degrees, randomly changing resistance small limits, even if the adjustment knob is not touched.  To increase it, it is desirable to limit the range of smooth adjustment to 100-200 V and introduce a switch for discrete coarse voltage setting.  Another option is to make a digital ION based on some DAC. <br><br>  This circuit produces a high positive voltage.  To power the PMT it is convenient to use a negative supply voltage with a grounded anode.  To do this, the circuit will have to be adjusted - first, by changing the polarity of the diodes in the high-voltage part.  Secondly, it is necessary to introduce one more operational amplifier into the circuit.  Instead of the divider R9R7, we have an inverting amplifier with a gain of minus 1/500 on the op-amp DA2, and the resistors R9 and R7 appear in its OOS circuit. <br><br>  To get 3 kilovolts, you will have to replace the rectifiers in the secondary circuits with voltage doublers and increase R9 to 100 MŒ©.  Stability at the same time worsen about the same two times. <br><br><h4>  Components and installation </h4><br>  In low-voltage and low-voltage circuits, you can use capacitors and resistors of frame size 0805 or even 0603. Capacitor C2 is tantalum.  Capacitor C4 is a film capacitor, since a noticeable pulsed current flows through it and the ceramic SMD capacitor will heat up here and will quickly fail. <br><br>  On the high voltage side, it is necessary to install all the AC circuits with as short connections as possible, since they otherwise radiate strongly (however, not forgetting to observe the insulating gaps).  The diodes are recruited each of two series-connected diodes for 1000 V. Due to the lack of fast diodes in stores in 1000 V, SMD-performance of output diodes HER1008, installed in series two, are used.  To reduce the length of the pins, they are bent under the body of the diode and cut off, and thus, the diode is converted into SMD.  In this case, the anode of one diode in a pair is soldered to the cathode of the second directly and as close as possible to the output of the output from the housing, and not through the printed conductor.  Capacitors C6 and C7 are also made up of four 0.015 ŒºF x 1000 V capacitors, frame size 1812, connected in series in parallel and welded together by the ‚Äúbookcase‚Äù to each other.  Capacitor C9 arbitrary type - I used a battery of domestic K15-4, for reliability flooded with compound. <br><br><div style="text-align:center;"><img width="60%" src="https://habrastorage.org/webt/el/o0/07/elo0075cuflqwih5okmwvxae2_u.png"></div><br>  Resistor R8 is of the standard size 2512. R10 is made up of ten such resistors connected in series on a separate small circuit board and filled with an insulating compound.  Similarly, you can do with R9, or apply a series resistor FHV-100.  And it is absolutely perfect to put the divider company Caddock series THV10.  The voltage drift depends on the thermal stability of this resistor (and it is heated by the current passing through it).  Thermal insulation of it, increasing the time to establish a stable voltage, however, dramatically reduces its chaotic oscillations, therefore it is <i>strongly</i> recommended.  Also during installation, you should pay attention to possible leakage paths, which will also dramatically reduce stability.  On the printed circuit board should provide slots and windows that separate high-voltage circuits from low-voltage and between closely spaced conductors with sharply different potentials.  And do not feel sorry for alcohol - the slightest moisture, traces of rosin or Paltsev - and the tension will ride like a wild mustang.  It goes without saying that the entire high-voltage part must be filled with compound, since otherwise the gaps would have to be made very large.  And large gaps - this is a long conductor length and strong radiation.  When the original layout was in operation, where I used K78-1 capacitors, output diodes with slightly shortened leads and gaps recommended for printing in air - at idle the circuit consumed almost 200 mA at 1500 V, and the neon burned 10 cm from the design.  It was impossible to even look at the voltage form on the primary windings of the transformer - an oscilloscope probe was interfered with by a scale of one hundred volts.  There was no question of any practical use of such a highly interfering circuit.  After switching over to SMD and the most compact installation (which required filling, everything breaks right in the air), the current consumed at idle fell to a couple of tens of milliamperes, and the neon light burned only close to the transformer winding.  Of course, the finished device must be placed in a metal case, equipped with a good high-voltage connector (for example, type LEMO). <br><br>  The PCB layout (I don‚Äôt bring my own, since it was not very successful and in the final design was covered with mold, with hot spots of surface mounting, correcting the mistakes of the original design) must be made taking into account that VT2 heats up and removes heat through the terminals (dissipated power can reach 2 watts).  VT1 remains practically cold during operation.  Also, pay attention to the ground, especially in the vicinity of the key transistors.  The latter, along with the DD1, are conveniently placed under the belly of a transformer, around which the ground can be separated by a gap, connecting it with the rest of the earth at a single point near the power connector. <br><br>  And about replacements.  The transformer can be replaced with almost any similar transformer with the same winding configuration (i.e., two identical primary windings and two separate high-voltage ones) and the same overall power, thus, it may be necessary to select the switching frequency and capacitance of the C4 capacitor.  VT1 transistor assembly can be replaced by similar individual n-MOS transistors with a source-drain voltage of at least 20 V and a drain current of at least 3 A capable of operating from 5 V at the gate.  VT2 replace undesirable. <br><br><h4>  Little about security </h4><br>  As I said, this device is <i>deadly to life</i> .  Despite the fact that the current of several milliamperes provided by this device is not dangerous even when passing along the ‚Äútongue-hand‚Äù path, the discharge of the output capacitance doesn‚Äôt guarantee it will kill, but it can do it, since the current reaches <i>several ampere</i> (!), and the discharge energy at maximum voltage is about 0.1 J, which is quite enough to cause ventricular fibrillation in the vulnerable phase.  So be careful - especially during the setup process.  At this time, I recommend replacing the C9 capacitor with a less capacious one. </div><p>Source: <a href="https://habr.com/ru/post/459176/">https://habr.com/ru/post/459176/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../459162/index.html">"To win the championships, the team must breathe in unison." Interview with Moscow Workshops ICPC coach</a></li>
<li><a href="../459166/index.html">What are you, a closure in javascript?</a></li>
<li><a href="../459168/index.html">Bypassing Windows Defender cheap and cheerful: meterpreter session through python</a></li>
<li><a href="../459172/index.html">Top 13 Scala libraries for data analysis</a></li>
<li><a href="../459174/index.html">Rx Event Source Reference</a></li>
<li><a href="../459180/index.html">TheOutloud - voice and share your favorite articles and stories. Part 2</a></li>
<li><a href="../459182/index.html">GitLab: With the release of version 12.1, we stop supporting MySQL</a></li>
<li><a href="../459184/index.html">Basic skills for working with Unity</a></li>
<li><a href="../459188/index.html">Releases of Debian 10 Buster and Linux 5.2 have taken place.</a></li>
<li><a href="../45919/index.html">Monty Hall's paradox: is there any difference?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>