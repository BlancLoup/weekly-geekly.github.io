<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Bots in the city of Innopolis</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Talk about how to quickly create several useful services for managing the city through bots in Telegram. 
 Less than 3 months ago, Innopolis officiall...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Bots in the city of Innopolis</h1><div class="post__text post__text-html js-mediator-article"><h4>  Talk about how to quickly create several useful services for managing the city through bots in Telegram. </h4><br>  Less than 3 months ago, Innopolis officially opened in the Republic of Tatarstan - the first Russian city that appeared in the 21st century. <br><br>  Its feature is an economy based on high-tech industries and, above all, on IT: the key points of attraction to the city are Innopolis University - <a href="http://siliconrus.com/2015/09/innopolis-student/%25D0%25B8">siliconrus.com/2015/09/innopolis-student/ and the</a> eponymous special economic zone: <a href="http://innopolis.ru/sez/investoru/">innopolis.ru/ sez / investoru</a> <br><br>  The promising master plan of the city is designed for 155 thousand inhabitants in 15 years, and today about 400 students and a couple of hundreds of permanent residents live in it. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/283/384/bbc/283384bbc53dc98cfd40400e2a12b757.jpg" alt="image"><br><br>  Like all startups, a start-up city begins with several hundred residents-followers, to whom the city mayor‚Äôs office pays special attention.  Such a small number has its advantages: for example, all residents of the city, as well as decision-makers about the development of Innopolis, are at a distance of one ‚Äútapa‚Äù in Telegram. <a name="habracut"></a>  This method of communication was not chosen by chance, but just for promptness and receiving feedback from residents of the city without intermediaries. <br><br>  Today, a common chat in Telegram unites almost all residents and key employees of the city <a href="https://tjournal.ru/p/innopolis-telegram">tjournal.ru/p/innopolis-telegram</a> .  It began as a fludilka, but over time it began to be used as the main service: informing, collecting complaints and suggestions from residents, searching for fellow travelers, communicating with like-minded people, all this happens through Telegram.  At the same time, only on chat rooms it does not end there: the start-up city Innopolis requires an agile approach in creating services for its inhabitants.  And where there is agile, there is MVP, in other words, the minimum benefit to the end user, which can be created with the service with minimal time for the first release.  <a href="https://core.telegram.org/bots">Telegram bots are</a> best suited for MVP implementation. <br><br><h5>  <b>Boat Concierge Service</b> </h5><br>  Any person on planet Earth can call at 4 am (or any time of the day) the Innopolis Concierge Service at 8-800-222-22-87 and find out about the transport schedule, vacancies in the city, where to buy medicines - about anything.  Well, or complain!  It is clear that for the most part the residents ask standard questions, and this can be turned into an automated service.  And in order for each resident to be aware of all changes, the service must not only provide information on request, but also be able to announce the latest information on their own. <br>  The project developer <a href="http://twitter.com/y_chernushenko">Yuri Chernushenko</a> solved this problem: <br><br><blockquote>  The best analogy for bots will be information concierge services via chat. <br>  Knowing the name of the bot, users create a chat with it in their client program.  A bot can provide the interest of quick access to frequently asked questions, redirect messages to the operator and initiate communication by making announcements. <br><br>  The advantages of this approach include: <br>  ‚Ä¢ No need to install additional applications, and business to develop and maintain them; <br>  ‚Ä¢ Communication with users can be automated by a set of prepared responses, thus reducing the call center load; <br>  ‚Ä¢ Users will be able to receive information to frequent requests in one click <br>  ‚Ä¢ Business receives all user access statistics; <br>  ‚Ä¢ Ability to process natural languages ‚Äã‚Äã(Natural Language Processing), allows you to automate the communication of users in a free form and predict their behavior. <br><br>  The first time the idea of ‚Äã‚Äãautomating concierge services appeared during Yandex Tolstoy Camp, then we tried to make an analogue of Magic (http://www.getmagicnow.com/) and Luka (https://luka.ai/).  At that moment, it seemed that the messengers would move along a closed path and did not open their API to work with them and access the data, so we looked at the good old SMS messages.  There were workarounds and unofficial libraries for the same WhatsApp and Telegram, but it was risky to build their solutions based on this approach.  Then, unexpectedly, Messenger Facebook and, then, Telegram opened their API and, I think, these platforms will allow you to create many interesting applications. <br>  What can a bot. <br>  The bot consists of two parts: user and operator. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4a7/2f9/072/4a72f90726acdc4ea205dcffbc929580.jpg" alt="image"><img src="https://habrastorage.org/getpro/habr/post_images/e37/253/a4e/e37253a4e87e11e34a485246f0411c16.jpg" alt="image"><br><br>  Users can set text commands, use quick access buttons to the information or ask free-form questions that are redirected to the operator. <br><br>  The operator can update the messages hidden behind each button (mainly schedules), and make announcements for users. <br><br>  This is a simple functional, in part, it even exists in the Telegram itself (broadcast list, for example), but the ability to work with a large number of users, save this information and provide the prepared answers makes the option with the bot more convenient. <br><br>  What's next <br><br>  In the concierge bot project, it is interesting to add functionality related to geolocation, since knowing the location of a resident of Innopolis, one can understand a lot about the context of the situation.  Also, when the database of user requests is large enough, you can try connecting NLP engines (http://wit.ai/ or <a href="https://tech.yandex.ru/tomita/">tech.yandex.ru/tomita</a> ) to automate communication with the operator. <br></blockquote><br><br><h5>  <b>Bot hack to increase the group limit</b> </h5><br>  Imagine the town square.  And you can go out on it and say something important or just flaming, captivating the townspeople with a new idea or discuss the burning one.  On the one hand, a city with the speed of thought instant messaging is beautiful, but on the other hand, there is a ‚Äúcurse‚Äù in it.  The limit of one group in the Telegram - 200 people.  And those who want to communicate on the ‚Äúsquare‚Äù is nearing 400, what to do?  That is: the gate forward messages between groups. <br>  One of the developers of <a href="http://habrahabr.ru/users/crazypit/" class="user_link">CrazyPit</a> talks about the project: <br><br><blockquote> As part of the summer school at Innopolis University, we decided to work with telegram bots.  For three weeks we made a prototype framework on Scala using Akka to create telegram bots and wrote several useful bots on the framework. <br><br>  We managed to create an API that allows you to write bots in ‚Äú10 lines‚Äù and work asynchronously using Akka, as well as the ability to run multiple bots in one process.  We plan to add different strategies for parallelizing the work of bots, more complex functions that facilitate the work with the API and DSL to set the bot behavior based on consecutive questions and answers. <br><br>  Framework repository: <a href="https://github.com/CrazyPit/botspot/">github.com/CrazyPit/botspot</a> <br><br>  A bot that is already working with might and main is a bot uniting groups that do not fit into the limit of 200 people.  Although there is information that this limit will be expanded in the fall, we have solved this problem now.  The bot listens to 2 or more group chats and forwards all messages from one to the other. <br><br>  Of the complex and useful projects on this framework, which we have done - the brodcasting bot.  Firstly, it allows you to bypass the restriction on 100 people in mailings, secondly, it allows you to create different groups of users for mailings through a convenient interface, and thirdly, it allows you to find all the important information for a person in one chat with the bot.  This service can be used for information inside the university, city or any organization. </blockquote><br><br>  <b>Boat "Fellow"</b> <br>  The developer will be the best to tell about the project - <a href="https://telegram.me/ishimchik">Ilya Shimchik</a> : <br><br><blockquote>  The idea was born from the need to get less spam in the Telegram chat.  There is a group chat where people find a companion and leave requests to the driver.  And this is not the most convenient solution, because from time to time the search for fellow travelers falls into a terrible flame.  Therefore, the idea to simplify the process of finding companions and, at the same time, to reduce the number of spam. <br><br>  The procedure for creating a bot is not complicated: the steps to create it are simple and have <a href="http://habrahabr.ru/post/262247">already been described</a> more than once; the most correct way is to start from the official site: <a href="https://core.telegram.org/bots">core.telegram.org/bots</a> . <br><br>  The Telegram API has two ways to interact with the backend of the bot: through the webhook and through polling.  I chose the first option, as it is faster and easier.  Then everything is simple: we write backend, we form a list of bot commands, we make handlers for messages, we create an interface and voila - everything works. <br><br>  It is worth paying attention that webhooks works only under the https protocol and the self-signed certificate does not fit, the Telegram API will not allow the webhook address to be hung with the self-signed certificate.  For this there is a temporary solution - use ngrok (link) to test your bot directly from a local computer. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7f7/323/7d1/7f73237d147b1c5a476f224c08df7acb.jpg" alt="image"><br><br>  As a result, the first version of the bot is now working.  Already accumulated a list of the nearest features that will be added to the bot, such as notification of the appearance of the trip, taking into account the remaining empty seats in the car, adding a comment field to the trip. <br><br>  I want to develop this idea to a full-fledged service to find companions not only in Innopolis, but also in Kazan.  I also plan to teach the bot to understand free speech so that the trip can be created, for example, with the following sentence: ‚ÄúI am going to go to my grandmother after a week, there is a place for 3 fellow travelers, not to smoke in the car!‚Äù </blockquote><br><br>  In conclusion, perhaps, it is worth saying a couple of words of praise to Telegram: a fast and secure IM service that is easily picked up by the audience and, through bots, provides affordable tools for the appearance of essential services for this audience.  Firstly, it allows evolutionary development of the audience and its needs in a clear direction, based on the confirming hypotheses of the value of the service.  Secondly, the process of developing services does not require a huge number of man-hours. <br><br>  By implementing bots, this already good service created an excellent support for transforming oneself from the IM protocol into a flexible platform for services.  Moreover, the bots buttons inside applications allow you to easily make a simple interactive interface for anything. <br><br>  Bravo and Respect, Pavel!  I think the developers in Innopolis, and just the residents of the city, it would be interesting to talk with the creator of Telegram and get to know his vision of a future messenger. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ffd/257/a13/ffd257a139c11666093b2d9dff42c415.jpg" alt="image"><br><br>  PS As for Innopolis, it is possible that it will become the first city using the Telegram platform as a unified authorization system for residents for all digital services of the city.  Moreover, on habr'e there were already posts about the possibility of user authorization via Telegram <a href="http://habrahabr.ru/post/264301/">habrahabr.ru/post/264301</a> (the most interesting thing about deep linking in the comments). <br><br>  PPS If you are interested in participating in the creation of these or other services - always in touch in Telegram: <a href="http://telegram.me/ior_um">telegram.me/ior_um</a> </div><p>Source: <a href="https://habr.com/ru/post/267723/">https://habr.com/ru/post/267723/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../267713/index.html">Centralized configuration management: Puppet + Foreman. Part II</a></li>
<li><a href="../267715/index.html">Why Vue?</a></li>
<li><a href="../267717/index.html">Unicorns ... Unicorns everywhere</a></li>
<li><a href="../267719/index.html">Algorithms in the real world</a></li>
<li><a href="../267721/index.html">Apache vs Nginx: a practical look</a></li>
<li><a href="../267725/index.html">Card Design: How and Why</a></li>
<li><a href="../267727/index.html">PHP: programming culture</a></li>
<li><a href="../267729/index.html">Game client download tracking system. Part 2</a></li>
<li><a href="../267731/index.html">13 basic principles of game design. Direction and behavior</a></li>
<li><a href="../267733/index.html">Greenplum db</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>