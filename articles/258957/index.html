<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>TypeScript: general impressions</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I think many of you know that now there is an abundance of different languages ‚Äã‚Äã(or tools) that allow you to write code that compiles into JavaScript...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>TypeScript: general impressions</h1><div class="post__text post__text-html js-mediator-article">  I think many of you know that now there is an abundance of different languages ‚Äã‚Äã(or tools) that allow you to write code that compiles into JavaScript.  These are CoffeeScript, Dart, GorillaScript and others (a rather large list can be found <a href="https://github.com/jashkenas/coffeescript/wiki/List-of-languages-that-compile-to-JS">here</a> ).  Recently I decided to get acquainted with one of the representatives of this list - a programming language called <a href="http://typescriptlang.org/">TypeScript</a> . <br><br>  I will tell you about my personal experience - why I decided to try it, how to start working with it, and what conclusions I made after working with it for several days. <br><br>  If it is interesting to you - please, come under cat. <br><a name="habracut"></a><br><h4>  A slight squeeze as a description of this language. </h4><br><ul><li>  Strong Typing Language </li><li>  Code written in TypeScript is compiled into JavaScript </li><li>  The language is backward compatible with JavaScript - if you feed the compiler with pure JavaScript, the compiler will spit out your own JS, and will not say that this is an error.  You can write mixed code (for example, modules / methods using TypeScript syntax, and the implementation of methods without typing on pure JS) - this will also be valid. </li><li>  Language developed by Microsoft. </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  What possibilities does the language offer? </h4><br><ul><li>  System for working with modules / classes - you can create interfaces, modules, classes; </li><li>  You can inherit interfaces (including multiple inheritance), classes; </li><li>  You can describe your own data types; </li><li>  You can create generic interfaces; </li><li>  You can describe the type of the variable (or object properties), or describe which interface the object to which the variable refers should have; </li><li>  You can describe the method signature. </li></ul><br><br>  <i>Of course, this is not all - these are only the main points that I have highlighted.</i> <br><br><h4>  Main links </h4><br><ul><li>  Page to ‚Äúplay around‚Äù with the language - <a href="http://www.typescriptlang.org/Playground">TypeScript Playground</a> </li><li>  <a href="http://www.typescriptlang.org/Content/TypeScript%2520Language%2520Specification.pdf">Language Specification</a> - <a href="http://www.typescriptlang.org/Content/TypeScript%2520Language%2520Specification.pdf">TypeScript Language Specification</a> </li><li>  Quick introductory - <a href="http://www.typescriptlang.org/Handbook">TypeScript Handbook</a> </li></ul><br><br><h3>  Why it is worth trying TypeScript? </h3><br>  Reflecting on why it makes sense to try to work on TypeScript, I outlined several main points: <br><br><ul><li>  The ability to rigidly describe each element of the application - this probably excludes the possibility of incorrect implementation or incorrect calling of methods;  Makes developers think through logic (for example, in methods) before implementation;  It does not give the opportunity to change one piece of the application, breaking the other; </li><li>  The ability to describe the scope of class properties is another barrier that limits the developer from making mistakes; </li><li>  Due to the rigid architecture, it may be necessary to write fewer tests - all the parameters of the methods are rigidly described, and if the code is compiled, then probably every call is valid and does not require additional verification; </li><li>  You can configure the project in such a way that any non-compiled code (in fact, a code with a syntax error) cannot be committed.  We do not consider cases in which the developer allows himself to commit broken code to bypass checks before committing; </li><li>  Many constructions in TypeScript have a hard format, so many of the formatting errors of the code (in accordance with some standards adopted by the team) are excluded.  I think this is a plus, because the code review process often reveals formatting errors that take up valuable time.  If this time can be spent on other more useful activities, this is already a plus. </li></ul><br><br>  <b>On the other hand, there are a number of minuses:</b> <br><br><ul><li>  To use some external tool (read the ‚Äúlibrary‚Äù or ‚Äúframework‚Äù), then the signature of each of the methods of each module of this tool must be described so that the compiler does not throw errors (it simply will not know about your tool).  If this is a popular tool, then, most likely, a description of the interfaces can be found <a href="https://github.com/borisyankov/DefinitelyTyped">in this repository</a> .  If not, you have to describe it yourself; </li><li>  Probably the biggest minus (perhaps temporary) is the threshold of entry and the number of specialists on the market.  Now there are almost no specialists who know this language.  This is bad, because any solid project eventually moves to the support stage, and in case of loss of specialists, it will be more difficult to find a replacement for them.  Perhaps I am mistaken, but I came to this conclusion based on Github statistics ( <a href="https://github.com/search%3Fl%3DTypeScript%26p%3D1%26q%3Dlanguage%253ATypeScript%26ref%3Dadvsearch%26type%3DRepositories%26utf8%3D%25E2%259C%2593">link</a> ) - only ~ 6k repositories were created with TypeScript code against ~ 1.4kk in JavaScript; </li><li>  More time is spent on development, compared to JavaScript.  This is because in addition to the class implementation, it is necessary to describe all the interfaces involved, the method signatures. </li></ul><br><br><h3>  Getting started </h3><br>  I turn to small notes that I left in my mind as I work with TypeScript. <br><br><h4>  Assembly </h4><br>  First of all, it was necessary to write a test project builder.  There are several NPM packages for gulp that allow you to compile TypeScript code in JavaScript.  Without knowing what to choose, I began to try all the packages in the order in which I gave them to Google.  It turned out that not all packages use the latest version of the compiler (the latest version was 1.5.0), and because of this, the code that was compiled on the TypeScript website ( <a href="http://www.typescriptlang.org/Playground">link</a> ) was not compiled by the plugin for gulp.  By trial and error, I settled on the gulp-tsc package, which supports all versions of the compiler and works "with a bang." <br><br><h4>  Compilation </h4><br>  Each interface, the signature of each exported method: all this must be known to the compiler, otherwise it will refuse to compile the code.  I worked with AMD modules (about this a bit later), and when importing some modules into others, a problem arose - the compiler knew absolutely nothing about the existence of other modules. <br><br>  For these purposes, there are .d.ts files - files in which you need to determine what specifically exports a particular module, which global variables and functions are defined. <br><br>  At first glance, everything is simple.  In fact, there was an underwater stone here (see the code below). <br><br>  <u>Create a file foo.ts in which we define the module foo</u> : <br><br><pre><code class="hljs pgsql">/// &lt;amd-module <span class="hljs-type"><span class="hljs-type">name</span></span>="foo" /&gt; export = { bar: () =&gt; <span class="hljs-string"><span class="hljs-string">'baz'</span></span> }</code> </pre> <br>  <u>Create a file bar.ts in which we define the module bar, which imports the module foo</u> : <br><br><pre> <code class="hljs pgsql">/// &lt;amd-module <span class="hljs-type"><span class="hljs-type">name</span></span>="bar" /&gt; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> foo = require(<span class="hljs-string"><span class="hljs-string">'foo'</span></span>); // : "Cannot find external module 'foo'." export = { foo: foo }</code> </pre><br>  We got the error "Cannot find external module foo.".  Why it happens?  This happens because we have not defined this module anywhere and the compiler does not know about it. <br><br>  <u>Create a file foo.d.ts in which we tell the compiler that there is such a module foo, and it exports one method bar</u> : <br><br><pre> <code class="hljs sql"><span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> <span class="hljs-keyword"><span class="hljs-keyword">module</span></span> foo { <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> bar(): <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> }</code> </pre><br>  We added the definition of the module and now everything seems to be true, everything should work, right?  It is not true, because absolutely nothing has changed because of this - the compiler still cannot find the foo module.  The question is why? <br><br>  <b>The solution was unexpected - the module name was not specified in quotes.</b> <br><br>  <u>The working code of the file foo.d.ts</u> : <br><br><pre> <code class="hljs sql"><span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> <span class="hljs-keyword"><span class="hljs-keyword">module</span></span> <span class="hljs-string"><span class="hljs-string">'foo'</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> bar(): <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> }</code> </pre><br>  <i>Going further ...</i> <br><br><h4>  AMD </h4><br>  Of course, if TypeScript allows you to create AMD modules and you can nicely import dependencies, why not use this at least for a test? <br><br>  I tried - in TypeScript it is impossible to generate modules with names by definition.  TypeScript makes it possible to generate modules without names, no more.  It seemed to me that it would be strange, and it turned out that this can be circumvented. <br><br>  <u>An example of a module that will be compiled into a module named</u> : <br><br><pre> <code class="hljs pgsql">/// &lt;amd-module <span class="hljs-type"><span class="hljs-type">name</span></span>="foo" /&gt; export = { bar: () =&gt; <span class="hljs-string"><span class="hljs-string">'baz'</span></span> }</code> </pre><br><h3>  What else is interesting? </h3><br>  Most of the time spent behind coding on TypeScript, did not cause problems, but quite often there are subtle points, the solution of which is rather difficult to find.  One of these problems that I could not solve at the moment is how to describe an object whose properties will be dynamically determined (the names of the properties are unknown), but each of them must contain an object that has a well-defined interface? <br><br>  <u>Example of broken code</u> : <br><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">IBar</span></span> { baz: <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> foo: { [property: <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>]: IBar } foo = {}; foo.foobar = { baz: <span class="hljs-string"><span class="hljs-string">'Hi there!'</span></span> }</code> </pre><br>  <u>Example of working code</u> : <br><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">IBar</span></span> { baz: <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> foo: { [property: <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>]: IBar } foo = { foobar: { baz: <span class="hljs-string"><span class="hljs-string">'Hi there!'</span></span> } };</code> </pre><br>  These, of course, are not all the problems that have arisen, but each of them is of exactly the same nature as in the example above. <br><br>  <b>A small list of other problems</b> : <br><br><ul><li>  You cannot beautifully define a constructor signature; </li><li>  To tell TypeScript what we expect in the method to get a constructor as a parameter, not an instance of a class, you need to write function foo (bar: typeof Baz) {... new Baz (...) ...} and not just function foo (bar: Baz) {... new Baz (...) ...}. </li></ul><br><h3>  Small total </h3><br>  For myself, I have noted TypeScript as an excellent tool that will eliminate some of the risks (mainly excluding the possibility of error, and all the problems arising from this), allows us to strictly describe the interaction between application elements, offers basic tools for working with modules / classes and does not compile in a beard from a code, and in enough readable code. <br><br>  <i>PS It is very likely that some of the problems arose only because I still do not know how to ‚Äúprepare‚Äù TypeScript and therefore some information may not be objectively accurate, but even in this case I hope that this information will prove useful to someone.</i> <i><br><br></i>  <i>PPS I will be glad to comments from TypeScript experts.</i> </div><p>Source: <a href="https://habr.com/ru/post/258957/">https://habr.com/ru/post/258957/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../258947/index.html">Upsource 2.0 came out with an IDE plug-in, Java code analysis in Gradle projects, JavaScript navigation and much more.</a></li>
<li><a href="../258949/index.html">Juniper emulator. VMware Virtual Lab</a></li>
<li><a href="../258951/index.html">Cross-compiling Qt5 for Linux for Win x32 / x64 / static / shared</a></li>
<li><a href="../258953/index.html">Let unit-testing begin (Objective-C)</a></li>
<li><a href="../258955/index.html">Master Tehnokub</a></li>
<li><a href="../258959/index.html">Serialization, sir! Today for dinner byte porridge, cooked from C ++ objects</a></li>
<li><a href="../258961/index.html">How to pass an elephant through the eye of a needle. Processing the maximum amount of data in the shortest time</a></li>
<li><a href="../258963/index.html">Krovi: Big Data - as dream. 10th series: Standard bummer</a></li>
<li><a href="../258965/index.html">NOT Arduino for 55 cents</a></li>
<li><a href="../258967/index.html">Sensors and microcontrollers. Part 1. The materiel</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>