<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Generating DTO and remote interfaces from Java to ActionScript</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Given a web application in Java and Flex. Blaze DS or similar technology using AMF serialization is used for communication. On the server side and on ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Generating DTO and remote interfaces from Java to ActionScript</h1><div class="post__text post__text-html js-mediator-article">  Given a web application in Java and Flex.  Blaze DS or similar technology using AMF serialization is used for communication.  On the server side and on the client side, DTO (data transfer objects) and remote services interfaces are explicitly or implicitly present.  In such applications, there is the problem of synchronization of the DTO code between the client and the server.  Of course, if the application is completely covered with tests, the out-of-sync between Java and ActionScript sources will be revealed during testing, but it is possible to get feedback even earlier - already at compile time. <a name="habracut"></a><br><br>  To do this, you need to generate DTO and remote interfaces each time you build.  If the interfaces of the DTO or remote interfaces on the server are changed, they will change accordingly on the client.  This will let you know about the problems already at the compilation stage, without waiting for the tests, besides, it is impossible to exclude the possibility that the tests do not completely cover the source code. <br>  To generate AS DTO, there are many libraries, for example, <a href="http://sourceforge.net/projects/cleartoolkit/">clear toolkit</a> , <a href="http://www.spicefactory.org/">pimento</a> or <a href="http://www.graniteds.org/public/docs/2.3.0/docs/reference/en-US/html/graniteds.validation.html">Gas3</a> from Granite DS. <br><br>  The Gas3 library is integrated into <a href="http://flexmojos.sonatype.org/">flexmojos</a> , it allows you to edit templates for generating classes and looks more preferable.  The following examples use this library. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  DTO generation </h4><br>  For an example of generating a DTO, take the java class <code>SampleDto</code> . <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SampleDto</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> String field1; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> String field2; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getField1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> field1; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setField1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String field1)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.field1 = field1; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getField2</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> field2; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setField2</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String field2)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.field2 = field2; } }</code> </pre><br>  <code>git.example.com:jar:jar</code> place this class in the maven module <code>git.example.com:jar:jar</code> . <br>  We will generate ActionScript code in the <code>git.example.com:flex:swf</code> module.  In order to generate AS code from <code>SampleDto.java</code> you need to add the following in the flexmojos setting: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plugin</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>org.sonatype.flexmojos<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>flexmojos-maven-plugin<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>3.9<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">extensions</span></span></span><span class="hljs-tag">&gt;</span></span>true<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">extensions</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">configuration</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">includeJavaClasses</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">includeJavaClass</span></span></span><span class="hljs-tag">&gt;</span></span>com.example.*<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">includeJavaClass</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">includeJavaClasses</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">configuration</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">executions</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">execution</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">id</span></span></span><span class="hljs-tag">&gt;</span></span>generate<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">id</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">goals</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">goal</span></span></span><span class="hljs-tag">&gt;</span></span>generate<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">goal</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">goals</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">execution</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">executions</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plugin</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  All generated classes consist of two parts: the class itself and the ancestor (with the postfix Base).  In our case, after generation, we get the classes <code>SampleDto</code> and <code>SampleDtoBase</code> .  The main class is generated if a class with this name does not exist.  Ancestor is always generated and overwrites the old file, if there is one.  All additional functionality needs to be added only to the main class, if it exists, in this case its generator will not touch.  If you add a new behavior to the Base class, then the generator will remove everything. <br><br><pre> <code class="actionscript hljs">[Bindable] [RemoteClass(alias=<span class="hljs-string"><span class="hljs-string">"com.example.SampleDto"</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SampleDto</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SampleDtoBase</span></span></span><span class="hljs-class"> </span></span>{ } [Bindable] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SampleDtoBase</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IExternalizable</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> _field1:String; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> _field2:String; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">set</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">field1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(value:String)</span></span></span><span class="hljs-function">:void </span></span>{ _field1 = value; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">field1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:String </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _field1; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">set</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">field2</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(value:String)</span></span></span><span class="hljs-function">:void </span></span>{ _field2 = value; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">field2</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:String </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _field2; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">readExternal</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(input:IDataInput)</span></span></span><span class="hljs-function">:void </span></span>{ _field1 = input.readObject() <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> String; _field2 = input.readObject() <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> String; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">writeExternal</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(output:IDataOutput)</span></span></span><span class="hljs-function">:void </span></span>{ output.writeObject(_field1); output.writeObject(_field2); } }</code> </pre><br><h4>  Remote interface generation </h4><br>  Now we will generate a remote interface.  Create a module <code>git.example.com:jar:jar</code> java class <code>SampleService</code> and annotate it. <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@RemoteDestination</span></span>(id = <span class="hljs-string"><span class="hljs-string">"sampleService"</span></span>, channel = <span class="hljs-string"><span class="hljs-string">"amf"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SampleService</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">final</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sampleMethod1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"test output"</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">final</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getSampleField1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(@Param(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"sampleDto"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">final</span></span></span><span class="hljs-function"> SampleDto sampleDto) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sampleDto.getField1(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">final</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getSampleField2</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(@Param(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"sampleDto"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">final</span></span></span><span class="hljs-function"> SampleDto sampleDto) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sampleDto.getField2(); } <span class="hljs-meta"><span class="hljs-meta">@IgnoredMethod</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">final</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ignoredMethod</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ } }</code> </pre><br>  The <code>@RemoteDestination</code> describes the channel and the end point name for the service and hangs on the class.  <code>@Param</code> sets the name of the parameter in the generated method, but it is optional.  <code>@IgnoredMethod</code> tells the generator to ignore the marked method. <br>  For generation we use the same settings as for DTO.  At the output we get two classes: <br><br><pre> <code class="actionscript hljs">[RemoteClass(alias=<span class="hljs-string"><span class="hljs-string">"com.example.SampleService"</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SampleService</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SampleServiceBase</span></span></span><span class="hljs-class"> </span></span>{ } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SampleServiceBase</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RemoteObject</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> _initRemote:Boolean = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initRemote</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:void </span></span>{ destination = <span class="hljs-string"><span class="hljs-string">"sampleService"</span></span>; channelSet = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ChannelSet(); channelSet.addChannel(ServerConfig.getChannel(<span class="hljs-string"><span class="hljs-string">"amf"</span></span>)); _initRemote = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sampleMethod1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:void </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!_initRemote) initRemote(); getOperation(<span class="hljs-string"><span class="hljs-string">"sampleMethod1"</span></span>).send(); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getSampleField2</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(sampleDto:SampleDto)</span></span></span><span class="hljs-function">:void </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!_initRemote) initRemote(); getOperation(<span class="hljs-string"><span class="hljs-string">"getSampleField2"</span></span>).send(sampleDto); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getSampleField1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(sampleDto:SampleDto)</span></span></span><span class="hljs-function">:void </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!_initRemote) initRemote(); getOperation(<span class="hljs-string"><span class="hljs-string">"getSampleField1"</span></span>).send(sampleDto); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addOperationListener</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(op:Function, type:String, handler:Function, useCapture:Boolean = false, priority:int = 0, useWeakReference:Boolean = false)</span></span></span><span class="hljs-function">:void </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (op == <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.sampleMethod1) <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getOperation(<span class="hljs-string"><span class="hljs-string">"sampleMethod1"</span></span>).addEventListener(type, handler, useCapture, priority, useWeakReference); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (op == <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getSampleField2) <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getOperation(<span class="hljs-string"><span class="hljs-string">"getSampleField2"</span></span>).addEventListener(type, handler, useCapture, priority, useWeakReference); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (op == <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getSampleField1) <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getOperation(<span class="hljs-string"><span class="hljs-string">"getSampleField1"</span></span>).addEventListener(type, handler, useCapture, priority, useWeakReference); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">removeOperationListener</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(op:Function, event:String, handler:Function)</span></span></span><span class="hljs-function">:void </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (op == <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.sampleMethod1) <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getOperation(<span class="hljs-string"><span class="hljs-string">"sampleMethod1"</span></span>).removeEventListener(event, handler); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (op == <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getSampleField2) <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getOperation(<span class="hljs-string"><span class="hljs-string">"getSampleField2"</span></span>).removeEventListener(event, handler); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (op == <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getSampleField1) <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getOperation(<span class="hljs-string"><span class="hljs-string">"getSampleField1"</span></span>).removeEventListener(event, handler); } }</code> </pre><br><h4>  Templates to generate </h4><br>  Gas3 allows you to modify templates for generation.  Change the template for generating remote interfaces to be able to hang Responders for methods.  Templates are written in groovy and quite voluminous, so they are not presented in the article; those who wish can see the templates in the repository for this example <a href="">here</a> .  To modify templates, add the templates section to the flexmojos configuration: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">templates</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">base-remote-template</span></span></span><span class="hljs-tag">&gt;</span></span> ${project.basedir}/src/main/generator-templates/remoteBase.gsp <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">base-remote-template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">templates</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  As a result, we get the following service code: <br><br><pre> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SampleServiceBase</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RemoteObject</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> logger:ILogger = Log.getLogger(getQualifiedClassName(SampleService).replace(<span class="hljs-string"><span class="hljs-string">"::"</span></span>, <span class="hljs-string"><span class="hljs-string">"."</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> _initRemote:Boolean = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SampleServiceBase</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(); } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initRemote</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:void </span></span>{ destination = <span class="hljs-string"><span class="hljs-string">"sampleService"</span></span>; channelSet = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ChannelSet(); channelSet.addChannel(ServerConfig.getChannel(<span class="hljs-string"><span class="hljs-string">"amf"</span></span>)); _initRemote = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getSampleField1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(sampleDto:SampleDto, responder:IResponder = null)</span></span></span><span class="hljs-function">:AsyncToken </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!_initRemote) { initRemote(); } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> asyncToken:AsyncToken = getOperation(<span class="hljs-string"><span class="hljs-string">"getSampleField1"</span></span>).send(sampleDto); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (responder) { asyncToken.addResponder(responder); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Log.isDebug()) { logger.debug(<span class="hljs-string"><span class="hljs-string">"Method &lt;getSampleField1&gt; invoked with parameters &lt;{0}&gt;"</span></span>, sampleDto); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> asyncToken; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sampleMethod1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(responder:IResponder = null)</span></span></span><span class="hljs-function">:AsyncToken </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!_initRemote) { initRemote(); } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> asyncToken:AsyncToken = getOperation(<span class="hljs-string"><span class="hljs-string">"sampleMethod1"</span></span>).send(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (responder) { asyncToken.addResponder(responder); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Log.isDebug()) { logger.debug(<span class="hljs-string"><span class="hljs-string">"Method &lt;sampleMethod1&gt; invoked with parameters "</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> asyncToken; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getSampleField2</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(sampleDto:SampleDto, responder:IResponder = null)</span></span></span><span class="hljs-function">:AsyncToken </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!_initRemote) { initRemote(); } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> asyncToken:AsyncToken = getOperation(<span class="hljs-string"><span class="hljs-string">"getSampleField2"</span></span>).send(sampleDto); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (responder) { asyncToken.addResponder(responder); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Log.isDebug()) { logger.debug(<span class="hljs-string"><span class="hljs-string">"Method &lt;getSampleField2&gt; invoked with parameters &lt;{0}&gt;"</span></span>, sampleDto); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> asyncToken; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addOperationListener</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(op:Function, type:String, handler:Function, useCapture:Boolean = false, priority:int = 0, useWeakReference:Boolean = false)</span></span></span><span class="hljs-function">:void </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (op == <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getSampleField1) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getOperation(<span class="hljs-string"><span class="hljs-string">"getSampleField1"</span></span>).addEventListener(type, handler, useCapture, priority, useWeakReference); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (op == <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.sampleMethod1) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getOperation(<span class="hljs-string"><span class="hljs-string">"sampleMethod1"</span></span>).addEventListener(type, handler, useCapture, priority, useWeakReference); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (op == <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getSampleField2) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getOperation(<span class="hljs-string"><span class="hljs-string">"getSampleField2"</span></span>).addEventListener(type, handler, useCapture, priority, useWeakReference); } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">removeOperationListener</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(op:Function, event:String, handler:Function)</span></span></span><span class="hljs-function">:void </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (op == <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getSampleField1) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getOperation(<span class="hljs-string"><span class="hljs-string">"getSampleField1"</span></span>).removeEventListener(event, handler); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (op == <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.sampleMethod1) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getOperation(<span class="hljs-string"><span class="hljs-string">"sampleMethod1"</span></span>).removeEventListener(event, handler); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (op == <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getSampleField2) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getOperation(<span class="hljs-string"><span class="hljs-string">"getSampleField2"</span></span>).removeEventListener(event, handler); } } }</code> </pre><br>  In addition to remote interfaces, Gas3 makes it possible to change templates for java interfaces, for regular beans and for JPA entity beans. <br><br><h4>  Total </h4><br>  As a result: <br><ol><li>  We got the opportunity to learn about the inconsistency of java and actionscript code.  If java code is changed, actionscript will change automatically, and all parts of the code that work with the old version of classes will not be able to compile. </li><li>  We have eliminated the need to manually generate AS DTO and remote interfaces. </li></ol><br>  For convenience, I created a web application that works with these entities.  Source code can be viewed <a href="https://github.com/dmalch/sample-generate-flex-dto-and-services">here</a> . <br><br><h4>  Materials </h4><br><ul><li>  Sample code <a href="https://github.com/dmalch/sample-generate-flex-dto-and-services">https://github.com/dmalch/sample-generate-flex-dto-and-services</a> </li><li>  Gas3 <a href="http://www.graniteds.org/confluence/display/DOC/3.%2BGas3%2BCode%2BGenerator">http://www.graniteds.org/confluence/display/DOC/3.+Gas3+Code+Generator</a> </li><li>  Clear Toolkit <a href="http://sourceforge.net/projects/cleartoolkit/">http://sourceforge.net/projects/cleartoolkit/</a> </li><li>  Pimento <a href="http://www.spicefactory.org/">http://www.spicefactory.org/</a> </li></ul><br><br>  ps I am aware of bad trends in flash / flex, but my experience may be useful to someone. </div><p>Source: <a href="https://habr.com/ru/post/144872/">https://habr.com/ru/post/144872/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../144867/index.html">Top 10 most unusual computer mice</a></li>
<li><a href="../144868/index.html">Simple Question / Answer service using Formspring</a></li>
<li><a href="../144869/index.html">Introduction to Windows Server AppFabric. Caching Services</a></li>
<li><a href="../144870/index.html">The Supreme Court of Britain rejected the appeal of the founder of WikiLeaks</a></li>
<li><a href="../144871/index.html">Samsung and Google introduced new chromabuki</a></li>
<li><a href="../144875/index.html">On the road to the clouds with Windows Server 2012 and not only</a></li>
<li><a href="../144876/index.html">Akismet has already eliminated 50 billion spam comments on Wordpress blogs</a></li>
<li><a href="../144877/index.html">Turn on Yandex.Music on iPhone</a></li>
<li><a href="../144880/index.html">Sending letters to Google Docs (Drive)</a></li>
<li><a href="../144881/index.html">Neural networks for dummies. Part 2 - Perceptron</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>