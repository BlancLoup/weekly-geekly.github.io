<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Implementing user support with JIRA or how we got rid of OTRS</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="0. What is it all about 
 The story began with the fact that the company in which I worked was an old and, subjectively, somewhat inconvenient applica...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Implementing user support with JIRA or how we got rid of OTRS</h1><div class="post__text post__text-html js-mediator-article"><h2>  0. What is it all about </h2><br>  The story began with the fact that the company in which I worked was an old and, subjectively, somewhat inconvenient application processing system (OTRS), with which technical support worked.  The development used JIRA, and the lack of integration between JIRA and OTRS made it difficult to formalize the process of interaction between departments.  In addition, there were several significant flaws in OTRS, for example, a letter taken into work by one support officer could not see another.  These problems had to be solved somehow and in the process of thinking it all came down to two options: <br><ol><li>  Update OTRS and configure its integration with JIRA </li><li>  Full transfer of technical support work to JIRA and disabling OTRS </li></ol><br>  They decided to do the second option: it allowed to unify the working tools, stop supporting the extra service (which administrators supported according to the principle ‚Äúit works ‚Äî don't worry‚Äù, which did not allow it to be optimized and developed), implement automatic statistics gathering on the technical support work and use various JIRA buns : Kanban boards, creating a template bug for developing with one button, flexible search, automatic sending of letters when correcting errors, and so on. <br><br>  To simplify the work, the correspondence with users decided to reduce to the establishment of the task the first letter from the user and commenting on the task for all subsequent ones.  Technical support comments were sent back to the user by email. <br><br><a name="habracut"></a><br>  To implement the minimum working draft, which will be discussed in this article, we need: <br><ol><li>  <a href="https://www.atlassian.com/software/jira">JIRA</a> on your server.  Cloud JIRA does not support the necessary plugins, </li><li>  <a href="https://marketplace.atlassian.com/plugins/com.metainf.jira.plugin.emailissue">JETI</a> ( <a href="https://marketplace.atlassian.com/plugins/com.metainf.jira.plugin.emailissue">JEMH</a> is also <a href="http://www.e-junkie.com/javahollic/product/473912.php">possible</a> , but expensive and not in this manual) - a plugin that adds tools to work correctly with incoming and outgoing letters, </li><li>  Administrator rights and hands of medium curvature ;-) </li><li>  The user to whom we will create tasks and comments (let's call him support), </li><li>  A separate JIRA project for working with the technical support box (in the article it will be support@example.com), customized to your taste.  It has one type of tasks (in my case - Ticket) </li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  1. Finishing the fields and project roles </h2><br>  First, we need to make a few changes to the created project related to the specifics of the plugins used and the project features. <br><ol><li>  Create a field of the type ‚ÄúText Field (single line)‚Äù and bind it to the editing and viewing of tasks screens.  In it, the plugin will store the user's mail.  Let's call it "Customer Email". </li><li>  In the role of the Developers project we write down people who will provide user support.  All possible changes in tasks are prohibited for everyone except this role using the Permission Scheme, as in our case ‚Äúwrote a comment in the task‚Äù = ‚Äúsent a letter to the user‚Äù. </li></ol><br><br><h2>  2. Set up auto reply templates and comments in JETI </h2><br>  We will have two types of letters: <br><ol><li>  Auto answer - confirmation for the user to create a task.  It allows you to save support from unnecessary work, and users from unnecessary waste of nerves to write a second letter. </li><li>  Normal letter - the main way of communicating support with the user, will be sent when commenting on the task. </li></ol><br>  * In the templates, you can make a cool layout and stuff, but not in the framework of this article, so the examples will be ugly, but working.  For everything else, there is a Field picker on the form (it allows you to pull field values ‚Äã‚Äãfrom JIRA) and HTML tags ;-) <br><br>  Perhaps we will begin.  For this: <br><ol><li>  Go to Administration&gt; Add-ons&gt; JIRA Email This Issue (Configuration)&gt; Templates&gt; Add </li><li>  In the form that opens, enter the name of the template (In my case, the "Comment template"), click "Add" </li><li>  Fill in the Subject template and Letter Body Template fields, for example: <a href="https://gist.github.com/Keramblock/964ae4d91c7c923ae4f9">here</a> <br><div class="spoiler">  <b class="spoiler_title">Screenshot</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/29a/085/8f5/29a0858f5aabc6adb71aa64abde16120.png"></div></div><br></li><li>  Repeat steps 1-3 for the autovet template (In my case ‚ÄúAuto-reply template‚Äù), for example: <a href="https://gist.github.com/Keramblock/0d511868a41c510b59c2">here</a> <br><div class="spoiler">  <b class="spoiler_title">Screenshot</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/66d/03f/bfa/66d03fbfad920d8050482cb24d6aec72.png"></div></div><br>  Now the ‚ÄúComment template‚Äù needs to be tied to a specific project and event using the Notification template.  For the ‚ÄúAuto-reply template‚Äù this is not necessary - we will tie it to the creation of a task from a letter, and not to an event in JIRA. <br></li><li>  Go to Administration&gt; Add-ons&gt; JIRA Email This Issue (Configuration)&gt; Notifications&gt; Add </li><li>  In the form that opens, enter the name of the notification template: ‚ÄúComment notification template‚Äù and click ‚ÄúAdd‚Äù </li><li>  Press ‚ÄúAdd‚Äù in the upper right corner of the screen again. </li><li>  Fill out the form: <br>  Event Type: ‚ÄúIssue Commented‚Äù - the letter is sent as a reaction to an event in JIRA.  In this case, select the event that is sent to JIRA when commenting on any task. <br>  Template: "Comment template" <br></li><li>  Again, click "Add" </li><li>  In the form that opens, fill in the fields: <br>  Recipients (To): "Customer Email" from clause 1.1 <br>  Add attachments to email: Newest - in the letter we will only send the latest attachments to the user. <br></li><li>  Click "Save". </li></ol><br><br><h2>  3. Configure JIRA for work with incoming mail </h2><br>  Now we will configure the creation of tasks and comments to them via mail.  This can be done without using the JETI plugin, replacing ‚ÄúEmail this Issue Mail Handler‚Äù in the 4th paragraph with ‚ÄúCreate an issue‚Äù. <br><ol><li>  Follow the path: Administration&gt; System&gt; Incoming Mail&gt; Add POP&gt; IMAP Mail Servers </li><li>  We connect to the support mail "support@example.com" - absolutely similar to any email client.  Pay attention to the useful ‚ÄúTest connection‚Äù button. <br><div class="spoiler">  <b class="spoiler_title">Fill example</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/05e/5eb/327/05e5eb327ccc667f46e5771c9d4b4fbd.png"></div></div><br></li><li>  After successfully opening the box, click on the ‚ÄúAdd Incoming Mail Handler‚Äù button below to add a handler to our mail. </li><li>  Fill in the window that opens: <br>  "Server" - Mail, created just above; <br>  "Handler" - "Email this Issue Mail Handler" <br></li><li>  Having filled, we press "Next" </li><li>  On the next page, fill out the form as follows: <br>  Project: Your project <br>  Issue Type: Ticket <br>  Default Reporter: support <br>  Notify user: remove the check mark <br>  There is also a "Test" button. <br><div class="spoiler">  <b class="spoiler_title">Fill example</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/0eb/358/221/0eb358221c1f230babd670088066db50.png"></div></div><br><br>  Now JIRA can create tasks via mail, but for the correct operation of the entire project, you need to tune Handler in the plugin itself. <br></li><li>  Go to Administration&gt; Add-ons&gt; JIRA Email This Issue (Configuration)&gt; Mail Handlers&gt; Add </li><li>  Fill out the form: <br>  Project: Your project <br>  Issue Type: Ticket <br>  Acknowledge new issues: ‚ÄúAuto-reply template‚Äù - specify the auto-reply template <br>  * Acknowledge new comments - here you can file another auto reply template for subsequent emails from the user.  Personally, I do not use, but you can. <br>  Sender field: "Customer Email" - select the field where we will save the user's mail. <br><div class="spoiler">  <b class="spoiler_title">Fill example</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/665/aea/efa/665aeaefa245a0db80f5c654530f5796.png"></div></div><br><br></li><li>  Click "Save" </li></ol><br><br><h2>  4. Set up outgoing mail in JETI </h2><br>  Since the templates we have already created, it remains for us to only specify the context for their use: <br><ol><li>  Go to Administration&gt; Add-ons&gt; JIRA Email This Issue (Configuration)&gt; Contexts&gt; Add </li><li>  In the opened form we fill in: <br>  Project: Your project <br>  Issue Type: Ticket <br>  Notification Template: "Comment notification template" <br>  From Address: "support@example.com" - we enter the mail, which we will use to correspond with users. <br><div class="spoiler">  <b class="spoiler_title">Fill example</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/7c2/389/885/7c238988532374be53367f34db44f9be.png"></div></div><br></li><li>  Save again </li></ol><br><br><h2>  5. Check </h2><br>  Now let's look at the results of our works: <br><ol><li>  We send a letter to the support address - within five minutes a task should be entered and an auto answer should come.  In the Customer Email field of the created task there should be the address of the sender of the letter if there is no such user in JIRA.  An auto reply about the receipt of the letter should come to the mail. </li><li>  We are sending another letter with the same topic and from the same address - the task should be commented out. </li><li>  Commenting the task - the user should receive a letter with a comment. </li></ol><br><br><div class="spoiler">  <b class="spoiler_title">View from the Jira</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/47b/e94/5aa/47be945aaab350250af1f6443dad17b0.png"></div></div><br><br><div class="spoiler">  <b class="spoiler_title">View from the user's mail</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/606/d24/884/606d24884dd6fe70b207b335e216ecf6.png"></div></div><br><br><h2>  6. Summary </h2><br>  At this stage, we have created a minimally efficient project for processing user requests based on JIRA and JETI. <br><br>  Pros: <br><ol><li>  Collection of technical information about the site user with the help of request collectors (resolution, browser, page - in theory everything that js can pull out), </li><li>  Integration with other plugins: Kanban board for the project, automatic distribution of letters when released, sending reminders of unfinished tasks etc, </li><li>  Unified working tool for development and support, </li><li>  The implementation of analytics of any level of complexity on the work of technical user support </li></ol><br><br>  Minuses: <br><ol><li>  The JETI author has not yet fulfilled the request to send custom events when processing letters.  Therefore, it was not possible to set up a re-opening of tasks when receiving a second letter from the user after the first was processed by technical support.  Now it is necessary to catch filters in notifications from JIRA, but they promise to fix it in the next release: <a href="https://metainf.atlassian.net/browse/JETI-261">link</a> </li><li>  The inability to send specific attachments to the user: the last few are sent on a cunning algorithm. </li><li> Dependence on the general settings of outgoing JIRA mail (letter prefix, text address) - I did not find how to fix it, and I will be happy with ideas, if there are. <br>  The lack of protection against spam was decided by filters through the interface of the mail itself, but cool would be to do similar things through JIRA. </li><li>  You can not just take and send a letter of support to some left box.  Rare, but sometimes necessary case. </li></ol><br><br>  That's all, in the next article I will try to tell how to add such cool and necessary things to this project, such as: <br><ul><li>  Mail Merge Templates - A project to support users without templates looks weird. </li><li>  Sending a task fix letter when you close a development task, </li><li>  The query collector and kanban board mentioned above. </li></ul></div><p>Source: <a href="https://habr.com/ru/post/220823/">https://habr.com/ru/post/220823/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../220809/index.html">FineVu CR-2000S Review: How I Studied a Luxury Recorder with Two Full HD Cameras</a></li>
<li><a href="../220815/index.html">Publish apps to the Windows Store and Windows Phone Store and win prizes</a></li>
<li><a href="../220817/index.html">Yota becomes the fourth federal mobile operator</a></li>
<li><a href="../220819/index.html">Yandex.Money Card Inside - MasterCard PayPass</a></li>
<li><a href="../220821/index.html">Fujitsu Webinar Services for IT Infrastructures</a></li>
<li><a href="../220831/index.html">Expert hacker landing on PHDays IV: we make the keys to locked doors, break browsers and save ourselves from the ‚Äúsmart home‚Äù</a></li>
<li><a href="../220835/index.html">As I lagged Navigation Drawer fought</a></li>
<li><a href="../220837/index.html">Basic animation with iTween</a></li>
<li><a href="../220839/index.html">What is Excel Mashup, and to whom it may be useful?</a></li>
<li><a href="../220841/index.html">N2O: Erlang WebSockets Web Framework</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>