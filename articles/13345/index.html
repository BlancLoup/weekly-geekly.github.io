<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The Old New Thing, or windows dad</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="There are books that are mastered by half, you feel like a hero. And very rarely does it happen that in the middle of a book you regret that there is ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The Old New Thing, or windows dad</h1><div class="post__text post__text-html js-mediator-article">  There are books that are mastered by half, you feel like a hero.  And very rarely does it happen that in the middle of a book you regret that there is so little left.  The book The Old New Thing - this is the very rare case. <a name="habracut"></a>  The closer to the end, the more I wanted to read.  Therefore, bonus chapters that are not on paper, but are on the site, came in handy. <br>  It is already becoming a tradition that blogs go through literary processing and are published in the form of a book.  So here.  Raymond Chen is the author of <a href="http://blogs.msdn.com/oldnewthing/">The Old New Thing</a> blog of the same name, located on <a href="http://blogs.msdn.com/">MSDN Blogs</a> .  Apparently, the blog should be very popular. <br>  I learned about the author and the book from Joel Spolsky's articles (‚Äú <a href="http://mustread.ru/isbn/5932860634.html">Joel on Programming</a> ‚Äù, ‚Äú <a href="http://mustread.ru/isbn/5469012913.html">Best Software Development Examples</a> ‚Äù).  As I understand it, Raymond Chen is a ‚Äúdad‚Äù of Windows, he ‚Äúmolded‚Äù it.  And you can hardly find anyone who knows more about the insides of the system. <br>  There are such knowledge that you will not get from anywhere else, except from others.  The book has a lot of information of this kind.  After reading it, much more you begin to appreciate how much invisible work invested in Windows, how hard it was to make it so that users were comfortable.  And do not throw rotten tomatoes at me: the last Windows I dealt with was the 95th.  Since then, I have been working exclusively on Linux.  But this does not mean that it is necessary to throw mud at the alternative operating system.  Even if it has shoals. <br>  For jambs, in actual fact, are often a historical legacy left for backwards compatibility.  For example, special files like CON and PRN.  Initially, it turns out, they were a very useful hack.  There are even convincing explanations for what has always enraged me: interpreting the BIOS clock as local time, not GMT;  overwrite the boot sector when you install Windows. <br>  In addition to explaining where these or other features come from, there are a lot of funny stories.  I was especially amused, as after sticking a lace, the system said: ‚ÄúA new device has been discovered: the Boeing 747‚Äù. <br>  All this is interspersed with deep technical heads.  They also reveal the subtleties of the usual things, for example, dialog boxes or a message manager.  Useful reading for all GUI-programmers, and not only under Windows.  For me, this is the first book that answers the question ‚Äúwhy it works this way,‚Äù and not just describing how to do something. <br>  The big chapter is devoted to the internationalization of programs and disassembly with input-output in different encodings.  For me, a little new, but those who have not yet "burned" on exotic letters, learn about some of the difficulties of life. <br>  I heard a lot about the fact that the function pointer cannot be placed in an int, but I could not think of why.  Thanks to the discussion of the insides of Visual C ++, I now know: a pointer to a member function of a class can be very tricky, it won't fit into an int. <br>  Pleased with the use of tools for other purposes.  For example, how to draw a filled rectangle?  Use the Rectangle function?  Or maybe FillRect?  So, it turns out that the ExtTextOut function is the most convenient and efficient. <br>  In discussing the issues of performance I was impressed by the disassembly with memory.  Were considered traditional approaches that are used when it is necessary to cache and think lazy.  It turned out that in such cases, memory for cache is consumed very inefficiently.  The experiment showed that the used part of the cache is only 2%, and the rest is lost!  A small change in the algorithm dramatically changed everything, and the cache was used by more than 98%, often close to 100%.  It turns out that a cache with a bad algorithm is just another name for a memory leak. <br>  Speaking of leaks.  How to understand where it happens without using special tools?  It turns out there is a surprisingly simple and very successful way.  We take a dozen addresses and make a memory dump.  With a probability close to 100%, there are leaked objects.  It remains only to look at the printout and find a frequently repeated pattern.  This is a leak.  Practitioners physicists rule. <br>  The bonus chapters tell you what tricks the Windows developers had to go in order to get some software to work under their system.  These stories would decorate the <a href="http://ru.worsethanfailure.com/">WTF</a> .  So the next time, before shouting ‚ÄúWindows must die,‚Äù think about whose curved hands they have done, and try to read The Old New Thing. <br>  Links <br><ul><li>  <a href="http://blogs.msdn.com/oldnewthing/">The Old New Thing</a> - Book Author's Blog </li><li>  <a href="http://awprofessional.com/title/0321440307">Book website</a> .  Excerpts and bonus chapters </li><li>  <a href="http://www.amazon.com/gp/product/0321440307%3Fie%3DUTF8%26tag%3Dxmlnewsandres-20%26linkCode%3Das2%26camp%3D1789%26creative%3D9325%26creativeASIN%3D0321440307">this book on amazon.com</a> </li><li>  <a href="http://mustread.ru/isbn/0321440307.html">This review on mustread.ru</a> </li></ul></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/13345/">https://habr.com/ru/post/13345/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../133442/index.html">Sony Ericsson Xperia Pro - parsing the smartphone with qwerty-keyboard</a></li>
<li><a href="../133443/index.html">NodeJS became the most popular repository on Github</a></li>
<li><a href="../133446/index.html">US authorities confiscated 130 more domains</a></li>
<li><a href="../133447/index.html">Introduction to the development of cartographic and geolocation mobile applications using QtMobility.location</a></li>
<li><a href="../133449/index.html">We get a bank card while abroad</a></li>
<li><a href="../133451/index.html">Habrahabr - laureate of the ‚ÄúRunet Awards-2011‚Äù</a></li>
<li><a href="../133453/index.html">Networks for the smallest</a></li>
<li><a href="../133457/index.html">Stephen Elop was voted man of the year in the mobile industry.</a></li>
<li><a href="../133458/index.html">UWave microwave plays videos and sends messages to Twitter</a></li>
<li><a href="../133459/index.html">Future releases of Firefox</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>