<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>TARS, make the level of frontend-routine 0%</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Frontend is getting harder every day. Tasks are more voluminous, the user interface is richer, HTML, CSS and Javascript are larger, and the front-end ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>TARS, make the level of frontend-routine 0%</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/ec5/9f2/563/ec59f256328a4fa8b1e3491d8b817403.png" alt="image"><br><br>  Frontend is getting harder every day.  Tasks are more voluminous, the user interface is richer, HTML, CSS and Javascript are larger, and the front-end sleep is shorter and more disturbed.  It is necessary to structure the code correctly, perform many routine tasks (compiling css and js preprocessors, assembling sprites, preparing and optimizing images, minifying files, etc.).  If you work in a team - this automatically increases the complexity of development.  To solve these problems, I created <a href="https://github.com/2gis/tars">TARS</a> , a html layout <a href="http://gulpjs.com/">builder</a> based on <a href="http://gulpjs.com/">gulpjs</a> . <br><a name="habracut"></a><habracut><br>  We at 2GIS know about frontend-rutin firsthand.  The company creates many web projects of varying complexity: from portals and online maps, to various landing pages and promotional sites.  We are tired of the boring copy-paste when working with html, preparing graphics for displays with high pixel density, minifying everything that can be minimized, etc.  It seemed that all these things the machine can easily do for us.  So I decided to develop a tool to automate the lion‚Äôs share of the frontend routine. <br><br>  UPD: we released a lot of new products in TARS and even wrote an <a href="http://habrahabr.ru/company/2gis/blog/269743/">article</a> about it! 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      What I wanted to get from this tool: <br><ul><li>  automate everything you can; </li><li>  use existing practices, and therefore use the familiar programming language - JavaScript, the familiar ecosystem - Node.js and npm; </li><li>  basic set of functions in one tool; </li><li>  convenient API; </li><li>  cross platform </li></ul><br>  Before writing ours, at first my colleagues and I looked for ready-made solutions.  There were a lot of them.  Here squeeze, as it seems to me, the most interesting projects: <br><ul><li>  <a href="http://headstart.io/">Headstart</a> </li><li>  <a href="https://github.com/alexfedoseev/js-app-starter">JS App Starter</a> </li><li>  <a href="http://use-init.com/">INIT</a> </li><li>  <a href="http://getfireshell.com/">FireShell</a> , <a href="http://hosseinkarami.com/fastshell/">FastShell</a> </li><li>  <a href="https://html5boilerplate.com/">HTML5 Boilerplate</a> , <a href="https://developers.google.com/web/starter-kit/">Web Starter Kit</a> </li><li>  many developments of other developers. </li></ul><br>  Each of these tools is good in its own way: somewhere there is excellent documentation, somewhere the task storage system is well implemented.  But all these solutions are either too complicated to modify, or too simple, that it is easier to write your own than to modify the existing one.  At the same time, the functionality would have to be expanded precisely.  For example, none of the solutions provided workflow graphics preparation for screens with high pixel density. <br><br>  Then was born TARS, which has absorbed all the best of the already finished projects. <br><br>  TARS is a set of gulp tasks for automating most frontend tasks + the ability to easily add new ones if something is missing.  TARS can be called a gulp framework.  Suitable for both individual developers and large teams.  With TARS, it is easy to develop projects of any complexity: from landing to a huge portal.  You don‚Äôt even need to know how gulp works, since everything that was possible was taken out in options, all the code and use cases are documented. <br><br>  Key features of TARS. <br><ol><li>  Jade or Handlebars as an html template or plain html (when choosing Handlebars). </li><li>  SCSS, Less, Stylus as a css-preprocessor or tube CSS (syntax is supported within any of the preprocessors).  Recently appeared <a href="https://github.com/alvik48/fmp">fmp</a> project, in which it is also available. </li><li>  The ability to separate data from the view, transferring the data in the form of a js-object in the templates.  So we use the same template many times, but with different data, without copy-paste, libraries and frameworks.  More on this will be discussed below. </li><li>  Here is the <a href="https://github.com/paulmillr/chokidar">chokidar</a> . </li><li>  Truly smart image manipulation.  Maximally simplifies the development of screens with high pixel density.  This will be discussed below. </li><li>  Easy to expand your task.  Modular structure. </li><li>  Excellent documentation. </li><li>  Creating an archive of the finished assembly.  Trifle, but nice. </li></ol><br>  And, of course, concatenation, minification and optimization of everything that is possible, several assembly modes, etc. <br><br>  TARS has an impressive set of options, each of which is described in detail in the documentation. <br><br>  We have already used TARS in developing a <a href="http://techno.2gis.ru/">website</a> about technology, products and design. <br>  2GIS, various landings ( <a href="http://wp.2gis.ru/">2GIS promo for Windows Phone</a> , <a href="http://franchise-kazakhstan.2gis.ru/">2GIS franchise for Kazakhstan</a> , <a href="https://fest.2gis.ru/">2GIS internal developer conference</a> site), <a href="http://5pm.2gis.ru/">5pm</a> website, etc. <br><br><h2>  How it all works </h2><br>  You will need: <br><ul><li>  Node.js (maybe soon on IO.js, working on this); </li><li>  Globally installed gulp; </li><li>  Archive with <a href="">TARS</a> . </li></ul><br>  After we have downloaded the archive, we execute the gulp init command.  It will connect the selected html template and css-preprocessor (specified in the config), it will create the basic file structure.  Everything, you can sausage.  TARS runs on all desktop platforms. <br><br>  In the near future I will make a yeoman-generator. <br><br>  Before you start working with the collector, I recommend to read the <a href="">documentation</a> . <br><br><h3>  Basic build commands </h3><br>  In total there are two main commands: <br><ul><li>  gulp build (or just gulp); </li><li>  gulp dev. </li></ul><br>  The first team makes a ready build of the project, and the second runs TARS in development mode.  In dev-mode, the project is built without minifikatsiy and with running votcherami behind the files. <br><br>  Commands are diluted with a small number of flags: <br><ul><li>  gulp build (or just gulp) (--min, --release, --ie8); </li><li>  gulp dev (--lr, --tunnel, --ie8). </li></ul><br>  With gulp build, you can use the ‚Äìmin key, and then miniated js and css files will be connected to html.  When using the --release key in html, all the same minified files will be connected, in the name of which there is a random hash. <br><br>  With gulp dev, the --lr keys are used to start livereload in the browser, which opens automatically (you can select the browser in the config file).  The key - tunnel will share the layout from your local computer to the external web.  You will receive a link in the console, on which the layout will be available on the web. <br><br>  Also, with any command, you can use the --ie8 key, which will launch additional tasks for assembling with support for Internet Explorer 8. The browser is special, and that's what makes the workflow special. <br><br>  All installation instructions are in the documentation. <br><br><h3>  Project structure </h3><br>  In the "tars" folder are all the files of the collector (built-in and user task with vocher, various helper) and a folder with the source of the project (markup).  At the root is the collector config, the dependency lists for the project, the config for checking js code style and the main gulpfile.js. <br><br><pre><code class="javascript hljs">‚îú‚îÄ‚îÄ gulpfile.js # gulpfile  ‚îú‚îÄ‚îÄ tars-config.js #   ‚îú‚îÄ‚îÄ package.json #  TARS ‚îú‚îÄ‚îÄ user-package.json #   ‚îî‚îÄ‚îÄ tars/ #     gulp ‚îî‚îÄ‚îÄ helpers/ #  ‚îî‚îÄ‚îÄ tasks/ #   ‚îî‚îÄ‚îÄ user-tasks/ #   ‚îî‚îÄ‚îÄ watchers/ #   ‚îî‚îÄ‚îÄ user-watchers/ #   ‚îî‚îÄ‚îÄ markup/ #     ‚îî‚îÄ‚îÄ modules/ #  ‚îî‚îÄ‚îÄ pages/ #   ‚îî‚îÄ‚îÄ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span>/ #   (css, js  ..) ‚îî‚îÄ‚îÄ docs/ # </code> </pre> <br><br>  A project is a set of pages (pages folder), a set of modules (modules folder) and a folder with various statics (static, by default. The name can be changed in the config). <br><br>  Pages are the simplest templates in which modules are connected.  The simplest example of a module is menu or footer.  To make it clearer, in terms of BEM, a module is a block.  And if without BEM, then the module is any independent entity on the page. <br><br><pre> <code class="javascript hljs">exampleModule/ #   ‚îî‚îÄ‚îÄ assets/ #      ‚îî‚îÄ‚îÄ ie/ #   ie8  ie9 (ie9/ie8.scss|less|styl) ‚îî‚îÄ‚îÄ data/ #       ‚îú‚îÄ‚îÄ data.js #      js- ‚îú‚îÄ‚îÄ exampleModule.html # Html|Jade-  ‚îú‚îÄ‚îÄ exampleModule.scss|less|styl # Scss|Less|Stylus-  ‚îú‚îÄ‚îÄ exampleModule.js # Js- </code> </pre><br><br>  Each module has its own html-, css- and js-presentation, a folder for various files for the module (images, video files, etc.), a folder for browser styles IE8 and IE9, a folder with a data file for modules.  All listed files and folders are optional for the module.  Any module can include other modules. <br><br>  It is not necessary that the module is a separate entity.  You can use modules as you like. <br><br>  A folder with statics can contain subdirectories for storing images, js-files of libraries and plug-ins, files of the selected css-preprocessor + various files that should end up in the root of the project, for example, favicon or robots.txt <br><br>  Be sure to read how JavaScript and CSS are glued together - it depends on how you need to use the files of the collector. <br><br>  The file structure is created automatically when the project is initialized.  It is generally unchangeable, but there are a number of optional directories, plus a number of options for changing the name of already existing collector folders.  The file structure is described in detail in the documentation. <br><br>  For JavaScript, separate options have been created in which you can specify where else you need to take js for gluing.  Thus, you do not need to go into the collector files if you want to use any framework in which there is not only such an entity as a module (or a view, or a directive, or something else there). <br><br><h3>  Work with templates </h3><br>  Suppose that we have a page that has a top, side, and bottom menu.  Something like this: <br><br><img src="https://habrastorage.org/files/071/b06/040/071b060409c145888772e5113670d3f7.png"><br><br>  The menus are very similar to each other, but have different links, small differences in styles.  Further we will speak in terms of BEM.  Each menu is a block.  Sketch a little html to implement the menu, which we will eventually put in the modules folder (modules / menu / menu.html): <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">nav</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚Äùmenu‚Äù</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚Äùmenu__list‚Äù</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚Äùmenu__listItem‚Äù</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚Äùurl‚Äù</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚Äùmenu__listItemLink‚Äù</span></span></span><span class="hljs-tag">&gt;</span></span>title<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> ... <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">nav</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  I will not give all the code, but it is obvious that the footwoman turns out quite solid.  Now we will put all the data for this menu (links and menu item names) into a separate file (data / data.js in the module folder): <br><br><pre> <code class="javascript hljs">menu: { <span class="hljs-attr"><span class="hljs-attr">header</span></span>: { <span class="hljs-attr"><span class="hljs-attr">mod</span></span>: <span class="hljs-string"><span class="hljs-string">'header'</span></span>, <span class="hljs-attr"><span class="hljs-attr">list</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">url</span></span>: firstLinkUrl, <span class="hljs-attr"><span class="hljs-attr">title</span></span>: firstLinkTitle } ... ] }, <span class="hljs-attr"><span class="hljs-attr">side</span></span>: { <span class="hljs-attr"><span class="hljs-attr">mod</span></span>: side, <span class="hljs-attr"><span class="hljs-attr">list</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">url</span></span>: firstLinkUrl, <span class="hljs-attr"><span class="hljs-attr">title</span></span>: firstLinkTitle } ... ] }, <span class="hljs-attr"><span class="hljs-attr">footer</span></span>: { <span class="hljs-attr"><span class="hljs-attr">mod</span></span>: footer, <span class="hljs-attr"><span class="hljs-attr">list</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">url</span></span>: firstLinkUrl, <span class="hljs-attr"><span class="hljs-attr">title</span></span>: firstLinkTitle } ... ] } }</code> </pre><br><br>  Now let's improve our menu template a bit (use handlebars): <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">nav</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚Äùmenu</span></span></span><span class="hljs-tag"> {{#</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">if</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">mod</span></span></span><span class="hljs-tag">}} </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">_</span></span></span><span class="hljs-tag">{{</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">mod</span></span></span><span class="hljs-tag">}} {{/</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">if</span></span></span><span class="hljs-tag">}}‚Äù&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚Äùmenu__list‚Äù</span></span></span><span class="hljs-tag">&gt;</span></span> {{#each list}} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚Äùmenu__listItem‚Äù</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚Äù{{ur}}‚Äù</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">‚Äùmenu__listItemLink‚Äù</span></span></span><span class="hljs-tag">&gt;</span></span>{{title}}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> {{/each}} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">nav</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  In this case, a certain mod was added, with the help of which we can customize CSS for the menu depending on its position. <br>  It remains only to connect these menus on the page: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">header</span></span></span><span class="hljs-tag">&gt;</span></span> {{&gt; menu/menu menu.header}} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">header</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">aside</span></span></span><span class="hljs-tag">&gt;</span></span> {{&gt; menu/menu menu.side}} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">aside</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">footer</span></span></span><span class="hljs-tag">&gt;</span></span> {{&gt; menu/menu menu.footer}} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">footer</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  With the help of the handlebars helper "&gt;" we connect the menu module with the menu view (each module can have several views) to the page and transfer certain data to it. <br><br>  Total we have 1 template + 1 data file for the menu, which is used in two different places.  Thus, you can implement a module that is very convenient to reuse.  It remains only to add that the same functionality is implemented for jade. <br><br><h3>  Preparation and storage of graphics </h3><br>  Today there are many screens with high pixel density.  Let's figure out what that means. <br><br>  As an example, consider the IPhone 3GS and IPhone 4 smartphones. In 3GS, the screen resolution is 320x480, and in 4-ki - 640x960.  As we can see, the resolution has increased exactly twice with the same diagonal, which means the pixel has become smaller.  In order to level this difference between pixel sizes (and we are managing the pixels in CSS), the device-pixel-ratio (or dppx) parameter appeared, which shows how many real screen pixels are contained in a logical pixel, which we operate in css.  For example, for an IPhone 4 display, this parameter is 2. You can read more <a href="http://www.w3.org/TR/css3-values/">on the W3C website</a> . <br><br>  Suppose we have a sprite PNG image.  Such pictures have fixed sizes.  If we place such a sprite on the IPhone 4 screen, then each pixel of the sprite will be blurred into two screens, and if you smear such a picture by the number of pixels 2 times larger than the size of the picture, the image will look awful. <br><br>  To get rid of this problem, you can use an image 2 times larger, while setting the size of the image in CSS based on the size of the original image (the background-size property). <br><br>  At the moment there are screens with dppx from 1 to 4 (they will soon be higher).  Cooking sprites for four screen sizes is a lot of work. <br><br>  Rescues SVG.  Vector, does not depend on the dppx-screen, perfectly rendered in modern (and not only) browsers.  Only one size can be made, and this image will look the same on all screens. <br><br>  Unfortunately, SVG has several drawbacks: <br><ul><li>  SVG poorly displays radial and other complex gradients (linear displays are excellent); </li><li>  complex shadows are poorly displayed; </li><li>  not displayed in IE8. </li></ul><br>  Total we have two approaches: SVG for all that we can.  For the rest we prepare PNG images.  For IE8, we will simply rasterize SVG images and prepare a sprite of them. <br><br>  To easily manage these approaches, two remarkable mixins were written (SCSS syntax): <br><br><pre> <code class="css hljs"> @<span class="hljs-keyword"><span class="hljs-keyword">include</span></span> bg-svg($svg-image-name);  <span class="hljs-selector-tag"><span class="hljs-selector-tag">SVG</span></span> ; @<span class="hljs-keyword"><span class="hljs-keyword">include</span></span> bg($png-image-name);  <span class="hljs-selector-tag"><span class="hljs-selector-tag">PNG</span></span> .</code> </pre><br><br>  At the same time, for IE8, everything will be generated and connected automatically; for png-images, media requests will be generated that connect certain png-pictures depending on the type of screen.  In general, separate css files are generated for IE8 and IE9.  Files for IE8 are created only if we run the build with the --ie8 key. <br>  An example of the use of mixins: <br><br><img src="https://habrastorage.org/files/d2b/e88/59f/d2be8859f9bd423a9d91453aa18a828f.png"><br><br>  You can imagine the volume of the generated code, how much work was done automatically. <br><br>  More details about the assembly of graphics can be found in the documentation, and the approach itself is perfectly described in the <a href="http://www.slideshare.net/codefest/codefest-2014-2">presentation of</a> web developer Timofey Chaptykov. <br><br><h3>  Custom Tasks </h3><br>  TARS already has everything you need to develop projects of any complexity, but you cannot please everyone.  Everyone can have some kind of specificity, some additional tasks.  To solve this problem, a custom task template was created (tars / user-tasks / example-task.js).  On this basis, you can make your task, which is easily integrated into the existing infrastructure of the collector. <br><br>  Each default task can issue a notification of an error or successful completion, launch a page reload in the browser and connect other tasks if you need to make dependencies between them. <br><br>  Since the main package.json (the file in which the dependencies of the collector are located) can be changed by the assembler itself (for example, when executing the gulp update-deps command), user dependencies should be stored in a separate place.  For this there is user-package.json.  The syntax for declaring dependencies is the same as for package.json. <br><br>  There is also an example of a user posted in the tars / user-watchers directory. <br><br><h3>  Future plans </h3><br>  There are plans to add new features: <br><ul><li>  move to Gulp version 4; </li><li>  add template engines; </li><li>  add pre- and post-processors for CSS; </li><li>  add support for ES6; </li><li>  Use Browserify or webpack. </li></ul><br>  In the near future, we will release version 1.3.0 and translate the documentation into English (literally next week it will be ready).  Plans for new versions can be viewed on <a href="https://github.com/2gis/tars/milestones">GitHub</a> . <br><br>  I forgot to mention that it is open source, so I‚Äôm waiting for your pull requests, questions on expanding the functionality of the collector in the <a href="https://github.com/2gis/tars/issues">issue</a> .  Duplicate direct link to the <a href="https://github.com/2gis/tars">repository of the</a> project. <br><br>  PS: March 28‚Äì29, Novosibirsk will <a href="http://2015.codefest.ru/">host the</a> largest IT conference in the Urals - <a href="http://2015.codefest.ru/">odeFest</a> .  At this conference, TARS will have a separate booth.  If you come to CodeFest - come and ask questions. </habracut></div><p>Source: <a href="https://habr.com/ru/post/254105/">https://habr.com/ru/post/254105/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../254093/index.html">Algorithm Tasks</a></li>
<li><a href="../254097/index.html">How to avoid null pointer dereferencing, using the example of a single patch in the Linux kernel</a></li>
<li><a href="../254099/index.html">Wristwatches based on Arduino, created on a 3D printer in one Saturday evening</a></li>
<li><a href="../254101/index.html">Nutanix Discovery Kit - "Datacenter in a Box", more accessible than ever</a></li>
<li><a href="../254103/index.html">Webix 2.3. Spring update</a></li>
<li><a href="../254109/index.html">How to decrypt magnetic track data using DUKPT</a></li>
<li><a href="../254111/index.html">Winchester speaker</a></li>
<li><a href="../254113/index.html">How to create and earn SaaS | Part 16 | Own mobile network WI-FI</a></li>
<li><a href="../254115/index.html">Binding and xaml markup extensions using localization as an example</a></li>
<li><a href="../254117/index.html">Servers for business: energy efficiency matters</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>