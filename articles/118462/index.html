<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Create an application for Windows Phone 7 from start to finish. Part 15. Access to photos on Windows Phone</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Previous part 

 You can use photos and other images as application resources to display them in the user interface. Your application can access the p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Create an application for Windows Phone 7 from start to finish. Part 15. Access to photos on Windows Phone</h1><div class="post__text post__text-html js-mediator-article">  <a href="http://habrahabr.ru/blogs/windows_mobile/">Previous part</a> <br><br>  You can use photos and other images as application resources to display them in the user interface.  Your application can access the photos in the phone‚Äôs media library or allow users to take pictures using the built-in camera. <br><br>  In this part you will learn: <br><ul><li>  How to access photos on Windows Phone. </li></ul><a name="habracut"></a><h4>  Access photos on Windows Phone </h4><br>  To access images from the media library and camera images, use PhotoChooserTask and CameraCaptureTask.  These classes are known as <i>choosers</i> , because they open a separate window in which the user makes a choice, which is then returned to your application.  There are also <i>launchers</i> (launch), which open a separate window, but do not return the user's choice to the application. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      PhotoChooserTask and CameraCaptureTask require similar code, so we only describe PhotoChooserTask.  In addition, it will be described how to save selected photos to isolated storage.  You can also receive and save images to the media library through the XNA MediaLibrary class.  However, this class will not be considered. <br><br>  To use a chooser, you need to create an instance of it.  The following image shows an example of PhotoChooserTask. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/151/f5f/067/151f5f0671f233c1be1b3a3d74d6fb34.png" alt="image"><br><br>  After the user has made a selection, you must process the Completed event to perform the appropriate actions.  The following code snippet (from CarDetailsPage.xaml.cs) demonstrates how to create a PhotoChooserTask and handle its Completed event.  Note that PhotoChooserTask must be a global variable for the page, and the Completed event must be enabled in the constructor. <br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">private</font> <font color="#0000ff">readonly</font> PhotoChooserTask photoTask = <font color="#0000ff">new</font> PhotoChooserTask(); <font color="#0000ff">public</font> CarDetailsPage() { InitializeComponent(); photoTask.Completed += PhotoTask_Completed; <font color="#008000">// ... other code ...</font> } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoButton_Click( <font color="#0000ff">object</font> sender, RoutedEventArgs e) { photoTask.Show(); } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoTask_Completed( <font color="#0000ff">object</font> sender, PhotoResult e) { <font color="#0000ff">if</font> (e.TaskResult == TaskResult.OK) { <font color="#0000ff">var</font> image = <font color="#0000ff">new</font> System.Windows.Media.Imaging.BitmapImage(); image.SetSource(e.ChosenPhoto); CarDataStore.SaveTempCarPhoto(image, <font color="#0000ff">delegate</font> { MessageBox.Show( <font color="#A31515">"There is not enough space on "</font> + <font color="#A31515">"your phone to save your selection. Free some "</font> + <font color="#A31515">"space and try again."</font> , <font color="#A31515">"Warning"</font> , MessageBoxButton.OK); }); car.Picture = image; hasUnsavedChanges = <font color="#0000ff">true</font> ; } }</font> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> <ol><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> PhotoChooserTask photoTask = <font color="#0000ff">new</font> PhotoChooserTask(); <font color="#0000ff">public</font> CarDetailsPage() { InitializeComponent(); photoTask.Completed += PhotoTask_Completed; <font color="#008000">// ... other code ...</font> } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoButton_Click( <font color="#0000ff">object</font> sender, RoutedEventArgs e) { photoTask.Show(); } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoTask_Completed( <font color="#0000ff">object</font> sender, PhotoResult e) { <font color="#0000ff">if</font> (e.TaskResult == TaskResult.OK) { <font color="#0000ff">var</font> image = <font color="#0000ff">new</font> System.Windows.Media.Imaging.BitmapImage(); image.SetSource(e.ChosenPhoto); CarDataStore.SaveTempCarPhoto(image, <font color="#0000ff">delegate</font> { MessageBox.Show( <font color="#A31515">"There is not enough space on "</font> + <font color="#A31515">"your phone to save your selection. Free some "</font> + <font color="#A31515">"space and try again."</font> , <font color="#A31515">"Warning"</font> , MessageBoxButton.OK); }); car.Picture = image; hasUnsavedChanges = <font color="#0000ff">true</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> PhotoChooserTask photoTask = <font color="#0000ff">new</font> PhotoChooserTask(); <font color="#0000ff">public</font> CarDetailsPage() { InitializeComponent(); photoTask.Completed += PhotoTask_Completed; <font color="#008000">// ... other code ...</font> } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoButton_Click( <font color="#0000ff">object</font> sender, RoutedEventArgs e) { photoTask.Show(); } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoTask_Completed( <font color="#0000ff">object</font> sender, PhotoResult e) { <font color="#0000ff">if</font> (e.TaskResult == TaskResult.OK) { <font color="#0000ff">var</font> image = <font color="#0000ff">new</font> System.Windows.Media.Imaging.BitmapImage(); image.SetSource(e.ChosenPhoto); CarDataStore.SaveTempCarPhoto(image, <font color="#0000ff">delegate</font> { MessageBox.Show( <font color="#A31515">"There is not enough space on "</font> + <font color="#A31515">"your phone to save your selection. Free some "</font> + <font color="#A31515">"space and try again."</font> , <font color="#A31515">"Warning"</font> , MessageBoxButton.OK); }); car.Picture = image; hasUnsavedChanges = <font color="#0000ff">true</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> PhotoChooserTask photoTask = <font color="#0000ff">new</font> PhotoChooserTask(); <font color="#0000ff">public</font> CarDetailsPage() { InitializeComponent(); photoTask.Completed += PhotoTask_Completed; <font color="#008000">// ... other code ...</font> } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoButton_Click( <font color="#0000ff">object</font> sender, RoutedEventArgs e) { photoTask.Show(); } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoTask_Completed( <font color="#0000ff">object</font> sender, PhotoResult e) { <font color="#0000ff">if</font> (e.TaskResult == TaskResult.OK) { <font color="#0000ff">var</font> image = <font color="#0000ff">new</font> System.Windows.Media.Imaging.BitmapImage(); image.SetSource(e.ChosenPhoto); CarDataStore.SaveTempCarPhoto(image, <font color="#0000ff">delegate</font> { MessageBox.Show( <font color="#A31515">"There is not enough space on "</font> + <font color="#A31515">"your phone to save your selection. Free some "</font> + <font color="#A31515">"space and try again."</font> , <font color="#A31515">"Warning"</font> , MessageBoxButton.OK); }); car.Picture = image; hasUnsavedChanges = <font color="#0000ff">true</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> PhotoChooserTask photoTask = <font color="#0000ff">new</font> PhotoChooserTask(); <font color="#0000ff">public</font> CarDetailsPage() { InitializeComponent(); photoTask.Completed += PhotoTask_Completed; <font color="#008000">// ... other code ...</font> } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoButton_Click( <font color="#0000ff">object</font> sender, RoutedEventArgs e) { photoTask.Show(); } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoTask_Completed( <font color="#0000ff">object</font> sender, PhotoResult e) { <font color="#0000ff">if</font> (e.TaskResult == TaskResult.OK) { <font color="#0000ff">var</font> image = <font color="#0000ff">new</font> System.Windows.Media.Imaging.BitmapImage(); image.SetSource(e.ChosenPhoto); CarDataStore.SaveTempCarPhoto(image, <font color="#0000ff">delegate</font> { MessageBox.Show( <font color="#A31515">"There is not enough space on "</font> + <font color="#A31515">"your phone to save your selection. Free some "</font> + <font color="#A31515">"space and try again."</font> , <font color="#A31515">"Warning"</font> , MessageBoxButton.OK); }); car.Picture = image; hasUnsavedChanges = <font color="#0000ff">true</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> PhotoChooserTask photoTask = <font color="#0000ff">new</font> PhotoChooserTask(); <font color="#0000ff">public</font> CarDetailsPage() { InitializeComponent(); photoTask.Completed += PhotoTask_Completed; <font color="#008000">// ... other code ...</font> } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoButton_Click( <font color="#0000ff">object</font> sender, RoutedEventArgs e) { photoTask.Show(); } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoTask_Completed( <font color="#0000ff">object</font> sender, PhotoResult e) { <font color="#0000ff">if</font> (e.TaskResult == TaskResult.OK) { <font color="#0000ff">var</font> image = <font color="#0000ff">new</font> System.Windows.Media.Imaging.BitmapImage(); image.SetSource(e.ChosenPhoto); CarDataStore.SaveTempCarPhoto(image, <font color="#0000ff">delegate</font> { MessageBox.Show( <font color="#A31515">"There is not enough space on "</font> + <font color="#A31515">"your phone to save your selection. Free some "</font> + <font color="#A31515">"space and try again."</font> , <font color="#A31515">"Warning"</font> , MessageBoxButton.OK); }); car.Picture = image; hasUnsavedChanges = <font color="#0000ff">true</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><font color="#008000"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> PhotoChooserTask photoTask = <font color="#0000ff">new</font> PhotoChooserTask(); <font color="#0000ff">public</font> CarDetailsPage() { InitializeComponent(); photoTask.Completed += PhotoTask_Completed; // ... other code ... } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoButton_Click( <font color="#0000ff">object</font> sender, RoutedEventArgs e) { photoTask.Show(); } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoTask_Completed( <font color="#0000ff">object</font> sender, PhotoResult e) { <font color="#0000ff">if</font> (e.TaskResult == TaskResult.OK) { <font color="#0000ff">var</font> image = <font color="#0000ff">new</font> System.Windows.Media.Imaging.BitmapImage(); image.SetSource(e.ChosenPhoto); CarDataStore.SaveTempCarPhoto(image, <font color="#0000ff">delegate</font> { MessageBox.Show( <font color="#A31515">"There is not enough space on "</font> + <font color="#A31515">"your phone to save your selection. Free some "</font> + <font color="#A31515">"space and try again."</font> , <font color="#A31515">"Warning"</font> , MessageBoxButton.OK); }); car.Picture = image; hasUnsavedChanges = <font color="#0000ff">true</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> PhotoChooserTask photoTask = <font color="#0000ff">new</font> PhotoChooserTask(); <font color="#0000ff">public</font> CarDetailsPage() { InitializeComponent(); photoTask.Completed += PhotoTask_Completed; <font color="#008000">// ... other code ...</font> } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoButton_Click( <font color="#0000ff">object</font> sender, RoutedEventArgs e) { photoTask.Show(); } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoTask_Completed( <font color="#0000ff">object</font> sender, PhotoResult e) { <font color="#0000ff">if</font> (e.TaskResult == TaskResult.OK) { <font color="#0000ff">var</font> image = <font color="#0000ff">new</font> System.Windows.Media.Imaging.BitmapImage(); image.SetSource(e.ChosenPhoto); CarDataStore.SaveTempCarPhoto(image, <font color="#0000ff">delegate</font> { MessageBox.Show( <font color="#A31515">"There is not enough space on "</font> + <font color="#A31515">"your phone to save your selection. Free some "</font> + <font color="#A31515">"space and try again."</font> , <font color="#A31515">"Warning"</font> , MessageBoxButton.OK); }); car.Picture = image; hasUnsavedChanges = <font color="#0000ff">true</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> PhotoChooserTask photoTask = <font color="#0000ff">new</font> PhotoChooserTask(); <font color="#0000ff">public</font> CarDetailsPage() { InitializeComponent(); photoTask.Completed += PhotoTask_Completed; <font color="#008000">// ... other code ...</font> } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoButton_Click( <font color="#0000ff">object</font> sender, RoutedEventArgs e) { photoTask.Show(); } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoTask_Completed( <font color="#0000ff">object</font> sender, PhotoResult e) { <font color="#0000ff">if</font> (e.TaskResult == TaskResult.OK) { <font color="#0000ff">var</font> image = <font color="#0000ff">new</font> System.Windows.Media.Imaging.BitmapImage(); image.SetSource(e.ChosenPhoto); CarDataStore.SaveTempCarPhoto(image, <font color="#0000ff">delegate</font> { MessageBox.Show( <font color="#A31515">"There is not enough space on "</font> + <font color="#A31515">"your phone to save your selection. Free some "</font> + <font color="#A31515">"space and try again."</font> , <font color="#A31515">"Warning"</font> , MessageBoxButton.OK); }); car.Picture = image; hasUnsavedChanges = <font color="#0000ff">true</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> PhotoChooserTask photoTask = <font color="#0000ff">new</font> PhotoChooserTask(); <font color="#0000ff">public</font> CarDetailsPage() { InitializeComponent(); photoTask.Completed += PhotoTask_Completed; <font color="#008000">// ... other code ...</font> } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoButton_Click( <font color="#0000ff">object</font> sender, RoutedEventArgs e) { photoTask.Show(); } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoTask_Completed( <font color="#0000ff">object</font> sender, PhotoResult e) { <font color="#0000ff">if</font> (e.TaskResult == TaskResult.OK) { <font color="#0000ff">var</font> image = <font color="#0000ff">new</font> System.Windows.Media.Imaging.BitmapImage(); image.SetSource(e.ChosenPhoto); CarDataStore.SaveTempCarPhoto(image, <font color="#0000ff">delegate</font> { MessageBox.Show( <font color="#A31515">"There is not enough space on "</font> + <font color="#A31515">"your phone to save your selection. Free some "</font> + <font color="#A31515">"space and try again."</font> , <font color="#A31515">"Warning"</font> , MessageBoxButton.OK); }); car.Picture = image; hasUnsavedChanges = <font color="#0000ff">true</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> PhotoChooserTask photoTask = <font color="#0000ff">new</font> PhotoChooserTask(); <font color="#0000ff">public</font> CarDetailsPage() { InitializeComponent(); photoTask.Completed += PhotoTask_Completed; <font color="#008000">// ... other code ...</font> } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoButton_Click( <font color="#0000ff">object</font> sender, RoutedEventArgs e) { photoTask.Show(); } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoTask_Completed( <font color="#0000ff">object</font> sender, PhotoResult e) { <font color="#0000ff">if</font> (e.TaskResult == TaskResult.OK) { <font color="#0000ff">var</font> image = <font color="#0000ff">new</font> System.Windows.Media.Imaging.BitmapImage(); image.SetSource(e.ChosenPhoto); CarDataStore.SaveTempCarPhoto(image, <font color="#0000ff">delegate</font> { MessageBox.Show( <font color="#A31515">"There is not enough space on "</font> + <font color="#A31515">"your phone to save your selection. Free some "</font> + <font color="#A31515">"space and try again."</font> , <font color="#A31515">"Warning"</font> , MessageBoxButton.OK); }); car.Picture = image; hasUnsavedChanges = <font color="#0000ff">true</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> PhotoChooserTask photoTask = <font color="#0000ff">new</font> PhotoChooserTask(); <font color="#0000ff">public</font> CarDetailsPage() { InitializeComponent(); photoTask.Completed += PhotoTask_Completed; <font color="#008000">// ... other code ...</font> } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoButton_Click( <font color="#0000ff">object</font> sender, RoutedEventArgs e) { photoTask.Show(); } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoTask_Completed( <font color="#0000ff">object</font> sender, PhotoResult e) { <font color="#0000ff">if</font> (e.TaskResult == TaskResult.OK) { <font color="#0000ff">var</font> image = <font color="#0000ff">new</font> System.Windows.Media.Imaging.BitmapImage(); image.SetSource(e.ChosenPhoto); CarDataStore.SaveTempCarPhoto(image, <font color="#0000ff">delegate</font> { MessageBox.Show( <font color="#A31515">"There is not enough space on "</font> + <font color="#A31515">"your phone to save your selection. Free some "</font> + <font color="#A31515">"space and try again."</font> , <font color="#A31515">"Warning"</font> , MessageBoxButton.OK); }); car.Picture = image; hasUnsavedChanges = <font color="#0000ff">true</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li></li><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> PhotoChooserTask photoTask = <font color="#0000ff">new</font> PhotoChooserTask(); <font color="#0000ff">public</font> CarDetailsPage() { InitializeComponent(); photoTask.Completed += PhotoTask_Completed; <font color="#008000">// ... other code ...</font> } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoButton_Click( <font color="#0000ff">object</font> sender, RoutedEventArgs e) { photoTask.Show(); } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoTask_Completed( <font color="#0000ff">object</font> sender, PhotoResult e) { <font color="#0000ff">if</font> (e.TaskResult == TaskResult.OK) { <font color="#0000ff">var</font> image = <font color="#0000ff">new</font> System.Windows.Media.Imaging.BitmapImage(); image.SetSource(e.ChosenPhoto); CarDataStore.SaveTempCarPhoto(image, <font color="#0000ff">delegate</font> { MessageBox.Show( <font color="#A31515">"There is not enough space on "</font> + <font color="#A31515">"your phone to save your selection. Free some "</font> + <font color="#A31515">"space and try again."</font> , <font color="#A31515">"Warning"</font> , MessageBoxButton.OK); }); car.Picture = image; hasUnsavedChanges = <font color="#0000ff">true</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> PhotoChooserTask photoTask = <font color="#0000ff">new</font> PhotoChooserTask(); <font color="#0000ff">public</font> CarDetailsPage() { InitializeComponent(); photoTask.Completed += PhotoTask_Completed; <font color="#008000">// ... other code ...</font> } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoButton_Click( <font color="#0000ff">object</font> sender, RoutedEventArgs e) { photoTask.Show(); } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoTask_Completed( <font color="#0000ff">object</font> sender, PhotoResult e) { <font color="#0000ff">if</font> (e.TaskResult == TaskResult.OK) { <font color="#0000ff">var</font> image = <font color="#0000ff">new</font> System.Windows.Media.Imaging.BitmapImage(); image.SetSource(e.ChosenPhoto); CarDataStore.SaveTempCarPhoto(image, <font color="#0000ff">delegate</font> { MessageBox.Show( <font color="#A31515">"There is not enough space on "</font> + <font color="#A31515">"your phone to save your selection. Free some "</font> + <font color="#A31515">"space and try again."</font> , <font color="#A31515">"Warning"</font> , MessageBoxButton.OK); }); car.Picture = image; hasUnsavedChanges = <font color="#0000ff">true</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> PhotoChooserTask photoTask = <font color="#0000ff">new</font> PhotoChooserTask(); <font color="#0000ff">public</font> CarDetailsPage() { InitializeComponent(); photoTask.Completed += PhotoTask_Completed; <font color="#008000">// ... other code ...</font> } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoButton_Click( <font color="#0000ff">object</font> sender, RoutedEventArgs e) { photoTask.Show(); } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoTask_Completed( <font color="#0000ff">object</font> sender, PhotoResult e) { <font color="#0000ff">if</font> (e.TaskResult == TaskResult.OK) { <font color="#0000ff">var</font> image = <font color="#0000ff">new</font> System.Windows.Media.Imaging.BitmapImage(); image.SetSource(e.ChosenPhoto); CarDataStore.SaveTempCarPhoto(image, <font color="#0000ff">delegate</font> { MessageBox.Show( <font color="#A31515">"There is not enough space on "</font> + <font color="#A31515">"your phone to save your selection. Free some "</font> + <font color="#A31515">"space and try again."</font> , <font color="#A31515">"Warning"</font> , MessageBoxButton.OK); }); car.Picture = image; hasUnsavedChanges = <font color="#0000ff">true</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> PhotoChooserTask photoTask = <font color="#0000ff">new</font> PhotoChooserTask(); <font color="#0000ff">public</font> CarDetailsPage() { InitializeComponent(); photoTask.Completed += PhotoTask_Completed; <font color="#008000">// ... other code ...</font> } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoButton_Click( <font color="#0000ff">object</font> sender, RoutedEventArgs e) { photoTask.Show(); } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoTask_Completed( <font color="#0000ff">object</font> sender, PhotoResult e) { <font color="#0000ff">if</font> (e.TaskResult == TaskResult.OK) { <font color="#0000ff">var</font> image = <font color="#0000ff">new</font> System.Windows.Media.Imaging.BitmapImage(); image.SetSource(e.ChosenPhoto); CarDataStore.SaveTempCarPhoto(image, <font color="#0000ff">delegate</font> { MessageBox.Show( <font color="#A31515">"There is not enough space on "</font> + <font color="#A31515">"your phone to save your selection. Free some "</font> + <font color="#A31515">"space and try again."</font> , <font color="#A31515">"Warning"</font> , MessageBoxButton.OK); }); car.Picture = image; hasUnsavedChanges = <font color="#0000ff">true</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> PhotoChooserTask photoTask = <font color="#0000ff">new</font> PhotoChooserTask(); <font color="#0000ff">public</font> CarDetailsPage() { InitializeComponent(); photoTask.Completed += PhotoTask_Completed; <font color="#008000">// ... other code ...</font> } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoButton_Click( <font color="#0000ff">object</font> sender, RoutedEventArgs e) { photoTask.Show(); } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoTask_Completed( <font color="#0000ff">object</font> sender, PhotoResult e) { <font color="#0000ff">if</font> (e.TaskResult == TaskResult.OK) { <font color="#0000ff">var</font> image = <font color="#0000ff">new</font> System.Windows.Media.Imaging.BitmapImage(); image.SetSource(e.ChosenPhoto); CarDataStore.SaveTempCarPhoto(image, <font color="#0000ff">delegate</font> { MessageBox.Show( <font color="#A31515">"There is not enough space on "</font> + <font color="#A31515">"your phone to save your selection. Free some "</font> + <font color="#A31515">"space and try again."</font> , <font color="#A31515">"Warning"</font> , MessageBoxButton.OK); }); car.Picture = image; hasUnsavedChanges = <font color="#0000ff">true</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> PhotoChooserTask photoTask = <font color="#0000ff">new</font> PhotoChooserTask(); <font color="#0000ff">public</font> CarDetailsPage() { InitializeComponent(); photoTask.Completed += PhotoTask_Completed; <font color="#008000">// ... other code ...</font> } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoButton_Click( <font color="#0000ff">object</font> sender, RoutedEventArgs e) { photoTask.Show(); } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoTask_Completed( <font color="#0000ff">object</font> sender, PhotoResult e) { <font color="#0000ff">if</font> (e.TaskResult == TaskResult.OK) { <font color="#0000ff">var</font> image = <font color="#0000ff">new</font> System.Windows.Media.Imaging.BitmapImage(); image.SetSource(e.ChosenPhoto); CarDataStore.SaveTempCarPhoto(image, <font color="#0000ff">delegate</font> { MessageBox.Show( <font color="#A31515">"There is not enough space on "</font> + <font color="#A31515">"your phone to save your selection. Free some "</font> + <font color="#A31515">"space and try again."</font> , <font color="#A31515">"Warning"</font> , MessageBoxButton.OK); }); car.Picture = image; hasUnsavedChanges = <font color="#0000ff">true</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> PhotoChooserTask photoTask = <font color="#0000ff">new</font> PhotoChooserTask(); <font color="#0000ff">public</font> CarDetailsPage() { InitializeComponent(); photoTask.Completed += PhotoTask_Completed; <font color="#008000">// ... other code ...</font> } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoButton_Click( <font color="#0000ff">object</font> sender, RoutedEventArgs e) { photoTask.Show(); } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoTask_Completed( <font color="#0000ff">object</font> sender, PhotoResult e) { <font color="#0000ff">if</font> (e.TaskResult == TaskResult.OK) { <font color="#0000ff">var</font> image = <font color="#0000ff">new</font> System.Windows.Media.Imaging.BitmapImage(); image.SetSource(e.ChosenPhoto); CarDataStore.SaveTempCarPhoto(image, <font color="#0000ff">delegate</font> { MessageBox.Show( <font color="#A31515">"There is not enough space on "</font> + <font color="#A31515">"your phone to save your selection. Free some "</font> + <font color="#A31515">"space and try again."</font> , <font color="#A31515">"Warning"</font> , MessageBoxButton.OK); }); car.Picture = image; hasUnsavedChanges = <font color="#0000ff">true</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> PhotoChooserTask photoTask = <font color="#0000ff">new</font> PhotoChooserTask(); <font color="#0000ff">public</font> CarDetailsPage() { InitializeComponent(); photoTask.Completed += PhotoTask_Completed; <font color="#008000">// ... other code ...</font> } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoButton_Click( <font color="#0000ff">object</font> sender, RoutedEventArgs e) { photoTask.Show(); } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoTask_Completed( <font color="#0000ff">object</font> sender, PhotoResult e) { <font color="#0000ff">if</font> (e.TaskResult == TaskResult.OK) { <font color="#0000ff">var</font> image = <font color="#0000ff">new</font> System.Windows.Media.Imaging.BitmapImage(); image.SetSource(e.ChosenPhoto); CarDataStore.SaveTempCarPhoto(image, <font color="#0000ff">delegate</font> { MessageBox.Show( <font color="#A31515">"There is not enough space on "</font> + <font color="#A31515">"your phone to save your selection. Free some "</font> + <font color="#A31515">"space and try again."</font> , <font color="#A31515">"Warning"</font> , MessageBoxButton.OK); }); car.Picture = image; hasUnsavedChanges = <font color="#0000ff">true</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> PhotoChooserTask photoTask = <font color="#0000ff">new</font> PhotoChooserTask(); <font color="#0000ff">public</font> CarDetailsPage() { InitializeComponent(); photoTask.Completed += PhotoTask_Completed; <font color="#008000">// ... other code ...</font> } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoButton_Click( <font color="#0000ff">object</font> sender, RoutedEventArgs e) { photoTask.Show(); } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoTask_Completed( <font color="#0000ff">object</font> sender, PhotoResult e) { <font color="#0000ff">if</font> (e.TaskResult == TaskResult.OK) { <font color="#0000ff">var</font> image = <font color="#0000ff">new</font> System.Windows.Media.Imaging.BitmapImage(); image.SetSource(e.ChosenPhoto); CarDataStore.SaveTempCarPhoto(image, <font color="#0000ff">delegate</font> { MessageBox.Show( <font color="#A31515">"There is not enough space on "</font> + <font color="#A31515">"your phone to save your selection. Free some "</font> + <font color="#A31515">"space and try again."</font> , <font color="#A31515">"Warning"</font> , MessageBoxButton.OK); }); car.Picture = image; hasUnsavedChanges = <font color="#0000ff">true</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> PhotoChooserTask photoTask = <font color="#0000ff">new</font> PhotoChooserTask(); <font color="#0000ff">public</font> CarDetailsPage() { InitializeComponent(); photoTask.Completed += PhotoTask_Completed; <font color="#008000">// ... other code ...</font> } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoButton_Click( <font color="#0000ff">object</font> sender, RoutedEventArgs e) { photoTask.Show(); } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoTask_Completed( <font color="#0000ff">object</font> sender, PhotoResult e) { <font color="#0000ff">if</font> (e.TaskResult == TaskResult.OK) { <font color="#0000ff">var</font> image = <font color="#0000ff">new</font> System.Windows.Media.Imaging.BitmapImage(); image.SetSource(e.ChosenPhoto); CarDataStore.SaveTempCarPhoto(image, <font color="#0000ff">delegate</font> { MessageBox.Show( <font color="#A31515">"There is not enough space on "</font> + <font color="#A31515">"your phone to save your selection. Free some "</font> + <font color="#A31515">"space and try again."</font> , <font color="#A31515">"Warning"</font> , MessageBoxButton.OK); }); car.Picture = image; hasUnsavedChanges = <font color="#0000ff">true</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> PhotoChooserTask photoTask = <font color="#0000ff">new</font> PhotoChooserTask(); <font color="#0000ff">public</font> CarDetailsPage() { InitializeComponent(); photoTask.Completed += PhotoTask_Completed; <font color="#008000">// ... other code ...</font> } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoButton_Click( <font color="#0000ff">object</font> sender, RoutedEventArgs e) { photoTask.Show(); } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoTask_Completed( <font color="#0000ff">object</font> sender, PhotoResult e) { <font color="#0000ff">if</font> (e.TaskResult == TaskResult.OK) { <font color="#0000ff">var</font> image = <font color="#0000ff">new</font> System.Windows.Media.Imaging.BitmapImage(); image.SetSource(e.ChosenPhoto); CarDataStore.SaveTempCarPhoto(image, <font color="#0000ff">delegate</font> { MessageBox.Show( <font color="#A31515">"There is not enough space on "</font> + <font color="#A31515">"your phone to save your selection. Free some "</font> + <font color="#A31515">"space and try again."</font> , <font color="#A31515">"Warning"</font> , MessageBoxButton.OK); }); car.Picture = image; hasUnsavedChanges = <font color="#0000ff">true</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> PhotoChooserTask photoTask = <font color="#0000ff">new</font> PhotoChooserTask(); <font color="#0000ff">public</font> CarDetailsPage() { InitializeComponent(); photoTask.Completed += PhotoTask_Completed; <font color="#008000">// ... other code ...</font> } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoButton_Click( <font color="#0000ff">object</font> sender, RoutedEventArgs e) { photoTask.Show(); } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoTask_Completed( <font color="#0000ff">object</font> sender, PhotoResult e) { <font color="#0000ff">if</font> (e.TaskResult == TaskResult.OK) { <font color="#0000ff">var</font> image = <font color="#0000ff">new</font> System.Windows.Media.Imaging.BitmapImage(); image.SetSource(e.ChosenPhoto); CarDataStore.SaveTempCarPhoto(image, <font color="#0000ff">delegate</font> { MessageBox.Show( <font color="#A31515">"There is not enough space on "</font> + <font color="#A31515">"your phone to save your selection. Free some "</font> + <font color="#A31515">"space and try again."</font> , <font color="#A31515">"Warning"</font> , MessageBoxButton.OK); }); car.Picture = image; hasUnsavedChanges = <font color="#0000ff">true</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> PhotoChooserTask photoTask = <font color="#0000ff">new</font> PhotoChooserTask(); <font color="#0000ff">public</font> CarDetailsPage() { InitializeComponent(); photoTask.Completed += PhotoTask_Completed; <font color="#008000">// ... other code ...</font> } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoButton_Click( <font color="#0000ff">object</font> sender, RoutedEventArgs e) { photoTask.Show(); } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoTask_Completed( <font color="#0000ff">object</font> sender, PhotoResult e) { <font color="#0000ff">if</font> (e.TaskResult == TaskResult.OK) { <font color="#0000ff">var</font> image = <font color="#0000ff">new</font> System.Windows.Media.Imaging.BitmapImage(); image.SetSource(e.ChosenPhoto); CarDataStore.SaveTempCarPhoto(image, <font color="#0000ff">delegate</font> { MessageBox.Show( <font color="#A31515">"There is not enough space on "</font> + <font color="#A31515">"your phone to save your selection. Free some "</font> + <font color="#A31515">"space and try again."</font> , <font color="#A31515">"Warning"</font> , MessageBoxButton.OK); }); car.Picture = image; hasUnsavedChanges = <font color="#0000ff">true</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> PhotoChooserTask photoTask = <font color="#0000ff">new</font> PhotoChooserTask(); <font color="#0000ff">public</font> CarDetailsPage() { InitializeComponent(); photoTask.Completed += PhotoTask_Completed; <font color="#008000">// ... other code ...</font> } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoButton_Click( <font color="#0000ff">object</font> sender, RoutedEventArgs e) { photoTask.Show(); } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoTask_Completed( <font color="#0000ff">object</font> sender, PhotoResult e) { <font color="#0000ff">if</font> (e.TaskResult == TaskResult.OK) { <font color="#0000ff">var</font> image = <font color="#0000ff">new</font> System.Windows.Media.Imaging.BitmapImage(); image.SetSource(e.ChosenPhoto); CarDataStore.SaveTempCarPhoto(image, <font color="#0000ff">delegate</font> { MessageBox.Show( <font color="#A31515">"There is not enough space on "</font> + <font color="#A31515">"your phone to save your selection. Free some "</font> + <font color="#A31515">"space and try again."</font> , <font color="#A31515">"Warning"</font> , MessageBoxButton.OK); }); car.Picture = image; hasUnsavedChanges = <font color="#0000ff">true</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> PhotoChooserTask photoTask = <font color="#0000ff">new</font> PhotoChooserTask(); <font color="#0000ff">public</font> CarDetailsPage() { InitializeComponent(); photoTask.Completed += PhotoTask_Completed; <font color="#008000">// ... other code ...</font> } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoButton_Click( <font color="#0000ff">object</font> sender, RoutedEventArgs e) { photoTask.Show(); } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoTask_Completed( <font color="#0000ff">object</font> sender, PhotoResult e) { <font color="#0000ff">if</font> (e.TaskResult == TaskResult.OK) { <font color="#0000ff">var</font> image = <font color="#0000ff">new</font> System.Windows.Media.Imaging.BitmapImage(); image.SetSource(e.ChosenPhoto); CarDataStore.SaveTempCarPhoto(image, <font color="#0000ff">delegate</font> { MessageBox.Show( <font color="#A31515">"There is not enough space on "</font> + <font color="#A31515">"your phone to save your selection. Free some "</font> + <font color="#A31515">"space and try again."</font> , <font color="#A31515">"Warning"</font> , MessageBoxButton.OK); }); car.Picture = image; hasUnsavedChanges = <font color="#0000ff">true</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">private</font> <font color="#0000ff">readonly</font> PhotoChooserTask photoTask = <font color="#0000ff">new</font> PhotoChooserTask(); <font color="#0000ff">public</font> CarDetailsPage() { InitializeComponent(); photoTask.Completed += PhotoTask_Completed; <font color="#008000">// ... other code ...</font> } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoButton_Click( <font color="#0000ff">object</font> sender, RoutedEventArgs e) { photoTask.Show(); } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoTask_Completed( <font color="#0000ff">object</font> sender, PhotoResult e) { <font color="#0000ff">if</font> (e.TaskResult == TaskResult.OK) { <font color="#0000ff">var</font> image = <font color="#0000ff">new</font> System.Windows.Media.Imaging.BitmapImage(); image.SetSource(e.ChosenPhoto); CarDataStore.SaveTempCarPhoto(image, <font color="#0000ff">delegate</font> { MessageBox.Show( <font color="#A31515">"There is not enough space on "</font> + <font color="#A31515">"your phone to save your selection. Free some "</font> + <font color="#A31515">"space and try again."</font> , <font color="#A31515">"Warning"</font> , MessageBoxButton.OK); }); car.Picture = image; hasUnsavedChanges = <font color="#0000ff">true</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> </ol> <code><font color="gray"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">private</font> <font color="#0000ff">readonly</font> PhotoChooserTask photoTask = <font color="#0000ff">new</font> PhotoChooserTask(); <font color="#0000ff">public</font> CarDetailsPage() { InitializeComponent(); photoTask.Completed += PhotoTask_Completed; <font color="#008000">// ... other code ...</font> } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoButton_Click( <font color="#0000ff">object</font> sender, RoutedEventArgs e) { photoTask.Show(); } <font color="#0000ff">private</font> <font color="#0000ff">void</font> PhotoTask_Completed( <font color="#0000ff">object</font> sender, PhotoResult e) { <font color="#0000ff">if</font> (e.TaskResult == TaskResult.OK) { <font color="#0000ff">var</font> image = <font color="#0000ff">new</font> System.Windows.Media.Imaging.BitmapImage(); image.SetSource(e.ChosenPhoto); CarDataStore.SaveTempCarPhoto(image, <font color="#0000ff">delegate</font> { MessageBox.Show( <font color="#A31515">"There is not enough space on "</font> + <font color="#A31515">"your phone to save your selection. Free some "</font> + <font color="#A31515">"space and try again."</font> , <font color="#A31515">"Warning"</font> , MessageBoxButton.OK); }); car.Picture = image; hasUnsavedChanges = <font color="#0000ff">true</font> ; } }</font> * This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  After the user clicks the ‚ÄúPhoto‚Äù button, PhotoChooserTask is displayed.  This causes deactivation of the application.  After the user has selected a photo, the application is reactivated, although in this case, the PhotoChooserTask.Completed event occurs before the OnNavigatedTo method is called to handle the reactivation. <br><br>  The Completed event handler creates a new BitmapImage and sets the selected photo as its source.  Next, the event handler puts the image into isolated storage.  The images are not serializable, so they cannot be stored in the state dictionaries stored in the memory, nor in the state dictionaries of isolated storage.  Therefore, if you want to save an image, you must save it using the isolated storage virtual file system interface.  The <b>CarDataStore</b> class should also put the photo into isolated storage after the user clicks the Save button.  Thus, the <b>SaveTempCarPhoto</b> and <b>GetTempCarPhoto methods</b> for processing a temporary photo simply wrap the <b>SaveCarPhoto</b> and <b>GetCarPhoto</b> methods used to process the saved photo.  The description of the <b>SaveCarPhoto</b> and <b>GetCarPhoto methods was</b> given in the section ‚ÄúIsolated storage: saving and loading data‚Äù. <br><br>  And at the end, the event handler assigns an image to the <b>Picture</b> property of the <b>Car</b> object stored in the <b>car</b> field.  After that, the photo will appear in the Image control associated with the <b>Picture</b> property. <br><br>  <b>Note:</b> <br>  The PhotoResult class, passed to the Completed event handler, contains the OriginalFileName property.  This property would be convenient to use to retrieve a selected photo from the XNA MediaLibrary so that you do not need to save it separately in isolated storage.  However, at the time of this writing, the implementation of OriginalFileName behaves not as expected: it returns a temporary file name, which is not useful for getting photos from the XNA MediaLibrary class later.  However, even if you could use the media library in this way, you would most likely still prefer to store user-selected images in isolated storage.  In this case, they will remain accessible to your application, even if the user later deletes the images from the media library or changes their content using other applications. </div><p>Source: <a href="https://habr.com/ru/post/118462/">https://habr.com/ru/post/118462/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../118457/index.html">Visually about popular Open Source licenses</a></li>
<li><a href="../118458/index.html">NTRUEncrypt: the fastest asymmetric cipher</a></li>
<li><a href="../118459/index.html">Create an application for Windows Phone 7 from start to finish. Part 13. Application recovery after decontamination</a></li>
<li><a href="../118460/index.html">How to raise server for python scripts in 1 minute</a></li>
<li><a href="../118461/index.html">Create an application for Windows Phone 7 from start to finish. Part 14. Validation of input data.</a></li>
<li><a href="../118465/index.html">Presented by the official LiveJournal application for Android</a></li>
<li><a href="../118466/index.html">Bezamochnye algorithms: model "make, write, (try again)"</a></li>
<li><a href="../118468/index.html">User profiles: pros, cons, pitfalls</a></li>
<li><a href="../118470/index.html">AlterRussia.ru or "If I were president"!</a></li>
<li><a href="../118472/index.html">An interesting feature of Grub2: loading from ISO file</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>