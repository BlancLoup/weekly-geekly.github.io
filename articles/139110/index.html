<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Comparison of characteristics of micromechanical gyros</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently I learned that STMicroelectronics announced the A3G4250D three-axis gyroscope, which meets the strict standard for automotive applications (A...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Comparison of characteristics of micromechanical gyros</h1><div class="post__text post__text-html js-mediator-article">  Recently I learned that STMicroelectronics announced the A3G4250D three-axis gyroscope, which meets the strict standard for automotive applications (AEC-Q100).  Promised cost of $ 6 for orders of 1000 pcs.  Price class is clear.  I wanted to compare the passport characteristics of this sensor with venerable models from Analog Devices Inc.  and other manufacturers.  While I was dealing with datasheets, I found out that the set of ADI and STM passport specifications, for example, is not the same.  Along the way, I decided to find out for some reason why parrots should compare sensors,  what is the most serious problem of micromechanics.  As a result, the material was collected for the post, and maybe two.  This will be an introductory.  Comparison a la "[30 kop. Bunch] Vs. [Pig-iron bridge]" unfortunately did not fit. <br><a name="habracut"></a><br><h4>  Introduction </h4><br>  On the principles of operation of different classes of micromechanical gyroscopes and accelerometers, you can write more than one article.  There are several separate types / classes of devices.  If you do not go into details, roughly it can be said as follows. <br>  The sensitive element (SE) of a micromechanical gyroscope is the inertial mass, which is fixed inside the body on the springs (elastic consoles of a semiconductor, etc.).  This sensitive mass is driven into oscillatory motion along one of the sensor axes.  This axis is the axis of excitation (input axis).  On this axis, the operating mode is set.  Measurements are made on an axis perpendicular to it (output).  The principle of operation is that when the body rotates around its measuring axis (it is also called the axis of sensitivity), in addition to oscillations along the <b>input</b> axis, the sensitive element also oscillates along the third, <b>output</b> axis.  If anyone knows what the <a href="http://ru.wikipedia.org/wiki/%25D0%25A4%25D0%25B8%25D0%25B3%25D1%2583%25D1%2580%25D1%258B_%25D0%259B%25D0%25B8%25D1%2581%25D1%2581%25D0%25B0%25D0%25B6%25D1%2583">Lissajous Shapes are</a> , he will easily understand that the ChE begins to describe a circle (or ellipse) in space. <br>  This is how the single-axis sensor works.  In two and three-axis sensors, the complex of the sensing element and the measuring system is framed by another suspension / gauge system.  Those.  One ChE / Suspension / Gauge assembly (let it be an assembly for the X axis) is itself an oscillating ChE for another assembly (eg, according to OY), which is included in the OZ measurement assembly.  A separate system is also possible. <br>  A specialist in micromechanics in the text above can find enough flaws.  Written roughly and for ease of perception.  And it is written to smoothly go over to the description of one of the most serious problems of micromechanics, namely, sensitivity to linear accelerations. <br>  In theory, an oscillating SE should not feel accelerations and should not have cross-links (in the case of two- or three-axis dats) with other axes of sensitivity (PTS).  But due to the imperfect creation of a three-dimensional structure inside an integrated microcircuit, the centers of mass of the SCs are shifted, residual stresses appear in the material, the springs have different elasticities, etc.  As a result, the CE for OX begins to react to the effects of OY, linear accelerations begin to distort the gyroscope readings.  Those.  in measurements, an increment in the angular velocity of which actually does not appear (random drift). <br>  It is impossible (or not advisable) to make the production of sensitive elements ideal, therefore, additional elements appear in the sensor design that are needed to reduce sensitivity to the parasitic effects mentioned.  First of all, cheap (up to $ 10-15) sensors from sensors of average ($ 30-100) and upper ($ 100 +) price ranges differ by simplicity and even by the presence of elements of rejection of parasitic effects. <br>  In one of the habstats, I discussed the question of the negligence of the reaction of inexpensive gyros to parasitic effects ( <a href="http://habrahabr.ru/blogs/arduino/137595/">for example, here</a> ).  It is clear that for a static quadcopter there is no need to bother.  But this is only a demo device that will be used in statics.  UAV should move, and have decent dynamic characteristics.  Otherwise, why can it be used?  <s>For a look, and what's behind the fence?</s> <br>  About the reaction to vibrations that have high intensity in quadcopters, for example, it is not necessary to tell much.  Everyone knows what it is.  Therefore, I believe that the issue of the sensitivity of gyroscopes to acceleration and vibrations is very important for creating a moving object with normal dynamics. <br><br><h4>  Errors of micromechanical gyros </h4><br>  The first thing that strikes developers in datasheets for sensors is the so-called "zero stability".  After all, it seems that this parameter ultimately determines the sensitivity of the sensor, i.e.  the minimum input that the sensor feels.  So due to the low zero stability of many MMG models, many still believe that micromechanical gyroscopes (MMGs) do not feel the rotation of the Earth.  There are MMG models with zero stability of just over 2 ¬∞ / hour (the Earth, as is known, rotates at a speed of 15 ¬∞ / hour).  But in practice this does not mean that it will still be possible to measure the rotation of the Earth. <br>  Be that as it may, the developer is looking at zero stability.  This is a clear parameter that shows the extent to which the zero of the sensor scale will fluctuate in the laboratory.  However, this is the stability parameter of the ‚Äúspherical horse in vacuum‚Äù.  In reality, the declared stability will not be.  Why?  Yes, because there is indicated stability (or rather instability) due to internal sources of error.  In what conditions the sensor will work the manufacturer will not be able to predict, as well as the deviations caused by these conditions. <br>  There are two approaches to dealing with inaccuracies: hardware and algorithmic (read software).  The second approach implies the addition of special software modules for correcting errors caused by parasitic processes to the BTsEVM firmware.  And this approach is not recommended as the best.  First of all, the sensor itself must suppress noise.  The central brain should be engaged not in cleaning out the main debris, but in finishing and calculating high-level algorithms (navigation, stabilization, automation).  There are all sorts of methodological errors.  They are easily described by some formulas, so they can be easily compensated programmatically. <br>  Why all this?  And besides, it is more correct to choose sensors that are optimal in terms of price-to-accuracy ratio.  And here the main parameters of choice will most likely be the gyro sensitivity to linear acceleration (g sensitivity) and vibrations (g¬≤ sensitivity).  Why they are main is explained below. <br><br><h5>  Temperature zero hysteresis </h5><br>  MMG have zero errors, which vary depending on the temperature inside the case.  For temperature compensation, temperature sensors are built into the MMG.  Their accuracy does not matter, only the repeatability of indications is important.  But with thermal compensation there is a problem - hysteresis.  In this case, the <a href="http://ru.wikipedia.org/wiki/%25D0%2593%25D0%25B8%25D1%2581%25D1%2582%25D0%25B5%25D1%2580%25D0%25B5%25D0%25B7%25D0%25B8%25D1%2581">hysteresis</a> is the difference between the required correction value for a specific temperature in two cases - when the device reaches this temperature by cooling and in the case when it heats up to the same temperature.  See chart below. <br><img src="https://habrastorage.org/storage2/e50/eb6/155/e50eb6155644117d527b4cc9df820917.png"><br>  This graph shows the zero temperature hysteresis for MMG <a href="http://www.analog.com/ru/mems-sensors/mems-inertial-sensors/adxrs453/products/product.html">ADXRS453</a> when the temperature <a href="http://www.analog.com/ru/mems-sensors/mems-inertial-sensors/adxrs453/products/product.html">varies</a> from + 25 ¬∞  to + 130 ¬∞ , then to -45 ¬∞  and back to + 25 ¬∞ .  This hysteresis occurs regardless of whether the sensor is turned on during temperature fluctuations or not.  In addition, the hysteresis depends on how wide the range of temperature changes. <br>  Is the situation difficult?  Not, no so much.  In general, MMG should not be used to determine the orientation angles in the absence of some external reference system, which allows you to reset the accumulated error to a low level.  The current zero offset can be determined using the same system.  Thus, the <b>temperature zero offset and the error of the scale factor</b> in normal use can be effectively compensated (albeit with an accuracy of some small, non-zero value). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Vibration errors </h5><br>  As described above, spherical MMG in vacuum measures only rotation and nothing else.  However, due to the asymmetry of the fine element and the non-ideal production, all MMGs feel accelerations.  Sensitivity to acceleration is most often understood as sensitivity to linear acceleration (g-sensitivity) and to linear vibrations (g¬≤-sensitivity).  On objects moving in the field of the Earth, in any case, acceleration acts (except for cases of free fall).  Sensitivity to linear accelerations is often the main source of error. <br>  MMGs in the lowest price range are optimized primarily in terms of cost, but not in terms of resistance to vibrations.  They have a relatively simple mechanical system.  Although it is distinguished by its vitality (it withstands huge overloads of 10'000 g), it is not protected from vibrations.  Low mass of the sensing element -&gt; wide bandwidth.  In such gyroscopes, the sensitivity to acceleration (acceleration effect in datasheets) can be equal to 1000 ¬∞ / h / g (or 0.3 ¬∞ / s / g).  And this value is quite normal for this class of sensors.  But it is an order of magnitude higher than should be expected from accurate sensors.  From cheap sensors you should not expect zero stability in the context of acceleration sensitivity.  Even small rotations in the field of the Earth lead to huge errors due to their extreme sensitivity to acceleration and vibrations.  By the way, I did not find the ‚Äúaceleration effect‚Äù in the datasheet for A3G4250D from STMicroelectronics.  This parameter is not specified for this sensor class.  He just means big.  Below is a comparative table for some higher class MMG models. <br><img src="https://habrastorage.org/storage2/448/ee8/c5f/448ee8c5fe7e80d0f9ba242cebf2d570.png"><br>  This table contains sensors that are classified as accurate.  And even for them, both parameters are not always specified by the manufacturer. <br>  Often, compensation for accelerometer readings is used to compensate for sensitivity to acceleration.  Below is an example from the comments about the <a href="http://habrahabr.ru/blogs/arduino/137595/">use of an inertial navigation system (INS) with several sensors on the example of the problem of stabilizing the height of a quadrocopter</a> on the topic of quadcopters: <br><blockquote>  If the drift is constant and always in the same direction, it only means that the calibration is incorrect. In MultiWii 0, the weight is calibrated every time it is turned on, but not perfect (rounded to the whole) if you enter at least tenths it becomes much better.  But in this application of the gyroscope, even a perceptible drift is not terrible, as there is a reference orientation (compass and accelerometer) for which it is corrected. </blockquote><br>  But it turns out the drift due to sensitivity to acceleration depends on the frequency with which this acceleration varies.  Below are graphs of the MMG CRG20-01 output signal (in piece deliveries in the form of a demo-board, if I am not mistaken, it costs around $ 100-150 with delivery) on the frequency of the applied acceleration. <br><img src="https://habrastorage.org/storage2/b7b/761/06f/b7b76106f45fe5d388b38153c82cb06e.png"><br>  The graph shows that the error does not depend on the amplitude of acceleration.  But there is a dependence on frequency.  And just so you will not compensate for this error (a large variation and a complex curve of sensitivity change).  To compensate for g¬≤-sensitivity, if it is constant, is easy.  But again, not all manufacturers in the datasheets provide graphs for this parameter.  A developer often has to build these graphs himself experimentally.  And often this is done in the field on devices already in operation. <br>  Another ambush with accelerometer correction is phase matching.  In the general case, the natural frequencies of the accelerometer and the gyroscope do not coincide, and the frequency characteristics in general.  Therefore, at different frequencies of vibrations, MMA and MMG will produce different phase shifts of the output signal relative to vibrations at the input.  Ultimately, accelerometer correction may <b>increase!</b>  error instead of extinguishing it.  This will happen if the difference between the MMA and MMG phase shifts will approach the value of 3.14 radians (180 degrees). <br>  In the end, because  sensitivity to vibrations and accelerations varies greatly even within the same sensor model or it is too large, the manufacturer simply does not indicate it.  True, it should be noted, in fact, it is rather difficult to test the sensors for sensitivity to vibrations.  Problems are both technical and methodological. <br>  To reduce the sensitivity to vibrations, you can, of course, mount the sensors through a rubber insulator.  But to make it so that this suspension has a uniform distribution of characteristics for a wide range of frequencies, and even did not change them with aging, it is very difficult. <br>  Below is a comparison of errors due to sensitivity to acceleration and vibrations when g-compensation is not used (in g / s). <br><img src="https://habrastorage.org/storage2/878/e3c/75d/878e3c75d582b3b3d11996358ea5840c.png"><br>  And the following table shows the errors that remain even after the introduction of g-compensation (in g / s). <br><img src="https://habrastorage.org/storage2/dbd/81f/182/dbd81f1828ef2a07309b7f7631d776bb.png"><br>  As we can see, even with the introduction of g-compensation, the error in sensitivity to acceleration may still be greater than the error due to temperature instability of zero (see the hysteresis graph above). <br><h5>  findings </h5><br>  What was written above suggests that the most obvious parameter of accuracy is not always the main criterion for the choice of sensors.  ‚ÄúIt‚Äôs always dark under the candles,‚Äù proverb says.  What is not clearly described in the datasheet or not specified at all can play a decisive role in the success of the project.  You can focus on the stability of zero and the variance of noise, and in fact they can be defeated by simple algorithms (averaged over time or using <a href="http://habrahabr.ru/blogs/algorithm/114513/">redundant measuring units</a> ).  But the error due to vibrations, as we saw above using the example of CRG20-01, may be difficult to describe in the algorithm.  For a long time, zero stability is the gold standard for choosing MMG.  However, in practice, sensitivity to acceleration and vibration can have a greater impact on accuracy. <br><h4>  Conclusion </h4><br>  I wanted to make a post containing two parts - 1) Justification of the choice of the comparison criterion and 2) Comparison of the TTX models from Analog Devices Inc., Silicon Sensing, Sensonor and STMicroelectronics.  However, it turned out "mnogabukv."  If it is interesting, I will soon try to compare the sensors of the mentioned companies with datasheets with an explanation of the physical meaning of the main characteristics. <br><br>  <b>UPD:</b> fixed some typos and grammatical errors. </div><p>Source: <a href="https://habr.com/ru/post/139110/">https://habr.com/ru/post/139110/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../139103/index.html">Demonstration of augmented reality from Qualcomm at MWC 2012. Video</a></li>
<li><a href="../139104/index.html">Play! in the Cloud</a></li>
<li><a href="../139107/index.html">SAP security, network devices and integrity monitoring. Positive Technologies webinars continue!</a></li>
<li><a href="../139108/index.html">Three projects created in 2 days</a></li>
<li><a href="../139109/index.html">Google wanted to issue its currency</a></li>
<li><a href="../139111/index.html">3D stylus using echolocation</a></li>
<li><a href="../139112/index.html">Android x86 on Asus Eee PC 900</a></li>
<li><a href="../139113/index.html">We write a simple player for Windows Phone</a></li>
<li><a href="../139115/index.html">The microphp manifesto</a></li>
<li><a href="../139116/index.html">Windows 8 Consumer Preview available for download</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>