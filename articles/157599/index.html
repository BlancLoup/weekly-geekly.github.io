<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creating a Cocos2D-x project in the Marmalade SDK</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Some time ago, RIM together with Marmalade conducted a campaign on which I managed to get a Blackberry Playbook tablet. Under the terms of the promoti...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creating a Cocos2D-x project in the Marmalade SDK</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/8db/2c5/eab/8db2c5eab454948fb0c77404ba1cdeab.png"><br><br>  Some time ago, RIM together with Marmalade conducted a <a href="http://habrahabr.ru/post/151882/">campaign</a> on which I managed to get a Blackberry Playbook tablet.  Under the terms of the promotion, within six months after registration, it is necessary to develop and upload to Blackberry App World a game made with the help of Marmlade SDK.  After studying a certain amount of material on this SDK in the network, I came across a record that it is possible to use Cocos2D-x, which would probably reduce my development time (although I have no experience with Marmalade or Cocos2D-x).  Next, I downloaded the latest release of Cocos2D-x and did not find in it any trace of the possibility of interaction with the Marmalade SDK. <br><a name="habracut"></a><br>  As it turned out, before the Cocos2D-x port branch on Marmalade was led by <a href="http://www.cocos2d-x.org/users/252">Francis Styck</a> and in earlier versions there were examples of creating the Marmalade project, but he came across some difficulties and the porting work slowed down.  Then the guys from Marmalade took over the work and at the moment on the Cocos2D-x githabe is hanging their <a href="https://github.com/cocos2d/cocos2d-x/pull/1481">pull request</a> , which should be included in the next release.  Nevertheless, a working version of Cocos2D-x with Marmalade support can be downloaded <a href="https://github.com/mrmop/cocos2d-x">from here</a> . <br><br>  Nowhere in the network I could not find a guide on how to run cocos2d-x on Marmalade, so I decided to write my own, because  quite often came across questions of how to do this from other participants in the action. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      If you have not yet installed Marmalade SDK, then you should do this by following the <a href="https://www.madewithmarmalade.com/downloads">link</a> to download and install the correct version. <br><br>  So, after installing Marmalade SDK, download the version of cocos2d-x from <a href="https://github.com/mrmop/cocos2d-x">this repository</a> .  Unless, of course, by the time you read this article, the examples for Marmalade have not been added to the main thread. <br><br>  Then you can go to the <i>samples \ HelloCpp \ proj.marmalade folder</i> and run the <b>HelloCPP.mkb</b> file - it will perform all the necessary actions and launch the IDE that you specified when installing Marmalade with the HelloCpp open project.  But what if you want to create your own new project?  To do this, you need to manually transfer the necessary libraries and edit the <b>HelloCPP.mkb</b> file. <br><br>  I created a new directory and called it Cocos2D-x.  In this directory from the downloaded cocos2d-x repository, you need to copy 2 folders - <i>cocos2dx</i> and <i>extensions</i> , simultaneously deleting from them all the folders with the <i>proj</i> prefix except <i>proj.marmalade</i> .  Now here we create a folder for our project, for example m_test.  In our m_test folder, copy the <i>Classes</i> and <i>Resources</i> folders from <i>samples \ HelloCpp</i> , and the <i>src</i> folder from <i>samples \ HelloCpp \ proj.marmalade</i> .  Immediately create the file <b>m_test.mkb</b> with the following content: <br><br><pre><code class="hljs haskell"><span class="hljs-title"><span class="hljs-title">options</span></span> { #    module_path=<span class="hljs-string"><span class="hljs-string">"../cocos2dx/proj.marmalade/"</span></span> #       s3e-<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class">-dir = "</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Resources</span></span></span><span class="hljs-class">/iphone" } includepaths { </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Classes</span></span></span><span class="hljs-class"> } subprojects { </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">IwGL</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">cocos2dx</span></span></span><span class="hljs-class"> } assets { #        (</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Resources</span></span></span><span class="hljs-class">/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">iphone</span></span></span><span class="hljs-class">) </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">CloseNormal</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">png</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">CloseSelected</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">png</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">HelloWorld</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">png</span></span></span><span class="hljs-class"> } files { [</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Main</span></span></span><span class="hljs-class">] (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">src</span></span></span><span class="hljs-class">) </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Main</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">h</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Main</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">cpp</span></span></span><span class="hljs-class"> (</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Classes</span></span></span><span class="hljs-class">) </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">AppDelegate</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">h</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">AppDelegate</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">cpp</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">HelloWorldScene</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">h</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">HelloWorldScene</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">cpp</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">AppMacros</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">h</span></span></span><span class="hljs-class"> }</span></span></code> </pre> <br><br>  Save and run the file.  Our new project will open, open the <b>AppMacros.h</b> file and in the 9th row change kDesignResolution_2048x1536 to kDesignResolution_480x320.  Next, open app.icf and look for these lines there: <br><pre> <code class="cpp hljs">WinWidth=<span class="hljs-number"><span class="hljs-number">480</span></span> WinHeight=<span class="hljs-number"><span class="hljs-number">320</span></span></code> </pre><br>  Under normal conditions, these lines set the emulator window size, but for some reason I only read the first parameter and assigned both width and height, so if you have a similar problem, just delete these lines and specify the dimensions of the emulator window in the emulator itself in the Configuration-&gt; Surface menu. <br>  Compile under x86 and enjoy the result. <br><br><img src="https://habrastorage.org/storage2/7b2/9f0/396/7b29f03969d502400e5fc95ecef5bfa7.jpg"><br><br>  Any additional information on the parameters of the mkb file and on Marmalade can generally be obtained from the documentation supplied with the SDK, it can be opened via Marmalade LaunchPad or simply from the <i>docs</i> folder in the directory with the SDK installed. <br><br>  I would be grateful if someone knows a way to create cocos2D-x project easier. </div><p>Source: <a href="https://habr.com/ru/post/157599/">https://habr.com/ru/post/157599/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../157589/index.html">SCADA security in numbers</a></li>
<li><a href="../157591/index.html">Do you make manufacturers of popular services accountable for errors?</a></li>
<li><a href="../157593/index.html">Versatility vs. usability</a></li>
<li><a href="../157595/index.html">Overview of the program for auditing Microsoft SQL Server-NetWrix SQL Server Change Reporter 2.5</a></li>
<li><a href="../157597/index.html">We're friends of System.Web.Optimization Bundle with Windows Azure Storage</a></li>
<li><a href="../157603/index.html">How to become a millionaire in the AppStore or a few formulas about promotion and sales. Part 1</a></li>
<li><a href="../157605/index.html">Taming the triceps dragon or how authentication in Bacula works</a></li>
<li><a href="../157607/index.html">Control of mobile expenses within the organization</a></li>
<li><a href="../157609/index.html">EPAM IT Share # 2: Can you Kanban? Fault tolerance</a></li>
<li><a href="../157611/index.html">NVIDIA turned to Linux</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>