<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Create a galaxy in 30 lines.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="X * is there a game, I thought, and let's scribble in the recovery mode. We will write on jQuery, yes, the meaning of 30 lines is leveled, but I'm awe...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Create a galaxy in 30 lines.</h1><div class="post__text post__text-html js-mediator-article">  <s>X * is there a game, I thought, and let's scribble in the recovery mode.</s>  <s>We will write on jQuery, yes, the meaning of 30 lines is leveled, but I'm awesome so I put on a general extravaganza and cut free karma (no matter how, the reader thought and snapping the mice minus, and I continued thinking) .</s> <br><br>  People didn't really like my intro, so I paraphrase: "Let's start." <br><br>  The article is designed for beginners, so respected experts can immediately scroll. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/cfa/278/f38/cfa278f38ced0c0d20ca65e4b1d9cfc7.jpg" alt="image"><br><br><a name="habracut"></a><br><br><h4>  Instructions for making </h4><br><br>  We need a function that would perform a looping animation on given parameters, like this one. <br><br><pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mooveItem</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">item, speed, pos, direction</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/*          , ..            */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">isNaN</span></span>(item.ldir)) item.ldir = pos.min; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">isNaN</span></span>(item.tdir)) item.tdir = pos.min; <span class="hljs-comment"><span class="hljs-comment">/*    ..       ,    */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(direction == <span class="hljs-string"><span class="hljs-string">"h"</span></span>) item.ldir = item.ldir == pos.max ? pos.min : pos.max; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(direction == <span class="hljs-string"><span class="hljs-string">"v"</span></span>) item.tdir = item.tdir == pos.max ? pos.min : pos.max; <span class="hljs-comment"><span class="hljs-comment">/*        */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> animation = direction == <span class="hljs-string"><span class="hljs-string">"v"</span></span> ? { <span class="hljs-attr"><span class="hljs-attr">top</span></span> : item.tdir } : { <span class="hljs-attr"><span class="hljs-attr">left</span></span> : item.ldir }; <span class="hljs-comment"><span class="hljs-comment">/*      */</span></span> item.animate(animation, { <span class="hljs-attr"><span class="hljs-attr">duration</span></span> : speed, <span class="hljs-attr"><span class="hljs-attr">complete</span></span> : <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ mooveItem(item, speed, pos, direction); }, <span class="hljs-attr"><span class="hljs-attr">queue</span></span> : <span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-comment"><span class="hljs-comment">//     ,        }); }</span></span></code> </pre> <br><br>  Now we would have a function that would create an object and assign an animation to it. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addPlanet</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> bodyw = $(<span class="hljs-string"><span class="hljs-string">"body"</span></span>).innerWidth(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> bodyh = $(<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>).height(); <span class="hljs-comment"><span class="hljs-comment">/*      () ,        (   ) */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> size = <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.floor(<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.random() * <span class="hljs-number"><span class="hljs-number">50</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> speed = size * <span class="hljs-number"><span class="hljs-number">1000</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> obj = $(<span class="hljs-string"><span class="hljs-string">"&lt;div&gt;"</span></span>); obj .addClass(<span class="hljs-string"><span class="hljs-string">"obj"</span></span>) .css(<span class="hljs-string"><span class="hljs-string">"left"</span></span>, bodyw / <span class="hljs-number"><span class="hljs-number">2</span></span>) .css(<span class="hljs-string"><span class="hljs-string">"top"</span></span>, bodyh / <span class="hljs-number"><span class="hljs-number">2</span></span>) .css(<span class="hljs-string"><span class="hljs-string">"width"</span></span>, size) .css(<span class="hljs-string"><span class="hljs-string">"height"</span></span>, size); <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> <span class="hljs-comment"><span class="hljs-comment">/*      ,   10         */</span></span> mooveItem(obj, speed, { <span class="hljs-attr"><span class="hljs-attr">min</span></span>: size * <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-attr"><span class="hljs-attr">max</span></span>: bodyw - size * <span class="hljs-number"><span class="hljs-number">10</span></span> }, <span class="hljs-string"><span class="hljs-string">"h"</span></span>); <span class="hljs-comment"><span class="hljs-comment">/*      2/4  3/4  */</span></span> mooveItem(obj, speed, { <span class="hljs-attr"><span class="hljs-attr">min</span></span>: bodyh / <span class="hljs-number"><span class="hljs-number">2</span></span> - <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-attr"><span class="hljs-attr">max</span></span>: bodyh / <span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">100</span></span> }, <span class="hljs-string"><span class="hljs-string">"v"</span></span>); $(<span class="hljs-string"><span class="hljs-string">"body"</span></span>).append(obj); }</code> </pre><br><br>  Create a couple of CSS rules for the appearance of the object. <br>  By the way, if anyone knows why the animation with position: absolute;  happens faster than with position: fixed ;, I will be glad to find out. <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">body</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: <span class="hljs-number"><span class="hljs-number">#000</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.obj</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">border-radius</span></span>: <span class="hljs-number"><span class="hljs-number">50%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">box-shadow</span></span>: <span class="hljs-number"><span class="hljs-number">0px</span></span> <span class="hljs-number"><span class="hljs-number">0px</span></span> <span class="hljs-number"><span class="hljs-number">15px</span></span> <span class="hljs-number"><span class="hljs-number">#fff</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">border-radius</span></span>: <span class="hljs-number"><span class="hljs-number">50%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: absolute; <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: <span class="hljs-number"><span class="hljs-number">#fff</span></span>; }</code> </pre><br><br>  Well, now all this should be run <br><br><pre> <code class="javascript hljs">$(<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>).load(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/*    100,    */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(i=<span class="hljs-number"><span class="hljs-number">1</span></span>; i&lt;<span class="hljs-number"><span class="hljs-number">100</span></span>; i++) addPlanet(); });</code> </pre><br><br>  Look at the beauty of JS Fiddle, look better on the whole screen. <br><br>  <a href="http://jsfiddle.net/6JMLL/">Example 1, on the topic</a> <br>  <a href="http://jsfiddle.net/S2HLC/">Example 2, reminds a big bang</a> <br><br>  What are the nuances?  Periodically, the fire bug diagnoses <b>Too much recursion</b> , depends on the number, size and speed of objects, so sometimes the script does not work out to the end and you see fewer objects than it should be, just restart.  And again, if anyone knows where and how to throw an exception correctly, I will be glad to help, because  I myself can not figure out. </div><p>Source: <a href="https://habr.com/ru/post/202858/">https://habr.com/ru/post/202858/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../202844/index.html">CSS Slideshow (Sass)</a></li>
<li><a href="../202848/index.html">Havok holds a competition for mobile game developers.</a></li>
<li><a href="../202852/index.html">JS color eyedropper, 399 characters (not strings)</a></li>
<li><a href="../202854/index.html">Overview of expansion boards of the communication platform Aastra A400 (A470)</a></li>
<li><a href="../202856/index.html">Managerial tools: 16 concepts for each day</a></li>
<li><a href="../202860/index.html">Another Tetris on JS (~ 30 "conditional" lines)</a></li>
<li><a href="../202864/index.html">Minimize apps to dock for lazy using AppleScript</a></li>
<li><a href="../202866/index.html">Meet Dependency Injection with the Dagger example</a></li>
<li><a href="../202868/index.html">Testing: a clear career choice</a></li>
<li><a href="../202870/index.html">Automate subtitle uploading from * .mkv files</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>