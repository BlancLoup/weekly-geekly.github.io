<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Use generic wildcards to improve the convenience of the Java API</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day! 

 This post is for those who are working on the next API in the Java language, or are trying to improve an existing one. Here will be given...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Use generic wildcards to improve the convenience of the Java API</h1><div class="post__text post__text-html js-mediator-article"> Good day! <br><br>  This post is for those who are working on the next API in the Java language, or are trying to improve an existing one.  Here will be given simple advice, how with the help of constructions <code>? extends T</code>  <code>? extends T</code> and <code>? super T</code>  <code>? super T</code> can greatly enhance the usability of your interface. <br><a name="habracut"></a><br>  <a href="https://habr.com/ru/post/207360/">Go straight to the point</a> <br><br><h4>  Source API </h4><br>  Suppose you have an interface of a certain object storage, parameterized, say, two types: a key type ( <code>K</code> ) and a value type ( <code>V</code> ).  The interface defines a set of methods for working with data in the repository: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyObjectStore</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">K</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">V</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** *       . * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> key . * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> value . */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">put</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(K key, V value)</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">/** *       . * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> key . * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment">   null. */</span></span> <span class="hljs-meta"><span class="hljs-meta">@Nullable</span></span> <span class="hljs-function"><span class="hljs-function">V </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(K key)</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">/** *    -  . * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> entries   -. */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">putAll</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Map&lt;K, V&gt; entries)</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">/** *        * . * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> keys  . * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment">  -. */</span></span> <span class="hljs-function"><span class="hljs-function">Map&lt;K, V&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getAll</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Collection&lt;K&gt; keys)</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">/** *     ,  *   (). * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> p    . * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> ,  . */</span></span> <span class="hljs-function"><span class="hljs-function">Collection&lt;V&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getAll</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Predicate&lt;V&gt; p)</span></span></span></span>; ... <span class="hljs-comment"><span class="hljs-comment">//    }</span></span></code> </pre><br><div class="spoiler">  <b class="spoiler_title">Predicate Definition</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Predicate</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">E</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** *  true,    * , false   . * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> exp   . * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> true,  ; false,  . */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">apply</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(E exp)</span></span></span></span>; }</code> </pre><br></div></div><br>  The interface looks quite adequate and logical, the user can easily write simple code to work with the repository: <br><br><pre> <code class="java hljs">MyObjectStore&lt;Long, Car&gt; carsStore = ...; carsStore.put(<span class="hljs-number"><span class="hljs-number">20334L</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Car(<span class="hljs-string"><span class="hljs-string">"BMW"</span></span>, <span class="hljs-string"><span class="hljs-string">"X5"</span></span>, <span class="hljs-number"><span class="hljs-number">2013</span></span>)); Car c = carsStore.get(<span class="hljs-number"><span class="hljs-number">222L</span></span>); ...</code> </pre><br>  However, in slightly less trivial cases, the client of your API will face unpleasant restrictions. <br><br><h4>  Use <code>? super T</code> <code>? super T</code> </h4><br>  Take the last method that reads the values ‚Äã‚Äãthat satisfy the predicate.  What could be wrong with him?  We take, and we write: <br><br><pre> <code class="java hljs">Collection&lt;Car&gt; cars = carsStore.getAll(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Predicate&lt;Car&gt;() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">apply</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Car exp)</span></span></span><span class="hljs-function"> </span></span>{ ... <span class="hljs-comment"><span class="hljs-comment">//      . } });</span></span></code> </pre><br>  But the fact is that our client already has a predicate for choosing cars.  Only it is not parameterized by the <code>Car</code> class, but by the <code>Vehicle</code> class, from which <code>Car</code> inherits.  He may try to cram <pre> <code class="hljs xml"><code>Predicate  Predicate,      : <br> <br> no suitable method found for getAll(Predicate<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Vehicle</span></span></span><span class="hljs-tag">&gt;</span></span>) <br>   ,    ,  <code>Vehicle</code> -   <code>Car</code> .       <code>Car</code> ,  , ,     <code>Vehicle</code> ,     <code>Car</code> !          <code>Vehicle</code>     <code>Car</code> .       , ,  ,     : <br> <br> <code class="java">final Predicate<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Vehicle</span></span></span><span class="hljs-tag">&gt;</span></span> vp = mgr.getVehiclePredicate(); Collection<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Car</span></span></span><span class="hljs-tag">&gt;</span></span> cars = carsStore.getAll(new Predicate<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Car</span></span></span><span class="hljs-tag">&gt;</span></span>() { @Override public boolean apply(Car exp) { return vp.apply(exp); } });</code> <br>      !       : <br> <br> <code class="java">Collection<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">V</span></span></span><span class="hljs-tag">&gt;</span></span> getAll(Predicate<span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php"> super V&gt; p);</span></span></code><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">  </span></span><code><span class="php"><span class="php">Predicate</span><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php"> super V&gt;</span></span></code><span class="php"><span class="php">  </span><span class="hljs-string"><span class="php"><span class="hljs-string">"  V    V (  Object)"</span></span></span><span class="php">.        ,        .        </span></span><code><span class="php"><span class="php">Vehicle</span></span></code><span class="php"><span class="php">  : </span></span><br><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php"> </span></span><code class="java"><span class="php"><span class="php">MyObjectStore&lt;Long, Car&gt; carsStore = ...; Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(vp);</span></span></code><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">      ,      . </span></span><br><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">  </span></span><code><span class="php"><span class="php">? extends T</span></span></code><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">      ,    . ,   ,    </span></span><code><span class="php"><span class="php">? extends T</span></span></code><span class="php"><span class="php">    .  :    </span></span><code><span class="php"><span class="php">MyObjectStore&lt;Long, Vehicle&gt;</span></span></code><span class="php"><span class="php"> ,         </span></span><code><span class="php"><span class="php">Map&lt;Long, Car&gt;</span></span></code><span class="php"><span class="php"> ( </span></span><code><span class="php"><span class="php">Car</span></span></code><span class="php"><span class="php"> -   </span></span><code><span class="php"><span class="php">Vehicle</span></span></code><span class="php"><span class="php"> ),         : </span></span><br><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php"> </span></span><code class="java"><span class="php"><span class="php">MyObjectStore&lt;Long, Vehicle&gt; carsStore = ...; Map&lt;Long, Car&gt; cars = </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">new</span></span></span><span class="php"> HashMap&lt;Long, Car&gt;(</span><span class="hljs-number"><span class="php"><span class="hljs-number">2</span></span></span><span class="php">); cars.put(</span><span class="hljs-number"><span class="php"><span class="hljs-number">1</span></span></span><span class="php">L, </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">new</span></span></span><span class="php"> Car(</span><span class="hljs-string"><span class="php"><span class="hljs-string">"Audi"</span></span></span><span class="php">, </span><span class="hljs-string"><span class="php"><span class="hljs-string">"A6"</span></span></span><span class="php">, </span><span class="hljs-number"><span class="php"><span class="hljs-number">2011</span></span></span><span class="php">)); cars.put(</span><span class="hljs-number"><span class="php"><span class="hljs-number">2</span></span></span><span class="php">L, </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">new</span></span></span><span class="php"> Car(</span><span class="hljs-string"><span class="php"><span class="hljs-string">"Honda"</span></span></span><span class="php">, </span><span class="hljs-string"><span class="php"><span class="hljs-string">"Civic"</span></span></span><span class="php">, </span><span class="hljs-number"><span class="php"><span class="hljs-number">2012</span></span></span><span class="php">)); carsStore.putAll(cars); </span><span class="hljs-comment"><span class="php"><span class="hljs-comment">//  .</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     , ,     ,     ,  wildcard </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">? extends T</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">void putAll(Map</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K, ? extends V&gt; entries);</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Map</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K, ? extends V&gt;</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   "    K     K     V     V". </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><a name="pecs"></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  PECS - Producer Extends Consumer Super </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     ,       ,      ,          . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   Joshua Bloch  </span></span></span></span><a href="http://books.google.ru/books%3Fid%3Dka2VUBqHiWkC%26pg%3DPA136%26lpg%3DPA136%26dq%3Dbloch%2Beffective%2Bjava%2Bpecs%2Bmnemonic%26source%3Dbl%26ots%3DyYKnPjt-P-%26sig%3DJGT8qexAAldJ5xYPepbBQ5uude0%26hl%3Den%26sa%3DX%26ei%3DCb3GUv-sNIuK5ATM7oD4Dw%26ved%3D0CCgQ6AEwAA"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">PECS (Producer Extends Consumer Super)</span></span></span></span></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,    Java Generics and Collections (Maurice Naftalin, Philip Wadler) - </span></span></span></span><a href="http://books.google.ru/books%3Fid%3DzaoK0Z2STlkC%26pg%3DPA19%26lpg%3DPA19%26dq%3DNaftalin%2Band%2BWadler%2BGet%2Band%2BPut%2BPrinciple%26source%3Dbl%26ots%3D6Xuqgc-XGO%26sig%3DW9eFVjUg2Wi3no0bQS4359Fhu-k%26hl%3Den%26sa%3DX%26ei%3DQLzGUvzMNsXZ4QTE1YGYDw%26ved%3D0CCoQ6AEwAA"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Get and Put Principle</span></span></span></span></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> .     PECS,  .   : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">        (, </span></span></span></span><code><code><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Collection  Predicate),   ,   - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">producer</span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ),   ? extends T</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,    - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">consumer</span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ),   </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">? super T</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> .</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,   ?  :      ,    - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,       ,    </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> .  ,   </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,      T. </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    </span></span></span></span><code><code><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Predicate -  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( getAll(Predicate)       T),  Map&lt;K, V&gt;</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( putAll(Map&lt;K, V&gt;)    T -     T  K  V -   ). </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  ,     </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  - ,       ,     ( ,   ) -      . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">         -    wildcard-      ,      wildcard-   . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  PECS-,         </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">MyObjectStore</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     ,   .  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">put(K, V)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">get(K)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    (..       );  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">putAll(Map</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K, ? extends V&gt;)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">getAll(Predicate</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> super V&gt;)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     ,  ;   </span></span></span></span></code></code></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">getAll(Collection)  - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   ,    .  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> Map&lt;K, V&gt; getAll(Collection&lt;K&gt; keys);</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Map&lt;K, V&gt; getAll(Collection</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K&gt; keys);</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   ,   API! (,     !) </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">      </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     .    </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> -  : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">interface Factory&lt;T&gt; { /** *      . * * @param args . * @return  . */ T create(Object... args); }</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   ,   </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,     : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">interface Cloner&lt;T&gt; { /** *  . * * @param obj  . * @return . */ T clone(T obj); }</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  ,   ouput-,        (    Java      ). </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">        PECS (Producer Extends Consumer Super)       API  Java.   ,             ,        API. ,  ,     ,    PECS ,          . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><a href="http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Joshua Bloch - Effective Java (2nd Edition)</span></span></span></span></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><a href="http://shop.oreilly.com/product/9780596527754.do"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Maurice Naftalin, Philip Wadler - Java Generics and Collections</span></span></span></span></a></code></code> <blockquote> <code class="hljs xml"><code>Predicate  Predicate,      : <br> <br> no suitable method found for getAll(Predicate<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Vehicle</span></span></span><span class="hljs-tag">&gt;</span></span>) <br>   ,    ,  <code>Vehicle</code> -   <code>Car</code> .       <code>Car</code> ,  , ,     <code>Vehicle</code> ,     <code>Car</code> !          <code>Vehicle</code>     <code>Car</code> .       , ,  ,     : <br> <br> <code class="java">final Predicate<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Vehicle</span></span></span><span class="hljs-tag">&gt;</span></span> vp = mgr.getVehiclePredicate(); Collection<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Car</span></span></span><span class="hljs-tag">&gt;</span></span> cars = carsStore.getAll(new Predicate<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Car</span></span></span><span class="hljs-tag">&gt;</span></span>() { @Override public boolean apply(Car exp) { return vp.apply(exp); } });</code> <br>      !       : <br> <br> <code class="java">Collection<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">V</span></span></span><span class="hljs-tag">&gt;</span></span> getAll(Predicate<span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php"> super V&gt; p);</span></span></code><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">  </span></span><code><span class="php"><span class="php">Predicate</span><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php"> super V&gt;</span></span></code><span class="php"><span class="php">  </span><span class="hljs-string"><span class="php"><span class="hljs-string">"  V    V (  Object)"</span></span></span><span class="php">.        ,        .        </span></span><code><span class="php"><span class="php">Vehicle</span></span></code><span class="php"><span class="php">  : </span></span><br><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php"> </span></span><code class="java"><span class="php"><span class="php">MyObjectStore&lt;Long, Car&gt; carsStore = ...; Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(vp);</span></span></code><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">      ,      . </span></span><br><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">  </span></span><code><span class="php"><span class="php">? extends T</span></span></code><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">      ,    . ,   ,    </span></span><code><span class="php"><span class="php">? extends T</span></span></code><span class="php"><span class="php">    .  :    </span></span><code><span class="php"><span class="php">MyObjectStore&lt;Long, Vehicle&gt;</span></span></code><span class="php"><span class="php"> ,         </span></span><code><span class="php"><span class="php">Map&lt;Long, Car&gt;</span></span></code><span class="php"><span class="php"> ( </span></span><code><span class="php"><span class="php">Car</span></span></code><span class="php"><span class="php"> -   </span></span><code><span class="php"><span class="php">Vehicle</span></span></code><span class="php"><span class="php"> ),         : </span></span><br><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php"> </span></span><code class="java"><span class="php"><span class="php">MyObjectStore&lt;Long, Vehicle&gt; carsStore = ...; Map&lt;Long, Car&gt; cars = </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">new</span></span></span><span class="php"> HashMap&lt;Long, Car&gt;(</span><span class="hljs-number"><span class="php"><span class="hljs-number">2</span></span></span><span class="php">); cars.put(</span><span class="hljs-number"><span class="php"><span class="hljs-number">1</span></span></span><span class="php">L, </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">new</span></span></span><span class="php"> Car(</span><span class="hljs-string"><span class="php"><span class="hljs-string">"Audi"</span></span></span><span class="php">, </span><span class="hljs-string"><span class="php"><span class="hljs-string">"A6"</span></span></span><span class="php">, </span><span class="hljs-number"><span class="php"><span class="hljs-number">2011</span></span></span><span class="php">)); cars.put(</span><span class="hljs-number"><span class="php"><span class="hljs-number">2</span></span></span><span class="php">L, </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">new</span></span></span><span class="php"> Car(</span><span class="hljs-string"><span class="php"><span class="hljs-string">"Honda"</span></span></span><span class="php">, </span><span class="hljs-string"><span class="php"><span class="hljs-string">"Civic"</span></span></span><span class="php">, </span><span class="hljs-number"><span class="php"><span class="hljs-number">2012</span></span></span><span class="php">)); carsStore.putAll(cars); </span><span class="hljs-comment"><span class="php"><span class="hljs-comment">//  .</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     , ,     ,     ,  wildcard </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">? extends T</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">void putAll(Map</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K, ? extends V&gt; entries);</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Map</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K, ? extends V&gt;</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   "    K     K     V     V". </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><a name="pecs"></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  PECS - Producer Extends Consumer Super </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     ,       ,      ,          . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   Joshua Bloch  </span></span></span></span><a href="http://books.google.ru/books%3Fid%3Dka2VUBqHiWkC%26pg%3DPA136%26lpg%3DPA136%26dq%3Dbloch%2Beffective%2Bjava%2Bpecs%2Bmnemonic%26source%3Dbl%26ots%3DyYKnPjt-P-%26sig%3DJGT8qexAAldJ5xYPepbBQ5uude0%26hl%3Den%26sa%3DX%26ei%3DCb3GUv-sNIuK5ATM7oD4Dw%26ved%3D0CCgQ6AEwAA"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">PECS (Producer Extends Consumer Super)</span></span></span></span></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,    Java Generics and Collections (Maurice Naftalin, Philip Wadler) - </span></span></span></span><a href="http://books.google.ru/books%3Fid%3DzaoK0Z2STlkC%26pg%3DPA19%26lpg%3DPA19%26dq%3DNaftalin%2Band%2BWadler%2BGet%2Band%2BPut%2BPrinciple%26source%3Dbl%26ots%3D6Xuqgc-XGO%26sig%3DW9eFVjUg2Wi3no0bQS4359Fhu-k%26hl%3Den%26sa%3DX%26ei%3DQLzGUvzMNsXZ4QTE1YGYDw%26ved%3D0CCoQ6AEwAA"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Get and Put Principle</span></span></span></span></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> .     PECS,  .   : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">        (, </span></span></span></span><code><code><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Collection  Predicate),   ,   - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">producer</span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ),   ? extends T</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,    - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">consumer</span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ),   </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">? super T</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> .</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,   ?  :      ,    - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,       ,    </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> .  ,   </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,      T. </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    </span></span></span></span><code><code><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Predicate -  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( getAll(Predicate)       T),  Map&lt;K, V&gt;</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( putAll(Map&lt;K, V&gt;)    T -     T  K  V -   ). </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  ,     </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  - ,       ,     ( ,   ) -      . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">         -    wildcard-      ,      wildcard-   . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  PECS-,         </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">MyObjectStore</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     ,   .  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">put(K, V)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">get(K)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    (..       );  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">putAll(Map</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K, ? extends V&gt;)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">getAll(Predicate</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> super V&gt;)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     ,  ;   </span></span></span></span></code></code></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">getAll(Collection)  - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   ,    .  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> Map&lt;K, V&gt; getAll(Collection&lt;K&gt; keys);</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Map&lt;K, V&gt; getAll(Collection</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K&gt; keys);</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   ,   API! (,     !) </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">      </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     .    </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> -  : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">interface Factory&lt;T&gt; { /** *      . * * @param args . * @return  . */ T create(Object... args); }</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   ,   </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,     : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">interface Cloner&lt;T&gt; { /** *  . * * @param obj  . * @return . */ T clone(T obj); }</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  ,   ouput-,        (    Java      ). </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">        PECS (Producer Extends Consumer Super)       API  Java.   ,             ,        API. ,  ,     ,    PECS ,          . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><a href="http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Joshua Bloch - Effective Java (2nd Edition)</span></span></span></span></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><a href="http://shop.oreilly.com/product/9780596527754.do"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Maurice Naftalin, Philip Wadler - Java Generics and Collections</span></span></span></span></a></code></code> </blockquote></pre>  <code><code>Predicate  Predicate,      : <br> <br> no suitable method found for getAll(Predicate&lt;Vehicle&gt;) <br>   ,    ,  <code>Vehicle</code> -   <code>Car</code> .       <code>Car</code> ,  , ,     <code>Vehicle</code> ,     <code>Car</code> !          <code>Vehicle</code>     <code>Car</code> .       , ,  ,     : <br> <br> <code class="java">final Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(new Predicate&lt;Car&gt;() { @Override public boolean apply(Car exp) { return vp.apply(exp); } });</code> <br>      !       : <br> <br> <code class="java">Collection&lt;V&gt; getAll(Predicate&lt;? super V&gt; p);</code> <br>  <code>Predicate&lt;? super V&gt;</code>  "  V    V (  Object)".        ,        .        <code>Vehicle</code>  : <br> <br> <code class="java">MyObjectStore&lt;Long, Car&gt; carsStore = ...; Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(vp);</code> <br>      ,      . <br> <br>  <code>? extends T</code> <br>      ,    . ,   ,    <code>? extends T</code>    .  :    <code>MyObjectStore&lt;Long, Vehicle&gt;</code> ,         <code>Map&lt;Long, Car&gt;</code> ( <code>Car</code> -   <code>Vehicle</code> ),         : <br> <br> <code class="java">MyObjectStore&lt;Long, Vehicle&gt; carsStore = ...; Map&lt;Long, Car&gt; cars = new HashMap&lt;Long, Car&gt;(2); cars.put(1L, new Car("Audi", "A6", 2011)); cars.put(2L, new Car("Honda", "Civic", 2012)); carsStore.putAll(cars); //  .</code> <br>     , ,     ,     ,  wildcard <code>? extends T</code>    : <br> <br> <code class="java">void putAll(Map&lt;? extends K, ? extends V&gt; entries);</code> <br>  <code>Map&lt;? extends K, ? extends V&gt;</code>   "    K     K     V     V". <br> <br> <a name="pecs"></a> <br>  PECS - Producer Extends Consumer Super <br>     ,       ,      ,          . <br> <br>   Joshua Bloch  <a href="http://books.google.ru/books%3Fid%3Dka2VUBqHiWkC%26pg%3DPA136%26lpg%3DPA136%26dq%3Dbloch%2Beffective%2Bjava%2Bpecs%2Bmnemonic%26source%3Dbl%26ots%3DyYKnPjt-P-%26sig%3DJGT8qexAAldJ5xYPepbBQ5uude0%26hl%3Den%26sa%3DX%26ei%3DCb3GUv-sNIuK5ATM7oD4Dw%26ved%3D0CCgQ6AEwAA">PECS (Producer Extends Consumer Super)</a> ,    Java Generics and Collections (Maurice Naftalin, Philip Wadler) - <a href="http://books.google.ru/books%3Fid%3DzaoK0Z2STlkC%26pg%3DPA19%26lpg%3DPA19%26dq%3DNaftalin%2Band%2BWadler%2BGet%2Band%2BPut%2BPrinciple%26source%3Dbl%26ots%3D6Xuqgc-XGO%26sig%3DW9eFVjUg2Wi3no0bQS4359Fhu-k%26hl%3Den%26sa%3DX%26ei%3DQLzGUvzMNsXZ4QTE1YGYDw%26ved%3D0CCoQ6AEwAA">Get and Put Principle</a> .     PECS,  .   : <br> <br>        (, <code><code><code>Collection  Predicate),   ,   - <i></i> ( <i>producer</i> ),   ? extends T</code> ,    - <i></i> ( <i>consumer</i> ),   <code>? super T</code> .</code> <br> <i></i>  <i></i> ,   ?  :      ,    - <i></i> ,       ,    <i></i> .  ,   <i></i>  <i></i> ,      T. <br> <br>    <code><code><code>Predicate -  <i></i> ( getAll(Predicate)       T),  Map&lt;K, V&gt;</code> - <i></i> ( putAll(Map&lt;K, V&gt;)    T -     T  K  V -   ). <br> <br>  ,     <i></i> ,  <i></i>  - ,       ,     ( ,   ) -      . <br> <br>         -    wildcard-      ,      wildcard-   . <br> <br>  PECS-,         <code>MyObjectStore</code>     ,   .  <code>put(K, V)</code>  <code>get(K)</code>    (..       );  <code>putAll(Map&lt;? extends K, ? extends V&gt;)</code>  <code>getAll(Predicate&lt;? super V&gt;)</code>     ,  ;   </code></code></code> <code class="java">getAll(Collection)  - <i></i>   ,    .  <br> <br> Map&lt;K, V&gt; getAll(Collection&lt;K&gt; keys);</code> <br>  <br> <br> <code class="java">Map&lt;K, V&gt; getAll(Collection&lt;? extends K&gt; keys);</code> <br>   ,   API! (,     !) <br> <br>      <br> <i></i>     .    <i></i> -  : <br> <br> <code class="java">interface Factory&lt;T&gt; { /** *      . * * @param args . * @return  . */ T create(Object... args); }</code> <br>   ,   <i></i> ,  <i></i> ,     : <br> <br> <code class="java">interface Cloner&lt;T&gt; { /** *  . * * @param obj  . * @return . */ T clone(T obj); }</code> <br>    <i></i>  ,   ouput-,        (    Java      ). <br> <br>  <br>        PECS (Producer Extends Consumer Super)       API  Java.   ,             ,        API. ,  ,     ,    PECS ,          . <br> <br>  <br> <a href="http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683">Joshua Bloch - Effective Java (2nd Edition)</a> <a href="http://shop.oreilly.com/product/9780596527754.do">Maurice Naftalin, Philip Wadler - Java Generics and Collections</a></code></code> <pre> <code class="hljs xml"><code>Predicate  Predicate,      : <br> <br> no suitable method found for getAll(Predicate<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Vehicle</span></span></span><span class="hljs-tag">&gt;</span></span>) <br>   ,    ,  <code>Vehicle</code> -   <code>Car</code> .       <code>Car</code> ,  , ,     <code>Vehicle</code> ,     <code>Car</code> !          <code>Vehicle</code>     <code>Car</code> .       , ,  ,     : <br> <br> <code class="java">final Predicate<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Vehicle</span></span></span><span class="hljs-tag">&gt;</span></span> vp = mgr.getVehiclePredicate(); Collection<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Car</span></span></span><span class="hljs-tag">&gt;</span></span> cars = carsStore.getAll(new Predicate<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Car</span></span></span><span class="hljs-tag">&gt;</span></span>() { @Override public boolean apply(Car exp) { return vp.apply(exp); } });</code> <br>      !       : <br> <br> <code class="java">Collection<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">V</span></span></span><span class="hljs-tag">&gt;</span></span> getAll(Predicate<span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php"> super V&gt; p);</span></span></code><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">  </span></span><code><span class="php"><span class="php">Predicate</span><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php"> super V&gt;</span></span></code><span class="php"><span class="php">  </span><span class="hljs-string"><span class="php"><span class="hljs-string">"  V    V (  Object)"</span></span></span><span class="php">.        ,        .        </span></span><code><span class="php"><span class="php">Vehicle</span></span></code><span class="php"><span class="php">  : </span></span><br><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php"> </span></span><code class="java"><span class="php"><span class="php">MyObjectStore&lt;Long, Car&gt; carsStore = ...; Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(vp);</span></span></code><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">      ,      . </span></span><br><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">  </span></span><code><span class="php"><span class="php">? extends T</span></span></code><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">      ,    . ,   ,    </span></span><code><span class="php"><span class="php">? extends T</span></span></code><span class="php"><span class="php">    .  :    </span></span><code><span class="php"><span class="php">MyObjectStore&lt;Long, Vehicle&gt;</span></span></code><span class="php"><span class="php"> ,         </span></span><code><span class="php"><span class="php">Map&lt;Long, Car&gt;</span></span></code><span class="php"><span class="php"> ( </span></span><code><span class="php"><span class="php">Car</span></span></code><span class="php"><span class="php"> -   </span></span><code><span class="php"><span class="php">Vehicle</span></span></code><span class="php"><span class="php"> ),         : </span></span><br><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php"> </span></span><code class="java"><span class="php"><span class="php">MyObjectStore&lt;Long, Vehicle&gt; carsStore = ...; Map&lt;Long, Car&gt; cars = </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">new</span></span></span><span class="php"> HashMap&lt;Long, Car&gt;(</span><span class="hljs-number"><span class="php"><span class="hljs-number">2</span></span></span><span class="php">); cars.put(</span><span class="hljs-number"><span class="php"><span class="hljs-number">1</span></span></span><span class="php">L, </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">new</span></span></span><span class="php"> Car(</span><span class="hljs-string"><span class="php"><span class="hljs-string">"Audi"</span></span></span><span class="php">, </span><span class="hljs-string"><span class="php"><span class="hljs-string">"A6"</span></span></span><span class="php">, </span><span class="hljs-number"><span class="php"><span class="hljs-number">2011</span></span></span><span class="php">)); cars.put(</span><span class="hljs-number"><span class="php"><span class="hljs-number">2</span></span></span><span class="php">L, </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">new</span></span></span><span class="php"> Car(</span><span class="hljs-string"><span class="php"><span class="hljs-string">"Honda"</span></span></span><span class="php">, </span><span class="hljs-string"><span class="php"><span class="hljs-string">"Civic"</span></span></span><span class="php">, </span><span class="hljs-number"><span class="php"><span class="hljs-number">2012</span></span></span><span class="php">)); carsStore.putAll(cars); </span><span class="hljs-comment"><span class="php"><span class="hljs-comment">//  .</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     , ,     ,     ,  wildcard </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">? extends T</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">void putAll(Map</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K, ? extends V&gt; entries);</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Map</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K, ? extends V&gt;</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   "    K     K     V     V". </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><a name="pecs"></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  PECS - Producer Extends Consumer Super </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     ,       ,      ,          . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   Joshua Bloch  </span></span></span></span><a href="http://books.google.ru/books%3Fid%3Dka2VUBqHiWkC%26pg%3DPA136%26lpg%3DPA136%26dq%3Dbloch%2Beffective%2Bjava%2Bpecs%2Bmnemonic%26source%3Dbl%26ots%3DyYKnPjt-P-%26sig%3DJGT8qexAAldJ5xYPepbBQ5uude0%26hl%3Den%26sa%3DX%26ei%3DCb3GUv-sNIuK5ATM7oD4Dw%26ved%3D0CCgQ6AEwAA"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">PECS (Producer Extends Consumer Super)</span></span></span></span></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,    Java Generics and Collections (Maurice Naftalin, Philip Wadler) - </span></span></span></span><a href="http://books.google.ru/books%3Fid%3DzaoK0Z2STlkC%26pg%3DPA19%26lpg%3DPA19%26dq%3DNaftalin%2Band%2BWadler%2BGet%2Band%2BPut%2BPrinciple%26source%3Dbl%26ots%3D6Xuqgc-XGO%26sig%3DW9eFVjUg2Wi3no0bQS4359Fhu-k%26hl%3Den%26sa%3DX%26ei%3DQLzGUvzMNsXZ4QTE1YGYDw%26ved%3D0CCoQ6AEwAA"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Get and Put Principle</span></span></span></span></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> .     PECS,  .   : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">        (, </span></span></span></span><code><code><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Collection  Predicate),   ,   - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">producer</span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ),   ? extends T</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,    - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">consumer</span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ),   </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">? super T</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> .</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,   ?  :      ,    - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,       ,    </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> .  ,   </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,      T. </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    </span></span></span></span><code><code><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Predicate -  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( getAll(Predicate)       T),  Map&lt;K, V&gt;</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( putAll(Map&lt;K, V&gt;)    T -     T  K  V -   ). </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  ,     </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  - ,       ,     ( ,   ) -      . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">         -    wildcard-      ,      wildcard-   . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  PECS-,         </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">MyObjectStore</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     ,   .  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">put(K, V)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">get(K)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    (..       );  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">putAll(Map</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K, ? extends V&gt;)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">getAll(Predicate</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> super V&gt;)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     ,  ;   </span></span></span></span></code></code></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">getAll(Collection)  - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   ,    .  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> Map&lt;K, V&gt; getAll(Collection&lt;K&gt; keys);</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Map&lt;K, V&gt; getAll(Collection</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K&gt; keys);</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   ,   API! (,     !) </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">      </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     .    </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> -  : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">interface Factory&lt;T&gt; { /** *      . * * @param args . * @return  . */ T create(Object... args); }</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   ,   </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,     : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">interface Cloner&lt;T&gt; { /** *  . * * @param obj  . * @return . */ T clone(T obj); }</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  ,   ouput-,        (    Java      ). </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">        PECS (Producer Extends Consumer Super)       API  Java.   ,             ,        API. ,  ,     ,    PECS ,          . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><a href="http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Joshua Bloch - Effective Java (2nd Edition)</span></span></span></span></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><a href="http://shop.oreilly.com/product/9780596527754.do"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Maurice Naftalin, Philip Wadler - Java Generics and Collections</span></span></span></span></a></code></code> </pre> <code><code>Predicate  Predicate,      : <br> <br> no suitable method found for getAll(Predicate&lt;Vehicle&gt;) <br>   ,    ,  <code>Vehicle</code> -   <code>Car</code> .       <code>Car</code> ,  , ,     <code>Vehicle</code> ,     <code>Car</code> !          <code>Vehicle</code>     <code>Car</code> .       , ,  ,     : <br> <br> <code class="java">final Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(new Predicate&lt;Car&gt;() { @Override public boolean apply(Car exp) { return vp.apply(exp); } });</code> <br>      !       : <br> <br> <code class="java">Collection&lt;V&gt; getAll(Predicate&lt;? super V&gt; p);</code> <br>  <code>Predicate&lt;? super V&gt;</code>  "  V    V (  Object)".        ,        .        <code>Vehicle</code>  : <br> <br> <code class="java">MyObjectStore&lt;Long, Car&gt; carsStore = ...; Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(vp);</code> <br>      ,      . <br> <br>  <code>? extends T</code> <br>      ,    . ,   ,    <code>? extends T</code>    .  :    <code>MyObjectStore&lt;Long, Vehicle&gt;</code> ,         <code>Map&lt;Long, Car&gt;</code> ( <code>Car</code> -   <code>Vehicle</code> ),         : <br> <br> <code class="java">MyObjectStore&lt;Long, Vehicle&gt; carsStore = ...; Map&lt;Long, Car&gt; cars = new HashMap&lt;Long, Car&gt;(2); cars.put(1L, new Car("Audi", "A6", 2011)); cars.put(2L, new Car("Honda", "Civic", 2012)); carsStore.putAll(cars); //  .</code> <br>     , ,     ,     ,  wildcard <code>? extends T</code>    : <br> <br> <code class="java">void putAll(Map&lt;? extends K, ? extends V&gt; entries);</code> <br>  <code>Map&lt;? extends K, ? extends V&gt;</code>   "    K     K     V     V". <br> <br> <a name="pecs"></a> <br>  PECS - Producer Extends Consumer Super <br>     ,       ,      ,          . <br> <br>   Joshua Bloch  <a href="http://books.google.ru/books%3Fid%3Dka2VUBqHiWkC%26pg%3DPA136%26lpg%3DPA136%26dq%3Dbloch%2Beffective%2Bjava%2Bpecs%2Bmnemonic%26source%3Dbl%26ots%3DyYKnPjt-P-%26sig%3DJGT8qexAAldJ5xYPepbBQ5uude0%26hl%3Den%26sa%3DX%26ei%3DCb3GUv-sNIuK5ATM7oD4Dw%26ved%3D0CCgQ6AEwAA">PECS (Producer Extends Consumer Super)</a> ,    Java Generics and Collections (Maurice Naftalin, Philip Wadler) - <a href="http://books.google.ru/books%3Fid%3DzaoK0Z2STlkC%26pg%3DPA19%26lpg%3DPA19%26dq%3DNaftalin%2Band%2BWadler%2BGet%2Band%2BPut%2BPrinciple%26source%3Dbl%26ots%3D6Xuqgc-XGO%26sig%3DW9eFVjUg2Wi3no0bQS4359Fhu-k%26hl%3Den%26sa%3DX%26ei%3DQLzGUvzMNsXZ4QTE1YGYDw%26ved%3D0CCoQ6AEwAA">Get and Put Principle</a> .     PECS,  .   : <br> <br>        (, <code><code><code>Collection  Predicate),   ,   - <i></i> ( <i>producer</i> ),   ? extends T</code> ,    - <i></i> ( <i>consumer</i> ),   <code>? super T</code> .</code> <br> <i></i>  <i></i> ,   ?  :      ,    - <i></i> ,       ,    <i></i> .  ,   <i></i>  <i></i> ,      T. <br> <br>    <code><code><code>Predicate -  <i></i> ( getAll(Predicate)       T),  Map&lt;K, V&gt;</code> - <i></i> ( putAll(Map&lt;K, V&gt;)    T -     T  K  V -   ). <br> <br>  ,     <i></i> ,  <i></i>  - ,       ,     ( ,   ) -      . <br> <br>         -    wildcard-      ,      wildcard-   . <br> <br>  PECS-,         <code>MyObjectStore</code>     ,   .  <code>put(K, V)</code>  <code>get(K)</code>    (..       );  <code>putAll(Map&lt;? extends K, ? extends V&gt;)</code>  <code>getAll(Predicate&lt;? super V&gt;)</code>     ,  ;   </code></code></code> <code class="java">getAll(Collection)  - <i></i>   ,    .  <br> <br> Map&lt;K, V&gt; getAll(Collection&lt;K&gt; keys);</code> <br>  <br> <br> <code class="java">Map&lt;K, V&gt; getAll(Collection&lt;? extends K&gt; keys);</code> <br>   ,   API! (,     !) <br> <br>      <br> <i></i>     .    <i></i> -  : <br> <br> <code class="java">interface Factory&lt;T&gt; { /** *      . * * @param args . * @return  . */ T create(Object... args); }</code> <br>   ,   <i></i> ,  <i></i> ,     : <br> <br> <code class="java">interface Cloner&lt;T&gt; { /** *  . * * @param obj  . * @return . */ T clone(T obj); }</code> <br>    <i></i>  ,   ouput-,        (    Java      ). <br> <br>  <br>        PECS (Producer Extends Consumer Super)       API  Java.   ,             ,        API. ,  ,     ,    PECS ,          . <br> <br>  <br> <a href="http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683">Joshua Bloch - Effective Java (2nd Edition)</a> <a href="http://shop.oreilly.com/product/9780596527754.do">Maurice Naftalin, Philip Wadler - Java Generics and Collections</a></code></code> <pre> <code class="hljs xml"><code><code class="java">Predicate  Predicate,      : <br> <br> no suitable method found for getAll(Predicate<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Vehicle</span></span></span><span class="hljs-tag">&gt;</span></span>) <br>   ,    ,  <code>Vehicle</code> -   <code>Car</code> .       <code>Car</code> ,  , ,     <code>Vehicle</code> ,     <code>Car</code> !          <code>Vehicle</code>     <code>Car</code> .       , ,  ,     : <br> <br> <code class="java">final Predicate<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Vehicle</span></span></span><span class="hljs-tag">&gt;</span></span> vp = mgr.getVehiclePredicate(); Collection<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Car</span></span></span><span class="hljs-tag">&gt;</span></span> cars = carsStore.getAll(new Predicate<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Car</span></span></span><span class="hljs-tag">&gt;</span></span>() { @Override public boolean apply(Car exp) { return vp.apply(exp); } });</code> <br>      !       : <br> <br> Collection<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">V</span></span></span><span class="hljs-tag">&gt;</span></span> getAll(Predicate<span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php"> super V&gt; p); </span></span><br><span class="php"><span class="php">  </span></span><code><span class="php"><span class="php">Predicate</span><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php"> super V&gt;</span></span></code><span class="php"><span class="php">  </span><span class="hljs-string"><span class="php"><span class="hljs-string">"  V    V (  Object)"</span></span></span><span class="php">.        ,        .        </span></span><code><span class="php"><span class="php">Vehicle</span></span></code><span class="php"><span class="php">  : </span></span><br><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php"> </span></span><code class="java"><span class="php"><span class="php">MyObjectStore&lt;Long, Car&gt; carsStore = ...; Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(vp);</span></span></code><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">      ,      . </span></span><br><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">  </span></span><code><span class="php"><span class="php">? extends T</span></span></code><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">      ,    . ,   ,    </span></span><code><span class="php"><span class="php">? extends T</span></span></code><span class="php"><span class="php">    .  :    </span></span><code><span class="php"><span class="php">MyObjectStore&lt;Long, Vehicle&gt;</span></span></code><span class="php"><span class="php"> ,         </span></span><code><span class="php"><span class="php">Map&lt;Long, Car&gt;</span></span></code><span class="php"><span class="php"> ( </span></span><code><span class="php"><span class="php">Car</span></span></code><span class="php"><span class="php"> -   </span></span><code><span class="php"><span class="php">Vehicle</span></span></code><span class="php"><span class="php"> ),         : </span></span><br><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php"> </span></span><code class="java"><span class="php"><span class="php">MyObjectStore&lt;Long, Vehicle&gt; carsStore = ...; Map&lt;Long, Car&gt; cars = </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">new</span></span></span><span class="php"> HashMap&lt;Long, Car&gt;(</span><span class="hljs-number"><span class="php"><span class="hljs-number">2</span></span></span><span class="php">); cars.put(</span><span class="hljs-number"><span class="php"><span class="hljs-number">1</span></span></span><span class="php">L, </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">new</span></span></span><span class="php"> Car(</span><span class="hljs-string"><span class="php"><span class="hljs-string">"Audi"</span></span></span><span class="php">, </span><span class="hljs-string"><span class="php"><span class="hljs-string">"A6"</span></span></span><span class="php">, </span><span class="hljs-number"><span class="php"><span class="hljs-number">2011</span></span></span><span class="php">)); cars.put(</span><span class="hljs-number"><span class="php"><span class="hljs-number">2</span></span></span><span class="php">L, </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">new</span></span></span><span class="php"> Car(</span><span class="hljs-string"><span class="php"><span class="hljs-string">"Honda"</span></span></span><span class="php">, </span><span class="hljs-string"><span class="php"><span class="hljs-string">"Civic"</span></span></span><span class="php">, </span><span class="hljs-number"><span class="php"><span class="hljs-number">2012</span></span></span><span class="php">)); carsStore.putAll(cars); </span><span class="hljs-comment"><span class="php"><span class="hljs-comment">//  .</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     , ,     ,     ,  wildcard </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">? extends T</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">void putAll(Map</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K, ? extends V&gt; entries);</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Map</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K, ? extends V&gt;</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   "    K     K     V     V". </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><a name="pecs"></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  PECS - Producer Extends Consumer Super </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     ,       ,      ,          . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   Joshua Bloch  </span></span></span></span><a href="http://books.google.ru/books%3Fid%3Dka2VUBqHiWkC%26pg%3DPA136%26lpg%3DPA136%26dq%3Dbloch%2Beffective%2Bjava%2Bpecs%2Bmnemonic%26source%3Dbl%26ots%3DyYKnPjt-P-%26sig%3DJGT8qexAAldJ5xYPepbBQ5uude0%26hl%3Den%26sa%3DX%26ei%3DCb3GUv-sNIuK5ATM7oD4Dw%26ved%3D0CCgQ6AEwAA"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">PECS (Producer Extends Consumer Super)</span></span></span></span></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,    Java Generics and Collections (Maurice Naftalin, Philip Wadler) - </span></span></span></span><a href="http://books.google.ru/books%3Fid%3DzaoK0Z2STlkC%26pg%3DPA19%26lpg%3DPA19%26dq%3DNaftalin%2Band%2BWadler%2BGet%2Band%2BPut%2BPrinciple%26source%3Dbl%26ots%3D6Xuqgc-XGO%26sig%3DW9eFVjUg2Wi3no0bQS4359Fhu-k%26hl%3Den%26sa%3DX%26ei%3DQLzGUvzMNsXZ4QTE1YGYDw%26ved%3D0CCoQ6AEwAA"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Get and Put Principle</span></span></span></span></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> .     PECS,  .   : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">        (, </span></span></span></span><code><code><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Collection  Predicate),   ,   - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">producer</span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ),   ? extends T</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,    - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">consumer</span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ),   </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">? super T</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> .</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,   ?  :      ,    - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,       ,    </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> .  ,   </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,      T. </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    </span></span></span></span><code><code><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Predicate -  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( getAll(Predicate)       T),  Map&lt;K, V&gt;</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( putAll(Map&lt;K, V&gt;)    T -     T  K  V -   ). </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  ,     </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  - ,       ,     ( ,   ) -      . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">         -    wildcard-      ,      wildcard-   . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  PECS-,         </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">MyObjectStore</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     ,   .  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">put(K, V)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">get(K)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    (..       );  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">putAll(Map</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K, ? extends V&gt;)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">getAll(Predicate</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> super V&gt;)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     ,  ;   </span></span></span></span></code></code></code></code></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">getAll(Collection)  - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   ,    .  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> Map&lt;K, V&gt; getAll(Collection&lt;K&gt; keys);</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Map&lt;K, V&gt; getAll(Collection</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K&gt; keys);</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   ,   API! (,     !) </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">      </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     .    </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> -  : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">interface Factory&lt;T&gt; { /** *      . * * @param args . * @return  . */ T create(Object... args); }</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   ,   </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,     : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">interface Cloner&lt;T&gt; { /** *  . * * @param obj  . * @return . */ T clone(T obj); }</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  ,   ouput-,        (    Java      ). </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">        PECS (Producer Extends Consumer Super)       API  Java.   ,             ,        API. ,  ,     ,    PECS ,          . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><a href="http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Joshua Bloch - Effective Java (2nd Edition)</span></span></span></span></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><a href="http://shop.oreilly.com/product/9780596527754.do"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Maurice Naftalin, Philip Wadler - Java Generics and Collections</span></span></span></span></a></code> </pre> <code><code>Predicate  Predicate,      : <br> <br> no suitable method found for getAll(Predicate&lt;Vehicle&gt;) <br>   ,    ,  <code>Vehicle</code> -   <code>Car</code> .       <code>Car</code> ,  , ,     <code>Vehicle</code> ,     <code>Car</code> !          <code>Vehicle</code>     <code>Car</code> .       , ,  ,     : <br> <br> <code class="java">final Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(new Predicate&lt;Car&gt;() { @Override public boolean apply(Car exp) { return vp.apply(exp); } });</code> <br>      !       : <br> <br> <code class="java">Collection&lt;V&gt; getAll(Predicate&lt;? super V&gt; p);</code> <br>  <code>Predicate&lt;? super V&gt;</code>  "  V    V (  Object)".        ,        .        <code>Vehicle</code>  : <br> <br> <code class="java">MyObjectStore&lt;Long, Car&gt; carsStore = ...; Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(vp);</code> <br>      ,      . <br> <br>  <code>? extends T</code> <br>      ,    . ,   ,    <code>? extends T</code>    .  :    <code>MyObjectStore&lt;Long, Vehicle&gt;</code> ,         <code>Map&lt;Long, Car&gt;</code> ( <code>Car</code> -   <code>Vehicle</code> ),         : <br> <br> <code class="java">MyObjectStore&lt;Long, Vehicle&gt; carsStore = ...; Map&lt;Long, Car&gt; cars = new HashMap&lt;Long, Car&gt;(2); cars.put(1L, new Car("Audi", "A6", 2011)); cars.put(2L, new Car("Honda", "Civic", 2012)); carsStore.putAll(cars); //  .</code> <br>     , ,     ,     ,  wildcard <code>? extends T</code>    : <br> <br> <code class="java">void putAll(Map&lt;? extends K, ? extends V&gt; entries);</code> <br>  <code>Map&lt;? extends K, ? extends V&gt;</code>   "    K     K     V     V". <br> <br> <a name="pecs"></a> <br>  PECS - Producer Extends Consumer Super <br>     ,       ,      ,          . <br> <br>   Joshua Bloch  <a href="http://books.google.ru/books%3Fid%3Dka2VUBqHiWkC%26pg%3DPA136%26lpg%3DPA136%26dq%3Dbloch%2Beffective%2Bjava%2Bpecs%2Bmnemonic%26source%3Dbl%26ots%3DyYKnPjt-P-%26sig%3DJGT8qexAAldJ5xYPepbBQ5uude0%26hl%3Den%26sa%3DX%26ei%3DCb3GUv-sNIuK5ATM7oD4Dw%26ved%3D0CCgQ6AEwAA">PECS (Producer Extends Consumer Super)</a> ,    Java Generics and Collections (Maurice Naftalin, Philip Wadler) - <a href="http://books.google.ru/books%3Fid%3DzaoK0Z2STlkC%26pg%3DPA19%26lpg%3DPA19%26dq%3DNaftalin%2Band%2BWadler%2BGet%2Band%2BPut%2BPrinciple%26source%3Dbl%26ots%3D6Xuqgc-XGO%26sig%3DW9eFVjUg2Wi3no0bQS4359Fhu-k%26hl%3Den%26sa%3DX%26ei%3DQLzGUvzMNsXZ4QTE1YGYDw%26ved%3D0CCoQ6AEwAA">Get and Put Principle</a> .     PECS,  .   : <br> <br>        (, <code><code><code>Collection  Predicate),   ,   - <i></i> ( <i>producer</i> ),   ? extends T</code> ,    - <i></i> ( <i>consumer</i> ),   <code>? super T</code> .</code> <br> <i></i>  <i></i> ,   ?  :      ,    - <i></i> ,       ,    <i></i> .  ,   <i></i>  <i></i> ,      T. <br> <br>    <code><code><code>Predicate -  <i></i> ( getAll(Predicate)       T),  Map&lt;K, V&gt;</code> - <i></i> ( putAll(Map&lt;K, V&gt;)    T -     T  K  V -   ). <br> <br>  ,     <i></i> ,  <i></i>  - ,       ,     ( ,   ) -      . <br> <br>         -    wildcard-      ,      wildcard-   . <br> <br>  PECS-,         <code>MyObjectStore</code>     ,   .  <code>put(K, V)</code>  <code>get(K)</code>    (..       );  <code>putAll(Map&lt;? extends K, ? extends V&gt;)</code>  <code>getAll(Predicate&lt;? super V&gt;)</code>     ,  ;   </code></code></code> <code class="java">getAll(Collection)  - <i></i>   ,    .  <br> <br> Map&lt;K, V&gt; getAll(Collection&lt;K&gt; keys);</code> <br>  <br> <br> <code class="java">Map&lt;K, V&gt; getAll(Collection&lt;? extends K&gt; keys);</code> <br>   ,   API! (,     !) <br> <br>      <br> <i></i>     .    <i></i> -  : <br> <br> <code class="java">interface Factory&lt;T&gt; { /** *      . * * @param args . * @return  . */ T create(Object... args); }</code> <br>   ,   <i></i> ,  <i></i> ,     : <br> <br> <code class="java">interface Cloner&lt;T&gt; { /** *  . * * @param obj  . * @return . */ T clone(T obj); }</code> <br>    <i></i>  ,   ouput-,        (    Java      ). <br> <br>  <br>        PECS (Producer Extends Consumer Super)       API  Java.   ,             ,        API. ,  ,     ,    PECS ,          . <br> <br>  <br> <a href="http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683">Joshua Bloch - Effective Java (2nd Edition)</a> <a href="http://shop.oreilly.com/product/9780596527754.do">Maurice Naftalin, Philip Wadler - Java Generics and Collections</a></code></code> <pre> <code class="hljs xml"><code>Predicate  Predicate,      : <br> <br> no suitable method found for getAll(Predicate<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Vehicle</span></span></span><span class="hljs-tag">&gt;</span></span>) <br>   ,    ,  <code>Vehicle</code> -   <code>Car</code> .       <code>Car</code> ,  , ,     <code>Vehicle</code> ,     <code>Car</code> !          <code>Vehicle</code>     <code>Car</code> .       , ,  ,     : <br> <br> <code class="java">final Predicate<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Vehicle</span></span></span><span class="hljs-tag">&gt;</span></span> vp = mgr.getVehiclePredicate(); Collection<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Car</span></span></span><span class="hljs-tag">&gt;</span></span> cars = carsStore.getAll(new Predicate<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Car</span></span></span><span class="hljs-tag">&gt;</span></span>() { @Override public boolean apply(Car exp) { return vp.apply(exp); } });</code> <br>      !       : <br> <br> <code class="java">Collection<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">V</span></span></span><span class="hljs-tag">&gt;</span></span> getAll(Predicate<span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php"> super V&gt; p);</span></span></code><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">  </span></span><code><span class="php"><span class="php">Predicate</span><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php"> super V&gt;</span></span></code><span class="php"><span class="php">  </span><span class="hljs-string"><span class="php"><span class="hljs-string">"  V    V (  Object)"</span></span></span><span class="php">.        ,        .        </span></span><code><span class="php"><span class="php">Vehicle</span></span></code><span class="php"><span class="php">  : </span></span><br><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php"> </span></span><code class="java"><span class="php"><span class="php">MyObjectStore&lt;Long, Car&gt; carsStore = ...; Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(vp);</span></span></code><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">      ,      . </span></span><br><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">  </span></span><code><span class="php"><span class="php">? extends T</span></span></code><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">      ,    . ,   ,    </span></span><code><span class="php"><span class="php">? extends T</span></span></code><span class="php"><span class="php">    .  :    </span></span><code><span class="php"><span class="php">MyObjectStore&lt;Long, Vehicle&gt;</span></span></code><span class="php"><span class="php"> ,         </span></span><code><span class="php"><span class="php">Map&lt;Long, Car&gt;</span></span></code><span class="php"><span class="php"> ( </span></span><code><span class="php"><span class="php">Car</span></span></code><span class="php"><span class="php"> -   </span></span><code><span class="php"><span class="php">Vehicle</span></span></code><span class="php"><span class="php"> ),         : </span></span><br><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php"> </span></span><code class="java"><span class="php"><span class="php">MyObjectStore&lt;Long, Vehicle&gt; carsStore = ...; Map&lt;Long, Car&gt; cars = </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">new</span></span></span><span class="php"> HashMap&lt;Long, Car&gt;(</span><span class="hljs-number"><span class="php"><span class="hljs-number">2</span></span></span><span class="php">); cars.put(</span><span class="hljs-number"><span class="php"><span class="hljs-number">1</span></span></span><span class="php">L, </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">new</span></span></span><span class="php"> Car(</span><span class="hljs-string"><span class="php"><span class="hljs-string">"Audi"</span></span></span><span class="php">, </span><span class="hljs-string"><span class="php"><span class="hljs-string">"A6"</span></span></span><span class="php">, </span><span class="hljs-number"><span class="php"><span class="hljs-number">2011</span></span></span><span class="php">)); cars.put(</span><span class="hljs-number"><span class="php"><span class="hljs-number">2</span></span></span><span class="php">L, </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">new</span></span></span><span class="php"> Car(</span><span class="hljs-string"><span class="php"><span class="hljs-string">"Honda"</span></span></span><span class="php">, </span><span class="hljs-string"><span class="php"><span class="hljs-string">"Civic"</span></span></span><span class="php">, </span><span class="hljs-number"><span class="php"><span class="hljs-number">2012</span></span></span><span class="php">)); carsStore.putAll(cars); </span><span class="hljs-comment"><span class="php"><span class="hljs-comment">//  .</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     , ,     ,     ,  wildcard </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">? extends T</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">void putAll(Map</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K, ? extends V&gt; entries);</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Map</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K, ? extends V&gt;</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   "    K     K     V     V". </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><a name="pecs"></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  PECS - Producer Extends Consumer Super </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     ,       ,      ,          . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   Joshua Bloch  </span></span></span></span><a href="http://books.google.ru/books%3Fid%3Dka2VUBqHiWkC%26pg%3DPA136%26lpg%3DPA136%26dq%3Dbloch%2Beffective%2Bjava%2Bpecs%2Bmnemonic%26source%3Dbl%26ots%3DyYKnPjt-P-%26sig%3DJGT8qexAAldJ5xYPepbBQ5uude0%26hl%3Den%26sa%3DX%26ei%3DCb3GUv-sNIuK5ATM7oD4Dw%26ved%3D0CCgQ6AEwAA"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">PECS (Producer Extends Consumer Super)</span></span></span></span></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,    Java Generics and Collections (Maurice Naftalin, Philip Wadler) - </span></span></span></span><a href="http://books.google.ru/books%3Fid%3DzaoK0Z2STlkC%26pg%3DPA19%26lpg%3DPA19%26dq%3DNaftalin%2Band%2BWadler%2BGet%2Band%2BPut%2BPrinciple%26source%3Dbl%26ots%3D6Xuqgc-XGO%26sig%3DW9eFVjUg2Wi3no0bQS4359Fhu-k%26hl%3Den%26sa%3DX%26ei%3DQLzGUvzMNsXZ4QTE1YGYDw%26ved%3D0CCoQ6AEwAA"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Get and Put Principle</span></span></span></span></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> .     PECS,  .   : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">        (, </span></span></span></span><code><code><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Collection  Predicate),   ,   - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">producer</span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ),   ? extends T</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,    - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">consumer</span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ),   </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">? super T</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> .</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,   ?  :      ,    - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,       ,    </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> .  ,   </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,      T. </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    </span></span></span></span><code><code><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Predicate -  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( getAll(Predicate)       T),  Map&lt;K, V&gt;</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( putAll(Map&lt;K, V&gt;)    T -     T  K  V -   ). </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  ,     </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  - ,       ,     ( ,   ) -      . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">         -    wildcard-      ,      wildcard-   . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  PECS-,         </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">MyObjectStore</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     ,   .  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">put(K, V)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">get(K)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    (..       );  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">putAll(Map</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K, ? extends V&gt;)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">getAll(Predicate</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> super V&gt;)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     ,  ;   </span></span></span></span></code></code></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">getAll(Collection)  - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   ,    .  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> Map&lt;K, V&gt; getAll(Collection&lt;K&gt; keys);</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Map&lt;K, V&gt; getAll(Collection</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K&gt; keys);</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   ,   API! (,     !) </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">      </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     .    </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> -  : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">interface Factory&lt;T&gt; { /** *      . * * @param args . * @return  . */ T create(Object... args); }</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   ,   </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,     : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">interface Cloner&lt;T&gt; { /** *  . * * @param obj  . * @return . */ T clone(T obj); }</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  ,   ouput-,        (    Java      ). </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">        PECS (Producer Extends Consumer Super)       API  Java.   ,             ,        API. ,  ,     ,    PECS ,          . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><a href="http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Joshua Bloch - Effective Java (2nd Edition)</span></span></span></span></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><a href="http://shop.oreilly.com/product/9780596527754.do"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Maurice Naftalin, Philip Wadler - Java Generics and Collections</span></span></span></span></a></code></code> </pre> <code><code>Predicate  Predicate,      : <br> <br> no suitable method found for getAll(Predicate&lt;Vehicle&gt;) <br>   ,    ,  <code>Vehicle</code> -   <code>Car</code> .       <code>Car</code> ,  , ,     <code>Vehicle</code> ,     <code>Car</code> !          <code>Vehicle</code>     <code>Car</code> .       , ,  ,     : <br> <br> <code class="java">final Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(new Predicate&lt;Car&gt;() { @Override public boolean apply(Car exp) { return vp.apply(exp); } });</code> <br>      !       : <br> <br> <code class="java">Collection&lt;V&gt; getAll(Predicate&lt;? super V&gt; p);</code> <br>  <code>Predicate&lt;? super V&gt;</code>  "  V    V (  Object)".        ,        .        <code>Vehicle</code>  : <br> <br> <code class="java">MyObjectStore&lt;Long, Car&gt; carsStore = ...; Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(vp);</code> <br>      ,      . <br> <br>  <code>? extends T</code> <br>      ,    . ,   ,    <code>? extends T</code>    .  :    <code>MyObjectStore&lt;Long, Vehicle&gt;</code> ,         <code>Map&lt;Long, Car&gt;</code> ( <code>Car</code> -   <code>Vehicle</code> ),         : <br> <br> <code class="java">MyObjectStore&lt;Long, Vehicle&gt; carsStore = ...; Map&lt;Long, Car&gt; cars = new HashMap&lt;Long, Car&gt;(2); cars.put(1L, new Car("Audi", "A6", 2011)); cars.put(2L, new Car("Honda", "Civic", 2012)); carsStore.putAll(cars); //  .</code> <br>     , ,     ,     ,  wildcard <code>? extends T</code>    : <br> <br> <code class="java">void putAll(Map&lt;? extends K, ? extends V&gt; entries);</code> <br>  <code>Map&lt;? extends K, ? extends V&gt;</code>   "    K     K     V     V". <br> <br> <a name="pecs"></a> <br>  PECS - Producer Extends Consumer Super <br>     ,       ,      ,          . <br> <br>   Joshua Bloch  <a href="http://books.google.ru/books%3Fid%3Dka2VUBqHiWkC%26pg%3DPA136%26lpg%3DPA136%26dq%3Dbloch%2Beffective%2Bjava%2Bpecs%2Bmnemonic%26source%3Dbl%26ots%3DyYKnPjt-P-%26sig%3DJGT8qexAAldJ5xYPepbBQ5uude0%26hl%3Den%26sa%3DX%26ei%3DCb3GUv-sNIuK5ATM7oD4Dw%26ved%3D0CCgQ6AEwAA">PECS (Producer Extends Consumer Super)</a> ,    Java Generics and Collections (Maurice Naftalin, Philip Wadler) - <a href="http://books.google.ru/books%3Fid%3DzaoK0Z2STlkC%26pg%3DPA19%26lpg%3DPA19%26dq%3DNaftalin%2Band%2BWadler%2BGet%2Band%2BPut%2BPrinciple%26source%3Dbl%26ots%3D6Xuqgc-XGO%26sig%3DW9eFVjUg2Wi3no0bQS4359Fhu-k%26hl%3Den%26sa%3DX%26ei%3DQLzGUvzMNsXZ4QTE1YGYDw%26ved%3D0CCoQ6AEwAA">Get and Put Principle</a> .     PECS,  .   : <br> <br>        (, <code><code><code>Collection  Predicate),   ,   - <i></i> ( <i>producer</i> ),   ? extends T</code> ,    - <i></i> ( <i>consumer</i> ),   <code>? super T</code> .</code> <br> <i></i>  <i></i> ,   ?  :      ,    - <i></i> ,       ,    <i></i> .  ,   <i></i>  <i></i> ,      T. <br> <br>    <code><code><code>Predicate -  <i></i> ( getAll(Predicate)       T),  Map&lt;K, V&gt;</code> - <i></i> ( putAll(Map&lt;K, V&gt;)    T -     T  K  V -   ). <br> <br>  ,     <i></i> ,  <i></i>  - ,       ,     ( ,   ) -      . <br> <br>         -    wildcard-      ,      wildcard-   . <br> <br>  PECS-,         <code>MyObjectStore</code>     ,   .  <code>put(K, V)</code>  <code>get(K)</code>    (..       );  <code>putAll(Map&lt;? extends K, ? extends V&gt;)</code>  <code>getAll(Predicate&lt;? super V&gt;)</code>     ,  ;   </code></code></code> <code class="java">getAll(Collection)  - <i></i>   ,    .  <br> <br> Map&lt;K, V&gt; getAll(Collection&lt;K&gt; keys);</code> <br>  <br> <br> <code class="java">Map&lt;K, V&gt; getAll(Collection&lt;? extends K&gt; keys);</code> <br>   ,   API! (,     !) <br> <br>      <br> <i></i>     .    <i></i> -  : <br> <br> <code class="java">interface Factory&lt;T&gt; { /** *      . * * @param args . * @return  . */ T create(Object... args); }</code> <br>   ,   <i></i> ,  <i></i> ,     : <br> <br> <code class="java">interface Cloner&lt;T&gt; { /** *  . * * @param obj  . * @return . */ T clone(T obj); }</code> <br>    <i></i>  ,   ouput-,        (    Java      ). <br> <br>  <br>        PECS (Producer Extends Consumer Super)       API  Java.   ,             ,        API. ,  ,     ,    PECS ,          . <br> <br>  <br> <a href="http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683">Joshua Bloch - Effective Java (2nd Edition)</a> <a href="http://shop.oreilly.com/product/9780596527754.do">Maurice Naftalin, Philip Wadler - Java Generics and Collections</a></code></code> <h4> <code><code>Predicate  Predicate,      : <br> <br> no suitable method found for getAll(Predicate&lt;Vehicle&gt;) <br>   ,    ,  <code>Vehicle</code> -   <code>Car</code> .       <code>Car</code> ,  , ,     <code>Vehicle</code> ,     <code>Car</code> !          <code>Vehicle</code>     <code>Car</code> .       , ,  ,     : <br> <br> <code class="java">final Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(new Predicate&lt;Car&gt;() { @Override public boolean apply(Car exp) { return vp.apply(exp); } });</code> <br>      !       : <br> <br> <code class="java">Collection&lt;V&gt; getAll(Predicate&lt;? super V&gt; p);</code> <br>  <code>Predicate&lt;? super V&gt;</code>  "  V    V (  Object)".        ,        .        <code>Vehicle</code>  : <br> <br> <code class="java">MyObjectStore&lt;Long, Car&gt; carsStore = ...; Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(vp);</code> <br>      ,      . <br> <br>  <code>? extends T</code> <br>      ,    . ,   ,    <code>? extends T</code>    .  :    <code>MyObjectStore&lt;Long, Vehicle&gt;</code> ,         <code>Map&lt;Long, Car&gt;</code> ( <code>Car</code> -   <code>Vehicle</code> ),         : <br> <br> <code class="java">MyObjectStore&lt;Long, Vehicle&gt; carsStore = ...; Map&lt;Long, Car&gt; cars = new HashMap&lt;Long, Car&gt;(2); cars.put(1L, new Car("Audi", "A6", 2011)); cars.put(2L, new Car("Honda", "Civic", 2012)); carsStore.putAll(cars); //  .</code> <br>     , ,     ,     ,  wildcard <code>? extends T</code>    : <br> <br> <code class="java">void putAll(Map&lt;? extends K, ? extends V&gt; entries);</code> <br>  <code>Map&lt;? extends K, ? extends V&gt;</code>   "    K     K     V     V". <br> <br> <a name="pecs"></a> <br>  PECS - Producer Extends Consumer Super <br>     ,       ,      ,          . <br> <br>   Joshua Bloch  <a href="http://books.google.ru/books%3Fid%3Dka2VUBqHiWkC%26pg%3DPA136%26lpg%3DPA136%26dq%3Dbloch%2Beffective%2Bjava%2Bpecs%2Bmnemonic%26source%3Dbl%26ots%3DyYKnPjt-P-%26sig%3DJGT8qexAAldJ5xYPepbBQ5uude0%26hl%3Den%26sa%3DX%26ei%3DCb3GUv-sNIuK5ATM7oD4Dw%26ved%3D0CCgQ6AEwAA">PECS (Producer Extends Consumer Super)</a> ,    Java Generics and Collections (Maurice Naftalin, Philip Wadler) - <a href="http://books.google.ru/books%3Fid%3DzaoK0Z2STlkC%26pg%3DPA19%26lpg%3DPA19%26dq%3DNaftalin%2Band%2BWadler%2BGet%2Band%2BPut%2BPrinciple%26source%3Dbl%26ots%3D6Xuqgc-XGO%26sig%3DW9eFVjUg2Wi3no0bQS4359Fhu-k%26hl%3Den%26sa%3DX%26ei%3DQLzGUvzMNsXZ4QTE1YGYDw%26ved%3D0CCoQ6AEwAA">Get and Put Principle</a> .     PECS,  .   : <br> <br>        (, <code><code><code>Collection  Predicate),   ,   - <i></i> ( <i>producer</i> ),   ? extends T</code> ,    - <i></i> ( <i>consumer</i> ),   <code>? super T</code> .</code> <br> <i></i>  <i></i> ,   ?  :      ,    - <i></i> ,       ,    <i></i> .  ,   <i></i>  <i></i> ,      T. <br> <br>    <code><code><code>Predicate -  <i></i> ( getAll(Predicate)       T),  Map&lt;K, V&gt;</code> - <i></i> ( putAll(Map&lt;K, V&gt;)    T -     T  K  V -   ). <br> <br>  ,     <i></i> ,  <i></i>  - ,       ,     ( ,   ) -      . <br> <br>         -    wildcard-      ,      wildcard-   . <br> <br>  PECS-,         <code>MyObjectStore</code>     ,   .  <code>put(K, V)</code>  <code>get(K)</code>    (..       );  <code>putAll(Map&lt;? extends K, ? extends V&gt;)</code>  <code>getAll(Predicate&lt;? super V&gt;)</code>     ,  ;   </code></code></code> <code class="java">getAll(Collection)  - <i></i>   ,    .  <br> <br> Map&lt;K, V&gt; getAll(Collection&lt;K&gt; keys);</code> <br>  <br> <br> <code class="java">Map&lt;K, V&gt; getAll(Collection&lt;? extends K&gt; keys);</code> <br>   ,   API! (,     !) <br> <br>      <br> <i></i>     .    <i></i> -  : <br> <br> <code class="java">interface Factory&lt;T&gt; { /** *      . * * @param args . * @return  . */ T create(Object... args); }</code> <br>   ,   <i></i> ,  <i></i> ,     : <br> <br> <code class="java">interface Cloner&lt;T&gt; { /** *  . * * @param obj  . * @return . */ T clone(T obj); }</code> <br>    <i></i>  ,   ouput-,        (    Java      ). <br> <br>  <br>        PECS (Producer Extends Consumer Super)       API  Java.   ,             ,        API. ,  ,     ,    PECS ,          . <br> <br>  <br> <a href="http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683">Joshua Bloch - Effective Java (2nd Edition)</a> <a href="http://shop.oreilly.com/product/9780596527754.do">Maurice Naftalin, Philip Wadler - Java Generics and Collections</a></code></code> </h4> <code><code>Predicate  Predicate,      : <br> <br> no suitable method found for getAll(Predicate&lt;Vehicle&gt;) <br>   ,    ,  <code>Vehicle</code> -   <code>Car</code> .       <code>Car</code> ,  , ,     <code>Vehicle</code> ,     <code>Car</code> !          <code>Vehicle</code>     <code>Car</code> .       , ,  ,     : <br> <br> <code class="java">final Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(new Predicate&lt;Car&gt;() { @Override public boolean apply(Car exp) { return vp.apply(exp); } });</code> <br>      !       : <br> <br> <code class="java">Collection&lt;V&gt; getAll(Predicate&lt;? super V&gt; p);</code> <br>  <code>Predicate&lt;? super V&gt;</code>  "  V    V (  Object)".        ,        .        <code>Vehicle</code>  : <br> <br> <code class="java">MyObjectStore&lt;Long, Car&gt; carsStore = ...; Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(vp);</code> <br>      ,      . <br> <br>  <code>? extends T</code> <br>      ,    . ,   ,    <code>? extends T</code>    .  :    <code>MyObjectStore&lt;Long, Vehicle&gt;</code> ,         <code>Map&lt;Long, Car&gt;</code> ( <code>Car</code> -   <code>Vehicle</code> ),         : <br> <br> <code class="java">MyObjectStore&lt;Long, Vehicle&gt; carsStore = ...; Map&lt;Long, Car&gt; cars = new HashMap&lt;Long, Car&gt;(2); cars.put(1L, new Car("Audi", "A6", 2011)); cars.put(2L, new Car("Honda", "Civic", 2012)); carsStore.putAll(cars); //  .</code> <br>     , ,     ,     ,  wildcard <code>? extends T</code>    : <br> <br> <code class="java">void putAll(Map&lt;? extends K, ? extends V&gt; entries);</code> <br>  <code>Map&lt;? extends K, ? extends V&gt;</code>   "    K     K     V     V". <br> <br> <a name="pecs"></a> <br>  PECS - Producer Extends Consumer Super <br>     ,       ,      ,          . <br> <br>   Joshua Bloch  <a href="http://books.google.ru/books%3Fid%3Dka2VUBqHiWkC%26pg%3DPA136%26lpg%3DPA136%26dq%3Dbloch%2Beffective%2Bjava%2Bpecs%2Bmnemonic%26source%3Dbl%26ots%3DyYKnPjt-P-%26sig%3DJGT8qexAAldJ5xYPepbBQ5uude0%26hl%3Den%26sa%3DX%26ei%3DCb3GUv-sNIuK5ATM7oD4Dw%26ved%3D0CCgQ6AEwAA">PECS (Producer Extends Consumer Super)</a> ,    Java Generics and Collections (Maurice Naftalin, Philip Wadler) - <a href="http://books.google.ru/books%3Fid%3DzaoK0Z2STlkC%26pg%3DPA19%26lpg%3DPA19%26dq%3DNaftalin%2Band%2BWadler%2BGet%2Band%2BPut%2BPrinciple%26source%3Dbl%26ots%3D6Xuqgc-XGO%26sig%3DW9eFVjUg2Wi3no0bQS4359Fhu-k%26hl%3Den%26sa%3DX%26ei%3DQLzGUvzMNsXZ4QTE1YGYDw%26ved%3D0CCoQ6AEwAA">Get and Put Principle</a> .     PECS,  .   : <br> <br>        (, <code><code><code>Collection  Predicate),   ,   - <i></i> ( <i>producer</i> ),   ? extends T</code> ,    - <i></i> ( <i>consumer</i> ),   <code>? super T</code> .</code> <br> <i></i>  <i></i> ,   ?  :      ,    - <i></i> ,       ,    <i></i> .  ,   <i></i>  <i></i> ,      T. <br> <br>    <code><code><code>Predicate -  <i></i> ( getAll(Predicate)       T),  Map&lt;K, V&gt;</code> - <i></i> ( putAll(Map&lt;K, V&gt;)    T -     T  K  V -   ). <br> <br>  ,     <i></i> ,  <i></i>  - ,       ,     ( ,   ) -      . <br> <br>         -    wildcard-      ,      wildcard-   . <br> <br>  PECS-,         <code>MyObjectStore</code>     ,   .  <code>put(K, V)</code>  <code>get(K)</code>    (..       );  <code>putAll(Map&lt;? extends K, ? extends V&gt;)</code>  <code>getAll(Predicate&lt;? super V&gt;)</code>     ,  ;   </code></code></code> <code class="java">getAll(Collection)  - <i></i>   ,    .  <br> <br> Map&lt;K, V&gt; getAll(Collection&lt;K&gt; keys);</code> <br>  <br> <br> <code class="java">Map&lt;K, V&gt; getAll(Collection&lt;? extends K&gt; keys);</code> <br>   ,   API! (,     !) <br> <br>      <br> <i></i>     .    <i></i> -  : <br> <br> <code class="java">interface Factory&lt;T&gt; { /** *      . * * @param args . * @return  . */ T create(Object... args); }</code> <br>   ,   <i></i> ,  <i></i> ,     : <br> <br> <code class="java">interface Cloner&lt;T&gt; { /** *  . * * @param obj  . * @return . */ T clone(T obj); }</code> <br>    <i></i>  ,   ouput-,        (    Java      ). <br> <br>  <br>        PECS (Producer Extends Consumer Super)       API  Java.   ,             ,        API. ,  ,     ,    PECS ,          . <br> <br>  <br> <a href="http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683">Joshua Bloch - Effective Java (2nd Edition)</a> <a href="http://shop.oreilly.com/product/9780596527754.do">Maurice Naftalin, Philip Wadler - Java Generics and Collections</a></code></code> <pre> <code class="hljs xml"><code>Predicate  Predicate,      : <br> <br> no suitable method found for getAll(Predicate<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Vehicle</span></span></span><span class="hljs-tag">&gt;</span></span>) <br>   ,    ,  <code>Vehicle</code> -   <code>Car</code> .       <code>Car</code> ,  , ,     <code>Vehicle</code> ,     <code>Car</code> !          <code>Vehicle</code>     <code>Car</code> .       , ,  ,     : <br> <br> <code class="java">final Predicate<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Vehicle</span></span></span><span class="hljs-tag">&gt;</span></span> vp = mgr.getVehiclePredicate(); Collection<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Car</span></span></span><span class="hljs-tag">&gt;</span></span> cars = carsStore.getAll(new Predicate<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Car</span></span></span><span class="hljs-tag">&gt;</span></span>() { @Override public boolean apply(Car exp) { return vp.apply(exp); } });</code> <br>      !       : <br> <br> <code class="java">Collection<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">V</span></span></span><span class="hljs-tag">&gt;</span></span> getAll(Predicate<span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php"> super V&gt; p);</span></span></code><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">  </span></span><code><span class="php"><span class="php">Predicate</span><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php"> super V&gt;</span></span></code><span class="php"><span class="php">  </span><span class="hljs-string"><span class="php"><span class="hljs-string">"  V    V (  Object)"</span></span></span><span class="php">.        ,        .        </span></span><code><span class="php"><span class="php">Vehicle</span></span></code><span class="php"><span class="php">  : </span></span><br><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php"> </span></span><code class="java"><span class="php"><span class="php">MyObjectStore&lt;Long, Car&gt; carsStore = ...; Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(vp);</span></span></code><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">      ,      . </span></span><br><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">  </span></span><code><span class="php"><span class="php">? extends T</span></span></code><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">      ,    . ,   ,    </span></span><code><span class="php"><span class="php">? extends T</span></span></code><span class="php"><span class="php">    .  :    </span></span><code><span class="php"><span class="php">MyObjectStore&lt;Long, Vehicle&gt;</span></span></code><span class="php"><span class="php"> ,         </span></span><code><span class="php"><span class="php">Map&lt;Long, Car&gt;</span></span></code><span class="php"><span class="php"> ( </span></span><code><span class="php"><span class="php">Car</span></span></code><span class="php"><span class="php"> -   </span></span><code><span class="php"><span class="php">Vehicle</span></span></code><span class="php"><span class="php"> ),         : </span></span><br><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php"> </span></span><code class="java"><span class="php"><span class="php">MyObjectStore&lt;Long, Vehicle&gt; carsStore = ...; Map&lt;Long, Car&gt; cars = </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">new</span></span></span><span class="php"> HashMap&lt;Long, Car&gt;(</span><span class="hljs-number"><span class="php"><span class="hljs-number">2</span></span></span><span class="php">); cars.put(</span><span class="hljs-number"><span class="php"><span class="hljs-number">1</span></span></span><span class="php">L, </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">new</span></span></span><span class="php"> Car(</span><span class="hljs-string"><span class="php"><span class="hljs-string">"Audi"</span></span></span><span class="php">, </span><span class="hljs-string"><span class="php"><span class="hljs-string">"A6"</span></span></span><span class="php">, </span><span class="hljs-number"><span class="php"><span class="hljs-number">2011</span></span></span><span class="php">)); cars.put(</span><span class="hljs-number"><span class="php"><span class="hljs-number">2</span></span></span><span class="php">L, </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">new</span></span></span><span class="php"> Car(</span><span class="hljs-string"><span class="php"><span class="hljs-string">"Honda"</span></span></span><span class="php">, </span><span class="hljs-string"><span class="php"><span class="hljs-string">"Civic"</span></span></span><span class="php">, </span><span class="hljs-number"><span class="php"><span class="hljs-number">2012</span></span></span><span class="php">)); carsStore.putAll(cars); </span><span class="hljs-comment"><span class="php"><span class="hljs-comment">//  .</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     , ,     ,     ,  wildcard </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">? extends T</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">void putAll(Map</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K, ? extends V&gt; entries);</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Map</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K, ? extends V&gt;</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   "    K     K     V     V". </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><a name="pecs"></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  PECS - Producer Extends Consumer Super </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     ,       ,      ,          . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   Joshua Bloch  </span></span></span></span><a href="http://books.google.ru/books%3Fid%3Dka2VUBqHiWkC%26pg%3DPA136%26lpg%3DPA136%26dq%3Dbloch%2Beffective%2Bjava%2Bpecs%2Bmnemonic%26source%3Dbl%26ots%3DyYKnPjt-P-%26sig%3DJGT8qexAAldJ5xYPepbBQ5uude0%26hl%3Den%26sa%3DX%26ei%3DCb3GUv-sNIuK5ATM7oD4Dw%26ved%3D0CCgQ6AEwAA"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">PECS (Producer Extends Consumer Super)</span></span></span></span></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,    Java Generics and Collections (Maurice Naftalin, Philip Wadler) - </span></span></span></span><a href="http://books.google.ru/books%3Fid%3DzaoK0Z2STlkC%26pg%3DPA19%26lpg%3DPA19%26dq%3DNaftalin%2Band%2BWadler%2BGet%2Band%2BPut%2BPrinciple%26source%3Dbl%26ots%3D6Xuqgc-XGO%26sig%3DW9eFVjUg2Wi3no0bQS4359Fhu-k%26hl%3Den%26sa%3DX%26ei%3DQLzGUvzMNsXZ4QTE1YGYDw%26ved%3D0CCoQ6AEwAA"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Get and Put Principle</span></span></span></span></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> .     PECS,  .   : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">        (, </span></span></span></span><code><code><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Collection  Predicate),   ,   - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">producer</span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ),   ? extends T</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,    - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">consumer</span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ),   </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">? super T</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> .</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,   ?  :      ,    - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,       ,    </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> .  ,   </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,      T. </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    </span></span></span></span><code><code><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Predicate -  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( getAll(Predicate)       T),  Map&lt;K, V&gt;</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( putAll(Map&lt;K, V&gt;)    T -     T  K  V -   ). </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  ,     </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  - ,       ,     ( ,   ) -      . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">         -    wildcard-      ,      wildcard-   . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  PECS-,         </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">MyObjectStore</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     ,   .  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">put(K, V)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">get(K)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    (..       );  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">putAll(Map</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K, ? extends V&gt;)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">getAll(Predicate</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> super V&gt;)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     ,  ;   </span></span></span></span></code></code></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">getAll(Collection)  - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   ,    .  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> Map&lt;K, V&gt; getAll(Collection&lt;K&gt; keys);</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Map&lt;K, V&gt; getAll(Collection</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K&gt; keys);</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   ,   API! (,     !) </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">      </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     .    </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> -  : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">interface Factory&lt;T&gt; { /** *      . * * @param args . * @return  . */ T create(Object... args); }</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   ,   </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,     : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">interface Cloner&lt;T&gt; { /** *  . * * @param obj  . * @return . */ T clone(T obj); }</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  ,   ouput-,        (    Java      ). </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">        PECS (Producer Extends Consumer Super)       API  Java.   ,             ,        API. ,  ,     ,    PECS ,          . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><a href="http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Joshua Bloch - Effective Java (2nd Edition)</span></span></span></span></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><a href="http://shop.oreilly.com/product/9780596527754.do"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Maurice Naftalin, Philip Wadler - Java Generics and Collections</span></span></span></span></a></code></code> </pre> <code><code>Predicate  Predicate,      : <br> <br> no suitable method found for getAll(Predicate&lt;Vehicle&gt;) <br>   ,    ,  <code>Vehicle</code> -   <code>Car</code> .       <code>Car</code> ,  , ,     <code>Vehicle</code> ,     <code>Car</code> !          <code>Vehicle</code>     <code>Car</code> .       , ,  ,     : <br> <br> <code class="java">final Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(new Predicate&lt;Car&gt;() { @Override public boolean apply(Car exp) { return vp.apply(exp); } });</code> <br>      !       : <br> <br> <code class="java">Collection&lt;V&gt; getAll(Predicate&lt;? super V&gt; p);</code> <br>  <code>Predicate&lt;? super V&gt;</code>  "  V    V (  Object)".        ,        .        <code>Vehicle</code>  : <br> <br> <code class="java">MyObjectStore&lt;Long, Car&gt; carsStore = ...; Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(vp);</code> <br>      ,      . <br> <br>  <code>? extends T</code> <br>      ,    . ,   ,    <code>? extends T</code>    .  :    <code>MyObjectStore&lt;Long, Vehicle&gt;</code> ,         <code>Map&lt;Long, Car&gt;</code> ( <code>Car</code> -   <code>Vehicle</code> ),         : <br> <br> <code class="java">MyObjectStore&lt;Long, Vehicle&gt; carsStore = ...; Map&lt;Long, Car&gt; cars = new HashMap&lt;Long, Car&gt;(2); cars.put(1L, new Car("Audi", "A6", 2011)); cars.put(2L, new Car("Honda", "Civic", 2012)); carsStore.putAll(cars); //  .</code> <br>     , ,     ,     ,  wildcard <code>? extends T</code>    : <br> <br> <code class="java">void putAll(Map&lt;? extends K, ? extends V&gt; entries);</code> <br>  <code>Map&lt;? extends K, ? extends V&gt;</code>   "    K     K     V     V". <br> <br> <a name="pecs"></a> <br>  PECS - Producer Extends Consumer Super <br>     ,       ,      ,          . <br> <br>   Joshua Bloch  <a href="http://books.google.ru/books%3Fid%3Dka2VUBqHiWkC%26pg%3DPA136%26lpg%3DPA136%26dq%3Dbloch%2Beffective%2Bjava%2Bpecs%2Bmnemonic%26source%3Dbl%26ots%3DyYKnPjt-P-%26sig%3DJGT8qexAAldJ5xYPepbBQ5uude0%26hl%3Den%26sa%3DX%26ei%3DCb3GUv-sNIuK5ATM7oD4Dw%26ved%3D0CCgQ6AEwAA">PECS (Producer Extends Consumer Super)</a> ,    Java Generics and Collections (Maurice Naftalin, Philip Wadler) - <a href="http://books.google.ru/books%3Fid%3DzaoK0Z2STlkC%26pg%3DPA19%26lpg%3DPA19%26dq%3DNaftalin%2Band%2BWadler%2BGet%2Band%2BPut%2BPrinciple%26source%3Dbl%26ots%3D6Xuqgc-XGO%26sig%3DW9eFVjUg2Wi3no0bQS4359Fhu-k%26hl%3Den%26sa%3DX%26ei%3DQLzGUvzMNsXZ4QTE1YGYDw%26ved%3D0CCoQ6AEwAA">Get and Put Principle</a> .     PECS,  .   : <br> <br>        (, <code><code><code>Collection  Predicate),   ,   - <i></i> ( <i>producer</i> ),   ? extends T</code> ,    - <i></i> ( <i>consumer</i> ),   <code>? super T</code> .</code> <br> <i></i>  <i></i> ,   ?  :      ,    - <i></i> ,       ,    <i></i> .  ,   <i></i>  <i></i> ,      T. <br> <br>    <code><code><code>Predicate -  <i></i> ( getAll(Predicate)       T),  Map&lt;K, V&gt;</code> - <i></i> ( putAll(Map&lt;K, V&gt;)    T -     T  K  V -   ). <br> <br>  ,     <i></i> ,  <i></i>  - ,       ,     ( ,   ) -      . <br> <br>         -    wildcard-      ,      wildcard-   . <br> <br>  PECS-,         <code>MyObjectStore</code>     ,   .  <code>put(K, V)</code>  <code>get(K)</code>    (..       );  <code>putAll(Map&lt;? extends K, ? extends V&gt;)</code>  <code>getAll(Predicate&lt;? super V&gt;)</code>     ,  ;   </code></code></code> <code class="java">getAll(Collection)  - <i></i>   ,    .  <br> <br> Map&lt;K, V&gt; getAll(Collection&lt;K&gt; keys);</code> <br>  <br> <br> <code class="java">Map&lt;K, V&gt; getAll(Collection&lt;? extends K&gt; keys);</code> <br>   ,   API! (,     !) <br> <br>      <br> <i></i>     .    <i></i> -  : <br> <br> <code class="java">interface Factory&lt;T&gt; { /** *      . * * @param args . * @return  . */ T create(Object... args); }</code> <br>   ,   <i></i> ,  <i></i> ,     : <br> <br> <code class="java">interface Cloner&lt;T&gt; { /** *  . * * @param obj  . * @return . */ T clone(T obj); }</code> <br>    <i></i>  ,   ouput-,        (    Java      ). <br> <br>  <br>        PECS (Producer Extends Consumer Super)       API  Java.   ,             ,        API. ,  ,     ,    PECS ,          . <br> <br>  <br> <a href="http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683">Joshua Bloch - Effective Java (2nd Edition)</a> <a href="http://shop.oreilly.com/product/9780596527754.do">Maurice Naftalin, Philip Wadler - Java Generics and Collections</a></code></code> <pre> <code class="hljs xml"><code><code class="java">Predicate  Predicate,      : <br> <br> no suitable method found for getAll(Predicate<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Vehicle</span></span></span><span class="hljs-tag">&gt;</span></span>) <br>   ,    ,  <code>Vehicle</code> -   <code>Car</code> .       <code>Car</code> ,  , ,     <code>Vehicle</code> ,     <code>Car</code> !          <code>Vehicle</code>     <code>Car</code> .       , ,  ,     : <br> <br> <code class="java">final Predicate<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Vehicle</span></span></span><span class="hljs-tag">&gt;</span></span> vp = mgr.getVehiclePredicate(); Collection<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Car</span></span></span><span class="hljs-tag">&gt;</span></span> cars = carsStore.getAll(new Predicate<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Car</span></span></span><span class="hljs-tag">&gt;</span></span>() { @Override public boolean apply(Car exp) { return vp.apply(exp); } });</code> <br>      !       : <br> <br> <code class="java">Collection<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">V</span></span></span><span class="hljs-tag">&gt;</span></span> getAll(Predicate<span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php"> super V&gt; p);</span></span></code><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">  </span></span><code><span class="php"><span class="php">Predicate</span><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php"> super V&gt;</span></span></code><span class="php"><span class="php">  </span><span class="hljs-string"><span class="php"><span class="hljs-string">"  V    V (  Object)"</span></span></span><span class="php">.        ,        .        </span></span><code><span class="php"><span class="php">Vehicle</span></span></code><span class="php"><span class="php">  : </span></span><br><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php"> </span></span><code class="java"><span class="php"><span class="php">MyObjectStore&lt;Long, Car&gt; carsStore = ...; Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(vp);</span></span></code><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">      ,      . </span></span><br><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">  </span></span><code><span class="php"><span class="php">? extends T</span></span></code><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">      ,    . ,   ,    </span></span><code><span class="php"><span class="php">? extends T</span></span></code><span class="php"><span class="php">    .  :    </span></span><code><span class="php"><span class="php">MyObjectStore&lt;Long, Vehicle&gt;</span></span></code><span class="php"><span class="php"> ,         </span></span><code><span class="php"><span class="php">Map&lt;Long, Car&gt;</span></span></code><span class="php"><span class="php"> ( </span></span><code><span class="php"><span class="php">Car</span></span></code><span class="php"><span class="php"> -   </span></span><code><span class="php"><span class="php">Vehicle</span></span></code><span class="php"><span class="php"> ),         : </span></span><br><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php"> </span></span><code class="java"><span class="php"><span class="php">MyObjectStore&lt;Long, Vehicle&gt; carsStore = ...; Map&lt;Long, Car&gt; cars = </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">new</span></span></span><span class="php"> HashMap&lt;Long, Car&gt;(</span><span class="hljs-number"><span class="php"><span class="hljs-number">2</span></span></span><span class="php">); cars.put(</span><span class="hljs-number"><span class="php"><span class="hljs-number">1</span></span></span><span class="php">L, </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">new</span></span></span><span class="php"> Car(</span><span class="hljs-string"><span class="php"><span class="hljs-string">"Audi"</span></span></span><span class="php">, </span><span class="hljs-string"><span class="php"><span class="hljs-string">"A6"</span></span></span><span class="php">, </span><span class="hljs-number"><span class="php"><span class="hljs-number">2011</span></span></span><span class="php">)); cars.put(</span><span class="hljs-number"><span class="php"><span class="hljs-number">2</span></span></span><span class="php">L, </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">new</span></span></span><span class="php"> Car(</span><span class="hljs-string"><span class="php"><span class="hljs-string">"Honda"</span></span></span><span class="php">, </span><span class="hljs-string"><span class="php"><span class="hljs-string">"Civic"</span></span></span><span class="php">, </span><span class="hljs-number"><span class="php"><span class="hljs-number">2012</span></span></span><span class="php">)); carsStore.putAll(cars); </span><span class="hljs-comment"><span class="php"><span class="hljs-comment">//  .</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     , ,     ,     ,  wildcard </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">? extends T</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> void putAll(Map</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K, ? extends V&gt; entries); </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Map</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K, ? extends V&gt;</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   "    K     K     V     V". </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><a name="pecs"></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  PECS - Producer Extends Consumer Super </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     ,       ,      ,          . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   Joshua Bloch  </span></span></span></span><a href="http://books.google.ru/books%3Fid%3Dka2VUBqHiWkC%26pg%3DPA136%26lpg%3DPA136%26dq%3Dbloch%2Beffective%2Bjava%2Bpecs%2Bmnemonic%26source%3Dbl%26ots%3DyYKnPjt-P-%26sig%3DJGT8qexAAldJ5xYPepbBQ5uude0%26hl%3Den%26sa%3DX%26ei%3DCb3GUv-sNIuK5ATM7oD4Dw%26ved%3D0CCgQ6AEwAA"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">PECS (Producer Extends Consumer Super)</span></span></span></span></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,    Java Generics and Collections (Maurice Naftalin, Philip Wadler) - </span></span></span></span><a href="http://books.google.ru/books%3Fid%3DzaoK0Z2STlkC%26pg%3DPA19%26lpg%3DPA19%26dq%3DNaftalin%2Band%2BWadler%2BGet%2Band%2BPut%2BPrinciple%26source%3Dbl%26ots%3D6Xuqgc-XGO%26sig%3DW9eFVjUg2Wi3no0bQS4359Fhu-k%26hl%3Den%26sa%3DX%26ei%3DQLzGUvzMNsXZ4QTE1YGYDw%26ved%3D0CCoQ6AEwAA"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Get and Put Principle</span></span></span></span></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> .     PECS,  .   : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">        (, </span></span></span></span><code><code><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Collection  Predicate),   ,   - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">producer</span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ),   ? extends T</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,    - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">consumer</span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ),   </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">? super T</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> .</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,   ?  :      ,    - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,       ,    </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> .  ,   </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,      T. </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    </span></span></span></span><code><code><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Predicate -  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( getAll(Predicate)       T),  Map&lt;K, V&gt;</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( putAll(Map&lt;K, V&gt;)    T -     T  K  V -   ). </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  ,     </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  - ,       ,     ( ,   ) -      . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">         -    wildcard-      ,      wildcard-   . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  PECS-,         </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">MyObjectStore</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     ,   .  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">put(K, V)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">get(K)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    (..       );  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">putAll(Map</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K, ? extends V&gt;)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">getAll(Predicate</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> super V&gt;)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     ,  ;   </span></span></span></span></code></code></code></code></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">getAll(Collection)  - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   ,    .  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> Map&lt;K, V&gt; getAll(Collection&lt;K&gt; keys);</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Map&lt;K, V&gt; getAll(Collection</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K&gt; keys);</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   ,   API! (,     !) </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">      </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     .    </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> -  : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">interface Factory&lt;T&gt; { /** *      . * * @param args . * @return  . */ T create(Object... args); }</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   ,   </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,     : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">interface Cloner&lt;T&gt; { /** *  . * * @param obj  . * @return . */ T clone(T obj); }</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  ,   ouput-,        (    Java      ). </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">        PECS (Producer Extends Consumer Super)       API  Java.   ,             ,        API. ,  ,     ,    PECS ,          . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><a href="http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Joshua Bloch - Effective Java (2nd Edition)</span></span></span></span></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><a href="http://shop.oreilly.com/product/9780596527754.do"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Maurice Naftalin, Philip Wadler - Java Generics and Collections</span></span></span></span></a></code> </pre> <code><code>Predicate  Predicate,      : <br> <br> no suitable method found for getAll(Predicate&lt;Vehicle&gt;) <br>   ,    ,  <code>Vehicle</code> -   <code>Car</code> .       <code>Car</code> ,  , ,     <code>Vehicle</code> ,     <code>Car</code> !          <code>Vehicle</code>     <code>Car</code> .       , ,  ,     : <br> <br> <code class="java">final Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(new Predicate&lt;Car&gt;() { @Override public boolean apply(Car exp) { return vp.apply(exp); } });</code> <br>      !       : <br> <br> <code class="java">Collection&lt;V&gt; getAll(Predicate&lt;? super V&gt; p);</code> <br>  <code>Predicate&lt;? super V&gt;</code>  "  V    V (  Object)".        ,        .        <code>Vehicle</code>  : <br> <br> <code class="java">MyObjectStore&lt;Long, Car&gt; carsStore = ...; Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(vp);</code> <br>      ,      . <br> <br>  <code>? extends T</code> <br>      ,    . ,   ,    <code>? extends T</code>    .  :    <code>MyObjectStore&lt;Long, Vehicle&gt;</code> ,         <code>Map&lt;Long, Car&gt;</code> ( <code>Car</code> -   <code>Vehicle</code> ),         : <br> <br> <code class="java">MyObjectStore&lt;Long, Vehicle&gt; carsStore = ...; Map&lt;Long, Car&gt; cars = new HashMap&lt;Long, Car&gt;(2); cars.put(1L, new Car("Audi", "A6", 2011)); cars.put(2L, new Car("Honda", "Civic", 2012)); carsStore.putAll(cars); //  .</code> <br>     , ,     ,     ,  wildcard <code>? extends T</code>    : <br> <br> <code class="java">void putAll(Map&lt;? extends K, ? extends V&gt; entries);</code> <br>  <code>Map&lt;? extends K, ? extends V&gt;</code>   "    K     K     V     V". <br> <br> <a name="pecs"></a> <br>  PECS - Producer Extends Consumer Super <br>     ,       ,      ,          . <br> <br>   Joshua Bloch  <a href="http://books.google.ru/books%3Fid%3Dka2VUBqHiWkC%26pg%3DPA136%26lpg%3DPA136%26dq%3Dbloch%2Beffective%2Bjava%2Bpecs%2Bmnemonic%26source%3Dbl%26ots%3DyYKnPjt-P-%26sig%3DJGT8qexAAldJ5xYPepbBQ5uude0%26hl%3Den%26sa%3DX%26ei%3DCb3GUv-sNIuK5ATM7oD4Dw%26ved%3D0CCgQ6AEwAA">PECS (Producer Extends Consumer Super)</a> ,    Java Generics and Collections (Maurice Naftalin, Philip Wadler) - <a href="http://books.google.ru/books%3Fid%3DzaoK0Z2STlkC%26pg%3DPA19%26lpg%3DPA19%26dq%3DNaftalin%2Band%2BWadler%2BGet%2Band%2BPut%2BPrinciple%26source%3Dbl%26ots%3D6Xuqgc-XGO%26sig%3DW9eFVjUg2Wi3no0bQS4359Fhu-k%26hl%3Den%26sa%3DX%26ei%3DQLzGUvzMNsXZ4QTE1YGYDw%26ved%3D0CCoQ6AEwAA">Get and Put Principle</a> .     PECS,  .   : <br> <br>        (, <code><code><code>Collection  Predicate),   ,   - <i></i> ( <i>producer</i> ),   ? extends T</code> ,    - <i></i> ( <i>consumer</i> ),   <code>? super T</code> .</code> <br> <i></i>  <i></i> ,   ?  :      ,    - <i></i> ,       ,    <i></i> .  ,   <i></i>  <i></i> ,      T. <br> <br>    <code><code><code>Predicate -  <i></i> ( getAll(Predicate)       T),  Map&lt;K, V&gt;</code> - <i></i> ( putAll(Map&lt;K, V&gt;)    T -     T  K  V -   ). <br> <br>  ,     <i></i> ,  <i></i>  - ,       ,     ( ,   ) -      . <br> <br>         -    wildcard-      ,      wildcard-   . <br> <br>  PECS-,         <code>MyObjectStore</code>     ,   .  <code>put(K, V)</code>  <code>get(K)</code>    (..       );  <code>putAll(Map&lt;? extends K, ? extends V&gt;)</code>  <code>getAll(Predicate&lt;? super V&gt;)</code>     ,  ;   </code></code></code> <code class="java">getAll(Collection)  - <i></i>   ,    .  <br> <br> Map&lt;K, V&gt; getAll(Collection&lt;K&gt; keys);</code> <br>  <br> <br> <code class="java">Map&lt;K, V&gt; getAll(Collection&lt;? extends K&gt; keys);</code> <br>   ,   API! (,     !) <br> <br>      <br> <i></i>     .    <i></i> -  : <br> <br> <code class="java">interface Factory&lt;T&gt; { /** *      . * * @param args . * @return  . */ T create(Object... args); }</code> <br>   ,   <i></i> ,  <i></i> ,     : <br> <br> <code class="java">interface Cloner&lt;T&gt; { /** *  . * * @param obj  . * @return . */ T clone(T obj); }</code> <br>    <i></i>  ,   ouput-,        (    Java      ). <br> <br>  <br>        PECS (Producer Extends Consumer Super)       API  Java.   ,             ,        API. ,  ,     ,    PECS ,          . <br> <br>  <br> <a href="http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683">Joshua Bloch - Effective Java (2nd Edition)</a> <a href="http://shop.oreilly.com/product/9780596527754.do">Maurice Naftalin, Philip Wadler - Java Generics and Collections</a></code></code> <h4> <code><code>Predicate  Predicate,      : <br> <br> no suitable method found for getAll(Predicate&lt;Vehicle&gt;) <br>   ,    ,  <code>Vehicle</code> -   <code>Car</code> .       <code>Car</code> ,  , ,     <code>Vehicle</code> ,     <code>Car</code> !          <code>Vehicle</code>     <code>Car</code> .       , ,  ,     : <br> <br> <code class="java">final Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(new Predicate&lt;Car&gt;() { @Override public boolean apply(Car exp) { return vp.apply(exp); } });</code> <br>      !       : <br> <br> <code class="java">Collection&lt;V&gt; getAll(Predicate&lt;? super V&gt; p);</code> <br>  <code>Predicate&lt;? super V&gt;</code>  "  V    V (  Object)".        ,        .        <code>Vehicle</code>  : <br> <br> <code class="java">MyObjectStore&lt;Long, Car&gt; carsStore = ...; Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(vp);</code> <br>      ,      . <br> <br>  <code>? extends T</code> <br>      ,    . ,   ,    <code>? extends T</code>    .  :    <code>MyObjectStore&lt;Long, Vehicle&gt;</code> ,         <code>Map&lt;Long, Car&gt;</code> ( <code>Car</code> -   <code>Vehicle</code> ),         : <br> <br> <code class="java">MyObjectStore&lt;Long, Vehicle&gt; carsStore = ...; Map&lt;Long, Car&gt; cars = new HashMap&lt;Long, Car&gt;(2); cars.put(1L, new Car("Audi", "A6", 2011)); cars.put(2L, new Car("Honda", "Civic", 2012)); carsStore.putAll(cars); //  .</code> <br>     , ,     ,     ,  wildcard <code>? extends T</code>    : <br> <br> <code class="java">void putAll(Map&lt;? extends K, ? extends V&gt; entries);</code> <br>  <code>Map&lt;? extends K, ? extends V&gt;</code>   "    K     K     V     V". <br> <br> <a name="pecs"></a> <br>  PECS - Producer Extends Consumer Super <br>     ,       ,      ,          . <br> <br>   Joshua Bloch  <a href="http://books.google.ru/books%3Fid%3Dka2VUBqHiWkC%26pg%3DPA136%26lpg%3DPA136%26dq%3Dbloch%2Beffective%2Bjava%2Bpecs%2Bmnemonic%26source%3Dbl%26ots%3DyYKnPjt-P-%26sig%3DJGT8qexAAldJ5xYPepbBQ5uude0%26hl%3Den%26sa%3DX%26ei%3DCb3GUv-sNIuK5ATM7oD4Dw%26ved%3D0CCgQ6AEwAA">PECS (Producer Extends Consumer Super)</a> ,    Java Generics and Collections (Maurice Naftalin, Philip Wadler) - <a href="http://books.google.ru/books%3Fid%3DzaoK0Z2STlkC%26pg%3DPA19%26lpg%3DPA19%26dq%3DNaftalin%2Band%2BWadler%2BGet%2Band%2BPut%2BPrinciple%26source%3Dbl%26ots%3D6Xuqgc-XGO%26sig%3DW9eFVjUg2Wi3no0bQS4359Fhu-k%26hl%3Den%26sa%3DX%26ei%3DQLzGUvzMNsXZ4QTE1YGYDw%26ved%3D0CCoQ6AEwAA">Get and Put Principle</a> .     PECS,  .   : <br> <br>        (, <code><code><code>Collection  Predicate),   ,   - <i></i> ( <i>producer</i> ),   ? extends T</code> ,    - <i></i> ( <i>consumer</i> ),   <code>? super T</code> .</code> <br> <i></i>  <i></i> ,   ?  :      ,    - <i></i> ,       ,    <i></i> .  ,   <i></i>  <i></i> ,      T. <br> <br>    <code><code><code>Predicate -  <i></i> ( getAll(Predicate)       T),  Map&lt;K, V&gt;</code> - <i></i> ( putAll(Map&lt;K, V&gt;)    T -     T  K  V -   ). <br> <br>  ,     <i></i> ,  <i></i>  - ,       ,     ( ,   ) -      . <br> <br>         -    wildcard-      ,      wildcard-   . <br> <br>  PECS-,         <code>MyObjectStore</code>     ,   .  <code>put(K, V)</code>  <code>get(K)</code>    (..       );  <code>putAll(Map&lt;? extends K, ? extends V&gt;)</code>  <code>getAll(Predicate&lt;? super V&gt;)</code>     ,  ;   </code></code></code> <code class="java">getAll(Collection)  - <i></i>   ,    .  <br> <br> Map&lt;K, V&gt; getAll(Collection&lt;K&gt; keys);</code> <br>  <br> <br> <code class="java">Map&lt;K, V&gt; getAll(Collection&lt;? extends K&gt; keys);</code> <br>   ,   API! (,     !) <br> <br>      <br> <i></i>     .    <i></i> -  : <br> <br> <code class="java">interface Factory&lt;T&gt; { /** *      . * * @param args . * @return  . */ T create(Object... args); }</code> <br>   ,   <i></i> ,  <i></i> ,     : <br> <br> <code class="java">interface Cloner&lt;T&gt; { /** *  . * * @param obj  . * @return . */ T clone(T obj); }</code> <br>    <i></i>  ,   ouput-,        (    Java      ). <br> <br>  <br>        PECS (Producer Extends Consumer Super)       API  Java.   ,             ,        API. ,  ,     ,    PECS ,          . <br> <br>  <br> <a href="http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683">Joshua Bloch - Effective Java (2nd Edition)</a> <a href="http://shop.oreilly.com/product/9780596527754.do">Maurice Naftalin, Philip Wadler - Java Generics and Collections</a></code></code> </h4> <code><code>Predicate  Predicate,      : <br> <br> no suitable method found for getAll(Predicate&lt;Vehicle&gt;) <br>   ,    ,  <code>Vehicle</code> -   <code>Car</code> .       <code>Car</code> ,  , ,     <code>Vehicle</code> ,     <code>Car</code> !          <code>Vehicle</code>     <code>Car</code> .       , ,  ,     : <br> <br> <code class="java">final Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(new Predicate&lt;Car&gt;() { @Override public boolean apply(Car exp) { return vp.apply(exp); } });</code> <br>      !       : <br> <br> <code class="java">Collection&lt;V&gt; getAll(Predicate&lt;? super V&gt; p);</code> <br>  <code>Predicate&lt;? super V&gt;</code>  "  V    V (  Object)".        ,        .        <code>Vehicle</code>  : <br> <br> <code class="java">MyObjectStore&lt;Long, Car&gt; carsStore = ...; Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(vp);</code> <br>      ,      . <br> <br>  <code>? extends T</code> <br>      ,    . ,   ,    <code>? extends T</code>    .  :    <code>MyObjectStore&lt;Long, Vehicle&gt;</code> ,         <code>Map&lt;Long, Car&gt;</code> ( <code>Car</code> -   <code>Vehicle</code> ),         : <br> <br> <code class="java">MyObjectStore&lt;Long, Vehicle&gt; carsStore = ...; Map&lt;Long, Car&gt; cars = new HashMap&lt;Long, Car&gt;(2); cars.put(1L, new Car("Audi", "A6", 2011)); cars.put(2L, new Car("Honda", "Civic", 2012)); carsStore.putAll(cars); //  .</code> <br>     , ,     ,     ,  wildcard <code>? extends T</code>    : <br> <br> <code class="java">void putAll(Map&lt;? extends K, ? extends V&gt; entries);</code> <br>  <code>Map&lt;? extends K, ? extends V&gt;</code>   "    K     K     V     V". <br> <br> <a name="pecs"></a> <br>  PECS - Producer Extends Consumer Super <br>     ,       ,      ,          . <br> <br>   Joshua Bloch  <a href="http://books.google.ru/books%3Fid%3Dka2VUBqHiWkC%26pg%3DPA136%26lpg%3DPA136%26dq%3Dbloch%2Beffective%2Bjava%2Bpecs%2Bmnemonic%26source%3Dbl%26ots%3DyYKnPjt-P-%26sig%3DJGT8qexAAldJ5xYPepbBQ5uude0%26hl%3Den%26sa%3DX%26ei%3DCb3GUv-sNIuK5ATM7oD4Dw%26ved%3D0CCgQ6AEwAA">PECS (Producer Extends Consumer Super)</a> ,    Java Generics and Collections (Maurice Naftalin, Philip Wadler) - <a href="http://books.google.ru/books%3Fid%3DzaoK0Z2STlkC%26pg%3DPA19%26lpg%3DPA19%26dq%3DNaftalin%2Band%2BWadler%2BGet%2Band%2BPut%2BPrinciple%26source%3Dbl%26ots%3D6Xuqgc-XGO%26sig%3DW9eFVjUg2Wi3no0bQS4359Fhu-k%26hl%3Den%26sa%3DX%26ei%3DQLzGUvzMNsXZ4QTE1YGYDw%26ved%3D0CCoQ6AEwAA">Get and Put Principle</a> .     PECS,  .   : <br> <br>        (, <code><code><code>Collection  Predicate),   ,   - <i></i> ( <i>producer</i> ),   ? extends T</code> ,    - <i></i> ( <i>consumer</i> ),   <code>? super T</code> .</code> <br> <i></i>  <i></i> ,   ?  :      ,    - <i></i> ,       ,    <i></i> .  ,   <i></i>  <i></i> ,      T. <br> <br>    <code><code><code>Predicate -  <i></i> ( getAll(Predicate)       T),  Map&lt;K, V&gt;</code> - <i></i> ( putAll(Map&lt;K, V&gt;)    T -     T  K  V -   ). <br> <br>  ,     <i></i> ,  <i></i>  - ,       ,     ( ,   ) -      . <br> <br>         -    wildcard-      ,      wildcard-   . <br> <br>  PECS-,         <code>MyObjectStore</code>     ,   .  <code>put(K, V)</code>  <code>get(K)</code>    (..       );  <code>putAll(Map&lt;? extends K, ? extends V&gt;)</code>  <code>getAll(Predicate&lt;? super V&gt;)</code>     ,  ;   </code></code></code> <code class="java">getAll(Collection)  - <i></i>   ,    .  <br> <br> Map&lt;K, V&gt; getAll(Collection&lt;K&gt; keys);</code> <br>  <br> <br> <code class="java">Map&lt;K, V&gt; getAll(Collection&lt;? extends K&gt; keys);</code> <br>   ,   API! (,     !) <br> <br>      <br> <i></i>     .    <i></i> -  : <br> <br> <code class="java">interface Factory&lt;T&gt; { /** *      . * * @param args . * @return  . */ T create(Object... args); }</code> <br>   ,   <i></i> ,  <i></i> ,     : <br> <br> <code class="java">interface Cloner&lt;T&gt; { /** *  . * * @param obj  . * @return . */ T clone(T obj); }</code> <br>    <i></i>  ,   ouput-,        (    Java      ). <br> <br>  <br>        PECS (Producer Extends Consumer Super)       API  Java.   ,             ,        API. ,  ,     ,    PECS ,          . <br> <br>  <br> <a href="http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683">Joshua Bloch - Effective Java (2nd Edition)</a> <a href="http://shop.oreilly.com/product/9780596527754.do">Maurice Naftalin, Philip Wadler - Java Generics and Collections</a></code></code> <blockquote> <code><code>Predicate  Predicate,      : <br> <br> no suitable method found for getAll(Predicate&lt;Vehicle&gt;) <br>   ,    ,  <code>Vehicle</code> -   <code>Car</code> .       <code>Car</code> ,  , ,     <code>Vehicle</code> ,     <code>Car</code> !          <code>Vehicle</code>     <code>Car</code> .       , ,  ,     : <br> <br> <code class="java">final Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(new Predicate&lt;Car&gt;() { @Override public boolean apply(Car exp) { return vp.apply(exp); } });</code> <br>      !       : <br> <br> <code class="java">Collection&lt;V&gt; getAll(Predicate&lt;? super V&gt; p);</code> <br>  <code>Predicate&lt;? super V&gt;</code>  "  V    V (  Object)".        ,        .        <code>Vehicle</code>  : <br> <br> <code class="java">MyObjectStore&lt;Long, Car&gt; carsStore = ...; Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(vp);</code> <br>      ,      . <br> <br>  <code>? extends T</code> <br>      ,    . ,   ,    <code>? extends T</code>    .  :    <code>MyObjectStore&lt;Long, Vehicle&gt;</code> ,         <code>Map&lt;Long, Car&gt;</code> ( <code>Car</code> -   <code>Vehicle</code> ),         : <br> <br> <code class="java">MyObjectStore&lt;Long, Vehicle&gt; carsStore = ...; Map&lt;Long, Car&gt; cars = new HashMap&lt;Long, Car&gt;(2); cars.put(1L, new Car("Audi", "A6", 2011)); cars.put(2L, new Car("Honda", "Civic", 2012)); carsStore.putAll(cars); //  .</code> <br>     , ,     ,     ,  wildcard <code>? extends T</code>    : <br> <br> <code class="java">void putAll(Map&lt;? extends K, ? extends V&gt; entries);</code> <br>  <code>Map&lt;? extends K, ? extends V&gt;</code>   "    K     K     V     V". <br> <br> <a name="pecs"></a> <br>  PECS - Producer Extends Consumer Super <br>     ,       ,      ,          . <br> <br>   Joshua Bloch  <a href="http://books.google.ru/books%3Fid%3Dka2VUBqHiWkC%26pg%3DPA136%26lpg%3DPA136%26dq%3Dbloch%2Beffective%2Bjava%2Bpecs%2Bmnemonic%26source%3Dbl%26ots%3DyYKnPjt-P-%26sig%3DJGT8qexAAldJ5xYPepbBQ5uude0%26hl%3Den%26sa%3DX%26ei%3DCb3GUv-sNIuK5ATM7oD4Dw%26ved%3D0CCgQ6AEwAA">PECS (Producer Extends Consumer Super)</a> ,    Java Generics and Collections (Maurice Naftalin, Philip Wadler) - <a href="http://books.google.ru/books%3Fid%3DzaoK0Z2STlkC%26pg%3DPA19%26lpg%3DPA19%26dq%3DNaftalin%2Band%2BWadler%2BGet%2Band%2BPut%2BPrinciple%26source%3Dbl%26ots%3D6Xuqgc-XGO%26sig%3DW9eFVjUg2Wi3no0bQS4359Fhu-k%26hl%3Den%26sa%3DX%26ei%3DQLzGUvzMNsXZ4QTE1YGYDw%26ved%3D0CCoQ6AEwAA">Get and Put Principle</a> .     PECS,  .   : <br> <br>        (, <code><code><code>Collection  Predicate),   ,   - <i></i> ( <i>producer</i> ),   ? extends T</code> ,    - <i></i> ( <i>consumer</i> ),   <code>? super T</code> .</code> <br> <i></i>  <i></i> ,   ?  :      ,    - <i></i> ,       ,    <i></i> .  ,   <i></i>  <i></i> ,      T. <br> <br>    <code><code><code>Predicate -  <i></i> ( getAll(Predicate)       T),  Map&lt;K, V&gt;</code> - <i></i> ( putAll(Map&lt;K, V&gt;)    T -     T  K  V -   ). <br> <br>  ,     <i></i> ,  <i></i>  - ,       ,     ( ,   ) -      . <br> <br>         -    wildcard-      ,      wildcard-   . <br> <br>  PECS-,         <code>MyObjectStore</code>     ,   .  <code>put(K, V)</code>  <code>get(K)</code>    (..       );  <code>putAll(Map&lt;? extends K, ? extends V&gt;)</code>  <code>getAll(Predicate&lt;? super V&gt;)</code>     ,  ;   </code></code></code> <code class="java">getAll(Collection)  - <i></i>   ,    .  <br> <br> Map&lt;K, V&gt; getAll(Collection&lt;K&gt; keys);</code> <br>  <br> <br> <code class="java">Map&lt;K, V&gt; getAll(Collection&lt;? extends K&gt; keys);</code> <br>   ,   API! (,     !) <br> <br>      <br> <i></i>     .    <i></i> -  : <br> <br> <code class="java">interface Factory&lt;T&gt; { /** *      . * * @param args . * @return  . */ T create(Object... args); }</code> <br>   ,   <i></i> ,  <i></i> ,     : <br> <br> <code class="java">interface Cloner&lt;T&gt; { /** *  . * * @param obj  . * @return . */ T clone(T obj); }</code> <br>    <i></i>  ,   ouput-,        (    Java      ). <br> <br>  <br>        PECS (Producer Extends Consumer Super)       API  Java.   ,             ,        API. ,  ,     ,    PECS ,          . <br> <br>  <br> <a href="http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683">Joshua Bloch - Effective Java (2nd Edition)</a> <a href="http://shop.oreilly.com/product/9780596527754.do">Maurice Naftalin, Philip Wadler - Java Generics and Collections</a></code></code> <pre> <code class="hljs xml"><code><code class="java">Predicate  Predicate,      : <br> <br> no suitable method found for getAll(Predicate<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Vehicle</span></span></span><span class="hljs-tag">&gt;</span></span>) <br>   ,    ,  <code>Vehicle</code> -   <code>Car</code> .       <code>Car</code> ,  , ,     <code>Vehicle</code> ,     <code>Car</code> !          <code>Vehicle</code>     <code>Car</code> .       , ,  ,     : <br> <br> <code class="java">final Predicate<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Vehicle</span></span></span><span class="hljs-tag">&gt;</span></span> vp = mgr.getVehiclePredicate(); Collection<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Car</span></span></span><span class="hljs-tag">&gt;</span></span> cars = carsStore.getAll(new Predicate<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Car</span></span></span><span class="hljs-tag">&gt;</span></span>() { @Override public boolean apply(Car exp) { return vp.apply(exp); } });</code> <br>      !       : <br> <br> <code class="java">Collection<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">V</span></span></span><span class="hljs-tag">&gt;</span></span> getAll(Predicate<span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php"> super V&gt; p);</span></span></code><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">  </span></span><code><span class="php"><span class="php">Predicate</span><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php"> super V&gt;</span></span></code><span class="php"><span class="php">  </span><span class="hljs-string"><span class="php"><span class="hljs-string">"  V    V (  Object)"</span></span></span><span class="php">.        ,        .        </span></span><code><span class="php"><span class="php">Vehicle</span></span></code><span class="php"><span class="php">  : </span></span><br><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php"> </span></span><code class="java"><span class="php"><span class="php">MyObjectStore&lt;Long, Car&gt; carsStore = ...; Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(vp);</span></span></code><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">      ,      . </span></span><br><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">  </span></span><code><span class="php"><span class="php">? extends T</span></span></code><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">      ,    . ,   ,    </span></span><code><span class="php"><span class="php">? extends T</span></span></code><span class="php"><span class="php">    .  :    </span></span><code><span class="php"><span class="php">MyObjectStore&lt;Long, Vehicle&gt;</span></span></code><span class="php"><span class="php"> ,         </span></span><code><span class="php"><span class="php">Map&lt;Long, Car&gt;</span></span></code><span class="php"><span class="php"> ( </span></span><code><span class="php"><span class="php">Car</span></span></code><span class="php"><span class="php"> -   </span></span><code><span class="php"><span class="php">Vehicle</span></span></code><span class="php"><span class="php"> ),         : </span></span><br><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php"> </span></span><code class="java"><span class="php"><span class="php">MyObjectStore&lt;Long, Vehicle&gt; carsStore = ...; Map&lt;Long, Car&gt; cars = </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">new</span></span></span><span class="php"> HashMap&lt;Long, Car&gt;(</span><span class="hljs-number"><span class="php"><span class="hljs-number">2</span></span></span><span class="php">); cars.put(</span><span class="hljs-number"><span class="php"><span class="hljs-number">1</span></span></span><span class="php">L, </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">new</span></span></span><span class="php"> Car(</span><span class="hljs-string"><span class="php"><span class="hljs-string">"Audi"</span></span></span><span class="php">, </span><span class="hljs-string"><span class="php"><span class="hljs-string">"A6"</span></span></span><span class="php">, </span><span class="hljs-number"><span class="php"><span class="hljs-number">2011</span></span></span><span class="php">)); cars.put(</span><span class="hljs-number"><span class="php"><span class="hljs-number">2</span></span></span><span class="php">L, </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">new</span></span></span><span class="php"> Car(</span><span class="hljs-string"><span class="php"><span class="hljs-string">"Honda"</span></span></span><span class="php">, </span><span class="hljs-string"><span class="php"><span class="hljs-string">"Civic"</span></span></span><span class="php">, </span><span class="hljs-number"><span class="php"><span class="hljs-number">2012</span></span></span><span class="php">)); carsStore.putAll(cars); </span><span class="hljs-comment"><span class="php"><span class="hljs-comment">//  .</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     , ,     ,     ,  wildcard </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">? extends T</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">void putAll(Map</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K, ? extends V&gt; entries);</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Map</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K, ? extends V&gt;</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   "    K     K     V     V". </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><a name="pecs"></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  PECS - Producer Extends Consumer Super </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     ,       ,      ,          . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   Joshua Bloch  </span></span></span></span><a href="http://books.google.ru/books%3Fid%3Dka2VUBqHiWkC%26pg%3DPA136%26lpg%3DPA136%26dq%3Dbloch%2Beffective%2Bjava%2Bpecs%2Bmnemonic%26source%3Dbl%26ots%3DyYKnPjt-P-%26sig%3DJGT8qexAAldJ5xYPepbBQ5uude0%26hl%3Den%26sa%3DX%26ei%3DCb3GUv-sNIuK5ATM7oD4Dw%26ved%3D0CCgQ6AEwAA"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">PECS (Producer Extends Consumer Super)</span></span></span></span></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,    Java Generics and Collections (Maurice Naftalin, Philip Wadler) - </span></span></span></span><a href="http://books.google.ru/books%3Fid%3DzaoK0Z2STlkC%26pg%3DPA19%26lpg%3DPA19%26dq%3DNaftalin%2Band%2BWadler%2BGet%2Band%2BPut%2BPrinciple%26source%3Dbl%26ots%3D6Xuqgc-XGO%26sig%3DW9eFVjUg2Wi3no0bQS4359Fhu-k%26hl%3Den%26sa%3DX%26ei%3DQLzGUvzMNsXZ4QTE1YGYDw%26ved%3D0CCoQ6AEwAA"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Get and Put Principle</span></span></span></span></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> .     PECS,  .   : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">        (, </span></span></span></span><code><code><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Collection  Predicate),   ,   - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">producer</span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ),   ? extends T</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,    - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">consumer</span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ),   </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">? super T</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> .</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,   ?  :      ,    - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,       ,    </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> .  ,   </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,      T. </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    </span></span></span></span><code><code><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Predicate -  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( getAll(Predicate)       T),  Map&lt;K, V&gt;</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( putAll(Map&lt;K, V&gt;)    T -     T  K  V -   ). </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  ,     </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  - ,       ,     ( ,   ) -      . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">         -    wildcard-      ,      wildcard-   . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  PECS-,         </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">MyObjectStore</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     ,   .  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">put(K, V)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">get(K)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    (..       );  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">putAll(Map</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K, ? extends V&gt;)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">getAll(Predicate</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> super V&gt;)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     ,  ;   </span></span></span></span></code></code></code></code></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> getAll(Collection)  - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   ,    .  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> Map&lt;K, V&gt; getAll(Collection&lt;K&gt; keys); </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Map&lt;K, V&gt; getAll(Collection</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K&gt; keys);</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   ,   API! (,     !) </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">      </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     .    </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> -  : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">interface Factory&lt;T&gt; { /** *      . * * @param args . * @return  . */ T create(Object... args); }</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   ,   </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,     : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">interface Cloner&lt;T&gt; { /** *  . * * @param obj  . * @return . */ T clone(T obj); }</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  ,   ouput-,        (    Java      ). </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">        PECS (Producer Extends Consumer Super)       API  Java.   ,             ,        API. ,  ,     ,    PECS ,          . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><a href="http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Joshua Bloch - Effective Java (2nd Edition)</span></span></span></span></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><a href="http://shop.oreilly.com/product/9780596527754.do"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Maurice Naftalin, Philip Wadler - Java Generics and Collections</span></span></span></span></a></code> </pre> <code><code>Predicate  Predicate,      : <br> <br> no suitable method found for getAll(Predicate&lt;Vehicle&gt;) <br>   ,    ,  <code>Vehicle</code> -   <code>Car</code> .       <code>Car</code> ,  , ,     <code>Vehicle</code> ,     <code>Car</code> !          <code>Vehicle</code>     <code>Car</code> .       , ,  ,     : <br> <br> <code class="java">final Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(new Predicate&lt;Car&gt;() { @Override public boolean apply(Car exp) { return vp.apply(exp); } });</code> <br>      !       : <br> <br> <code class="java">Collection&lt;V&gt; getAll(Predicate&lt;? super V&gt; p);</code> <br>  <code>Predicate&lt;? super V&gt;</code>  "  V    V (  Object)".        ,        .        <code>Vehicle</code>  : <br> <br> <code class="java">MyObjectStore&lt;Long, Car&gt; carsStore = ...; Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(vp);</code> <br>      ,      . <br> <br>  <code>? extends T</code> <br>      ,    . ,   ,    <code>? extends T</code>    .  :    <code>MyObjectStore&lt;Long, Vehicle&gt;</code> ,         <code>Map&lt;Long, Car&gt;</code> ( <code>Car</code> -   <code>Vehicle</code> ),         : <br> <br> <code class="java">MyObjectStore&lt;Long, Vehicle&gt; carsStore = ...; Map&lt;Long, Car&gt; cars = new HashMap&lt;Long, Car&gt;(2); cars.put(1L, new Car("Audi", "A6", 2011)); cars.put(2L, new Car("Honda", "Civic", 2012)); carsStore.putAll(cars); //  .</code> <br>     , ,     ,     ,  wildcard <code>? extends T</code>    : <br> <br> <code class="java">void putAll(Map&lt;? extends K, ? extends V&gt; entries);</code> <br>  <code>Map&lt;? extends K, ? extends V&gt;</code>   "    K     K     V     V". <br> <br> <a name="pecs"></a> <br>  PECS - Producer Extends Consumer Super <br>     ,       ,      ,          . <br> <br>   Joshua Bloch  <a href="http://books.google.ru/books%3Fid%3Dka2VUBqHiWkC%26pg%3DPA136%26lpg%3DPA136%26dq%3Dbloch%2Beffective%2Bjava%2Bpecs%2Bmnemonic%26source%3Dbl%26ots%3DyYKnPjt-P-%26sig%3DJGT8qexAAldJ5xYPepbBQ5uude0%26hl%3Den%26sa%3DX%26ei%3DCb3GUv-sNIuK5ATM7oD4Dw%26ved%3D0CCgQ6AEwAA">PECS (Producer Extends Consumer Super)</a> ,    Java Generics and Collections (Maurice Naftalin, Philip Wadler) - <a href="http://books.google.ru/books%3Fid%3DzaoK0Z2STlkC%26pg%3DPA19%26lpg%3DPA19%26dq%3DNaftalin%2Band%2BWadler%2BGet%2Band%2BPut%2BPrinciple%26source%3Dbl%26ots%3D6Xuqgc-XGO%26sig%3DW9eFVjUg2Wi3no0bQS4359Fhu-k%26hl%3Den%26sa%3DX%26ei%3DQLzGUvzMNsXZ4QTE1YGYDw%26ved%3D0CCoQ6AEwAA">Get and Put Principle</a> .     PECS,  .   : <br> <br>        (, <code><code><code>Collection  Predicate),   ,   - <i></i> ( <i>producer</i> ),   ? extends T</code> ,    - <i></i> ( <i>consumer</i> ),   <code>? super T</code> .</code> <br> <i></i>  <i></i> ,   ?  :      ,    - <i></i> ,       ,    <i></i> .  ,   <i></i>  <i></i> ,      T. <br> <br>    <code><code><code>Predicate -  <i></i> ( getAll(Predicate)       T),  Map&lt;K, V&gt;</code> - <i></i> ( putAll(Map&lt;K, V&gt;)    T -     T  K  V -   ). <br> <br>  ,     <i></i> ,  <i></i>  - ,       ,     ( ,   ) -      . <br> <br>         -    wildcard-      ,      wildcard-   . <br> <br>  PECS-,         <code>MyObjectStore</code>     ,   .  <code>put(K, V)</code>  <code>get(K)</code>    (..       );  <code>putAll(Map&lt;? extends K, ? extends V&gt;)</code>  <code>getAll(Predicate&lt;? super V&gt;)</code>     ,  ;   </code></code></code> <code class="java">getAll(Collection)  - <i></i>   ,    .  <br> <br> Map&lt;K, V&gt; getAll(Collection&lt;K&gt; keys);</code> <br>  <br> <br> <code class="java">Map&lt;K, V&gt; getAll(Collection&lt;? extends K&gt; keys);</code> <br>   ,   API! (,     !) <br> <br>      <br> <i></i>     .    <i></i> -  : <br> <br> <code class="java">interface Factory&lt;T&gt; { /** *      . * * @param args . * @return  . */ T create(Object... args); }</code> <br>   ,   <i></i> ,  <i></i> ,     : <br> <br> <code class="java">interface Cloner&lt;T&gt; { /** *  . * * @param obj  . * @return . */ T clone(T obj); }</code> <br>    <i></i>  ,   ouput-,        (    Java      ). <br> <br>  <br>        PECS (Producer Extends Consumer Super)       API  Java.   ,             ,        API. ,  ,     ,    PECS ,          . <br> <br>  <br> <a href="http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683">Joshua Bloch - Effective Java (2nd Edition)</a> <a href="http://shop.oreilly.com/product/9780596527754.do">Maurice Naftalin, Philip Wadler - Java Generics and Collections</a></code></code> <pre> <code class="hljs xml"><code><code class="java">Predicate  Predicate,      : <br> <br> no suitable method found for getAll(Predicate<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Vehicle</span></span></span><span class="hljs-tag">&gt;</span></span>) <br>   ,    ,  <code>Vehicle</code> -   <code>Car</code> .       <code>Car</code> ,  , ,     <code>Vehicle</code> ,     <code>Car</code> !          <code>Vehicle</code>     <code>Car</code> .       , ,  ,     : <br> <br> <code class="java">final Predicate<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Vehicle</span></span></span><span class="hljs-tag">&gt;</span></span> vp = mgr.getVehiclePredicate(); Collection<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Car</span></span></span><span class="hljs-tag">&gt;</span></span> cars = carsStore.getAll(new Predicate<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Car</span></span></span><span class="hljs-tag">&gt;</span></span>() { @Override public boolean apply(Car exp) { return vp.apply(exp); } });</code> <br>      !       : <br> <br> <code class="java">Collection<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">V</span></span></span><span class="hljs-tag">&gt;</span></span> getAll(Predicate<span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php"> super V&gt; p);</span></span></code><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">  </span></span><code><span class="php"><span class="php">Predicate</span><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php"> super V&gt;</span></span></code><span class="php"><span class="php">  </span><span class="hljs-string"><span class="php"><span class="hljs-string">"  V    V (  Object)"</span></span></span><span class="php">.        ,        .        </span></span><code><span class="php"><span class="php">Vehicle</span></span></code><span class="php"><span class="php">  : </span></span><br><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php"> </span></span><code class="java"><span class="php"><span class="php">MyObjectStore&lt;Long, Car&gt; carsStore = ...; Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(vp);</span></span></code><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">      ,      . </span></span><br><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">  </span></span><code><span class="php"><span class="php">? extends T</span></span></code><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">      ,    . ,   ,    </span></span><code><span class="php"><span class="php">? extends T</span></span></code><span class="php"><span class="php">    .  :    </span></span><code><span class="php"><span class="php">MyObjectStore&lt;Long, Vehicle&gt;</span></span></code><span class="php"><span class="php"> ,         </span></span><code><span class="php"><span class="php">Map&lt;Long, Car&gt;</span></span></code><span class="php"><span class="php"> ( </span></span><code><span class="php"><span class="php">Car</span></span></code><span class="php"><span class="php"> -   </span></span><code><span class="php"><span class="php">Vehicle</span></span></code><span class="php"><span class="php"> ),         : </span></span><br><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php"> </span></span><code class="java"><span class="php"><span class="php">MyObjectStore&lt;Long, Vehicle&gt; carsStore = ...; Map&lt;Long, Car&gt; cars = </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">new</span></span></span><span class="php"> HashMap&lt;Long, Car&gt;(</span><span class="hljs-number"><span class="php"><span class="hljs-number">2</span></span></span><span class="php">); cars.put(</span><span class="hljs-number"><span class="php"><span class="hljs-number">1</span></span></span><span class="php">L, </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">new</span></span></span><span class="php"> Car(</span><span class="hljs-string"><span class="php"><span class="hljs-string">"Audi"</span></span></span><span class="php">, </span><span class="hljs-string"><span class="php"><span class="hljs-string">"A6"</span></span></span><span class="php">, </span><span class="hljs-number"><span class="php"><span class="hljs-number">2011</span></span></span><span class="php">)); cars.put(</span><span class="hljs-number"><span class="php"><span class="hljs-number">2</span></span></span><span class="php">L, </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">new</span></span></span><span class="php"> Car(</span><span class="hljs-string"><span class="php"><span class="hljs-string">"Honda"</span></span></span><span class="php">, </span><span class="hljs-string"><span class="php"><span class="hljs-string">"Civic"</span></span></span><span class="php">, </span><span class="hljs-number"><span class="php"><span class="hljs-number">2012</span></span></span><span class="php">)); carsStore.putAll(cars); </span><span class="hljs-comment"><span class="php"><span class="hljs-comment">//  .</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     , ,     ,     ,  wildcard </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">? extends T</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">void putAll(Map</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K, ? extends V&gt; entries);</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Map</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K, ? extends V&gt;</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   "    K     K     V     V". </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><a name="pecs"></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  PECS - Producer Extends Consumer Super </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     ,       ,      ,          . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   Joshua Bloch  </span></span></span></span><a href="http://books.google.ru/books%3Fid%3Dka2VUBqHiWkC%26pg%3DPA136%26lpg%3DPA136%26dq%3Dbloch%2Beffective%2Bjava%2Bpecs%2Bmnemonic%26source%3Dbl%26ots%3DyYKnPjt-P-%26sig%3DJGT8qexAAldJ5xYPepbBQ5uude0%26hl%3Den%26sa%3DX%26ei%3DCb3GUv-sNIuK5ATM7oD4Dw%26ved%3D0CCgQ6AEwAA"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">PECS (Producer Extends Consumer Super)</span></span></span></span></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,    Java Generics and Collections (Maurice Naftalin, Philip Wadler) - </span></span></span></span><a href="http://books.google.ru/books%3Fid%3DzaoK0Z2STlkC%26pg%3DPA19%26lpg%3DPA19%26dq%3DNaftalin%2Band%2BWadler%2BGet%2Band%2BPut%2BPrinciple%26source%3Dbl%26ots%3D6Xuqgc-XGO%26sig%3DW9eFVjUg2Wi3no0bQS4359Fhu-k%26hl%3Den%26sa%3DX%26ei%3DQLzGUvzMNsXZ4QTE1YGYDw%26ved%3D0CCoQ6AEwAA"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Get and Put Principle</span></span></span></span></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> .     PECS,  .   : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">        (, </span></span></span></span><code><code><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Collection  Predicate),   ,   - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">producer</span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ),   ? extends T</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,    - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">consumer</span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ),   </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">? super T</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> .</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,   ?  :      ,    - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,       ,    </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> .  ,   </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,      T. </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    </span></span></span></span><code><code><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Predicate -  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( getAll(Predicate)       T),  Map&lt;K, V&gt;</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( putAll(Map&lt;K, V&gt;)    T -     T  K  V -   ). </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  ,     </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  - ,       ,     ( ,   ) -      . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">         -    wildcard-      ,      wildcard-   . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  PECS-,         </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">MyObjectStore</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     ,   .  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">put(K, V)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">get(K)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    (..       );  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">putAll(Map</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K, ? extends V&gt;)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">getAll(Predicate</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> super V&gt;)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     ,  ;   </span></span></span></span></code></code></code></code></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">getAll(Collection)  - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   ,    .  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> Map&lt;K, V&gt; getAll(Collection&lt;K&gt; keys);</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> Map&lt;K, V&gt; getAll(Collection</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K&gt; keys); </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   ,   API! (,     !) </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">      </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     .    </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> -  : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">interface Factory&lt;T&gt; { /** *      . * * @param args . * @return  . */ T create(Object... args); }</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   ,   </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,     : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">interface Cloner&lt;T&gt; { /** *  . * * @param obj  . * @return . */ T clone(T obj); }</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  ,   ouput-,        (    Java      ). </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">        PECS (Producer Extends Consumer Super)       API  Java.   ,             ,        API. ,  ,     ,    PECS ,          . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><a href="http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Joshua Bloch - Effective Java (2nd Edition)</span></span></span></span></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><a href="http://shop.oreilly.com/product/9780596527754.do"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Maurice Naftalin, Philip Wadler - Java Generics and Collections</span></span></span></span></a></code> </pre> <code><code>Predicate  Predicate,      : <br> <br> no suitable method found for getAll(Predicate&lt;Vehicle&gt;) <br>   ,    ,  <code>Vehicle</code> -   <code>Car</code> .       <code>Car</code> ,  , ,     <code>Vehicle</code> ,     <code>Car</code> !          <code>Vehicle</code>     <code>Car</code> .       , ,  ,     : <br> <br> <code class="java">final Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(new Predicate&lt;Car&gt;() { @Override public boolean apply(Car exp) { return vp.apply(exp); } });</code> <br>      !       : <br> <br> <code class="java">Collection&lt;V&gt; getAll(Predicate&lt;? super V&gt; p);</code> <br>  <code>Predicate&lt;? super V&gt;</code>  "  V    V (  Object)".        ,        .        <code>Vehicle</code>  : <br> <br> <code class="java">MyObjectStore&lt;Long, Car&gt; carsStore = ...; Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(vp);</code> <br>      ,      . <br> <br>  <code>? extends T</code> <br>      ,    . ,   ,    <code>? extends T</code>    .  :    <code>MyObjectStore&lt;Long, Vehicle&gt;</code> ,         <code>Map&lt;Long, Car&gt;</code> ( <code>Car</code> -   <code>Vehicle</code> ),         : <br> <br> <code class="java">MyObjectStore&lt;Long, Vehicle&gt; carsStore = ...; Map&lt;Long, Car&gt; cars = new HashMap&lt;Long, Car&gt;(2); cars.put(1L, new Car("Audi", "A6", 2011)); cars.put(2L, new Car("Honda", "Civic", 2012)); carsStore.putAll(cars); //  .</code> <br>     , ,     ,     ,  wildcard <code>? extends T</code>    : <br> <br> <code class="java">void putAll(Map&lt;? extends K, ? extends V&gt; entries);</code> <br>  <code>Map&lt;? extends K, ? extends V&gt;</code>   "    K     K     V     V". <br> <br> <a name="pecs"></a> <br>  PECS - Producer Extends Consumer Super <br>     ,       ,      ,          . <br> <br>   Joshua Bloch  <a href="http://books.google.ru/books%3Fid%3Dka2VUBqHiWkC%26pg%3DPA136%26lpg%3DPA136%26dq%3Dbloch%2Beffective%2Bjava%2Bpecs%2Bmnemonic%26source%3Dbl%26ots%3DyYKnPjt-P-%26sig%3DJGT8qexAAldJ5xYPepbBQ5uude0%26hl%3Den%26sa%3DX%26ei%3DCb3GUv-sNIuK5ATM7oD4Dw%26ved%3D0CCgQ6AEwAA">PECS (Producer Extends Consumer Super)</a> ,    Java Generics and Collections (Maurice Naftalin, Philip Wadler) - <a href="http://books.google.ru/books%3Fid%3DzaoK0Z2STlkC%26pg%3DPA19%26lpg%3DPA19%26dq%3DNaftalin%2Band%2BWadler%2BGet%2Band%2BPut%2BPrinciple%26source%3Dbl%26ots%3D6Xuqgc-XGO%26sig%3DW9eFVjUg2Wi3no0bQS4359Fhu-k%26hl%3Den%26sa%3DX%26ei%3DQLzGUvzMNsXZ4QTE1YGYDw%26ved%3D0CCoQ6AEwAA">Get and Put Principle</a> .     PECS,  .   : <br> <br>        (, <code><code><code>Collection  Predicate),   ,   - <i></i> ( <i>producer</i> ),   ? extends T</code> ,    - <i></i> ( <i>consumer</i> ),   <code>? super T</code> .</code> <br> <i></i>  <i></i> ,   ?  :      ,    - <i></i> ,       ,    <i></i> .  ,   <i></i>  <i></i> ,      T. <br> <br>    <code><code><code>Predicate -  <i></i> ( getAll(Predicate)       T),  Map&lt;K, V&gt;</code> - <i></i> ( putAll(Map&lt;K, V&gt;)    T -     T  K  V -   ). <br> <br>  ,     <i></i> ,  <i></i>  - ,       ,     ( ,   ) -      . <br> <br>         -    wildcard-      ,      wildcard-   . <br> <br>  PECS-,         <code>MyObjectStore</code>     ,   .  <code>put(K, V)</code>  <code>get(K)</code>    (..       );  <code>putAll(Map&lt;? extends K, ? extends V&gt;)</code>  <code>getAll(Predicate&lt;? super V&gt;)</code>     ,  ;   </code></code></code> <code class="java">getAll(Collection)  - <i></i>   ,    .  <br> <br> Map&lt;K, V&gt; getAll(Collection&lt;K&gt; keys);</code> <br>  <br> <br> <code class="java">Map&lt;K, V&gt; getAll(Collection&lt;? extends K&gt; keys);</code> <br>   ,   API! (,     !) <br> <br>      <br> <i></i>     .    <i></i> -  : <br> <br> <code class="java">interface Factory&lt;T&gt; { /** *      . * * @param args . * @return  . */ T create(Object... args); }</code> <br>   ,   <i></i> ,  <i></i> ,     : <br> <br> <code class="java">interface Cloner&lt;T&gt; { /** *  . * * @param obj  . * @return . */ T clone(T obj); }</code> <br>    <i></i>  ,   ouput-,        (    Java      ). <br> <br>  <br>        PECS (Producer Extends Consumer Super)       API  Java.   ,             ,        API. ,  ,     ,    PECS ,          . <br> <br>  <br> <a href="http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683">Joshua Bloch - Effective Java (2nd Edition)</a> <a href="http://shop.oreilly.com/product/9780596527754.do">Maurice Naftalin, Philip Wadler - Java Generics and Collections</a></code></code> <h5> <code><code>Predicate  Predicate,      : <br> <br> no suitable method found for getAll(Predicate&lt;Vehicle&gt;) <br>   ,    ,  <code>Vehicle</code> -   <code>Car</code> .       <code>Car</code> ,  , ,     <code>Vehicle</code> ,     <code>Car</code> !          <code>Vehicle</code>     <code>Car</code> .       , ,  ,     : <br> <br> <code class="java">final Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(new Predicate&lt;Car&gt;() { @Override public boolean apply(Car exp) { return vp.apply(exp); } });</code> <br>      !       : <br> <br> <code class="java">Collection&lt;V&gt; getAll(Predicate&lt;? super V&gt; p);</code> <br>  <code>Predicate&lt;? super V&gt;</code>  "  V    V (  Object)".        ,        .        <code>Vehicle</code>  : <br> <br> <code class="java">MyObjectStore&lt;Long, Car&gt; carsStore = ...; Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(vp);</code> <br>      ,      . <br> <br>  <code>? extends T</code> <br>      ,    . ,   ,    <code>? extends T</code>    .  :    <code>MyObjectStore&lt;Long, Vehicle&gt;</code> ,         <code>Map&lt;Long, Car&gt;</code> ( <code>Car</code> -   <code>Vehicle</code> ),         : <br> <br> <code class="java">MyObjectStore&lt;Long, Vehicle&gt; carsStore = ...; Map&lt;Long, Car&gt; cars = new HashMap&lt;Long, Car&gt;(2); cars.put(1L, new Car("Audi", "A6", 2011)); cars.put(2L, new Car("Honda", "Civic", 2012)); carsStore.putAll(cars); //  .</code> <br>     , ,     ,     ,  wildcard <code>? extends T</code>    : <br> <br> <code class="java">void putAll(Map&lt;? extends K, ? extends V&gt; entries);</code> <br>  <code>Map&lt;? extends K, ? extends V&gt;</code>   "    K     K     V     V". <br> <br> <a name="pecs"></a> <br>  PECS - Producer Extends Consumer Super <br>     ,       ,      ,          . <br> <br>   Joshua Bloch  <a href="http://books.google.ru/books%3Fid%3Dka2VUBqHiWkC%26pg%3DPA136%26lpg%3DPA136%26dq%3Dbloch%2Beffective%2Bjava%2Bpecs%2Bmnemonic%26source%3Dbl%26ots%3DyYKnPjt-P-%26sig%3DJGT8qexAAldJ5xYPepbBQ5uude0%26hl%3Den%26sa%3DX%26ei%3DCb3GUv-sNIuK5ATM7oD4Dw%26ved%3D0CCgQ6AEwAA">PECS (Producer Extends Consumer Super)</a> ,    Java Generics and Collections (Maurice Naftalin, Philip Wadler) - <a href="http://books.google.ru/books%3Fid%3DzaoK0Z2STlkC%26pg%3DPA19%26lpg%3DPA19%26dq%3DNaftalin%2Band%2BWadler%2BGet%2Band%2BPut%2BPrinciple%26source%3Dbl%26ots%3D6Xuqgc-XGO%26sig%3DW9eFVjUg2Wi3no0bQS4359Fhu-k%26hl%3Den%26sa%3DX%26ei%3DQLzGUvzMNsXZ4QTE1YGYDw%26ved%3D0CCoQ6AEwAA">Get and Put Principle</a> .     PECS,  .   : <br> <br>        (, <code><code><code>Collection  Predicate),   ,   - <i></i> ( <i>producer</i> ),   ? extends T</code> ,    - <i></i> ( <i>consumer</i> ),   <code>? super T</code> .</code> <br> <i></i>  <i></i> ,   ?  :      ,    - <i></i> ,       ,    <i></i> .  ,   <i></i>  <i></i> ,      T. <br> <br>    <code><code><code>Predicate -  <i></i> ( getAll(Predicate)       T),  Map&lt;K, V&gt;</code> - <i></i> ( putAll(Map&lt;K, V&gt;)    T -     T  K  V -   ). <br> <br>  ,     <i></i> ,  <i></i>  - ,       ,     ( ,   ) -      . <br> <br>         -    wildcard-      ,      wildcard-   . <br> <br>  PECS-,         <code>MyObjectStore</code>     ,   .  <code>put(K, V)</code>  <code>get(K)</code>    (..       );  <code>putAll(Map&lt;? extends K, ? extends V&gt;)</code>  <code>getAll(Predicate&lt;? super V&gt;)</code>     ,  ;   </code></code></code> <code class="java">getAll(Collection)  - <i></i>   ,    .  <br> <br> Map&lt;K, V&gt; getAll(Collection&lt;K&gt; keys);</code> <br>  <br> <br> <code class="java">Map&lt;K, V&gt; getAll(Collection&lt;? extends K&gt; keys);</code> <br>   ,   API! (,     !) <br> <br>      <br> <i></i>     .    <i></i> -  : <br> <br> <code class="java">interface Factory&lt;T&gt; { /** *      . * * @param args . * @return  . */ T create(Object... args); }</code> <br>   ,   <i></i> ,  <i></i> ,     : <br> <br> <code class="java">interface Cloner&lt;T&gt; { /** *  . * * @param obj  . * @return . */ T clone(T obj); }</code> <br>    <i></i>  ,   ouput-,        (    Java      ). <br> <br>  <br>        PECS (Producer Extends Consumer Super)       API  Java.   ,             ,        API. ,  ,     ,    PECS ,          . <br> <br>  <br> <a href="http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683">Joshua Bloch - Effective Java (2nd Edition)</a> <a href="http://shop.oreilly.com/product/9780596527754.do">Maurice Naftalin, Philip Wadler - Java Generics and Collections</a></code></code> </h5> <code><code>Predicate  Predicate,      : <br> <br> no suitable method found for getAll(Predicate&lt;Vehicle&gt;) <br>   ,    ,  <code>Vehicle</code> -   <code>Car</code> .       <code>Car</code> ,  , ,     <code>Vehicle</code> ,     <code>Car</code> !          <code>Vehicle</code>     <code>Car</code> .       , ,  ,     : <br> <br> <code class="java">final Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(new Predicate&lt;Car&gt;() { @Override public boolean apply(Car exp) { return vp.apply(exp); } });</code> <br>      !       : <br> <br> <code class="java">Collection&lt;V&gt; getAll(Predicate&lt;? super V&gt; p);</code> <br>  <code>Predicate&lt;? super V&gt;</code>  "  V    V (  Object)".        ,        .        <code>Vehicle</code>  : <br> <br> <code class="java">MyObjectStore&lt;Long, Car&gt; carsStore = ...; Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(vp);</code> <br>      ,      . <br> <br>  <code>? extends T</code> <br>      ,    . ,   ,    <code>? extends T</code>    .  :    <code>MyObjectStore&lt;Long, Vehicle&gt;</code> ,         <code>Map&lt;Long, Car&gt;</code> ( <code>Car</code> -   <code>Vehicle</code> ),         : <br> <br> <code class="java">MyObjectStore&lt;Long, Vehicle&gt; carsStore = ...; Map&lt;Long, Car&gt; cars = new HashMap&lt;Long, Car&gt;(2); cars.put(1L, new Car("Audi", "A6", 2011)); cars.put(2L, new Car("Honda", "Civic", 2012)); carsStore.putAll(cars); //  .</code> <br>     , ,     ,     ,  wildcard <code>? extends T</code>    : <br> <br> <code class="java">void putAll(Map&lt;? extends K, ? extends V&gt; entries);</code> <br>  <code>Map&lt;? extends K, ? extends V&gt;</code>   "    K     K     V     V". <br> <br> <a name="pecs"></a> <br>  PECS - Producer Extends Consumer Super <br>     ,       ,      ,          . <br> <br>   Joshua Bloch  <a href="http://books.google.ru/books%3Fid%3Dka2VUBqHiWkC%26pg%3DPA136%26lpg%3DPA136%26dq%3Dbloch%2Beffective%2Bjava%2Bpecs%2Bmnemonic%26source%3Dbl%26ots%3DyYKnPjt-P-%26sig%3DJGT8qexAAldJ5xYPepbBQ5uude0%26hl%3Den%26sa%3DX%26ei%3DCb3GUv-sNIuK5ATM7oD4Dw%26ved%3D0CCgQ6AEwAA">PECS (Producer Extends Consumer Super)</a> ,    Java Generics and Collections (Maurice Naftalin, Philip Wadler) - <a href="http://books.google.ru/books%3Fid%3DzaoK0Z2STlkC%26pg%3DPA19%26lpg%3DPA19%26dq%3DNaftalin%2Band%2BWadler%2BGet%2Band%2BPut%2BPrinciple%26source%3Dbl%26ots%3D6Xuqgc-XGO%26sig%3DW9eFVjUg2Wi3no0bQS4359Fhu-k%26hl%3Den%26sa%3DX%26ei%3DQLzGUvzMNsXZ4QTE1YGYDw%26ved%3D0CCoQ6AEwAA">Get and Put Principle</a> .     PECS,  .   : <br> <br>        (, <code><code><code>Collection  Predicate),   ,   - <i></i> ( <i>producer</i> ),   ? extends T</code> ,    - <i></i> ( <i>consumer</i> ),   <code>? super T</code> .</code> <br> <i></i>  <i></i> ,   ?  :      ,    - <i></i> ,       ,    <i></i> .  ,   <i></i>  <i></i> ,      T. <br> <br>    <code><code><code>Predicate -  <i></i> ( getAll(Predicate)       T),  Map&lt;K, V&gt;</code> - <i></i> ( putAll(Map&lt;K, V&gt;)    T -     T  K  V -   ). <br> <br>  ,     <i></i> ,  <i></i>  - ,       ,     ( ,   ) -      . <br> <br>         -    wildcard-      ,      wildcard-   . <br> <br>  PECS-,         <code>MyObjectStore</code>     ,   .  <code>put(K, V)</code>  <code>get(K)</code>    (..       );  <code>putAll(Map&lt;? extends K, ? extends V&gt;)</code>  <code>getAll(Predicate&lt;? super V&gt;)</code>     ,  ;   </code></code></code> <code class="java">getAll(Collection)  - <i></i>   ,    .  <br> <br> Map&lt;K, V&gt; getAll(Collection&lt;K&gt; keys);</code> <br>  <br> <br> <code class="java">Map&lt;K, V&gt; getAll(Collection&lt;? extends K&gt; keys);</code> <br>   ,   API! (,     !) <br> <br>      <br> <i></i>     .    <i></i> -  : <br> <br> <code class="java">interface Factory&lt;T&gt; { /** *      . * * @param args . * @return  . */ T create(Object... args); }</code> <br>   ,   <i></i> ,  <i></i> ,     : <br> <br> <code class="java">interface Cloner&lt;T&gt; { /** *  . * * @param obj  . * @return . */ T clone(T obj); }</code> <br>    <i></i>  ,   ouput-,        (    Java      ). <br> <br>  <br>        PECS (Producer Extends Consumer Super)       API  Java.   ,             ,        API. ,  ,     ,    PECS ,          . <br> <br>  <br> <a href="http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683">Joshua Bloch - Effective Java (2nd Edition)</a> <a href="http://shop.oreilly.com/product/9780596527754.do">Maurice Naftalin, Philip Wadler - Java Generics and Collections</a></code></code> <pre> <code class="hljs xml"><code>Predicate  Predicate,      : <br> <br> no suitable method found for getAll(Predicate<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Vehicle</span></span></span><span class="hljs-tag">&gt;</span></span>) <br>   ,    ,  <code>Vehicle</code> -   <code>Car</code> .       <code>Car</code> ,  , ,     <code>Vehicle</code> ,     <code>Car</code> !          <code>Vehicle</code>     <code>Car</code> .       , ,  ,     : <br> <br> <code class="java">final Predicate<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Vehicle</span></span></span><span class="hljs-tag">&gt;</span></span> vp = mgr.getVehiclePredicate(); Collection<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Car</span></span></span><span class="hljs-tag">&gt;</span></span> cars = carsStore.getAll(new Predicate<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Car</span></span></span><span class="hljs-tag">&gt;</span></span>() { @Override public boolean apply(Car exp) { return vp.apply(exp); } });</code> <br>      !       : <br> <br> <code class="java">Collection<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">V</span></span></span><span class="hljs-tag">&gt;</span></span> getAll(Predicate<span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php"> super V&gt; p);</span></span></code><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">  </span></span><code><span class="php"><span class="php">Predicate</span><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php"> super V&gt;</span></span></code><span class="php"><span class="php">  </span><span class="hljs-string"><span class="php"><span class="hljs-string">"  V    V (  Object)"</span></span></span><span class="php">.        ,        .        </span></span><code><span class="php"><span class="php">Vehicle</span></span></code><span class="php"><span class="php">  : </span></span><br><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php"> </span></span><code class="java"><span class="php"><span class="php">MyObjectStore&lt;Long, Car&gt; carsStore = ...; Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(vp);</span></span></code><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">      ,      . </span></span><br><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">  </span></span><code><span class="php"><span class="php">? extends T</span></span></code><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">      ,    . ,   ,    </span></span><code><span class="php"><span class="php">? extends T</span></span></code><span class="php"><span class="php">    .  :    </span></span><code><span class="php"><span class="php">MyObjectStore&lt;Long, Vehicle&gt;</span></span></code><span class="php"><span class="php"> ,         </span></span><code><span class="php"><span class="php">Map&lt;Long, Car&gt;</span></span></code><span class="php"><span class="php"> ( </span></span><code><span class="php"><span class="php">Car</span></span></code><span class="php"><span class="php"> -   </span></span><code><span class="php"><span class="php">Vehicle</span></span></code><span class="php"><span class="php"> ),         : </span></span><br><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php"> </span></span><code class="java"><span class="php"><span class="php">MyObjectStore&lt;Long, Vehicle&gt; carsStore = ...; Map&lt;Long, Car&gt; cars = </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">new</span></span></span><span class="php"> HashMap&lt;Long, Car&gt;(</span><span class="hljs-number"><span class="php"><span class="hljs-number">2</span></span></span><span class="php">); cars.put(</span><span class="hljs-number"><span class="php"><span class="hljs-number">1</span></span></span><span class="php">L, </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">new</span></span></span><span class="php"> Car(</span><span class="hljs-string"><span class="php"><span class="hljs-string">"Audi"</span></span></span><span class="php">, </span><span class="hljs-string"><span class="php"><span class="hljs-string">"A6"</span></span></span><span class="php">, </span><span class="hljs-number"><span class="php"><span class="hljs-number">2011</span></span></span><span class="php">)); cars.put(</span><span class="hljs-number"><span class="php"><span class="hljs-number">2</span></span></span><span class="php">L, </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">new</span></span></span><span class="php"> Car(</span><span class="hljs-string"><span class="php"><span class="hljs-string">"Honda"</span></span></span><span class="php">, </span><span class="hljs-string"><span class="php"><span class="hljs-string">"Civic"</span></span></span><span class="php">, </span><span class="hljs-number"><span class="php"><span class="hljs-number">2012</span></span></span><span class="php">)); carsStore.putAll(cars); </span><span class="hljs-comment"><span class="php"><span class="hljs-comment">//  .</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     , ,     ,     ,  wildcard </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">? extends T</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">void putAll(Map</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K, ? extends V&gt; entries);</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Map</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K, ? extends V&gt;</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   "    K     K     V     V". </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><a name="pecs"></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  PECS - Producer Extends Consumer Super </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     ,       ,      ,          . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   Joshua Bloch  </span></span></span></span><a href="http://books.google.ru/books%3Fid%3Dka2VUBqHiWkC%26pg%3DPA136%26lpg%3DPA136%26dq%3Dbloch%2Beffective%2Bjava%2Bpecs%2Bmnemonic%26source%3Dbl%26ots%3DyYKnPjt-P-%26sig%3DJGT8qexAAldJ5xYPepbBQ5uude0%26hl%3Den%26sa%3DX%26ei%3DCb3GUv-sNIuK5ATM7oD4Dw%26ved%3D0CCgQ6AEwAA"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">PECS (Producer Extends Consumer Super)</span></span></span></span></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,    Java Generics and Collections (Maurice Naftalin, Philip Wadler) - </span></span></span></span><a href="http://books.google.ru/books%3Fid%3DzaoK0Z2STlkC%26pg%3DPA19%26lpg%3DPA19%26dq%3DNaftalin%2Band%2BWadler%2BGet%2Band%2BPut%2BPrinciple%26source%3Dbl%26ots%3D6Xuqgc-XGO%26sig%3DW9eFVjUg2Wi3no0bQS4359Fhu-k%26hl%3Den%26sa%3DX%26ei%3DQLzGUvzMNsXZ4QTE1YGYDw%26ved%3D0CCoQ6AEwAA"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Get and Put Principle</span></span></span></span></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> .     PECS,  .   : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">        (, </span></span></span></span><code><code><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Collection  Predicate),   ,   - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">producer</span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ),   ? extends T</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,    - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">consumer</span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ),   </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">? super T</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> .</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,   ?  :      ,    - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,       ,    </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> .  ,   </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,      T. </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    </span></span></span></span><code><code><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Predicate -  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( getAll(Predicate)       T),  Map&lt;K, V&gt;</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( putAll(Map&lt;K, V&gt;)    T -     T  K  V -   ). </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  ,     </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  - ,       ,     ( ,   ) -      . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">         -    wildcard-      ,      wildcard-   . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  PECS-,         </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">MyObjectStore</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     ,   .  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">put(K, V)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">get(K)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    (..       );  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">putAll(Map</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K, ? extends V&gt;)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">getAll(Predicate</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> super V&gt;)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     ,  ;   </span></span></span></span></code></code></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">getAll(Collection)  - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   ,    .  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> Map&lt;K, V&gt; getAll(Collection&lt;K&gt; keys);</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Map&lt;K, V&gt; getAll(Collection</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K&gt; keys);</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   ,   API! (,     !) </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">      </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     .    </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> -  : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">interface Factory&lt;T&gt; { /** *      . * * @param args . * @return  . */ T create(Object... args); }</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   ,   </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,     : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">interface Cloner&lt;T&gt; { /** *  . * * @param obj  . * @return . */ T clone(T obj); }</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  ,   ouput-,        (    Java      ). </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">        PECS (Producer Extends Consumer Super)       API  Java.   ,             ,        API. ,  ,     ,    PECS ,          . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><a href="http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Joshua Bloch - Effective Java (2nd Edition)</span></span></span></span></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><a href="http://shop.oreilly.com/product/9780596527754.do"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Maurice Naftalin, Philip Wadler - Java Generics and Collections</span></span></span></span></a></code></code> </pre> <code><code>Predicate  Predicate,      : <br> <br> no suitable method found for getAll(Predicate&lt;Vehicle&gt;) <br>   ,    ,  <code>Vehicle</code> -   <code>Car</code> .       <code>Car</code> ,  , ,     <code>Vehicle</code> ,     <code>Car</code> !          <code>Vehicle</code>     <code>Car</code> .       , ,  ,     : <br> <br> <code class="java">final Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(new Predicate&lt;Car&gt;() { @Override public boolean apply(Car exp) { return vp.apply(exp); } });</code> <br>      !       : <br> <br> <code class="java">Collection&lt;V&gt; getAll(Predicate&lt;? super V&gt; p);</code> <br>  <code>Predicate&lt;? super V&gt;</code>  "  V    V (  Object)".        ,        .        <code>Vehicle</code>  : <br> <br> <code class="java">MyObjectStore&lt;Long, Car&gt; carsStore = ...; Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(vp);</code> <br>      ,      . <br> <br>  <code>? extends T</code> <br>      ,    . ,   ,    <code>? extends T</code>    .  :    <code>MyObjectStore&lt;Long, Vehicle&gt;</code> ,         <code>Map&lt;Long, Car&gt;</code> ( <code>Car</code> -   <code>Vehicle</code> ),         : <br> <br> <code class="java">MyObjectStore&lt;Long, Vehicle&gt; carsStore = ...; Map&lt;Long, Car&gt; cars = new HashMap&lt;Long, Car&gt;(2); cars.put(1L, new Car("Audi", "A6", 2011)); cars.put(2L, new Car("Honda", "Civic", 2012)); carsStore.putAll(cars); //  .</code> <br>     , ,     ,     ,  wildcard <code>? extends T</code>    : <br> <br> <code class="java">void putAll(Map&lt;? extends K, ? extends V&gt; entries);</code> <br>  <code>Map&lt;? extends K, ? extends V&gt;</code>   "    K     K     V     V". <br> <br> <a name="pecs"></a> <br>  PECS - Producer Extends Consumer Super <br>     ,       ,      ,          . <br> <br>   Joshua Bloch  <a href="http://books.google.ru/books%3Fid%3Dka2VUBqHiWkC%26pg%3DPA136%26lpg%3DPA136%26dq%3Dbloch%2Beffective%2Bjava%2Bpecs%2Bmnemonic%26source%3Dbl%26ots%3DyYKnPjt-P-%26sig%3DJGT8qexAAldJ5xYPepbBQ5uude0%26hl%3Den%26sa%3DX%26ei%3DCb3GUv-sNIuK5ATM7oD4Dw%26ved%3D0CCgQ6AEwAA">PECS (Producer Extends Consumer Super)</a> ,    Java Generics and Collections (Maurice Naftalin, Philip Wadler) - <a href="http://books.google.ru/books%3Fid%3DzaoK0Z2STlkC%26pg%3DPA19%26lpg%3DPA19%26dq%3DNaftalin%2Band%2BWadler%2BGet%2Band%2BPut%2BPrinciple%26source%3Dbl%26ots%3D6Xuqgc-XGO%26sig%3DW9eFVjUg2Wi3no0bQS4359Fhu-k%26hl%3Den%26sa%3DX%26ei%3DQLzGUvzMNsXZ4QTE1YGYDw%26ved%3D0CCoQ6AEwAA">Get and Put Principle</a> .     PECS,  .   : <br> <br>        (, <code><code><code>Collection  Predicate),   ,   - <i></i> ( <i>producer</i> ),   ? extends T</code> ,    - <i></i> ( <i>consumer</i> ),   <code>? super T</code> .</code> <br> <i></i>  <i></i> ,   ?  :      ,    - <i></i> ,       ,    <i></i> .  ,   <i></i>  <i></i> ,      T. <br> <br>    <code><code><code>Predicate -  <i></i> ( getAll(Predicate)       T),  Map&lt;K, V&gt;</code> - <i></i> ( putAll(Map&lt;K, V&gt;)    T -     T  K  V -   ). <br> <br>  ,     <i></i> ,  <i></i>  - ,       ,     ( ,   ) -      . <br> <br>         -    wildcard-      ,      wildcard-   . <br> <br>  PECS-,         <code>MyObjectStore</code>     ,   .  <code>put(K, V)</code>  <code>get(K)</code>    (..       );  <code>putAll(Map&lt;? extends K, ? extends V&gt;)</code>  <code>getAll(Predicate&lt;? super V&gt;)</code>     ,  ;   </code></code></code> <code class="java">getAll(Collection)  - <i></i>   ,    .  <br> <br> Map&lt;K, V&gt; getAll(Collection&lt;K&gt; keys);</code> <br>  <br> <br> <code class="java">Map&lt;K, V&gt; getAll(Collection&lt;? extends K&gt; keys);</code> <br>   ,   API! (,     !) <br> <br>      <br> <i></i>     .    <i></i> -  : <br> <br> <code class="java">interface Factory&lt;T&gt; { /** *      . * * @param args . * @return  . */ T create(Object... args); }</code> <br>   ,   <i></i> ,  <i></i> ,     : <br> <br> <code class="java">interface Cloner&lt;T&gt; { /** *  . * * @param obj  . * @return . */ T clone(T obj); }</code> <br>    <i></i>  ,   ouput-,        (    Java      ). <br> <br>  <br>        PECS (Producer Extends Consumer Super)       API  Java.   ,             ,        API. ,  ,     ,    PECS ,          . <br> <br>  <br> <a href="http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683">Joshua Bloch - Effective Java (2nd Edition)</a> <a href="http://shop.oreilly.com/product/9780596527754.do">Maurice Naftalin, Philip Wadler - Java Generics and Collections</a></code></code> <pre> <code class="hljs xml"><code>Predicate  Predicate,      : <br> <br> no suitable method found for getAll(Predicate<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Vehicle</span></span></span><span class="hljs-tag">&gt;</span></span>) <br>   ,    ,  <code>Vehicle</code> -   <code>Car</code> .       <code>Car</code> ,  , ,     <code>Vehicle</code> ,     <code>Car</code> !          <code>Vehicle</code>     <code>Car</code> .       , ,  ,     : <br> <br> <code class="java">final Predicate<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Vehicle</span></span></span><span class="hljs-tag">&gt;</span></span> vp = mgr.getVehiclePredicate(); Collection<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Car</span></span></span><span class="hljs-tag">&gt;</span></span> cars = carsStore.getAll(new Predicate<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Car</span></span></span><span class="hljs-tag">&gt;</span></span>() { @Override public boolean apply(Car exp) { return vp.apply(exp); } });</code> <br>      !       : <br> <br> <code class="java">Collection<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">V</span></span></span><span class="hljs-tag">&gt;</span></span> getAll(Predicate<span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php"> super V&gt; p);</span></span></code><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">  </span></span><code><span class="php"><span class="php">Predicate</span><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?</span></span></span><span class="php"> super V&gt;</span></span></code><span class="php"><span class="php">  </span><span class="hljs-string"><span class="php"><span class="hljs-string">"  V    V (  Object)"</span></span></span><span class="php">.        ,        .        </span></span><code><span class="php"><span class="php">Vehicle</span></span></code><span class="php"><span class="php">  : </span></span><br><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php"> </span></span><code class="java"><span class="php"><span class="php">MyObjectStore&lt;Long, Car&gt; carsStore = ...; Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(vp);</span></span></code><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">      ,      . </span></span><br><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">  </span></span><code><span class="php"><span class="php">? extends T</span></span></code><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php">      ,    . ,   ,    </span></span><code><span class="php"><span class="php">? extends T</span></span></code><span class="php"><span class="php">    .  :    </span></span><code><span class="php"><span class="php">MyObjectStore&lt;Long, Vehicle&gt;</span></span></code><span class="php"><span class="php"> ,         </span></span><code><span class="php"><span class="php">Map&lt;Long, Car&gt;</span></span></code><span class="php"><span class="php"> ( </span></span><code><span class="php"><span class="php">Car</span></span></code><span class="php"><span class="php"> -   </span></span><code><span class="php"><span class="php">Vehicle</span></span></code><span class="php"><span class="php"> ),         : </span></span><br><span class="php"><span class="php"> </span></span><br><span class="php"><span class="php"> </span></span><code class="java"><span class="php"><span class="php">MyObjectStore&lt;Long, Vehicle&gt; carsStore = ...; Map&lt;Long, Car&gt; cars = </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">new</span></span></span><span class="php"> HashMap&lt;Long, Car&gt;(</span><span class="hljs-number"><span class="php"><span class="hljs-number">2</span></span></span><span class="php">); cars.put(</span><span class="hljs-number"><span class="php"><span class="hljs-number">1</span></span></span><span class="php">L, </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">new</span></span></span><span class="php"> Car(</span><span class="hljs-string"><span class="php"><span class="hljs-string">"Audi"</span></span></span><span class="php">, </span><span class="hljs-string"><span class="php"><span class="hljs-string">"A6"</span></span></span><span class="php">, </span><span class="hljs-number"><span class="php"><span class="hljs-number">2011</span></span></span><span class="php">)); cars.put(</span><span class="hljs-number"><span class="php"><span class="hljs-number">2</span></span></span><span class="php">L, </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">new</span></span></span><span class="php"> Car(</span><span class="hljs-string"><span class="php"><span class="hljs-string">"Honda"</span></span></span><span class="php">, </span><span class="hljs-string"><span class="php"><span class="hljs-string">"Civic"</span></span></span><span class="php">, </span><span class="hljs-number"><span class="php"><span class="hljs-number">2012</span></span></span><span class="php">)); carsStore.putAll(cars); </span><span class="hljs-comment"><span class="php"><span class="hljs-comment">//  .</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     , ,     ,     ,  wildcard </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">? extends T</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">void putAll(Map</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K, ? extends V&gt; entries);</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Map</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K, ? extends V&gt;</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   "    K     K     V     V". </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><a name="pecs"></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  PECS - Producer Extends Consumer Super </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     ,       ,      ,          . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   Joshua Bloch  </span></span></span></span><a href="http://books.google.ru/books%3Fid%3Dka2VUBqHiWkC%26pg%3DPA136%26lpg%3DPA136%26dq%3Dbloch%2Beffective%2Bjava%2Bpecs%2Bmnemonic%26source%3Dbl%26ots%3DyYKnPjt-P-%26sig%3DJGT8qexAAldJ5xYPepbBQ5uude0%26hl%3Den%26sa%3DX%26ei%3DCb3GUv-sNIuK5ATM7oD4Dw%26ved%3D0CCgQ6AEwAA"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">PECS (Producer Extends Consumer Super)</span></span></span></span></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,    Java Generics and Collections (Maurice Naftalin, Philip Wadler) - </span></span></span></span><a href="http://books.google.ru/books%3Fid%3DzaoK0Z2STlkC%26pg%3DPA19%26lpg%3DPA19%26dq%3DNaftalin%2Band%2BWadler%2BGet%2Band%2BPut%2BPrinciple%26source%3Dbl%26ots%3D6Xuqgc-XGO%26sig%3DW9eFVjUg2Wi3no0bQS4359Fhu-k%26hl%3Den%26sa%3DX%26ei%3DQLzGUvzMNsXZ4QTE1YGYDw%26ved%3D0CCoQ6AEwAA"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Get and Put Principle</span></span></span></span></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> .     PECS,  .   : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">        (, </span></span></span></span><code><code><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Collection  Predicate),   ,   - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">producer</span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ),   ? extends T</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,    - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">consumer</span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ),   </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">? super T</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> .</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,   ?  :      ,    - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,       ,    </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> .  ,   </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,      T. </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    </span></span></span></span><code><code><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Predicate -  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( getAll(Predicate)       T),  Map&lt;K, V&gt;</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ( putAll(Map&lt;K, V&gt;)    T -     T  K  V -   ). </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  ,     </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  - ,       ,     ( ,   ) -      . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">         -    wildcard-      ,      wildcard-   . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  PECS-,         </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">MyObjectStore</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     ,   .  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">put(K, V)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">get(K)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    (..       );  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">putAll(Map</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K, ? extends V&gt;)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">getAll(Predicate</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> super V&gt;)</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     ,  ;   </span></span></span></span></code></code></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">getAll(Collection)  - </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   ,    .  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> Map&lt;K, V&gt; getAll(Collection&lt;K&gt; keys);</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Map&lt;K, V&gt; getAll(Collection</span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span></span><span class="php"><span class="hljs-comment"> extends K&gt; keys);</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   ,   API! (,     !) </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">      </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">     .    </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> -  : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">interface Factory&lt;T&gt; { /** *      . * * @param args . * @return  . */ T create(Object... args); }</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">   ,   </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,  </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> ,     : </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><code class="java"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">interface Cloner&lt;T&gt; { /** *  . * * @param obj  . * @return . */ T clone(T obj); }</span></span></span></span></code><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">    </span></span></span></span><i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"></span></span></span></span></i><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  ,   ouput-,        (    Java      ). </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">        PECS (Producer Extends Consumer Super)       API  Java.   ,             ,        API. ,  ,     ,    PECS ,          . </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">  </span></span></span></span><br><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><a href="http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Joshua Bloch - Effective Java (2nd Edition)</span></span></span></span></a><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment"> </span></span></span></span><a href="http://shop.oreilly.com/product/9780596527754.do"><span class="php"><span class="hljs-comment"><span class="php"><span class="hljs-comment">Maurice Naftalin, Philip Wadler - Java Generics and Collections</span></span></span></span></a></code></code> </pre> <code><code>Predicate  Predicate,      : <br> <br> no suitable method found for getAll(Predicate&lt;Vehicle&gt;) <br>   ,    ,  <code>Vehicle</code> -   <code>Car</code> .       <code>Car</code> ,  , ,     <code>Vehicle</code> ,     <code>Car</code> !          <code>Vehicle</code>     <code>Car</code> .       , ,  ,     : <br> <br> <code class="java">final Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(new Predicate&lt;Car&gt;() { @Override public boolean apply(Car exp) { return vp.apply(exp); } });</code> <br>      !       : <br> <br> <code class="java">Collection&lt;V&gt; getAll(Predicate&lt;? super V&gt; p);</code> <br>  <code>Predicate&lt;? super V&gt;</code>  "  V    V (  Object)".        ,        .        <code>Vehicle</code>  : <br> <br> <code class="java">MyObjectStore&lt;Long, Car&gt; carsStore = ...; Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(vp);</code> <br>      ,      . <br> <br>  <code>? extends T</code> <br>      ,    . ,   ,    <code>? extends T</code>    .  :    <code>MyObjectStore&lt;Long, Vehicle&gt;</code> ,         <code>Map&lt;Long, Car&gt;</code> ( <code>Car</code> -   <code>Vehicle</code> ),         : <br> <br> <code class="java">MyObjectStore&lt;Long, Vehicle&gt; carsStore = ...; Map&lt;Long, Car&gt; cars = new HashMap&lt;Long, Car&gt;(2); cars.put(1L, new Car("Audi", "A6", 2011)); cars.put(2L, new Car("Honda", "Civic", 2012)); carsStore.putAll(cars); //  .</code> <br>     , ,     ,     ,  wildcard <code>? extends T</code>    : <br> <br> <code class="java">void putAll(Map&lt;? extends K, ? extends V&gt; entries);</code> <br>  <code>Map&lt;? extends K, ? extends V&gt;</code>   "    K     K     V     V". <br> <br> <a name="pecs"></a> <br>  PECS - Producer Extends Consumer Super <br>     ,       ,      ,          . <br> <br>   Joshua Bloch  <a href="http://books.google.ru/books%3Fid%3Dka2VUBqHiWkC%26pg%3DPA136%26lpg%3DPA136%26dq%3Dbloch%2Beffective%2Bjava%2Bpecs%2Bmnemonic%26source%3Dbl%26ots%3DyYKnPjt-P-%26sig%3DJGT8qexAAldJ5xYPepbBQ5uude0%26hl%3Den%26sa%3DX%26ei%3DCb3GUv-sNIuK5ATM7oD4Dw%26ved%3D0CCgQ6AEwAA">PECS (Producer Extends Consumer Super)</a> ,    Java Generics and Collections (Maurice Naftalin, Philip Wadler) - <a href="http://books.google.ru/books%3Fid%3DzaoK0Z2STlkC%26pg%3DPA19%26lpg%3DPA19%26dq%3DNaftalin%2Band%2BWadler%2BGet%2Band%2BPut%2BPrinciple%26source%3Dbl%26ots%3D6Xuqgc-XGO%26sig%3DW9eFVjUg2Wi3no0bQS4359Fhu-k%26hl%3Den%26sa%3DX%26ei%3DQLzGUvzMNsXZ4QTE1YGYDw%26ved%3D0CCoQ6AEwAA">Get and Put Principle</a> .     PECS,  .   : <br> <br>        (, <code><code><code>Collection  Predicate),   ,   - <i></i> ( <i>producer</i> ),   ? extends T</code> ,    - <i></i> ( <i>consumer</i> ),   <code>? super T</code> .</code> <br> <i></i>  <i></i> ,   ?  :      ,    - <i></i> ,       ,    <i></i> .  ,   <i></i>  <i></i> ,      T. <br> <br>    <code><code><code>Predicate -  <i></i> ( getAll(Predicate)       T),  Map&lt;K, V&gt;</code> - <i></i> ( putAll(Map&lt;K, V&gt;)    T -     T  K  V -   ). <br> <br>  ,     <i></i> ,  <i></i>  - ,       ,     ( ,   ) -      . <br> <br>         -    wildcard-      ,      wildcard-   . <br> <br>  PECS-,         <code>MyObjectStore</code>     ,   .  <code>put(K, V)</code>  <code>get(K)</code>    (..       );  <code>putAll(Map&lt;? extends K, ? extends V&gt;)</code>  <code>getAll(Predicate&lt;? super V&gt;)</code>     ,  ;   </code></code></code> <code class="java">getAll(Collection)  - <i></i>   ,    .  <br> <br> Map&lt;K, V&gt; getAll(Collection&lt;K&gt; keys);</code> <br>  <br> <br> <code class="java">Map&lt;K, V&gt; getAll(Collection&lt;? extends K&gt; keys);</code> <br>   ,   API! (,     !) <br> <br>      <br> <i></i>     .    <i></i> -  : <br> <br> <code class="java">interface Factory&lt;T&gt; { /** *      . * * @param args . * @return  . */ T create(Object... args); }</code> <br>   ,   <i></i> ,  <i></i> ,     : <br> <br> <code class="java">interface Cloner&lt;T&gt; { /** *  . * * @param obj  . * @return . */ T clone(T obj); }</code> <br>    <i></i>  ,   ouput-,        (    Java      ). <br> <br>  <br>        PECS (Producer Extends Consumer Super)       API  Java.   ,             ,        API. ,  ,     ,    PECS ,          . <br> <br>  <br> <a href="http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683">Joshua Bloch - Effective Java (2nd Edition)</a> <a href="http://shop.oreilly.com/product/9780596527754.do">Maurice Naftalin, Philip Wadler - Java Generics and Collections</a></code></code> <h4> <code><code>Predicate  Predicate,      : <br> <br> no suitable method found for getAll(Predicate&lt;Vehicle&gt;) <br>   ,    ,  <code>Vehicle</code> -   <code>Car</code> .       <code>Car</code> ,  , ,     <code>Vehicle</code> ,     <code>Car</code> !          <code>Vehicle</code>     <code>Car</code> .       , ,  ,     : <br> <br> <code class="java">final Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(new Predicate&lt;Car&gt;() { @Override public boolean apply(Car exp) { return vp.apply(exp); } });</code> <br>      !       : <br> <br> <code class="java">Collection&lt;V&gt; getAll(Predicate&lt;? super V&gt; p);</code> <br>  <code>Predicate&lt;? super V&gt;</code>  "  V    V (  Object)".        ,        .        <code>Vehicle</code>  : <br> <br> <code class="java">MyObjectStore&lt;Long, Car&gt; carsStore = ...; Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(vp);</code> <br>      ,      . <br> <br>  <code>? extends T</code> <br>      ,    . ,   ,    <code>? extends T</code>    .  :    <code>MyObjectStore&lt;Long, Vehicle&gt;</code> ,         <code>Map&lt;Long, Car&gt;</code> ( <code>Car</code> -   <code>Vehicle</code> ),         : <br> <br> <code class="java">MyObjectStore&lt;Long, Vehicle&gt; carsStore = ...; Map&lt;Long, Car&gt; cars = new HashMap&lt;Long, Car&gt;(2); cars.put(1L, new Car("Audi", "A6", 2011)); cars.put(2L, new Car("Honda", "Civic", 2012)); carsStore.putAll(cars); //  .</code> <br>     , ,     ,     ,  wildcard <code>? extends T</code>    : <br> <br> <code class="java">void putAll(Map&lt;? extends K, ? extends V&gt; entries);</code> <br>  <code>Map&lt;? extends K, ? extends V&gt;</code>   "    K     K     V     V". <br> <br> <a name="pecs"></a> <br>  PECS - Producer Extends Consumer Super <br>     ,       ,      ,          . <br> <br>   Joshua Bloch  <a href="http://books.google.ru/books%3Fid%3Dka2VUBqHiWkC%26pg%3DPA136%26lpg%3DPA136%26dq%3Dbloch%2Beffective%2Bjava%2Bpecs%2Bmnemonic%26source%3Dbl%26ots%3DyYKnPjt-P-%26sig%3DJGT8qexAAldJ5xYPepbBQ5uude0%26hl%3Den%26sa%3DX%26ei%3DCb3GUv-sNIuK5ATM7oD4Dw%26ved%3D0CCgQ6AEwAA">PECS (Producer Extends Consumer Super)</a> ,    Java Generics and Collections (Maurice Naftalin, Philip Wadler) - <a href="http://books.google.ru/books%3Fid%3DzaoK0Z2STlkC%26pg%3DPA19%26lpg%3DPA19%26dq%3DNaftalin%2Band%2BWadler%2BGet%2Band%2BPut%2BPrinciple%26source%3Dbl%26ots%3D6Xuqgc-XGO%26sig%3DW9eFVjUg2Wi3no0bQS4359Fhu-k%26hl%3Den%26sa%3DX%26ei%3DQLzGUvzMNsXZ4QTE1YGYDw%26ved%3D0CCoQ6AEwAA">Get and Put Principle</a> .     PECS,  .   : <br> <br>        (, <code><code><code>Collection  Predicate),   ,   - <i></i> ( <i>producer</i> ),   ? extends T</code> ,    - <i></i> ( <i>consumer</i> ),   <code>? super T</code> .</code> <br> <i></i>  <i></i> ,   ?  :      ,    - <i></i> ,       ,    <i></i> .  ,   <i></i>  <i></i> ,      T. <br> <br>    <code><code><code>Predicate -  <i></i> ( getAll(Predicate)       T),  Map&lt;K, V&gt;</code> - <i></i> ( putAll(Map&lt;K, V&gt;)    T -     T  K  V -   ). <br> <br>  ,     <i></i> ,  <i></i>  - ,       ,     ( ,   ) -      . <br> <br>         -    wildcard-      ,      wildcard-   . <br> <br>  PECS-,         <code>MyObjectStore</code>     ,   .  <code>put(K, V)</code>  <code>get(K)</code>    (..       );  <code>putAll(Map&lt;? extends K, ? extends V&gt;)</code>  <code>getAll(Predicate&lt;? super V&gt;)</code>     ,  ;   </code></code></code> <code class="java">getAll(Collection)  - <i></i>   ,    .  <br> <br> Map&lt;K, V&gt; getAll(Collection&lt;K&gt; keys);</code> <br>  <br> <br> <code class="java">Map&lt;K, V&gt; getAll(Collection&lt;? extends K&gt; keys);</code> <br>   ,   API! (,     !) <br> <br>      <br> <i></i>     .    <i></i> -  : <br> <br> <code class="java">interface Factory&lt;T&gt; { /** *      . * * @param args . * @return  . */ T create(Object... args); }</code> <br>   ,   <i></i> ,  <i></i> ,     : <br> <br> <code class="java">interface Cloner&lt;T&gt; { /** *  . * * @param obj  . * @return . */ T clone(T obj); }</code> <br>    <i></i>  ,   ouput-,        (    Java      ). <br> <br>  <br>        PECS (Producer Extends Consumer Super)       API  Java.   ,             ,        API. ,  ,     ,    PECS ,          . <br> <br>  <br> <a href="http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683">Joshua Bloch - Effective Java (2nd Edition)</a> <a href="http://shop.oreilly.com/product/9780596527754.do">Maurice Naftalin, Philip Wadler - Java Generics and Collections</a></code></code> </h4> <code><code>Predicate  Predicate,      : <br> <br> no suitable method found for getAll(Predicate&lt;Vehicle&gt;) <br>   ,    ,  <code>Vehicle</code> -   <code>Car</code> .       <code>Car</code> ,  , ,     <code>Vehicle</code> ,     <code>Car</code> !          <code>Vehicle</code>     <code>Car</code> .       , ,  ,     : <br> <br> <code class="java">final Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(new Predicate&lt;Car&gt;() { @Override public boolean apply(Car exp) { return vp.apply(exp); } });</code> <br>      !       : <br> <br> <code class="java">Collection&lt;V&gt; getAll(Predicate&lt;? super V&gt; p);</code> <br>  <code>Predicate&lt;? super V&gt;</code>  "  V    V (  Object)".        ,        .        <code>Vehicle</code>  : <br> <br> <code class="java">MyObjectStore&lt;Long, Car&gt; carsStore = ...; Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(vp);</code> <br>      ,      . <br> <br>  <code>? extends T</code> <br>      ,    . ,   ,    <code>? extends T</code>    .  :    <code>MyObjectStore&lt;Long, Vehicle&gt;</code> ,         <code>Map&lt;Long, Car&gt;</code> ( <code>Car</code> -   <code>Vehicle</code> ),         : <br> <br> <code class="java">MyObjectStore&lt;Long, Vehicle&gt; carsStore = ...; Map&lt;Long, Car&gt; cars = new HashMap&lt;Long, Car&gt;(2); cars.put(1L, new Car("Audi", "A6", 2011)); cars.put(2L, new Car("Honda", "Civic", 2012)); carsStore.putAll(cars); //  .</code> <br>     , ,     ,     ,  wildcard <code>? extends T</code>    : <br> <br> <code class="java">void putAll(Map&lt;? extends K, ? extends V&gt; entries);</code> <br>  <code>Map&lt;? extends K, ? extends V&gt;</code>   "    K     K     V     V". <br> <br> <a name="pecs"></a> <br>  PECS - Producer Extends Consumer Super <br>     ,       ,      ,          . <br> <br>   Joshua Bloch  <a href="http://books.google.ru/books%3Fid%3Dka2VUBqHiWkC%26pg%3DPA136%26lpg%3DPA136%26dq%3Dbloch%2Beffective%2Bjava%2Bpecs%2Bmnemonic%26source%3Dbl%26ots%3DyYKnPjt-P-%26sig%3DJGT8qexAAldJ5xYPepbBQ5uude0%26hl%3Den%26sa%3DX%26ei%3DCb3GUv-sNIuK5ATM7oD4Dw%26ved%3D0CCgQ6AEwAA">PECS (Producer Extends Consumer Super)</a> ,    Java Generics and Collections (Maurice Naftalin, Philip Wadler) - <a href="http://books.google.ru/books%3Fid%3DzaoK0Z2STlkC%26pg%3DPA19%26lpg%3DPA19%26dq%3DNaftalin%2Band%2BWadler%2BGet%2Band%2BPut%2BPrinciple%26source%3Dbl%26ots%3D6Xuqgc-XGO%26sig%3DW9eFVjUg2Wi3no0bQS4359Fhu-k%26hl%3Den%26sa%3DX%26ei%3DQLzGUvzMNsXZ4QTE1YGYDw%26ved%3D0CCoQ6AEwAA">Get and Put Principle</a> .     PECS,  .   : <br> <br>        (, <code><code><code>Collection  Predicate),   ,   - <i></i> ( <i>producer</i> ),   ? extends T</code> ,    - <i></i> ( <i>consumer</i> ),   <code>? super T</code> .</code> <br> <i></i>  <i></i> ,   ?  :      ,    - <i></i> ,       ,    <i></i> .  ,   <i></i>  <i></i> ,      T. <br> <br>    <code><code><code>Predicate -  <i></i> ( getAll(Predicate)       T),  Map&lt;K, V&gt;</code> - <i></i> ( putAll(Map&lt;K, V&gt;)    T -     T  K  V -   ). <br> <br>  ,     <i></i> ,  <i></i>  - ,       ,     ( ,   ) -      . <br> <br>         -    wildcard-      ,      wildcard-   . <br> <br>  PECS-,         <code>MyObjectStore</code>     ,   .  <code>put(K, V)</code>  <code>get(K)</code>    (..       );  <code>putAll(Map&lt;? extends K, ? extends V&gt;)</code>  <code>getAll(Predicate&lt;? super V&gt;)</code>     ,  ;   </code></code></code> <code class="java">getAll(Collection)  - <i></i>   ,    .  <br> <br> Map&lt;K, V&gt; getAll(Collection&lt;K&gt; keys);</code> <br>  <br> <br> <code class="java">Map&lt;K, V&gt; getAll(Collection&lt;? extends K&gt; keys);</code> <br>   ,   API! (,     !) <br> <br>      <br> <i></i>     .    <i></i> -  : <br> <br> <code class="java">interface Factory&lt;T&gt; { /** *      . * * @param args . * @return  . */ T create(Object... args); }</code> <br>   ,   <i></i> ,  <i></i> ,     : <br> <br> <code class="java">interface Cloner&lt;T&gt; { /** *  . * * @param obj  . * @return . */ T clone(T obj); }</code> <br>    <i></i>  ,   ouput-,        (    Java      ). <br> <br>  <br>        PECS (Producer Extends Consumer Super)       API  Java.   ,             ,        API. ,  ,     ,    PECS ,          . <br> <br>  <br> <a href="http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683">Joshua Bloch - Effective Java (2nd Edition)</a> <a href="http://shop.oreilly.com/product/9780596527754.do">Maurice Naftalin, Philip Wadler - Java Generics and Collections</a></code></code> <h6> <code><code>Predicate  Predicate,      : <br> <br> no suitable method found for getAll(Predicate&lt;Vehicle&gt;) <br>   ,    ,  <code>Vehicle</code> -   <code>Car</code> .       <code>Car</code> ,  , ,     <code>Vehicle</code> ,     <code>Car</code> !          <code>Vehicle</code>     <code>Car</code> .       , ,  ,     : <br> <br> <code class="java">final Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(new Predicate&lt;Car&gt;() { @Override public boolean apply(Car exp) { return vp.apply(exp); } });</code> <br>      !       : <br> <br> <code class="java">Collection&lt;V&gt; getAll(Predicate&lt;? super V&gt; p);</code> <br>  <code>Predicate&lt;? super V&gt;</code>  "  V    V (  Object)".        ,        .        <code>Vehicle</code>  : <br> <br> <code class="java">MyObjectStore&lt;Long, Car&gt; carsStore = ...; Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(vp);</code> <br>      ,      . <br> <br>  <code>? extends T</code> <br>      ,    . ,   ,    <code>? extends T</code>    .  :    <code>MyObjectStore&lt;Long, Vehicle&gt;</code> ,         <code>Map&lt;Long, Car&gt;</code> ( <code>Car</code> -   <code>Vehicle</code> ),         : <br> <br> <code class="java">MyObjectStore&lt;Long, Vehicle&gt; carsStore = ...; Map&lt;Long, Car&gt; cars = new HashMap&lt;Long, Car&gt;(2); cars.put(1L, new Car("Audi", "A6", 2011)); cars.put(2L, new Car("Honda", "Civic", 2012)); carsStore.putAll(cars); //  .</code> <br>     , ,     ,     ,  wildcard <code>? extends T</code>    : <br> <br> <code class="java">void putAll(Map&lt;? extends K, ? extends V&gt; entries);</code> <br>  <code>Map&lt;? extends K, ? extends V&gt;</code>   "    K     K     V     V". <br> <br> <a name="pecs"></a> <br>  PECS - Producer Extends Consumer Super <br>     ,       ,      ,          . <br> <br>   Joshua Bloch  <a href="http://books.google.ru/books%3Fid%3Dka2VUBqHiWkC%26pg%3DPA136%26lpg%3DPA136%26dq%3Dbloch%2Beffective%2Bjava%2Bpecs%2Bmnemonic%26source%3Dbl%26ots%3DyYKnPjt-P-%26sig%3DJGT8qexAAldJ5xYPepbBQ5uude0%26hl%3Den%26sa%3DX%26ei%3DCb3GUv-sNIuK5ATM7oD4Dw%26ved%3D0CCgQ6AEwAA">PECS (Producer Extends Consumer Super)</a> ,    Java Generics and Collections (Maurice Naftalin, Philip Wadler) - <a href="http://books.google.ru/books%3Fid%3DzaoK0Z2STlkC%26pg%3DPA19%26lpg%3DPA19%26dq%3DNaftalin%2Band%2BWadler%2BGet%2Band%2BPut%2BPrinciple%26source%3Dbl%26ots%3D6Xuqgc-XGO%26sig%3DW9eFVjUg2Wi3no0bQS4359Fhu-k%26hl%3Den%26sa%3DX%26ei%3DQLzGUvzMNsXZ4QTE1YGYDw%26ved%3D0CCoQ6AEwAA">Get and Put Principle</a> .     PECS,  .   : <br> <br>        (, <code><code><code>Collection  Predicate),   ,   - <i></i> ( <i>producer</i> ),   ? extends T</code> ,    - <i></i> ( <i>consumer</i> ),   <code>? super T</code> .</code> <br> <i></i>  <i></i> ,   ?  :      ,    - <i></i> ,       ,    <i></i> .  ,   <i></i>  <i></i> ,      T. <br> <br>    <code><code><code>Predicate -  <i></i> ( getAll(Predicate)       T),  Map&lt;K, V&gt;</code> - <i></i> ( putAll(Map&lt;K, V&gt;)    T -     T  K  V -   ). <br> <br>  ,     <i></i> ,  <i></i>  - ,       ,     ( ,   ) -      . <br> <br>         -    wildcard-      ,      wildcard-   . <br> <br>  PECS-,         <code>MyObjectStore</code>     ,   .  <code>put(K, V)</code>  <code>get(K)</code>    (..       );  <code>putAll(Map&lt;? extends K, ? extends V&gt;)</code>  <code>getAll(Predicate&lt;? super V&gt;)</code>     ,  ;   </code></code></code> <code class="java">getAll(Collection)  - <i></i>   ,    .  <br> <br> Map&lt;K, V&gt; getAll(Collection&lt;K&gt; keys);</code> <br>  <br> <br> <code class="java">Map&lt;K, V&gt; getAll(Collection&lt;? extends K&gt; keys);</code> <br>   ,   API! (,     !) <br> <br>      <br> <i></i>     .    <i></i> -  : <br> <br> <code class="java">interface Factory&lt;T&gt; { /** *      . * * @param args . * @return  . */ T create(Object... args); }</code> <br>   ,   <i></i> ,  <i></i> ,     : <br> <br> <code class="java">interface Cloner&lt;T&gt; { /** *  . * * @param obj  . * @return . */ T clone(T obj); }</code> <br>    <i></i>  ,   ouput-,        (    Java      ). <br> <br>  <br>        PECS (Producer Extends Consumer Super)       API  Java.   ,             ,        API. ,  ,     ,    PECS ,          . <br> <br>  <br> <a href="http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683">Joshua Bloch - Effective Java (2nd Edition)</a> <a href="http://shop.oreilly.com/product/9780596527754.do">Maurice Naftalin, Philip Wadler - Java Generics and Collections</a></code></code> </h6> <code><code>Predicate  Predicate,      : <br> <br> no suitable method found for getAll(Predicate&lt;Vehicle&gt;) <br>   ,    ,  <code>Vehicle</code> -   <code>Car</code> .       <code>Car</code> ,  , ,     <code>Vehicle</code> ,     <code>Car</code> !          <code>Vehicle</code>     <code>Car</code> .       , ,  ,     : <br> <br> <code class="java">final Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(new Predicate&lt;Car&gt;() { @Override public boolean apply(Car exp) { return vp.apply(exp); } });</code> <br>      !       : <br> <br> <code class="java">Collection&lt;V&gt; getAll(Predicate&lt;? super V&gt; p);</code> <br>  <code>Predicate&lt;? super V&gt;</code>  "  V    V (  Object)".        ,        .        <code>Vehicle</code>  : <br> <br> <code class="java">MyObjectStore&lt;Long, Car&gt; carsStore = ...; Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(vp);</code> <br>      ,      . <br> <br>  <code>? extends T</code> <br>      ,    . ,   ,    <code>? extends T</code>    .  :    <code>MyObjectStore&lt;Long, Vehicle&gt;</code> ,         <code>Map&lt;Long, Car&gt;</code> ( <code>Car</code> -   <code>Vehicle</code> ),         : <br> <br> <code class="java">MyObjectStore&lt;Long, Vehicle&gt; carsStore = ...; Map&lt;Long, Car&gt; cars = new HashMap&lt;Long, Car&gt;(2); cars.put(1L, new Car("Audi", "A6", 2011)); cars.put(2L, new Car("Honda", "Civic", 2012)); carsStore.putAll(cars); //  .</code> <br>     , ,     ,     ,  wildcard <code>? extends T</code>    : <br> <br> <code class="java">void putAll(Map&lt;? extends K, ? extends V&gt; entries);</code> <br>  <code>Map&lt;? extends K, ? extends V&gt;</code>   "    K     K     V     V". <br> <br> <a name="pecs"></a> <br>  PECS - Producer Extends Consumer Super <br>     ,       ,      ,          . <br> <br>   Joshua Bloch  <a href="http://books.google.ru/books%3Fid%3Dka2VUBqHiWkC%26pg%3DPA136%26lpg%3DPA136%26dq%3Dbloch%2Beffective%2Bjava%2Bpecs%2Bmnemonic%26source%3Dbl%26ots%3DyYKnPjt-P-%26sig%3DJGT8qexAAldJ5xYPepbBQ5uude0%26hl%3Den%26sa%3DX%26ei%3DCb3GUv-sNIuK5ATM7oD4Dw%26ved%3D0CCgQ6AEwAA">PECS (Producer Extends Consumer Super)</a> ,    Java Generics and Collections (Maurice Naftalin, Philip Wadler) - <a href="http://books.google.ru/books%3Fid%3DzaoK0Z2STlkC%26pg%3DPA19%26lpg%3DPA19%26dq%3DNaftalin%2Band%2BWadler%2BGet%2Band%2BPut%2BPrinciple%26source%3Dbl%26ots%3D6Xuqgc-XGO%26sig%3DW9eFVjUg2Wi3no0bQS4359Fhu-k%26hl%3Den%26sa%3DX%26ei%3DQLzGUvzMNsXZ4QTE1YGYDw%26ved%3D0CCoQ6AEwAA">Get and Put Principle</a> .     PECS,  .   : <br> <br>        (, <code><code><code>Collection  Predicate),   ,   - <i></i> ( <i>producer</i> ),   ? extends T</code> ,    - <i></i> ( <i>consumer</i> ),   <code>? super T</code> .</code> <br> <i></i>  <i></i> ,   ?  :      ,    - <i></i> ,       ,    <i></i> .  ,   <i></i>  <i></i> ,      T. <br> <br>    <code><code><code>Predicate -  <i></i> ( getAll(Predicate)       T),  Map&lt;K, V&gt;</code> - <i></i> ( putAll(Map&lt;K, V&gt;)    T -     T  K  V -   ). <br> <br>  ,     <i></i> ,  <i></i>  - ,       ,     ( ,   ) -      . <br> <br>         -    wildcard-      ,      wildcard-   . <br> <br>  PECS-,         <code>MyObjectStore</code>     ,   .  <code>put(K, V)</code>  <code>get(K)</code>    (..       );  <code>putAll(Map&lt;? extends K, ? extends V&gt;)</code>  <code>getAll(Predicate&lt;? super V&gt;)</code>     ,  ;   </code></code></code> <code class="java">getAll(Collection)  - <i></i>   ,    .  <br> <br> Map&lt;K, V&gt; getAll(Collection&lt;K&gt; keys);</code> <br>  <br> <br> <code class="java">Map&lt;K, V&gt; getAll(Collection&lt;? extends K&gt; keys);</code> <br>   ,   API! (,     !) <br> <br>      <br> <i></i>     .    <i></i> -  : <br> <br> <code class="java">interface Factory&lt;T&gt; { /** *      . * * @param args . * @return  . */ T create(Object... args); }</code> <br>   ,   <i></i> ,  <i></i> ,     : <br> <br> <code class="java">interface Cloner&lt;T&gt; { /** *  . * * @param obj  . * @return . */ T clone(T obj); }</code> <br>    <i></i>  ,   ouput-,        (    Java      ). <br> <br>  <br>        PECS (Producer Extends Consumer Super)       API  Java.   ,             ,        API. ,  ,     ,    PECS ,          . <br> <br>  <br> <a href="http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683">Joshua Bloch - Effective Java (2nd Edition)</a> <a href="http://shop.oreilly.com/product/9780596527754.do">Maurice Naftalin, Philip Wadler - Java Generics and Collections</a></code></code> <ol><li> <code><code><a href="http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683">Predicate  Predicate,      : <br> <br> no suitable method found for getAll(Predicate&lt;Vehicle&gt;) <br>   ,    ,  <code>Vehicle</code> -   <code>Car</code> .       <code>Car</code> ,  , ,     <code>Vehicle</code> ,     <code>Car</code> !          <code>Vehicle</code>     <code>Car</code> .       , ,  ,     : <br> <br> <code class="java">final Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(new Predicate&lt;Car&gt;() { @Override public boolean apply(Car exp) { return vp.apply(exp); } });</code> <br>      !       : <br> <br> <code class="java">Collection&lt;V&gt; getAll(Predicate&lt;? super V&gt; p);</code> <br>  <code>Predicate&lt;? super V&gt;</code>  "  V    V (  Object)".        ,        .        <code>Vehicle</code>  : <br> <br> <code class="java">MyObjectStore&lt;Long, Car&gt; carsStore = ...; Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(vp);</code> <br>      ,      . <br> <br>  <code>? extends T</code> <br>      ,    . ,   ,    <code>? extends T</code>    .  :    <code>MyObjectStore&lt;Long, Vehicle&gt;</code> ,         <code>Map&lt;Long, Car&gt;</code> ( <code>Car</code> -   <code>Vehicle</code> ),         : <br> <br> <code class="java">MyObjectStore&lt;Long, Vehicle&gt; carsStore = ...; Map&lt;Long, Car&gt; cars = new HashMap&lt;Long, Car&gt;(2); cars.put(1L, new Car("Audi", "A6", 2011)); cars.put(2L, new Car("Honda", "Civic", 2012)); carsStore.putAll(cars); //  .</code> <br>     , ,     ,     ,  wildcard <code>? extends T</code>    : <br> <br> <code class="java">void putAll(Map&lt;? extends K, ? extends V&gt; entries);</code> <br>  <code>Map&lt;? extends K, ? extends V&gt;</code>   "    K     K     V     V". <br> <br> </a><a name="pecs"></a> <br>  PECS - Producer Extends Consumer Super <br>     ,       ,      ,          . <br> <br>   Joshua Bloch  <a href="http://books.google.ru/books%3Fid%3Dka2VUBqHiWkC%26pg%3DPA136%26lpg%3DPA136%26dq%3Dbloch%2Beffective%2Bjava%2Bpecs%2Bmnemonic%26source%3Dbl%26ots%3DyYKnPjt-P-%26sig%3DJGT8qexAAldJ5xYPepbBQ5uude0%26hl%3Den%26sa%3DX%26ei%3DCb3GUv-sNIuK5ATM7oD4Dw%26ved%3D0CCgQ6AEwAA">PECS (Producer Extends Consumer Super)</a> ,    Java Generics and Collections (Maurice Naftalin, Philip Wadler) - <a href="http://books.google.ru/books%3Fid%3DzaoK0Z2STlkC%26pg%3DPA19%26lpg%3DPA19%26dq%3DNaftalin%2Band%2BWadler%2BGet%2Band%2BPut%2BPrinciple%26source%3Dbl%26ots%3D6Xuqgc-XGO%26sig%3DW9eFVjUg2Wi3no0bQS4359Fhu-k%26hl%3Den%26sa%3DX%26ei%3DQLzGUvzMNsXZ4QTE1YGYDw%26ved%3D0CCoQ6AEwAA">Get and Put Principle</a> .     PECS,  .   : <br> <br>        (, <code><code><code>Collection  Predicate),   ,   - <i></i> ( <i>producer</i> ),   ? extends T</code> ,    - <i></i> ( <i>consumer</i> ),   <code>? super T</code> .</code> <br> <i></i>  <i></i> ,   ?  :      ,    - <i></i> ,       ,    <i></i> .  ,   <i></i>  <i></i> ,      T. <br> <br>    <code><code><code>Predicate -  <i></i> ( getAll(Predicate)       T),  Map&lt;K, V&gt;</code> - <i></i> ( putAll(Map&lt;K, V&gt;)    T -     T  K  V -   ). <br> <br>  ,     <i></i> ,  <i></i>  - ,       ,     ( ,   ) -      . <br> <br>         -    wildcard-      ,      wildcard-   . <br> <br>  PECS-,         <code>MyObjectStore</code>     ,   .  <code>put(K, V)</code>  <code>get(K)</code>    (..       );  <code>putAll(Map&lt;? extends K, ? extends V&gt;)</code>  <code>getAll(Predicate&lt;? super V&gt;)</code>     ,  ;   </code></code></code> <code class="java">getAll(Collection)  - <i></i>   ,    .  <br> <br> Map&lt;K, V&gt; getAll(Collection&lt;K&gt; keys);</code> <br>  <br> <br> <code class="java">Map&lt;K, V&gt; getAll(Collection&lt;? extends K&gt; keys);</code> <br>   ,   API! (,     !) <br> <br>      <br> <i></i>     .    <i></i> -  : <br> <br> <code class="java">interface Factory&lt;T&gt; { /** *      . * * @param args . * @return  . */ T create(Object... args); }</code> <br>   ,   <i></i> ,  <i></i> ,     : <br> <br> <code class="java">interface Cloner&lt;T&gt; { /** *  . * * @param obj  . * @return . */ T clone(T obj); }</code> <br>    <i></i>  ,   ouput-,        (    Java      ). <br> <br>  <br>        PECS (Producer Extends Consumer Super)       API  Java.   ,             ,        API. ,  ,     ,    PECS ,          . <br> <br>  <br> Joshua Bloch - Effective Java (2nd Edition) <a href="http://shop.oreilly.com/product/9780596527754.do">Maurice Naftalin, Philip Wadler - Java Generics and Collections</a></code></code> </li> <li> <code><code><a href="http://shop.oreilly.com/product/9780596527754.do">Predicate  Predicate,      : <br> <br> no suitable method found for getAll(Predicate&lt;Vehicle&gt;) <br>   ,    ,  <code>Vehicle</code> -   <code>Car</code> .       <code>Car</code> ,  , ,     <code>Vehicle</code> ,     <code>Car</code> !          <code>Vehicle</code>     <code>Car</code> .       , ,  ,     : <br> <br> <code class="java">final Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(new Predicate&lt;Car&gt;() { @Override public boolean apply(Car exp) { return vp.apply(exp); } });</code> <br>      !       : <br> <br> <code class="java">Collection&lt;V&gt; getAll(Predicate&lt;? super V&gt; p);</code> <br>  <code>Predicate&lt;? super V&gt;</code>  "  V    V (  Object)".        ,        .        <code>Vehicle</code>  : <br> <br> <code class="java">MyObjectStore&lt;Long, Car&gt; carsStore = ...; Predicate&lt;Vehicle&gt; vp = mgr.getVehiclePredicate(); Collection&lt;Car&gt; cars = carsStore.getAll(vp);</code> <br>      ,      . <br> <br>  <code>? extends T</code> <br>      ,    . ,   ,    <code>? extends T</code>    .  :    <code>MyObjectStore&lt;Long, Vehicle&gt;</code> ,         <code>Map&lt;Long, Car&gt;</code> ( <code>Car</code> -   <code>Vehicle</code> ),         : <br> <br> <code class="java">MyObjectStore&lt;Long, Vehicle&gt; carsStore = ...; Map&lt;Long, Car&gt; cars = new HashMap&lt;Long, Car&gt;(2); cars.put(1L, new Car("Audi", "A6", 2011)); cars.put(2L, new Car("Honda", "Civic", 2012)); carsStore.putAll(cars); //  .</code> <br>     , ,     ,     ,  wildcard <code>? extends T</code>    : <br> <br> <code class="java">void putAll(Map&lt;? extends K, ? extends V&gt; entries);</code> <br>  <code>Map&lt;? extends K, ? extends V&gt;</code>   "    K     K     V     V". <br> <br> </a><a name="pecs"></a> <br>  PECS - Producer Extends Consumer Super <br>     ,       ,      ,          . <br> <br>   Joshua Bloch  <a href="http://books.google.ru/books%3Fid%3Dka2VUBqHiWkC%26pg%3DPA136%26lpg%3DPA136%26dq%3Dbloch%2Beffective%2Bjava%2Bpecs%2Bmnemonic%26source%3Dbl%26ots%3DyYKnPjt-P-%26sig%3DJGT8qexAAldJ5xYPepbBQ5uude0%26hl%3Den%26sa%3DX%26ei%3DCb3GUv-sNIuK5ATM7oD4Dw%26ved%3D0CCgQ6AEwAA">PECS (Producer Extends Consumer Super)</a> ,    Java Generics and Collections (Maurice Naftalin, Philip Wadler) - <a href="http://books.google.ru/books%3Fid%3DzaoK0Z2STlkC%26pg%3DPA19%26lpg%3DPA19%26dq%3DNaftalin%2Band%2BWadler%2BGet%2Band%2BPut%2BPrinciple%26source%3Dbl%26ots%3D6Xuqgc-XGO%26sig%3DW9eFVjUg2Wi3no0bQS4359Fhu-k%26hl%3Den%26sa%3DX%26ei%3DQLzGUvzMNsXZ4QTE1YGYDw%26ved%3D0CCoQ6AEwAA">Get and Put Principle</a> .     PECS,  .   : <br> <br>        (, <code><code><code>Collection  Predicate),   ,   - <i></i> ( <i>producer</i> ),   ? extends T</code> ,    - <i></i> ( <i>consumer</i> ),   <code>? super T</code> .</code> <br> <i></i>  <i></i> ,   ?  :      ,    - <i></i> ,       ,    <i></i> .  ,   <i></i>  <i></i> ,      T. <br> <br>    <code><code><code>Predicate -  <i></i> ( getAll(Predicate)       T),  Map&lt;K, V&gt;</code> - <i></i> ( putAll(Map&lt;K, V&gt;)    T -     T  K  V -   ). <br> <br>  ,     <i></i> ,  <i></i>  - ,       ,     ( ,   ) -      . <br> <br>         -    wildcard-      ,      wildcard-   . <br> <br>  PECS-,         <code>MyObjectStore</code>     ,   .  <code>put(K, V)</code>  <code>get(K)</code>    (..       );  <code>putAll(Map&lt;? extends K, ? extends V&gt;)</code>  <code>getAll(Predicate&lt;? super V&gt;)</code>     ,  ;   </code></code></code> <code class="java">getAll(Collection)  - <i></i>   ,    .  <br> <br> Map&lt;K, V&gt; getAll(Collection&lt;K&gt; keys);</code> <br>  <br> <br> <code class="java">Map&lt;K, V&gt; getAll(Collection&lt;? extends K&gt; keys);</code> <br>   ,   API! (,     !) <br> <br>      <br> <i></i>     .    <i></i> -  : <br> <br> <code class="java">interface Factory&lt;T&gt; { /** *      . * * @param args . * @return  . */ T create(Object... args); }</code> <br>   ,   <i></i> ,  <i></i> ,     : <br> <br> <code class="java">interface Cloner&lt;T&gt; { /** *  . * * @param obj  . * @return . */ T clone(T obj); }</code> <br>    <i></i>  ,   ouput-,        (    Java      ). <br> <br>  <br>        PECS (Producer Extends Consumer Super)       API  Java.   ,             ,        API. ,  ,     ,    PECS ,          . <br> <br>  <br> <a href="http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683">Joshua Bloch - Effective Java (2nd Edition)</a> Maurice Naftalin, Philip Wadler - Java Generics and Collections</code></code> </li> </ol></blockquote></div><p>Source: <a href="https://habr.com/ru/post/207360/">https://habr.com/ru/post/207360/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../207350/index.html">SEMBOOK. Ingate Search Encyclopedia</a></li>
<li><a href="../207352/index.html">Aluminum keychain with QR address Bitcoin</a></li>
<li><a href="../207354/index.html">A study of the recognition of large brands of Runet and key market people</a></li>
<li><a href="../207356/index.html">Comparison of criminal liability for unlicensed software in Russia, Ukraine and Kazakhstan</a></li>
<li><a href="../207358/index.html">Authorization via QR</a></li>
<li><a href="../207362/index.html">A passion for programming. Chapter 20. Telepath</a></li>
<li><a href="../207364/index.html">Practical advice on the layout of application forms in LaTeHe</a></li>
<li><a href="../207366/index.html">How we collected 823 376 pub. to print a book through crowdfunding</a></li>
<li><a href="../207368/index.html">[Ended] Valve Christmas Promotion: Get Left 4 Dead 2 for Free</a></li>
<li><a href="../207370/index.html">And nerds business automate</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>