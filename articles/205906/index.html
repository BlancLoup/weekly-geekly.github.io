<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>A simple way to automatically create backup joomla sites using Akeeba backup + Crontab</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello. 
 I want to describe the process of fully automatic creation of backup copies of sites on the CMS Joomla using the Akeeba backup component, and...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>A simple way to automatically create backup joomla sites using Akeeba backup + Crontab</h1><div class="post__text post__text-html js-mediator-article">  Hello. <br>  I want to describe the process of fully automatic creation of backup copies of sites on the CMS Joomla using the Akeeba backup component, and its free version. <br>  I know that Jumla on Habr√© is not particularly favored, but I think there will still be habrovchane who create sites with its help. <br><a name="habracut"></a><br>  As an example, I will use <b>Joomla 2.5.16</b> <br>  First of all, we need to install the Akeeba Backup component.  You can download it from here: <a href="https://www.akeebabackup.com/downloads/akeeba-backup.html">www.akeebabackup.com/downloads/akeeba-backup.html</a> <br><br><div class="spoiler">  <b class="spoiler_title">What is a backup made with Akeeba backup</b> <div class="spoiler_text">  At the output we will get a file with the jpa extension, which includes all the files on our site, as well as a database dump.  This backup is very easy to roll onto any server, following step-by-step instructions.  How to do this, I will write below. <br></div></div><br><br>  My website is hosted on timeweb, but I think that most hosting companies have in their control panel a way to create tasks using the crontab scheduler.  If your site is on your own server, it's even easier. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      First of all, we need to activate the ability to make backup not only from the Joomla panel.  To do this, go to <b>Components -&gt; Akeeba backup -&gt; Component Parameters</b> .  You need to set the switch to <b>YES</b> in the <b>Enable front-end and remote backup</b> property.  Specify the secret word that will be used to generate the link, optionally, you can enable e-mail notifications about backup execution. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a49/c68/abc/a49c68abcd9f345f75f07932fe46a4e9.png"><br><br>  Now you need to write a small shell script that will be launched by the Crontab scheduler. <br>  It looks like this: <br><pre><code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash wget --max-redirect=10000 "http://&lt; &gt;/index.php?option=com_akeeba&amp;view=backup&amp;key=&lt; ,     &gt;" find ${&lt;     &gt;} -type f -mtime +&lt;   &gt; -delete # find ${/site/BACKUP} -type f -mtime +30 -delete -     30 </span></span></code> </pre> <br>  This script provides backup of our site. <br><br>  After that, it is necessary to indicate the backup frequency to the Crontab scheduler.  For timeweb hosting this is done like this: Crontab <b>Panel</b> .  Next, select <b>Add New Task.</b> <br>  We write the name of our task, the file type: <b>SH script</b> , specify the path to the file on our server (of course, the file with the script must be uploaded to the server in advance), well, select the required backup frequency. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b4b/97e/d2b/b4b97ed2bf1e3a6af2bd3f031977eb09.png"><br><br>  If you have full access to the server where the site is located, then you need to add a line to the <a href="http://ru.wikipedia.org/wiki/Cron">crontab config</a> , which by default is located in / etc / named crontab <br><br>  Everything, now our backups will be made automatically according to the schedule and will be added to the directory specified in the settings of the Akeeba Backup component.  Default: <b>administrator / components / com_akeeba / backup /</b> <br><br>  In the future, I plan to expand the bash script so that it deletes outdated backups and also transfers these files to the dropbox.  If you have any thoughts on how to do this, please share in the comments. <br><br><div class="spoiler">  <b class="spoiler_title">How to restore a site from backup</b> <div class="spoiler_text">  In order to restore the site or transfer it to another server, you need to download a set of files called Akeeba Kickstart: <a href="https://www.akeebabackup.com/downloads/akeeba-kickstart.html">www.akeebabackup.com/downloads/akeeba-kickstart.html</a> <br><br>  This set includes the following files: <br><ul><li>  <b>jquery.min.js - jquery library</b> </li><li>  <b>json2.min.js - Json</b> Library </li><li>  <b>kickstart.php -</b> PHP script that performs the recovery </li><li>  <b>ru-RU.kickstart.ini</b> - localization language </li></ul><br><br>  It is necessary to place these files on the server and throw in the same file with backup, which has the extension jpa. <br>  Then just go to: http: // &lt;your site&gt; /kickstart.php and follow the instructions. <br>  If you restore the site on the same server where it was, then part of the settings will be pulled up automatically, otherwise you will need to specify new settings for the correct formation of the config: the path to the database, the database name, the database user name, and so on. <br>  After following all the instructions, the system will restore the site.  And no dances with a tambourine with perezalivkoy hands of all files (especially disgusting to do it via FTP), as well as manual editing of the configuration file configuration.php in the root of the site. <br></div></div><br><br>  <b>UPD 12/17/2013:</b> Expanded script, now it removes outdated backups. <br><br>  <b>UPD 05/16/2014:</b> I wanted to get bogged down with sending a backup to the dropbox, but it comes out painfully, it is much easier to use cloud storage with WebDAV support, I used the Yandex disk.  Here is the script: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash #  ,    ,  Akeeba Backup cd site/backup for i in *.jpa; do # username:password -        #     /backups/sites/        curl -T ${i} --user username:password https://webdav.yandex.ru/backups/sites/ #              rm rm ${i} done</span></span></code> </pre><br>  Well and we create by analogy a task in cron under script launch </div><p>Source: <a href="https://habr.com/ru/post/205906/">https://habr.com/ru/post/205906/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../205892/index.html">Generating abstract images using genetic algorithms</a></li>
<li><a href="../205894/index.html">Knight's move using canvas</a></li>
<li><a href="../205900/index.html">How did the Tesla Power Transmission Tower work - its own ‚Äúinvestigation‚Äù</a></li>
<li><a href="../205902/index.html">JavaScript video course in Russian</a></li>
<li><a href="../205904/index.html">Bitcoin and money transfers</a></li>
<li><a href="../205908/index.html">ITSM 365 tool for small and medium businesses</a></li>
<li><a href="../205910/index.html">Interview with Ekaterina Pak, Google Software Engineer and Anita Borg Fellow in 2011</a></li>
<li><a href="../205912/index.html">Mr. Handy - Sony SmartWatch 2 Review</a></li>
<li><a href="../205914/index.html">Tour of the data center</a></li>
<li><a href="../205918/index.html">We listen to edits in wikipedia</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>