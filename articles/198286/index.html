<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Part 1. Detailed instructions for creating your CocoaPod</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Not to mention the previously published articles on this topic - an introduction to Cocoapods and a brief summary on creating your own ‚Äúpod‚Äù 'a. 
 The...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Part 1. Detailed instructions for creating your CocoaPod</h1><div class="post__text post__text-html js-mediator-article">  Not to mention the previously published articles on this topic - an <a href="http://habrahabr.ru/company/luxoft/blog/149631/">introduction to Cocoapods</a> and a <a href="http://habrahabr.ru/post/196736/">brief summary</a> on creating your own ‚Äúpod‚Äù 'a. <br>  The last mentioned article gave an impetus in the right direction, but lacked the knowledge to fully understand the information provided.  The purpose of this article is to describe in detail the process of creating and using your own CocoaPod, then for brevity - ‚Äúpod‚Äù  Well, streamline their knowledge in this area. <br><a name="habracut"></a><br><h4>  Introduction </h4><br>  After reading the first article, we already have CocoaPods installed and ready for battle on our Mac, understanding what it is and what it is for.  For what you need your own ¬´pod¬ª as it should be clear. <br><br>  On the project page, the general principle of constructing your own ‚Äúpod‚Äù 'a is <a href="http://docs.cocoapods.org/guides/installing_cocoapods.html">described in low detail</a> .  The authors recommended directory structure for the development of "pod" 'as follows: <br><pre><code class="ruby hljs">. ‚îú‚îÄ‚îÄ Classes ‚îî‚îÄ‚îÄ ios ‚îî‚îÄ‚îÄ osx ‚îú‚îÄ‚îÄ Resources ‚îú‚îÄ‚îÄ Project ‚îî‚îÄ‚îÄ Podfile ‚îú‚îÄ‚îÄ LICENSE ‚îú‚îÄ‚îÄ Readme.markdown ‚îî‚îÄ‚îÄ NAME.podspec</code> </pre> <br>  What is what: <br><ul><li>  <b>Classes</b> - the directory in which the subdirectories contain the sources for your "pod" 'and for iOS and / or OS X </li><li>  <b>Resources</b> - images, videos, other binaries, Core Data models, etc. </li><li>  <b>Project</b> - a project that uses your "pod", as a rule - a project that shows examples of using your "pod", highly desirable with unit tests </li><li>  <b>Podfile</b> - in this file, as it should be already known, the dependencies of the project on various pods' s are indicated, in this case from our </li><li>  Omit files that speak for themselves with their name </li><li>  <b>NAME.podspec</b> - specification created by "pod" 'a </li></ul><br><br><h4>  Create a "pod" project </h4><br>  So, let's begin.  Just in case the example project lies on <a href="https://github.com/pomozoff/MyCustomPod">GitHub</a> . <br>  Create your repository on GitHub with the name, for example, <b>MyCustomPod</b> . <br>  Let's create our ‚Äúpod‚Äù project, for this we enter the following in the terminal: <br><pre> <code class="bash hljs">$ mkdir ~/Documents/PodSample $ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ~/Documents/PodSample $ git init $ git remote add origin https://github.com/username/MyCustomPod.git $ touch LICENSE $ git add LICENSE &amp;&amp; git commit -m <span class="hljs-string"><span class="hljs-string">"License file"</span></span> $ git push -u origin master $ mkdir Classes</code> </pre><br>  A brief description of what is happening. <br>  Create a local git repository, bind it to GitHub, create and commit a file where the project licensing scheme will be described and send the changes to GutHub.  Create a directory <i>Classes</i> which will contain the source code of the pod itself.  Subdirectories of the same <i>Classes / ios</i> and <i>Classes / osx</i> will not be created, because  We are focusing only on one platform - iOS. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Create a "spec" </h4><br>  And again to the theory.  Each pod has its own specification - ‚Äúspec‚Äù, which describes its metadata: name, version, license, dependencies on the platform version, frameworks used, other pods, source repository, use of ARC, etc.  All this is recorded in the file <b>NAME.podspec</b> . <br>  The <i>.podspec</i> file is created by the developer ‚Äúpod‚Äù 'a and is placed in a special repository ‚Äúspec‚Äù' s.  There is a <a href="https://github.com/CocoaPods/Specs">main repository</a> where all the <a href="https://github.com/CocoaPods/Specs/tree/master/AFNetworking">pods</a> available by default ‚Äúlive‚Äù like, for example, the well-known <a href="https://github.com/CocoaPods/Specs/tree/master/AFNetworking">AFNetworking</a> .  Your useful ‚Äúpod‚Äù may also appear there.  It is also possible to create and use your personal ‚Äúspecs‚Äù repository, access to which is regulated by you personally. <br>  But back to the beginning.  To create your own <i>.podspec</i> , enter the following command in the terminal: <br><pre> <code class="bash hljs">$ pod spec create MyLibrary</code> </pre><br>  As a result, in the current directory we get the ‚Äúspec‚Äù template as a file <i>MyLibrary.podspec</i> , which describes in detail what each parameter is for.  A more detailed description of the file format is provided on <a href="https://github.com/CocoaPods/CocoaPods/wiki/The-podspec-format">the project‚Äôs wiki page</a> . <br><br>  Everyone knows that the best training is always based on the military principle ‚Äúfrom simple to complex‚Äù, and we will not shy away from canons. <br>  First, let's set the nominal set of parameters: <br><pre> <code class="ruby hljs">Pod::Spec.new <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-params"><span class="hljs-params">|s|</span></span> s.name = <span class="hljs-string"><span class="hljs-string">"MyLibrary"</span></span> s.version = <span class="hljs-string"><span class="hljs-string">"0.0.1"</span></span> s.summary = <span class="hljs-string"><span class="hljs-string">"Example of creating own pod."</span></span> s.homepage = <span class="hljs-string"><span class="hljs-string">"https://github.com/username/MyCustomPod"</span></span> s.license = { <span class="hljs-symbol"><span class="hljs-symbol">:type</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'MIT'</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">:file</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'LICENSE'</span></span> } s.author = { <span class="hljs-string"><span class="hljs-string">"Username"</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">"username@mail.domain"</span></span> } s.platform = <span class="hljs-symbol"><span class="hljs-symbol">:ios</span></span>, <span class="hljs-string"><span class="hljs-string">'7.0'</span></span> s.source = { <span class="hljs-symbol"><span class="hljs-symbol">:git</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">"https://github.com/username/MyCustomPod.git"</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">:tag</span></span> =&gt; s.version.to_s } s.source_files = <span class="hljs-string"><span class="hljs-string">'Classes/*.{h,m}'</span></span> s.public_header_files = <span class="hljs-string"><span class="hljs-string">'Classes/*.h'</span></span> s.framework = <span class="hljs-string"><span class="hljs-string">'Foundation'</span></span> s.requires_arc = <span class="hljs-literal"><span class="hljs-literal">true</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre><br>  Let's run through the lines that require an accurate understanding of what is happening: <br><ul><li>  <b>version</b> - the current version of our "pod" ' </li><li>  <b>license</b> - in a world where coprasty has been operating for half a year, it is highly desirable to indicate the type of license of your creativity </li><li>  <b>author</b> - as well as the author of this work </li><li>  <b>platform</b> - here we indicate that our ‚Äúpod‚Äù is created <b>only</b> for the <i>iOS</i> platform of minimum version <i>7.0</i> , alternatively, the <i>deployment_target</i> parameter can be used: <pre> <code class="ruby hljs"> s.ios.deployment_target = <span class="hljs-string"><span class="hljs-string">'7.0'</span></span></code> </pre></li><li>  <b>source</b> - we indicate the place where our ‚Äúpod‚Äù project is located, it is easy to notice that in this case the project is published on GitHub and each version of the project is marked with the corresponding tag, where the tag name is the same as the version number (a little lower it will be clear what ) </li><li>  <b>source_files</b> - we list the source files of our ‚Äúpod‚Äù 'a, relative to the project root directory </li><li>  <b>public_header_files</b> - header files ‚Äúpod‚Äù 'a, which should be accessible using our ‚Äúpod‚Äù application </li><li>  <b>framework</b> - here the <b>framework</b> is specified, which will automatically be connected to the ‚ÄúPods‚Äù project when you install your ‚Äúpod‚Äù 'a </li><li>  <b>requires_arc</b> - we report that ARC is used </li></ul><br>  If you need to specify multiple authors or frameworks, convert the name of the parameter to a plural, for example, <i>authors</i> and list the values ‚Äã‚Äãseparated by commas. <br>  If the project will be used for OS X, then it is necessary to create the subdirectories <i>Classes / ios</i> and <i>Classes / osx</i> , correct the values ‚Äã‚Äãof the parameters: <br><pre> <code class="ruby hljs"> s.source_files = <span class="hljs-string"><span class="hljs-string">'Classes/**/*.{h,m}'</span></span> s.public_header_files = <span class="hljs-string"><span class="hljs-string">'Classes/**/*.h'</span></span></code> </pre><br>  Delete the row with the <b>platform</b> parameter and add the following parameters: <br><pre> <code class="ruby hljs"> s.ios.deployment_target = <span class="hljs-string"><span class="hljs-string">'7.0'</span></span> s.osx.deployment_target = <span class="hljs-string"><span class="hljs-string">'10.8'</span></span></code> </pre><br><br><h4>  Lint "spec" </h4><br>  The lining process consists of checking the syntax of the <i>.podspec</i> file, the presence of the necessary parameters, the relevance of the parameter values ‚Äã‚Äãand attempts to compile our ‚Äúpod‚Äù.  There is a so-called ‚Äúfast‚Äù linking, where the syntax of the <i>.podspec</i> file and the presence of the required parameters are simply checked, and the ‚Äúpod‚Äù repository is not downloaded and attempts are made to compile it. <br>  We write the resulting <i>MyLibrary.specpod</i> and first conduct a ‚Äúfast‚Äù linking using the <i>--quick</i> key: <br><pre> <code class="bash hljs">$ pod spec lint ~/Documents/PodSample/MyLibrary.podspec --quick</code> </pre><br>  Ideally, something like this should appear: <br><pre> <code class="bash hljs">$ pod spec lint ~/Documents/PodSample/MyLibrary.podspec --quick -&gt; MyLibrary (0.0.1) Analyzed 1 podspec. MyLibrary.podspec passed validation.</code> </pre><br>  In case of errors, each error is quite clearly commented and the correction does not cause problems. <br><br>  Next we commit our git changes: <br><pre> <code class="bash hljs">$ git add MyLibrary.podspec &amp;&amp; git commit -m <span class="hljs-string"><span class="hljs-string">"Completed podspec file"</span></span></code> </pre><br>  In order for the full link to successfully create a couple of empty files (otherwise we will see an error - " <i>ERROR | [iOS] The` source_files` pattern did not match any file.</i> "): <br><pre> <code class="bash hljs">$ touch Classes/AKClass.m $ touch Classes/AKClass.h $ git add Classes/AKClass.* &amp;&amp; git commit -m <span class="hljs-string"><span class="hljs-string">"Empty files for successful lint"</span></span></code> </pre><br>  Put a tag with the current version number and publish our ‚Äúpod‚Äù in GitHub: <br><pre> <code class="bash hljs">$ git tag <span class="hljs-string"><span class="hljs-string">"0.0.1"</span></span> &amp;&amp; git push origin master --tags</code> </pre><br>  Lintuy: <br><pre> <code class="bash hljs">$ pod spec lint ~/Documents/PodSample/MyLibrary.podspec</code> </pre><br>  If everything is correct, we observe a similar picture: <br><pre> <code class="bash hljs">$ pod spec lint ~/Documents/PodSample/MyLibrary.podspec -&gt; MyLibrary (0.0.1) Analyzed 1 podspec. MyLibrary.podspec passed validation.</code> </pre><br><br>  Hooray!  Our "pod" project is configured and does not contain errors. <br>  To be continued. <br><br>  Scheduled: <br>  Part 2. We divide our "pod" into modules.  Use someone else's "pod" to develop your own. <br>  Part 3. Publishing your "pod" 'a.  Shared repository and personal. </div><p>Source: <a href="https://habr.com/ru/post/198286/">https://habr.com/ru/post/198286/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../198272/index.html">Chelyabinsk meteorite: systematized photo and video materials</a></li>
<li><a href="../198274/index.html">Metaobject Protocol for Basic Perl 5</a></li>
<li><a href="../198276/index.html">Zabbix: Backing up a small base</a></li>
<li><a href="../198280/index.html">Babel and handlebars, it's time to make friends</a></li>
<li><a href="../198284/index.html">How to cheat Robokassu</a></li>
<li><a href="../198288/index.html">Elon Musk will make a transformed submarine from "James Bond" a real vehicle-transformer</a></li>
<li><a href="../198290/index.html">Predictive interfaces</a></li>
<li><a href="../198292/index.html">Media query tips</a></li>
<li><a href="../198298/index.html">Virgin Galactic hopes to use its spacecraft for intercontinental flights</a></li>
<li><a href="../198300/index.html">Animation of the transition from the globe to a two-dimensional map</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>