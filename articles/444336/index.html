<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Swift capture lists: what is the difference between weak, strong and unowned links?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Joseph Wright, "Captive" - Illustration of "Strong" Capture 

 The list of "captured" values ‚Äã‚Äãis in front of the list of closure parameters and can "...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Swift capture lists: what is the difference between weak, strong and unowned links?</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/ol/xa/zo/olxazojaea9ikajugulkcm6c-24.jpeg"><br>  <i>Joseph Wright, "Captive"</i> - Illustration of "Strong" Capture <br><br>  The list of "captured" values ‚Äã‚Äãis in front of the list of closure parameters and can "capture" values ‚Äã‚Äãfrom the scope in three different ways: using the links "strong", "weak" or "unowned".  We often use it mainly to avoid cycles of strong links (‚Äústrong reference cycles‚Äù aka ‚Äúretain cycles‚Äù). <br>  It‚Äôs difficult for a beginner developer to decide which method to apply, so you can spend a lot of time choosing between ‚Äústrong‚Äù and ‚Äúweak‚Äù or between ‚Äúweak‚Äù and ‚Äúunowned‚Äù, but over time, you will realize that the right choice - only one. <br><a name="habracut"></a><br>  First, create a simple class: <br><br><pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Singer</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">playSong</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"Shake it off!"</span></span>) } }</code> </pre> <br>  Then we write a function that creates an instance of the <b>Singer</b> class and returns a closure that calls the <b>Singer</b> class's <b>playSong ()</b> method: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="swift hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sing</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> -&gt; () -&gt; <span class="hljs-type"><span class="hljs-type">Void</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> taylor = <span class="hljs-type"><span class="hljs-type">Singer</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> singing = { taylor.playSong() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> singing }</code> </pre> <br>  Finally, we can call <b>sing ()</b> anywhere to get the result of executing <b>playSong ()</b> <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> singFunction = sing() singFunction()</code> </pre> <br><br>  As a result, the string ‚ÄúShake it off!‚Äù Will be displayed. <br><br><h2>  "Strong" capture (strong capturing) </h2><br>  Until you explicitly indicate how to capture, Swift uses a ‚Äústrong‚Äù capture.  This means that the closure captures the used external values ‚Äã‚Äãand never allows them to free themselves. <br><br>  Let's look at the <b>sing ()</b> function again. <br><br><pre> <code class="swift hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sing</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> -&gt; () -&gt; <span class="hljs-type"><span class="hljs-type">Void</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> taylor = <span class="hljs-type"><span class="hljs-type">Singer</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> singing = { taylor.playSong() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> singing }</code> </pre> <br>  The <b>taylor constant is</b> defined inside the function, so that, under normal circumstances, its place would be freed as soon as the function finished its work.  However, this constant is used inside the closure, which means that Swift will automatically ensure its presence as long as the closure itself exists, even after the function ends. <br>  This is a "strong" grip in action.  If Swift allowed <b>taylor to</b> be released, then a closure call would be insecure - its <b>taylor.playSong ()</b> method is no longer valid. <br><br><h2>  "Weak" capture (weak capturing) </h2><br>  Swift allows us to create a ‚Äú <u>capture list</u> ‚Äù to determine exactly how the values ‚Äã‚Äãused are captured.  The alternative to ‚Äústrong‚Äù capture is ‚Äúweak‚Äù and its use leads to the following consequences: <br><br>  1. "Weak" captured values ‚Äã‚Äãare not held by the closure and, thus, they can be released and set to <b>nil</b> . <br><br>  2. As a consequence of the first item, ‚Äúweakly‚Äù captured values ‚Äã‚Äãin Swift are always <b>optional</b> . <br>  We modify our example using ‚Äúweak‚Äù capture and immediately see the difference. <br><br><pre> <code class="swift hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sing</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> -&gt; () -&gt; <span class="hljs-type"><span class="hljs-type">Void</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> taylor = <span class="hljs-type"><span class="hljs-type">Singer</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> singing = { [<span class="hljs-keyword"><span class="hljs-keyword">weak</span></span> taylor] <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> taylor?.playSong() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> singing }</code> </pre> <br>  <b>[weak taylor]</b> - this is our ‚Äú <u>capture list</u> ‚Äù, a special part of the closure syntax, in which we give instructions on exactly how values ‚Äã‚Äãshould be captured.  Here we say that <b>taylor</b> should be captured ‚Äúweakly‚Äù, so we need to use <b>taylor? .PlaySong ()</b> - now this is <b>optional</b> , because it can be set to <b>nil</b> at any time. <br><br>  If you now execute this code, you will see that calling <b>singFunction ()</b> no longer causes the message to be output.  The reason for this is that <b>taylor</b> exists only inside <b>sing ()</b> , and the closure returned by this function does not hold <b>taylor</b> "strongly" inside itself. <br><br>  Now try changing <b>taylor? .PlaySong ()</b> to <b>taylor! .PlaySong ()</b> .  This will lead to the forced unpacking of the <b>taylor</b> inside the circuit, and, accordingly, to a fatal error (unpacking the contents containing <b>nil</b> ) <br><br><h2>  "Unattended" capture (unowned capturing) </h2><br>  An alternative to "weak" capture is "ownerless." <br><br><pre> <code class="swift hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sing</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> -&gt; () -&gt; <span class="hljs-type"><span class="hljs-type">Void</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> taylor = <span class="hljs-type"><span class="hljs-type">Singer</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> singing = { [<span class="hljs-keyword"><span class="hljs-keyword">unowned</span></span> taylor] <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> taylor.playSong() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> singing }</code> </pre> <br>  This code will end up abnormally similar to the forcibly deployed optional given a little higher - unowned <b>taylor</b> says: "I know for sure that <b>taylor</b> will exist for the entire closure life time, so I don‚Äôt need to keep it in memory."  In fact, <b>taylor</b> will be released almost immediately and this code will crash. <br><br>  So use <b>unowned with</b> extreme caution. <br><br><h2>  Frequent possible problems </h2><br>  There are four problems developers face when using value capture in closures: <br><br><h3>  1. Difficulties with the location of the capture list in the case where the closure takes parameters </h3><br>  This is a common difficulty that can be encountered at the beginning of the study of closures, but, fortunately, in this case Swift will help us. <br><br>  When using the capture list and closure parameters together, the capture list is first in square brackets, then the closure parameters, then the in keyword, which marks the beginning of the closure ‚Äúbody‚Äù. <br><br><pre> <code class="swift hljs">writeToLog { [<span class="hljs-keyword"><span class="hljs-keyword">weak</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>] user, message <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>?.addToLog(<span class="hljs-string"><span class="hljs-string">"\(user) triggered event: \(message)"</span></span>) }</code> </pre> <br>  Attempting to put a capture list after the closure parameters will result in a compilation error. <br><br><h3>  2. The emergence of a cycle of strong links, leading to a memory leak </h3><br>  When entity A has an entity B and vice versa, you have a situation called the strong reference cycle (‚Äúretain cycle‚Äù). <br><br>  As an example, consider the code: <br><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">House</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ownerDetails: (() -&gt; <span class="hljs-type"><span class="hljs-type">Void</span></span>)? <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">printDetails</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"This is a great house."</span></span>) } <span class="hljs-keyword"><span class="hljs-keyword">deinit</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"I'm being demolished!"</span></span>) } }</code> </pre> <br>  We have defined the class <b>House</b> , which contains one property (closure), one method and a de-initializer, which will display a message when the class instance is destroyed. <br><br>  Now we will create a class <b>Owner</b> , similar to the previous one, except that its closure property contains information about the house. <br><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Owner</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> houseDetails: (() -&gt; <span class="hljs-type"><span class="hljs-type">Void</span></span>)? <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">printDetails</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"I own a house."</span></span>) } <span class="hljs-keyword"><span class="hljs-keyword">deinit</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"I'm dying!"</span></span>) } }</code> </pre> <br>  Now create instances of these classes inside the <b>do</b> block.  We do not need a catch block, but using a <b>do</b> block will ensure the destruction of instances immediately after} <br><br><pre> <code class="swift hljs"><span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"Creating a house and an owner"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> house = <span class="hljs-type"><span class="hljs-type">House</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> owner = <span class="hljs-type"><span class="hljs-type">Owner</span></span>() } <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"Done"</span></span>)</code> </pre> <br>  As a result, the following messages will be displayed: ‚ÄúCreating a house and an owner‚Äù, ‚ÄúI'm dying!‚Äù, ‚ÄúI'm being demolished!‚Äù, Then ‚ÄúDone‚Äù - everything works as it should. <br><br>  Now create a strong link loop. <br><br><pre> <code class="swift hljs"><span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"Creating a house and an owner"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> house = <span class="hljs-type"><span class="hljs-type">House</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> owner = <span class="hljs-type"><span class="hljs-type">Owner</span></span>() house.ownerDetails = owner.printDetails owner.houseDetails = house.printDetails } <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"Done"</span></span>)</code> </pre> <br>  Now the messages ‚ÄúCreating a house and an owner‚Äù, then ‚ÄúDone‚Äù appear.  De-initiators will not be called. <br><br>  This is due to the fact that the house has a property that points to the owner, and the owner has a property that points to the house.  Therefore, none of them can be safely released.  In a real situation, this leads to memory leaks, which lead to a decrease in performance and even to an abnormal termination of the application. <br><br>  To remedy the situation, we need to create a new closure and use a ‚Äúweak‚Äù hold in one or two cases, like this: <br><br><pre> <code class="swift hljs"><span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"Creating a house and an owner"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> house = <span class="hljs-type"><span class="hljs-type">House</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> owner = <span class="hljs-type"><span class="hljs-type">Owner</span></span>() house.ownerDetails = { [<span class="hljs-keyword"><span class="hljs-keyword">weak</span></span> owner] <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> owner?.printDetails() } owner.houseDetails = { [<span class="hljs-keyword"><span class="hljs-keyword">weak</span></span> house] <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> house?.printDetails() } } <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"Done"</span></span>)</code> </pre> <br>  There is no need to declare both values ‚Äã‚Äãcaptured, it is enough to do it in one place - this will allow Swift to destroy both classes when necessary. <br><br>  In real projects, a situation of such an obvious cycle of strong references rarely arises, but this all the more speaks of the importance of using ‚Äúweak‚Äù capture with proper development. <br><br><h3>  3. Unintentional use of "strong" links, usually when capturing multiple values </h3><br>  Swift by default uses ‚Äústrong‚Äù capture, which can lead to unintended behavior. <br>  Consider the following code: <br><br><pre> <code class="swift hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sing</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> -&gt; () -&gt; <span class="hljs-type"><span class="hljs-type">Void</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> taylor = <span class="hljs-type"><span class="hljs-type">Singer</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> adele = <span class="hljs-type"><span class="hljs-type">Singer</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> singing = { [<span class="hljs-keyword"><span class="hljs-keyword">unowned</span></span> taylor, adele] <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> taylor.playSong() adele.playSong() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> singing }</code> </pre> <br>  Now we have two values ‚Äã‚Äãcaptured by a closure, and we use both of them in the same way.  However, only <b>taylor is</b> captured as unowned ‚Äî <b>adele is</b> captured strongly, because the <b>unowned</b> keyword must be used for each value captured. <br><br>  If you did it intentionally, then everything is fine, but if you want both values ‚Äã‚Äãto be captured " <b>unowned</b> ", you need the following: <br><br><pre> <code class="swift hljs">[<span class="hljs-keyword"><span class="hljs-keyword">unowned</span></span> taylor, <span class="hljs-keyword"><span class="hljs-keyword">unowned</span></span> adele]</code> </pre> <br><h3>  4. Copying closures and separating captured values </h3><br>  The last case on which developers stumble is how closures are copied, because the data they captured becomes available to all copies of the closure. <br>  Consider an example of a simple closure that captures the integer variable <b>numberOfLinesLogged</b> declared outside the closure, so that we can increase its value and print it every time the closure is called: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> numberOfLinesLogged = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> logger1 = { numberOfLinesLogged += <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"Lines logged: \(numberOfLinesLogged)"</span></span>) } logger1()</code> </pre> <br>  This will display ‚ÄúLines logged: 1‚Äù. <br>  Now we will create a copy of the closure that will share the captured values ‚Äã‚Äãalong with the first closure.  Thus, we call the original closure or its copy, we will see the growing value of the variable. <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> logger2 = logger1 logger2() logger1() logger2()</code> </pre><br>  This will display ‚ÄúLines logged: 1‚Äù ... ‚ÄúLines logged: 4‚Äù because <b>logger1</b> and <b>logger2</b> indicate the same captured variable <b>numberOfLinesLogged</b> . <br><br><h2>  When to use ‚Äústrong‚Äù grip, ‚Äúweak‚Äù and ‚Äúownerless‚Äù </h2><br>  Now, when we understand how everything works, let's try to summarize: <br><br>  1. If you are sure that the captured value will never become <b>nil</b> when performing a closure, you can use <b>‚Äúunowned capturing‚Äù</b> .  This is an infrequent situation where the use of "weak" capture can cause additional difficulties, even when using guard let to a weakly captured value inside the closure. <br><br>  2. If you have a case of a cycle of strong references (entity A owns entity B, and entity B owns entity A), then in one of the cases you need to use <b>‚Äúweak capturing‚Äù</b> .  It is necessary to take into account which of the two entities will be freed first, so if the view controller A represents the view controller B, then the view controller B may contain a ‚Äúweak‚Äù link back to ‚ÄúA‚Äù. <br><br>  3. If the possibility of a cycle of strong links is excluded, you can use "strong" capture ( <b>"strong capturing"</b> ).  For example, performing an animation does not block self inside the closure containing the animation, so you can use "strong" binding. <br><br>  4. If you are not sure, start with a ‚Äúweak‚Äù binding and only change it if necessary. <br><br>  Additionally - the official Swift guide: <br>  <a href="https://docs.swift.org/swift-book/LanguageGuide/Closures.html">Closures</a> <br>  <a href="https://docs.swift.org/swift-book/LanguageGuide/AutomaticReferenceCounting.html">Automatic reference counting</a> </div><p>Source: <a href="https://habr.com/ru/post/444336/">https://habr.com/ru/post/444336/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../444322/index.html">In the wake of calculators: SpeedCrunch</a></li>
<li><a href="../444326/index.html">SMS monitoring of the weight of three hives for $ 30</a></li>
<li><a href="../444328/index.html">UI redesign - most often a waste of time</a></li>
<li><a href="../444330/index.html">Serverless CMS is finally a worthy competitor for Wordpress</a></li>
<li><a href="../444332/index.html">Information security and public catering: how managers think about IT products</a></li>
<li><a href="../444338/index.html">Python 3 Encapsulation</a></li>
<li><a href="../444340/index.html">Features of using the Symbol data type in JavaScript</a></li>
<li><a href="../444342/index.html">Development of simple modern JavaScript applications using Webpack and progressive web technologies</a></li>
<li><a href="../444344/index.html">10 steps to a successful Python project</a></li>
<li><a href="../444346/index.html">GraphQL and Golang</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>