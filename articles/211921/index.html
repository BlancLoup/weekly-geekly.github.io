<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Forward notifications of incoming calls and SMS to the computer</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Very often being at home behind a laptop, I missed incoming calls, since the phone was out of earshot. Then the idea was born, why not teach a laptop ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Forward notifications of incoming calls and SMS to the computer</h1><div class="post__text post__text-html js-mediator-article">  Very often being at home behind a laptop, I missed incoming calls, since the phone was out of earshot.  Then the idea was born, why not teach a laptop to show information about calls from the phone? <br><br>  And if you also send incoming SMS, then you can simplify the work with online services that send one-time confirmation codes for various operations.  To view this code, you will not need to search for the phone and unlock it.  All information will be available immediately on the laptop screen. <br><br>  In addition, this is a good opportunity to practice in the development of an android.  The result is a small application that intercepts incoming calls, SMS and sends them over the local network. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      For those who are interested in how I did it, welcome to the cat. <br><a name="habracut"></a><br>  A small demonstration of the work to understand what it is about (I apologize for the quality, there is no normal technology for video recording) <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/6K7QYExqZA8%3Ffeature%3Doembed&amp;xid=25657,15700022,15700186,15700191,15700253,15700256&amp;usg=ALkJrhh5WbLrXjo9NlDO_XZ2u1MAY1lytQ" frameborder="0" allowfullscreen=""></iframe><br><br><h4>  Broadcast Receivers </h4><br>  The first thing we need to intercept calls and SMS is to add the appropriate permissions in AndroidManifest.xml: <br><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">uses-permission</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"android.permission.RECEIVE_SMS"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">uses-permission</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"android.permission.READ_PHONE_STATE"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre> <br>  But permissions are not enough.  More need receivers broadcast messages.  These are special objects that are executed when receiving any special signal.  In order for the system to know that we have an object to which we need to send a message, it must be registered. <br><br>  Of course, this can be done by adding the corresponding lines in AndroidManifest.xml: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">receiver</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"MessageReceiver"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:enabled</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">intent-filter</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">action</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"android.provider.Telephony.SMS_RECEIVED"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">intent-filter</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">receiver</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">receiver</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"CallReceiver"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">intent-filter</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">action</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"android.intent.action.PHONE_STATE"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">intent-filter</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">receiver</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  But if we want to be able to turn on and off our BroadcastReceiver, then we can register them dynamically: <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//     myMessageReceiver = new MessageReceiver(); //     IntentFilter e = new IntentFilter(); //     e.setPriority(IntentFilter.SYSTEM_HIGH_PRIORITY); //    e.addAction("android.provider.Telephony.SMS_RECEIVED"); //      registerReceiver(myMessageReceiver, e); //        unregisterReceiver(myMessageReceiver);</span></span></code> </pre><br>  But if we create a BroadcastReceiver in the code of the main screen form (Activity), then they will work only when the application is active (not paused and not stopped).  Our application should always remain in the background.  For this there are background services: <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//     Notification notif = new Notification(R.drawable.ic_launcher, "Notice service started", System.currentTimeMillis()); //       (Activity) Intent intent1 = new Intent(this, NoticeSetting.class); PendingIntent pIntent = PendingIntent.getActivity(this, 0, intent1, 0); //   notif.setLatestEventInfo(this, "Notice service enabled", "For stopped it click me", pIntent); //  ,       notif.flags |= Notification.FLAG_ONGOING_EVENT ; //   startForeground(NOTIFICATION_ID, notif ); //    stopForeground(true);</span></span></code> </pre><br>  The service created in this way will in every possible way resist attempts to kill him.  When launched, a notification will appear in the tray with the specified text and image.  If you expand the tray and touch this notification, the specified Activity will start. <br><br>  It is worth noting that the above method of creating a service notification is considered obsolete, and since version API level 11 (Android 3.0.x) you need to use the constructor Notification.Builder.  But I did not use it for compatibility with older versions of Android. <br><br>  It will also be useful to be able to start a background service at system startup, for this you can register another BroadcastReceiver: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">uses-permission</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"android.permission.RECEIVE_BOOT_COMPLETED"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">receiver</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">".BootBroadReceiv"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:enabled</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:exported</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"false"</span></span></span><span class="hljs-tag"> &gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">intent-filter</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">action</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"android.intent.action.BOOT_COMPLETED"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">intent-filter</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">receiver</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Now that we have figured out how and where to register a BroadcastReceiver, let's take a closer look at how to use them.  You need to inherit your class from BroadcastReceiver and define the onReceive method in it, which is called when a broadcast message arrives: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MessageReceiver</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BroadcastReceiver</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onReceive</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Context context, Intent intent)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// -   } }</span></span></code> </pre><br><h4>  Message preparation </h4><br>  Next, you need to prepare a message to send to the computer.  The first thing that interests us is the phone number of the incoming call.  You can get it by calling getStringExtra inside our onReceive: <br><br><pre> <code class="java hljs">phoneNumber = intent.getStringExtra(TelephonyManager.EXTRA_INCOMING_NUMBER);</code> </pre><br>  There are several ways to find the name of the caller in the phone book.  I used this query: <br><br><pre> <code class="java hljs">String Name=<span class="hljs-string"><span class="hljs-string">" "</span></span>; phoneNumber = PhoneNumberUtils.stripSeparators(phoneNumber); String[] projection = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String[] { ContactsContract.Data.CONTACT_ID, ContactsContract.Contacts.LOOKUP_KEY, ContactsContract.Contacts.DISPLAY_NAME, ContactsContract.Contacts.STARRED, ContactsContract.Contacts.CONTACT_STATUS, ContactsContract.Contacts.CONTACT_PRESENCE }; String selection = <span class="hljs-string"><span class="hljs-string">"PHONE_NUMBERS_EQUAL("</span></span> + Phone.NUMBER + <span class="hljs-string"><span class="hljs-string">",?) AND "</span></span> + Data.MIMETYPE + <span class="hljs-string"><span class="hljs-string">"='"</span></span> + Phone.CONTENT_ITEM_TYPE + <span class="hljs-string"><span class="hljs-string">"'"</span></span>; String selectionArgs [] ={ phoneNumber }; Cursor cursor = context.getContentResolver().query(ContactsContract.Data.CONTENT_URI, projection, selection, selectionArgs, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(cursor.getCount()&gt;<span class="hljs-number"><span class="hljs-number">0</span></span>) { cursor.moveToFirst(); Name = cursor.getString(<span class="hljs-number"><span class="hljs-number">2</span></span>) + <span class="hljs-string"><span class="hljs-string">" "</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> Name = <span class="hljs-string"><span class="hljs-string">"Unknow"</span></span>;</code> </pre><br><br>  To work with contacts book you need to add the following resolution to AndroidManifest.xml <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">uses-permission</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"android.permission.READ_CONTACTS"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre><br>  You can receive incoming SMS by placing the following code in onReceive: <br><br><pre> <code class="java hljs">Bundle bundle = intent.getExtras(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (bundle != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { Object[] pdus = (Object[]) bundle.get(<span class="hljs-string"><span class="hljs-string">"pdus"</span></span>); SmsMessage[] msgs = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SmsMessage[pdus.length]; ArrayList&lt;String&gt; numbers = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;String&gt;(); ArrayList&lt;String&gt; messages = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;String&gt;(); <span class="hljs-comment"><span class="hljs-comment">//     for (int i=0; i&lt;msgs.length; i++){ msgs[i] = SmsMessage.createFromPdu((byte[])pdus[i]); //   numbers.add(msgs[i].getOriginatingAddress()); //   messages.add(msgs[i].getMessageBody().toString()); }</span></span></code> </pre><br><h4>  Posting a message </h4><br>  The phone is in the same LAN with a laptop and a computer, so we will use ordinary sockets to send the prepared message.  The following code shows how to send a packet over a local network. <br>  Attention!  Sending an unencrypted message over the network with a UDP broadcast packet may not be secure. <br><br><pre> <code class="java hljs">InetAddress serv_addr = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; serv_addr = InetAddress.getByName(<span class="hljs-string"><span class="hljs-string">"255.255.255.255"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> port= <span class="hljs-number"><span class="hljs-number">35876</span></span>; DatagramSocket sock = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; sock = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DatagramSocket(); <span class="hljs-comment"><span class="hljs-comment">//mess -    byte [] buf = mess.getBytes(); DatagramPacket pack= new DatagramPacket(buf, buf.length,serv_addr,port); sock.send(pack); sock.close();</span></span></code> </pre><br>  To be able to work with the network, add the resolution in AndroidManifest.xml <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">uses-permission</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"android.permission.INTERNET"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre><br>  And here during the testing it turned out that the onReceive method in the BroadcastReceiver lives a very short time.  If you put into it the function of determining the subscriber's name by number and the function of sending a message over the network, the system will kill it before both functions are performed.  That is characteristic, in the version of Android 2.3. * This code successfully managed to work, and in versions 4. * no.  Therefore, long-term operations need to be performed in a separate service launched by the startService () function. <br><br><h4>  Receive messages </h4><br>  To receive a message, we will write a small C program using all the same sockets: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> z; <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> srvr_addr[<span class="hljs-number"><span class="hljs-number">8</span></span>] = <span class="hljs-string"><span class="hljs-string">"0.0.0.0"</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sockaddr_in</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">adr_inet</span></span></span><span class="hljs-class">;</span></span> <span class="hljs-comment"><span class="hljs-comment">// AF_INET struct sockaddr_in adr_clnt; // AF_INET socklen_t len_inet; int s; //    char dgram[512]; //  s = socket(AF_INET,SOCK_DGRAM,0); if ( s == -1 ) { displayError("socket()"); } memset(&amp;adr_inet,0,sizeof(adr_inet)); adr_inet.sin_family = AF_INET; adr_inet.sin_port = htons(35876); adr_inet.sin_addr.s_addr =inet_addr(srvr_addr); if ( adr_inet.sin_addr.s_addr == INADDR_NONE ) { displayError("bad address."); } len_inet = sizeof(adr_inet); //  z = bind(s, (struct sockaddr *)&amp;adr_inet, len_inet); if ( z == -1 ) { displayError("bind()"); } while(1) { len_inet = sizeof adr_clnt; //   z = recvfrom(s, dgram, 512, 0, (struct sockaddr *)&amp;adr_clnt, &amp;len_inet); if ( z &lt; 0 ) { displayError("recvfrom(2)"); } dgram[z] = 0; // null terminate if ( !strcasecmp(dgram,"QUIT") ) { break; // Quit server } //dgram    printf("%s\n",dgram);</span></span></code> </pre><br>  But getting the message is not enough, you need to somehow show it to yourself.  In linux, there is a convenient console utility notify-send, which accepts a message as an argument and displays it to the user through the kde or gnome notification panel.  Using it you can display a message in a couple of lines: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (fork() == <span class="hljs-number"><span class="hljs-number">0</span></span>) { execl(<span class="hljs-string"><span class="hljs-string">"/usr/bin/notify-send"</span></span>,<span class="hljs-string"><span class="hljs-string">"notify-send"</span></span>,<span class="hljs-string"><span class="hljs-string">"   :"</span></span>, dgram, (<span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *) <span class="hljs-number"><span class="hljs-number">0</span></span>); perror(<span class="hljs-string"><span class="hljs-string">"exec one failed"</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>); }</code> </pre><br>  You can add the received application to autoload in your favorite way. <br><br><h4>  Links to the topic </h4><br><ul><li>  Learn more about intercepting calls and SMS <a href="http://habrahabr.ru/post/162181/">http://habrahabr.ru/post/162181/</a> </li><li>  Pro processes and threads in Android <a href="http://habrahabr.ru/post/124484/">http://habrahabr.ru/post/124484/</a> </li><li>  About notify-send here <a href="http://habrahabr.ru/post/47892/">http://habrahabr.ru/post/47892/</a> </li><li>  The repository on github <a href="https://github.com/ermito/noticer">https://github.com/ermito/noticer</a> and compiled <a href="">apk</a> </li><li>  Application for receiving messages <a href="https://github.com/ermito/server_notice">https://github.com/ermito/server_notice</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/211921/">https://habr.com/ru/post/211921/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../211909/index.html">Forwarding a video card to a guest OS from a KVM hypervisor using VFIO technology</a></li>
<li><a href="../211911/index.html">Watch the Olympics using IPTV</a></li>
<li><a href="../211913/index.html">Screw ActiveRecord to the site</a></li>
<li><a href="../211915/index.html">Virtualization with OpenVZ</a></li>
<li><a href="../211917/index.html">Data backup with btrfs and LVM bash scripts</a></li>
<li><a href="../211923/index.html">Opening of the Olympiad: stress test of the 4G network from MegaFon</a></li>
<li><a href="../211925/index.html">Passport integration into SailsJS 0.9</a></li>
<li><a href="../211927/index.html">Get a snapshot of a webcam and a screenshot of the screen using VLC</a></li>
<li><a href="../211929/index.html">Competition "SKB Kontur" through the eyes of a trainee Supl.biz</a></li>
<li><a href="../211935/index.html">IBM received $ 3.45 million from DARPA to develop self-destructing electronics</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>