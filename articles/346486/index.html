<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Overview of the procurement of web applications on the Zend Framework 3</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The article is an overview and does not carry any how-to-tutorials. If you accidentally "ran into" it on the network, then I warn you right away that ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Overview of the procurement of web applications on the Zend Framework 3</h1><div class="post__text post__text-html js-mediator-article"><blockquote>  The article is an overview and does not carry any how-to-tutorials.  If you accidentally "ran into" it on the network, then I warn you right away that it will not teach you to use Zend Framework 3 (hereinafter referred to as ZF3). </blockquote><p><img src="https://habrastorage.org/webt/xf/9h/me/xf9hmewmz363lmpliyo_kemvq6e.png" alt="Cover"></p><br><p>  Hello, reader!  I decided to announce my brainchild on the wonderful Habrahabr resource.  I am not a regular reader, but I understand that the main part of people who are looking for something interesting will certainly come across here.  He came here as a specialist for traffic, because there is no strength to watch the death of his creations anymore. </p><a name="habracut"></a><br><h2>  Introduction </h2><br><p>  Having looked at my <a href="https://github.com/bupy7">GitHub</a> profile once again, I realized that all my work is being lost.  They disappear due to the fact that nobody knows about these repositories.  Because of this, very good, in my opinion, repositories "die".  I try to support some, but most of them still slowly and painfully sinking in the depths of complete ignorance.  The same happens with <a href="https://github.com/bupy7/zf-app-blank">zf-app-blank</a> .  Though some people know about this project, but I don‚Äôt know if it is being used.  Now, many simply simply do not see any point in writing something using ZF3.  And I decided to change it, because this is a very good framework and it unfairly remains in the shadow or is used exclusively by geeks. </p><br><p>  The idea of ‚Äã‚Äãcreating <a href="https://github.com/bupy7/zf-app-blank">zf-app-blank</a> was the love of the framework and the envy of other frameworks that have some ready-made solutions in order to ‚Äústart developing yesterday‚Äù.  Zend Framework 3 doesn‚Äôt have that at all.  There is a <a href="https://github.com/zendframework/ZendSkeletonApplication">ZendSkeletonApplication</a> over which you need to pretty sweat to give something worthwhile, because ZF itself is positioning itself as "do it yourself", i.e.  every developer is free to do as he needs.  And that's great, actually.  This is what I like about him. </p><br><h2>  What's inside </h2><br><p>  I shoved inside only the most necessary packages, in my opinion, in order to get started.  Here, not all planned, but most of them.  And also made it all together. </p><br><p>  At the time of writing, <a href="https://github.com/bupy7/zf-app-blank">zf-app-blank</a> version 1.6.2 has the following on board: </p><br><ul><li>  PHP 7.1 is the minimum version.  What about 7.2 - it is not clear, since tests are needed, but there is an assumption on this score: it is too early to move; </li><li>  <a href="https://github.com/zendframework/zendframework">Zend Framework 3</a> - the framework itself; </li><li>  <a href="http://getbootstrap.com/">Twitter Bootstrap 4</a> - HTML, JS and CSS library; </li><li>  <a href="http://www.doctrine-project.org/">Doctrine ORM 2</a> - ORM to work with the database; </li><li>  <a href="https://github.com/bupy7/zf-php-debug-bar">Debug Bar</a> - the debug panel; </li><li>  <a href="http://twig.sensiolabs.org/">Twig</a> - template engine; </li><li>  <a href="https://github.com/kriswallsmith/assetic">Assetic Management</a> - manager of CSS, JS and other resources; </li><li>  <a href="https://github.com/ZF-Commons/zfc-rbac">RBAC</a> - access control; </li><li>  <a href="https://github.com/bupy7/zf-form">Form</a> - forms; </li><li>  <a href="https://www.vagrantup.com/">Vagrant support</a> - virtual work environment; </li><li>  <a href="https://getcomposer.org/">Composer support</a> - batch manager for PHP; </li><li>  <a href="https://yarnpkg.com/">Yarn support</a> - package manager for JS; </li><li>  <a href="https://www.postgresql.org/">PostgreSQL as DB</a> - database; </li><li>  <a href="https://www.mysql.com/">MySQL as a database</a> - a database; </li><li>  <a href="https://github.com/yui/yuicompressor">YUI Comressor</a> - compressor for CSS; </li><li>  <a href="https://github.com/mishoo/UglifyJS2">UglifyJS2</a> - compressor for JS; </li><li>  <a href="https://github.com/FriendsOfPHP/PHP-CS-Fixer">PHP Coding Standarts Fixer</a> - PHP code checker and fixer; </li><li>  <a href="https://xdebug.org/">XDebug</a> - PHP debug, configured to work from the web and cli; </li><li>  <a href="https://www.mailgun.com/">Mailgun</a> - service for sending Email; </li><li>  Multilanguage (English and Russian); </li><li>  Simple demo: <br><ul><li>  entrance </li><li>  check in </li><li>  Output </li><li>  Email Verification </li><li>  Password recovery </li><li>  A list of users; </li></ul></li><li>  <a href="https://github.com/symfony/console">Symfony CLI</a> - CLI; </li><li>  <a href="http://codeception.com/">Codeception</a> - testing; </li><li>  <a href="http://sass-lang.com/">Sass</a> - Preprocessor for CSS. </li></ul><br><p>  I will try to sometime explain how this all interacts in the documentation (which is not present). </p><br><h2>  Unfortunately... </h2><br><p>  <a href="https://github.com/bupy7/zf-app-blank">zf-app-blank</a> does not fully solve the problem with the frontend, because: </p><br><ol><li>  procurement focused on PHP; </li><li>  the problem is solved only related to ZF3; </li><li>  in the world of frontend, everything develops very quickly; </li><li>  there is no time and desire to support it; </li><li>  for 19 stars on the project it is meaningless. </li></ol><br><p>  With a decent community around the workpiece, you can think of something other than PHP, but so far everything is completely wrong. </p><br><p>  <a href="https://github.com/bupy7/zf-app-blank">zf-app-blank</a> has no documentation, so it‚Äôs completely unclear to the ‚Äúgreen‚Äù user how to use it.  At the moment, it will be able to use it only when absolutely necessary and savvy developers with experience using the Zend Framework.  And it's sad, because  there is nothing complicated here, but you cannot tell right away without documentation. </p><br><p> The current prepared Vagrant environment only works on unix-like systems.  If you are the owner of Windows - quickly you will not deploy the project, as it seems to me.  You can deploy using your environment and ensure that all tests for environmental requirements are passed by running <code>php bin/requirements</code> from the project. </p><br><p><img src="https://habrastorage.org/webt/kf/ha/s9/kfhas9ihxu0mg0dlkxwvyaecfm8.png" alt="Requirements"></p><br><p>  There are a lot of fine points in the workpiece, for example, <a href="https://jquery.com/">jQuery is</a> used only for the debug panel.  Otherwise, this <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript">is good old Javascript</a> without anything overhead.  For the JS part of Twitter Bootstrap, <a href="https://github.com/thednp/bootstrap.native">Bootstrap Native is used</a> .  It would be nice to have a debug panel without jQuery at all, since  in 2018 jQuery presence is unjustified and causes problems. </p><br><p>  I try to support the project and not to disregard it.  In addition to what has been implemented and posted, I still have a lot of things that I have not published.  For example: classes for working Intl, improved i18n, useful Twig extentions, working environment for Docker, etc.  Unfortunately, I can not throw all the strength on this project and bring it to mind. </p><br><h2>  Installation </h2><br><p>  The installation will be performed using the configured Vagrant environment.  For those who have Windows - sorry, until this method has been tested and configured for this OS.  <em>I remind you that you can deploy the project using your environment and ensure that all tests for the environment requirements are passed by running <code>php bin/requirements</code> from the project.</em> </p><br><p>  At the time of writing, I have Vagrant version 2.0.0.  If you are lower, I recommend upgrading. </p><br><p>  To find out your version enter the following: </p><br><pre> <code class="bash hljs">$ vagrant --version Vagrant 2.0.0</code> </pre> <br><p>  The whole installation boils down to the fact that you just need to follow the instructions from the README.md repository. </p><br><p>  <strong>Install Vagrant plugins:</strong> </p><br><pre> <code class="bash hljs">$ vagrant plugin install vagrant-vbguest $ vagrant plugin install vagrant-hostmanager</code> </pre> <br><p>  <strong>Clone the repository:</strong> </p><br><pre> <code class="bash hljs">$ git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/bupy7/zf-app-blank.git</code> </pre> <br><p>  <strong>Modify .gitignore in the project root:</strong> </p><br><p>  Delete the following lines: </p><br><pre> <code class="hljs pgsql"># <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> <span class="hljs-keyword"><span class="hljs-keyword">before</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> own project /yarn.<span class="hljs-keyword"><span class="hljs-keyword">lock</span></span> /composer.<span class="hljs-keyword"><span class="hljs-keyword">lock</span></span></code> </pre> <br><p>  <strong>Run the installation process environment:</strong> </p><br><pre> <code class="bash hljs">$ vagrant up</code> </pre> <br><p>  After entering this command, we will be asked to slightly tweak the <code>workenv/config/vagrant-local.yml</code> , namely, to specify the Github token.  How to get a token can be found <a href="https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/">here</a> . </p><br><p>  <strong>We indicate our token:</strong> </p><br><pre> <code class="hljs go">github_token: <span class="hljs-number"><span class="hljs-number">62d</span></span>bd9a1ee8c89d9127aee31234b51e6</code> </pre> <br><p>  <strong>And change the server time zone to Moscow:</strong> </p><br><pre> <code class="hljs">server_time_zone: Europe/Moscow</code> </pre> <br><p>  Or you can change it to your own. </p><br><p>  You can also change the database to PostgreSQL if you want (MySQL is used by default): </p><br><pre> <code class="hljs">db_type: pgsql</code> </pre> <br><p>  There are other interesting settings that I will talk about next time.  =) </p><br><p>  <strong>After this we introduce again:</strong> </p><br><pre> <code class="bash hljs">$ vagrant up</code> </pre> <br><p>  and the process will resume.  Be patient, wait for the end and an invitation to start work (see image below): </p><br><blockquote>  We do not run away, because  you will need to enter the password of the user from under which you launched Vagrant. </blockquote><p><img src="https://habrastorage.org/webt/wl/lp/vn/wllpvn8bu92f_fymtecuuwg9uiq.png" alt="Installed"></p><br><p>  <strong>Configuring the connection to the database for those who have selected the PostgreSQL database:</strong> </p><br><p>  In the <code>/config/autoload/local.php</code> file, <code>/config/autoload/local.php</code> need to comment out the 8, 15 and 19 lines.  Uncomment 7, 14 and 18 line.  Those.  should be something like this: </p><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Doctrine</span></span>\<span class="hljs-title"><span class="hljs-title">DBAL</span></span>\<span class="hljs-title"><span class="hljs-title">Driver</span></span>\<span class="hljs-title"><span class="hljs-title">PDOPgSql</span></span>\<span class="hljs-title"><span class="hljs-title">Driver</span></span> <span class="hljs-title"><span class="hljs-title">as</span></span> <span class="hljs-title"><span class="hljs-title">PgSqlDriver</span></span>; <span class="hljs-comment"><span class="hljs-comment">//use Doctrine\DBAL\Driver\PDOMySql\Driver as MySqlDriver; return [ 'doctrine' =&gt; [ 'connection' =&gt; [ 'orm_default' =&gt; [ 'driverClass' =&gt; PgSqlDriver::class, // 'driverClass' =&gt; MySqlDriver::class, 'params' =&gt; [ 'host' =&gt; '127.0.0.1', 'port' =&gt; 5432, // 'port' =&gt; 3306, 'user' =&gt; 'zf_app_blank', 'password' =&gt; '1234', 'dbname' =&gt; 'zf_app_blank' . (APP_ENV_TEST ? '_test' : ''), ], ], ], ], ...</span></span></code> </pre> <br><p>  <strong>Change the interface language to Russian:</strong> </p><br><p>  <em>The default is English.</em> </p><br><p>  Add to the <code>/config/autoload/local.php</code> file: </p><br><pre> <code class="php hljs"><span class="hljs-string"><span class="hljs-string">'translator'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'locale'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'ru'</span></span>, ],</code> </pre> <br><p>  <strong>Change the time zone of the application to Moscow:</strong> </p><br><p>  <em>Default is Europe / London.</em> </p><br><p>  Add to the <code>/config/autoload/local.php</code> file: </p><br><pre> <code class="php hljs"><span class="hljs-string"><span class="hljs-string">'time_zone'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'time_zone'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'Europe/Moscow'</span></span>, ],</code> </pre> <br><p>  <strong>Create a new Postbin to receive Email messages:</strong> </p><br><p>  <em>In README.md, they are still asked to register in Mailgun and insert the key and domain into the settings, but Postbin is enough at the development stage.</em> </p><br><p>  Follow the link <a href="http://bin.mailgun.net/">http://bin.mailgun.net/</a> and copy the resulting URL in <code>/config/autoload/local.php</code> : </p><br><pre> <code class="php hljs"><span class="hljs-string"><span class="hljs-string">'mailgun'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'debug'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, <span class="hljs-comment"><span class="hljs-comment">//    'key' =&gt; 'key-example', //    'endpoint' =&gt; '   URL', ], 'mail' =&gt; [ 'domain' =&gt; 'example.mailgun.org', //    ],</span></span></code> </pre> <br><p>  If you already have Mailgun and wish to register all settings, then additionally disable debug mode to receive messages to the mailbox.  Postbin then you do not need to specify: </p><br><pre> <code class="php hljs"><span class="hljs-string"><span class="hljs-string">'mailgun'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'debug'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, <span class="hljs-comment"><span class="hljs-comment">//   false 'key' =&gt; '  MAILGUN', 'endpoint' =&gt; 'http://bin.mailgun.net/not-create', //    ], 'mail' =&gt; [ 'domain' =&gt; '   MAILGUN', ],</span></span></code> </pre> <br><p>  <strong>Finally, create a database schema:</strong> </p><br><pre> <code class="bash hljs">$ vagrant ssh -c <span class="hljs-string"><span class="hljs-string">'php bin/console orm:schema-tool:create'</span></span></code> </pre> <br><p>  A green message should appear: </p><br><pre> <code class="hljs pgsql">[OK] <span class="hljs-keyword"><span class="hljs-keyword">Database</span></span> <span class="hljs-keyword"><span class="hljs-keyword">schema</span></span> created successfully!</code> </pre> <br><p>  Significant success of the operation. </p><br><p>  <strong>Done!</strong>  <strong>Now you can visit our website at: <a href="http://zf-app-blank.local/">http: //zf-app-blank.local</a></strong> </p><br><p><img src="https://habrastorage.org/webt/8j/8u/58/8j8u58v5snwvzyxruu-szrliwog.png" alt="Signin"></p><br><h2>  Demo </h2><br><p>  There is a small demo in this template that demonstrates some basic functionality.  I suggest a little familiar with it. </p><br><p>  <strong>We will register a new user and confirm his Email.</strong> </p><br><p>  Go to the registration page: <a href="http://zf-app-blank.local/signup">http: //zf-app-blank.local/signup</a> </p><br><p>  Enter your username, email and password. </p><br><p>  If you decide to use Postbin, then Email, you can enter any that will pass the validation.  If not, then a real Email, where the letter could come. </p><br><p>  After clicking on the "Register" button, we will see a message on the successful completion of the operation. </p><br><p><img src="https://habrastorage.org/webt/fq/cn/at/fqcnatztc3lw_ikt02hebl-151e.png" alt="Image 4"></p><br><p>  And in Postbin (or by e-mail) we will be waiting for the message that we need to confirm our Email address. </p><br><p><img src="https://habrastorage.org/webt/is/_a/mb/is_ambuiimanrpstsbcnf1gyywm.png" alt="Confirm Email"></p><br><p>  In this letter, we are interested in what is highlighted in red or a link for those who prefer to send to a real Email.  This is our route that leads to the Email Confirmation page.  Perform the transition: <a href="http://zf-app-blank.local/confirm-email/example%40example1.ru/29ha%255Ezzvs5b25gxwjv">http: //zf-app-blank.local/confirm-email/example@example1.ru/29ha%5Ezzvs5b25gxwjv</a> </p><br><p>  After that they will tell us that we have successfully confirmed Email.  It remains to enter the username and password. </p><br><p><img src="https://habrastorage.org/webt/vn/tf/pz/vntfpzk_upobtq8mpq9bxw8l6_a.png" alt="Homepage"></p><br><h2>  Conclusion </h2><br><p>  It was a mini-presentation of the ZF3 web application development.  For more information, <a href="https://github.com/bupy7/zf-app-blank">visit the project repository</a> .  In the next article (if this one doesn‚Äôt go away in the minus) I will tell you how to create a simple CRUD application. </p><br><p>  Lovers of Zend Framework and its ideology, or just those who want and are ready to help with something - I will be glad of any activity in the project. </p><br><p>  PS Stars on the project is also active. </p><br><h2>  Links </h2><br><ul><li>  <a href="https://github.com/bupy7/zf-app-blank">Project repository</a> </li><li>  <a href="https://github.com/bupy7">My github</a> </li></ul><br><h2>  UPD </h2><br><ul><li>  01/12/2018 12:46 PM - Explained the problem more clearly about the environment prepared by Vagrant and Windows. </li></ul></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/346486/">https://habr.com/ru/post/346486/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../346476/index.html">OpenStreetMap conferences in 2017</a></li>
<li><a href="../346478/index.html">User Reddit under the name DeepFakes has taught neural networks to create intimate videos with stars</a></li>
<li><a href="../346480/index.html">Features scanning antivirus executable files and trust the results of VirusTotal</a></li>
<li><a href="../346482/index.html">Using cucumber as a business rules engine</a></li>
<li><a href="../346484/index.html">The largest events of 2018: design and front-end</a></li>
<li><a href="../346488/index.html">21 tips to make better use of Composer</a></li>
<li><a href="../346490/index.html">What to look at the weekend? Review of the best reports in the public domain. Part Two, JBreak 2017</a></li>
<li><a href="../346492/index.html">A story about how I live via meltdown on your phones using npm</a></li>
<li><a href="../346494/index.html">Expectations and reality - our experience in creating and promoting mobile games</a></li>
<li><a href="../346496/index.html">A new ‚Äúpassword‚Äù vulnerability has been discovered on Mac OS High Sierra.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>