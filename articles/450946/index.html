<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Cell phone dial on LPC810</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Of course, this is ‚Äúporridge from the ax‚Äù, because besides the LPC810 with its six GPIO, we also need a GSM module. For the basis of the firmware take...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Cell phone dial on LPC810</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/5e/n7/uw/5en7uwhzb1zjpgpni0cz3ovccl0.jpeg"><br><br>  Of course, this is ‚Äúporridge from the ax‚Äù, because besides the LPC810 with its six GPIO, we also need a GSM module.  For the basis of the firmware taken examples <a href="https://github.com/microbuilder/LPC810_CodeBase">from here</a> , the firmware itself is <a href="https://github.com/jaromir-sukuba/rdmp">here</a> . <a name="habracut"></a><br><br>  To connect the four contact groups (three buttons and a dialer), as well as the display on the HD44780, operating in four-bit mode, the following scheme is applied to the three pins of the microcontroller: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/webt/g_/qo/u6/g_qou6zd8qejbpzxfcv114nqqac.png"><br><br>  Shift register - type 74HC164.  To poll one of the contact groups, you need to write the number 0x01, 0x02, 0x04 or 0x08.  The display module "does not pay attention" to what is happening, since there is zero on the EN line, and the signal about the state of the selected contact group is fed to the DAT line. <br><br>  The resistors are chosen so that the signal from the microcontroller takes precedence over the signal from the contact group, namely, R2 - a few kŒ©, R3 (pull-down) - 22 kŒ©. <br><br>  The STATUS signal from the GSM module controls the voltage regulator.  If you turn on the module, voltage will appear on this line, and the entire device will turn on.  When you manually or automatically turn off the GSM module, the entire device also turns off.  Full scheme: <br><br><img src="https://habrastorage.org/webt/9e/f9/ap/9ef9apjbhhw3wbnx9-xgwwzdome.jpeg"><br><br>  <a href="http://jaromir.xf.cz/phone/files/sch.pdf">The same scheme in PDF</a> <br><br>  The firmware consists of two state machines.  The first handles interrupts from the receiving UART line, writes the characters coming from there to the buffer, and when detecting AT sequences sets the appropriate flags.  Another state machine is the main event loop, which reads these flags and changes its behavior depending on their state.  The cycle takes about 16 ms, and this is enough for reading all digital inputs, including the input from the dialer. <br><br>  The case is chosen large enough to fit the dialer, 1000 mAh battery, and everything else.  There is enough space in the ROM so that in the future it was possible to implement the DTR line management, the transition to the energy saving mode and the caller ID. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/MQ1Ikaiv968" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><iframe width="560" height="315" src="https://www.youtube.com/embed/1eCAhyJE3UE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <a href="https://picasaweb.google.com/111890741167251011072/RotaryDialMobilePhone%3Fauthuser%3D0%26authkey%3DGv1sRgCOvzkIvmvLi_vQE%26feat%3Ddirectlink">Many pictures</a> , <a href="">files in Eagle 6 format</a> , <a href="">firmware sources</a> </div><p>Source: <a href="https://habr.com/ru/post/450946/">https://habr.com/ru/post/450946/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../450928/index.html">How data centers save holidays</a></li>
<li><a href="../45093/index.html">World Wide Grid begins self-assembly</a></li>
<li><a href="../450930/index.html">How we develop # bigdataX5 and who is needed in Big Data</a></li>
<li><a href="../450938/index.html">Linux Install Fest 05.19 in Nizhny Novgorod May 18, 2019</a></li>
<li><a href="../45094/index.html">Webrub - our everything or bran at the crisis roots :-)</a></li>
<li><a href="../45095/index.html">Here you are, grandmother, and yur ... shared hosting!</a></li>
<li><a href="../450950/index.html">Dart Streams Basics</a></li>
<li><a href="../450952/index.html">Medium Index and Antibank</a></li>
<li><a href="../450958/index.html">AnyStub, library of stub connections in java</a></li>
<li><a href="../45096/index.html">decide.kz - decision service</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>