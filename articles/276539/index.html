<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>This is the future</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day. 

 I bring to your attention a translation of a humorous post devoted to cloud technologies: It's The Future . All sorts of amendments and t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>This is the future</h1><div class="post__text post__text-html js-mediator-article">  <i>Good day.</i> <i><br><br></i>  <i>I bring to your attention a translation of a humorous post devoted to cloud technologies: <a href="http://blog.circleci.com/its-the-future/">It's The Future</a> .</i>  <i>All sorts of amendments and tips are welcomed.</i> <br><br><img src="https://habrastorage.org/files/cdc/e94/40e/cdce9440e8934fd7a14bbeb4ee7089a4.jpg" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><br>  Hey!  Hello!  My boss said to talk to you.  Said you know a lot about web applications. <br><br>  - Yes, right now, I‚Äôm more involved in distributed systems.  I just came back from ContainerCamp and GlueCon, and I'm also going to DockerCon next week.  Really impressed with how a business moves - everything becomes much easier and more accessible!  This is the future! <br><br>  Great ... You see, I am currently developing a simple web application - the usual CRUD on Rails, I am going to deploy to Heroku.  Tell me, is Heroku still relevant? <br><br>  - You what!  Not.  This is already an old school.  Heroku is a corpse.  Nobody uses this anymore.  Now you need to know Docker.  This is the future! <br><br>  Oh, here's how.  Well, OK.  What is it? <br><br>  - Docker - a new way of containerization.  It's like LXC, it just includes the format of packing containers, and it‚Äôs also a distribution platform and a number of utilities to make building a distributed system really easy. <br><br>  Canning? .. - What for?  And what about LXE? <br><br>  - LXC.  It's like chroot on steroids. <br><br>  What is cher-oot? <br><br>  - I see ... Look ... Docker ... Containerization ... This is the future ... It's like virtualization, only faster and cheaper. <br><br>  Okay, like Vagrant. <br><br>  - No, Vagrant is a corpse.  Now everything is being prepared for use inside containers. This is the Future! <br><br>  Ok, so now I don‚Äôt need to know anything about virtualization? <br><br>  - Well ... No, you need to understand virtualization, because  containers do not provide full protection for application data, for now.  So, if you want to run everything in a multi-tenant environment, then you will need to make sure that users do not get out of the sandbox. <br><br>  So, something I lost.  Let's rewind a little back.  So, there is virtualization called containers.  Can I use it on Heroku? <br><br>  - Well, Heroku supports Docker, but remember what I told you.  Heroku is a corpse.  You need to run containers on CoreOS. <br><br>  What is it? <br><br>  - This is the coolest host OS you can use with Docker.  Damn, you don‚Äôt even need a Docker!  You can just use rkt! <br><br>  Rocket? <br><br>  - Not, rkt. <br><br>  Right, Rocket. <br><br>  - No, now it is called rkt.  Completely different stuff.  This is an alternative containerization format that is provided as a Docker competitor. <br><br>  Duck is this cool? <br><br>  - Of course, cool.  Composability is the future! <br><br>  Do you use this rkt at all? <br><br>  - I dont know.  I don't think anyone is using it. <br><br>  Ehhh ... So you said something about CoreOS? <br><br>  - Yes ... well, this is the host that you use with Docker. <br><br>  What is a host? <br><br>  - CoreOS is designed to work optimally with containers.  It is configured to work with containers. <br><br>  Work with containers ...? <br><br>  - Yes, you have something there in your containers.  So, you type an instance like Amazon EC2, raise a CoreOS host there, then you launch the Docker service, and then you can deploy Docker images there. <br><br>  What part of all this is a container? <br><br>  - All of this.  Look, you take your application, write a Dockerfile, make a local image, then push to any Docker-host. <br><br>  Aah, like Heroku? <br><br>  - No ... not Heroku.  I told you that Heroku is a corpse.  You run your own cloud using Docker. <br><br>  O_o? <br><br>  - Yes, it is really easy.  Read about #gifee. <br><br>  Gify? <br><br>  - GIFEE is Google Infrastructure For Everyone Else.  You take all of these utilities and technology-based stacks of containers, and you have all that infrastructure, just like Google. <br><br>  Why not just use Google services? <br><br>  - And if in half a year everything is completely changed there? <br><br>  Well, isn‚Äôt someone else doing it all?  I really do not want to host this one myself. <br><br>  - Well, AmazonECS, but you have to write some kind of XML her. <br><br>  What do you say about OpenStack? <br><br>  - Ugh ... <br><br>  Listen, I do not want to host and service anything myself. <br><br>  - No, it's real simple.  You simply configure Kubernetes cluster. <br><br>  So I need a cluster? <br><br>  - Kubernetes cluster.  It manages the deployments of all your services. <br><br>  I have only one service. <br><br>  - What are you talking about?  Look, you have the same web application, right?  So you should have 8-12 services. <br><br>  What?  Not!  I have one application.  Service, service - do not care!  Just one freaking app! <br><br>  - No, look towards microservices.  This is the future.  This is how we all work around now.  You take your superfood app and divide it into 12 services.  One for each task. <br><br>  Well, this is too much ... <br><br>  - This is the only way to make sure the configuration is reliable.  So if your authentication service crashes ... <br><br>  Authentication service?  Yes e-May, I was just going to use the same plugin that I used many times before! <br><br>  - Great.  Use it.  Put it in a separate project.  Throw over RestAPI.  Then your other services will use this API and will super gracefully handle failures.  Put it in a container and make a CI / CD! <br><br>  As you wish.  Now I have dozens of unmanaged services in my hands, and then what? <br><br>  - Yes, and so, I also spoke about Kubernetes.  It allows you to conveniently orchestrate all of your services. <br><br>  Orchestrate? <br><br>  - Yes!  Here, you have these services of yours, and they must be fault-tolerant, so you need to run several copies for each of your services at once!  And Kubernetes guarantees to you that you have enough of these copies and they are distributed between the hosts in your fleet and are always available. <br><br>  That is, I need fleet? <br><br>  - Yes, for fault tolerance.  But Kubernetes will do everything for you.  In addition, you are sure that Kubernetes will work as it should, because it was made by Google, and also because it works on the basis of etcd. <br><br>  What is etcd? <br><br>  - This thing is made on the basis of RAFT. <br><br>  OK, what is RAFT? <br><br>  - It's like paxos. <br><br>  Lord, how deep is this shitty rabbit hole, where are we going now?  I just want to launch one crazy web application !!!  Your mother !!!  Okay, deep breath, exhale ... Ok, what is Paxos? <br><br>  ‚ÄúPaxos is an old family of distributed protocols from the 70s that no one understands or uses. <br><br>  Fine!  I'm so glad you told me about it!  So what is Raft? <br><br>  ‚ÄúSince no one understands Paxos ... uh ... except Diego ...‚Äù <br><br>  ABOUT!  So you know him? <br><br>  - No, of course, it works in CoreOS.  Anyway, Diego came up with Raft for his Ph.D. thesis, because  Paxos was too complicated.  Damn smart people.  And then he wrote etcd as an implementation, and then Aphyr said that this is really not shit, but cool !!! <br><br>  Who is Aphyr? <br><br>  - <a href="https://github.com/aphyr">Aphyr</a> - well, this is the person who wrote "Call Me Maybe", well ... you know him?  "The distributed systems and BDSM guy"? <br><br>  Did you just say bdsm? <br><br>  - Yes, BDSM.  This is San Francisco.  Here everyone is passionate about distributed systems and BDSM. <br><br>  And he wrote that Katy Perry song? <br><br>  - No, he wrote a series of articles about how each database floods CAP. <br><br>  What is CAP? <br><br>  - Teroema about CAP (also known as the Brewer theorem).  She says that you can only have 2 points out of three: Consistency, Accessibility and Resistance to Splitting. <br><br>  And all databases flood this CAP?  What the fuck is all about? <br><br>  ‚ÄúThat means all this sucks.‚Äù  Like MongoDB. <br><br>  I thought MongoDB is <a href="http://www.mongodb-is-web-scale.com/">horizontally expandable</a> . <br><br>  - No one but you. <br><br>  Okay.  So what's up with etcd? <br><br>  - Yes, and so, etcd is a distributed storage of values. <br><br>  Just like Redis. <br><br>  - No, not at all like Redis.  etcd is a distributed system.  Redis loses some information if the network temporarily fails. <br><br>  Well, this is a distributed repository of values.  Why is this thing so useful? <br><br>  - Kubernetes configures a standard cluster of five nodes using etcd as a messaging bus.  It combines with a pair of its own services to provide a very stable orchestral system. <br><br>  5 knots?  I have one application.  How many cars do I need to pick up for this? <br><br>  - Well, you are going to raise 12 services, and of course you need a couple of extra copies for each, a pair of balancers, etcd, your database and Kubernetes cluster.  So, it can be about 50 containers at the same time. <br><br>  Chzh <br><br>  - Yes, finally can not question!  The containers are really efficient, so it‚Äôs easy for you to distribute the whole thing between 8 machines!  Isn't that awesome? <br><br>  And yet, this is just your impression.  And taking this all, can I just deploy my application? <br><br>  - Well, of course!  True, data storage volumes are still an open question in the case of Docker and Kubernetes, and the network load is increased, but these issues will be solved very soon! <br><br>  Hmm, I see.  Well, it seems I now understand everything. <br><br>  - Great! <br><br>  Thanks for the detailed story. <br><br>  - Yes, no problem. <br><br>  Let me just summarize everything we talked about to make sure that we understand each other. <br><br>  - Of course! <br><br>  So, I simply need to divide my simple CRUD application into 12 microservices, each of which should be wrapped in its own API, which should call each other using these APIs, but at the same time handle the errors of each of them, put all this into containers Docker, run fleet of 8 machines that are CoreOS-based Docker-hosts, ‚Äúorchestrate them‚Äù using a small Kubernetes cluster based on etcd, solve ‚Äúa couple of open questions‚Äù about network load and information storage, set up multiple copies CI / CD each microservice with balancer  vschikami in fleet.  It's like that? <br><br>  - Yes!  Isn't that awesome? <br><br>  ... I'll go to Heroku. </div><p>Source: <a href="https://habr.com/ru/post/276539/">https://habr.com/ru/post/276539/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../276525/index.html">Recruitment to St. Petersburg Academic University</a></li>
<li><a href="../276527/index.html">Notes of a true architect: just about the most important thing (Part 1)</a></li>
<li><a href="../276531/index.html">Unified test runner and analysis of test data</a></li>
<li><a href="../276533/index.html">Procedurally generated world maps on Unity C #, part 3</a></li>
<li><a href="../276535/index.html">How are the packages for checking the quality of random sequences?</a></li>
<li><a href="../276541/index.html">The report on the results of visits to ISC-2015</a></li>
<li><a href="../276545/index.html">FBI: Hedge Fund Traders Share Insider Information in the Call of Duty Game Chat</a></li>
<li><a href="../276547/index.html">Install Azure Stack TP1</a></li>
<li><a href="../276549/index.html">Query Performance Insight: Who Eats Your Database Resources?</a></li>
<li><a href="../276551/index.html">Procedurally generated world maps on Unity C #, Part 4 (traffic)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>