<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The miner on the site is evil (although it can be good)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Often on Habr√© you can find comments in the spirit of ‚ÄúMiner is a good replacement / addition to advertising on the site‚Äù or ‚ÄúI‚Äôd better give 10-40% o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The miner on the site is evil (although it can be good)</h1><div class="post__text post__text-html js-mediator-article">  Often on Habr√© you can find comments in the spirit of ‚ÄúMiner is a good replacement / addition to advertising on the site‚Äù or ‚ÄúI‚Äôd better give 10-40% of CPU‚Äù.  This article will give arguments why such statements are fundamentally wrong.  The article will also suggest how to solve the above problems (not all), allowing the miners to become an additional source of monetization, which can have a positive impact on the web. <br><br>  Reference: miner is a program for mining cryptocurrency.  Can be embedded in sites, bringing the author of the site profit.  Mining can use both processor power and video card (javascript can run shaders using WebGL). <br><a name="habracut"></a><br><h2>  Why miner is evil </h2><br>  These reasons may be obvious to many, but proponents for mining do not take them into account. <br><br><ol><li>  A user bought an expensive processor / video card most often not for the miners to eat half of the cores.  Suppose I spent 20k on the processor.  If I lose half of its cores, it turns out that 10k is wasted.  And if I bought a cheap processor / video card, then this item is even more critical, because then the resources are more important to me. </li><li>  Due to unscrupulous miners, not only the open site, but also other sites and even the entire system lags.  But if you are a bona fide miner, only part of the resources are not the solution, since <nobr>:</nobr> <br><ul><li>  This still does not guarantee the absence of lags. </li><li>  If the user opens several tabs, and minites several sites at once, then we still get an excess, after which the lags begin.  In conditions when hundreds of tabs can be opened, such a scenario is very likely. </li><li>  Similarly, we will get exceeded if the user himself has launched some programs. </li></ul><br>  Lags due to mining is difficult to control.  As a user, I'd rather not open that site at all, than to get lags.  Only not always I know about the miner. </li><li>  If the site did not notify me about mining, it just might interfere with my work.  For example, if I bought 8 cores, there will be times when they will be idle, but there will also be times when they are needed all.  One of the simplest examples - I decided to watch a movie, but could not do it because of the miner.  And no matter how powerful a computer you buy, its resources will be mined by the miner. </li><li>  Mining is the transfer of electricity to money, so a miner who does not notify me about his work, in fact steals my money, because I have <nobr>to</nobr> pay for the electricity I spent. </li><li>  Miner leads to battery discharge. </li><li>  Miners can not check whether miners are running on other open sites.  Already having opened several tabs it is possible to completely overload the system. </li><li>  Usually, a certain amount of resources should always be free for normal operation.  Miner can not know how many resources are free at the moment. </li><li>  Miners cause fan noise. </li><li>  Miner usually acts covertly.  For example, when I see a site with ads, I can give preference to another site, <nobr>that is</nobr> , I have a choice.  But with a miner of choice, I do not have. </li><li>  Inexperienced users may not understand why the system lags. </li><li>  When you realize that a miner is bothering you, finding a tab with a miner is very annoying.  And even worse, when you did not understand what a miner is bothering you. </li><li>  Miner honesty is difficult to control.  At the same time, conscientious miners are rare. </li><li>  Heating device (laptop, mobile phone <nobr>, etc.).</nobr> </li><li>  Quite critical financial problems (see below). </li></ol><br><p>  In short, miners cause lags, interfere with work, steal money (with the help of electricity), discharge the battery, cause fan noise and completely overload the system when opening several tabs.  At the same time, the miner, in contrast to advertising, acts covertly, taking away the user's choice. </p><br><h6>  Financial difficulties </h6><br><ol><li>  If all sites began to install miners, the profits that they can receive would also fall, since user resources are limited.  Even now, the profit is very small, but what if it falls another 10 times?  In this case, the inconvenience to the user, we cause enormous. </li><li>  Differences in the cost of electricity.  For example, part of users spending $ 2 can generate only, for example, $ 1. </li><li>  Performance.  But this item is hardly applicable, since javascript can mine on a video card using shaders written in GLSL.  And if we are talking about mining on a CPU, then we mean the currency sharpened just by the CPU - on a video card its mining is impossible or inefficient.  And to speed up the CPU, we can use WebAssembly. </li></ol><br><h6>  Strengthening environmental problems </h6><br>  Previously, electricity for miners was not free, so they were not engaged in unprofitable mining.  But when the work began to be shifted to the user, the miner no longer needs to save, which will lead to a much more huge expenditure of electricity. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      If earlier the consumption of electricity was equal to the market value of the coins (and it was also huge), now it will increase several more times.  Very dubious perspective. <br><br><h2>  Solutions to some problems </h2><br>  p. 2 (lags), p. 3 (interferes with work), p. 6 (several tabs) and p. 7 (leaving free resources) can be tried programmatically, for example, doing a 100% test load every second for a fraction of a second , and checking how many calculations it was possible to carry out.  Of the minuses: <br><br><ul><li>  We cannot find out how badly we have infringed upon other processes, so free resources could be determined in this way only if we started up with the lowest priority, but there is no such possibility. </li><li>  Determination will be delayed. </li><li>  Low accuracy. </li><li>  The presence of discontinuous loads is not taken into account.  Especially this point is relevant on the video card - we may take a lot of resources (from the total percentage) for a short time. </li><li>  It is impossible to take into account the use of shared-resources.  For example, even if the miner will work at half power, this does not mean that he cannot score the L3 cache, which someone may need.  In addition, clogging the cache will lower the performance of single-threaded applications. </li></ul><br>  Item 5 (battery discharge) - you can decide if the browser will notify you if the device is connected to the network. <br><br><p>  Section 8 (fan noise) and Section 13 (device heating) - you can decide if you set the browser setting, what percentage of the resources can be totally involved in the system.  This setting should be taken into account by sites.  Of the minuses - it can be used to track. </p><br><br><h2>  Solution of all points at once (except financial and environmental) </h2><br>  You can solve all the points at once if the browsers blacklist sites with miners that do not comply with the following rules: <br><br><ol><li>  Miner must leave at least 50% of free resources, regardless of the system load.  If the system is already loaded at 50%, the miner should not work. </li><li>  The miner should send a special mining notice to the browser.  This notification browser will display an icon in the address bar, as well as on the tab itself, as is already done with playing audio. </li><li>  Miner should not work if the user has prohibited mining on all sites or on the current site. </li><li>  Miner should not work when running on battery. </li></ol><br>  Of course, even if the site is on the black list, the user should still be able to enter the site after the appropriate warning.  Similarly, the search engines can do, lowering unscrupulous sites in the results of the issue. <br><br><p>  The disadvantage is that checking sites is very time consuming, and the miner may not be shown to all visitors.  Another drawback - the eighth point is not solved (fan noise). </p><br><br><h2>  More advanced solution </h2><br>  A more advanced solution is to embed the mining directly into the browser, then the browser itself will automatically control the execution of all items, and the user will not get any inconvenience (pay attention to the four rules that I mentioned above).  The author of the site can only choose which currency to mine. <br><br><h6>  Benefits </h6><br><ol><li>  Now all embedded miners will be considered unscrupulous, that is, identifying miners will not be more difficult than they are now.  In the previous method, this was complicated. </li><li>  We can provide the best performance (as well as the worst, since there is no competition between the miners). </li><li>  The problem with the fan noise has been solved, because now the power setting is stored in the browser itself and is not transmitted to sites, and therefore cannot be used for tracking. </li><li>  Easy settings for the author site. </li></ol><br>  In this case, in fact, browsers do not need to block unscrupulous sites on their own, but you can leave it to third-party products, for example, anti-virus programs or add-ons. <br><br><h6>  disadvantages </h6><br>  The solution has a number of significant drawbacks: <br><br><ol><li>  Maintaining this all by browsers is time consuming.  Especially time-consuming support for different miner programs from different currencies.  On the other hand, browsers can get additional monetization by promoting certain currencies. </li><li>  The ninth point (lack of benefits, when everyone starts mining), we can not overcome.  This means that browser developers have to do a lot of work that may not do any good to the web. </li><li>  There are a lot of nuances in determining free resources.  It‚Äôs more profitable for me as a user to turn off mining.  However, by turning off general mining, I can forcibly enable it on my favorite sites, so that they will not have to compete with other sites. </li><li>  Mining profitability is very unstable.  Few people want to implement the functionality, the use of which is very doubtful. </li><li>  None of the problems described in the ‚ÄúFinancial problems‚Äù section has been resolved. </li><li>  The ecological problem is not solved, in which the expenditure of electricity increases several times in comparison with the current situation, since the miners no longer need to save on electricity.  Well, just by supporting the mining, we support a meaningless waste of energy. </li></ol><br><br><h2>  Results </h2><br>  The scheme described above has significant drawbacks, but few will be against it - in extreme cases, you can simply turn off mining in the settings. <br><br><p> But those who are in favor of mining usually do not indicate related problems and their solutions, and without this mining will cause great inconvenience to the user. </p><br>  It should also be noted: <br><br><ul><li>  Browsers have already begun to limit the use of CPU in the background tabs, but with a large number of open tabs, they still give a greater load, that is, this is not a complete protection. <br><br>  Also a good solution would be to completely restrict the use of the video card in the background tabs, except for those whom the user specifically authorized it. <br><br>  Moreover, both of these solutions are ineffective when there are more than one active tabs.  This can happen when several browsers / windows are open. </li></ul><br>  PS: This article is not the ultimate truth, so it would be interesting to hear other arguments that I missed. <br><br>  PS: This article is not in favor of or against mining, but merely indicates disadvantages, ways to correct them and advantages.  But if you define a point of view, it‚Äôs rather against, because without support by browsers it does not make sense, and with support it will never pay off and has a number of other serious problems. </div><p>Source: <a href="https://habr.com/ru/post/347868/">https://habr.com/ru/post/347868/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../347854/index.html">Special projects at Sberbank Technologies: how banks are preparing Hadoop, Spark, Kafka and other Big Data</a></li>
<li><a href="../347856/index.html">Data structures with program properties</a></li>
<li><a href="../347858/index.html">Digest news from the world of PostgreSQL. Issue number 2</a></li>
<li><a href="../347864/index.html">Absurdly fast base64 encoding and decoding</a></li>
<li><a href="../347866/index.html">Implicit type conversion in javascript. How many will be! + [] + [] +! []?</a></li>
<li><a href="../347870/index.html">‚ÄúStrashilka‚Äù about GDPR</a></li>
<li><a href="../347872/index.html">Pygest # 23. News, releases, articles, interesting projects and libraries from the world of Python [February 4, 2018 - February 26, 2018]</a></li>
<li><a href="../347874/index.html">Is it time for open and free processors?</a></li>
<li><a href="../347876/index.html">Changes in Big Data that are waiting for us in 2018</a></li>
<li><a href="../347878/index.html">Year for three on Habr√©. We share the experience of a corporate blog.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>