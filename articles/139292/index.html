<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Program to record the broadcast of elections with webvyboryedg.ru</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On Sunday, civic-filled voters will wear holiday outfits and go to the polls. Who to watch, and someone, perhaps, just vote. People will want to captu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Program to record the broadcast of elections with webvyboryedg.ru</h1><div class="post__text post__text-html js-mediator-article">  On Sunday, civic-filled voters will wear holiday outfits and go to the polls.  Who to watch, and someone, perhaps, just vote.  People will want to capture this exciting and rare moment of their lives. <br>  If you do not have your own photo-video equipment and you are a fan of strange angles, this article is for you. <br><a name="habracut"></a><br><h3>  Specifications </h3><br>  The program is designed to record video from the site webvyboryedg.ru. <br>  Interface console.  It is possible to run on a schedule. <br>  Support work through a proxy. <br>  It is possible to customize the size of saved video segments. <br><br><h3>  How to use it? </h3><br>  Check that you have Java installed.  If not, install from <a href="http://java.com/">java.com</a> or c <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">www.oracle.com/technetwork/java/javase/downloads/index.html</a> select JRE. <br><br>  On the site webvyboryedg.ru choose the desired site. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Now you need to get a pair (server ip and camera cid).  There are three ways. <br><br><h5>  The first </h5>  In the address bar of the browser you can see the site id (http://webvyboryedg.ru/#precinct/12345, 12345 is the site id). <br><br>  In the address bar, enter the address webvyboryedg.ru/account/channels?station_id=12345.  You get a file in which there are pairs: server ip and camera cid. <br><br><h5>  The second way to get a pair (server ip and camera cid). </h5> When the broadcast begins, use the browser console (F12 call), see the address from which the video is coming. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/7dd/dc9/b4e/7dddc9b4e48f2998fbad1e2611f0b22a.png" align="left"><br><img src="https://habrastorage.org/getpro/geektimes/post_images/a9f/6af/529/a9f6af52995716b86869d12f00191272.png" align="left"><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/36f/45e/4a7/36f45e4a7fd85441b23338e45a792211.png"><br><br>  To run the program, three parameters are required: the camera name (for example, uik12345cam1), the server ip-address (for example, 188.8.8.8) and the camera id (for example, 9096138f-4687-11e2-bce6-048d7b47db12).  Name the camera yourself.  It will be added to the name of the output file.  Therefore, write without spaces and without special characters to avoid errors with the file system (for example, uik12345cam1, where 12345 is the site id).  By this name it will be then easier to understand the recorded one.  In addition, this option will eliminate the name conflict if you write from different cameras to one directory. <br><br>  Make sure there is enough disk space.  One hour of broadcasting (640x480) from one camera takes about 60 MB. <br><br>  Make sure that there are rights to write to the folder where the program will be launched. <br><br>  Make sure you have Java installed.  Open a command prompt (in Windows, the Win + R keyboard shortcut).  Type the <code>java</code> command.  Press Enter should appear a lot of text.  If the command is not found, install Java from <a href="http://java.com/">http://java.com</a> . <br><br>  Run the program from the command line: <br><pre> <code class="html hljs xml"> java -jar webvyboryRecord.jar uik12345cam1 188.8.8.8 9096138f-4687-11e2-bce6-048d7b47db12</code> </pre><br>  If the parameters are specified incorrectly, examples will be shown. <br><pre> <code class="html hljs xml">Identify at least 3 parameters: UIK name, server ip and camera id(cid) Examples: java -jar webvyboryRecord.jar uik12345cam1 188.8.8.8 9096138f-4687-11e2-bce6-048d7b47db12 With proxy: java -jar webvyboryRecord.jar uik12345cam1 188.8.8.8 9096138f-4687-11e2-bce6-048d7b47db12 -proxy 127.0.0.1:8080 Identify file length in minutes (default 60) java -jar webvyboryRecord.jar uik12345cam1 188.8.8.8 9096138f-4687-11e2-bce6-048d7b47db12 60 java -jar webvyboryRecord.jar uik12345cam1 188.8.8.8 9096138f-4687-11e2-bce6-048d7b47db12 -proxy 127.0.0.1:8080 60</code> </pre>  The order of the parameters is strictly required. <br><br>  After starting the program, the lines will appear <br><pre> <code class="html hljs xml">Create new file: vybory_uik12345cam1_02_094048.ts Added new segment: http://188.254.112.34/hls/09626089-641a-aaaa-aaaa-bcad28d07aaf/1474219561.02-1474219577.66.ts?input=ele-production Added new segment: http://188.254.112.34/hls/09626089-641a-aaaa-aaaa-bcad28d07aaf/1474219577.66-1474219594.35.ts?input=ele-production</code> </pre><br>  The following file format will be created in the program directory. <br><pre> <code class="html hljs xml">vybory_<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">_</span></span></span><span class="hljs-tag">&gt;</span></span>_<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"></span></span></span><span class="hljs-tag">&gt;</span></span>_<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"></span></span></span><span class="hljs-tag">&gt;</span></span>.ts</code> </pre><br>  Time indicates the beginning of the episode in the file.  If it costs 04_080100, then you managed to quickly start recording and in this file you can see how the first voters are run at the polling station, and the ballot boxes are empty. <br>  In this video file (15 fps, h264) and possibly audio (25 kb / s, aac). <br><br>  The last file is recorded until it reaches the specified size for the duration of the broadcast.  By default, a new file is created every hour.  Do not touch the last file, it is written to. <br><br><h3>  What could be the problem? </h3><br><h4>  On election day, the broadcast will work according to a different scheme. </h4><br>  Alas, the program most likely will not work.  We will get out and rewrite the code. <br><br><h4>  Enemies have stolen the Internet </h4><br>  Messages will appear <br><pre> <code class="html hljs xml">Can't get M3U file: http://188.8.8.8/variant.m3u8?cid=9096138f-4687-11e2-bce6-048d7b47db12&amp;var=orig</code> </pre>  This will be until the Internet is returned.  After that, the recording continues.  Restart the program is not necessary. <br>  If the lines do not appear, and there is translation on the site, the program is still frozen. <br><br><h4>  Withdrawing write access to a file or directory </h4><br>  Messages will appear <br><pre> <code class="html hljs xml">Can't open file: vybory2012_uik12345cam1_02_194048.ts(vybory2012_uik12345cam1_02_194048.ts (  )) Create new file: vybory2012_uik12345cam1_02_194605.ts</code> </pre>  Perhaps you are trying to view or re-encode the file being created, and a third-party program has taken exclusive access to it.  It became impossible to add to it. <br>  Do not be nonsense.  You will have plenty of time.  Go to the polls.  Let the program work.  She will try to create a new file and write to it.  After the access to the directory is returned, the recording will continue to the new file. <br><br><h4>  Did not calculate the disk space, and it ended </h4><br>  Messages will appear <br><pre> <code class="html hljs xml">Can't record segment: http://188.8.8.8/segment.ts?cid=9096138f-4687-11e2-bce6-048d7b47db12&amp;var=orig&amp;ts=1330775193.95-1330775209.01 (   ) Can't open file: vybory2012_uik12345cam1_02_205522.ts(vybory2012_uik12345cam1_02_205522.ts (   )) Creat new file: vybory2012_uik12345cam1_02_205537.ts</code> </pre>  Move any files to another disk.  When space appears, recording continues.  The program does not need to restart. <br><br><h4>  In the name of the files being created, the time is an hour behind. </h4><br>  This problem was mentioned in <a href="http://habrahabr.ru/qa/16943/">Q &amp; A.</a>  Your computer and time do not affect it.  The time is taken from the address of the segment to be received (http://188.254.112.34/hls/09626089-641a-aaaaaaaaa-bcad28d07aaf/1474219952.75-1474219969.45 .ts? Input = ele-production).  The last two numbers indicate the time range during which this video was recorded (about 15 seconds). <br><br><h4>  The program is frozen.  New lines do not appear. </h4><br>  The program continues to work.  She downloads the M3U playlist with links to segments, and there it‚Äôs empty. <br><pre> <code class="html hljs xml">#EXTM3U #EXT-X-MEDIA-SEQUENCE:1050 #EXT-X-TARGETDURATION:15 #EXT-X-ALLOW-CACHE:NO</code> </pre>  It is possible that the broadcast was suspended until the closure of sites in the Kaliningrad region.  Perhaps, problems with PAK.  You can restart the program if it becomes easier for you. <br><br><h3>  Where is the ‚ÄúDownload‚Äù link? </h3><br>  And here is the link: <a href="http://bitbucket.org/qwertovsky/webvybory2012recorder/downloads">Download</a> . <br>  Source code: <a href="http://bitbucket.org/qwertovsky/webvybory2012recorder">http://bitbucket.org/qwertovsky/webvybory2012recorder</a> . <br><br>  <b>UPD 02_210900:</b> The site has been updated again.  Now, instead of the server's IP address, you can see the domain name of the form 188-8-8-8.webvybory2012.ru.  It can be fed to the program too. <br>  Already, you can stumble upon working cameras in your city. <br><br>  <b>UPD 03_1100:</b> The program must already be finalized (in progress).  Keep for updates. <br>  Evgeny Boger <a href="http://eugenyboger.livejournal.com/5408.html">published a</a> list of sites and id cameras.  In the first column of this list is the site id (in the address bar of the browser you can see it).  It is easier to search by it.  The IP address of the server and cid of the camera are separated by a space.  Will see. <br>  In the same place, Evgeny Boger gave a link to the script, which, as I understood, he made this list. <br><br>  <a href="https://geektimes.ru/users/rapkasta/" class="user_link">rapkasta</a> reported that camera IDs are in the file webvybory2012.ru/account/channels?station_id=74747, where 74747 is the site id. <br>  The site id can be seen in the address bar of the browser when you open this site.  Thus, you can stock up on cidami by downloading files from such links. <br><br>  <b>UPD 03_1530:</b> The program is improved.  Version 1.1 is available.  <a href="http://bitbucket.org/qwertovsky/webvybory2012recorder/downloads/">Download</a> <br>  Article corrected. <br>  Required input parameters has become more.  Added the "Camera Name" parameter.  This name will be added to the file name.  Therefore, write without spaces and without special characters to avoid errors with the file system (for example, uik12345cam1, where 12345 is the site id).  By this name it will be then easier to understand the recorded one.  In addition, this option will eliminate the name conflict if you write from different cameras to one directory. <br><br>  <b>UPD 03_2100:</b> There is an error in the work through a proxy without a password.  Help is issued. <br>  A temporary solution - put a colon after the port (for example, 127.0.0.1:8080 :). <br>  I will correct.  Keep for updates. <br><br>  <b>UPD 03_2200:</b> Error with proxy fixed.  Version 1.2 is available. <br><br>  <b>UPD 04_0200:</b> Voting has begun.  Captcha, they say no. <br><br>  <b>UPD 04_1500:</b> Broadcast from the eastern regions, as promised, discontinued. <br><br>  <b>UPD 20120609:</b> Recording the election of mayors in Krasnoyarsk and Omsk is possible. <br>  Camera identifiers that were published by Evgeny Boger are not relevant.  Use the second and third way to get ip and cid. <br><br>  <b>UPD 20160918:</b> Late, but corrected the program for the site webvyboryedg.ru.  Look for version 1.3. </div><p>Source: <a href="https://habr.com/ru/post/139292/">https://habr.com/ru/post/139292/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../139278/index.html">How to play a user using Radmin</a></li>
<li><a href="../139280/index.html">New features of Guard@Mail.Ru</a></li>
<li><a href="../139284/index.html">We invite everyone to the White Nights: Mobile Games Conference in St. Petersburg!</a></li>
<li><a href="../139285/index.html">ASUS officially unveiled Padfone</a></li>
<li><a href="../139286/index.html">Good deeds</a></li>
<li><a href="../139293/index.html">Porting to Android</a></li>
<li><a href="../139294/index.html">Criminal case for key chain</a></li>
<li><a href="../139296/index.html">OVAL¬Æ or the ‚ÄúIdeal Scanner Myth‚Äù</a></li>
<li><a href="../139297/index.html">New details about Medfield, as well as the augmented reality from Intel and the DJ table demo</a></li>
<li><a href="../139302/index.html">Firefox addon: clearly see which sites are silently setting cookies</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>