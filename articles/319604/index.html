<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Data Serialization: Performance Test and Application Description</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Serialization ( Serialize , later ‚Äúsave‚Äù) is the process of saving object data in external storage. 
 This operation is paired with reverse - data rec...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Data Serialization: Performance Test and Application Description</h1><div class="post__text post__text-html js-mediator-article"><p> Serialization ( <code>Serialize</code> , later ‚Äúsave‚Äù) is the process of saving object data in external storage. <br>  This operation is paired with reverse - data recovery, called deserialization ( <code>Deserealize</code> , in the following "recovery"). </p><br><p>  The operations of saving and restoring data are used very often.  In classical programming languages, there are no ready-made mechanisms for saving and restoring object data and, if such a need arises, you have to create them yourself. </p><br><p>  In Java, such ready-made mechanisms exist and, even, in quantities of more than one.  Let's see what mechanisms are there and what opportunities they provide for programs on <code>Kotlin</code> . </p><br><p>  The concept of serialization itself is in no way tied to the data format in which the data will be saved, so no matter what result will be obtained - a binary file with its own structure, <code>XML</code> , <code>JSON</code> or even a text file - all this will be serialization. </p><br><a name="habracut"></a><br><h1 id="serializaciya">  Serialization </h1><br><p>  In classical programming languages, there are no ready-made possibilities for saving structured objects, but since  data structures are directly stored in memory, there is an easy way to save and restore data directly.  On the one hand, you need to create your own means for preservation only when you need to save complex objects with interconnections with each other, but on the other hand, even if you want to use some simple, ready-made mechanism, the implementation of saving data in its format is This is quite a laborious operation. </p><br><p>  In Java, the data of elements of a single object are randomly scattered over <code>JVM</code> memory, so even if it were possible to preserve the structure of the object as a whole, save the data would not work, so the only possible way in Java is to save element-wise element-type data from which the object consists. <br>  On the one hand, it is impossible to use saving objects entirely, in a single operation, in Java, but, thanks to the presence of developed <code>RTTI</code> , the use of ready-made preservation tools can be implemented very easily. </p><br><p>  Many stream classes, such as <code>Writer</code> or <code>PrintStream</code> provide ready-made options for storing elementary data types, but using them is as inconvenient as in classical programming languages ‚Äã‚Äãbecause of the very large number of descriptions that need to be done. <br>  But, in addition to working with elementary types, in Java there are several different types of ready-made mechanisms for storing class data and many libraries that work with the same formats, differing from each other in performance, volume, and capabilities. </p><br><p>  Below we will discuss typical ways to save data: built into the standard Java library, as well as saving in <code>XML</code> and <code>JSON</code> . </p><br><h2 id="serializable">  Serializable </h2><br><p>  The simplest feature that exists in the standard Java library is to save and restore data in fully automatic mode in binary form.  To implement this feature, all you need to do is specify all the classes whose data should be automatically saved and restored, the Serializable interface as realizable.  This is the interface "marker", which does not require the implementation of any method.  It is used simply to indicate that data of this class should be saved and restored. </p><br><h3 id="primer-ispolzovaniya">  Usage example </h3><br><p>  Using this class is elementary - one operation and does not require writing a single extra letter. </p><br><div class="spoiler">  <b class="spoiler_title">Program code</b> <div class="spoiler_text"><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DataClass</span></span></span></span>(s : String) : Serializable { <span class="hljs-meta"><span class="hljs-meta">@JvmField</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> strField = <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-meta"><span class="hljs-meta">@JvmField</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> intField = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-meta"><span class="hljs-meta">@JvmField</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dbField = <span class="hljs-number"><span class="hljs-number">0.0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-meta"><span class="hljs-meta">@JvmField</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> strProt = <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> strPriv = <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-meta"><span class="hljs-meta">@JvmField</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> valStr : String <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-meta"><span class="hljs-meta">@JvmField</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> valProt : String <span class="hljs-keyword"><span class="hljs-keyword">init</span></span> { valStr = s valProt = <span class="hljs-string"><span class="hljs-string">"prot="</span></span> + s strField = s + <span class="hljs-string"><span class="hljs-string">":baseText"</span></span> intField = s.hashCode() dbField = s.hashCode().toDouble() / <span class="hljs-number"><span class="hljs-number">1000</span></span> strProt = s+<span class="hljs-string"><span class="hljs-string">":prot"</span></span> strPriv = s+<span class="hljs-string"><span class="hljs-string">":priv"</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">print</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { outn(<span class="hljs-string"><span class="hljs-string">"str = [%s]\nint = [%d]\ndb = [%f]"</span></span>, strField, intField, dbField) outn(<span class="hljs-string"><span class="hljs-string">"prot = [%s]\npriv = [%s]"</span></span>, strProt, strPriv) outn(<span class="hljs-string"><span class="hljs-string">"value = [%s]\nprot value = [%s]"</span></span>, valStr, valProt) } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Action</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { outn( <span class="hljs-string"><span class="hljs-string">"Simple object IO test"</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> a = DataClass(<span class="hljs-string"><span class="hljs-string">"dataA"</span></span>) outn(<span class="hljs-string"><span class="hljs-string">"Saved contents:"</span></span>) a.print() Holder(ObjectOutputStream(File(<span class="hljs-string"><span class="hljs-string">"out.bin"</span></span>).outputStream())).h.writeObject(a) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> b = Holder(ObjectInputStream(File(<span class="hljs-string"><span class="hljs-string">"out.bin"</span></span>).inputStream())).h.readObject() outn(<span class="hljs-string"><span class="hljs-string">"Class: %s"</span></span>, b.javaClass.name) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (b <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> DataClass) { outn(<span class="hljs-string"><span class="hljs-string">"Loaded contents:"</span></span>) b.print() } }</code> </pre> </div></div><br><p>  As a result of this test, we get the following output: </p><br><div class="spoiler">  <b class="spoiler_title">Result</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">Simple <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> IO test Saved contents: str = [dataA:baseText] <span class="hljs-type"><span class="hljs-type">int</span></span> = [<span class="hljs-number"><span class="hljs-number">95356375</span></span>] db = [<span class="hljs-number"><span class="hljs-number">95356</span></span>,<span class="hljs-number"><span class="hljs-number">375000</span></span>] prot = [dataA:prot] priv = [dataA:priv] <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> = [dataA] prot <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> = [prot=dataA] <span class="hljs-keyword"><span class="hljs-keyword">Class</span></span>: app.test.Externalize.Test$DataClass Loaded contents: str = [dataA:baseText] <span class="hljs-type"><span class="hljs-type">int</span></span> = [<span class="hljs-number"><span class="hljs-number">95356375</span></span>] db = [<span class="hljs-number"><span class="hljs-number">95356</span></span>,<span class="hljs-number"><span class="hljs-number">375000</span></span>] prot = [dataA:prot] priv = [dataA:priv] <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> = [dataA] prot <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> = [prot=dataA]</code> </pre> </div></div><br><p>  As you can see from the result, the saving and restoration of the object was successful and, after restoration, the new object has exactly the same content as the saved one. <br>  When executing the program, the file " <code>out.bin</code> " was created with a size of 244 bytes in binary format.  The format description can be found in a variety of sources, but, in my opinion, it makes no sense to understand it, it is enough for it to be successfully understood by the save and restore operations. </p><br><h3 id="osobennosti">  Special features </h3><br><p>  If we consider the above example in more detail, we can see the following features. </p><br><ul><li>  Absolutely all fields were saved and restored, even those with the access type " <code>private</code> " and " <code>protected</code> ". </li><li>  The fields specified as ‚Äú <code>val</code> ‚Äù were processed, i.e.  immutable by <code>Kotlin</code> standards. </li><li>  A new object was created, although it does not have a constructor without parameters, and the existing one was not called. </li></ul><br><p>  As a result, it is clear that the state of the object is preserved and restored bypassing all the syntactic restrictions that are indicated in the program text.  Sometimes this feature of the implementation is a plus but, sometimes, it can be a fundamental restriction on its use. </p><br><div class="spoiler">  <b class="spoiler_title">Read more</b> <div class="spoiler_text"><p>  To save data, use a special <code>ObjectOutputStream</code> stream (and analogues) for loading.  This stream can work with any data types, including objects as a whole, which we have used.  The data generated by this stream contains an independent set of information blocks, so there are no restrictions on its use.  You can save as many objects or elementary types as one stream, the main thing, when restoring, to read them in the reverse order. </p><br><p>  An important feature of such a mechanism of preservation and restoration is that the reading functions automatically control the boundaries of the recorded and will not allow to read the data outside the side where they were written. <br>  If an object was written, then its contents cannot be read byte by byte. <br>  The read byte function will throw an exception with an error as soon as an attempt is made to read the data of a block that was not saved as a byte.  This is a rudimentary data protection mechanism, which is very useful because  provides automatic data integrity checking. </p><br><p>  Classes for saving and restoring data are streams and their contents can be wrapped by any class that processes streams.  You can compress stored data, encrypt, transfer over the network, save to memory, archive or any internal container. </p></div></div><br><h3 id="vozmozhnosti">  Opportunities </h3><br><p>  Despite the seeming simplicity of this method, it provides a very powerful mechanism that is extremely easy and simple to use.  It has its drawbacks, which will be described below, but, often, its capabilities are sufficient for all that a programmer may need. </p><br><div class="spoiler">  <b class="spoiler_title">Read more</b> <div class="spoiler_text"><ul><li><p>  Any unique object is saved to the stream only once.  If several objects are saved that are links to the same one, then the object data will be saved only for one of them, and for the rest only the link to the one already saved will be recorded. <br>  When restoring data objects will be restored so that all links will be restored in the same form that existed in the original objects. </p><br></li><li><p>  When saving objects, their references to each other are automatically tracked and, during restoration, similar objects will refer to the same objects.  Those.  if you save object <code>¬´¬ª</code> and object <code>¬´¬ª</code> and at the same time one of the fields of object <code>¬´¬ª</code> is a reference to the saved object <code>¬´¬ª</code> , then not two different copies of class <code>¬´¬ª</code> will be saved, but only one.  When restoring fields, the new object <code>¬´¬ª</code> will still refer to object <code>¬´¬ª</code> restored from the same stream, i.e.  connection between objects will be restored. <br>  This feature allows you to completely transparently maintain a coherent hierarchy of objects that link to each other without destroying relationships and duplicating data. </p><br></li><li><p>  Supports the preservation of classes of type <code>¬´enum¬ª</code> with their correct recovery. </p><br></li><li><p>  It supports saving and restoring any objects that have a Serializable interface marker.  In particular, all standard JDK collections based on List, Set and Map will be automatically saved.  all their implementations have this marker. <br>  Those.  in order to save and restore all elements of a list or even a tree, it is not necessary to write any additional code, it is enough that the objects are marked with the "Serializable" interface. </p><br></li><li>  The data of all ancestors are automatically saved and restored, and when inheriting from this class, all current data will also be saved. <br>  No additional actions are needed to ensure the preservation and restoration of the entire chain of inheritance. </li></ul></div></div><br><p>  To more accurately control the process of saving and restoring data, you can use additional mechanisms. </p><br><h4 id="kontrol-versii">  Version control </h4><br><p>  Since  the object data is stored fully automatically, then there must be a mechanism that controls the compatibility of the saved data with the current structure of the object.  Those.  if we added or deleted a field in the class, changed the order of the fields or their type, then when restoring the data they should fall on the place for which the stored data is intended. </p><br><p>  Such a mechanism for controlling compatibility exists.  When saving, the library automatically calculates the code for the class being used, which describes its state and, when restored, checks whether the object is compatible with the data that was previously saved for it.  If fields were added to the class being restored or their order was changed, then it is possible to recover data from a saved copy, but if the fields were deleted or their type changed, then such data could no longer be recovered, and an attempt to read such an object would be thrown. </p><br><p>  The code describing the state of the class can be calculated automatically when the object is saved, but if the class is not planned to be changed later or you want to disable this check mechanism, then you can use a special class field. </p><br><pre> <code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DataClass</span></span></span><span class="hljs-class"> </span></span>: <span class="hljs-type"><span class="hljs-type">Serializable</span></span> { companion <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">object</span></span></span><span class="hljs-class"> </span></span>{ const <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> serialVersionUID = <span class="hljs-number"><span class="hljs-number">1</span></span>L } }</code> </pre> <br><p>  This field must be a static constant of type <code>Long</code> , described in the class. <br>  In the case of Kotlin, this constant must be described using the <code>@JvmStatic</code> annotation or the <code>const</code> modifier, otherwise the load library will not see it. </p><br><p>  When restoring data, the code value from the stream is checked with the one that is calculated or written by a constant for the required class at the moment of saving and, if these values ‚Äã‚Äãdo not match, an exception will be thrown with an error. <br>  The access type of the <code>serialVersionUID</code> field does not play any role; it can be both public and hidden. <br>  After the class has taken the final form and its modification is no longer planned, it is recommended to describe this constant in the class in order to avoid calculating it at every load and save.  The value of this constant can reflect the real state of the class, and then it must be calculated using library methods, or it can contain any arbitrary value if the class match is not important. </p><br><p>  To calculate the class state value, you can use the <code>¬´serialver¬ª</code> utility from the Java delivery, but it is inconvenient to use it, so it is much easier to obtain this value programmatically.  To do this, in the program that uses the required class, call the method to calculate its state and set the resulting value in the <code>serialVersionUID</code> field. </p><br><pre> <code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Action</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { println( <span class="hljs-string"><span class="hljs-string">"ID: %d\n"</span></span>, ObjectStreamClass.lookup(DataClass::<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">).</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">serialVersionUID</span></span></span><span class="hljs-class"> ) //‚Ä¶ }</span></span></code> </pre> <br><p>  The output of the program: </p><br><pre> <code class="hljs">ID: 991989581060349712</code> </pre> <br><h4 id="upravlenie-sohranyaemymi-dannymi">  Storage Management </h4><br><p>  Often, you do not need to save and restore all the existing data on the object, but only a part of them or restore them in a format that does not correspond to their actual type. </p><br><p>  The first control option is the exception mechanism. <br>  In order to exclude any field from the list of processed it must be marked with a special type of "transient".  In Java, a special keyword is used for this, and in <code>Kotlin</code> , a special annotation is required. </p><br><pre> <code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DataClass</span></span></span><span class="hljs-class"> </span></span>: <span class="hljs-type"><span class="hljs-type">Serializable</span></span> { <span class="hljs-meta"><span class="hljs-meta">@JvmField</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> strField = <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-meta"><span class="hljs-meta">@JvmField</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> intField = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-meta"><span class="hljs-meta">@Transient</span></span> <span class="hljs-meta"><span class="hljs-meta">@JvmField</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dbField = <span class="hljs-number"><span class="hljs-number">0.0</span></span> }</code> </pre> <br><p>  When processing objects of this class, the serialization library will neither save nor restore values ‚Äã‚Äãfor the " <code>dbField</code> " field.  All other fields will be saved and restored as usual. <br>  This mechanism is convenient to use in cases where field objects whose values ‚Äã‚Äãdo not make sense or cannot be saved. <br>  To set the values ‚Äã‚Äãof the fields that will not be processed automatically, the programmer must independently, after loading.  To do this, you can use the " <code>readResolve</code> " method, which is described below. </p><br><p>  The second possibility of managing the preservation is that you can specify the names and types of fields that will be used for saving and loading. <br>  With the development of the object, sometimes, the ability to restore its contents is required, even if the format of the object has already completely changed.  To do this, you need to be able to read the fields that are no longer in the class, and whose name or type has changed.  This can be accomplished using the field filtering mechanism by describing a static constant named <code>serialPersistentFields</code> . </p><br><div class="spoiler">  <b class="spoiler_title">Program code</b> <div class="spoiler_text"><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">open</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DataClass</span></span></span></span>(s : String) : Serializable { <span class="hljs-meta"><span class="hljs-meta">@JvmField</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> strField = <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-meta"><span class="hljs-meta">@JvmField</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> intField = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-meta"><span class="hljs-meta">@JvmField</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dbField = <span class="hljs-number"><span class="hljs-number">0.0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">companion</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> serialVersionUID1 = <span class="hljs-number"><span class="hljs-number">1L</span></span> <span class="hljs-meta"><span class="hljs-meta">@JvmStatic</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> serialPersistentFields = arrayOf( ObjectStreamField(<span class="hljs-string"><span class="hljs-string">"strField"</span></span>,String::<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">), </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">ObjectStreamField</span></span></span></span>(<span class="hljs-string"><span class="hljs-string">"intField"</span></span>,<span class="hljs-built_in"><span class="hljs-built_in">Int</span></span>::<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">) ) } </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">init</span></span></span><span class="hljs-class"> </span></span>{ strField = s + <span class="hljs-string"><span class="hljs-string">":baseText"</span></span> intField = s.hashCode() dbField = s.hashCode().toDouble() / <span class="hljs-number"><span class="hljs-number">1000</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">print</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> = outn(<span class="hljs-string"><span class="hljs-string">"str = [%s]\nint = [%d]\ndb = [%f]"</span></span>, strField, intField, dbField) } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Action</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> a = DataClass(<span class="hljs-string"><span class="hljs-string">"dataA"</span></span>) outn(<span class="hljs-string"><span class="hljs-string">"Saved contents:"</span></span>) a.print() Holder(ObjectOutputStream(File(<span class="hljs-string"><span class="hljs-string">"out.bin"</span></span>).outputStream())).h.writeObject(a) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> b = Holder(ObjectInputStream(File(<span class="hljs-string"><span class="hljs-string">"out.bin"</span></span>).inputStream())).h.readObject() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (b <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> DataClass) { outn(<span class="hljs-string"><span class="hljs-string">"Loaded contents:"</span></span>) b.print() } }</code> </pre> </div></div><br><p>  Now our example saves only two of the three available fields. </p><br><pre> <code class="hljs axapta">Saved contents: <span class="hljs-keyword"><span class="hljs-keyword">str</span></span> = [dataA:baseText] <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> = [<span class="hljs-number"><span class="hljs-number">95356375</span></span>] db = [<span class="hljs-number"><span class="hljs-number">95356</span></span>,<span class="hljs-number"><span class="hljs-number">375000</span></span>] Loaded contents: <span class="hljs-keyword"><span class="hljs-keyword">str</span></span> = [dataA:baseText] <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> = [<span class="hljs-number"><span class="hljs-number">95356375</span></span>] db = [<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">000000</span></span>]</code> </pre> <br><h4 id="sohranenie-i-vosstanovlenie-dannyh-vruchnuyu">  Manually save and restore data </h4><br><p>  Sometimes, it is not possible to describe the structure or changes in it so that automated tools work without errors.  In this case, you need to save or restore the values ‚Äã‚Äãof the class fields manually, but you would not want to lose all the advantages provided by automated tools. </p><br><p>  Suppose that in our object one of the fields has changed the name and at the same time it is necessary to ensure the preservation <br>  and loading data with both the new and old name.  Automation tools are unable to cope with this change, but you can manually operate the fields of the object.  For a serializable object, you can describe the <code>writeObject</code> and <code>readObject</code> functions that will be called to load and save its contents. </p><br><div class="spoiler">  <b class="spoiler_title">Program code</b> <div class="spoiler_text"><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">open</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DataClass</span></span></span></span>(s : String) : Serializable { <span class="hljs-meta"><span class="hljs-meta">@JvmField</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> strField = <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-meta"><span class="hljs-meta">@JvmField</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> intFieldChanged = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-meta"><span class="hljs-meta">@JvmField</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dbField = <span class="hljs-number"><span class="hljs-number">0.0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">companion</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> serialVersionUID1 = <span class="hljs-number"><span class="hljs-number">1L</span></span> <span class="hljs-meta"><span class="hljs-meta">@JvmStatic</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> serialPersistentFields = arrayOf( ObjectStreamField(<span class="hljs-string"><span class="hljs-string">"strField"</span></span>, String::<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">), </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">ObjectStreamField</span></span></span></span>(<span class="hljs-string"><span class="hljs-string">"intField"</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">Int</span></span>::<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">) ) } </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">init</span></span></span><span class="hljs-class"> </span></span>{ strField = s + <span class="hljs-string"><span class="hljs-string">":baseText"</span></span> intFieldChanged = s.hashCode() dbField = s.hashCode().toDouble() / <span class="hljs-number"><span class="hljs-number">1000</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">print</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> = outn(<span class="hljs-string"><span class="hljs-string">"str = [%s]\nint = [%d]\ndb = [%f]"</span></span>, strField, intFieldChanged, dbField) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">readObject</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(s : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">ObjectInputStream</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> fields = s.readFields() strField = fields.<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>(<span class="hljs-string"><span class="hljs-string">"strField"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> Any?) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> String intFieldChanged = fields.<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>(<span class="hljs-string"><span class="hljs-string">"intField"</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>) } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">writeObject</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(s : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">ObjectOutputStream</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> fields = s.putFields() fields.put(<span class="hljs-string"><span class="hljs-string">"strField"</span></span>, strField <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> Any?) fields.put(<span class="hljs-string"><span class="hljs-string">"intField"</span></span>, intFieldChanged) s.writeFields() } }</code> </pre> </div></div><br><p>  In this example, the class field is now called <code>intFieldChanged</code> , but in the saved data its name will still appear as <code>intField</code> , which will allow you to load data saved with the old name and save it in such a way that the old class will be able to load it. </p><br><p>  In the text of the <code>writeObject</code> and <code>readObject</code> you can implement arbitrary logic for storing and loading data. <br>  You can use the mechanisms provided by the library, as implemented in the example above, or you can save and restore the object completely manually.  True, in the latter case, it will be difficult to ensure the continuity of the structure to be maintained, as this is implemented in the example, but, often, there is no such need.  In the case of manual data handling, it is necessary to ensure that the data is restored in the same order in which they were saved. </p><br><div class="spoiler">  <b class="spoiler_title">Program code</b> <div class="spoiler_text"><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">open</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DataClass</span></span></span></span>(s : String) : Serializable { <span class="hljs-meta"><span class="hljs-meta">@JvmField</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> strField = <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-meta"><span class="hljs-meta">@JvmField</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> intField = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">companion</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> serialVersionUID1 = <span class="hljs-number"><span class="hljs-number">1L</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">init</span></span> { strField = s + <span class="hljs-string"><span class="hljs-string">":baseText"</span></span> intField = s.hashCode() } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">print</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> = outn(<span class="hljs-string"><span class="hljs-string">"str = [%s]\nint = [%d]"</span></span>, strField, intField) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">readObject</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(s : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">ObjectInputStream</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> { strField = s.readUTF() intField = s.readInt() } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">writeObject</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(s : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">ObjectOutputStream</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> { s.writeUTF(strField) s.writeInt(intField) } }</code> </pre> </div></div><br><h4 id="vosstanovlenie-singletonov">  Singleton recovery </h4><br><p>  When restoring data, the library will automatically restore links to objects, but for working with objects that exist in a single copy, this is not enough.  when loading, a new but new object will be created, whereas it is necessary that the loaded elements refer to an existing one in the program. </p><br><p>  This behavior can also be provided. </p><br><p>  For this, it is enough for the class, which must ensure uniqueness, to create the <code>readResolve</code> method.  This method will be called after loading any object of this class and allows you to replace it with another. </p><br><div class="spoiler">  <b class="spoiler_title">Program code</b> <div class="spoiler_text"><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LinkedData</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">private</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">constructor</span></span></span></span>(<span class="hljs-meta"><span class="hljs-meta">@JvmField</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> value : <span class="hljs-built_in"><span class="hljs-built_in">Int</span></span>) : Serializable { <span class="hljs-keyword"><span class="hljs-keyword">companion</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> { <span class="hljs-meta"><span class="hljs-meta">@JvmField</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> ZERO = LinkedData(<span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-meta"><span class="hljs-meta">@JvmField</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> NONZERO = LinkedData(<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-meta"><span class="hljs-meta">@JvmStatic</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">make</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(v : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> = <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (v == <span class="hljs-number"><span class="hljs-number">0</span></span>) ZERO <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> NONZERO } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">readResolve</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> : Any = <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( value == <span class="hljs-number"><span class="hljs-number">0</span></span> ) ZERO <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> NONZERO } <span class="hljs-keyword"><span class="hljs-keyword">open</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DataClass</span></span></span></span>(v : <span class="hljs-built_in"><span class="hljs-built_in">Int</span></span>) : Serializable { <span class="hljs-meta"><span class="hljs-meta">@JvmField</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> link = LinkedData.make(v) <span class="hljs-meta"><span class="hljs-meta">@JvmField</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> intField = v <span class="hljs-keyword"><span class="hljs-keyword">companion</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> serialVersionUID1 = <span class="hljs-number"><span class="hljs-number">1L</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">print</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> = outn(<span class="hljs-string"><span class="hljs-string">"int = [%d]\nlink = [%s]"</span></span>, intField, <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (link == LinkedData.ZERO) <span class="hljs-string"><span class="hljs-string">"ZERO"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (link == LinkedData.NONZERO) <span class="hljs-string"><span class="hljs-string">"NONZERO"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-string"><span class="hljs-string">"OTHER!"</span></span> ) }</code> </pre> </div></div><br><p>  The result of the program: </p><br><pre> <code class="hljs perl">Saved contents: <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> = [<span class="hljs-number"><span class="hljs-number">100</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">link</span></span> = [NONZERO] Loaded contents: <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> = [<span class="hljs-number"><span class="hljs-number">100</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">link</span></span> = [NONZERO]</code> </pre> <br><p> ,      <code>LinkedData</code>       <code>readResolve</code> ,      ,      . <br>            ,     . </p><br><h4 id="sohranenie-nestandartnyh-klassov-proksi">   ,  </h4><br><p>  ,        ,            (),     . <br>        <code>ObjectInputStream</code>  <code>ObjectOutputStream</code>     <code>annotateClass</code>  <code>annotateProxyClass</code> . </p><br><p>         ,      . </p><br><h3 id="nedostatki">  disadvantages </h3><br><p> ,    <code>Serializable</code>  ,      ,           . </p><br><div class="spoiler">  <b class="spoiler_title">Read more</b> <div class="spoiler_text"><p>          . </p><br><p>       ,        ,        .     ,     .  ,         . </p><br><p>   ,          <br>      <code>XML</code> , ..  .  <code>Serializable</code>  ,              . </p><br><p>           ,         ,      . <br>  ,           <code>JSON</code> ,       . </p><br><p>    ‚Äì . </p><br><p>  -   ,                 ,        . </p></div></div><br><p> <strong>: Serializable    !</strong> </p><br><p>        ,       . </p><br><p>    ,    ¬´¬ª       ,           ,       ,      .       ,      ,           . </p><br><habracut><br><h2 id="externalizable"> Externalizable </h2><br><p>  ,    Java ‚Äì   <code>Externalizable</code> . </p><br><p>                 <code>ObjectInput</code>  <code>ObjectOutput</code>     <code>Serializable</code> , ,    ,          . <br>      <code>readExternal</code>  <code>writeExternal</code> ,          . </p><br><p>    <code>Serializable</code> ,   <code>Externalizable</code> ,         .        ,      ,      . </p><br><p>   <code>Serializable</code>  <code>Externalizable</code>  ,          . <br>      .          .      <code>readResolve</code> ,       ,           . </p><br><div class="spoiler"> <b class="spoiler_title">  `Serializable`</b> <div class="spoiler_text"><p>     <code>Externalizable</code>   : </p><br><ul><li><p>        ,          . </p><br></li><li><p>    ,           ,    .        . </p><br></li><li><p>             ,       . </p><br></li><li><p>   ,     ,     . </p><br></li><li>       ,         . </li></ul></div></div><br><div class="spoiler">  <b class="spoiler_title">Program code</b> <div class="spoiler_text"><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LinkedData</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">private</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">constructor</span></span></span></span>(<span class="hljs-meta"><span class="hljs-meta">@JvmField</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> value : <span class="hljs-built_in"><span class="hljs-built_in">Int</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">companion</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> { <span class="hljs-meta"><span class="hljs-meta">@JvmField</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> ZERO = LinkedData(<span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-meta"><span class="hljs-meta">@JvmField</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> NONZERO = LinkedData(<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-meta"><span class="hljs-meta">@JvmStatic</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">make</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(v : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> = <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (v == <span class="hljs-number"><span class="hljs-number">0</span></span>) ZERO <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> NONZERO } } <span class="hljs-keyword"><span class="hljs-keyword">open</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DataClass</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Externalizable { @JvmField var link : LinkedData @JvmField var intField : Int constructor</span></span></span></span>() { link = LinkedData.ZERO; intField = <span class="hljs-number"><span class="hljs-number">0</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(v : <span class="hljs-built_in"><span class="hljs-built_in">Int</span></span>) { link = LinkedData.make(v); intField = v } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">print</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> = outn(<span class="hljs-string"><span class="hljs-string">"int = [%d]\nlink = [%s]"</span></span>, intField, <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (link == LinkedData.ZERO) <span class="hljs-string"><span class="hljs-string">"ZERO"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (link == LinkedData.NONZERO) <span class="hljs-string"><span class="hljs-string">"NONZERO"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-string"><span class="hljs-string">"OTHER!"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">readExternal</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(s : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">ObjectInput</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> { link = <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( s.readByte().toInt() == <span class="hljs-number"><span class="hljs-number">0</span></span> ) LinkedData.ZERO <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> LinkedData.NONZERO intField = s.readInt() } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">writeExternal</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(s : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">ObjectOutput</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> { s.writeByte(<span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(link == LinkedData.ZERO) <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>) s.writeInt(intField) } }</code> </pre> </div></div><br><p>        <code>link</code>   ..             .           <code>link</code>     . </p><br><p>       ,     ,        ,       .  ,       . <br>      ¬´DataClass¬ª        ,          . </p><br><h4 id="osobennosti-1">  Special features </h4><br><p>     <code>Externalizable</code>   ,      ,          . <br>   ,    ,          ,   <code>Serializable</code> . </p><br><div class="spoiler">  <b class="spoiler_title">Read more</b> <div class="spoiler_text"><p> ,             ,      .    ,      ,      ,            . </p><br><p>  ,  <code>Externalizable</code>      ,          , ,  ,   -     . </p><br><p>   ,       , ,   ,       ,   ,      .     -  ,               . </p><br><p>  ,      ,    <code>ObjectStream</code>   ,            .         ,    . </p><br><p>  ,   ,         ,       ,     ,     <code>Serialilzable</code> .  ,             . <br>   ,           , ,   ,    ,  ,             .        ,     . </p></div></div><br><habracut><br><h2 id="testirovanie-sravneniya"> ,  </h2><br><p>              ..  ,     ,  . ,     ,         . </p><br><div class="spoiler"> <b class="spoiler_title">,   </b> <div class="spoiler_text"><p>              ,      ,           . </p><br><p>       : </p><br><pre> <code class="hljs css"> 0) &lt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">noname</span></span>&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">addCaller</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.t_ForOrGetPut</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">org</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.sun</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.NotNotEmptyGetEach</span></span>( <span class="hljs-selector-tag"><span class="hljs-selector-tag">SetEmptyCombineSplit</span></span> ) 1) <span class="hljs-selector-tag"><span class="hljs-selector-tag">fNotRandom</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">addCaller</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.For</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">void</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">addCaller</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.t_HasEmpty</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Has</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">addCaller</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.t_Combine</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">GetCombineHas</span></span> ) 2) <span class="hljs-selector-tag"><span class="hljs-selector-tag">fOrSet</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">app</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.PutHasForGet</span></span>( <span class="hljs-selector-tag"><span class="hljs-selector-tag">app</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.t_Set</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">HasCombineAdd</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">app</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.t_ForNotOrAdd</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Combine</span></span> ) 3) <span class="hljs-selector-tag"><span class="hljs-selector-tag">fHasSplit</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">org</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.sun</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Set</span></span>( <span class="hljs-selector-tag"><span class="hljs-selector-tag">Set</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">sec</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.sun</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.t_JoinEmptyHasCombineCombine</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">EmptyCombineOr</span></span> ) 4) <span class="hljs-selector-tag"><span class="hljs-selector-tag">fJoinEach</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">sec</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.sun</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.t_OrForEmptySet</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">sec</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.sun</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.EachPutOrNot</span></span>( <span class="hljs-selector-tag"><span class="hljs-selector-tag">org</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.sun</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.t_Combine</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">SetHasSplitJoinEmpty</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">void</span></span> ) 5) <span class="hljs-selector-tag"><span class="hljs-selector-tag">fEachSet</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">org</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.sun</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.t_RandomSplit</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">app</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.OrIsFor</span></span>( <span class="hljs-selector-tag"><span class="hljs-selector-tag">sec</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.sun</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.t_Set</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">CombineGetRandom</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">void</span></span> ) 6) &lt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">noname</span></span>&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">app</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.t_NotSetForForGet</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">sun</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.NotHasForSplitAdd</span></span>( <span class="hljs-selector-tag"><span class="hljs-selector-tag">org</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.sun</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.t_IsRandomOrHas</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Each</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">void</span></span>) 7) <span class="hljs-selector-tag"><span class="hljs-selector-tag">fNotSplit</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">addCaller</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.t_NotAdd</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">sec</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.sun</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.IsHasNot</span></span>( <span class="hljs-selector-tag"><span class="hljs-selector-tag">app</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.t_HasForSplitHas</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ForGet</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">void</span></span> ) 8) &lt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">noname</span></span>&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">sun</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.SetForSplitSet</span></span>( <span class="hljs-selector-tag"><span class="hljs-selector-tag">PutCombine</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">void</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">void</span></span> ) 9) <span class="hljs-selector-tag"><span class="hljs-selector-tag">fCombineNot</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">sun</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.t_SplitRandomGetRandom</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">sun</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.AddAdd</span></span>( <span class="hljs-selector-tag"><span class="hljs-selector-tag">void</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">org</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.sun</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.t_NotRandomHasEmpty</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">AddPutNotSplit</span></span> ) 10) &lt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">noname</span></span>&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">addCaller</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.t_ForIs</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">sun</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.EachIs</span></span>( <span class="hljs-selector-tag"><span class="hljs-selector-tag">NotFor</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">void</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">void</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">PutSplitAddNot</span></span> ) 11) <span class="hljs-selector-tag"><span class="hljs-selector-tag">fSetOr</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">app</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.HasJoin</span></span>( <span class="hljs-selector-tag"><span class="hljs-selector-tag">OrOr</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">void</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">void</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">addCaller</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.t_NotAddHas</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Each</span></span> )</code> </pre> <br><p>  ,         . <br>     ,   <code>&lt;noname&gt;</code>  <code>void</code>  ,        . </p><br><p> ,       , ..     ,        .   ,  ,              ,              . </p></div></div><br><h3 id="ispolzuemye-sredstva">  Means used </h3><br><p>         : </p><br><ul><li><p> <code>SerialFull</code> ‚Äî     <code>Serializable</code> . </p><br></li><li><p> <code>Extern+Ser</code> ‚Äî   <code>Externalizable</code>  ,        . </p><br></li><li><p> <code>ExternFull</code> ‚Äî   <code>Externalizable</code>     . </p><br></li><li><p> <code>JsJsonMini</code> ‚Äî  ¬´minimal-json¬ª,     <code>JSON</code> . <br>     <code>minimal-json-0.9.4.jar</code> ,      : <a href="https://github.com/ralfstx/minimal-json">https://github.com/ralfstx/minimal-json</a> . </p><br></li><li><p>  <code>fasterXML-jackson</code>       <code>JSON</code> . <br>      <code>2.0.4</code> ,      : <a href="https://github.com/FasterXML/jackson">https://github.com/FasterXML/jackson</a> .           .    ( <code>JsJackAnn</code> ),  ,   ,      <code>annotations-databind</code> .   ( <code>JsJackSream</code> )      ,     <code>stream</code> . </p><br></li><li>    Java   <code>XML</code>     <code>¬´org.w3c.dom.Document</code>  <code>org.w3c.dom.Element</code> . </li></ul><br><p>         . </p><br><table><thead><tr><th>  Title </th><th>  Version </th><th>  A source </th><th>   </th></tr></thead><tbody><tr><td> XML, Serializable, Externalizable </td><td> Java 1.8 </td><td>   Java </td><td>  ,     Java. </td></tr><tr><td> minimal-json </td><td> 0.9.4 </td><td> <a href="https://github.com/ralfstx/minimal-json">https://github.com/ralfstx/minimal-json</a> </td><td> minimal-json-0.9.4.jar ‚Äì 30 </td></tr><tr><td> fasterXML-jackson </td><td> 2.0.4 </td><td> <a href="https://github.com/FasterXML/jackson">https://github.com/FasterXML/jackson</a> </td><td> jackson-core-2.0.4.jar ‚Äì 194, jackson-databind-2.0.4.jar ‚Äì 847, jackson-annotations-2.0.4.jar ‚Äì 34 </td></tr></tbody></table><br><h3 id="procedura-testirovaniya">   </h3><br><p>     ,      ,   . </p><br><div class="spoiler"> <b class="spoiler_title">  </b> <div class="spoiler_text"><p>  : </p><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">USAGE</span></span>: SerializableTest.jar [-opts] <span class="hljs-keyword"><span class="hljs-keyword">Where</span></span> OPTS are: -Count=&lt;number&gt; - <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> number <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> items <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> generate -Retry=&lt;number&gt; - <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> number <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> iterations <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> test -<span class="hljs-keyword"><span class="hljs-keyword">Out</span></span>=&lt;file&gt; - <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> file <span class="hljs-type"><span class="hljs-type">name</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> output -Nout - <span class="hljs-keyword"><span class="hljs-keyword">disable</span></span> items output -gc - run gc <span class="hljs-keyword"><span class="hljs-keyword">after</span></span> every test</code> </pre> <br><p>      : </p><br><ul><li>      . </li><li>     . </li><li>     ,        ,                 . </li><li>         . </li><li>  ,             . </li></ul><br><p>  Since                ,                .  ,   ,   ,        . </p></div></div><br><habracut><br><h3 id="rezultaty">  results </h3><br><p>        JVM       , ,       . </p><br><div class="spoiler"> <b class="spoiler_title">  </b> <div class="spoiler_text"><pre> <code class="hljs javascript">&gt;sb -n <span class="hljs-string"><span class="hljs-string">"-c=100000"</span></span> <span class="hljs-string"><span class="hljs-string">"-r=10"</span></span> Output file : test_out <span class="hljs-built_in"><span class="hljs-built_in">Number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> elements: <span class="hljs-number"><span class="hljs-number">100000</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> retries : <span class="hljs-number"><span class="hljs-number">10</span></span> Tests complete <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">01</span></span>:<span class="hljs-number"><span class="hljs-number">28.050</span></span> sec :: Save <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">31.903</span></span>, Load <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">30.149</span></span>, Total <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">01</span></span>:<span class="hljs-number"><span class="hljs-number">02.103</span></span>, Waste <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">25.947</span></span></code> </pre> </div></div><br><p>     100.000  ,          10    .     <code>1 28</code> ,   <code>25.9</code>     . </p><br><table><thead><tr><th>  A place </th><th>  Name </th><th>  Record </th><th>  </th><th>  </th><th>  Loading </th><th>  </th><th>  </th><th>  Total </th><th>  </th><th>  </th><th>  File </th></tr></thead><tbody><tr><td>  6 </td><td> SerialFull </td><td> 0:00:07.599 </td><td> 2,34 </td><td></td><td> 0:00:04.217 </td><td> 1,05 </td><td>  1.45 </td><td> 0:00:11.826 </td><td> 1,56 </td><td> 0,41 </td><td> 18 </td></tr><tr><td>  one </td><td> ExternFull </td><td> 0:00:02.550 </td><td>  0.12 </td><td>  1.98 </td><td> 0:00:02.061 </td><td></td><td> 4,02 </td><td> 0:00:04.616 </td><td></td><td> 2,60 </td><td> 16 </td></tr><tr><td>  five </td><td> Extern+Ser </td><td> 0:00:05.744 </td><td> 1,52 </td><td>  0.32 </td><td> 0:00:04.112 </td><td>  1.00 </td><td>  1.51 </td><td> 0:00:09.862 </td><td> 1,14 </td><td>  0,69 </td><td> 22.5 </td></tr><tr><td>  7 </td><td> XMLw3c </td><td> 0:00:06.278 </td><td> 1,76 </td><td> 0,21 </td><td> 0:00:10.337 </td><td> 4,02 </td><td></td><td> 0:00:16.620 </td><td> 2,60 </td><td></td><td> 32 </td></tr><tr><td>  four </td><td> JsJsonMini </td><td> 0:00:04.678 </td><td> 1,05 </td><td> 0,62 </td><td> 0:00:04.614 </td><td> 1,24 </td><td> 1,24 </td><td> 0:00:09.302 </td><td> 1,02 </td><td>  0.79 </td><td> 25.9 </td></tr><tr><td>  3 </td><td> JsJackAnn </td><td> 0:00:02.776 </td><td> 0,22 </td><td> 1,74 </td><td> 0:00:02.431 </td><td>  0.18 </td><td> 3,25 </td><td> 0:00:05.215 </td><td> 0,13 </td><td> 2,19 </td><td> 25.9 </td></tr><tr><td>  2 </td><td> JsJackSream </td><td> 0:00:02.278 </td><td></td><td> 2,34 </td><td> 0:00:02.377 </td><td> 0,15 </td><td> 3,35 </td><td> 0:00:04.662 </td><td>  0.01 </td><td>  2.56 </td><td> 25.9 </td></tr></tbody></table><br><p>      . </p><br><ul><li>   <code>¬´¬ª</code>  ,       . </li><li>   <code>¬´¬ª</code>   . </li><li>   <code>¬´¬ª</code> , <code>¬´¬ª</code>  <code>¬´¬ª</code>  ,  ,        . </li><li>   <code>¬´¬ª</code>  <code>¬´¬ª</code>  ,  <code>¬´¬ª</code>        . </li><li>          . </li><li>   <code>¬´¬ª</code>   ,       . </li></ul><br><habracut><br><h3 id="kommentarii">  Comments </h3><br><h4 id="serializable-1"> Serializable </h4><br><p>    . </p><br><p>              .          ,         ,       ,        . </p><br><p>   ,        ,        ‚Äî      .  ,   ,           . </p><br><h4 id="externalizable-1"> Externalizable </h4><br><p>             . </p><br><div class="spoiler">  <b class="spoiler_title">Read more</b> <div class="spoiler_text"><p>                 ,   .       ( <code>Extern+Ser</code> )    ,     .       . </p><br><p>             ..  ,        ,        . </p><br><p>  ,   ,      . </p><br><p>  Java    ,  -       (,  ,       ),      .  ,    Java ‚Äì  <code>EOF</code> ,        ,         . </p></div></div><br><p>        ..                 <code>JSON</code> ,      . </p><br><h4 id="minimal-json"> minimal-json </h4><br><p>       ,   . </p><br><div class="spoiler">  <b class="spoiler_title">Read more</b> <div class="spoiler_text"><p>     ,          .        ,         .                 . </p><br><p>   ‚Äì ,  ,    . </p><br><p>                 .          ,             <code>JSON</code> .         ,      ,       ,    . </p></div></div><br><h4 id="fasterxml-jackson-databind"> fasterXML-jackson <code>databind</code> </h4><br><p>   ,  ,          . </p><br><div class="spoiler">  <b class="spoiler_title">Read more</b> <div class="spoiler_text"><p>           ,     . </p><br><p>         ,       ,    .        ,    <code>Serializable</code> ,       ,         . </p><br><p>         ,       .          .  ,  ,       ,         . </p><br><p>          <code>JavaDOC</code> , ..          ,               . </p><br><p>         ,     ,      .     ,   ,         .        ‚Äì   ,       . </p><br><p>       , : </p><br><ul><li><p>             . </p><br></li><li><p>      <code>JSON</code> ,          . </p><br></li><li>       . </li></ul></div></div><br><p>   ,          ,       ..                     . </p><br><p>     ,           ,      ,   ,        , ,         . </p><br><h4 id="fasterxml-jackson-stream"> fasterXML-jackson <code>stream</code> </h4><br><p>          <code>JSON</code>      . </p><br><div class="spoiler">  <b class="spoiler_title">Read more</b> <div class="spoiler_text"><p>     . <br>     ,          <code>JSON</code>  ,     .   ,    <code>JSON</code>   .         ,         . <br> ,      ,        . </p><br><p>       <code>jackson-core</code> ,   200,   4      <code>databind</code> . </p></div></div><br><p>           ,      ,              . </p><br><h4 id="xml">  XML </h4><br><p>             . </p><br><p>            ,        .            400.000  - ,  5   <code>JVM</code>   . </p><br><p>           ,           .           <code>fasterXML-jackson</code>   <code>stream</code> ..     ,     ,       . </p><br><p>        ,   ,   , .       . </p><br><h2 id="ssylki">  Links </h2><br><p>       <a href="https://github.com/JouriM66/jm-test-Serialization"> </a> . </p></habracut></habracut></habracut></habracut></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/319604/">https://habr.com/ru/post/319604/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../319592/index.html">Animations in iOS for beginners. Models, classes from Core Animation, blocks</a></li>
<li><a href="../319594/index.html">How IT professionals work. Evgeny Bevz, Smart-Soft company</a></li>
<li><a href="../319598/index.html">GDG DevFest Nizhny Novgorod 2016: how it was</a></li>
<li><a href="../319600/index.html">Formulas on Habr√©</a></li>
<li><a href="../319602/index.html">Unicode is very exciting.</a></li>
<li><a href="../319606/index.html">Common mistakes beginners work with images</a></li>
<li><a href="../319610/index.html">Unboxing: What's Inside a NetApp AFF A300 Storage System</a></li>
<li><a href="../319612/index.html">VMware Introduces HTML5 Client vSphere Client Fling v3.0</a></li>
<li><a href="../319614/index.html">* aaS dictionary: 50 materials on IT terminology</a></li>
<li><a href="../319616/index.html">Digest: All about working with IaaS and examples of practical cases for IT-GRAD clients</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>