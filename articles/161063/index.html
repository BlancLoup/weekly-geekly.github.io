<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>An algorithm for annotating illustrations, or why not a programmer to be a bit of a designer?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I want to bring to your attention one interesting problem and several ways to solve it. Initially, the task appeared on stackoverflow, but before goin...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>An algorithm for annotating illustrations, or why not a programmer to be a bit of a designer?</h1><div class="post__text post__text-html js-mediator-article">  I want to bring to your attention one interesting problem and several ways to solve it.  Initially, the task appeared on stackoverflow, but before going to the point I want to emphasize the absence of any desire to impose my point of view. <br><br>  So, the task: there is a series of images and a set of explanatory labels for each image, it is necessary to place the labels in the optimal way, avoiding the intersection of the connecting lines and preserving the overall readability. <br><img src="https://habrastorage.org/storage2/e35/35d/841/e3535d841934361b93b3e8b2b64fa1ad.png"><br><a name="habracut"></a><br>  Obviously, the task is not trivial.  Moreover, I would say any direct solution can not guarantee the optimal result.  In other words, a person (for whom, in fact, we are trying) will definitely notice some oddities in the placement of explanatory labels.  In some particularly difficult cases, the result may seem disgusting. <br><br><img src="https://habrastorage.org/storage2/20c/4e3/583/20c4e3583b638c9eff57ec0b78cd4056.png"><br>  I will try to briefly formulate important, in my opinion, criteria: <br><ul><li>  general cleanliness and readability </li><li>  lack of ‚Äúattention away‚Äù, because the priority is the main image, rather than tags that play an important, but nonetheless minor, role </li><li>  ease of posting explanations </li><li>  stable result quality </li></ul><br>  So, at this stage, you can choose from the following: <br><ol><li>  try to find a suitable algorithm </li><li>  change the style by solving a problem on another level </li></ol><br>  <b>The first way: find the appropriate algorithm</b> <br>  The options, in fact, are quite enough: iterative methods, something like wiring of printed circuit boards, a genetic algorithm, etc.  Concerning the PCB layout, the following document is of interest: <a href="https://www.ideals.illinois.edu/bitstream/handle/2142/18367/Yan_Tan.pdf%3Fsequence%3D1">Algorithmic studies on PCB routing by Tan Yan</a> <br><img src="https://habrastorage.org/storage2/e20/796/c28/e20796c288d7fd3b737aa7dc4f514173.png"><br>  I think everyone will have their own assessment of the reliability of one of these approaches, the resource intensity of implementation, testing and making the necessary changes to correctly work out possible boundary situations. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>The second way: try to work with the style</b> <br>  In other words, we will move to the meta-level, which can significantly improve the result, while at the same time simplifying the implementation.  Ideal - tags and explanations remain available, but are not perceived as the main component of the illustration, keeping the maximum information provided by the main image. <br><br>  This suggests a solution that will ensure the shortest length of footnotes and their monotony.  Thus, a person who can distinguish and filter out unwanted patterns will quickly learn not to notice minor details.  In addition, the transition from oblique to horizontal lines looks quite logical (remember about anti-aliasing and additional loss of details).  One of the possible solutions is as follows: <br><img src="https://habrastorage.org/storage2/75f/a38/4fc/75fa384fc78fbb0003dcb2fe5604f78c.png"><br>  In this case, the label placement algorithm becomes much simpler, and the result is more predictable.  As you can see, the style of placement of explanations will be similar even for very different images, which, I dare to suggest, will have a positive effect on the impression of viewing dozens of ‚Äúannotated‚Äù illustrations. <br><br>  I hope this material was not interesting.  I will formulate the final question as follows: <br><br>  <b>Should a programmer always remain a programmer?</b> <br><br>  Everyone decides for himself.  Interesting and useful thoughts, as usual, are welcome in the comments. <br><br>  <a href="http://stackoverflow.com/questions/13280627/suggested-algorithms-methods-for-laying-out-labels-on-an-image">The initial question on stackoverflow</a> </div><p>Source: <a href="https://habr.com/ru/post/161063/">https://habr.com/ru/post/161063/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../161051/index.html">Computer crime: then and now</a></li>
<li><a href="../161053/index.html">Tame and pump firelight: The Ultimate Guide</a></li>
<li><a href="../161055/index.html">How ZFS Works - Part 2: metaslab</a></li>
<li><a href="../161057/index.html">Do you type blindly?</a></li>
<li><a href="../161061/index.html">8 principles to make the product that people want - squeeze out Mike Krieger's speech on 500 Startups' Warm Gun</a></li>
<li><a href="../161067/index.html">Stop twisting - 2. About ways to fix the cable</a></li>
<li><a href="../161071/index.html">In SearchMan made a rating of "detectability" of applications on the App Store</a></li>
<li><a href="../161073/index.html">A frequency analyzer of English words written in python 3 that can normalize words using WordNet and translate using StarDict</a></li>
<li><a href="../161075/index.html">Windows Store numbers for the first month of Windows 8</a></li>
<li><a href="../161077/index.html">Design Camp - the first Microsoft design conference in Russia + Winter Design School for Windows 8</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>