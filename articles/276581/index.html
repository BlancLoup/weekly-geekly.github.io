<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Multi-source replication in MySQL5.7</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Today, my story will be about such an exciting thing as database replication in MySQL from several sources. I note that this article does not pretend ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Multi-source replication in MySQL5.7</h1><div class="post__text post__text-html js-mediator-article">  Today, my story will be about such an exciting thing as database replication in MySQL from several sources.  I note that this article does not pretend to be the title of ‚Äútruth in the last resort‚Äù and is intended to highlight the features of this technology in the context of the problem I had.  So let's get started.  Once upon a time in a galaxy far far away ... <br><br><a name="habracut"></a>  Any adventure begins suddenly, it happened this time.  The specificity of the application I am developing is such that various users in different offices fill the database with data, but also have to see the data of their colleagues from other departments.  It would seem that a classic client-server architecture would help, but ... One evening, the chief came to the office and announced the news on the project: ‚ÄúThe application should work in several offices, in case of breaking the connection with the central office, the loss of user-saved data is unacceptable.  Think about it. ‚ÄùWell, the word is said - let's look for a solution.  After some time discussing all aspects of the problem between the developers and the office administrators, the verdict was rendered: ‚ÄúReplication will help us!‚Äù Having realized the replication possibility, it turned out that multi-source replication is officially supported only in MySQL 5.7, and at the time of writing this article it was not very stable.  Well, yes, we are not in a hurry, maybe by the time of release it will settle down. <br><br>  If you are not familiar with the principles of replication in MySQL, I advise you to get acquainted with this topic here: <a href="http://ruhighload.com/post/%25D0%25A0%25D0%25B5%25D0%25BF%25D0%25BB%25D0%25B8%25D0%25BA%25D0%25B0%25D1%2586%25D0%25B8%25D1%258F%2B%25D0%25B4%25D0%25B0%25D0%25BD%25D0%25BD%25D1%258B%25D1%2585">Data Replication</a> , <a href="http://ruhighload.com/post/%25D0%259A%25D0%25B0%25D0%25BA%2B%25D0%25BD%25D0%25B0%25D1%2581%25D1%2582%25D1%2580%25D0%25BE%25D0%25B8%25D1%2582%25D1%258C%2BMySQL%2BMaster-Slave%2B%25D1%2580%25D0%25B5%25D0%25BF%25D0%25BB%25D0%25B8%25D0%25BA%25D0%25B0%25D1%2586%25D0%25B8%25D1%258E">How to set up MySQL Master-Slave replication</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      From my point of view, the easiest way to learn something is to practice.  Let's get started  To begin with, we will decide what we need to replicate and how we will do it.  I chose the following architecture.  Each company‚Äôs office has its own intermediate MySQL Master server, which stores data only from that office.  It collects INSERT, UPDATE, DELETE requests from end users.  All SELECT queries are sent by users to a central, physically remote Slave server.  If there is no connection with the central server, then SELECT queries are sent to the office intermediate Master server.  This is due to the replication features of MySQL itself.  Replication from several sources, in fact, occurs according to the Master-Slave scheme, in which there are several Master servers, the data from which are synchronized on the Slave server.  As a result, a change in data on the Slave server will result in a replication error.  In addition, in my case, the preservation of data received from users in offices is more important than the relevance of data in the samples.  As a result, the general scheme of work becomes such, users save their data to the intermediate server, from where they arrive at the central server, when the user sends a sample request, it is sent to the central server if it is available or to the intermediate server if not. <br>  Voila, and the sheep are safe, and the wolves are fed.  Users have the ability to save their data without thinking about the availability of the central server, and the central server will receive all the data from the intermediate servers as soon as the connection with them is restored. <br><br>  In my case, the database structure on both intermediate servers and the central server is absolutely identical, which means I have a problem - the uniqueness of the key fields.  Uniqueness has to be monitored independently at the application level, for this I decided to add a special field to each database table, where the number of the intermediate server to which this record belongs will be recorded. <br><br><pre><code class="hljs ruby">Id <span class="hljs-params"><span class="hljs-params">| company_id |</span></span> field1 <span class="hljs-params"><span class="hljs-params">| field2 1 |</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-params"><span class="hljs-params">| somevalue1 |</span></span> somevalue1 <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-params"><span class="hljs-params">| 1 |</span></span> somevalue2 <span class="hljs-params"><span class="hljs-params">| somevalue2</span></span></code> </pre> <br>  Next, we have to slightly change the structure of the tables in the database on the central server, so that the Id field is not unique, as a result, these tables on the central server will have the following structure. <br><br><pre> <code class="hljs ruby"> Id <span class="hljs-params"><span class="hljs-params">| company_id |</span></span> field <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-params"><span class="hljs-params">| field2 1 |</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-params"><span class="hljs-params">| somevalue1 |</span></span> somevalue1 <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-params"><span class="hljs-params">| 2 |</span></span> somevalue1 <span class="hljs-params"><span class="hljs-params">| somevalue1 2 |</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-params"><span class="hljs-params">| somevalue2 |</span></span> somevalue2 <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-params"><span class="hljs-params">| 2 |</span></span> somevalue2 <span class="hljs-params"><span class="hljs-params">| somevalue2</span></span></code> </pre> <br>  In my case, this approach was recognized as the best, since the data in any case should differ according to the sign of belonging to a specific office, and the complication of SQL queries like SELECT for one condition is insignificant. <br><br>  And so, it would seem, everything is simple, we have a Master-Slave replication scheme, in which there are several servers of type Master and one server of type Slave, where masters of binary logs send requests made in their database, thus resulting in complete Matching both databases.  But let's ask ourselves how does the Slave server distinguish which of the requests came from, which of them were executed, and which did not. <br><br>  The fact is that each binary log contains a certain set of transactions, named appropriately, the GTID identifiers (global transaction identifier) ‚Äã‚Äãsolves this problem.  Each of the MySQL servers participating in the replication chain must have a unique server-uuid, which is located in the /var/lib/mysql/auto.cnf file <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">server</span></span>-<span class="hljs-type"><span class="hljs-type">uuid</span></span>=<span class="hljs-number"><span class="hljs-number">51164157</span></span>-b6c9<span class="hljs-number"><span class="hljs-number">-11e5</span></span>-bb7c<span class="hljs-number"><span class="hljs-number">-4e745964</span></span>e860</code> </pre> <br>  Further, when the Master server forms transaction requests made on the replicated database, it enumerates each of them as follows: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">GTID</span></span> = source_id:transaction_id <span class="hljs-number"><span class="hljs-number">51164157</span></span>-b6c9-11e5-bb7c-4e745964e860:<span class="hljs-number"><span class="hljs-number">23</span></span></code> </pre> <br>  With the help of these identifiers in the future we will be able to distinguish between the logs between themselves and resolve conflicts between conflicting requests from different servers. <br>  Now that the main points have been made, it's time to get down to business and start setting up the servers.  Configurations in the studio. <br><br>  Master server configuration: <br><br><pre> <code class="hljs pgsql"># <span class="hljs-keyword"><span class="hljs-keyword">Replication</span></span> master settings # ID  <span class="hljs-keyword"><span class="hljs-keyword">server</span></span>-id = <span class="hljs-number"><span class="hljs-number">2</span></span> #         <span class="hljs-keyword"><span class="hljs-keyword">log</span></span>-bin = /var/lib/mysql/mysql-bin.<span class="hljs-keyword"><span class="hljs-keyword">log</span></span> #  GTID ,       <span class="hljs-keyword"><span class="hljs-keyword">server</span></span>-<span class="hljs-type"><span class="hljs-type">uuid</span></span>  auto.cnf gtid-mode = <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> enforce-gtid-consistency = <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> #     binlog-<span class="hljs-keyword"><span class="hljs-keyword">do</span></span>-db = crm #      binlog-ignore-db = mysql binlog-ignore-db = sys binlog-ignore-db = performance_schema binlog-ignore-db = information_schema</code> </pre> <br>  Do not forget to create a user for replication and give it the appropriate rights: <br><br><pre> <code class="hljs sql"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">USER</span></span> <span class="hljs-string"><span class="hljs-string">'slave_user'</span></span>@<span class="hljs-string"><span class="hljs-string">'%'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IDENTIFIED</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> <span class="hljs-string"><span class="hljs-string">'slavepass'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">GRANT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">REPLICATION</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SLAVE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> *.* <span class="hljs-keyword"><span class="hljs-keyword">TO</span></span> <span class="hljs-string"><span class="hljs-string">'slave_user'</span></span>@<span class="hljs-string"><span class="hljs-string">'%'</span></span>;</code> </pre> <br>  Check the status of the wizard: <br><br><pre> <code class="hljs ruby">mysql&gt; show master status; +------------------+----------+--------------+----------------------+-------------------+ <span class="hljs-params"><span class="hljs-params">| File |</span></span> Position <span class="hljs-params"><span class="hljs-params">| Binlog_Do_DB |</span></span> Binlog_Ignore_DB <span class="hljs-params"><span class="hljs-params">| Executed_Gtid_Set |</span></span> +------------------+----------+--------------+----------------------+-------------------+ <span class="hljs-params"><span class="hljs-params">| mysql-bin.000001 |</span></span> <span class="hljs-number"><span class="hljs-number">154</span></span> <span class="hljs-params"><span class="hljs-params">| crm |</span></span> mysql,sys, <span class="hljs-params"><span class="hljs-params">| |</span></span> <span class="hljs-params"><span class="hljs-params">| |</span></span> <span class="hljs-params"><span class="hljs-params">| |</span></span> performance_schema, <span class="hljs-params"><span class="hljs-params">| |</span></span> <span class="hljs-params"><span class="hljs-params">| |</span></span> <span class="hljs-params"><span class="hljs-params">| |</span></span> information_schema <span class="hljs-params"><span class="hljs-params">| |</span></span> +------------------+----------+--------------+----------------------+-------------------+ <span class="hljs-number"><span class="hljs-number">1</span></span> row <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> set (<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">00</span></span> sec)</code> </pre> <br>  Slave server configuration: <br><br><pre> <code class="hljs pgsql"># <span class="hljs-keyword"><span class="hljs-keyword">Replication</span></span> Slave settings #   <span class="hljs-keyword"><span class="hljs-keyword">server</span></span>-id = <span class="hljs-number"><span class="hljs-number">1</span></span> #  GTID ,      auto.cnf   <span class="hljs-keyword"><span class="hljs-keyword">server</span></span>-<span class="hljs-type"><span class="hljs-type">uuid</span></span> gtid-mode = <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> enforce_gtid_consistency = <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> #        ,     master-<span class="hljs-keyword"><span class="hljs-keyword">info</span></span>-repository = <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> relay-<span class="hljs-keyword"><span class="hljs-keyword">log</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">info</span></span>-repository = <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> #     relay-<span class="hljs-keyword"><span class="hljs-keyword">log</span></span> = /var/lib/mysql/mysql-relay-bin.<span class="hljs-keyword"><span class="hljs-keyword">log</span></span> #   bin    <span class="hljs-keyword"><span class="hljs-keyword">log</span></span>-bin = /var/lib/mysql/mysql-bin.<span class="hljs-keyword"><span class="hljs-keyword">log</span></span> #     binlog-<span class="hljs-keyword"><span class="hljs-keyword">do</span></span>-db = crm #       binlog-ignore-db = mysql binlog-ignore-db = sys binlog-ignore-db = information_schema binlog-ignore-db = performance_schema</code> </pre> <br>  Start replication: <br><br><pre> <code class="hljs sql"><span class="hljs-keyword"><span class="hljs-keyword">CHANGE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">MASTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TO</span></span> MASTER_HOST=<span class="hljs-string"><span class="hljs-string">'10.20.0.41'</span></span>, MASTER_USER=<span class="hljs-string"><span class="hljs-string">'slave_user'</span></span>, MASTER_PORT=<span class="hljs-number"><span class="hljs-number">3306</span></span>, MASTER_PASSWORD=<span class="hljs-string"><span class="hljs-string">'slavepass'</span></span>, MASTER_AUTO_POSITION = <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FOR</span></span> CHANNEL <span class="hljs-string"><span class="hljs-string">'master1'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">CHANGE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">MASTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TO</span></span> MASTER_HOST=<span class="hljs-string"><span class="hljs-string">'10.20.0.42'</span></span>, MASTER_USER=<span class="hljs-string"><span class="hljs-string">'slave_user'</span></span>, MASTER_PORT=<span class="hljs-number"><span class="hljs-number">3306</span></span>, MASTER_PASSWORD=<span class="hljs-string"><span class="hljs-string">'slavepass'</span></span>, MASTER_AUTO_POSITION = <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FOR</span></span> CHANNEL <span class="hljs-string"><span class="hljs-string">'master2'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">START</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SLAVE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FOR</span></span> CHANNEL <span class="hljs-string"><span class="hljs-string">"master1"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">START</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SLAVE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FOR</span></span> CHANNEL <span class="hljs-string"><span class="hljs-string">"master2"</span></span>;</code> </pre> <br>  Check the status of the Slave server: <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">SHOW</span></span> SLAVE STATUS\G *************************** <span class="hljs-number"><span class="hljs-number">1.</span></span> <span class="hljs-keyword"><span class="hljs-keyword">row</span></span> *************************** Slave_IO_State: Waiting <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> master <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> send event Master_Host: <span class="hljs-number"><span class="hljs-number">10.20</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.41</span></span> Master_User: slave_user Master_Port: <span class="hljs-number"><span class="hljs-number">3306</span></span> Connect_Retry: <span class="hljs-number"><span class="hljs-number">60</span></span> Master_Log_File: mysql-bin<span class="hljs-number"><span class="hljs-number">.000001</span></span> Read_Master_Log_Pos: <span class="hljs-number"><span class="hljs-number">154</span></span> Relay_Log_File: mysql-relay-bin-master1<span class="hljs-number"><span class="hljs-number">.000002</span></span> Relay_Log_Pos: <span class="hljs-number"><span class="hljs-number">367</span></span> Relay_Master_Log_File: mysql-bin<span class="hljs-number"><span class="hljs-number">.000001</span></span> Slave_IO_Running: Yes Slave_SQL_Running: Yes Replicate_Do_DB: Replicate_Ignore_DB: Replicate_Do_Table: Replicate_Ignore_Table: Replicate_Wild_Do_Table: Replicate_Wild_Ignore_Table: Last_Errno: <span class="hljs-number"><span class="hljs-number">0</span></span> Last_Error: Skip_Counter: <span class="hljs-number"><span class="hljs-number">0</span></span> Exec_Master_Log_Pos: <span class="hljs-number"><span class="hljs-number">154</span></span> Relay_Log_Space: <span class="hljs-number"><span class="hljs-number">582</span></span> Until_Condition: <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> Until_Log_File: Until_Log_Pos: <span class="hljs-number"><span class="hljs-number">0</span></span> Master_SSL_Allowed: <span class="hljs-keyword"><span class="hljs-keyword">No</span></span> Master_SSL_CA_File: Master_SSL_CA_Path: Master_SSL_Cert: Master_SSL_Cipher: Master_SSL_Key: Seconds_Behind_Master: <span class="hljs-number"><span class="hljs-number">0</span></span> Master_SSL_Verify_Server_Cert: <span class="hljs-keyword"><span class="hljs-keyword">No</span></span> Last_IO_Errno: <span class="hljs-number"><span class="hljs-number">0</span></span> Last_IO_Error: Last_SQL_Errno: <span class="hljs-number"><span class="hljs-number">0</span></span> Last_SQL_Error: Replicate_Ignore_Server_Ids: Master_Server_Id: <span class="hljs-number"><span class="hljs-number">3</span></span> Master_UUID: <span class="hljs-number"><span class="hljs-number">73</span></span>f11a40-b862<span class="hljs-number"><span class="hljs-number">-11e5</span></span><span class="hljs-number"><span class="hljs-number">-8</span></span>b0c<span class="hljs-number"><span class="hljs-number">-1e80294</span></span>d0535 Master_Info_File: mysql.slave_master_info SQL_Delay: <span class="hljs-number"><span class="hljs-number">0</span></span> SQL_Remaining_Delay: <span class="hljs-keyword"><span class="hljs-keyword">NULL</span></span> Slave_SQL_Running_State: Slave has <span class="hljs-keyword"><span class="hljs-keyword">read</span></span> <span class="hljs-keyword"><span class="hljs-keyword">all</span></span> relay <span class="hljs-keyword"><span class="hljs-keyword">log</span></span>; waiting <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> more updates Master_Retry_Count: <span class="hljs-number"><span class="hljs-number">86400</span></span> Master_Bind: Last_IO_Error_Timestamp: Last_SQL_Error_Timestamp: Master_SSL_Crl: Master_SSL_Crlpath: Retrieved_Gtid_Set: Executed_Gtid_Set: Auto_Position: <span class="hljs-number"><span class="hljs-number">1</span></span> Replicate_Rewrite_DB: Channel_Name: master1 Master_TLS_Version: *************************** <span class="hljs-number"><span class="hljs-number">2.</span></span> <span class="hljs-keyword"><span class="hljs-keyword">row</span></span> *************************** Slave_IO_State: Waiting <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> master <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> send event Master_Host: <span class="hljs-number"><span class="hljs-number">10.20</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.42</span></span> Master_User: slave_user Master_Port: <span class="hljs-number"><span class="hljs-number">3306</span></span> Connect_Retry: <span class="hljs-number"><span class="hljs-number">60</span></span> Master_Log_File: mysql-bin<span class="hljs-number"><span class="hljs-number">.000001</span></span> Read_Master_Log_Pos: <span class="hljs-number"><span class="hljs-number">154</span></span> Relay_Log_File: mysql-relay-bin-master2<span class="hljs-number"><span class="hljs-number">.000002</span></span> Relay_Log_Pos: <span class="hljs-number"><span class="hljs-number">367</span></span> Relay_Master_Log_File: mysql-bin<span class="hljs-number"><span class="hljs-number">.000001</span></span> Slave_IO_Running: Yes Slave_SQL_Running: Yes Replicate_Do_DB: Replicate_Ignore_DB: Replicate_Do_Table: Replicate_Ignore_Table: Replicate_Wild_Do_Table: Replicate_Wild_Ignore_Table: Last_Errno: <span class="hljs-number"><span class="hljs-number">0</span></span> Last_Error: Skip_Counter: <span class="hljs-number"><span class="hljs-number">0</span></span> Exec_Master_Log_Pos: <span class="hljs-number"><span class="hljs-number">154</span></span> Relay_Log_Space: <span class="hljs-number"><span class="hljs-number">582</span></span> Until_Condition: <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> Until_Log_File: Until_Log_Pos: <span class="hljs-number"><span class="hljs-number">0</span></span> Master_SSL_Allowed: <span class="hljs-keyword"><span class="hljs-keyword">No</span></span> Master_SSL_CA_File: Master_SSL_CA_Path: Master_SSL_Cert: Master_SSL_Cipher: Master_SSL_Key: Seconds_Behind_Master: <span class="hljs-number"><span class="hljs-number">0</span></span> Master_SSL_Verify_Server_Cert: <span class="hljs-keyword"><span class="hljs-keyword">No</span></span> Last_IO_Errno: <span class="hljs-number"><span class="hljs-number">0</span></span> Last_IO_Error: Last_SQL_Errno: <span class="hljs-number"><span class="hljs-number">0</span></span> Last_SQL_Error: Replicate_Ignore_Server_Ids: Master_Server_Id: <span class="hljs-number"><span class="hljs-number">2</span></span> Master_UUID: <span class="hljs-number"><span class="hljs-number">51164157</span></span>-b6c9<span class="hljs-number"><span class="hljs-number">-11e5</span></span>-bb7c<span class="hljs-number"><span class="hljs-number">-4e745964</span></span>e860 Master_Info_File: mysql.slave_master_info SQL_Delay: <span class="hljs-number"><span class="hljs-number">0</span></span> SQL_Remaining_Delay: <span class="hljs-keyword"><span class="hljs-keyword">NULL</span></span> Slave_SQL_Running_State: Slave has <span class="hljs-keyword"><span class="hljs-keyword">read</span></span> <span class="hljs-keyword"><span class="hljs-keyword">all</span></span> relay <span class="hljs-keyword"><span class="hljs-keyword">log</span></span>; waiting <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> more updates Master_Retry_Count: <span class="hljs-number"><span class="hljs-number">86400</span></span> Master_Bind: Last_IO_Error_Timestamp: Last_SQL_Error_Timestamp: Master_SSL_Crl: Master_SSL_Crlpath: Retrieved_Gtid_Set: Executed_Gtid_Set: Auto_Position: <span class="hljs-number"><span class="hljs-number">1</span></span> Replicate_Rewrite_DB: Channel_Name: master2 Master_TLS_Version: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> (<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">00</span></span> sec)</code> </pre> <br>  Voila, everything works, and we need that.  Good luck to all. <br></div><p>Source: <a href="https://habr.com/ru/post/276581/">https://habr.com/ru/post/276581/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../276565/index.html">You are not that paranoidÔºÅ (pre-friday post)</a></li>
<li><a href="../276567/index.html">Online audio advertising: everyone will be heard</a></li>
<li><a href="../276569/index.html">Acceleration of Python scripts without any mental effort</a></li>
<li><a href="../276575/index.html">Forwarding large files. Automatically receive download links to email</a></li>
<li><a href="../276579/index.html">Moscow Python Meetup ‚Ññ32</a></li>
<li><a href="../276583/index.html">New leader in price-performance among storage systems?</a></li>
<li><a href="../276585/index.html">About using React with the canvas element</a></li>
<li><a href="../276587/index.html">Analysis of the current situation in the Russian BIM market in the field of civil engineering</a></li>
<li><a href="../276589/index.html">Introduction to IL2CPP</a></li>
<li><a href="../276593/index.html">Creating a program architecture or how to design a stool</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>