<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Electrofocus on the base of the Arduino Uno debug board, part 2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Continued, start here. 

 Determination of the initial requirements for the device. The choice of "iron" 
 In order not to solve the problem in a comp...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Electrofocus on the base of the Arduino Uno debug board, part 2</h1><div class="post__text post__text-html js-mediator-article">  Continued, <a href="http://habrahabr.ru/post/245265/">start here.</a> <br><br><h2>  Determination of the initial requirements for the device.  The choice of "iron" </h2><br>  In order not to solve the problem in a completely general form, I asked certain requirements based on general considerations (budget, simplicity or complexity of the purchase of components, difficulty in implementation, or expected problems in operation).  At the same time, the presentation of these considerations will allow you to immediately translate a possible dialogue into a constructive direction, and for those who want to use my experience, it will tell you what details you should pay attention to.  So let's get started. <br><br><h3>  General requirements </h3><br>  The solution should be: <br><ul><li>  simple and not expensive; </li><li>  built on available components; </li><li>  the device must be sufficiently reliable, since I plan to use it on the road (that is, in a sturdy case, screw-on connectors, etc.); </li><li>  the device must be maintainable; </li><li>  the development should not require me really deep knowledge of electronics and circuit design and strongly go beyond the school course; </li><li>  development should not drag on not only for months, but even for weeks; </li><li>  I do not want to deal with wiring, etching boards, etc. - I want to make the most of ready-made components, preferably in the form of modules. </li></ul>  . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  Functional </h3><br>  The main functions of the device: <br><ul><li>  counterclockwise rotation with a given speed (clock button, while pressed - rotate) </li><li>  clockwise rotation at a given speed (clock button, while pressed - rotate) </li><li>  rotation speed adjustment (potentiometer) </li><li>  the command ‚Äúrelease the engine‚Äù - remove the voltage from the engine (to save battery life and to cool the engine, if necessary) </li><li>  In addition, it is useful to insert the function of automatically removing the voltage from the engine if the focus is not used for a long time (say, more than 10 minutes) - options are possible here; </li><li>  It would be nice to have on the remote control a simple indication of the magnitude of the speed of rotation, for example, the brightness of the LED. </li></ul><br><br>  Based on the method of application, it is necessary to have at least two options for controlling the focusing device: <br><ul><li>  from the control panel when working directly at the telescope (including during visual observations or with coarse focusing on the image on the display of a digital camera) - that is, I am completely satisfied with the button control on a short cable; </li><li>  using your own software from a laptop under OS Windows, then the focus control unit should be connected to a PC, for example via USB; </li><li>  Optionally, in the future - from a PC using the ASCOM driver. </li></ul><br><br>  When working remotely from a PC, I want to be able to also memorize the position of the focuser and go to the specified position.  This is due to the fact that when the eyepiece is changed, the focal length changes and the focusing procedure must be carried out anew.  I want to save the position of the focus for each eyepiece in the form of presets and quickly switch between them when changing the eyepiece.  Of course, it will be necessary to focus the telescope, but this cannot be avoided in any case, since at different temperatures the focal length may differ slightly.  Based on this, the microcontroller firmware should read the steps (taking into account the micro-step mode) and transmit the current position to the PC, as well as scroll the focus to the specified position. <br><br><a name="habracut"></a><br><br><h3>  Engine and driver </h3><br>  The motor is uniquely stepping, since most of the time the focus is stationary, rotation is required at low revs, precise focusing requires turning to the lowest possible angle, and most of the time a rigid fixation of position is required - the stepper motor is ideal for solving this problem. <br><br><div class="spoiler">  <b class="spoiler_title">Motor Connection - Bipolar</b> <div class="spoiler_text">  Bipolar.  This is explained by the fact that it is the bipolar connection that gives the maximum torque at low revs.  In the event that an engine with 6 taps is used, it is necessary to use extreme, average insulate.  It should be borne in mind that the resistance of the windings in this case increases by 2 times, respectively, the current drops twice, respectively, the torque drops. <br></div></div><br><br>  <b>An extremely important parameter</b> by which you need to choose the engine - the <b>required torque of the engine</b> .  In my case, the maximum torque that I managed to fix was ~ 2 kg / cm at room temperature. <br>  Wanting to have some stock, I wondered at a minimum torque of 3 kg / cm. <br><br><div class="spoiler">  <b class="spoiler_title">How to measure torque without measuring equipment at home.</b> <div class="spoiler_text">  Make it simple enough.  To do this, it is necessary to attach a lever to the shaft of the focusing device (the self-focusing wheel can be used by hooking on its edge) and using a dynamometer to measure the force at which the shaft position ‚Äúbreaks down‚Äù.  To do this, gradually increasing the force we pull the dynamometer strictly perpendicular to the axis of the lever (naturally, in the plane of the lever, perpendicular to the axis of the focuser shaft) and catch the moment of the beginning of rotation. <br><br>  Scheme 2 <br><img src="https://habrastorage.org/files/13b/ef1/df2/13bef1df284948498a8f90269ff2908c.gif"><br><br>  Do not forget to bring the dynamometer to the required units and multiply by the lever arm (usually the torque is indicated in N * m or in kg * cm).  What if there is no dynamometer?  Take the balance bar, kitchen scales or make yourself using a spring and a ruler, for example, like this: <br><img src="https://habrastorage.org/files/af7/34f/969/af734f969ddf484ea494c986e1be1b48.JPG"><br><br>  In the latter case, calibration is necessary, which can be done using a bottle of water (1l = 1kg).  Accuracy is certainly not high, but for our task it is quite sufficient. <br><br>  It is important to note that the friction force on the bearings or the worm gear of the focuser can strongly depend on the orientation of the latter in space (on the telescope), as well as on the weight attached to the equipment focuser (adapters, slewing prism, eyepiece, digital camera, etc.) .  Therefore, I recommend hanging the maximum of the equipment and taking measurements (2-3 times) in several positions (at least two, when the optical axis of the focuser is oriented vertically and horizontally). <br>  In addition, it must be borne in mind that in the cold the force of friction may increase markedly, respectively, will require more torque. <br><br>  UPD!  Another very important point - usually manufacturers specify the nominal torque.  That is, the moment at rated voltage, rated current and <b>full step</b> !  Below it will become clear that in order to achieve the required accuracy it is necessary to use the micro-step mode, at which the torque drops significantly!  Therefore, it is necessary to choose the engine according to the amount of torque with a margin. <br><br></div></div><br><br>  <b>The next important parameter</b> is positioning accuracy.  Since I have already decided that I will use a stepper motor, the question is: what step should the motor have and should I use a microstep driver?  Most of the engines available have a step of 1.8 ¬∞ per revolution (or 200 steps), but models with a step of 0.9 ¬∞ (400 steps per revolution), 7.5 ¬∞, and others are also available.  This parameter is also individual.  In my case, the focus area turned out to be about 15 ¬∞. <br><br><div class="spoiler">  <b class="spoiler_title">Focus Angle Measurement</b> <div class="spoiler_text">  To assess the accuracy of positioning, it is necessary to determine at what angle we turn the shaft of the focusing device during focusing.  To do this, I put a zero point label on the handle of the focuser.  Next, using the mask Bakhtinov focused on the star.  I measured the angle a1 - the position of the mark relative to the plumb of the protractor.  After that, the image was defocused (in any direction) so that the lack of focus was clearly visible (the middle beam shifted significantly away from the center of symmetry of the diffraction pattern).  Measured the angle a2 - the second position of the mark relative to the plumb line.  The difference of values ‚Äã‚Äã(a1-a2) modulo multiplied by 2 - and there is a focus area. <br><br>  Scheme 3 <br><img src="https://habrastorage.org/files/2ee/f68/d8f/2eef68d8f0ff4e8aad787723db45d7ba.png"><br><br>  At the same time, precise focusing (the minimum angle at which the average beam displaces from the center becomes noticeable) is less than 2 ¬∞ (the chosen method does not allow for more accurate measurements, but this is not necessary).  Thus, when using the engine in 1.8 ¬∞ increments, the entire focus area will be covered in approximately 10 steps, and precise focusing will be virtually impossible.  A pitch of 0.9 ¬∞ is also likely to be insufficient for good focusing. <br>  Measuring the angle at which focusing is performed with different eyepieces, I obtained different values, but of the same order - 10‚Äì20 ¬∞.  So the influence of the eyepiece in this case is probably not critical. <br></div></div><br><br>  As a result, I came to the conclusion that you can use a stepper motor with a step of 1.8 ¬∞ or 0.9 ¬∞, but in any case, you need a stepper motor driver with micro-step support.  For this reason, I had to abandon the use of popular drivers, distributed as Arduino Shield - they all do not support microstep.  The choice fell on the easily accessible and cheap <a href="http://www.pololu.com/product/1182">Polulu A4988</a> , which the truth had to be placed on a separate board. <br>  Later, in the next project, I used the same manufacturer's <a href="http://www.pololu.com/product/2133">DRV8825</a> and I liked it much more. <br><br><img src="https://habrastorage.org/files/d97/a2e/55b/d97a2e55bf33497c9b6967a968204a2f.png">  " <br>  To control the A4988 you need at least 6 signals - ENABLE, STEP, DIR and three microstep selection signals MS1, MS2, MS3.  Given the three such buttons on the remote control (left, right and "release") and the speed LED it turns out that you have to use 10 digital outputs of the microcontroller. <br><br><div class="spoiler">  <b class="spoiler_title">Skip step and low accuracy in microstepping mode - myth and reality</b> <div class="spoiler_text">  You can often hear that the SM in micro-step mode necessarily skips steps, is inaccurately positioned, the torque drops dramatically, etc., and that the pier does not need to be used at all.  Having spent some time on this question, I got the impression that this is a common misconception.  This is confirmed by both my own experiments and various sources on the web.  I am not an expert in this field, I will try to summarize the collected information (theoretical and experimental), leaving the reader to draw the final conclusion himself.  So, the most common claims are SD and mikroshagu: <br><ol><li>  In microstep mode, the torque is very much reduced.  Yes, indeed, the popular theoretical SD models give a significant drop in torque during the transition to the microstep.  And the smaller the step, the greater the loss.  At the same time, in a number of sources (for example, <a href="http://darxton.ru/blog/test-vliyanie-mikroshagovogo-rezhima-na-krutyashchiy-moment-shagovogo-dvigatelya/">here</a> and <a href="http://www.cnc-club.ru/forum/viewtopic.php%3Ff%3D42%26t%3D5022">here</a> ).  I also did not notice that in my experiments the torque dropped even 3 times, although I work in the mode of 1/16 and 1/32 microstep. </li><li>  In the microstep mode, the SM will skip steps. <br>  Let's see for what reasons a skip step may occur.  The main reasons given by manufacturers: <br><ul><li>  <b>Inadequate nutrition SM.</b>  On the driver A4988 there is a regulator (limiter) of the current, roll it and immediately see how insufficient current (and in fact the loss of torque) affects the microstep.  By reducing the current strength, instead of 16 micro steps, you can gradually get 8 first, and then 4 stable. This is because the torque is also different in different phases of the full step; </li><li>  <b>Too much load torque</b> .  That is, the torque applied to the engine, which is obviously greater than that produced by this engine in certain phases - at this moment we have omissions; </li><li>  <b>Speed ‚Äã‚Äãtoo high.</b>  SD does not have time to walk.  For this task is not relevant; </li><li>  <b>Too fast braking / acceleration.</b>  This task is not relevant; </li><li>  <b>Bad engine.</b>  And this also happens. </li></ul><br><br></li></ol><br><br>  Briefly and very capaciously about the SD is stated <a href="http://www.russianelectronics.ru/leader-r/review/40498/doc/47912/">here</a> , <a href="http://wiki.purelogic.ru/index.php%3Ftitle%3D%25D0%25A8%25D0%25B0%25D0%25B3_%25D0%25B8%25D0%25BB%25D0%25B8_%25D0%25BC%25D0%25B8%25D0%25BA%25D1%2580%25D0%25BE%25D1%2588%25D0%25B0%25D0%25B3">here</a> and very well <a href="http://electroprivod.ru/microstep.htm">here.</a> <br><br>  Most often, the problem of skipping steps is not a problem of the SD, but a problem of either insufficient nutrition or the problem of overloading.  The first problem is solved quite easily by choosing the right power supply and setting the correct position on the A4988 limiter.  The second requires careful consideration of all load options of the focus.  It is also necessary to solve the problem of increasing the torque required for rotation due to the increase in friction force (on the shaft of the SM and on the focuser) at low temperatures.  It can be solved in different ways.  You can take a more powerful engine, and you can use a cold-resistant lubricant. <br><br>  Therefore, I believe that for this task, the SD is almost ideal, and the problem of skipping steps is the problem of proper selection of the SD and operation mode.  So that the power of the SD is enough to deliver enough torque in all situations. <br></div></div><br><br><h3>  Nutrition </h3><br>  The Arduino Uno is powered by a fairly wide voltage range (the recommended range is 7-12V) and a small current, so when choosing a power source you actually have to push away from the engine.  Driver A4988 supports voltages from 8 to 35V.  Stepper motors are presented in a wide range, with different nominal parameters (for different voltage and current).  The power source I want to use one for the control unit and for the engine itself.  Hence we get the restriction: the supply voltage should be in the range of 8-12V.  The final choice can be made after the choice of engine is made based on the required power. <br>  In addition, it is worth considering the place of use of the telescope.  In my case it is a loggia (~ 220V), the roof of the house (battery), at the exit (car, 12V or ~ 220V through the inverter, but sometimes you have to leave the car and then again the battery).  Maybe someone should immediately pick up the battery instead of BP. <br><br><h3>  Mechanics </h3><br>  I chose the coaxial arrangement of the engine: using a <a href="http://fixled.ru/mechanics/stepper/5-8-coupler.html">coupling, the</a> motor is fixed directly on the shaft of the focusing device.  The second point of support is an arbitrary rigid attachment of the engine to the focuser housing.  Simple and reliable, although it requires more torque.  Such a scheme will allow to simplify the fastening (one point) as much as possible, facilitate the removal and installation of the engine if necessary, and, most importantly, avoid the ‚Äúalignment‚Äù of the mechanical part - fastening and fitting gears, pulleys, etc. <br><br>  Scheme 1 <br><img src="https://habrastorage.org/files/86b/262/0ae/86b2620aeec141129a43d6d71bf7934b.gif"><br><br><h3>  Weight and dimensions </h3><br>  Since the motor is located on a focusing device on a telescope, weight is important.  Too much weight will complicate balancing, increase the load on the mount and tripod, dimensions will add sail.  Therefore, the smaller the engine - the better.  This criterion is quite individual, I asked the maximum mass of the engine in 300 g <br><br><h2>  Selection of key components (platform, SD, BP, case, etc.) </h2><br><br><h3>  Engine selection </h3><br>  So, we have already determined that we need a stepper motor with certain <div class="spoiler">  <b class="spoiler_title">characteristics.</b> <div class="spoiler_text"><ul><li>  Step 1.8 ¬∞ or 0.9 ¬∞; </li><li>  Torque from 3 kg / cm; </li><li>  Rated voltage 12V; </li><li>  The winding current is the smaller the better, the reasonable limit is no more than 1A; </li><li>  Bipolar connection (respectively, 4 taps, if you choose a unipolar motor with 6 taps, do not forget to double the resistance of the windings and recalculate the current); </li><li>  Weight - not more than 0.3 kg; </li><li>  Dimensions.  Keep in mind that a motor that is too large in some mounting positions may touch other equipment.  This parameter also makes sense to minimize. </li></ul></div></div><br>  Next, run the browser and look for a suitable engine on the Internet.  The average cost in China is 10-20USD, the average cost in the Russian Federation is 1000-1500 rub.  We try to choose a motor, with possibly lower rated current.  Theoretically, it is possible to use engines with a current up to 2A, but a large current will lead to a strong heating of the engine (it will have to be turned off every time after focusing) and a rapid consumption of the battery.  In addition, driver A4988 has a built-in current limiter, which is good, since it is possible to connect to it an engine designed for substantially large currents.  The bad thing is that such an engine will not gain the right torque. <br><div class="spoiler">  <b class="spoiler_title">Examples</b> <div class="spoiler_text"><br>  <a href="http://www.aliexpress.com/wholesale%3FSearchText%3Dstepper%2Bmotor%2B12V%2Bnema%26catId%3D0%26initiative_id%3DSB_20140629043258">http://www.aliexpress.com/wholesale?SearchText=stepper+motor+12V+nema&amp;catId=0&amp;initiative_id=SB_20140629043258</a> <br>  <a href="http://www.npoatom.ru/katalog/step_motor/">http://www.npoatom.ru/katalog/step_motor/</a> <br>  <a href="http://fixled.ru/mechanics/stepper-motor-42.html">http://fixled.ru/mechanics/stepper-motor-42.html</a> <br></div></div><br><br><h3>  Mechanics </h3><br>  To select the coupling we need to know the mounting diameters.  To do this, we must measure the diameter of the focuser shaft and see the diameter of the motor shaft.  In my case, it turned out 8 mm and 5 mm, respectively.  You also need to know the torque. <br><div class="spoiler">  <b class="spoiler_title">Examples</b> <div class="spoiler_text">  <a href="http://fixled.ru/mechanics/stepper/5-8-coupler.html">http://fixled.ru/mechanics/stepper/5-8-coupler.html</a> <br>  <a href="http://www.aliexpress.com/wholesale%3FSearchText%3Dflexible%2Bcoupling%26initiative_id%3DRS_20140629053745">http://www.aliexpress.com/wholesale?SearchText=flexible+coupling&amp;initiative_id=RS_20140629053745</a> <br></div></div><br><br>  Fastening the engine to the focuser is a purely individual task.  I decided it as follows: I screwed an aluminum corner to the engine (specially cut out), and in the case of the focuser I cut a slot where this corner went.  This is enough to rule out a twist, but not enough to eliminate play.  To eliminate the backlash, I took a transformer ring, stuck a medical strip on the inside, waiting for it and fastened it on the focuser.  In the aluminum corner I drilled another hole in place and pulled off the clamp with a bolt.  The backlash is gone, although of course the whole structure is generally not rigid: I had one point of support on the focuser + mount on the shaft through a flexible coupling.  Accordingly, there is little mobility on the clutch.  In practice, this mobility does not interfere, but can "eat" some of the torque to the deformation of the coupling. <br>  This question is creative and very individual. <br><img src="https://habrastorage.org/files/409/5ec/518/4095ec5181f441ecb0a4bcc115518012.JPG" alt="image"><br><br><h3>  Platform for control unit </h3><br><br>  In fact, there are certainly plenty of options, I chose the Arduino Uno. <br><br><div class="spoiler">  <b class="spoiler_title">Why I chose the Arduino Uno or the Ode to modern modular electronics</b> <div class="spoiler_text"><ul><li>  Available; </li><li>  Not expensive; </li><li>  Free development environment; </li><li>  C ++ programming; </li><li>  Popular platform, support lovers around the world; </li><li>  RS232 support - when the debug board of the microcontroller (USB) is connected to the PC, a COM port appears in the system.  Support of work with RS232 from the program executed by the microcontroller is also available, and from the point of view of programming everything is VERY simple. </li></ul><br>  And most importantly, the Arduino Uno has a sufficient number of inputs and outputs and is fully ready for use - no additional wiring is required, take and program. <br><br>  Moreover, there are a lot of implementation options, both Arduino-compatible and implemented on a different architecture, with their development environments and their communities.  On the Arduino Uno, of course, the light did not converge.  We live in an amazing time, when using school knowledge based on modular electronics, you can solve a variety of tasks, mechanizing and automating various processes - telescopes, aquariums, greenhouses, cradling a child in a cradle or managing high-precision processes.  Incomprehensible and ridiculous concept of "smart home" limited by adjustments of climate, lighting, etc.  finally it acquires some practical sense, gives some really new quality, which is very difficult or even impossible to achieve ‚Äúmanually‚Äù.  And at the level available to very many.  And this is just great! <br></div></div><br><br><h3>  Power supply selection </h3><br>  A very popular voltage is 12V and it was there that I stopped.  It is suitable for Arduino;  There are many stepper motors available for this voltage on the market;  there is a mass of power supplies, batteries, you can connect directly from the vehicle's cigarette lighter. <br>  For my device, I stopped at <a href="http://www.chipdip.ru/product/gs25e12-p1j/">the power supply 12V and 25 watts</a> . <br><br><div class="spoiler">  <b class="spoiler_title">Slightly more details ..</b> <div class="spoiler_text">  The choice of power supply is carried out in two main parameters - voltage and power.  In my case, U = 12V.  Power can be estimated by knowing the maximum current as I * U.  Based on the 2A on the engine and the voltage of 12V, we get 24 watts. <br>  With the battery is similar, but instead of power it makes sense to look at the capacity and operating current.  The current is up to 2A, the capacity based on 2-3 hours of work - say 4-5 A * hours.  In practice, the total focusing during the night hardly takes more than an hour, so a 2 A * hour capacity should also be enough. <br>  Following the general power condition for the Arduino and the engine, I combined the GND and VIN buses of the Arduino microcontroller board with the GND and VMOT buses of the A4988 driver, respectively ( <a href="https://www.dropbox.com/s/1p2kela3ynu2nxv/specification.xls%3Fdl%3D0">see diagram</a> ).  At the same time, the second power connector, similar to the Arduino power connector, is brought to the case.  This is done so that in case of replacing the engine with a more powerful one with another power supply (for example, 24V), it was possible to separate the VIN and VMOT tires without any problems and apply the required voltage to the engine. <br></div></div><br><br><h3>  Constructive </h3><br>  Since initially when developing the device I set the condition for using standard components, all components from the specification below are available in stores, and the vast majority can be ordered online. <br><div class="spoiler">  <b class="spoiler_title">The joys of a beginner, or what they don‚Äôt write about in datasheets ...</b> <div class="spoiler_text">  I just want to remind one proverb - ‚ÄúMeasure 7 times, order one‚Äù :) After the assembly I had a bunch of spare parts, but some had to be ordered a second time :) <br>  Separately, I want to say a few words about the placement of the connectors in the case and the buttons on the breadboard.  When placing connectors take into account that the case will be closed and place the connectors so that when they do not interfere with the assembly.  When placing buttons, keep in mind that a cap is put on the button after assembly, and this cap may be wider than the button itself.  Therefore, if the buttons are put on the board too close to each other - the caps will have to be filed :) It‚Äôs also worth noting the height of the buttons - they should just go out of the case so that you can put a cap on them (the height of the buttons should be taken into account when ordering the console case Do). <br></div></div><br><br><h4>  The engine control unit </h4><br>  So, the brain of our device is the engine control unit.  In order not to clutter up and not overload the focuser, the Arduino Uno microcontroller board and the A4988 driver were brought to me in a separate <a href="http://www.chipdip.ru/product/g447/">standard industrial building</a> from.  Accordingly, the following connectors are brought to the case: <br><ul><li>  Power supply (standard Arduino connector and a separate connector for independent power supply of the engine, if necessary) </li><li>  Motor Power Cable Connector </li><li>  USB connector of microcontroller board for PC connection and remote control </li><li>  Remote control connector </li></ul><br><br><img src="https://habrastorage.org/files/83c/8f0/bf8/83c8f0bf8be74882a6e7d3c153e853d1.JPG"><br><img src="https://habrastorage.org/files/ecf/20c/069/ecf20c06971c46b1b87f1db27bc9c736.JPG"><br><br>  As experience has shown, I chose not the most successful, although very high-quality case.  You can take a similar, but a couple of centimeters lower, and 1-2 centimeters wider. <br>  I place the control unit under the telescope or on a shelf on a tripod.  Accordingly, the cable length of the control unit - the engine should be about 1m.  The cable is 4-core, with a section sufficient for current up to 2A.  You can weave yourself. <br><br><h4>  Remote control </h4><br>  Again, you can choose any case, just to be able to place inside the PCB.  I recommend to first prepare the PCB, and then choose the <a href="http://www.chipdip.ru/product/g939g/">case</a> . <br>  A single word about the PCB.  I really didn‚Äôt want to do PCB layout, so I took a ready-made prototyping board for <a href="http://www.chipdip.ru/product/dip-1m-pcb/">DIP-1M</a> soldering, cut a quarter from A4988 from it, and used the rest for the remote control. <br><img src="https://habrastorage.org/files/764/392/b48/764392b488254b7c8a2d9d94af0a608d.JPG"><br><br>  That's all for today.  <b><a href="https://www.dropbox.com/s/1p2kela3ynu2nxv/specification.xls%3Fdl%3D0">Full details on selected components are available here</a> .</b> <br><br>  The schematic diagram is shown <a href="https://www.dropbox.com/s/1p2kela3ynu2nxv/specification.xls%3Fdl%3D0">here</a> and in the <a href="http://habrahabr.ru/post/245265/">first part</a> . <br>  In the next part we will get to the microcontroller code and the control panel code under Windows. </div><p>Source: <a href="https://habr.com/ru/post/245355/">https://habr.com/ru/post/245355/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../245345/index.html">Ideal programmer</a></li>
<li><a href="../245347/index.html">Do you want to do the job well - first you need tools, or how we helped one head of the IT department to build an effective system for managing employee quality</a></li>
<li><a href="../245349/index.html">We optimize workflow</a></li>
<li><a href="../245351/index.html">Technical aspects of ensuring non-visual availability of Android applications</a></li>
<li><a href="../245353/index.html">SMessage - A simple and predictable event system for Unity.</a></li>
<li><a href="../245357/index.html">RedHat / Oracle Linux with NetApp FAS (SAN)</a></li>
<li><a href="../245361/index.html">5 success stories that would not happen without promises</a></li>
<li><a href="../245363/index.html">Forms in online stores designed by investigators threatened</a></li>
<li><a href="../245365/index.html">How I lost my password from the Android keystore, but then I was able to recover using Jetbrains Idea</a></li>
<li><a href="../245367/index.html">Modern methods of authentication and security of iOS devices</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>