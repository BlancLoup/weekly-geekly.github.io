<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Entity Framework in WinForms. Part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 I bring to your attention a translation of the article by Bernardo Castilho on the binding of entity data to WinForms controls. I hope ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Entity Framework in WinForms. Part 1</h1><div class="post__text post__text-html js-mediator-article"><h2>  Introduction </h2><br>  <i>I bring to your attention a translation of the <a href="http://www.codeproject.com/Articles/221931/Entity-Framework-in-WinForms%3Fmsg%3D5190038">article by</a> Bernardo Castilho on the binding of entity data to WinForms controls.</i>  <i>I hope you article will also help in the work as I do.</i> <br><br><ul><li>  <a href="">Download sample (EF4, C #) - 1.03 MB</a> </li><li>  <a href="">Download example (EF4, C #, separating data layer from the UI layer) - 120 KB</a> </li><li>  <a href="">Download sample (EF4, VB, provided by Mr 'VBForever') - 946 KB</a> </li><li>  <a href="">Download example (EF5, C #) - 1.3 MB</a> </li><li>  <a href="">Download example (EF6 C #) = 1.3 MB</a> </li></ul><br>  Today, Winforms is still a platform for many data-oriented business applications, and data binding is an integral part of Winforms development.  If you used the standard ADO.NET classes to work with data, then you are familiar with the tools used to create DataSet classes and link these classes during development using their <strong>DataSource</strong> , <strong>DataMember</strong> or <strong>Binding</strong> properties. <br><br>  The bad news is that these rich development capabilities do not apply to <strong>Entity Framework</strong> data sources.  Even a simple binding requires writing code.  To get a working basic binding, quite a bit of code is enough, but to get a full-fledged binding, which we are used to (such as automatic sorting, filtering, and hierarchical binding), a significant amount of work is required. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The good news is that using the <strong>EFWinForms</strong> library, <strong>you</strong> can easily perform data binding and create a reusable component for data binding in Winforms.  There are two components in the library: <br><br><ul><li>  <strong>EntityDataSource</strong> : a component that encapsulates a data entity model and presents its elements as data sources suitable for binding, with full support during development. <br></li><li>  <strong>EntityBindingNavigator</strong> : A control that provides navigation for viewing and provides a user interface for adding and deleting entries, saving or canceling changes in the database. <br></li></ul><br><a name="habracut"></a><br><h2>  EntityDataSource component </h2><br>  The <strong>EntityDataSource</strong> component plays the role of a <strong>DataSet</strong> and <strong>BindingSource</strong> in standard ADO.NET programming.  To use it, you first need to create an Entity Data Model. <br><br>  After that, drag the <strong>EntityDataSource</strong> component <strong>onto</strong> the form and set the <strong>ObjectContextType</strong> property of the <strong>ObjectContext</strong> type into one of the contexts presented by the Entity Data Model.  (If you have EF6, use the DbContextType property instead of ObjectContextType).  When you do this, the <strong>EntityDataSource</strong> component creates a context object and uses reflection to find all the data sources available in the context.  These data sources then appear in the designer using the <strong>IListSource</strong> implementation. <br><br>  After that, you can add controls to the form and link them to the EntityDataSource using their <strong>DataSource</strong> , <strong>DataMember</strong> and <strong>Binding</strong> properties as usual.  One EntityDataSource provides access to all tables and views in the model and saves changes only by calling the <strong>SaveChanges</strong> method. <br><br><h2>  Examples </h2><br>  The best way to understand how the EntityDataSource works is to look at a few examples.  The following section describes how to use an EntityDataSource to implement four typical data binding scenarios.  All scripts use the same Entity Data Model based on the <strong>Northwind</strong> database. <br><br>  To use it, you first need to create an Entity Data Model. <br><br><h3>  Creating an Entity Data Model </h3><br>  To create an <strong>Entity Data Model</strong> , right-click the project tree in the <strong>Solution Explorer</strong> and then select <strong>‚ÄúAdd |</strong>  <strong>New Item ... "</strong> . <br><br>  The <strong>‚ÄúAdd New Item‚Äù</strong> dialog box <strong>appears</strong> .  Select <strong>‚ÄúADO.NET Entity Data Model‚Äù</strong> , set the model name and click the <strong>‚ÄúAdd‚Äù</strong> button at the bottom of the form. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5a2/879/9c3/5a28799c3e33730994b44682865e3d3b.png"><br><br>  The <strong>‚ÄúEntity Data Model Wizard‚Äù</strong> dialog box <strong>appears</strong> in which you need to choose which model you will create: a model generated from an existing database or an empty model.  Select the first option and click <strong>‚ÄúNext‚Äù</strong> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e8c/e29/5f4/e8ce295f4995a8bcadb6e4207ac45ebc.png"><br><br>  The next step is to choose a database to create a model.  You can select an existing connection, or use the <strong>‚ÄúNew Connection‚Äù</strong> button to create a new one.  In our example, we will create a connection to the SQL Server database ‚ÄúNorthwind‚Äù. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/103/69f/f11/10369ff115b22ca8dfaeed0585cf5378.png"><br><br>  The database file is called ‚ÄúNorthWnd.mdf and is included in the sample.  After you select a database, the wizard will prompt you to select the tables, views, and stored procedures that you want to include in the <strong>Entity Data Model</strong> .  In our example, we simply select all the tables, as shown in the figure below: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c1f/d53/8d3/c1fd538d3dfd2a698f8654d9e3d81b17.png"><br><br>  Click the <strong>‚ÄúFinish‚Äù</strong> button to create a model.  Two elements will be added to your project: the ‚ÄúModel1.edmx‚Äù file describing the conceptual model using XML and the associated Model1.Designer.cs which contains the generated code, including the <strong>ObjectContext</strong> used for data access and entity classes such as <strong>Product</strong> , <strong>Employee</strong> , etc. <br><br>  Double-click on the edmx file.  The <strong>Entity Data Model Designer</strong> window will appear, where you can view, edit the model, and re-create it at any time if you suddenly change the database schema or if you want to change the list of tables and views that need to be included in the model.  All automatically generated classes in the ‚ÄúDesigner.cs‚Äù file are declared as partial.  This allows us to expand them by adding business logic to individual files that will not be changed if you recreate the model from the database. <br><br>  Now you can use the data model as shown below: <br><br><pre><code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Form1</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { InitializeComponent(); <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ( <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ctx = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NORTHWNDEntities()) { dataGridView1.DataSource = ctx.Products.ToList(); } }</code> </pre> <br>  This code creates an <strong>ObjectContext</strong> object that provides data for the model, builds a list containing all products, and displays the list in a table.  You can edit products and save changes to the database by calling the <strong>ctx.SaveChanges ()</strong> method. <br><br>  If you run the code, you will notice some serious limitations: you cannot sort or filter data, you cannot add or remove items from the list, and of course you cannot customize table columns (Grid) during development using the table editor (Grid). <br><br>  These limitations are due to the fact that a list is used as a source (just a ‚Äúsnapshot‚Äù of data).  <strong>IBindingList</strong> , which Winforms creates automatically, in this case provides only minimal functionality. <br><br><h3>  Creating a Grid View (With AutoLookup) </h3><br>  To eliminate these shortcomings, add an <strong>EntityDataSource</strong> component to the form and in the <strong>Properties</strong> window, set its <strong>ObjectContextType</strong> property to ‚ÄúSample.NORTHWNDEntities‚Äù, as shown in the figure below (Note: if you have EF6, use DbContextType instead of ObjectContextType): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cf9/10f/b27/cf910fb27057b1a1589e2567ef5a1e95.png"><br><br>  The <strong>EntityDataSource</strong> component uses a value from <strong>ObjectContextType</strong> to create an object context to generate views for all elements described in the data model. <br><br>  Now add the <strong>DataGridView</strong> control to the form and in the <strong>Properties</strong> window, set the <strong>DataSource</strong> property to the <strong>entityDataSource1</strong> , and the <strong>DataMember</strong> property to <strong>Products</strong> , as shown below: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/499/e6e/dc4/499e6edc4b8b95460f11d5e4ffe77119.png"><br><br>  In the <strong>DataGridView,</strong> columns are automatically created to display the properties of the <strong>Product</strong> class.  In Designer mode, you can reorder the columns, set their width, heading, alignment, format, and so on. <br><br>  If you start the project now, you will see that the table is filled automatically, and you can perform all the actions you want, including editing, sorting, adding or deleting elements. <br><br>  All this is possible because the <strong>EntityDataSource</strong> component wraps a list of products in the <strong>EntityBindingList</strong> class, which implements the <strong>IBindingListView</strong> interface and supports sorting, filtering, adding and deleting elements. <br><br><h4>  Saving changes </h4><br>  After editing the data, you probably want to save changes to the database.  To demonstrate how this can be done, add three buttons to the form and set their <strong>Text</strong> property to ‚ÄúSave‚Äù, ‚ÄúCancel‚Äù, and ‚ÄúRefresh‚Äù and attach the following handlers to the <strong>Click</strong> events of these buttons: <br><br><pre> <code class="hljs haskell"> // save/cancel/refresh changes <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> the <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class"> source void _btnSave_Click(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">object</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sender</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">EventArgs</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">e</span></span></span><span class="hljs-class">) { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">entityDataSource1</span></span></span><span class="hljs-class">.</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">SaveChanges</span></span></span><span class="hljs-class">(); } void _btnCancel_Click(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">object</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sender</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">EventArgs</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">e</span></span></span><span class="hljs-class">) { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">entityDataSource1</span></span></span><span class="hljs-class">.</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">CancelChanges</span></span></span><span class="hljs-class">(); } void _btnRefresh_Click(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">object</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sender</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">EventArgs</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">e</span></span></span><span class="hljs-class">) { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">entityDataSource1</span></span></span><span class="hljs-class">.</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Refresh</span></span></span><span class="hljs-class">(); }</span></span></code> </pre><br>  This code is self explanatory.  The first button saves all changes back to the database.  The second cancels the changes by re-extracting the data, and the third saves the changes and selects the data again. <br><br>  There is one important detail that is often forgotten: when saving changes to the database, exceptions are possible.  For example, while maintaining changes that violate the integrity constraints of the database.  Unfortunately, there are no general recipes for dealing with this type of exception.  Their nature depends on the database schema and the application itself. <br><br>  Regardless of how you plan to deal with possible exceptions, the first thing to do is catch them.  To do this, you need to wrap the call to the <strong>SaveChanges</strong> method with a <strong>try / catch block</strong> , or add a <strong>DataError</strong> event handler to the <strong>EntityDataSource</strong> component.  This is how our application will be able to handle possible errors when saving data: <br><br><pre> <code class="hljs pgsql"> // report <span class="hljs-keyword"><span class="hljs-keyword">any</span></span> errors <span class="hljs-type"><span class="hljs-type">void</span></span> entityDataSource1_DataError(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> sender, DataErrorEventArgs e) { MessageBox.<span class="hljs-keyword"><span class="hljs-keyword">Show</span></span>("Error Detected:\r\n" + e.<span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span>.Message); entityDataSource1.CancelChanges(); e.Handled = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; }</code> </pre><br>  The code issues a warning, discards the changes, and sets the Handled parameter to True to indicate that the error has already been processed and no need to generate exceptions. <br><br><h4>  Using dictionaries to represent related entities </h4><br>  To finish with this example, let's consider the usual scenario.  The Product class has two properties, Category and Supplier, which are related entities.  By default, these properties are not presented in the table, but using the column editor you can add columns for these entities to our table.  The image below shows how this can be done: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2dc/452/cb5/2dc452cb54c7822d231fc5b6189db9e2.png"><br><br>  The problem is that the DataGridView does not know how to display a related entity, by default the <strong>ToString</strong> method is simply used, and as a result we get two read-only columns, the cells of which are filled with the values ‚Äã‚Äã‚ÄúSample.Category‚Äù and ‚ÄúSample.Supplier‚Äù . <br><br>  But to do real work, a column is required that shows the categories and names of suppliers, ideally with an editor that allows you to change categories and suppliers by choosing from lists.  This is usually done by writing code to create and link custom columns (in a <strong>DataGridViewComboBoxColumn</strong> if you use the <strong>DataGridView</strong> control). <br><br>  Since  This is a common scenario. The <strong>EntityDataSource</strong> component supports the extended <strong>AutoLookup</strong> property.  This property automatically becomes available in any <strong>DataGridView</strong> or <strong>C1FlexGrid control</strong> placed on a form (in a <strong>C1FlexGrid it</strong> is a popular component of a tabular view of data, much faster and more sophisticated than a <strong>DataGridView</strong> ). <br><br>  Note that although the <strong>EntityDataSource</strong> component supports the <strong>C1FlexGrid</strong> , the EFWinForms assembly is independent of the C1FlexGrid assembly.  This is achieved using the <strong>"dynamic"</strong> keyword, which relies mainly on reflection to link properties at run time. The same mechanism can be used to extend the <strong>EntityDataSource</strong> component to support other components of the table data view. <br><br>  The figure below shows how you can turn on the <strong>AutoLookup</strong> property in the <strong>DataGridView</strong> : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ca8/5ea/f50/ca85eaf501150a9b0dbf052fc68f45b7.png"><br><br>  As soon as you enable the <strong>AutoLookup</strong> property, the <strong>EntityDataSource</strong> component will automatically scan the columns in the table to replace the columns linked to the entities with editable data map-based columns containing the list of possible values ‚Äã‚Äãof the related entities and the display of values ‚Äã‚Äãfor each of them. <br><br>  The figure below shows the result of setting the <strong>AutoLookup</strong> property to True: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fce/d0e/1a3/fced0e1a365a765e43e88538ea820a4e.png"><br><br>  Notice how the ‚ÄúCategory‚Äù and ‚ÄúSupplier‚Äù columns show the category names and supplier names, and that you can change the supplier for a product simply by selecting a new one from the list. <br><br>  You may wonder how the <strong>EntityDataSource</strong> selects the correct field from the related entities to display in the table.  This is done using the following algorithm: <br><br><ol><li>  If the class implements the <strong>ToString</strong> method (and not just inherits), then the <strong>ToString</strong> implementation is used to represent the entity. <br></li><li>  Otherwise, if the class has a property of type <strong>string</strong> , the name of which has the word <strong>‚ÄúName‚Äù</strong> , then this property is used to represent the entity. <br></li><li>  Otherwise, if the class has a property of type <strong>string</strong> , the name of which has the word <strong>‚ÄúDescription‚Äù</strong> , then this property is used to represent the entity. <br></li><li>  If none of the above applies, then data binding cannot be performed for this class. <br></li></ol><br>  The first rule is the most general and flexible.  For example, the <strong>Employee</strong> class in the Northwind database has the <strong>Firstname</strong> and <strong>Lastname properties</strong> .  One of them can be used to represent entities in the list, but ideally I would like to use both.  To do this, we simply override the <strong>ToString</strong> method in the <strong>Employee</strong> class and create a string consisting of both properties: <br><br><pre> <code class="hljs cmake">/// &lt;summary&gt; /// Add a field with the employee's full name /// &lt;/summary&gt; public partial class Employee { public <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> FullName { get { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.Format(<span class="hljs-string"><span class="hljs-string">"{0} {1}"</span></span>, FirstName, LastName); } } public override <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> ToString() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> FullName; } }</code> </pre><br>  Note that using a partial class extends the standard class created using the ADO.NET Entity Framework wizard.  If at some point you decide to regenerate the data entity model, our implementation of the <strong>ToString</strong> method will not be affected. <br><br>  In the Northwind database, <strong>Employee</strong> is the only class that requires any special methods for data binding.  All other classes have properties such as <strong>‚ÄúCustomerName‚Äù</strong> or <strong>‚ÄúCategoryDescription‚Äù</strong> , which are automatically used by the <strong>EntityDataSource</strong> component and provide the desired effect. <br><br>  This concludes the first example. </div><p>Source: <a href="https://habr.com/ru/post/275607/">https://habr.com/ru/post/275607/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../275595/index.html">Linux in your pocket - in the service of the photographer</a></li>
<li><a href="../275599/index.html">Entity vs Value Object: full list of differences</a></li>
<li><a href="../275601/index.html">Engineer's opinion: Why not use Docker anytime and anywhere</a></li>
<li><a href="../275603/index.html">Selection: 40+ useful tools, resources and research on working with email</a></li>
<li><a href="../275605/index.html">OpenShift: some gear internals</a></li>
<li><a href="../275609/index.html">Efficient index management in Azure SQL Database using Index Advisor</a></li>
<li><a href="../275611/index.html">How I Fought Death Screens on Legacy Blade Servers</a></li>
<li><a href="../275613/index.html">Digital sound: DSD vs PCM</a></li>
<li><a href="../275615/index.html">Desktop JavaScript applications. Part 2</a></li>
<li><a href="../275617/index.html">Being a deaf developer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>