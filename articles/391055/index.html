<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We supplement reality: survey material</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Author: Igor Litvinenko, Senior Mobile Developer. 

 Everyone probably heard about the VR helmets, creating the effect of presence in the virtual worl...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We supplement reality: survey material</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/d41/bb9/dea/d41bb9dead0f42369562da0c23937894.png"><br>  Author: Igor Litvinenko, Senior Mobile Developer. <br><br>  Everyone probably heard about the VR helmets, creating the effect of presence in the virtual world.  However, today I would like to talk not about virtual, but about augmented reality.  These concepts are important to distinguish.  In virtual reality helmets, the entire image is generated - such a reality is completely artificial.  Augmented reality, in contrast to virtual reality, does not imply the creation of a completely artificial reality, but the addition of a video stream of our reality with virtual objects and data.  Thus, there is a combination of the virtual and real world. <a name="habracut"></a><br><h3>  Core Augmented Reality Technologies </h3><br><br>  How is augmented reality created?  To make the addition of a certain real object, you need to detect this real object in the video stream.  This is the most important thing - after the discovery of the object, it is not difficult to finish something and somehow supplement it.  There are different ways to detect the necessary objects, mainly for this purpose augmented reality markers are used.  The following evolutionary sequence lists the main ways to detect complemented objects: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  The simplest marker or image. </li><li>  Markerless - markerless augmented reality. </li><li>  Simple 3D markers. </li><li>  The combination of markers for rendering complex objects (cylinder, cube, parallelepiped). </li><li>  Frame Marker. </li><li>  Based on location. </li><li>  Real augmented reality. </li></ul><br><br><h3>  Marker Picture </h3><br><br>  The simplest marker of augmented reality can be easily recognized by the thick black frame.  Such an object is very easy to detect in a video stream: <br><br><img src="https://habrastorage.org/files/879/fa6/09d/879fa609d8cf449ab1dbc66553ef8676.png"><br><br><ul><li>  Requirements: <br><ul><li>  Black frame, the width of which is not less than 10%. </li><li>  Only black and white. </li><li>  Invariant to rotations - at any time we can specify the exact angle of rotation. </li><li>  Always square. </li></ul><br></li><li>  The algorithms here are the simplest: we can define the borders of the image (edge ‚Äã‚Äãdetection), a square and a white square in the middle, having made the display binarization before this threshold.  This way we can get to the content inside, cut it out and work with it as with a picture - it is much easier than scanning the entire frame. <br><ul><li>  Corner detection. </li><li>  Blob detection. </li><li>  Edge detection. </li><li>  Thresholding. </li></ul><br></li><li>  Benefit: <br><ul><li>  The easiest detection algorithm is a lot of open and closed libraries that can detect a marker. </li><li>  The most stable - the marker is always detected very accurately and there is practically no effect of model shake. </li></ul><br></li></ul><br><br><h3>  Markerless </h3><br><br>  Despite the name, with markerless approach, the marker is, in fact, still there.  Just here it does not look like a marker, but as a picture. <br><br><img src="https://habrastorage.org/files/60f/ec1/63f/60fec163f7de47c18156faee8eef3ef2.png"><br><br><ul><li>  Requirements: <br><ul><li>  A large number of small parts. </li><li>  The more colors, the better. </li><li>  Invariant to turns. </li><li>  The ideal ratio is 1: 1, i.e., the closer to the square, the better.  At a ratio of 1: 2 or more, the marker is recognized very poorly. </li></ul><br></li><li>  Algorithms.  To detect such markers, characteristic points are used: for example, this is the point where the gradient changes.  That is, this is the point where a clear border is visible.  The algorithm for finding geometric points can also be used: in some places of the picture there are exact markers that form angles ‚Äî for example, a cross point can be a geometric point. <br><ul><li>  Detect interest points. </li><li>  Fiducial markers / </li><li>  Edge detection - detection of image borders for searching characteristic points. </li><li>  Simultaneous localization and mapping (SLAM) - finds the characteristic points and makes maps on them. </li></ul><br></li><li>  Benefit: <br><ul><li>  It is easier to fit into the world: - do not need a thick black frame.  The user may not even notice that the picture in front of him is a marker of additional reality.  Markerless approach is convenient to use, for example, in the printing industry - it can be a picture in a book that comes to life when the camera is pointed at it. </li></ul><br></li></ul><br><br><h3>  Marker combination </h3><br><br>  This technology allows us to take into account the simple form of three-dimensional objects: a cube, a cylinder, etc. Here we can create a configuration that helps to understand what kind of object is in front of us - so, a certain shape object with a certain color combination can serve as a marker (for example, made an application that defines the drug by packaging and label).  We also made an application that recognizes brands of wines - the library could find labels from different angles, which does not work in markerless or simplest technology due to nonlinear marker transformation. <br><br><h3>  Frame marker </h3><br><br>  Let's say you are holding a conference.  You have a logo that you hang on the walls to show people where to go.  The logo is one, so all the images are the same;  at the same time you need to uniquely identify each picture.  How to do it?  With frame marker.  When using frame marker, the ID of the image is encrypted in the frame: <br><br><img src="https://habrastorage.org/files/010/c75/c09/010c75c09c64487dbc22894f786c1a02.png"><br><br><ul><li>  Requirements: <br><ul><li>  Unified frame. </li><li>  Invariant to turns. </li><li>  Always square. </li><li>  The internal image should be in contrast with the frame. </li><li>  Small size (3 - 10 cm). </li></ul><br></li><li>  Algorithms: <br><ul><li>  fiducial markers. </li></ul><br></li><li>  Benefit: <br><ul><li>  The ability to uniquely identify the same marker. </li></ul><br></li></ul><br><br><h3>  Location Based Augmented Reality </h3><br><br>  If you walk around the city and get information about the buildings that you see, most likely, the addition of reality occurs through location. <br><br><img src="https://habrastorage.org/files/68e/0cc/2db/68e0cc2db9cc4b07838a18a879fc9b2c.png"><br><br>  In this case, there is no image recognition task.  This technology is based on the use of the GPS receiver, compass and accelerometer present in the mobile device.  Thanks to them, we know in which direction we are looking.  Thus, to supplement reality, you just need to correctly respond to the readings of the sensors of the mobile device.  This task is not so difficult - there are enough libraries that cope well with it. <br><br><h3>  Real Augmented Reality </h3><br><br>  There are no markers here.  Here we are on the move to determine the 3D forms and characteristics of any objects that fall into the camera lens.  We need to know the depth of the object to turn the 2D image into 3D.  For this, you can use, for example, the above-mentioned SLAM algorithm, which searches for characteristic points on surrounding objects.  So far, on mobile devices it all works very slowly.  Now the technology of this augmented reality actively introduces Sony in conjunction with the PlayStation. <br><br><h3>  Keyshare - keyshare.org </h3><br><br>  And now I‚Äôll tell you how we in DataArt wrote our augmented reality engine and why we did it. <br><br>  One Swiss startup decided to offer a new system to increase sales, built on the use of augmented reality technology, and we developed this system for it.  Here is how it works. <br><br>  We have a patented marker of augmented reality in the form of a key image that can be placed, for example, in a magazine next to a description of a product.  White dots of different sizes inside this key allow you to uniquely identify the content.  There is a server - it accepts the code read from the key and returns to the user a variety of data about the product, its 3D model, etc. <br><br><img src="https://habrastorage.org/files/245/6f9/bf1/2456f9bf17fd477dac1fa59416d60f3b.png"><br><br>  To develop such a key, we tried all the most popular libraries, but could not find a marker that would fit any combination.  When we use marker augmented reality, it sits on key points.  The marker is black and white, and key points are concentrated in changing places.  In the end, we decided to write everything from scratch. <br><br>  We used the MSER search algorithm, which simply finds an area.  After all, we know that for sure there is a black key and for sure there is a white cross inside this key.  Therefore, we first find a large black area, and inside this area we find a white area.  Then we cut the picture and look at the aspect ratio - it should be 2: 1.  Next, analyze the form.  Focusing on the cross, we can find the beginning of a key phrase.  As for the points, they are always in the same places, so finding them is also not difficult.  As a result, we got an algorithm for searching for a marker by form.  This, of course, is not a universal solution, but our task is simply excellent. <br><br>  So, on the iPhone 5S, we got a performance of more than 25 FPS.  To achieve this was quite difficult.  First, as with any algorithm, we have reduced the picture: the recognition algorithm works much better on a smaller picture with low quality.  Then they implemented the prediction algorithm - after they found the picture, we assume that the key cannot fly away from the frame by more than a certain pixel value.  Then shorten the picture.  After that, we analyze the dynamics: if the user turns the phone to the left, the key will move to the right.  This is a probabilistic algorithm.  if we don‚Äôt find right away what we are looking for, we start processing a larger area.  We have an excellent model rendering algorithm, which was written from scratch. <br><br>  What else do we have?  On the key there are three rows, in each of them - 13 points.  This means that 469 combinations are possible.  Since at a distance of more than a meter the picture is already somewhat blurred, we made a probabilistic algorithm for decoding with error correction.  We use it in conjunction with a self-correcting key.  So we accurately identify four false signs, which is enough.  We also have an optimized detection algorithm, a tracking and prediction algorithm for the next position. <br><br>  Despite the fact that such a key is somewhat similar to a QR code, there are fundamental differences.  You cannot link the augmented reality to the QR code, because its content is constantly changing.  In other words, you cannot create it as a marker.  You cannot put a 3D model on it and cannot determine the angle of rotation.  In addition, this key is very easily recognizable. <br><br><h3>  Football Clubs Recognizer </h3><br><br>  We also developed an application that helps users follow their favorite football clubs.  It allows you to complement the virtual reality image of the logo of a football club - when you hover the camera on the logo shows the data of the club. </div><p>Source: <a href="https://habr.com/ru/post/391055/">https://habr.com/ru/post/391055/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../391043/index.html">See the billboard? He sees you too</a></li>
<li><a href="../391047/index.html">The exhibition stands in Barcelona and Nuremberg feature SF-BT1 processor modules based on the ‚ÄúBaikal-T1‚Äù processor.</a></li>
<li><a href="../391049/index.html">Moto X Force: unbreakable screen - it's real</a></li>
<li><a href="../391051/index.html">"Make any device smart": review of the smart REDMOND SkyPlug RSP-100S socket</a></li>
<li><a href="../391053/index.html">Anti-virus system found in giant mimi viruses</a></li>
<li><a href="../391057/index.html">Lecture "Cold Treasures of the Far Out of the Land"</a></li>
<li><a href="../391059/index.html">Stereotypes, delusions and VR</a></li>
<li><a href="../391061/index.html">Gadgets for geek on the first of April or play a comrade in high-tech</a></li>
<li><a href="../391063/index.html">Car Nissan Leaf could be controlled via the Internet, knowing his VIN</a></li>
<li><a href="../391065/index.html">An inside look: smart lights SmartLight (UPD)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>