<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Hole in IE11 allows you to display popups even after the site is closed.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Vulnerability can be used to demonstrate "non-killed" popups. 

 Information Security Specialist Manuel Caballero from Argentina published the results...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Hole in IE11 allows you to display popups even after the site is closed.</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/geektimes/post_images/45c/30b/8d4/45c30b8d4e8e2ba3e4bd87493fad26d4.png"><br>  <font color="gray">Vulnerability can be used to demonstrate "non-killed" popups.</font> <br><br>  Information Security Specialist Manuel Caballero from Argentina <a href="http://www.brokenbrowser.com/zombie-alert/">published the</a> results of his vulnerability study in IE11 browser.  The exploitation of this vulnerability allows the site owner with an embedded exploit to ensure that a site visitor starts to receive pop-up notifications.  Their demonstration will continue even after the resource is closed.  In addition, if desired, the site owner will be able to run his JavaScript code when a visitor to the malicious page has already left it and is visiting other resources. <br><br>  Vulnerability, according to the specialist, is characteristic only for Internet Explorer 11, the Edge browser is devoid of this problem, as well as other developers' browsers.  Now IE11 is the second most common browser, according to <a href="https://www.netmarketshare.com/browser-market-share.aspx%3Fqprid%3D2%26qpcustomd%3D0">NetMarketShare statistics</a> .  Chrome 55 is now in first place with a market share of 37%, and IE11 is in second place with almost 11%.  Thus, a vulnerability can be a threat to a large number of users. <br><a name="habracut"></a><br>  The other day, Caballero <a href="http://www.brokenbrowser.com/zombie-alert/">demonstrated</a> how a developer can make pop-ups appear in a user's browser, even if he left the site with a script added by the developer.  And there is no limit in the number of popups.  You can call them as follows. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (var i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">10</span></span>; i++) { doc = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> ActiveXObject("htmlFile"); win = doc.Script; // win <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> the <span class="hljs-keyword"><span class="hljs-keyword">window</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> the ActiveXObject win.setTimeout("alert('Hello, world!')", i * <span class="hljs-number"><span class="hljs-number">100</span></span>); }</code> </pre> <br>  The only way to get rid of this scourge is to close the tab, on which the site with the exploit was previously working and opening a new tab. <br><br><pre> <code class="hljs pgsql">doc = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> ActiveXObject("htmlFile"); win = doc.Script; // win <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> the <span class="hljs-keyword"><span class="hljs-keyword">window</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> the ActiveXObject win.alert("Hello"); win.alert("2nd alert, no option to block me."); win.alert("3rd alert, and still no way out!");</code> </pre> <br><img src="https://habrastorage.org/getpro/geektimes/post_images/aee/85b/c36/aee85bc367655b17c2d9437f0f3dde9b.png"><br><br>  A wide range of intruders can exploit this vulnerability for a variety of purposes.  For example, it may be an ordinary advertisement.  And maybe an attempt to deceive the user so that he downloaded malicious software onto his computer.  Moreover, if popups appear while a user is working with authoritative resources like Google, Wikipedia, Bing, then suspicions about the emerging windows will be less than in any other case.  It uses code with the window.open function. <br><br><pre> <code class="hljs pgsql">doc = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> ActiveXObject("htmlFile"); // Alert every <span class="hljs-number"><span class="hljs-number">5</span></span> seconds doc.Script.setInterval("alert('Hello, world!')", <span class="hljs-number"><span class="hljs-number">5000</span></span>); // Save a self-reference doc.Script.doc = doc; // Use the <span class="hljs-keyword"><span class="hljs-keyword">open</span></span> <span class="hljs-keyword"><span class="hljs-keyword">method</span></span>. <span class="hljs-keyword"><span class="hljs-keyword">Nothing</span></span> changes here, but now IE will <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> // destroy the previous reference <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> the script will <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span> running. <span class="hljs-keyword"><span class="hljs-keyword">window</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">open</span></span>("","_self"); // "Does nothing", but this <span class="hljs-type"><span class="hljs-type">line</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> crucial.</code> </pre> <br>  You can imagine how a user, working with Google search service, receives a message about the need to add a browser plugin to improve search performance. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/4dc/4a2/a03/4dc4a2a03e3b659e764b4f1d8ff41da3.png"><br><br>  Or another example, when a user receives a notification about the need to install a new antivirus, and this notification appears on various sites, including the most authoritative ones.  Until the tab is closed, in which the site with the embedded exploit originally appeared, the user cannot do anything with pop-up notifications.  In a typical situation, IE11 allows you to block them in the browser, but if you wish, you can avoid this by closing the ignore button with another button with any text. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/4a0/68c/bde/4a068cbde47dff7c9dc0b008e706f526.png"><br><br>  The popups themselves are a <a href="https://www.bleepingcomputer.com/news/security/unstoppable-javascript-attack-helps-ad-fraud-tech-support-scams-0-day-attacks/">relatively minor issue</a> .  The fact is that instead of a pop-up notification code, you can add anything. <br><br>  ‚ÄúFor example, a new zero-day vulnerability has been discovered, and an attacker needs to download 5 MB using the victim‚Äôs browser.  How can he be sure that there is enough time for this operation?  And with the use of such a script, the attacker will have time for anything, ‚Äùsays the Argentinian. <br><br><div class="oembed"><twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-0" style="position: absolute; visibility: hidden; display: block; transform: rotate(0deg);"></twitter-widget><blockquote class="twitter-tweet twitter-tweet-error" align="center" data-twitter-extracted-i1552296637146759236="true"><p lang="en" dir="ltr">  Ha, so there‚Äôs a way to make a ServiceWorker-like botnet for IE too!  <a href="https://t.co/jj7tC6AtcE">https://t.co/jj7tC6AtcE</a> <a href="https://t.co/wxtz4S7UIr">https://t.co/wxtz4S7UIr</a> </p>  - Egor Homakov (@homakov) <a href="https://twitter.com/homakov/status/833696615005356032">February 20, 2017</a> </blockquote><script async="" src="//platform.twitter.com/widgets.js" charset="utf-8"></script></div><br>  You can show fake ads, when you click on which the user will receive malicious software.  You can download other exploits to the victim's browser, which, when combined with the detected Caballero vulnerability, will be even more effective.  The vulnerability itself is based on the Universal Cross-Site Scripting (UXSS) bug, allowing an attacker to bypass the Same Origin Policy (SOP) through the htmlFile / ActiveXObject component. <br><br><img src="https://habrastorage.org/files/ecc/d60/a71/eccd60a7184542e4b36508292cda4c31.png"><br><br>  Unfortunately, to fix the problem is not yet possible.  Caballero has recently stopped sending error messages to Microsoft, because the company has repeatedly ignored the information provided by the expert.  But you can see the problem with your own eyes, it‚Äôs enough to go to the <a href="https://www.cracking.com.ar/demos/zombiealert/">test page</a> created by the Argentine.  Let me remind you that only the IE11 browser is vulnerable, so the threat cannot be assessed with other browsers (in particular, only regular alerts from the author‚Äôs page work in Firefox). <br><br>  Perhaps, after the publicity, Microsoft will still pay attention to this problem and eliminate it - this vulnerability is already too dangerous for IE11 users. </div><p>Source: <a href="https://habr.com/ru/post/357278/">https://habr.com/ru/post/357278/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../357268/index.html">The court sentenced the Ukrainian carder Mucha, who sent 1 g of heroin to Krebs and called the police</a></li>
<li><a href="../357270/index.html">You are a pirate and I am a pirate: 70% of young male Swedes download unlicensed video content</a></li>
<li><a href="../357272/index.html">BugDrop operation. Overhearing more than 70 Ukrainian targets through the built-in microphones on the PC</a></li>
<li><a href="../357274/index.html">At the UK airport arrested the alleged administrator of the botnet Mirai</a></li>
<li><a href="../357276/index.html">EFF: we are halfway to safe internet</a></li>
<li><a href="../357280/index.html">How Google blocked itself</a></li>
<li><a href="../357282/index.html">US Prosecutor's Office abandoned the claim on child pornography, so as not to declassify the exploit for the browser Tor</a></li>
<li><a href="../357284/index.html">Hacking as cheating</a></li>
<li><a href="../357286/index.html">Spammers have a database of 1.37 billion email addresses because of a backup error.</a></li>
<li><a href="../357288/index.html">CIA hacker tools collection published</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>