<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ARM Wrestling</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently, news of plans to conquer the server market with systems built on ARM-architecture has begun to appear more and more often. Moreover, real se...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>ARM Wrestling</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/514/6ad/f39/5146adf3947b725c727fba5f61624e8d.png"><br><br>  Recently, news of plans to conquer the server market with systems built on ARM-architecture has begun to appear more and more often.  Moreover, real server ARM-processors from <a href="http://www.calxeda.com/%25D1%2580%25D1%2583%25D1%2581%25D1%2581%25D0%25BA%25D0%25B8%25D0%25B9/">Calxeda</a> , as well as systems based on them from <a href="http://www.boston.co.uk/solutions/viridis/default.aspx">Boston Viridis</a> and soon from HP - <a href="http://habrahabr.ru/post/177259/">Moonshot</a> , were embodied in silicon. <br><br>  I have been using Intel¬Æ Atom ‚Ñ¢ servers for 4 years now, but ARMs are familiar to me only from the mobile phone and tablet side.  What is it capable of, modern ARM processor?  Will he be able to compete with Atom?  I did not find a direct comparison on the server front, only <a href="http://www.phoronix.com/scan.php%3Fpage%3Darticle%26item%3Dcalxeda_ecx1000_atom">synthetics</a> on Phoronix.  Interesting <a href="http://www.anandtech.com/show/6757/calxedas-arm-server-tested/11">testing</a> was on AnandTech, but there Xeon-s.  Calxeda in its <a href="http://armservers.com/2012/06/18/apache-benchmarks-for-calxedas-5-watt-web-server/">benchmark</a> also compares with Xeon-s.  It was also interesting for me to compare it with Atoms in conjunction with Linux + NGINX for the return of statics. <br><a name="habracut"></a><br>  Atom-s, in addition to netbooks / nettops - the original purpose of these processors, took root in my universal routers (proxy-mail-firewall) for a medium-sized office, in network storages (file server), in front-end and servers for static.  Why exactly statics - because it is the minimum sufficient processor for such tasks.  And even though dear comrades <a href="http://habrahabr.ru/post/177259/">write</a> that HP knows better (me), and that this may well be an application server or cloud computing, I think that the caliber of the gun should at least somehow correspond to the size of the carcass.  Yes, a cloud of mosquitoes, may well tear the bear, but it will be long and painful. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Knowledgeable people will be sure to write in the comments that <u>you need to</u> use CDNs for statics.  Anticipating such a question I will answer - yes, <u>you can</u> use it if the scale of the task (and the customer‚Äôs wallet) is appropriate.  I periodically spend monitoring prices, and have not yet seen anyone compare the price with rented Atoms that hang on unlimited (or almost unlimited) 100-megabit uplinks.  For example, 5 servers, each of which produces from 7 to 22 TB per month.  How much will it cost on Amazon? <br><br><h4>  Choosing an opponent </h4><br>  For testing, you need a motherboard with a modern multi-core ARM processor, a SATA port and at least a 100-megabit Ethernet.  The choice turned out to be extremely limited - here either the aforementioned system from Boston Viridis for $ 20,000, or the <a href="http://www.element14.com/community/docs/DOC-49013/l/element14-development-platform-for-imx-6quad--built-to-freescale-sabre-lite-design">SABER Lite</a> developer fee for $ 220.  I chose not long :) <br><br>  Unfortunately, at the time of the order, a more advanced (+ 1GB RAM, + WiFi, + Bluetooth) and cheap ($ 129) board on the same <a href="http://www.wandboard.org/">Wandboard processor</a> was still unavailable, and the <a href="http://liliputing.com/2013/03/armbrix-zero-dev-board-is-canceled-pre-orders-to-be-refunded.html">ARMBRIX Zero</a> dream limit on the Samsung Exynos 5250 (ARM Cortex-A15 @ 1.7GHz) already canceled. <br><br>  The <a href="http://habrahabr.ru/post/160745/">Freescale i.MX6Q processor is</a> based on the Cortex-A9 core, i.e.  not the freshest, but Calxeda is based on the same core, and I simply could not find anything else.  In addition, I had an extensive experience of picking with the previous i.MX51 series on Chinese tablets.  After studying the work of Cortex-A9 and taking on trust that the A15 at the same frequency <a href="http://habrahabr.ru/post/159625/">will be 40% faster</a> , you can roughly extrapolate the results to a hypothetical system with Cortex-A15 at a higher frequency. <br><br><h4>  Competitors </h4><br>  The Atom processor will be presented in two models: <br><ul><li>  The good old <a href="http://ark.intel.com/ru/products/49490/Intel-Atom-processor-D525-1M-Cache-1_80-GHz">D525</a> on the platform SuperMicro <a href="http://www.supermicro.com/products/system/1u/5015/sys-5015a-ehf-d525.cfm">SuperServer 5015A-EHF-D525</a> </li><li>  Discontinued D2700 flagship on the Intel¬Æ Desktop Board <a href="http://ark.intel.com/ru/products/56457/Intel-Desktop-Board-D2700MUD">D2700MUD</a> </li></ul><br>  Two models are needed to figure out how the system scales in frequency.  Unfortunately, Intel decided that in cheap desktop processors, energy-saving technologies (power / frequency control) are useless; they already consume everything-nothing. <br><br>  The i.MX6Q processor will also be considered in two versions - 996MHz and 396MHz - these are the frequencies supported by cpufreq. <br><br>  Software and settings on all systems are identical: Gentoo Linux 3.x, NGINX 1.4.1, OpenSSL 1.0.1e, GCC 4.8.1 (-O3 -march = native), and on ARM there is an additional option to generate code in Thumb (- mthumb).  There are different opinions about the latter, but specifically on my system, besides the fact that the code was obtained is guaranteed smaller, in most tests it is also slightly faster. <br><br>  The system on Atom will be tested in 32-bit mode and in 64-bit x86-64 and x32 ABI.  Why x32?  - It is interesting to check the <a href="http://habrahabr.ru/post/170407/">debunking of myths</a> ! <br><br>  Test systems and client computer gigabit ports are included in the gigabit switch. <br><br><h4>  Weighing </h4><table><tbody><tr><th></th><th>  Intel Atom D2700 </th><th>  Freescale i.MX6Q </th></tr><tr><th>  Number of Cores </th><td>  2 </td><td>  four </td></tr><tr><th>  Number of threads </th><td>  four </td><td>  four </td></tr><tr><th>  Clock frequency </th><td>  2.13 GHz </td><td>  996 Mhz </td></tr><tr><th>  L2 cache </th><td>  1 MB </td><td>  1 MB </td></tr><tr><th>  Digit </th><td>  64-bit </td><td>  32-bit </td></tr><tr><th>  Maximum power consumption of the processor </th><td>  10 W </td><td>  3 W </td></tr><tr><th>  Maximum power consumption of the board + SSD under load </th><td>  30 W </td><td>  9 W </td></tr><tr><th>  The weight of the motherboard :) </th><td>  336 gr </td><td>  74 gr </td></tr><tr><th>  Price </th><td>  $ 52 </td><td>  $ 40 </td></tr></tbody></table> It is clear that directly comparing these systems is not entirely correct, since  different architectures, the i.MX is a self-contained SoC, and the D2700 is a classic microprocessor that needs piping from the south bridge and other companion chips.  There are no Atoms yet with the same degree of integration, but the process is taking leaps and bounds. <br><br>  The advantages of Atom-s include support for 64-bit mode, the practical use of which we will check in tests. <br>  i.MX6Q is based on the Cortex-A9 core, which means that, unlike the opponent, it supports out-of-order execution, plus 4 honest cores.  In addition, it integrates the hardware cryptographic engine CAAM - also try to explore. <br>  In terms of total Gigahertz, parity is almost 4.26 for Atom, versus 3.98 for i.MX6Q. <br><br>  By deliberate decision of the judges rivals are recognized in equal weight category, and are allowed to the next stage. <br><br><h4>  PHOTOSESSION </h4><br>  For the scale in the photo there is a brand new SSD Silicon Power T10 (JMicron JMF616) with 32GB.  All test systems will be installed on it. <br>  This is not the fastest option, but its stated reading speed of 200 MB / s with enough margin is enough to block the gigabit channel, not to mention 100 megabits. <br>  There is also an mSATA module, as a monument to human stupidity, and a reminder that not every Mini-PCIE == mSATA.  Even on Intel's. <br><br><img src="https://habrastorage.org/storage2/506/3b1/140/5063b11405b961800155e2e8236beb58.jpg"><br><br><h4>  Qualification </h4><br>  Instead of SPEC-synthetics, we will conduct simple tests of subsystems on which the performance of a web server depends. <br>  Data was collected using the following <div class="spoiler">  <b class="spoiler_title">plain script:</b> <div class="spoiler_text"><pre><code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash CPU=`uname -p` CIPHERS="rc4 aes-128-cbc aes-256-cbc" MULTI="1 2 4" SPEED="openssl speed -elapsed -multi" GFILE="/sys/devices/system/cpu/cpu0/cpufreq/scaling_governor" if [ -f "${GFILE}" ]; then GVRS="powersave performance" else GVRS="stub" GFILE="/dev/null" fi for G in ${GVRS}; do # Set frequency echo "${G}" &gt; "${GFILE}" sleep 1 # Log file name if [ "${GVRS}" != "stub" ]; then FREQ=`cat /sys/devices/system/cpu/cpu0/cpufreq/cpuinfo_cur_freq` else FREQ=`grep "cpu MHz" /proc/cpuinfo | head -n 1 | awk '{print $4}'` fi BDIR="${CPU}/@${FREQ}" if [ ! -d "${BDIR}" ]; then mkdir -p "${BDIR}" fi # hard disk testing LOG="${BDIR}/hdparm.txt" for I in 1 2 3; do echo "#${I} :" &gt;&gt; "${LOG}" hdparm -tT /dev/sda &gt;&gt; "${LOG}" done # gzip testing LOG="${BDIR}/gzip.txt" for I in 1 2 3; do echo -n "#${I} :" &gt;&gt; "${LOG}" { time gzip -c pages/*.html &gt;/dev/null ; } 2&gt;&gt;"${LOG}" done # OpenSSl testing for M in ${MULTI}; do for C in ${CIPHERS}; do LOG="${BDIR}/ssl_m${M}_${C}.txt" for I in 1 2 3; do echo -n "#${I} :" &gt;&gt; "${LOG}" ${SPEED} ${M} ${C} | tail -n 1 &gt;&gt; "${LOG}" done done done done</span></span></code> </pre> </div></div><br><h5>  Training - gzip compression </h5><br>  Suppose a server is a front end for a PHP-FPM / FCGI server.  Compressing the answer is a sign of good tone.  Well, the traffic is saved. <br>  Compressed 441 files (typical pages from the phpBB forum) total size 42MB. <br><img src="https://habrastorage.org/storage2/eed/7f0/0ca/eed7f00caba204ebeb1612d3bd2afac9.png"><br>  i.MX lose, but this is a single-threaded test, so maybe not everything is so bad.  We'll write down on the slow memory subsystem. <br><br><h5>  Warm up - OpenSSL encryption speed with RC4 (fast) and AES-256 (cool) algorithms </h5><br>  Many clients want https: //, so everything, even pictures, needs to be encrypted. <br>  i.MX6Q includes a CAAM cryptographic accelerator that supports <br><div class="spoiler">  <b class="spoiler_title">many useful things</b> <div class="spoiler_text">  Secure memory feature with enforced access control <br>  Cryptographic authentication <br>  * Hashing algorithms <br>  * MD5 <br>  * SHA-1 <br>  * SHA-224 <br>  * SHA-256 <br>  * Message authentication codes (MAC) <br>  * HMAC-all hashing algorithms <br>  * AES-CMAC <br>  * AES-XCBC-MAC <br>  * Auto padding <br>  * ICV checking <br>  Authenticated encryption algorithms <br>  * AES-CCM (counter with CBC-MAC) <br>  Symmetric key block ciphers <br>  * AES (128-bit, 192-bit or 256-bit keys) <br>  * DES (64-bit keys, including key parity) <br>  * 3DES (128-bit or 192-bit keys, including key parity) <br>  Cipher modes <br>  * ECB, CBC, CFB, OFB for all block ciphers <br>  * CTR for AES <br>  Symmetric key stream ciphers <br>  * ArcFour (alleged RC4 with 40 - 128 bit keys) <br>  * Random number generation <br>  * Entropy is generated via an independent free running ring oscillator <br>  * Oscillator is not generating forropy;  for lower-power consumption <br>  * NIST-compliant, pseudo random-number generator seeded using hardware generated entropy </div></div>  RC4 and AES-256 are among them.  Very tempting hardware accelerated.  But it turned out to be somewhat more complicated.  Standard OpenSSL does not use the Linux kernel crypto-API.  Freescale support wrote that ostensibly OpenSSL could use it through the NetKey API (AF_ALG?).  But clearly not used.  Then came across the <a href="http://cryptodev-linux.org/">Cryptodev-linux module</a> .  Enabled <b>/ dev / crypto</b> support in the kernel and rebuilt OpenSSL with -DHAVE_CRYPTODEV.  Still does not see.  Disconnected the native cryptodev, patched the kernel and the OpenSSL patch from this site.  And a miracle!  - they saw each other.  But the speed was disappointingly low.  Actually, this was a warning that on modern processors, most likely, it will be faster to encrypt in the software.  And so it turns out beautifully, hardware, asynchronously, but slowly.  Maybe something else tweaked in the drivers, and it will work faster, but not yet an option. <br><br><img src="https://habrastorage.org/storage2/046/54a/87e/04654a87ecb2e1aa1dd0affea2bb288c.png"><br><br>  i.MX-s lose again, but not much.  The difference in speed between two and four threads on i.MX is exactly two times, which is not surprising, since we have four fair cores.  But on the Atom is much more interesting.  In x86 mode, the difference is 1.45, i.e.  Hyper-threading adds almost an entire virtual core, and in 64-bit mode the difference is only 1.3, - the effectiveness of Hyper-threading is lower, but the overall performance is still higher.  The difference in results between the D2700 and D525 is proportional to the frequency. <br><br><img src="https://habrastorage.org/storage2/3f1/d6b/fa4/3f1d6bfa49716958970dafafb94a694d.png"><br><br>  i.MX finally suddenly breaks out strongly forward.  Perhaps this is due to the fact that the algorithm requires much more computing resources, and the memory requirements are lower. <br>  In the Atom camp, the difference in the work of Hyper-threading has become even more pronounced.  The more optimal / faster the code, the lower the gain from virtual cores.  Most likely, the case in <a href="http://ru.wikipedia.org/wiki/%25D0%2592%25D0%25BD%25D0%25B5%25D0%25BE%25D1%2587%25D0%25B5%25D1%2580%25D0%25B5%25D0%25B4%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25B8%25D1%2581%25D0%25BF%25D0%25BE%25D0%25BB%25D0%25BD%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5">in-order</a> architecture - the more fully one thread loads the kernel resources, the less it will remain for the second. <br><br><h4>  To battle </h4><br>  For testing on 4 systems, <a href="http://nginx.org/">nginx</a> was raised with the same config and data.  Three virtual servers with one root but different settings: normal on port 80, SSL with RC4 encryption on port 443, and SSL with AES-256 on port 444. <br><br>  Statistics were collected using the <a href="httpd.apache.org/docs/2.2/programs/ab.html">Apache Bench</a> utility. <br><div class="spoiler">  <b class="spoiler_title">Here is this script</b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash HOST="test.XXXX.net" CONQS="1 2 4 10 100 1000" PREFS="http://${HOST} https://${HOST} https://${HOST}:444" AB="ab -d -k -n 1000" for P in ${PREFS}; do URL="${P}/plain/test.htm" echo ${URL} echo "Plain HTML" for C in ${CONQS}; do echo -n "C=${C} : " ${AB} -c ${C} "${URL}" 2&gt;&amp;1 | grep "Transfer rate:" | awk '{print $3}' done echo "Gzipped HTML" for C in ${CONQS}; do echo -n "C=${C} : " ${AB} -H "Accept-Encoding: gzip" -c ${C} "${URL}" 2&gt;&amp;1 | grep "Transfer rate:" | awk '{print $3}' done URL="${P}/plain/test.jpg" echo ${URL} for C in ${CONQS}; do echo -n "C=${C} : " ${AB} -c ${C} "${URL}" 2&gt;&amp;1 | grep "Transfer rate:" | awk '{print $3}' done done CONQS="1 2 4 10 100" AB="ab -d -k -n 100" for P in ${PREFS}; do URL="${P}/plain/test.bin" echo ${URL} for C in ${CONQS}; do echo -n "C=${C} : " ${AB} -c ${C} "${URL}" 2&gt;&amp;1 | grep "Transfer rate:" | awk '{print $3}' done done</span></span></code> </pre> </div></div><br><h5>  Round One - Static HTML File </h5><br>  Here and further, the speed is indicated in kilobytes per second, as it is given by ab, that is, 20,000 kB / sec is 20 MB / s <br>  / cXX shows the number of concurrency sessions. <br><img src="https://habrastorage.org/storage2/5ec/231/944/5ec231944b9b806b69dca9c22becc461.png"><br>  The lag of i.MX-systems is very surprising.  Yes, they give 100 megabits (and for my tasks this is enough), even as many as 500, but why not gigabits like Atom?  A simple task, about which they say "how to send two bytes."  Replaced patchcord, port, different settings in the core - the same thing.  Then I rummaged through the specialized forums, and the ambush ‚Äî this, it turns out, is a <a href="https://community.freescale.com/thread/302389">hardware bug</a> that cannot be cured by software. <br><br><h5>  Round Two - static HTML file with compression </h5><img src="https://habrastorage.org/storage2/ff2/f03/b0e/ff2f03b0e213c572750070d6b0ba5525.png"><br>  Atom-s confidently win.  X32 ABI shows a slight advantage. <br><br><h5>  Round three - static HTML file with RC4 compression and encryption </h5><br><img src="https://habrastorage.org/storage2/d1d/bcb/af3/d1dbcbaf365c1b8bed4eaed8f2ef6dd0.png"><br>  Round again for Atom-s.  Huge superiority x64 over x86.  A noticeable increase in the new-fashioned x32 ABI. <br><br><h5>  Round Four - Static HTML file with AES-256 compression and encryption </h5><br><img src="https://habrastorage.org/storage2/90e/883/a71/90e883a7102b70259aacafc3faaa11ce.png"><br>  64-bit Atom's ahead.  Completely inexplicable "shoots" x64 system.  i.MX is a bit ahead of x86! <br><br><h5>  Round Five - JPEG file </h5><br><img src="https://habrastorage.org/storage2/2b3/04a/447/2b304a447d4c6ed07aa6a863c277a8eb.png"><br><br><h5>  Round Six - jpeg file with RC4 encryption </h5><br><img src="https://habrastorage.org/storage2/ca0/068/dad/ca0068dad6563cfab4816ce4c8993231.png"><br><br><h5>  Round Seven - AES-256 JPEG Encryption File </h5><br><img src="https://habrastorage.org/storage2/5b9/0f6/96c/5b90f696cc801fa05aeac3cac22f0b09.png"><br><br><h5>  Round Eight - Large 100MB File </h5><br>  Then the first knockdown occurred - i.MX began to constantly hang.  Touched the lid, very hot, according to the sensors - 73 ¬∞. <br><div class="spoiler">  <b class="spoiler_title">Pasted radiator</b> <div class="spoiler_text"><img src="https://habrastorage.org/storage2/841/7a2/fbd/8417a2fbd8de1eda58a71f68926c6974.jpg"></div></div>  The remaining three rounds were no problem. <br><br>  In principle, they could not have been carried out, since the results completely coincide with the tests of JPEGs, which, in turn, are similar to the test with static HTML. <br><br><h4>  results </h4><br>  Atom wins on points. <br><br>  But it turns out, for my ambitious tasks in the form of blocking a 100-megabit channel, the i.MX is enough for 400MHz.  Well, the frontend (distributing compressed and encrypted HTML) is not for him yet. <br>  If you believe the statements of ARM regarding the performance of the A15, including the memory subsystem, then the Cortex-A15 would probably be the winner. </div><p>Source: <a href="https://habr.com/ru/post/184794/">https://habr.com/ru/post/184794/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../184780/index.html">Samsung Galaxy S4 and HTC One are available for order on Google Play</a></li>
<li><a href="../184786/index.html">How do you make a living,% username%?</a></li>
<li><a href="../184788/index.html">How Yandeks.Pochta began to understand what you need</a></li>
<li><a href="../184790/index.html">PocketBook has released a new 5-inch reader with "electronic ink"</a></li>
<li><a href="../184792/index.html">Ukrainian police seized VKontakte caching servers in a third-party investigation</a></li>
<li><a href="../184796/index.html">Luminol chemiluminescence / what's inside the ‚Äúglowing sticks‚Äù?</a></li>
<li><a href="../184800/index.html">Entertaining C ++: Compile Time Counter</a></li>
<li><a href="../184802/index.html">Opera Software has a certificate stolen and malware signed to it</a></li>
<li><a href="../184804/index.html">What are looking for with the word "urgent"</a></li>
<li><a href="../184812/index.html">Raising Junior</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>