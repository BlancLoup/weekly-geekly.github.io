<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Create a multilanguage blog using OctoberCMS - Part 2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the last article, we made a multilingual website with navigation and static pages. In this article we will finish the creation of the site, adding ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Create a multilanguage blog using OctoberCMS - Part 2</h1><div class="post__text post__text-html js-mediator-article"><p>  In the <a href="https://habrahabr.ru/post/305802/">last article,</a> we made a multilingual website with navigation and static pages.  In this article we will finish the creation of the site, adding to his blog. </p><br><p>  What we have to do: </p><br><ul><li>  Blog page - contains a list of posts and categories; </li><li>  Page view post; </li><li>  Browse category page; </li><li>  Displays the last post on the main page. </li></ul><br><p><img src="https://habrastorage.org/files/e53/c32/ff8/e53c32ff8b944943b204b693c361a8f1.png" alt="image"></p><br><a name="habracut"></a><br><p>  In addition to those plugins that we have already used, we will need another one - the <a href="http://octobercms.com/plugin/rainlab-blog">RainLab Blog plugin</a> .  This is a flexible blog platform that uses Markdown to create and edit posts. </p><br><p>  With the help of the "Translate" plugin, we can make our blog completely multilingual: you can translate categories, headlines, and any site content.  All that will be described in this article is in the official <a href="http://octobercms.com/plugin/rainlab-blog">documentation</a> for the plugin. </p><br><p>  Before continuing, install the "Blog" plugin.  Create and publish several posts for test purposes. </p><br><h3>  Creating a blog page </h3><br><p>  This page will display a list of published posts, pagination and a list of categories.  Flat UI theme already contains a demo blog page with demo content that we take as a basis. </p><br><p>  The Blog plugin provides <a href="http://octobercms.com/docs/cms/components">the Post list component</a> , which displays a list of posts (both full and in a specific category). </p><br><p> Go to the admin area and open the <code>blog/blog</code> page in the editor.  Delete all unnecessary content like "Blog post # 1", "Pagination". </p><br><p>  Open the list of components, find the <code>Post list</code> and transfer it to the editor, to the place where you just deleted the demo content.  If done correctly, you will see the following: </p><br><pre> <code class="hljs django"><span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"col-sm-9"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-template-tag"><span class="hljs-template-tag">{% </span><span class="hljs-name"><span class="hljs-template-tag"><span class="hljs-name">component</span></span></span><span class="hljs-template-tag"> 'blogPosts' %}</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"clearfix"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br><p>  Since we need pagination, we will add the necessary parameter to the <a href="http://octobercms.com/docs/cms/pages">URL template of the</a> page.  Replace URL value with <code>url = "/blog/:page?"</code>  .  The <code>:page</code> parameter <code>:page</code> defined by <a href="http://octobercms.com/docs/cms/components">the</a> Post list <a href="http://octobercms.com/docs/cms/components">component</a> . </p><br><p>  Note that many plugin components allow you to use custom URL parameters.  This means that instead of <code>:page</code> you may have another parameter.  This can be done by changing the configuration of the desired component (in this case, the Post list). </p><br><p>  Save the page and click the <code>Preview</code> button.  If you did everything right, then you will see a page with a blog and pagination. </p><br><p><img src="https://habrastorage.org/files/4aa/931/2c3/4aa9312c3c8e47738c97a6782adda2e1.png" alt="image"></p><br><p>  If you don‚Äôt like the standard blog layout, then October allows you to <a href="http://octobercms.com/docs/cms/components">override</a> it.  You can also place a "caret" for input on the word <code>component</code> and click on the component expansion button in the upper left corner of the editor.  This will add the component markup directly to the editor, where you can edit it as you like.  This feature is relevant for all components in October CMS. </p><br><h3>  Category List </h3><br><p>  Our theme has a <code>blog/sidebar</code> template that displays a list of categories.  Now it contains demo content.  Remove it. </p><br><p>  Open the <code>blog/sidebar</code> in the admin and delete the entire UL tag.  Find the <code>Category List</code> in the component list and drag it to the location from which you just removed the UL: </p><br><pre> <code class="hljs django"><span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"panel panel-default"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"panel-heading"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> Categories </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-template-tag"><span class="hljs-template-tag">{% </span><span class="hljs-name"><span class="hljs-template-tag"><span class="hljs-name">component</span></span></span><span class="hljs-template-tag"> 'blogCategories' %}</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br><p>  Save the template and go to the <code>/blog</code> page.  Now the sidebar displays a list of categories, but the links in the list do not yet lead anywhere.  Now we fix it. </p><br><h3>  Create a category page </h3><br><p>  Our theme does not contain a category page, so we will create it from scratch.  On it we will display a list of posts that belong to the selected category. </p><br><p>  Go to the admin area, go to the Pages page and click on <code>Add</code> .  In the <code>Title</code> field, enter "Blog category", and in the URL field - <code>/blog/category/:slug/:page?</code>  (URL template taken from the <a href="http://octobercms.com/plugin/rainlab-blog">official documentation</a> for the plugin).  Then in the file name, type <code>blog/category</code> , select <code>default</code> in the list of templates and save the file. </p><br><p>  Copy the markup code from the blog's main page and add it to the category page.  We added the Post list component on the main blog page, so here we need to do it again.  In the list of components, select Post list and add to the page you want. </p><br><p><img src="https://habrastorage.org/files/ffe/8e3/91b/ffe8e391ba29472a81968b77e9670654.png" alt="image"></p><br><p>  The Post list component must be configured to display posts of only a specific category.  The category we need will be passed through the parameter <code>:slug</code> in the URL.  Click on the component, and then on the icon&gt; _ in the <code>Category filter</code> and enter there <code>:slug</code> .  Save the page. </p><br><p>  To display the category name on the page, you need to replace </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span><span class="hljs-tag">&gt;</span></span>Blog<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  on </p><br><pre> <code class="hljs django"><span class="xml"></span><span class="hljs-template-tag"><span class="xml"></span><span class="hljs-template-tag">{% </span><span class="hljs-name"><span class="hljs-name"><span class="hljs-template-tag"><span class="hljs-name"><span class="hljs-name">if</span></span></span></span></span><span class="hljs-template-tag"> not category %}</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Category not found</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-template-tag"><span class="hljs-template-tag">{% </span><span class="hljs-name"><span class="hljs-name"><span class="hljs-template-tag"><span class="hljs-name"><span class="hljs-name">else</span></span></span></span></span><span class="hljs-template-tag"> %}</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span><span class="hljs-template-variable"><span class="hljs-template-variable">{{ category.name }}</span></span><span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-template-tag"><span class="hljs-template-tag">{% </span><span class="hljs-name"><span class="hljs-name"><span class="hljs-template-tag"><span class="hljs-name"><span class="hljs-name">endif</span></span></span></span></span><span class="hljs-template-tag"> %}</span></span><span class="xml"></span><span class="xml"></span></code> </pre> <br><p>  You can use a similar condition to hide the list of posts if it is empty. </p><br><p>  Return to the main page and click on the Post list component.  Expand the property list, locate the "Category page" in it and select the page of the category you just created.  Close and save the template.  The same thing needs to be done with the Category list component in the sidebar. </p><br><p>  Go to the blog page and see how categories work. </p><br><h3>  Creating a post page </h3><br><p>  This page is already in the subject, so you just need to add the component to the right place.  Go to the admin area and open the <code>blog/post</code> in the editor, then delete the unnecessary code under <code>Blog post #1</code> and <code>Pagination</code> . </p><br><p>  The Blog plugin has a Post component that shows the desired post by parameter in the URL.  Drag the component from the list to the place where you just deleted the html. </p><br><p>  By default, the parameter in the URL is called <code>slug</code> .  In the URL box, enter <code>/blog/post/:slug</code> and save the page.  Also replace <code>&lt;h3&gt;Blog post&lt;/h3&gt;</code> with <code>&lt;h3&gt;{{ post.title }}&lt;/h3&gt;</code> . </p><br><p>  After that, go to the blog, open any post and make sure that everything works correctly. </p><br><p>  In order to display the message ‚ÄúPost not found‚Äù, we can use the following condition: </p><br><pre> <code class="hljs django"><span class="xml"></span><span class="hljs-template-tag"><span class="xml"></span><span class="hljs-template-tag">{% </span><span class="hljs-name"><span class="hljs-name"><span class="hljs-template-tag"><span class="hljs-name"><span class="hljs-name">if</span></span></span></span></span><span class="hljs-template-tag"> post %}</span></span><span class="xml"><span class="xml"> Normal blog post markup- </span></span><span class="hljs-template-tag"><span class="hljs-template-tag">{% </span><span class="hljs-name"><span class="hljs-name"><span class="hljs-template-tag"><span class="hljs-name"><span class="hljs-name">else</span></span></span></span></span><span class="hljs-template-tag"> %}</span></span><span class="xml"><span class="xml"> Post not found message </span></span><span class="hljs-template-tag"><span class="hljs-template-tag">{% </span><span class="hljs-name"><span class="hljs-name"><span class="hljs-template-tag"><span class="hljs-name"><span class="hljs-name">endif</span></span></span></span></span><span class="hljs-template-tag"> %}</span></span><span class="xml"></span><span class="xml"></span></code> </pre> <br><h3>  Show the latest posts on the main page </h3><br><p>  To display the latest posts on the main page, we will use the Post list component already familiar to us.  It allows you to specify a limit for displayed posts, which is set by the <code>postsPerPage</code> property. </p><br><p>  Go to the admin area and open the main page in the editor;  drag the component to the desired location: </p><br><pre> <code class="hljs django"><span class="xml"><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- Latest blog post --&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Latest from the blog</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-template-tag"><span class="hljs-template-tag">{% </span><span class="hljs-name"><span class="hljs-template-tag"><span class="hljs-name">component</span></span></span><span class="hljs-template-tag"> 'blogPosts' %}</span></span><span class="xml"></span><span class="xml"></span></code> </pre> <br><p>  Open the component's properties and change the value of <code>postsPerPage</code> to 1. </p><br><p><img src="https://habrastorage.org/files/64f/132/de7/64f132de767d4f3a9712369b79a10288.png" alt="image"></p><br><p>  Save the page and go to the main page, check whether you did everything correctly. </p><br><p>  To hide the pagination that the component displays by default, you can use css: </p><br><pre> <code class="hljs swift">.page-home { .pagination { display: <span class="hljs-keyword"><span class="hljs-keyword">none</span></span>; } }</code> </pre> <br><p>  You can also override <a href="http://octobercms.com/docs/cms/components">the component template</a> or simply open the component code and remove all unnecessary from there. </p><br><h3>  Translation of blog posts </h3><br><p>  We don‚Äôt need much time to make a blog translatable.  In the last article, we set up the Translate plugin, so you just need to select the desired language while writing the post. </p><br><p><img src="https://habrastorage.org/files/235/9a8/c30/2359a8c303b84e86a62fb75c07b11f32.png" alt="image"></p><br><p>  This is where we finish creating the blog.  Wait for new lessons in which we will tell you how to set up a working environment.  Thanks for attention. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/307726/">https://habr.com/ru/post/307726/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../307714/index.html">Basics of computer networks. Subject number 2. Top level protocols</a></li>
<li><a href="../307718/index.html">PHP Digest number 90 - interesting news, materials and tools (August 1 - 14, 2016)</a></li>
<li><a href="../307720/index.html">Elixir: What does OOP look like in a functional language?</a></li>
<li><a href="../307722/index.html">The digest of fresh materials from the world of the frontend for the last week ‚Ññ223 (August 8 - 14, 2016)</a></li>
<li><a href="../307724/index.html">N + 5 useful books</a></li>
<li><a href="../307732/index.html">Barcode Recognition and QR Codes in UWP Applications</a></li>
<li><a href="../307734/index.html">Systematic vulnerability of sites created on CMS 1C-Bitrix</a></li>
<li><a href="../307736/index.html">What the IT manager needs to know or learn the light, and you have to pay for the light</a></li>
<li><a href="../307738/index.html">How trading on the exchange actually works, and how it can be improved: A simple algorithm (part 4)</a></li>
<li><a href="../307740/index.html">10 proven ways to reduce productivity</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>