<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Apache Ignite vs Oracle DBMS</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Apache Ignite is a distributed database in memory, such databases are spreading and I want to compare it with what is already and has established itse...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Apache Ignite vs Oracle DBMS</h1><div class="post__text post__text-html js-mediator-article">  Apache Ignite is a distributed database in memory, such databases are spreading and I want to compare it with what is already and has established itself, for example, the Oracle relational DBMS.  Ignite has extensive distributed computing capabilities, there is also support for SQL at the ANSI-99 level, and in SQL performance, I want to make some comparison.  Database tuning will be in both cases largely by default, in the case of Oracle it is XE, and in the case of Ignite it is two nodes on the same computer.  Computer i5 7400 (4-core) 3.5GHz, 8GB of RAM, SSD disk. <br>  As test data I will use KLADR data (~ 223 thousand records) as the execution environment for DBeaver queries in which two connections to Ignite and Oracle are configured.  And the first thing I will do is import the data into the tables, I will transfer the KLADR data from the DBF to CSV, and then with the help of DBeaver I will perform the import into the tables. <br><a name="habracut"></a><br><img src="https://habrastorage.org/webt/lq/bg/ig/lqbgigqnlnvju-6iiq8gr0bmkoc.png"><br><br>  Ignite is also configured to store data in persistent storage. <br>  config \ default-config.xml <br><br><pre><code class="xml hljs"><span class="hljs-comment"><span class="hljs-comment">&lt;!-- Enabling Apache Ignite Persistent Store. --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"dataStorageConfiguration"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bean</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"org.apache.ignite.configuration.DataStorageConfiguration"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"defaultDataRegionConfiguration"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bean</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"org.apache.ignite.configuration.DataRegionConfiguration"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"persistenceEnabled"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bean</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bean</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Kladr table structure 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> Kladr ( <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span> <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>, CODE <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>, SOCR <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">INDEX</span></span> <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>, PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> (CODE)) <span class="hljs-keyword"><span class="hljs-keyword">WITH</span></span> <span class="hljs-string"><span class="hljs-string">"affinityKey=CODE"</span></span>;</code> </pre> <br>  affinityKey = CODE - means that the data in Ignite will be distributed on the partition and also distributed on two nodes.  Two nodes are provided by running two instances of Ignite. <br>  Another not big SOCRBASE table is a reference book of abbreviations, it has another storage rule in a distributed network. <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> Socrbase ( <span class="hljs-keyword"><span class="hljs-keyword">LEVEL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LONG</span></span>, SCNAME <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>, SOCRNAME <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>, KOD_T_ST <span class="hljs-keyword"><span class="hljs-keyword">LONG</span></span>, PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> (KOD_T_ST)) <span class="hljs-keyword"><span class="hljs-keyword">WITH</span></span> <span class="hljs-string"><span class="hljs-string">"template=replicated"</span></span>;</code> </pre><br>  WITH "template = replicated" - the table will be in full on each node.  Then each node when receiving a join request can connect its data with this directory, with a different storage model, it would be necessary to ensure the consistency of partition tables. <br><br>  Here are two running nodes <br>  first: <br><br><img src="https://habrastorage.org/webt/oy/hd/mi/oyhdmiu3glrnkoe7s3e7tjfghse.png"><br><br>  second: <br><br><img src="https://habrastorage.org/webt/b6/or/mu/b6ormu37fvi_15vpfiahnoc1wfq.png"><br><br>  For Orcale, the structure is the same, except for partition. <br><br>  Persistent - the Ignite repository on disk looks like a distribution across partitions (files), for a total of 1024 for each node, i.e.  all data for the node is distributed in 1024 blocks, some of which are on the first node, and others on the second. <br><br>  Single node example <br><br><img src="https://habrastorage.org/webt/6g/xb/he/6gxbhej1bfzdmynvdmncje1d6rg.png"><br><br>  During the execution of queries, Ignite will make a distributed query on nodes, which in turn will collect the data that they have, then the data will be consolidated and sent to the final sample. <br><br>  So the first is to import data using DBeaver from CSV, 223 thousand records.  Here is the first result. <br><table border="1"><tbody><tr><td colspan="2">  Data import 223 thousand records (KLADR) </td></tr><tr><td>  Ignite <b>12 min</b> </td><td>  Oracle 5 sec. </td></tr></tbody></table><br>  Next, I will perform several simple requests for data search for comparison, I will take the second execution in a row for the result (it is always less for two databases). <br><br><table border="1"><tbody><tr><td colspan="2">  Get 100 KLADR records for any 100 CODE, there is an index for CODE <br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> KLADR <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> code <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> ( <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> code <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> KLADR k <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> k.<span class="hljs-string"><span class="hljs-string">"INDEX"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">limit</span></span> <span class="hljs-number"><span class="hljs-number">100</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">LIMIT</span></span> <span class="hljs-number"><span class="hljs-number">100</span></span>;</code> </pre><br></td></tr><tr><td>  Ignite 30 ms. </td><td>  Oracle 6 ms. </td></tr></tbody></table><br><br><table border="1"><tbody><tr><td colspan="2">  Get 100 KLADR records for any 100 NAME, no index for NAME <br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> KLADR <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> ( <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> KLADR k <span class="hljs-keyword"><span class="hljs-keyword">limit</span></span> <span class="hljs-number"><span class="hljs-number">100</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">LIMIT</span></span> <span class="hljs-number"><span class="hljs-number">100</span></span>;</code> </pre><br></td></tr><tr><td>  Ignite 80 msec. </td><td>  Oracle 6 ms. </td></tr></tbody></table><br><br><table border="1"><tbody><tr><td colspan="2">  Count the number of subjects in the region <br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(*) <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> KLADR <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> CODE <span class="hljs-keyword"><span class="hljs-keyword">like</span></span> <span class="hljs-string"><span class="hljs-string">'02%'</span></span></code> </pre><br></td></tr><tr><td>  Ignite 30 ms. </td><td>  Oracle 6 ms. </td></tr></tbody></table><br><br><table border="1"><tbody><tr><td colspan="2">  The number of subjects in the region is over 1000 <br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SUBSTR</span></span>(k.code, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(k.code) <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> KLADR k <span class="hljs-keyword"><span class="hljs-keyword">GROUP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SUBSTR</span></span>(k.code, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">HAVING</span></span> <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(k.code) &gt; <span class="hljs-number"><span class="hljs-number">1000</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SUBSTR</span></span>(k.code, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)</code> </pre><br></td></tr><tr><td>  Ignite 150 ms. </td><td>  Oracle 60 ms. </td></tr></tbody></table><br><br><table border="1"><tbody><tr><td colspan="2">  Join request.  Get 100 first level subjects <br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> k.* <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> KLADR k <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> SOCRBASE s <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> k.SOCR = s.SCNAME <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> s.<span class="hljs-string"><span class="hljs-string">"LEVEL"</span></span> = <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LIMIT</span></span> <span class="hljs-number"><span class="hljs-number">100</span></span>;</code> </pre><br></td></tr><tr><td>  Ignite 280 ms. </td><td>  Oracle 2 msec. </td></tr></tbody></table><br><br><table border="1"><tbody><tr><td colspan="2">  Join request.  Number of subjects at levels <br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> s.<span class="hljs-string"><span class="hljs-string">"LEVEL"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">count</span></span>(k.code) <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> KLADR k <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> SOCRBASE s <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> k.SOCR = s.SCNAME <span class="hljs-keyword"><span class="hljs-keyword">GROUP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> s.<span class="hljs-string"><span class="hljs-string">"LEVEL"</span></span>;</code> </pre><br></td></tr><tr><td>  Ignite <b>13 sec.</b> </td><td>  Oracle 140 ms. </td></tr></tbody></table><br>  Yes, in the latter case, it is 13 seconds.  showed Ignite request that something is not all good with join, although the introduction of the data limiting condition reduces this time. <br><br>  Probably these comparisons are enough, I will not do until the conclusion, I will continue to study Ignite ... <br><br>  Materials: <br><br>  Ignite <br>  <a href="https://apacheignite.readme.io/docs/getting-started">Getting Started</a> <br>  <a href="https://apacheignite.readme.io/docs/getting-started-sql">Getting Started SQL</a> <br><br></div><p>Source: <a href="https://habr.com/ru/post/346262/">https://habr.com/ru/post/346262/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../346252/index.html">Cheat Sheet by OTP (Erlang)</a></li>
<li><a href="../346254/index.html">Preparing a working environment for the Erlang project</a></li>
<li><a href="../346256/index.html">Tanchiki in the console, article three: "Server and client"</a></li>
<li><a href="../346258/index.html">Writing a Python clicker bot for Lineage 2</a></li>
<li><a href="../346260/index.html">Calculations on the video card, manual, easy level</a></li>
<li><a href="../346264/index.html">Technical Debt Management</a></li>
<li><a href="../346266/index.html">The effect of group polarization and its mathematical modeling</a></li>
<li><a href="../346268/index.html">Physical simulation on the GPU using the compute shader in the Unity3D environment</a></li>
<li><a href="../346270/index.html">We work with smart cards using Python (part 1)</a></li>
<li><a href="../346272/index.html">"Simple" python programming</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>