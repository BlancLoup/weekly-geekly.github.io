<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Learn the language by watching serials: vlc + lua + stardict + wordnet + anki = l'amour</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I really like to watch serials, and I also learn languages ‚Äã‚Äãwith their help. And if earlier I diligently stopped the video on an incomprehensible pla...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Learn the language by watching serials: vlc + lua + stardict + wordnet + anki = l'amour</h1><div class="post__text post__text-html js-mediator-article">  I really like to watch serials, and I also learn languages ‚Äã‚Äãwith their help.  And if earlier I diligently stopped the video on an incomprehensible place, rewound it back, turned on the subtitles and scored unfamiliar words in Anki, now I am doing the same.  Is that too lazy to automate this process, which led to the creation of the Say It Again extension for the VLC player with the following features: <br><br><ul><li>  Navigating subtitles (go to the previous, next phrase) - keys <b>y</b> , <b>u</b> ; </li><li>  Saving a word, its transcription and translation together with the context (see screenshot) - the <b>i</b> key; </li><li>  The "Once again" function: go to the previous phrase, display the subtitle and pause - the <b>backspace</b> key; </li><li>  Connection of any dictionaries in Stardict format ( <a href="https://www.google.com/search%3Fq%3Dlingvo%2Bx3%2Bstardict%2Btorrent">dictionaries from Lingvo x3</a> are online); </li><li>  Export to Anki or another program that understands files in csv format; </li></ul><br><br><div style="text-align:center;"><img src="https://habrastorage.org/storage2/d35/861/1c1/d358611c188d31d6507b72ef28b705c9.png" alt="Say It Again screenshot"></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><h4>  But why? </h4><br>  At some point, I realized that watching TV shows with the included subtitles stopped giving tangible results (except for speeding up reading).  But, turning off the subtitles, I came across a flurry of incomprehensible words.  I had to rewind the video back (of <i>course, either not enough or too far from the right place</i> ), include subtitles, stop playback, search for unfamiliar words in the dictionary, write them in a separate file, then score in Anki (sometimes with context, a phrase from the movie!) - in general, hemorrhoids.  Hence the idea of ‚Äã‚Äãexpansion, which I use today, and which I want to share with the public.  It allows you to automate the process of saving words with context to a text file of this type: <br><div class="spoiler">  <b class="spoiler_title">Sample export file</b> <div class="spoiler_text"><code>desecrate [Ààdes…™kre…™t] , ,  You've desecrated my owls. Weeds S07E12 <br></code> <br></div></div><br><br><h4>  How to use it? </h4><br>  In fact, not the most user-friendly process, but there's nothing you can do.  The script was tested on VLC 2.0.5 under Windows. <br><ol><li>  Download the latest version of the <a href="https://github.com/zm33y/vlc-lua-sia">say_it_again.lua</a> script from GitHub ( <a href="https://github.com/zm33y/vlc-lua-sia/zipball/master">direct link</a> ) </li><li>  Copy it, depending on the platform, into <i>% ProgramFiles% \ VideoLAN \ VLC \ lua \ extensions</i> or <i>/ usr / share / vlc / lua / extensions</i> . </li><li>  We are looking for and download the dictionary in Stardict format ( <a href="https://www.google.com/search%3Fq%3Dlingvo%2Bx3%2Bstardict%2Btorrent">copyright? No, not heard</a> ).  Personally, I like the Oxford American Dictionary. </li><li>  Unpack it.  As a result, you should get three files to the dictionary: * .idx, * .dict, * .ifo.  If instead of * .dict we have * .dz, then unpack it too - this is a regular zip. </li><li>  Download <a href="">the WordNet database</a> and also unpack them somewhere. </li><li>  Edit <i>say_it_again.lua</i> , changing <i>dict_dir, wordnet_dir, chosen_dict</i> . <br><div class="spoiler">  <b class="spoiler_title">Settings example</b> <div class="spoiler_text"><img src="https://habrastorage.org/storage2/c56/86c/330/c5686c330959eb617d40cef9b3d96998.png"><br></div></div></li><li>  Run VLC, open the video file, next to which lies the subtitle file in srt format;  turn on the View menu - Say It Again. </li><li>  Voil√† - use the buttons y, u, i and backspace for appropriate actions (see above) </li></ol><br>  You can do without dictionaries ( <i>dict_dir = nil, chosen_dict = nil</i> ), but then the word will have to be hammered with hands, and there will be no transcription - the meaning of automation is lost. <br>  You can also not connect wordnet ( <i>wordnet_dir = nil</i> ), but then the normalization of words will not work - the word <i>was</i> will not find the verb <i>be</i> in the dictionary. <br><br><h4>  Technical aspect - VLC and Lua </h4><br>  Starting with version 1.1, it seems, the VLC player allows you to extend its functionality with the help of Lua scripts.  To do this, the extension must meet certain requirements (some are optional, but VLC will swear): <br><ol><li>  Return your description as a table with the descriptor () function.  The format of the table can be viewed in the finished scripts in <a href="http://addons.videolan.org/index.php%3Fxcontentmode%3D903">the vlc addons repository</a> ; </li><li>  Have functions activate (), deactivate (); </li><li>  Depending on the <i>capabilities</i> specified in the description table, the functions needed are input_changed (), meta_changed (), menu (), trigger_menu (); </li><li>  The maximum can be one dialog box for the extension.  Hacking with the removal and re-creation of a dialogue again leads to VLC crashes. </li></ol><br>  In general, it must be said that the extension mechanism is rather crude, and VLC falls without warning literally from any sneeze.  Here are some points that I noted for myself: <br><ul><li>  To handle periodic events instead of polling, it is better to subscribe to an <i>intf-event</i> . </li><li>  The callback handler must be ‚Äúshort‚Äù, i.e.  it should not have time-consuming operations.  Taking into account the fact that parallelism in the already inclined system I didn‚Äôt want to contribute, I had to invent a small hack: at the beginning of the handler to unsubscribe from the events, and at the end to subscribe again. </li><li>  In general, <a href="http://www.lua.org/pil/9.1.html">coroutines</a> work. </li><li>  The best way to have several different dialogues that I found is to clear the current one and fill it with controls depending on the task. </li></ul><br><h4>  Working with Stardict and WordNet formats, as well as exporting to Anki </h4><br>  Description of formats Stardict and WordNet led <a href="https://habrahabr.ru/users/bienne/" class="user_link">Bienne</a> in <a href="http://habrahabr.ru/post/161073/">his article</a> , so I will not repeat.  Export to Anki works through a csv file.  The sequence of the fields in it is hardcoded in accordance with the following card model (or, as it is now called, Note Type): <br><div class="spoiler">  <b class="spoiler_title">View screenshots</b> <div class="spoiler_text"><img src="https://habrastorage.org/storage2/666/898/8d9/6668988d997ec68c5728a22ccca51f0a.png"><br><img src="https://habrastorage.org/storage2/ca0/6a9/6eb/ca06a96eb53cc884bb491ac42ee7756e.png"><br><img src="https://habrastorage.org/storage2/8e9/985/54d/8e998554d9a55a28283e8a561abc09ab.png"><br>  Import process: <br><img src="https://habrastorage.org/storage2/25a/7c6/648/25a7c6648ecf4d8a70090aa1f915e8ab.png"><br></div></div><br><h4>  Epilogue </h4><br>  The extension was created for own needs, and its concept changed in the process of writing and use.  From here follows a slightly chaotic code and a frightening appearance.  Nevertheless, I hope that these developments will seem interesting to someone. <br><br><h4>  Upd </h4><br>  Now it works on Linux (tested in Ubuntu 12.10 64bit; vlc 2.0.5). </div><p>Source: <a href="https://habr.com/ru/post/169351/">https://habr.com/ru/post/169351/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../169339/index.html">What's wrong with your open source project</a></li>
<li><a href="../169341/index.html">redmine_wiki_encryptor - wiki data encryption plugin Redmine</a></li>
<li><a href="../169343/index.html">John Resig: WebKit is jQuery for browser engines</a></li>
<li><a href="../169347/index.html">Theory of Relativity in Pictures</a></li>
<li><a href="../169349/index.html">Opening a company in a foreign jurisdiction for an IT person, freelancer, mobile application developer</a></li>
<li><a href="../169353/index.html">Debugger features in Xcode 4.5</a></li>
<li><a href="../169355/index.html">Doodle from Google for Valentine's Day</a></li>
<li><a href="../169359/index.html">Crossbrowser customization of the system scrollbar</a></li>
<li><a href="../169367/index.html">Pirate Bay threatens to sue right-traders who copied The Pirate Bay website design</a></li>
<li><a href="../169369/index.html">ASUS Vivo Tab RT TF600TG tablet review</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>