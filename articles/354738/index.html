<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Municipal Moira or What affects the career of an official</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr! As promised in a previous post about Why So Serious Hack , we prepared the following story in this series. This time we will talk about the ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Municipal Moira or What affects the career of an official</h1><div class="post__text post__text-html js-mediator-article">  Hi, Habr!  As promised in a previous post about <a href="https://habr.com/company/spbau/blog/354150/">Why So Serious Hack</a> , we prepared the following story in this series.  This time we will talk about the hackathon <a href="http://munhack.ru/">"Municipal moirs"</a> , which was held April 21-22 by the European University in St. Petersburg. <br><br> <a href="https://habrahabr.ru/post/354738/"><img src="https://habrastorage.org/webt/e3/tq/md/e3tqmdttfdtihwtamrrtllmomb0.jpeg"></a> <br><a name="habracut"></a><br><h4>  Introduction </h4><br>  Coincidentally, this hackathon was also unusual and very similar to Why So Serious Hack.  But this is not surprising, given that the organizers overlapped, and the same person was responsible for the technical part of both events.  That's why we decided to write about it now, while our memories of the hackathon are fresh, and yours about the previous post. <br><br>  But for those who have not read the previous article, I repeat about the format of such competitions.  They do not need to invent and implement the idea of ‚Äã‚Äãyour project.  Instead, competitors are asked questions on data analysis, to which they must respond in 24-48 hours. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In addition to the questions, the organizers provide data on which it is proposed to train models that predict certain target values.  Knowing the accuracy of the model on a closed test sample, it is possible to test hypotheses regarding the original data.  This helps the participants to understand in which direction to think, and can confirm the findings, provided good accuracy. <br><br>  The quality of their models can be checked using the testing system.  No, not on kaggle, as many of you most likely assumed, but with the help of a bot in a telegram!  A place in the leaderboard does not determine the winner, but affects the order of performance of the teams.  Better soon - before the presentation.  The prize-winning place is appointed by the jury on the basis of the depth, quality, originality and elaboration of the team‚Äôs response to the question.  But I will tell you about this in more detail later. <br><br><h4>  Hackathon organization </h4><br>  Like last time, let's start with a couple of words about how the hackathon was organized. <br><br>  The event was held in the building of the European University.  Unfortunately, there were no designated areas for overnight, but since the hackathon lasted 30 hours, this was not a big problem.  There was no high-grade food at the site either, but the organizers provided a room with tea, coffee, cakes and cookies.  This all sounds not like the description of a top hackathon, but knowing the current difficult situation at the EUSP, they can forgive all this. <br><br>  The prize fund was 100,000 rubles, and only one team could receive it. <br><br><h4>  Case and solution </h4><br>  The team of the Res Publica Center of the EUSPb, which organizes the event, conducts a study of the quality of municipal government and its dynamics in Russia from 2007 to 2018. <br><br>  So, the hackathon participants had to answer the question, on which the career path of the heads of cities and regions depends.  It is assumed that the resignation of the head of the municipality is an indicator of the inefficiency of his work, and career advancement to higher levels - on the contrary.  In our opinion, this is logical and should be so in fact (spoiler: no). <br><br>  As data for predicting career trajectories of officials, it was suggested to use their biographical data, as well as various indicators from the database of municipalities.  For example, the general condition of the roads or the number of hospitals. <br><br>  The participants had a history of heads of municipalities over an 18-year period.  Each entry in the dataset told about the state of the head‚Äôs career in a particular year, namely, it contained the following fields: year and region of work, municipality, job title, gender and age of a person, level and field of education, current career status and others. <br><br>  The data was anonymized, but if desired, they could be recovered.  This was considered a violation of the rules and was punished by disqualification. <br><br>  The most interesting field here is the state of the career, since it was this field that needed to be predicted.  The state of the career of a chapter is described not only by three meanings (‚Äúappointed to the position‚Äù, ‚Äúworks‚Äù, ‚Äúdismissed from the position‚Äù), which would be logical to assume, but much more diverse and detailed set.  For example, the head of the Ministry of Defense could resign from office for health reasons, or in connection with a criminal case brought against him.  There were 13 such categories in total. <br><br>  A typical example of a career trajectory chapter: <br><br><img src="https://habrastorage.org/webt/az/l2/mc/azl2mckrm_ctpb_l95vosjt1ucc.png" alt="A typical example of a career trajectory chapter"><br><br>  Since some readers of the previous post asked for more technical issues, we will tell you a little about them. <br><br>  First, I‚Äôll clarify that it was necessary to predict career trajectories not for future years, but for other candidates living in parallel.  But in our opinion, this is a much more boring task than predicting the future.  However, the rules are set by the organizer. <br>  We settled on the one-vs-rest model, that is, when we build a separate classifier for each class.  As a response to the sample, choose the class whose model is more confident that the example belongs to this class. <br><br>  Having studied the data a bit, we paid attention to the frequency of the appearance of the category ‚Äúvictory in elections‚Äù depending on the year.  The picture clearly shows the peaks in every fifth year.  And it seems quite logical if most candidates are often chosen for the next 5 years. <br><br><img src="https://habrastorage.org/webt/98/ie/ij/98ieijefiy344w7kfsfmg2gi_oa.png"><br><br>  Next, we decided to see how the categories are distributed depending on the region.  To get the picture below, we first normalized everything in columns, and then in rows. <br><br> <a href=""><img src="https://habrastorage.org/webt/0t/m4/dr/0tm4drqniddr6pof46krkaokcze.png"></a> <br><br>  From the hitmaps above it can be seen that some cells stand out strongly compared to the others.  For example, in the Republic of Udmurtia, posts are eliminated much more often than in other regions.  And in the Yaroslavl region, candidates often move to another job. <br><br>  Due to the presence of such features, we decided to add all these signs, that is, the frequency of classes by region.  And it really helped: take a look at the importance of signs in our models and see that frequency plays the most important role. <br><br><img src="https://habrastorage.org/webt/3a/oy/e-/3aoye-_ecq2uz4b4dnbwjnrtqa0.jpeg"><br><img src="https://habrastorage.org/webt/4q/8t/0q/4q8t0q-6alw23gln4n5bqmzuxpe.jpeg"><br><br>  Here are examples for two classes: reassignment and retirement, respectively. <br><br>  Another interesting technical point is that the additional database with data on municipalities weighed more than 30GB, so you could either parse it or download it to a server that would have enough RAM to process. <br><br><img src="https://habrastorage.org/webt/vv/gv/_7/vvgv_7az20fdt1mkml5mbqg19gc.jpeg"><br><br>  This database contained a lot of different information about municipalities.  However, its use did not help improve the result. <br><br>  As I mentioned above, testing was conducted using a special bot in the telegram.  The participant sends him his answers, and the bot returns the value of the evaluating metric and the position of the team in the results table.  That is, the results of the other teams no one knows.  For example, this is how it looked at this competition: <br><br><img height="140" src="https://habrastorage.org/webt/c9/ur/-r/c9ur-r8_yxdwoffvshdxl3av0qm.png"><br><br>  However, if you really want to, then you can cheat a little, sending in your system is not the best result and understand how tightly the team from below breathes into your head. <br><br>  I would like to mention why we get a rather small value of F1 soon.  The thing is that classes have a strong imbalance.  Some are very many, others are few.  Therefore, predicting many classes with good accuracy, and some that are found only a couple of times in the test is bad, we will not get an impressive metric value. <br><br>  Someone may start to spit on, they say, why not hold such a competition on kaggle?  Granted, kaggle is a pretty nice system.  However, testing with the help of a bot does not look so ordinary and ordinary, which makes the competition unusual. <br><br>  And probably, many noticed that only 6 teams took part in the hackathon.  And this is very sad, because the hackathon was advertised in public, different chat rooms, but only about 20 participants came.  So, victory was not a special challenge, but since we came to him and got some experience, why not tell about it? <br><br><h4>  results </h4><br>  At the end of the hackathon there were performances of teams.  We presented our work first (slides can be found <a href="https://drive.google.com/file/d/14l8_bevLL4ZMxeTOu46J0thaQIcLrLyv/view%3Fusp%3Dsharing">here</a> ).  From the negative points: the jury mentioned that we told us in a too technical language and some terms were understandable only by context.  Think about this both when composing a slide and when rehearsing a speech. <br><br>  Immediately after the story, we realized one important mistake.  Despite the fact that the winner is not determined by the position on the leaderboard, this time, for some reason, we blindly followed the goal: to maximize speed, and not spend much time to compose a full answer to the question: ‚ÄúWhat should you do to get a promotion?‚Äù <br><br>  The jury also believes that it did not receive a convincing answer, but judging by their <a href="https://eu.spb.ru/news/18900-kreslo-mera-i-podarok-sudby-rezultaty-khakatona-euspb-munitsipalnye-mojry">recall</a> , other results will also be useful.  By the way, this is the first hackathon for us, after which they asked to open access to the code and briefly describe the solution and the signs used.  It's nice that the result can help someone in researching this area. <br><br>  As a small and obvious conclusion, friends: never forget the main goal you are pursuing, despite the level and scale of the event. <br><br>  Post written in collaboration with <a href="https://habr.com/users/avgaydashenko/" class="user_link">avgaydashenko</a> . </div><p>Source: <a href="https://habr.com/ru/post/354738/">https://habr.com/ru/post/354738/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../354726/index.html">Who scans the Internet and does Australia exist</a></li>
<li><a href="../354728/index.html">Own asynchronous tcp-server in 15 minutes with detailed analysis</a></li>
<li><a href="../354730/index.html">We reanimate the Nintendo Switch and PlayStation gaming service after locks on the RKN</a></li>
<li><a href="../354732/index.html">Developing a simple deep learning model for predicting stock prices using TensorFlow</a></li>
<li><a href="../354736/index.html">How to work as an IT manager and why your boss doesn't have to be Steve Jobs</a></li>
<li><a href="../354740/index.html">Implementing a RESTful Table in the Atlassian User Interface</a></li>
<li><a href="../354742/index.html">PHP could get better</a></li>
<li><a href="../354744/index.html">Protection against easy DDoS'a</a></li>
<li><a href="../354748/index.html">CPU Cache Myths About Programmers Believe</a></li>
<li><a href="../354750/index.html">Do not write too much</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>