<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Iterate everything and everyone</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="As far as I could understand from my own experience, when switching to Python from another programming language, it is sometimes difficult to get used...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Iterate everything and everyone</h1><div class="post__text post__text-html js-mediator-article"><img src="http://pic.ipicture.ru/uploads/090123/zFSfAgslti.jpg" alt="image" align="left"><br>  As far as I could understand from my own experience, when switching to Python from another programming language, it is sometimes difficult to get used to his specific approach to cycles.  For example, take the same <b>for</b> , which works in a completely different way than in other languages.  I will take the liberty to tell that I myself at first was difficult to grasp, let alone use in my code, iterators.  The thing is actually very useful, you just need to know how to use it correctly!  ;) <br><br>  <b>APD</b> : Only now I noticed that the topic of functional programming is more popular today than ever :) Thanks to comrade <a href="http://uj2.habrahabr.ru/">uj2</a> for opening such an interesting topic, I support! <a name="habracut"></a><br><br>  Iterators are special objects that represent sequential access to data from a container.  At the same time, the important role is played by the fact that the memory is not actually wasted, since intermediate data is provided as needed when requested, therefore, in fact, only the original data and the final result will remain in memory, and they can also be read and written using the file on the disk. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The iterator is convenient to use along with the sequence.  Any object that supports an iterator interface has a <b>next ()</b> method that allows you to move to the next stage of evaluation.  To get an iterator over an object (for example, a list), you need to apply the <b>iter ()</b> function to it.  By the way, the already mentioned for loop also involves an iterator, only without additional dances - everything is done automatically.  To handle complex data sets, you can connect the standard module <b>itertools</b> . <br><br>  Let's create the simplest iterator manually: <br><blockquote><code>testIt = iter([1, 2, 3, 4, 5]) <br> print [x for x in testIt]</code> </blockquote> <br>  Of course, this is the simplest use of the <b>for</b> loop, just written a little differently. <br>  "And what's new?" - you ask.  Yes, in principle, nothing, just climbed a little deeper into the structure of processing sequences.  But now, how do you like this: the function <b>iter ()</b> can take not only a data structure, which so easily represents its iterator, but also two completely different arguments: a function without arguments and a stop value at which the iteration stops.  Example: <br><blockquote> <code>def getSimple(state=[]): <br> if len(state) &lt; 4: <br> state.append(" ") <br> return " " <br> <br> testIt2 = iter(getSimple, None) <br> print [x for x in testIt2]</code> </blockquote> <br>  The example is based on the fact that in Python, if there is no explicit return of the value from the function, the value <b>None is</b> returned. <br><br>  Now consider several functions that are based on iterators: <br><br>  <b>enumerate ()</b> <br>  Intended for numbering the data structure elements (including another iterator).  Returns a list of tuples, in each of which the first element is a number (starting from zero), and the second is an element of the original iterator.  Example: <br><blockquote> <code>&gt;&gt;&gt; print [x for x in enumerate("abcd")] <br> [(0, 'a'), (1, 'b'), (2, 'c'), (3, 'd')]</code> </blockquote> <br>  <b>sorted ()</b> <br>  Iterator that performs the sort: <br><blockquote> <code>&gt;&gt;&gt; sorted('avdsdf') <br> ['a', 'd', 'd', 'f', 's', 'v']</code> </blockquote> <br>  <b>itertools.chain ()</b> <br>  An iterator that allows you to combine two different iterators into one.  Example: <br><blockquote> <code>from itertools import chain <br> it1 = iter([1,2,3]) <br> it2 = iter([8,9,0]) <br> for i in chain(it1, it2): <br> print i,</code> </blockquote> <br>  will result in "1 2 3 8 9 0". <br><br>  <b>itertools.count ()</b> <br>  Iterator, issuing infinite numbers, starting with the given: <br><blockquote> <code>for i in itertools.count(1): <br> print i, <br> if i &gt; 100: <br> break</code> </blockquote> <br>  Result: <br>  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 <br>  27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 <br>  50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 <br>  73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 <br>  96 97 98 99 100 101 <br><br>  <b>itertools.cycle ()</b> <br>  Infinitely repeats a given sequence: <br><blockquote> <code>tango = [1, 2, 3] <br> for i in itertools.cycle(tango): <br> print i,</code> </blockquote> <br>  Result: <br>  1 2 3 1 2 3 1 2 3 1 2 3 1 2 3 1 2 3 1 2 3 3 2 3 1 3 3 1 3 3 1 3 3 3 2 3 1 3 3 1 3 3 3 2 3 1 2 3 1 2 3 1 2 3 1 2 3 1 2 3 1 2 3 1 2 3 1 2 3 1 2 3 1 3 3 3 3 1 2 3 1 2 3 1 3 3 3 3 1 3 3 1 2 3 3 3 3 3 2 3 1 2 3 1 2 3 1 2 3 1 .. <br><br>  Also in this module there are analogues <b>map ()</b> , <b>starmap ()</b> , <b>filter ()</b> and <b>zip ()</b> , they are naturally called <b>itertools.imap ()</b> , <b>itertools.starmap ()</b> , <b>itertools.ifilter ()</b> and <b>itertools.izip ( )</b> .  Their advantage is that, unlike their "ordinary" counterparts, they spend much less memory.  There are also a couple of filters: <b>itertools.takewhile ()</b> and <b>itertools.dropwhile ()</b> : <br><blockquote> <code>for i in takewhile(lambda x: x &gt; 0, [1, -2, 3, -3]): <br> print i, <br> for i in dropwhile(lambda x: x &gt; 0, [1, -2, 3, -3]): <br> print i,</code> </blockquote> <br>  Result: <br>  one <br>  -2 3 -3 <br><br>  The fact is that <b>takewhile ()</b> returns values ‚Äã‚Äãas long as the condition is true, and does not even take the remaining values ‚Äã‚Äãfrom the iterator (it does not take, and does not drain everything to the end!).  And, conversely, <b>dropwhile ()</b> does not produce anything while the condition is satisfied, but then it returns everything without a trace. <br><br>  And finally, let's write our own iterator (almost finished Bender‚Äôs famous phrase)! <br><br><blockquote> <code>class Fibonacci: <br> """    N""" <br> def __init__(self, N): <br> self.n, self.a, self.b, self.max = 0, 0, 1, N <br> def __iter__(self): <br> #   :     next() <br> return self <br> def next(self): <br> if self.n &lt; self.max: <br> a, self.n, self.a, self.b = self.a, self.n+1, self.b, self.a+self.b <br> return a <br> else: <br> raise StopIteration <br> # : <br> for i in Fibonacci(100): <br> print i,</code> </blockquote> <br>  Here, in fact, the whole basic theory.  If you want to learn more subtleties - read the special literature.  If you have any comments - I will be glad to hear :) <br><br>  The article uses the materials of the lecture by Roman Arvievich Susi ‚ÄúElements of functional programming‚Äù. </div><p>Source: <a href="https://habr.com/ru/post/50026/">https://habr.com/ru/post/50026/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../50019/index.html">Interactive Mood Clips</a></li>
<li><a href="../50021/index.html">Smile, you are filmed by a hidden camera!</a></li>
<li><a href="../50023/index.html">GPS in Nokia 5800 XM</a></li>
<li><a href="../50024/index.html">Hosting for SVG images</a></li>
<li><a href="../50025/index.html">Most Popular Programming Languages ‚Äã‚Äãin 2008</a></li>
<li><a href="../50028/index.html">Erlang. What is it, why, how and for whom.</a></li>
<li><a href="../50029/index.html">Rebirth Chat.Ru</a></li>
<li><a href="../50030/index.html">Apple threatened Palm with litigation</a></li>
<li><a href="../50031/index.html">Home file hosting based on Sinatra and DataMapper. Part 1 - The Begining</a></li>
<li><a href="../50033/index.html">With whom and against whom we will be friends?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>