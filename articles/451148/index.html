<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Object Oriented Programming in Graphic Languages</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Object-oriented programming (OOP) is a concept that is designed to facilitate the development of complex systems by introducing new concepts that are ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Object Oriented Programming in Graphic Languages</h1><div class="post__text post__text-html js-mediator-article"><p>  Object-oriented programming (OOP) is a concept that is designed to facilitate the development of complex systems by introducing new concepts that are more close to the real world than functional and procedural programming languages.  As Wikipedia writes, ‚ÄúAn ordinary human language as a whole reflects the OOP ideology, starting with the encapsulation of a subject as its name and ending with the polymorphism of using a word in a figurative sense, which ultimately develops the expression of a representation through the name of the object to a full-fledged concept - class. </p><br><img src="https://habrastorage.org/webt/yj/wm/tf/yjwmtfu4vnkaz5hwovolbkseny8.png"><br><br><p>  But from the point of view of all those who first encountered these abstractions, after classical procedural languages ‚Äã‚Äãdid not become clearer, it seems the opposite is still more confused. </p><a name="habracut"></a><br><p>  On the other hand, there are graphic notations of the program's work, which are not close to the human language, but much clearer than even any code, not like OOP.  It is possible that this is more understandable to me, spoiled by engineering education, but there are a lot of people like me and this text is for the same spoiled physicists who do not understand high abstractions. </p><br><p>  Here, for example, is the real description in graphic notation of the algorithm for controlling NPP valves: </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/ii/qf/jk/iiqfjkygs4f0kcfu8znjh88yvg8.png"></div><br>  <i><font color="#999999">Figure 1. An example of a nuclear power plant management program in graphic notation</font></i> <br><p>  On the left are input signals, on the right are commands. <br><br>  It seems to me that even a child can read such an algorithm: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </p><ul><li>  If the pump is turned on for 60 seconds and the flow rate is less than 10, then open the valve for recycling. </li><li>  If the pump is turned on, then open the valves 001 and 002 within 5 seconds to open the command. </li><li>  If the flow is greater than 20 and the pump is turned on, then within 5 seconds, the valve 003 must be commanded to close. </li></ul><br><p>  When I was a student, I was working part time by creating a component library for Delphi and was familiar with first-hand PLO.  Then, when confronted with real NPP control programs, I was very surprised that there was no abstraction, encapsulation and, God forgive me polymorphism, only pure C, and it is also advisable to be cut down by the rules and MISRA C recommendation, so that everything is <b>reliable</b> , portable, safe. </p><br><p>  The climax of C cutting in my practice was the FIL language, for RBMK reactor control systems.  In it, functions were written in advance in C, compiled, and then called based on a text file, where they were described in the FIL language.  As a result, it was possible to call only a limited, but carefully checked and debugged set of functions.  And all this - in the name of safety and reliability. </p><br><p>  But at the same time, the reactor control system and the NPP control system as a whole is just the case where the principles of the PLO should be applied in full growth.  In fact, there are a lot of equipment of the same type - valves, pumps, sensors, everything is easily classified, there are ready-made objects corresponding to the real equipment.  It would seem, here it is - apply OOP, classes, inheritance, abstraction and polymorphism.  But no, you need pure C and this is a security requirement. </p><br><p>  And then - even more interesting.  In fact, the program for managing NPPs is not written by a programmer, but by a technologist - only he knows what and when to close, open, turn on, and most importantly, he knows when to turn off all this canoe so that it does not go off.  A programmer must neatly implement all this on C code.  It is even better that the programmer would not exist at all, and the technologist himself would draw the technological algorithms of the control programs in graphical form, automatically generate the C code and load it into the control equipment.  This is recommended by international safety standards, in which case the programmer, like a violinist, is not needed.  It only introduces additional errors and distortions into the implementation of the technologist‚Äôs thoughts. </p><br><img src="https://habrastorage.org/webt/jw/v0/kd/jwv0kdcn8__n1s4mzpdfvqdolm4.jpeg"><br><br><p>  What was my amazement when I learned that NPP technologists and designers themselves, independently of the programmers, developed and successfully applied object-oriented programming, and even in graphic notations, but the resulting code fully satisfies the security requirements and does not contain OEF methodology artifacts . </p><br><p>  In fact, if you look at the code that is generated from the circuit in Figure 1, you will see pure C without any classes there. <br>  For example, the entry table in the algorithm: </p><br><pre><code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* Index=0 UID=0 GeneratorClassName=TSignalReader Name=KBA__AA.KBA31EY001.alg_inp Type=  */</span></span> state_vars-&gt;kbaalgsv0_out_1_ = kba31ap001_xb01; state_vars-&gt;kbaalgsv0_out_4_ = kba31cf001_xq01;</code> </pre> <br><p>  Just assigning variables. <br>  Any block is described as a calculation of the output by input, taking into account the parameters specified in the list of constants.  For example, the ‚ÄúMore‚Äù block looks like this in the code: </p><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* Index=5 UID=5 GeneratorClassName=TLogBlock Name=KBA__AA.KBA31EY001.smu.GT2 Type=  */</span></span> locals-&gt;v5_out_0_ = state_vars-&gt;kbaalgsv0_out_4_ &gt; consts-&gt;kbaalgsv3_a_;</code> </pre> <br><p>  The block output is the result of comparing the input signal with a value in a constant. </p><br><p>  Thus, in other blocks, the local variables from the input variables are sequentially computed, and at the end of the program loop the output variables are written. </p><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* Index=14 UID=14 GeneratorClassName=TSignalWriter Name=KBA__AA.KBA31EY001.alg_out Type=  */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>((action==f_InitState)||(action==f_GoodStep)||(action==f_RestoreOuts)){ kba31ey001_yb01 = locals-&gt;v8_out_0_; kba31ey001_yb11 = state_vars-&gt;kbaalgsv9_out_0_; kba31ey001_yb12 = state_vars-&gt;kbaalgsv12_out_0_; kba31ey001_yb02 = locals-&gt;v13_out_0_; };</code> </pre> <br><p>  And where are the classes, you ask? </p><br><p>  The whole methodology related to OOP is in the variable names.  It would seem that this could be in the name of a variable?  And there may be a whole abyss.  For example, the variable name is kba31ap001_xb01, just a variable in C code that meets the requirement for naming variables.  However, for the designer‚Äôs technologist, it looks like this: ‚ÄúReactor compartment, industrial water supply system, first pump, start-up‚Äù.  All this transformation takes place thanks to the wonderful German coding system (Kraftwerk-Kennzeichensystem) KKS, quote: </p><br><p>  ‚ÄúThis coding classification system is designed for power plants and has great potential, and also takes into account the features of free-programmable microprocessor hardware. </p><br><p>  Along with the marking of process equipment, executive bodies (shut-off and control, safety, shut-off, etc. valves, mechanisms of their own needs), measurement points, installation units, automation devices, buildings and structures, the KKS system allows you to label algorithms and programs of various types and assignments (algorithms for processing the measured technological parameters, signaling, automatic control, technological protection, logic control: interlocks, ATS, step-by-step programs, - calculating t  hniko-economic indicators and diagnostics of process equipment status) input, output and intermediate signals of algorithms and programs, video recordings of all levels are displayed on video terminals, cables, etc. ". </p><br><p>  But the most interesting thing in the last part of the name is <b>_xb01</b> , what is given through the underscore character.  If you look at the signal base for the project management, we will see classes there that are clear and familiar to everyone who once, somehow and somewhere was interested in the PLO (see Fig. 2). </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/ur/ct/ts/urcttsuadp4hqqlqbo073lqgxhi.png"></div><br>  <i><font color="#999999">Figure 2. An example of the structure of the base signals for the control system of nuclear power plants.</font></i> <br><p>  We have classes, or tables, in the picture is the "Categories" column.  For example, ‚ÄúKD1‚Äù which have a table of pattern signals, class fields <i>Upper measurement limit, lower measurement limit, sensor reading</i> , etc.  - this is an abstraction. </p><br><p>  And there is also the implementation of this class - a specific sensor, for example TK21F02B1, located in the circuit, as you already guessed from its name, in the ‚ÄúReactor compartment, industrial water supply system, at the first pump‚Äù, and that it is a flow sensor, too There is in this title, but this is not accurate. </p><br><p>  And this instance of this class has specific signals and their values ‚Äã‚Äãin the course of the program, and they can be accessed by the class field names.  For example, the sensor reading is indicated by the variable TK21F02B1_XQ04. </p><br><p>  At this point, you can say, wait, this is not exactly the PLO, or even not at all the PLO, there is just a data structure, it is in standard C as well.  And where is the encapsulation of methods in the class?  Data processing should be in class, then this will be a real kosher OOP method. <br>  Let's see how the subroutine of monitoring the reliability of the sensor looks like in graphical form.  In Figure 3, part of the signal processing circuit: </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/ch/zc/gg/chzcggvc87mpu5z0ya6ui32cx54.png"></div><br>  <i><font color="#999999">Figure 3. An example signal processing program.</font></i> <br><p>  It can be seen that in the processing subroutine the names of the variables TK21F02B1_XQ04 are used, formed according to the rules KKS and on the basis of the table of class fields.  In the above example, the sensor readings are calculated as a percentage of TK21F02B1_XQ03 using the specified values ‚Äã‚Äãof the fields of the class instance, such as TK21F02B1_Xmin and TK21F02B1_Xmax. </p><br><p>  If we turn to the code generated from this scheme, we will see a simple assignment of the value to a variable, pure C and no pluses and OOP. </p><br><pre> <code class="cpp hljs"> <span class="hljs-comment"><span class="hljs-comment">/* Index=12 UID=12 GeneratorClassName=TSignalReader Name=KD1.kd3_45.SR6 Type=    */</span></span> state_vars-&gt;su100v12_out_0_ = tk21f02b1_ai;</code> </pre> <br><p>  And the assignment of the result of the calculation, also as a simple assignment of a variable (with a validation of the number, so as not to drop the system if we received an error as a result of signal processing) </p><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* Index=100 UID=100 GeneratorClassName=TSignalWriter Name=KD1.kd3_45.SW3 Type=    */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(isfinite(locals-&gt;v63_out_0_)){ tk21f02b1_xq04 = locals-&gt;v63_out_0_; };</code> </pre> <br><p>  And at what point does the combination of data fields of the processing method class appear?  In fact, I am familiar with two variants of this focus.  Now we analyze one of them. <br>  Let's see how the block is configured in the diagram in which the circuit of the processing program is located (see Fig. 4). </p><br><p>  We have a scheme on which we place blocks of a submodel of a graphical programming language, inside these blocks there is a graphic scheme, part of which is shown in Figure 3, - a program for processing signals from sensors. </p><br><p>  In the properties of this block, we see the fields of the signal database and the drop-down list containing the signals already existing in the database, class instances, and specific sensors of this type.  Simply select the desired sensor, a copy of the class by name and a miracle happens.  In the scheme, all reading and writing blocks receive names of the type <b>TK21F02B1_XQ03</b> , (sensor name of the class instance + field name). </p><br><p>  Now when generating the C code, all variables will receive the values ‚Äã‚Äãof the desired sensor.  And the programmer is not needed, the technologist did everything himself when he developed a scheme in a graphical programming language for the NPP control algorithm. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/ws/ev/pv/wsevpvuvpzcp4vzvnny_zdjq6m4.png"></div><br>  <i><font color="#999999">Figure 4. Example of setting the processing circuit of the sensor.</font></i> <br><p>  For assignment of names, a special automation script in the design environment of control systems is used, approximately the same as in Figure 5. All reading blocks on the diagram are assigned names consisting of the object name and the field name in the class (see Fig. 5). </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/xo/ni/7s/xoni7sgyktrabfhnt-bnhslgbem.png"></div><br>  <i><font color="#999999">Figure 5. Setting variable names in read blocks.</font></i> <br><p>  It is clear that in an analogous way an unlimited number of signal processing options can be created, in fact methods for a class in OOP methodology.  Similarly, they can be formed for a sensor, its summing up when displayed on a SCADA system video frames, or, for example, the processing of settings change procedures.  The scheme is created graphically, saved as a block and used when necessary. </p><br><p>  To summarize: in graphical programming languages, OOP methods are also used and are beneficial.  And after the generation of the source code of control programs, all the artifacts of the OOP methodology disappear and remain, pure C, safe, reliable, verifiable. </p><br><p>  It is clear that such an application of automation tools, in addition to speeding up the development, also makes it possible to significantly reduce development time and the number of errors in control programs. </p></div><p>Source: <a href="https://habr.com/ru/post/451148/">https://habr.com/ru/post/451148/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../45110/index.html">Spy passions</a></li>
<li><a href="../451104/index.html">Browser extension for Intelligent Speaker that reads articles: added voices from Microsoft Azure</a></li>
<li><a href="../45111/index.html">This is how go.com should look like:</a></li>
<li><a href="../451112/index.html">Jetpack compose</a></li>
<li><a href="../451132/index.html">Consumer Driven Contracts or Gitlab CI through the eyes of QA test automation</a></li>
<li><a href="../451150/index.html">Catch Me If You Can. Manager Version</a></li>
<li><a href="../451160/index.html">Apache Kafka and Stream Processing with Spark Streaming</a></li>
<li><a href="../451162/index.html">Correction of errors - physical constants in the present and new versions of the International System of Units (SI)</a></li>
<li><a href="../451166/index.html">What will the new storages for AI and MO systems offer?</a></li>
<li><a href="../451170/index.html">Jeff Bezos announced plans to conquer the moon</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>