<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>One. Veeam ONE. Intelligence, maps, agents and more - today on the monitors of the country</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="According to the results of our survey , the Veeam ONE solution for monitoring and reporting on the state of virtual infrastructures is becoming incre...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>One. Veeam ONE. Intelligence, maps, agents and more - today on the monitors of the country</h1><div class="post__text post__text-html js-mediator-article">  According to the results of our <a href="https://habr.com/ru/company/veeam/blog/438714/">survey</a> , the Veeam ONE solution for monitoring and reporting on the state of virtual infrastructures is becoming increasingly popular, and readers are interested in what's new in version 9.5 Update 4. Today we look at the most significant innovations, including: <br><br><ul><li>  Smart troubleshooting </li><li>  Heat maps </li><li>  Application Monitoring </li><li>  New reports and categorization capabilities for working with Veeam Agents </li></ul><br>  For details, welcome under cat. <br><br><img src="https://habrastorage.org/webt/uh/hm/tb/uhhmtb1z6m9n_0ak1foeu5d2m9q.png"><br><a name="habracut"></a><br><h1>  Smart diagnostics and automated troubleshooting </h1><br>  The built-in problem alerts (alarms) in the properties now have a <b>Knowledge Base</b> tab with information from the manufacturer.  It has the format of a knowledge base article about the problem that triggered the alert. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div style="text-align:center;"><img src="https://habrastorage.org/webt/53/ls/gn/53lsgn_fnj-kpz9cmm1fqaedrcq.jpeg" width="60%" height="60%"></div><br><br>  If a problem occurs, for example, with the configuration, you will receive detailed information about the reason ( <i>Cause</i> ) and how you can correct the situation ( <i>Resolution</i> ) along with the notification.  And if, for example, there is already a hotfix for this problem, then you can simply contact customer support and request the appropriate files from them - such an example is just shown in the screenshot above. <br><br>  Smart diagnostics Veeam Intelligent Diagnostics can not only give advice according to the built-in knowledge base.  You can also set up and perform remediation actions. <br><br>  <i>Important!</i>  For such automated repair actions (built-in or custom) to work, Veeam ONE agent component must be installed on the Veeam Backup &amp; Replication servers.  About this is written in detail <a href="https://helpcenter.veeam.com/docs/one/monitor/manage_one_agents.html%3Fver%3D95u4">here</a> . <br><br>  For example, consider the built-in alert that an unprotected virtual machine has been detected (or even several).  What can I do? <br><br><ol><li>  First, open the <b>Alarm Settings</b> in the Veeam ONE Monitor console and go to the <b>Actions</b> tab: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/6p/d_/m6/6pd_m6gyxb8xw9gn2pcnwn8hzs0.jpeg" width="60%"></div><br></li><li>  Here in the <b>Action</b> list, we choose how to correct the situation with the VM without backup, if one is found.  A full list of possible actions can be found <a href="https://helpcenter.veeam.com/docs/one/alarms/appendix_remediation.html%3Fver%3D95u4">here</a> . <br>  We selected <b>Add VM to backup job</b> . <br><br>  <i>Useful:</i> For your own alerts, you can customize your own repair actions by specifying which script to run.  To do this, in the alert settings on the <b>Actions</b> tab, click the <b>Add</b> button, then select <b>Run Script</b> in the <b>Action</b> list.  Next in the <b>Path to script field</b> enter the path to the desired script. <br><br>  <i>Important!</i>  The script will run on Veeam ONE Server;  It is necessary to provide access to the script file for the Veeam ONE service account. <br></li><li>  In the <b>Resolution type</b> field, specify whether you need to first obtain the approval of the person to perform the selected action: <br><br>  - <b>Automatic</b> - no manual manipulations will be required, after the alert is triggered, the program itself will start the specified action. <br>  - <b>Manual</b> (selected by default for built-in alerts) - after the alert has been triggered, you will need to agree to perform the specified action.  This is done like this: <br><br><ol><li>  In the Veeam ONE Monitor console, select the desired view (Infrastructure View, Business View, vCloud Director View, Data Protection View) and the object of interest. </li><li>  In the panel on the right, go to the <b>Alarms</b> tab. </li><li>  Click on the <b>Show remediable</b> icon at the top to see for which alerts you need to approve the execution of appropriate actions. </li><li>  Then in the list of alerts, select the right one, right-click and select the <b>Approve Action</b> item, or select it in the <b>Actions</b> panel on the right. </li><li>  If necessary, enter a comment in the <b>Approve Remediation Actions</b> dialog (it will appear in the <b>Comment</b> field in the change details (history details), as well as in the email notification, if you have it configured). </li><li>  Click <b>OK</b> . </li></ol></li></ol><br>  I note that the built-in action, you can choose only one, and custom scripts, you can specify how much you need. <br><br>  Veeam ONE will make 3 attempts to perform an inline action or script.  If everything goes well, the status of the alert will change to <i>Acknowledged</i> , and if not, the alert will remain active. <br><br><h1>  Heat maps </h1><br>  Heatmaps appeared in Veeam solutions for a long time - the Veeam Management Pack received them first (this was <a href="https://habr.com/ru/company/veeam/blog/234745/">an article</a> on our blog, they are called ‚Äúcontextual dashboards‚Äù in it).  Now they are implemented in Veeam ONE Reporter, where they also help you to get an idea of ‚Äã‚Äãthe state of your infrastructure and very quickly find out where something went wrong.  All this visualization is available by clicking on the <b>Heatmap</b> widget on the <b>Dashboards</b> tab: <br><br><img src="https://habrastorage.org/webt/wx/b5/em/wxb5emdq1wkxrd725h-3f9gxe4c.png"><br><br>  Here, for example, looks like a heat map of a <s>healthy person's</s> backup infrastructure, in which the load on Veeam backup proxies is reasonably balanced: <br><br><img src="https://habrastorage.org/webt/0v/xo/_o/0vxo_oohce9zgmashu5uxsn3e8i.png"><br><br>  The widget on the left shows how much space is in the repository - we see that there is not much of it.  The widget in the center pleases the eye with green color - the load on two proxy servers is distributed evenly. <br><br>  <i>Attention!</i>  If for some proxy the download is indicated in dark green, this means that the proxy is completely free, that is, idle, which is not good. <br><br>  You can click on any of the proxy servers and see how big the load is during the day - here we see that the load falls on the backup window in the morning hours: <br><br><img src="https://habrastorage.org/webt/wn/i1/rl/wni1rlwqk2yiacks7njkk98m-ui.png"><br><br>  Let's now look at a less balanced infrastructure - the picture will be different there: <br><br><img src="https://habrastorage.org/webt/bq/qy/dg/bqqydgzw7pi6o6ti_46-9gphtke.png"><br><br>  There are at least 3 proxy servers here, but one of them is clearly loaded more than the rest (the one with the yellow-green indicator).  If we look at it in detail, we will see that the main period of hard work falls on the night hours.  Due to the underload of the rest of the proxies, the backup window takes a rather long period of time, and it is more reasonable to redistribute the load. <br><br>  Click on the indicator for this proxy and then on the time interval in the central widget to understand the reason for the unhappy proxy overload - and here we will be shown detailed information, including the proxy configuration and backup tasks that it processes: <br><br><img src="https://habrastorage.org/webt/em/h0/f0/emh0f0ufsibalymuxggkzwldup0.png"><br><br>  The most frequent errors in the configuration are cases when the proxy settings are not suitable for performing a task of a certain type of backup - for example, if the settings indicate to use the <i>Hot Add</i> mode and the proxy itself is a physical server.  Naturally, such a server will never be selected to perform the task, and the entire burden will fall on the remaining proxies.  As a result, the backup window will increase, which, of course, is undesirable. <br><br>  In addition to the proxy, you can monitor the status of the repositories on the heat map (including scalable Scale-Out Backup Repositories) - the <b>Repositories Usage</b> widget displays how the repositories were busy with parallel processing of tasks during the backup for a week. <br><br>  Details on the heat maps in the Veeam ONE Reporter can be found in the <a href="https://helpcenter.veeam.com/docs/one/reporter/heatmap_dashboard.html%3Fver%3D95u4">documentation</a> (in English). <br><br><h1>  Application Monitoring </h1><br>  This new feature, implemented in Veeam ONE Monitor, allows us to closely monitor the work of services and processes on a virtual machine: <br><br><img src="https://habrastorage.org/webt/2a/sd/my/2asdmyywio_cl85nbev_qgt8sxy.png"><br><br>  Let's look at the work of the SQL Server service on the selected VM.  First, we can stop or resume this work - Veeam ONE Monitor is able to perform <i>start</i> , <i>stop</i> and <i>restart</i> operations, communicating with the service control manager. <br><br>  Secondly, you can set up an alert that will work, for example, to change the state of the service - to do this, right-click on our service and select <b>Create Alarm&gt; State</b> : <br><br><img src="https://habrastorage.org/webt/p_/w2/gp/p_w2gpnsg95oaj7yvud6ghdbqxo.png"><br><br>  You can set the alert settings, for example, so that it gives an error if the service does not work within 5 minutes.  In such a situation, most likely, you need to restart the service.  The triggering rule for the alert will look like this: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qq/8f/i4/qq8fi4_fhus5pn7go9zuhoex2ny.png" width="70%"></div><br><br>  With these settings, an alert will generate an error if the state of the service is different from <i>Running</i> for 5 minutes.  Now we will go to the <b>Action</b> tab and indicate the repair action.  In our example, this will be an automatic launch of a PowerShell script that will restart the service.  Specify the path to the script, saying that the type of our repair action is automatic (without our confirmation): <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/2e/xl/se/2exlseetfwhjxws2qwuqoqmjgw0.png" width="70%"></div><br><br>  <i>Useful: It</i> will also be a good idea to set up sending users a notification about the restart of the service. <br><br>  Another useful example is setting alerts for an increase in the number of services.  Such an alert will work, for example, if one or several new services were installed on a critical machine.  This may be the result of unauthorized software installation (or even malware). <br><br>  You can set up alerts for processes ‚Äî for example, how they use resources and what their performance is.  To do this, in the alert properties on the <b>Rules</b> tab, select the type of the rule: <b>Rule type: Process performance</b> . <br><br>  Then we indicate that we want to monitor CPU utilization and generate an alert if it falls below the specified threshold.  We can set thresholds not only for generating an error ( <i>Error</i> ), but also for warning ( <i>Warning</i> ): <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fs/22/3t/fs223tqcxz6n_s4sx4gyw8jb-jk.png" width="70%"></div><br><br>  In this example, reducing the CPU usage by 10% will result in a warning, and by 25% - in an error. <br><br><h1>  New reports for Veeam Agents </h1><br>  In version 9.5 Update 4, 3 new reports on the operation of Veeam Agent Backup Jobs appeared: <br><br><ul><li>  <b>Computer with no Archive Copy</b> - with its help you can quickly find out which machines have no backup copies. </li><li>  <b>Computer Backup Status</b> - daily reports on the status of the backup for the physical machines on which the agents work. </li><li>  <b>Agent Backup Job and Policy History</b> - provides historical data about all policies and tasks of the Veeam Agent. </li></ul><br>  Well, if there are not enough out-of-the-box reports, then you can set up a <b>Backup Infrastructure Custom Data</b> custom report and include the necessary information about the operation of Veeam Agents. <br><br>  Let us dwell in more detail on the last two reports.  First, let's take a look at the <b>Agent Backup Job and Policy History report</b> : <br><br><ol><li>  Launch Veeam ONE Reporter, open the Workspace view. </li><li>  Go to the folder with the built-in reports Veeam Backup Agent Reports. </li><li>  Select the ‚ÄúAgent Backup Job and Policy History‚Äù report, select Scope for it and specify the data for which period of time we want to include it. <br><br>  <i>Useful:</i> Similarly, you can select Veeam backup server or specify specific tasks \ backup policy. <br></li><li>  Click <b>Preview Report</b> and wait for the end of the report generation.  Here is what it will look like: <br><br><img src="https://habrastorage.org/webt/wi/82/wq/wi82wqpslehwkebb5fm-6lhmmwi.png"><br><img src="https://habrastorage.org/webt/ai/1h/s5/ai1hs5vbmvngiovcqdeayci5gxa.png"><br></li></ol><br>  You can click on the link on a specific date to see how the task worked on that day ‚Äî how much it started, how long it lasted, what size the resulting backup was, whether it was a full or incremental backup. <br><br>  Now let's look at the <b>Backup infrastructure custom data</b> report.  With it, you can get data that does not provide reports out of the box.  To do this, you can use the report designer. <br><br>  In Veeam ONE Reporter, select <b>Custom Reports</b> , find our report and specify for it: <br><br><ul><li>  <b>Scope</b> : data from which Veeam Backup &amp; Replication servers will be included in the report. </li><li>  <b>Object type</b> : the types of objects you are interested in (Backup Server, Backup Job, Virtual Machine, Computer). </li><li>  <b>Columns</b> : depending on the selected object type, here you can specify which of its properties we want to analyze using the report.  They will be displayed in columns.  For convenience, you can filter them (by pressing Filter).  Remember that the report can include no more than 50 properties. </li><li>  <b>Custom Filter</b> : you can set your own filter for these columns. </li></ul><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tb/oq/ik/tboqikmxzjsfkeol-y8ounl8loa.png" width="70%"></div><br><br>  You can read more about this report <a href="https://helpcenter.veeam.com/docs/one/reporter/backup_infrastructure_custom_data.html%3Fver%3D95u4">here</a> .  An example of what it might look like: <br><br><img src="https://habrastorage.org/webt/cd/dn/c1/cddnc1q3n5pc6kopzpjjwmx7g6u.png"><br><br>  And with the help of Veeam ONE Business View, you can now assign the appropriate category to the machines on which Veeam Agents work, which makes it easy for the administrator to monitor the infrastructure (Veeam backup servers controlled by agents must, of course, be monitored with Veeam ONE). <br><br>  Details about the updated Business View can be found, for example, <a href="https://www.veeam.com/blog/business-view-improved-redesign.html">here</a> (in English). <br><br><img src="https://habrastorage.org/webt/lh/ba/aj/lhbaajszx1ellmt61z-xhc1iutq.png"><br><br>  Both commercial and free versions of the solution are still available.  A brief comparative table for them is shown below: <br><br><img src="https://habrastorage.org/webt/qc/3n/pl/qc3nplaiiii7vlv7tnbmremfroy.png"><br><br>  A full table (in English) is available <a href="https://www.veeam.com/veeam_one_9_5_free_vs_paid_comparison_ds.pdf">here</a> . <br><br><h1>  What else to read and see </h1><br>  Download Veeam ONE: <br><br><ul><li>  The trial version of the commercial edition of Veeam ONE is available <a href="https://www.veeam.com/ru/data-center-availability-suite.html">here</a> . </li><li>  free edition of Community Edition can be <a href="https://www.veeam.com/ru/virtual-server-management-one-free-download.html">here</a> . </li></ul><br><ul><li>  <a href="https://www.veeam.com/ru/whats-new-one-monitoring-tool.html">New solution features (in Russian)</a> </li><li>  <a href="https://www.veeam.com/ru/videos/veeam-one-----14782.html">Veeam ONE video review (in Russian)</a> </li><li>  <a href="https://helpcenter.veeam.com/docs/one/alarms/about.html%3Fver%3D95u4">User Guide for working with alerts (in English)</a> </li><li>  <a href="https://helpcenter.veeam.com/docs/one/reporter/about.html%3Fver%3D95u4">User Guide for working with reports (in English)</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/450148/">https://habr.com/ru/post/450148/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../450138/index.html">Product Management Digest # 7 (March - April 2019)</a></li>
<li><a href="../45014/index.html">How to remove blank lines in txt file using a script in php.</a></li>
<li><a href="../450142/index.html">In May: ordered to survive</a></li>
<li><a href="../450144/index.html">How do new technologies bring the dream of immortality closer?</a></li>
<li><a href="../450146/index.html">My billion dollar error</a></li>
<li><a href="../45015/index.html">Create an archive on the fly using the Create ZIP File class</a></li>
<li><a href="../450150/index.html">Security Week 18: ShadowHammer attack in detail</a></li>
<li><a href="../450152/index.html">SEO optimization product card: step by step instructions + lifehacks</a></li>
<li><a href="../450154/index.html">Next-generation PlayStation: What's Inside?</a></li>
<li><a href="../450156/index.html">100GbE: luxury or urgent need?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>