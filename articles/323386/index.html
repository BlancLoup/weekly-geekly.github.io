<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Administrator's summary: blaze and poverty of blade systems</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the Outline, we often bypass enterprise-technology because of their low applicability in not-so-large projects. But today's article is an exception...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Administrator's summary: blaze and poverty of blade systems</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/files/fe3/b63/2b3/fe3b632b342b448e82f79d1876a4ca74.jpg" alt="image alt text"></p><br><p>  In the Outline, we often bypass enterprise-technology because of their low applicability in not-so-large projects.  But today's article is an exception, because it will be about modular systems, "blades". </p><br><p>  There are not so many architectural delights in the IT world that would be enveloped in a large halo of "incredible coolness" and a comparable set of myths.  Therefore, I will not complicate even more, and just talk about the features and applicability of such systems in practice. <a name="habracut"></a></p><br><h1 id="lego-dlya-inzhenera">  Lego for engineer </h1><br><p>  The blade server is almost a normal server, which has a familiar motherboard, RAM, processors and many auxiliary systems and adapters.  But "almost" is that such a server is not designed for autonomous work and comes in a special compact package for installation in a special chassis. </p><br><p>  Chassis - or "basket" - is nothing like a big box with seats for servers and additional modules.  All servers and components are connected using a large switching board (Backplane) and form a <strong>blade system</strong> . </p><br><p>  If you disassemble the entire system into components, then the next slide will be on the table: </p><br><ul><li><p>  Blade Servers (blades) - servers without power supplies, fans, network connectors and control modules; </p><br></li><li><p>  Chassis - body and backplane; </p><br></li><li><p>  Power and cooling systems for all system components; </p><br></li><li><p>  Switching devices for communication with the outside world; </p><br></li><li>  Control modules (various variations on IPMI). </li></ul><br><p>  From the usual server cabinet, all this stuff is compact in size (usually 6-10U) and a high level of reliability, since all components can be reserved.  Here, by the way, lies one of the myths: a dozen blades are not going into one big server.  It will be just a dozen servers with a common infrastructure. </p><br><blockquote>  By the way, HPE has solutions that resemble traditional blade servers - <a href="https://www.hpe.com/ru/ru/servers/superdome.html">HPE Superdome</a> .  As blades there are used processor modules with RAM.  In such solutions, the entire system really is one high-performance server. </blockquote><p>  The nuances of architectural solutions from different manufacturers of blade systems <a href="https://habrahabr.ru/post/143999/">have already been discussed</a> at Habr√© (the article, though old, but relevant in its fundamentals), so I use the HPE blade system - <a href="https://www.hpe.com/ru/ru/product-catalog/storage/disk-enclosures/pip.hpe-bladesystem-c7000-enclosures.1844065.html">BladeSystem c7000</a> for illustration. </p><br><p>  In the role of the blades can be: </p><br><ul><li><p>  Normal servers, like <a href="https://www.hpe.com/ru/ru/product-catalog/servers/proliant-servers/pip.hpe-proliant-bl460c-gen9-server-blade.7271227.html">HPE ProLiant BL460c Gen9</a> (analog rack-mount <a href="https://servermall.ru/catalog/model-hp-dl360-gen9/461-1/">HPE ProLiant DL360 Gen9</a> ); </p><br></li><li><p>  Disk arrays - for example, <a href="https://habrahabr.ru/company/hpe/blog/112484/">HPE StorageWorks D2200sb</a> , in which you can install up to 12 2.5 "disks.  So easily and naturally several servers can provide shared DAS storage; </p><br></li><li><p>  SAN switches for accessing external storage systems and full- <a href="http://h20564.www2.hpe.com/hpsc/doc/public/display%3FdocId%3Demr_na-c01794572">featured</a> NAS servers ‚Äî for example, <a href="http://h20564.www2.hpe.com/hpsc/doc/public/display%3FdocId%3Demr_na-c01794572">HPE StorageWorks X1800sb</a> ; </p><br></li><li>  Tape devices. </li></ul><br><p>  The picture below shows the complete HPE BladeSystem c7000 system.  The layout of the components is clear and so - pay attention only to the Interconnect modules section.  A fail-safe pair of network devices or pass-thru modules is installed in each row for simple forwarding of server network interfaces to the outside. </p><br><p><img src="https://habrastorage.org/files/c2a/148/622/c2a148622129461094d298506d7d2fbd.jpg" alt="image alt text"></p><br><p>  The HPE ProLiant BL460c Gen8 compact blade fits only two 2.5-inch disks.  For more beauty, instead of disks, you can use network boot from a SAN or PXE disk system. </p><br><p><img src="https://habrastorage.org/files/904/7e4/ceb/9047e4ceb37c4f9dbdc3d2445b9b5b05.jpg" alt="image alt text"></p><br><p>  Below is a more compact blade system from IBM.  The general principles are the same, although the location of the nodes here is different: </p><br><p><img src="https://habrastorage.org/files/97e/412/ac7/97e412ac760741e3a45a7547f539b5c3.jpg" alt="image alt text"></p><br><p>  The most interesting part of the blades is, in my opinion, the network component.  With the use of fashionable converged switches, you can work wonders with the internal network of blade systems. </p><br><h1 id="nemnogo-setevoy-i-enterprise-magii">  Some network and enterprise magic </h1><br><p>  The network modules can be special Ethernet switches or SAS, or those who can both.  Of course, an ordinary switchboard cannot be installed in a blade system, but compatible models are made by familiar brands.  For example, the "great three" HPE, Cisco, Brocade.  In the simplest case, these will simply be network access modules that bring all 16 blades out through 16 Ethernet ports ‚Äî the <a href="https://www.hpe.com/us/en/product-catalog/options/pip.bladesystem-modules.3176854.html">HPE Pass-Thru</a> . </p><br><p><img src="https://habrastorage.org/files/4b5/fdb/ec4/4b5fdbec48104af1bd5e92aa131cee77.jpg" alt="image alt text"></p><br><p>  Such a module will not reduce the number of network wires, but will allow you to connect to the corporate LAN with minimal investment.  If, instead, use an inexpensive <a href="http://www.cisco.com/c/en/us/products/switches/catalyst-blade-switch-3020-hp/index.html">Cisco Catalyst 3020</a> with 8 1GbE Ethernet ports and 4 1GbE SFP ports, then only a few common chassis ports will need to be connected to the public network. </p><br><p><img src="https://habrastorage.org/files/327/674/48b/32767448bdc34539a195ffafc373544b.jpg" alt="image alt text"></p><br><p>  Such network devices do not differ from ordinary ones in their capabilities.  The <a href="https://www.hpe.com/ru/ru/integrated-systems/virtual-connect.html">HPE Virtual Connect</a> (VC) modules look much more interesting.  Their main feature is the ability to create several separate networks with flexible LAN and SAN bandwidth allocation.  For example, you can lead to the 10GbE chassis and "cut" out of it 6 Gigabit LAN and one 4Gb SAN. </p><br><p><img src="https://habrastorage.org/files/153/d06/3d2/153d063d26084c608b1a7828a3d0febe.jpg" alt="image alt text"></p><br><p>  At the same time, VC supports up to four connections to each server, which opens up certain spaces for creativity and cluster assembly.  Other manufacturers have similar solutions - something similar from Lenovo is called <a href="http://bladecenter.lenovofiles.com/help/index.jsp%3Ftopic%3D%252Fcom.lenovo.bladecenter.io_39Y9267.doc%252Fio_c_esm_snet_vf10g_product_page.html">IBM BladeCenter Virtual Fabric</a> . </p><br><blockquote>  Contrary to popular belief, the blades themselves do not differ from ordinary servers, and do not provide any particular advantages in terms of virtualization.  Interesting opportunities appear only with the use of special, vendor-locked technologies, such as HPE VC or Hitachi LPAR. </blockquote><br><h1 id="neskolko-ipmi-iz-odnoy-konsoli">  Multiple IPMI from one console </h1><br><p>  You can use the BMC hardware control modules (iLO in the case of HPE) to configure the blade servers.  The administration and remote connection mechanism differs little from a regular server, but the Onboard Administrator (OA) control modules themselves can reserve each other and provide a single entry point to manage all devices in the chassis. </p><br><p>  OA can be with a built-in KVM console for connecting an external monitor, or with only one network interface. </p><br><p><img src="https://habrastorage.org/files/0e8/587/46c/0e858746c47f43d1b40ddff5cc8b0a54.jpg" alt="image alt text"></p><br><p>  In general, administration through OA is as follows: </p><br><ol><li><p>  You connect to the web interface of the Onboard Administrator console.  Here you can see the status of all subsystems, disable or remove the blade, update the firmware, etc. </p><br></li><li><p>  If you need to get to the console of a specific server, select it in the list of equipment and connect to its own iLO.  There is already all the usual set of IPMI, including access to the images and reboot. </p><br><p><img src="https://habrastorage.org/files/0d4/4eb/c2a/0d44ebc2a7544944a80bc5cad8dd12a4.jpg" alt="image alt text"></p><br></li></ol><br><p>  Even better, connect the blade system to external control software like HPE Insight Control or its <a href="https://habrahabr.ru/company/pc-administrator/blog/311644/">replacement OneView</a> .  Then you can configure the automatic installation of the operating system on the new blade and the cluster load distribution. </p><br><p>  Speaking of reliability, blades break down just like normal servers.  Therefore, when ordering a configuration, do not neglect the redundancy of components and careful study of the instructions for the firmware.  If the suspended Onboard Administrator delivers only inconvenience to the administrator, then an incorrect update of the firmware of all elements of the blade system is fraught with its inoperability. </p><br><p>  But behind all this magic, we completely forgot about mundane matters. </p><br><h1 id="nuzhen-li-bleyd-v-vashey-kompanii">  Do you need a blade in your company? </h1><br><p>  High density, a small amount of wires, control from one point is all well and good, but let's estimate the cost of the solution.  Suppose, in an abstract organization, you need to start at once 10 identical servers.  Compare the cost of blades and traditional HPE ProLiant DL rack-mount models.  For ease of evaluation, I do not take into account the cost of hard drives and network equipment. </p><br><p>  Blades: </p><br><table><tbody><tr><td>  Name </td><td>  Model </td><td>  amount </td><td>  Cost of </td></tr><tr><td>  Chassis </td><td>  HPE BladeSystem c7000 </td><td>  one </td><td>  603 125 ‚ÇΩ </td></tr><tr><td>  Power Supply </td><td>  2400W </td><td>  four </td><td>  - </td></tr><tr><td>  Control module </td><td>  HPE Onboard Administrator </td><td>  one </td><td>  - </td></tr><tr><td>  Network module </td><td>  HPE Pass-Thru </td><td>  2 </td><td>  211 250 ‚ÇΩ </td></tr><tr><td>  Blade </td><td>  HPE ProLiant BL460c Gen8 </td><td>  ten </td><td>  4 491 900 ‚ÇΩ </td></tr><tr><td>  CPU </td><td>  Intel Xeon E5-2620 </td><td>  20 </td><td>  - </td></tr><tr><td>  RAM </td><td>  8 GB ECC Reg </td><td>  40 </td><td>  - </td></tr><tr><td>  Total: </td><td></td><td></td><td>  5 306 275 ‚ÇΩ </td></tr></tbody></table><br><p>  Prices are valid on 06.02.2017, source - <a href="http://www.stss.ru/">STSS</a> <br>  Analogs - <a href="https://servermall.ru/catalog/model-hp-dl360p-gen8/441-2/">HP ProLiant DL360p Gen8</a> : </p><br><table><tbody><tr><td>  Name </td><td>  Model </td><td>  amount </td><td>  Cost of </td></tr><tr><td>  Platform </td><td>  HP ProLiant DL360p Gen8 </td><td>  ten </td><td>  3 469 410 ‚ÇΩ </td></tr><tr><td>  CPU </td><td>  Intel Xeon E5-2620 </td><td>  20 </td><td>  - </td></tr><tr><td>  Power Supply </td><td>  460W </td><td>  20 </td><td>  - </td></tr><tr><td>  RAM </td><td>  8 GB ECC Reg </td><td>  40 </td><td>  - </td></tr><tr><td>  Total </td><td></td><td></td><td>  3 469 410 ‚ÇΩ </td></tr></tbody></table><br><p>  Prices are valid on 06.02.2017, source - <a href="http://www.stss.ru/">STSS</a> </p><br><p>  The difference is almost two million rubles, while I did not lay out full fault tolerance: an additional control module and, ideally, another chassis.  Plus, we are depriving us of convenient network switching due to the use of the cheapest pass-thru modules for simple output of the network interfaces of the servers to the outside.  Virtual Connect would be more appropriate here, but the price ... <br>  It turns out that "head on" saving will not work, so let's move on to the other pluses and minuses of the blades. </p><br><h1 id="esche-nemnogo-argumentov">  Some more arguments </h1><br><p>  The obvious advantages of blade systems include: </p><br><ul><li><p>  Installation density  If you need many, many servers in one DC, blades are like saving; </p><br></li><li><p>  Neat and compact cable infrastructure due to flexible internal switching of blades; </p><br></li><li><p>  Ease of management - the entire basket can be controlled from one console and without installing additional software; </p><br></li><li><p>  Easy installation of new blades, while there is a place in the chassis - just like with disks in baskets with hot swapping.  In theory, it is possible immediately when installing the blade to load the configured system over PXE and allocate resources in the cluster; </p><br></li><li>  Reliability.  Virtually all nodes can be reserved. </li></ul><br><p>  But without cons: </p><br><ul><li><p>  Limited blade.  If you need a server with four processors and a large number of local hard drives (for example, NMVE SSD), then installing such a large blade in a quarter of the entire chassis capacity makes it useless to use a high-density basket; </p><br></li><li><p>  Reliability.  Despite the duplication of components, there is a single point of failure - the communication board (backplane) chassis.  In case of failure, all blades may fail; </p><br></li><li><p>  The impossibility of separation.  If you need to create a geographically distributed cluster, you can not just pull out and transport half of the servers - you will need another chassis; </p><br></li><li> Cost  In itself, the chassis stands as three blades, and the blade stands as a full-fledged server. </li></ul><br><h1 id="tak-chto-zhe-vybrat">  So what to choose </h1><br><p>  Blades look very organic in really large data centers, such as hosting companies.  In such scenarios, the speed of scaling and the maximum density of equipment placement come out on top - saving on space and administration may well pay for the basket and all kinds of Virtual Connect. </p><br><p>  In other cases, the use of ordinary rack servers seems to be more reasonable and universal.  In addition, the widespread adoption of fast virtualization systems further reduced the popularity of blades, since most applications can also be compressed using virtual servers.  Needless to say, managing virtual machines is even more convenient than blades. </p><br><p>  <strong>If you have used Blade Systems in not the largest companies - share your impressions of the administration.</strong> </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/323386/">https://habr.com/ru/post/323386/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../323376/index.html">Launch WebRTC media server in Amazon EC2 cloud for live video streaming from browsers and mobile applications</a></li>
<li><a href="../323378/index.html">Bitcoin in Russia: who uses?</a></li>
<li><a href="../323380/index.html">Address Sanitizer, or What if valgrind doesn't work</a></li>
<li><a href="../323382/index.html">Smart Cities, or Smart Cities = Happy Citizens</a></li>
<li><a href="../323384/index.html">Qiwi IPN on Node.js</a></li>
<li><a href="../323388/index.html">Reviving ActionScript2.0 with javascript</a></li>
<li><a href="../323390/index.html">Bring me a blue bathrobe</a></li>
<li><a href="../323392/index.html">Search Yandex. And these people forbid us to poke around.</a></li>
<li><a href="../323394/index.html">Promotion of reality quests in million-plus cities and outback</a></li>
<li><a href="../323396/index.html">What do Uber, Volkswagen and Zenefits have in common? They all used hidden code to bypass the law.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>