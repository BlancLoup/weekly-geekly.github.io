<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Livejack blackjack</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Probably, many are already fed up with headers like ‚ÄúXXX in 30 lines‚Äù, but I would venture to write another post. In order to somehow smooth the anger...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Livejack blackjack</h1><div class="post__text post__text-html js-mediator-article">  Probably, many are already fed up with headers like ‚ÄúXXX in 30 lines‚Äù, but I would venture to write another post.  In order to somehow smooth the anger of individual habraluy, I will tell you what each line does in this script. <br><img src="https://habrastorage.org/getpro/habr/post_images/44f/068/a93/44f068a93dc0aa30bbb68ea3e7136fc8.jpg" alt="image"><br><a name="habracut"></a><br>  As a game, I chose <a href="http://ru.wikipedia.org/wiki/%25D0%2591%25D0%25BB%25D1%258D%25D0%25BA%25D0%25B4%25D0%25B6%25D0%25B5%25D0%25BA">Blackjack</a> .  Let me remind the rules: <br><ul><li>  Player plays with dealer </li><li>  Initially, the player is dealt 2 cards, and the dealer is one, all cards are visible </li><li>  Each card gives a certain number of points (numbers according to its value, pictures - 10, ace - 11 or 1, as more profitable) </li><li>  The task is to score more points, but not more than 21 </li><li>  To increase points you need to take additional cards. </li></ul><br>  Link to <a href="http://jsfiddle.net/46whZ/11/embedded/result/">jsfiddle</a> . <br>  The code itself: <br><pre><code class="javascript hljs">cards = [[<span class="hljs-string"><span class="hljs-string">'\ud83c\udca1'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udca2'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udca3'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udca4'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udca5'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udca6'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udca7'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udca8'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udca9'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcaa'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcab'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcad'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcae'</span></span>,] [<span class="hljs-string"><span class="hljs-string">'\ud83c\udcb1'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcb2'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcb3'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcb4'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcb5'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcb6'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcb7'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcb8'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcb9'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcba'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcbb'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcbd'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcbe'</span></span>,] [<span class="hljs-string"><span class="hljs-string">'\ud83c\udcc1'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcc2'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcc3'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcc4'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcc5'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcc6'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcc7'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcc8'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcc9'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcca'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udccb'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udccd'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcce'</span></span>,] [<span class="hljs-string"><span class="hljs-string">'\ud83c\udcd1'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcd2'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcd3'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcd4'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcd5'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcd6'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcd7'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcd8'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcd9'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcda'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcdb'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcdd'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcde'</span></span>]] deck=[[<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span> ] [<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>] [<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>] [<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>] [<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>] [<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span>] [<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span>] [<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span>] [<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span>] [<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>] [<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>] [<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>] [<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>] [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span> ] [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>] [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>] [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>] [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>] [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span>] [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span>] [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span>] [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span>] [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>] [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>] [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>] [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>] [<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span> ] [<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>] [<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>] [<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>] [<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>] [<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span>] [<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span>] [<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span>] [<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span>] [<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>] [<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>] [<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>] [<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>] [<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span> ] [<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>] [<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>] [<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>] [<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>] [<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span>] [<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span>] [<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span>] [<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span>] [<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>] [<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>] [<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>] [<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>] ] sdeck=<span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.parse <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.stringify deck shuffle = !-&gt; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x,i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> deck when (x=<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.floor(<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.random() * (i + <span class="hljs-number"><span class="hljs-number">1</span></span>));<span class="hljs-literal"><span class="hljs-literal">true</span></span>) [deck[i],deck[x]] = [deck[x],deck[i]] gid=(id) -&gt; <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(id) <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.mca=mc=[];<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.dca=dc=[];defbet=gid(<span class="hljs-string"><span class="hljs-string">"defbet"</span></span>);m=gid(<span class="hljs-string"><span class="hljs-string">"money"</span></span>);bet=gid(<span class="hljs-string"><span class="hljs-string">"bet"</span></span>);mch=gid(<span class="hljs-string"><span class="hljs-string">"mcards"</span></span>);dch=gid(<span class="hljs-string"><span class="hljs-string">"dcards"</span></span>);l=gid(<span class="hljs-string"><span class="hljs-string">"log"</span></span>) tod = !-&gt; dc.push (c=deck.pop!); dch.innerHTML+=cards[c[<span class="hljs-number"><span class="hljs-number">0</span></span>]][c[<span class="hljs-number"><span class="hljs-number">1</span></span>]] log = (msg)!-&gt; l.innerHTML=msg <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.more = tom = !-&gt; mc.push (c=deck.pop!); mch.innerHTML+=cards[c[<span class="hljs-number"><span class="hljs-number">0</span></span>]][c[<span class="hljs-number"><span class="hljs-number">1</span></span>]]; summ(mc)&gt;<span class="hljs-number"><span class="hljs-number">21</span></span> and (log <span class="hljs-string"><span class="hljs-string">""</span></span>;gid(<span class="hljs-string"><span class="hljs-string">"d"</span></span>).disabled=gid(<span class="hljs-string"><span class="hljs-string">"m"</span></span>).disabled=gid(<span class="hljs-string"><span class="hljs-string">"e"</span></span>).disabled=<span class="hljs-literal"><span class="hljs-literal">true</span></span>;gid(<span class="hljs-string"><span class="hljs-string">"g"</span></span>).disabled=<span class="hljs-literal"><span class="hljs-literal">false</span></span>) clear = !-&gt; gid(<span class="hljs-string"><span class="hljs-string">"g"</span></span>).disabled=!(gid(<span class="hljs-string"><span class="hljs-string">"d"</span></span>).disabled=gid(<span class="hljs-string"><span class="hljs-string">"m"</span></span>).disabled=gid(<span class="hljs-string"><span class="hljs-string">"e"</span></span>).disabled=<span class="hljs-literal"><span class="hljs-literal">false</span></span>);log <span class="hljs-string"><span class="hljs-string">""</span></span>;bet.innerHTML=<span class="hljs-number"><span class="hljs-number">0</span></span>;mch.innerHTML=dch.innerHTML=<span class="hljs-string"><span class="hljs-string">""</span></span>;mc.length=<span class="hljs-number"><span class="hljs-number">0</span></span>;dc.length=<span class="hljs-number"><span class="hljs-number">0</span></span>;deck:=<span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.parse <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.stringify sdeck;shuffle! <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.s=summ = (ar)-&gt; sum=<span class="hljs-number"><span class="hljs-number">0</span></span>;tzs=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> c <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ar (c[<span class="hljs-number"><span class="hljs-number">2</span></span>] and sum+=c[<span class="hljs-number"><span class="hljs-number">2</span></span>]) or tzs++ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span> to tzs] (sum+<span class="hljs-number"><span class="hljs-number">11</span></span>&gt;<span class="hljs-number"><span class="hljs-number">21</span></span> and sum+=<span class="hljs-number"><span class="hljs-number">1</span></span>) or sum+=<span class="hljs-number"><span class="hljs-number">11</span></span> sum betbet = -&gt; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> +m.innerHTML&lt;+defbet.value then log <span class="hljs-string"><span class="hljs-string">"    !"</span></span>; <span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> bet.innerHTML=+defbet.value;m.innerHTML-=+defbet.value;<span class="hljs-literal"><span class="hljs-literal">true</span></span> <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.dub = !-&gt; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> +m.innerHTML&lt;+bet.innerHTML then log <span class="hljs-string"><span class="hljs-string">"    !"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> m.innerHTML-=+bet.innerHTML;bet.innerHTML*=<span class="hljs-number"><span class="hljs-number">2</span></span>;tom! <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.give = !-&gt; (clear!; betbet!) and (tom!;tom!;tod!;<span class="hljs-literal"><span class="hljs-literal">true</span></span>) or gid(<span class="hljs-string"><span class="hljs-string">"g"</span></span>).disabled=<span class="hljs-literal"><span class="hljs-literal">false</span></span>;!mc[<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-number"><span class="hljs-number">2</span></span>] and !mc[<span class="hljs-number"><span class="hljs-number">1</span></span>][<span class="hljs-number"><span class="hljs-number">2</span></span>] and (log <span class="hljs-string"><span class="hljs-string">" !"</span></span>; m.innerHTML = +m.innerHTML + +bet.innerHTML*<span class="hljs-number"><span class="hljs-number">3</span></span>;gid(<span class="hljs-string"><span class="hljs-string">"e"</span></span>).disabled=<span class="hljs-literal"><span class="hljs-literal">true</span></span>;gid(<span class="hljs-string"><span class="hljs-string">"g"</span></span>).disabled=<span class="hljs-literal"><span class="hljs-literal">false</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.enough = !-&gt; win=<span class="hljs-literal"><span class="hljs-literal">true</span></span>;nothing=<span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> summ(dc) &lt; <span class="hljs-number"><span class="hljs-number">17</span></span> tod! log <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> summ(dc)&gt;<span class="hljs-number"><span class="hljs-number">21</span></span> or summ(dc)&lt;summ(mc) then <span class="hljs-string"><span class="hljs-string">" !"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> summ(dc)==summ(mc) then (nothing=<span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-string"><span class="hljs-string">""</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> (win=<span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-string"><span class="hljs-string">" "</span></span>) gid(<span class="hljs-string"><span class="hljs-string">"g"</span></span>).disabled=<span class="hljs-literal"><span class="hljs-literal">false</span></span> gid(<span class="hljs-string"><span class="hljs-string">"e"</span></span>).disabled=<span class="hljs-literal"><span class="hljs-literal">true</span></span> m.innerHTML = +m.innerHTML + (+bet.innerHTML)*(<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> nothing then <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> win then <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>)</code> </pre> <br><br>  So, we will consider its each line. <br><br>  The first line initializes an array with "images" of maps. <br><pre> <code class="javascript hljs">cards = [[<span class="hljs-string"><span class="hljs-string">'\ud83c\udca1'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udca2'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udca3'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udca4'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udca5'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udca6'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udca7'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udca8'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udca9'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcaa'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcab'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcad'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcae'</span></span>,] [<span class="hljs-string"><span class="hljs-string">'\ud83c\udcb1'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcb2'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcb3'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcb4'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcb5'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcb6'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcb7'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcb8'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcb9'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcba'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcbb'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcbd'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcbe'</span></span>,] [<span class="hljs-string"><span class="hljs-string">'\ud83c\udcc1'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcc2'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcc3'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcc4'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcc5'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcc6'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcc7'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcc8'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcc9'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcca'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udccb'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udccd'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcce'</span></span>,] [<span class="hljs-string"><span class="hljs-string">'\ud83c\udcd1'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcd2'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcd3'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcd4'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcd5'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcd6'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcd7'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcd8'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcd9'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcda'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcdb'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcdd'</span></span>, <span class="hljs-string"><span class="hljs-string">'\ud83c\udcde'</span></span>]]</code> </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The second line initializes the array with maps, each map represents an array with three elements: the coordinates of the map image and its value.  In this case, false is stored for aces, since it is processed separately. <br><pre> <code class="javascript hljs">deck=[[<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span> ] [<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>] [<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>] [<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>] [<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>] [<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span>] [<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span>] [<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span>] [<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span>] [<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>] [<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>] [<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>] [<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>] [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span> ] [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>] [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>] [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>] [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>] [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span>] [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span>] [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span>] [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span>] [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>] [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>] [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>] [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>] [<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span> ] [<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>] [<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>] [<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>] [<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>] [<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span>] [<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span>] [<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span>] [<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span>] [<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>] [<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>] [<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>] [<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>] [<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span> ] [<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>] [<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>] [<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>] [<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>] [<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span>] [<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span>] [<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span>] [<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span>] [<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>] [<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>] [<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>] [<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span>] ]</code> </pre><br>  In the third line, the array of maps is copied to another array, since with further actions the first array will be corrupted. <br><pre> <code class="javascript hljs">sdeck=<span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.parse <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.stringify deck</code> </pre><br>  The fourth and fifth lines declare the deck mixing function. <br><pre> <code class="javascript hljs">shuffle = !-&gt; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x,i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> deck when (x=<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.floor(<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.random() * (i + <span class="hljs-number"><span class="hljs-number">1</span></span>));<span class="hljs-literal"><span class="hljs-literal">true</span></span>) [deck[i],deck[x]] = [deck[x],deck[i]]</code> </pre><br>  The sixth line declares a short function to replace the long document.getElementById. <br><pre> <code class="javascript hljs">gid=(id) -&gt; <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(id)</code> </pre><br>  In the seventh line, the player and dealer card sets are announced, as well as links to the size of the bet, the amount of player money, the current con, the container with the player and dealer cards and the place to display messages. <br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.mca=mc=[];<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.dca=dc=[];defbet=gid(<span class="hljs-string"><span class="hljs-string">"defbet"</span></span>);m=gid(<span class="hljs-string"><span class="hljs-string">"money"</span></span>);bet=gid(<span class="hljs-string"><span class="hljs-string">"bet"</span></span>);mch=gid(<span class="hljs-string"><span class="hljs-string">"mcards"</span></span>);dch=gid(<span class="hljs-string"><span class="hljs-string">"dcards"</span></span>);l=gid(<span class="hljs-string"><span class="hljs-string">"log"</span></span>)</code> </pre><br>  The eighth line.  The function of adding a card to the dealer. <br><pre> <code class="javascript hljs">tod = !-&gt; dc.push (c=deck.pop!); dch.innerHTML+=cards[c[<span class="hljs-number"><span class="hljs-number">0</span></span>]][c[<span class="hljs-number"><span class="hljs-number">1</span></span>]]</code> </pre><br>  Ninth line.  Message display function. <br><pre> <code class="javascript hljs">log = (msg)!-&gt; l.innerHTML=msg</code> </pre><br>  In the tenth line, the function of adding a card to a player is announced and rendered to the global scope. <br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.more = tom = !-&gt; mc.push (c=deck.pop!); mch.innerHTML+=cards[c[<span class="hljs-number"><span class="hljs-number">0</span></span>]][c[<span class="hljs-number"><span class="hljs-number">1</span></span>]]; summ(mc)&gt;<span class="hljs-number"><span class="hljs-number">21</span></span> and (log <span class="hljs-string"><span class="hljs-string">""</span></span>;gid(<span class="hljs-string"><span class="hljs-string">"d"</span></span>).disabled=gid(<span class="hljs-string"><span class="hljs-string">"m"</span></span>).disabled=gid(<span class="hljs-string"><span class="hljs-string">"e"</span></span>).disabled=<span class="hljs-literal"><span class="hljs-literal">true</span></span>;gid(<span class="hljs-string"><span class="hljs-string">"g"</span></span>).disabled=<span class="hljs-literal"><span class="hljs-literal">false</span></span>)</code> </pre><br>  11-12 lines.  The reset function for the new engine.  The dealer and the player take the cards, a new deck is created and shuffled, a message box is cleared. <br><pre> <code class="javascript hljs">clear = !-&gt; gid(<span class="hljs-string"><span class="hljs-string">"g"</span></span>).disabled=!(gid(<span class="hljs-string"><span class="hljs-string">"d"</span></span>).disabled=gid(<span class="hljs-string"><span class="hljs-string">"m"</span></span>).disabled=gid(<span class="hljs-string"><span class="hljs-string">"e"</span></span>).disabled=<span class="hljs-literal"><span class="hljs-literal">false</span></span>);log <span class="hljs-string"><span class="hljs-string">""</span></span>;bet.innerHTML=<span class="hljs-number"><span class="hljs-number">0</span></span>;mch.innerHTML=dch.innerHTML=<span class="hljs-string"><span class="hljs-string">""</span></span>;mc.length=<span class="hljs-number"><span class="hljs-number">0</span></span>;dc.length=<span class="hljs-number"><span class="hljs-number">0</span></span>;deck:=<span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.parse <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.stringify sdeck;shuffle!</code> </pre><br>  13-19 lines.  The function of counting the amount.  We summarize all the cards, count the number of aces, at the end count them, trying to meet the 21. <br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.s=summ = (ar)-&gt; sum=<span class="hljs-number"><span class="hljs-number">0</span></span>;tzs=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> c <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ar (c[<span class="hljs-number"><span class="hljs-number">2</span></span>] and sum+=c[<span class="hljs-number"><span class="hljs-number">2</span></span>]) or tzs++ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span> to tzs] (sum+<span class="hljs-number"><span class="hljs-number">11</span></span>&gt;<span class="hljs-number"><span class="hljs-number">21</span></span> and sum+=<span class="hljs-number"><span class="hljs-number">1</span></span>) or sum+=<span class="hljs-number"><span class="hljs-number">11</span></span> sum</code> </pre><br>  Twentieth line.  We make a bet, check that there is enough money. <br><pre> <code class="javascript hljs">betbet = -&gt; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> +m.innerHTML&lt;+defbet.value then log <span class="hljs-string"><span class="hljs-string">"    !"</span></span>; <span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> bet.innerHTML=+defbet.value;m.innerHTML-=+defbet.value;<span class="hljs-literal"><span class="hljs-literal">true</span></span></code> </pre><br>  Twenty first line.  Double the bet. <br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.dub = !-&gt; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> +m.innerHTML&lt;+bet.innerHTML then log <span class="hljs-string"><span class="hljs-string">"    !"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> m.innerHTML-=+bet.innerHTML;bet.innerHTML*=<span class="hljs-number"><span class="hljs-number">2</span></span>;tom!</code> </pre><br>  Twenty-second line.  We distribute initial cards. <br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.give = !-&gt; (clear!; betbet!) and (tom!;tom!;tod!;<span class="hljs-literal"><span class="hljs-literal">true</span></span>) or gid(<span class="hljs-string"><span class="hljs-string">"g"</span></span>).disabled=<span class="hljs-literal"><span class="hljs-literal">false</span></span>;!mc[<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-number"><span class="hljs-number">2</span></span>] and !mc[<span class="hljs-number"><span class="hljs-number">1</span></span>][<span class="hljs-number"><span class="hljs-number">2</span></span>] and (log <span class="hljs-string"><span class="hljs-string">" !"</span></span>; m.innerHTML = +m.innerHTML + +bet.innerHTML*<span class="hljs-number"><span class="hljs-number">3</span></span>;gid(<span class="hljs-string"><span class="hljs-string">"e"</span></span>).disabled=<span class="hljs-literal"><span class="hljs-literal">true</span></span>;gid(<span class="hljs-string"><span class="hljs-string">"g"</span></span>).disabled=<span class="hljs-literal"><span class="hljs-literal">false</span></span>)</code> </pre><br>  23-30.  If there are enough cards, the dealer picks up his cards, after which the points are compared. <br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.enough = !-&gt; win=<span class="hljs-literal"><span class="hljs-literal">true</span></span>;nothing=<span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> summ(dc) &lt; <span class="hljs-number"><span class="hljs-number">17</span></span> tod! log <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> summ(dc)&gt;<span class="hljs-number"><span class="hljs-number">21</span></span> or summ(dc)&lt;summ(mc) then <span class="hljs-string"><span class="hljs-string">" !"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> summ(dc)==summ(mc) then (nothing=<span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-string"><span class="hljs-string">""</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> (win=<span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-string"><span class="hljs-string">" "</span></span>) gid(<span class="hljs-string"><span class="hljs-string">"g"</span></span>).disabled=<span class="hljs-literal"><span class="hljs-literal">false</span></span> gid(<span class="hljs-string"><span class="hljs-string">"e"</span></span>).disabled=<span class="hljs-literal"><span class="hljs-literal">true</span></span> m.innerHTML = +m.innerHTML + (+bet.innerHTML)*(<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> nothing then <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> win then <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>)</code> </pre></div><p>Source: <a href="https://habr.com/ru/post/202906/">https://habr.com/ru/post/202906/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../202894/index.html">Galileo is the first Arduino-compatible microcomputer on the Intel platform. Now Available!</a></li>
<li><a href="../202896/index.html">Continuous Integration in Selectle</a></li>
<li><a href="../202898/index.html">Wireless communications "smart home". Part two, practical</a></li>
<li><a href="../202900/index.html">KUB-BS - controller ‚Äúfor growth‚Äù for monitoring container-type objects, including Cellular base stations</a></li>
<li><a href="../202904/index.html">Budget VDS for training and development</a></li>
<li><a href="../202908/index.html">Automatic spell checker, model Noisy Channel</a></li>
<li><a href="../202910/index.html">Automatic testing of iOS applications</a></li>
<li><a href="../202912/index.html">Electronic devices can be used in flight in the USA and Europe.</a></li>
<li><a href="../202914/index.html">Report on the launch of programs on users' computers</a></li>
<li><a href="../202918/index.html">November's new items in Opera: version for tablets and synchronization</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>