<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Video conferencing based on open source software and Flash</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In my previous article, I revealed how to build a video conferencing using the H.323 protocol based on free software and received quite a lot of feedb...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Video conferencing based on open source software and Flash</h1><div class="post__text post__text-html js-mediator-article">  In my previous <a href="http://habrahabr.ru/blogs/open_source/53427">article,</a> I revealed how to build a video conferencing using the H.323 protocol based on free software and received quite a lot of feedback and criticism.  In particular, quite a large number of readers questioned the fundamental importance of using such a complex signaling protocol for most tasks - indeed, in our time, video communication is needed not only to connect complex professional systems, such as Tandberg or Polycom, sometimes people need to ‚Äújust stumble‚Äù, or the size of the organization in which communication is required is too small to implement something time consuming or expensive.  Then flash technology comes to our aid and an excellent open source solution is the <a href="http://code.google.com/p/openmeetings">OpenMeetings</a> project. <br><br>  The main features of our video meeting system are as follows: <br>  Provide multipoint video calling. <br>  No need to install additional software on users' computers.  The message with the server is carried out using a conventional browser. <br>  Collaboration on the "white board" and with office documents. <br>  Low hardware costs: the server on the Pentium 4 2GB RAM can handle at least 100 connections. <br>  Guaranteed reliability: the service life of the server software to failure of at least 48 hours. <br>  Integration with Microsoft products. <br>  The ability to record a meeting. <br>  Use of the address book of the enterprise under the LDAP protocol. <br>  Sending invitations to meetings. <br>  Instructions in Russian. <br><br><a name="habracut"></a>  The server solution is based on the following components: <br>  MySql - database; <br>  Apache Tomcat - web server; <br>  Red5 - Flash media server; <br>  OpenOffice.org - documentation server; <br>  Openmeetings is a web application written in java and scripting language. <br>  Connection to the server is carried out using the http (port 5080), rtmp (port 1935), rtmpt (port 8088) protocols.  In order for the server to be visible on the Internet, it is enough to push these three ports onto a computer behind a router or a firewall. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Of course, the easiest way is to give a link to the description of the installation of the already assembled code by default, the benefit is, and not to distract you more, but I decided to take a slightly more sophisticated path.  Firstly, the installation descriptions, as in all such open source solutions, are not full of details, secondly, very often you need to make minimal changes at your own whim, or the wishes of the customer, and then simply installing the compiled code is indispensable.  On the other hand, the project is quite large, and it is impossible to describe everything within one article, without turning it into a treatise, so today I will limit myself to the following - the article will describe how to get the source of the server, debug and collect the server code on my computer running Windows XP, as well as test it, and how to install it on the client‚Äôs server or your own, you will figure it out.  The work on the client part is left as an elective. <br><br><h5>  Tools </h5><br>  So let's start with the necessary tools. <br><br>  1.SVN client - TortoiseSVN 1.6.0 <br>  <a href="">downloads.sourceforge.net/tortoisesvn/TortoiseSVN-1.6.0.15855-win32-svn-1.6.0.msi?download</a> <br><br>  2. Java application development environment - Eclipse IDE for Java Developers <br>  <a href="http://www.eclipse.org/downloads/">www.eclipse.org/downloads</a> <br><br>  3.Java Development Kit <br>  <a href="https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start%3FProductRef%3Djdk-6u13-oth-JPR%40CDS-CDS_Developer">https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=jdk-6u13-oth-JPR@CDS-CDS_Developer</a> <br><br>  4.Flash open source software server - Red5 <br>  <a href="">www.red5.org/downloads/red5/0_8_RC2/setup-Red5-0.8.0-RC2.exe</a> <br><br>  5. Database - MySQL <br>  <a href="http://dev.mysql.com/downloads/mysql/5.1.html">dev.mysql.com/downloads/mysql/5.1.html#win32</a> <br><br>  6.Packing OpenMeetings with already assembled binary code (borrow the client part) <br>  <a href="">openmeetings.googlecode.com/files/openmeetings_0_7_rc2.zip</a> <br><br>  7.Sysinternals utilities package <br>  <a href="">download.sysinternals.com/Files/SysinternalsSuite.zip</a> <br><br><h5>  Obtaining and compiling source code </h5><br>  First we get, and collect the server code.  To do this, after installing TortoiseSVN, we will create a folder on the disk and make SVN Checkout of the latest (or some other) code revision there. <br><img src="http://img183.imageshack.us/img183/3164/checkout.jpg" alt="image"><br><br>  As a reference to the repository we indicate <pre>  http://openmeetings.googlecode.com/svn/trunk/webapp/ </pre><br><br>  Next, we put previously downloaded Eclipse, and in the workspace we create a new project, call it OpenMeetings, and import the file system there, specifying our newly created folder as the main one: <br><img src="http://img183.imageshack.us/img183/3164/checkout.jpg" alt="image"><br><br>  I‚Äôll draw your attention to the fact that content is being imported, not the folder itself, in order to maintain compatibility with the directory structure in Eclipse. <br><br>  Making Window-&gt; Show View-&gt; Ant and in the window that opens, clicking on ‚ÄúAdd buildfiles‚Äù add the build.xml build file, we get the following picture: <br><img src="http://img410.imageshack.us/img410/9977/anta.jpg" alt="image"><br><br>  Now install the JDK, you must register it in Eclipse for later use - this is done by adding the path to the installed JDK in Window-&gt; Preferences-&gt; Java-&gt; Installed JREs.  If everything is spelled correctly, double-click on building the distribution (dist, default item) in the form of Ant View will lead to a successful construction of the project.  In addition to the console, you can check the success by pressing the right button on the project and selecting the Refresh item. The dist folder containing the OpenMeetings files should appear in the project structure.  Congratulations, you're already halfway to victory! <br><img src="http://img410.imageshack.us/img410/5215/build1.jpg" alt="image"><br><br><h5>  Database </h5><br>  Now we will install MySQL and prepare it for use, and then we will try to start our project.  I will not dive into the details of this process, since in principle, the default values ‚Äã‚Äãare quite suitable for our purposes - namely, the DBMS for a small number of clients.  Is that the encoding in the database, I would put UTF-8.  After installation, you should go to the base to check that it works, and also prepare a springboard for the installation of the OpenMeetings project.  To do this, run from the command line, enter the password - and make sure that we are in the system and it works: <br><img src="http://img515.imageshack.us/img515/9682/mysql.jpg" alt="image"><br><br>  After the login is successful and the database is created, you need to edit the file from the dist folder (the one that appeared after compilation) /openmeetings/conf/mysql_hibernate.cfg.xml, set the user (for example root) and its password in it, and also as a server 127.0.0.1 and openmeetings database.  In my case, the connection string will look like this: <br><br><pre>  &lt;property name = "connection.url"&gt; jdbc: mysql: //127.0.0.1/openmeetings? autoReconnect = true &amp; useUnicode = true &amp; createDatabaseIfNotExist = true &amp; characterEncoding = utf-8 &lt;/ property&gt; </pre><br><br>  The resulting file must be saved there as hibernate.cfg.xml <br><br><h5>  Flash server </h5><br>  Now let's do a Flash server.  Installing Red5 is simple and does not require any sophistication.  In the future, it will only be necessary to put our project in its web root, I used the utility from the Sysinternals package called junction.exe for this.  It performs the same trick as ln on Unix: <br><br> <code>&gt; junction -s ‚ÄúD:\Program Files\Red5\webapps\openmeetings‚Äù ‚ÄúD:\workspace\openmeetings\dist\openmeetings‚Äù</code> <br> <br>  Now our project becomes available through the web (do not forget about the firewall!). <br>  The last thing is to install and configure the tables in the database, as well as client programs. <br><br><h5>  Installing the project on the server </h5><br>  We prescribe the JAVA_HOME environment variable so that it points to the JDK. <br>  Setting the tables is simple - run Red5 (the red5.bat file in the installation folder) and go to the website <a href="http://127.0.0.1/openmeetings/install">127.0.0.1/openmeetings/install</a> If everything is configured correctly, then in the browser you will see the installation page, if not, re-read the instructions and view the Red5 logs, all errors should be displayed there.  After entering the configuration parameters and clicking the install button, you should also check the logs - under the right circumstances, various errors will not appear there, and the installation progress will be visible (it takes a few minutes).  At the end of the installation, all that remains to be done is to configure the client.  Namely, we pull out the file with the name main.lzx.swf8.swf from the downloaded archive with the ready openmeetings, and put it in the root of openmeetings.  Depending on the version of the software, you may have to rename it to main.lzx.lzr = swf8.swf - the need for such renaming will be indicated by a blank white screen when entering <a href="http://127.0.0.1/openmeetings">127.0.0.1/openmeetings</a> after the installation has been completed.  If you look at the incoming html-code, you can easily see exactly what the name of your script should be: <br><img src="http://img120.imageshack.us/img120/1859/htmlcode.jpg" alt="image"><br><br>  In most cases, such hassle is not expected.  Well, that's all, welcome to the conference! <br><br>  As we can see, without much effort, an ‚Äúadvanced‚Äù PC user can organize communications based on open source software in this area, and even participate in its development.  And professionals in this case play the role of support, project development, as well as meeting the special wishes of a potential client. </div><p>Source: <a href="https://habr.com/ru/post/55656/">https://habr.com/ru/post/55656/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../55649/index.html">Ben, ai nid help - habr does not work in opera.</a></li>
<li><a href="../55651/index.html">Translation of a series of articles about Erlang by Mitchell Hashimoto from http://spawnlink.com</a></li>
<li><a href="../55652/index.html">Ubuntu 9.04 Beta 1 released</a></li>
<li><a href="../55653/index.html">A small tutorial on drawing icons</a></li>
<li><a href="../55655/index.html">The story of a programmer.</a></li>
<li><a href="../55657/index.html">Introduction to the Open Telecom Platform / Open Telecommunication Platform (OTP / OTP)</a></li>
<li><a href="../55658/index.html">Technical characteristics of the human brain</a></li>
<li><a href="../55661/index.html">Opera is annealed</a></li>
<li><a href="../55662/index.html">YouTube EDU - educational videos from colleges and universities</a></li>
<li><a href="../55663/index.html">Questions and Answers: Conficker and April 1st</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>