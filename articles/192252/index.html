<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to connect to Hyperboria</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction  On Habr√© there are already several articles about the Hyperboria network: 
 Hyperboria: Internet 2.0 
 Hyperboria: How it all works 
 Hy...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to connect to Hyperboria</h1><div class="post__text post__text-html js-mediator-article"><h4>  Introduction </h4>  On Habr√© there are already several articles about the Hyperboria network: <br>  <a href="http://habrahabr.ru/post/181862/">Hyperboria: Internet 2.0</a> <br>  <a href="http://habrahabr.ru/post/182652/">Hyperboria: How it all works</a> <br>  <a href="http://habrahabr.ru/post/183606/">Hyperboria: Routing</a> <br><br>  In them you can read the details about the device and the principles of the network, the resolution of some problems and so on. <br><br>  Here I want to write something like FAQ + guide on the connection. <br><a name="habracut"></a><br><h4>  FAQ </h4>  <b>Q.</b> What is it all about? <br>  <b>O.</b> On a distributed decentralized p2p network built on the basis of <a href="https://github.com/cjdelisle/cjdns/">cjdns</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Q.</b> And why is it needed? <br>  <b>A.</b> Then that the current Internet is too dependent.  Depends on providers and their regulatory states.  The connection to the mesh network is completely open and free, the information cannot be censored, and it is impossible to match your ipv6 address on the network with the real physical address (in the case of a full-fledged mesh network). <br><br>  <b>Q.</b> What do I need to connect? <br>  <b>O.</b> Device with * nix-system (including OS X) <br><br>  <b>Q.</b> What about Windows? <br>  <b>O.</b> Development is <a href="https://github.com/cjdelisle/cjdns/issues/213">underway.</a> <br><br>  <b>Q.</b> Do I need Internet access? <br>  <b>A.</b> So far - it is needed, but in the strategic plan, the transition to a full-fledged mesh network. <br><br>  <b>Q.</b> What is a mesh network? <br>  <b>A.</b> Cjdns supports two modes of operation: <ul><li>  overlay mode - when the connection between the nodes occurs on top of a normal Internet connection </li><li>  Mesh mode - when nodes connect directly (for example, via wi-fi two nearby routers), without an Internet connection </li></ul><br><h4>  Connection </h4><h5>  Build from source </h5>  This is the installation method officially <a href="https://github.com/cjdelisle/cjdns/">proposed by the author</a> (my translation). <br>  Here's another <a href="">README in Russian</a> from <a href="http://habrahabr.ru/users/shifttstas/" class="user_link">shifttstas</a> <br><br>  You will need git, cmake and all sorts of other standard stuff. <br>  For Debian \ Ubuntu: <br><pre><code class="bash hljs">sudo apt-get install cmake git build-essential</code> </pre> <br>  Next, we download the <a href="https://github.com/cjdelisle/cjdns">repository from github</a> and switch to the appropriate directory: <br><pre> <code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/cjdelisle/cjdns.git cjdns <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> cjdns</code> </pre> <br>  Actually, the assembly: <br><pre> <code class="bash hljs">./<span class="hljs-keyword"><span class="hljs-keyword">do</span></span></code> </pre>  With a successful build, you will see <pre> <code class="bash hljs">Build completed successfully</code> </pre> <br>  There are installation instructions <a href="https://wiki.projectmeshnet.org/Install_on_ArchLinux">for ArchLinux</a> and <a href="https://wiki.projectmeshnet.org/Install_on_Gentoo">for Gentoo</a> <br><br><h5>  Customization </h5><h6>  0. Check that you have everything you need. </h6><pre> <code class="bash hljs">cat /dev/net/tun</code> </pre> <br>  If you get this: <br><pre> <code class="bash hljs">cat: /dev/net/tun: File descriptor <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> bad state</code> </pre>  so everything is OK!  <a href="https://habr.com/ru/post/192252/">Go ahead</a> <br><br>  If received such a response <br><pre> <code class="bash hljs">cat: /dev/net/tun: No such file or directory</code> </pre>  Run the following commands: <br><pre> <code class="bash hljs">sudo mkdir /dev/net &amp;&amp; sudo mknod /dev/net/tun c 10 200 &amp;&amp; sudo chmod 0666 /dev/net/tun</code> </pre> <br>  Try running again. <pre> <code class="bash hljs">cat /dev/net/tun</code> </pre> <br>  If in return you get this <br><pre> <code class="bash hljs">cat: /dev/net/tun: Permission denied</code> </pre>  You are probably using a VPS based on the OpenVZ platform.  Ask the hoster to turn on the TUN / TAP ‚Äútunnel interface‚Äù for you - this is a standard thing, they need to know how to do it. <br><br><a name="config"></a><h6>  1. Create a configuration file </h6><pre> <code class="bash hljs">./cjdroute --genconf &gt;&gt; cjdroute.conf</code> </pre>  This file is your everything!  There are your keys, ipv6 address, access passwords, etc.  etc., respectively, it must be well protected. <br><br>  Set access rights to the file only for yourself and place it, for example, in home <br><pre> <code class="bash hljs">chmod 600 cjdroute.conf mv cjdroute.conf ~/.cjdroute.conf</code> </pre> <br><h6>  2. Find peers </h6>  The most difficult step is while the network is mainly working in overlay mode (i.e., over an Internet connection), to connect to Hyperboria you need to find someone who is already connected. <br><br>  You can look at <a href="http://map.projectmeshnet.org/">the project map</a> , ask the irc: //irc.efnet.org/#cjdns <a href="http://chat.efnet.org:9090/%3Fchannels%3D">in the IRC</a> chat, try to ask <a href="http://hype.rusblock.com/forum/index.php">on the Russian-speaking forum</a> . <br><br>  There are some public nodes, but they are bad because (because of the small number of nodes in general) they break down decentralization and become the connection centers themselves.  You can connect through a public node, and then find someone inside the network (for example, there is an internal <a href="http://socialno.de/">microblogging service</a> ). <br><br><h6>  3. Add info peer to config </h6>  To connect to the feast, you need its ip and port, password and public key.  Usually, all this is transmitted in the form of JSON, looks like this: <br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">"123.45.67.123:34567"</span></span>: { <span class="hljs-string"><span class="hljs-string">"password"</span></span>: <span class="hljs-string"><span class="hljs-string">"sjfhgwetuyfdgwudbjwedgu34"</span></span>, <span class="hljs-string"><span class="hljs-string">"publicKey"</span></span>: <span class="hljs-string"><span class="hljs-string">"amnfbwjhfbu4bwhcbuwyrho2iudh384rgiwyebuwygriwebdfgueyr.k"</span></span> }</code> </pre> <br>  Similar information should be inserted into the config in the 'connectTo' field <pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// Nodes to connect to. "connectTo": { "0.1.2.3:45678": { "password": "thisIsNotARealConnection", "publicKey": "thisIsJustForAnExampleDoNotUseThisInYourConfFile.k" } }</span></span></code> </pre>  Or use my web interface (about it a <a href="https://habr.com/ru/post/192252/">little further</a> ). <br><br>  You can add as many peers as you like (and the more the better). <br><br>  If you want to give someone access through your node, then the data is in the config in the comments next to the 'authorized Passwords' section. <br>  You only need to enter your external ip-address. <br>  In the 'authorized Passwords' section, you can add different passwords for different people, and in json-information about peers, you can add any fields to the 'connectTo' (for example, information about the node‚Äôs geographical location). <br><br><h6>  4. Check open ports! </h6>  After connecting to the network, your node will receive a white static ipv6 address (however, available only from Hyperboria), so it is important to check if there are any open ports unknown to you that anyone could connect to. <br><br><h6>  5. Let's go! </h6><pre> <code class="bash hljs">sudo ./cjdroute &lt; ~/.cjdroute.conf</code> </pre> <br>  If you need to write logs: <pre> <code class="bash hljs">sudo ./cjdroute &lt; ~/.cjdroute.conf &gt; cjdroute.log</code> </pre> <br>  Also, logs can be viewed "live" through my <a href="https://habr.com/ru/post/192252/">web admin panel.</a> <br><br>  To turn off cjdns <pre> <code class="bash hljs">sudo killall cjdroute</code> </pre> <br>  To run cjdns not from the root, too, <a href="">there is an instruction</a> <br><br><h6>  You are online </h6>  Try accessing some Hyperboria service. <br>  For example, an analogue Twitter: <a href="http://socialno.de/">http://socialno.de</a> <br>  When you first start it may take a few minutes to build routes. <br><br><a name="web"></a><h5>  The web interface to the admin cjdns API </h5>  I wrote a small <a href="https://github.com/cjdelisle/cjdns/tree/master/contrib/nodejs/admin">admin on nodejs</a> , which I saved to the main cjdns repository. <br>  To use, you will need <a href="http://nodejs.org/">node.js</a> and a json file '~ / .cjdnsadmin' with the following contents: <pre> <code class="javascript hljs">{<span class="hljs-string"><span class="hljs-string">"config"</span></span>:<span class="hljs-string"><span class="hljs-string">"~/.cjdroute.conf"</span></span>}</code> </pre> <br>  Go to the cjdns repository directory, then go to the admin directory: <pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> contrib/nodejs/admin</code> </pre> <br>  Install node.js dependencies using npm: <pre> <code class="bash hljs">npm install</code> </pre> <br>  Run admin panel: <pre> <code class="bash hljs">node admin.js</code> </pre> <br>  By default, the admin panel starts at <a href="http://localhost:8084/">http: // localhost: 8084</a> , is not closed for access from the outside, so do not keep it running all the time. <br><br>  In the admin, you can execute API methods, view logs of various levels on the air, edit peers.  If hands reach, a visual network map will be available soon. <br>  When saving a config from the admin after changing peers, the previous version is saved in the config directory. <br>  The only drawback is that when saving, all comments are deleted, so if that happens, look at the very first version of the config. <br><br><h5>  Mesh connection </h5>  This type of connection currently works only for linux and does not work in OS X <br>  In the ideal case, everything is simple: you need to find in the config the commented section 'ETHInterface' and uncomment it. <br>  Also, you must specify in the 'bind' field the name of the network interface that you want to use to search for nodes (for example, 'eth0'). <br><br>  Restart cjdroute and if there are other cjdns nodes with 'ETHInterface' enabled in your network (physical), they will automatically connect to each other. <br><br>  At the same time, if none of the nodes is connected to the Hyperboria peers, then you will get your own cjdns-LAN, with encrypted traffic and other joys by default. <br><br><h4>  Build OpenWRT with cjdns support </h4>  If you want to install cjdns on a router, you will have to tinker a little longer. <br><br>  Once you are thinking about it, most likely, you will not be difficult to read the <a href="https://github.com/cjdelisle/cjdns-openwrt">instructions in English</a> . <br>  The main joint that I myself made on the first attempt is an attempt to build OpenWRT directly on the router :) <br>  Of course, this should be done on a normal computer, and then install the compiled firmware on the router. <br><br>  Beforehand, <a href="http://wiki.openwrt.org/toh/start">check your router for compatibility</a> . <br><br>  By the way, on my Netgear WNDR3600 it started up, but after a week the router began to blunt terribly (even with cjdns turned off), I had to tear down OpenWRT and put dd-wrt back. <br><br><h4>  Capture the world </h4>  The global plans of the author cjdns and the community in general - replacing the current Internet with Hyperboria. <br>  Now there are several mesh network sites in the States (the largest, if not mistaken, in Seattle). <br><br>  I suggest that those interested in building a network in Russia (and in Moscow, in particular) come <a href="http://hype.rusblock.com/forum/viewforum.php%3Ff%3D2">to the forum</a> to develop a capture plan. <br><br><h5>  What is already in the network </h5>  <a href="https://wiki.projectmeshnet.org/Known_Hyperboria_sites">List of famous sites</a> <br><br><h5>  Sites about the project </h5>  <a href="http://hyperboria.net/">http://hyperboria.net</a> <br>  <a href="http://projectmeshnet.org/">http://projectmeshnet.org/</a> <br>  <a href="http://wiki.projectmeshnet.org/">Project wiki</a> <br>  <a href="http://hype.rusblock.com/">Russian site and forum</a> </div><p>Source: <a href="https://habr.com/ru/post/192252/">https://habr.com/ru/post/192252/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../192238/index.html">SimpleMembership Guide to ASP.NET MVC 4</a></li>
<li><a href="../192242/index.html">Terminal access to the Cach√© DBMS - now in the browser</a></li>
<li><a href="../192244/index.html">Amazon opened the delivery of electronics in Russia</a></li>
<li><a href="../192248/index.html">Summer alarm: we are looking for cloud CRM</a></li>
<li><a href="../192250/index.html">We fasten SMS to cacti</a></li>
<li><a href="../192254/index.html">Mini-study, improvement and bot for the game Shadow Worlds</a></li>
<li><a href="../192256/index.html">Building a full MVC website on ExpressJS</a></li>
<li><a href="../192258/index.html">Connecting the accelerometer to the Raspberry Pi using the Pi4J library</a></li>
<li><a href="../192262/index.html">GWT-Platform basics of working with presenters</a></li>
<li><a href="../192266/index.html">Perfect migration using Catch-> Evernote</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>