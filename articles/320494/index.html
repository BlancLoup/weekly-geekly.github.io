<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ÄúWhen working on code inspections, you meet Java puzzlers every day‚Äù: Tagir Valeev about working on IntelliJ IDEA</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Some people know Tagir lany Valeeva from his reports on the Stream API, others know about habraps, and others know how to work on static code analysis...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>‚ÄúWhen working on code inspections, you meet Java puzzlers every day‚Äù: Tagir Valeev about working on IntelliJ IDEA</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/4df/e26/3d6/4dfe263d6714497589110c516d4315f2.jpg"><br><br>  Some people know <b>Tagir <a href="https://habrahabr.ru/users/lany/" class="user_link">lany</a> Valeeva</b> from his reports on the Stream API, others know about habraps, and others know how to work on static code analysis (in the FindBugs and HuntBugs projects).  And since August, he has been working at <b>InteBillia IDEA</b> at JetBrains, and this has influenced a lot: he is now doing the code analysis there, and his next report (on the upcoming <a href="https://jpoint.ru/">JPoint</a> and <a href="https://jbreak.ru/">JBreak</a> ) will be about creating code inspections in IDEA.  We asked Tagir about how to develop a project that develops everything else. <br><a name="habracut"></a><br>  <b>- How did you start working on IDEA?</b>  <b>He himself was an active user and wanted to develop a tool, or were the reasons completely different, and had he been sitting at Eclipse / NetBeans before?</b> <br><br>  - Before working at JetBrains, I almost did not use IDEA.  Basically sat in Eclipse.  Sometimes I had to work in NetBeans because we wrote an RCP application on it. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I wanted to work on analyzing Java code, and for this IntelliJ IDEA is the perfect place.  I used to move FindBugs, then I started writing my static bytecode analyzer for Java <a href="https://habrahabr.ru/post/301626/">HuntBugs</a> , but it‚Äôs still clear that IDEA has already done a huge amount of work, and most importantly, it‚Äôs not necessary to drag everything.  It is more pleasant to do something unique, and not to catch up with others.  And, of course, the code analyzer, initially integrated with the IDE, is much more useful, because you can often make a quick-fix, which fixes a problem in the code in one click.  View FindBugs output (even if it is integrated with the IDE) and fix everything manually by hand is much lazier.  As a result, people stop caring about static analysis altogether, even if they are running on a build server. <br><br>  <b>- There are cases when the analysis is more convenient just without an IDE - for example, the developer wants to quickly check someone else's code that came to him.</b>  <b>In a situation where FindBugs is sticking to the legacy, and now you don‚Äôt have time for HuntBugs, is there a feeling that, with all the convenience of analysis, the IDE also leaves an empty niche?</b> <br><br>  - Yes, I agree, there is a certain failure.  Code analysis in IDEA <a href="https://www.jetbrains.com/help/idea/2016.3/running-inspections-offline.html">can be run</a> from the command line, without raising the UI, in addition, it integrates with TeamCity and UpSource.  But, as far as I know, there is no integration with Jenkins or stupidly maven-plug-in.  It could be done at least for IDEA Community Edition, where the issue of license verification does not arise, but, in my opinion, this is not a priority for the company now.  Moreover, integration with IDEA is selling point TeamCity and UpSource.  On the other hand, it looks like an easy task.  In principle, any enthusiast could make friends IDEA Community Edition and Jenkins, many would benefit from it.  It would be convenient if a Jenkins label was drawn on any pull request or commit where new and fixed problems would be shown in the code. <br><br>  <b>‚ÄúWorking on IDEA is such a meta-level,‚Äú developing the main development tool ‚Äù.</b>  <b>And therefore, it is curious to ask a person ‚Äúfrom the inside‚Äù: how does this development differ from the usual in practice?</b> <br><br>  - Yes, there are interesting features.  Of course, in other cases, it happens that the developer himself uses the project that he is developing.  But when developing IDEA this is maximized.  I usually update the main IDEA installation every day or every other day (this simplifies JetBrains Toolbox) from the nightly build and work with the most recent code I wrote myself yesterday.  Some developers update the installation with a special script directly from the current code downloaded locally.  This helps to catch many bugs before they are seen by external users, or to understand that the new feature is not very convenient.  Well, in general, it's nice to use what I did myself.  For example, I wrote several improvements for the DevKit plugin, which helps develop IDEA itself or plugins for it.  The next day, it becomes more convenient to work. <br><br>  <b>- And when working on inspections, do you feel that they will benefit you tomorrow when working on the next ones?</b>  <b>And do you use them actively for refactoring of already existing code?</b> <br><br>  - We try not to touch the existing code en masse unnecessarily, in order not to complicate the history of git and not to break what already works.  I personally would like to apply some things globally.  Say, the cycle with the removal of elements from the collection is conditionally rather well replaced by my inspection on Collections.removeIf, which is not only shorter and clearer, but also, for example, for a large ArrayList works significantly faster than deletion by an iterator.  When deleting each element, the iterator will shift the internal array, and removeIf will shift everything once.  If I start touching the code that no one has touched for a long time, I, of course, try to simplify it, and the inspections help me with this. <br><br>  Not all of my inspections come to me personally when developing a new code, because if the inspection replaces a non-optimal code with a more optimal one, it is easier for me to write a more optimal one right away.  Others might simply not know that there is a better option, but I know, once the inspection was done.  However, conversion of streams into cycles and cycles into streams sometimes help.  It is not always obvious which code variant is simpler and more beautiful.  Say I wrote a stream in the middle of a method and found that it captures two mutable variables.  Changing the code so that they become immutable is inconvenient.  Copying them before streaming into new variables is ugly, better cycle.  Well, I took advantage of the inspection, deployed stream in the cycle. <br><br>  <b>- With the conversion of streams into cycles, it came out unexpectedly: you are known as a stream enthusiast, did conversion from cycles to them in IDEA, and then suddenly turned into the opposite.</b>  <b>Do users often need this counterintuitive feature?</b>  <b>Do users begin to contradict each other's wishes?</b> <br><br>  - In the case of inspections, counterintuitive requests from users do not interfere with us: you can do two inspections, one replaces A with B, and the other replaces B with A, and let the users decide what they like.  Many people really do not like or do not understand the stream and it is more pleasant for them to unfold the stream, written by a hipster colleague, into a cycle.  But there are objective flaws in the streams: there are simply no some operations, it is more difficult to debug, it is difficult to throw a checked exception or modify a local variable.  Say you wrote a stream and then realized that you needed an early exit by condition.  The takeWhile operation will only appear in Java 9, third-party libraries like the boss does not allow <a href="https://github.com/amaembo/streamex">StreamEx to</a> use.  And here, in two clicks, you can stream into a cycle and add the necessary break.  In general, I am deeply convinced that this is a useful feature. <br><br><img src="https://habrastorage.org/files/1f3/9ee/4a1/1f39ee4a16dc4b8c88035bef85f11621.jpg"><br><br>  <b>- In a recent <a href="https://habrahabr.ru/company/jugru/blog/318842/">issue</a> of No Slides, Maksim Shafirov admitted that dogfudding, with its benefits for JetBrains, is still limited: you feel some problems very well in your own skin, but you don‚Äôt come across others personally.</b>  <b>Do you often come across situations where people use IDEA in a completely different way than you, but in the end they need something that you wouldn‚Äôt guess?</b>  <b>How much does the experience of previous work help you, where did you yourself see the IDE from the same angle as now?</b> <br><br>  - I often see that people write only strange code.  Write three method calls where you can write one.  They write ten lines, removing an extra copy from the collection, where you can write three lines and not copy.  This can be seen on requests to YouTrack (for example, recently closed <a href="https://youtrack.jetbrains.com/issue/IDEA-166896">one</a> ), on the code I see on GitHub, and even on the IDEA code that other developers write.  Apparently, many programmers have learned several API methods or classes and are trying to reduce all the tasks to them.  In this regard, it is very useful to read someone else's code, because it would never occur to me to write so strangely.  You see the obvious nonsense in someone else's code, which IDEA does not highlight - the thought arises to write a new inspection. <br><br>  In a sense, the Eclipse experience helps me.  In general, his Java-tooling is noticeably worse than that of IDEA, but this does not mean that it is worse on all fronts.  I really miss some of the pieces after Eclipse, and maybe something I will do without which I suffer. <br><br>  <b>- You are actively communicating with other developers (you sit in the <a href="">chat of</a> ‚ÄúDebriefing‚Äù, tweet, write habraposts), and often IDEA becomes the topic of discussion.</b>  <b>Does such communication help in working on it, or is it for the soul?</b> <br><br>  ‚ÄúIt also happens that I turn complaints in a chatika into a bugreport and correct it.‚Äù  Of course, I am not an official support channel, so there is no need to abuse it.  In general, for the soul, yes.  To enhance the feeling that what we are doing, someone needs. <br><br>  <b>- When you started looking at the IDE from the inside, was there anything surprising?</b>  <b>For example, when you first think over the years ‚Äúwhy did this be so idiotically done‚Äù - and then suddenly you discover that there is a good and non-obvious reason.</b> <br><br>  - Something I do not remember such examples.  I think if something looks idiotic to the user, this cannot be justified by the peculiarities of the architecture.  It‚Äôs better not to be very beautiful inside, outside the IDE sees much more people than from the inside. <br><br>  <b>- When the new version of IDEA comes out, people vigorously discuss the things that are conspicuous: hints with the names of the parameters, the recent change of icons, and so on.</b>  <b>And how does it look to you from the inside: ‚Äúeveryone is discussing the tip of the iceberg, not noticing the main thing‚Äù, or is this really the main thing that happens?</b> <br><br>  - It is difficult to say which change is more important.  Which has most accelerated user experience?  For which we spent the most time?  Which caused the most enthusiastic reviews?  Of course, many things are being done that no one sees.  For example, work continues continuously on unloading the UI stream ( <a href="https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html">Event Dispatch Thread</a> ) and the separation of logic and display.  Back in 2016.3, it was possible to take a lock on writing a file in a UI stream, and then, without removing it, display the UI dialog.  Taking a lock may imply waiting until the file releases another thread.  Now we struggled with this: it is forbidden to take write-lock in the UI stream.  Of course, I had to shovel a lot of code that tried to output the UI during locking: somewhere they <a href="https://github.com/JetBrains/intellij-community/commit/c1a91421a310b1ca128825439b6c5793e50cb054">deleted</a> unnecessary write-locks, and somewhere they <a href="https://github.com/JetBrains/intellij-community/commit/78483a38f57e6cd6b654f5a6b614aeee6225d45b">carried out the</a> UI-code from them.  This took a lot of man-hours, but the user will notice only a slight increase in responsiveness of the IDE.  What is there to discuss vigorously? <br><br>  <b>- By the way, it‚Äôs curious to ask about changing the icons: do you have any feelings from her?</b> <br><br>  - I honestly did not notice anything, because I was not an IDEA user.  Either new icons appeared in internal builds before I joined the company, or it happened during the first weeks, during which I did not have time to get used to the old ones. <br><br>  Honestly, I don‚Äôt know why people pay so much attention to icons.  While working in IDE, I look at the code, not the icons.  To open a class or file, I do not shuffle in the project tree, but use hotkeys like Ctrl + E, Ctrl + N, Ctrl + Shift + N.  I sometimes look in the tree with icons when I create a new directory or a new file (although it is often easier to copy an existing file through F5, enter a new name and delete the contents).  The toolbar is hidden in my menu, I usually don‚Äôt climb in the menu either, preferring Ctrl + Shift + A and entering an action with text (or a specific hot key).  I have been using IDEA recently and probably not optimally yet.  I think, over time, I will see the icons even less.  Let them be at least in the style of Windows 3.1, I do not really care. <br><br><img src="https://habrastorage.org/files/672/9d3/f5b/6729d3f5b2c3438791d58c7c02dd2132.jpg"><br><br>  <b>- To the question that JetBrains are actively using their own products: but what are the products that are not from JetBrains used when working on IDEA?</b> <br><br>  - Well, git, for example.  It is used by Confluence, for example, for <a href="https://confluence.jetbrains.com/display/IDEADEV/EAP">publishing EAPs</a> and for some internal purposes.  Java is not from JetBrains.  Profilers some.  Well, a web browser ... <br><br>  <b>- For 16 years, projects inevitably overgrow with legacy problems that impede progress.</b>  <b>What measures are you taking to combat this?</b> <br><br>  - In the IDEA code is not so bad.  Much more good than bad.  There are obvious problems (for example, with API for plugins).  Something illogical scattered on the project.  But all this does not grow moss, but is regularly refreshed.  The usual measures: to refactor here, to refactor there. <br><br>  <b>- In continuation of the previous question: how do you live with the Swing interface in 2017, when Atom and Visual Studio Code are doing everything on Electron?</b>  <b>Does it get in the way or not?</b> <br><br>  - I almost do not deal with UI and hardly know about the serious difficulties in it.  I know that many Swing problems (for example, lack of HiDPI support) JetBrains actively fixes in its JDK fork.  I have some prejudice about the UI on HTML / JS, although everything is on it now.  There is too much freedom, perhaps, too little order.  I remember, on the sidelines of Joker 2015, the guys from JetBrains were discussing thoughts of rewriting UI in JavaScript, and Nikita Lipsky discouraged them.  If I understand correctly, now such a conversation is not actively conducted - it means that, in principle, you can live with Swing for now. <br><br>  <b>- Now it is increasingly heard about Language Server Protocol - and you do not see any reason to participate in this, or can it still change?</b> <br><br>  - I don‚Äôt think that this is a priority for today, but everything can change.  Record in the tracker on this topic, of course, <a href="https://youtrack.jetbrains.com/issue/IDEABKL-7409">is</a> . <br><br>  <b>- It is known what a big role Stack Overflow plays as a regular developer.</b>  <b>And with tasks like yours, does it turn out to be useful or not?</b> <br><br>  - I rarely find answers to Stack Overflow in my work.  Usually to questions in which I am completely new.  Let's say I need to fix the gradle script.  I never wrote them, but thousands of people wrote, so here Stack Overflow will probably help me in something.  And if I already understand something quite well, I usually have questions that are easier to figure out the answer in other ways.  For example, looking at the source code or documentation: if the subject is not new to me, I probably already have some idea where to look. <br><br>  <b>- At JPoint and JBreak, you will give a <a href="https://jpoint.ru/talks/java-vs-intellij-how-we-develop-code-inspections/">talk</a> on Java inspections at IntelliJ IDEA - can you already give some example of what you are going to tell there?</b> <br><br>  ‚ÄúFor example, you write an inspection that suggests using <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html">Map.getOrDefault</a> where possible.  Let's say you have this code: <br><br><pre><code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-type"><span class="hljs-type">Number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>(<span class="hljs-type"><span class="hljs-type">Map</span></span>&lt;<span class="hljs-type"><span class="hljs-type">String</span></span>, <span class="hljs-type"><span class="hljs-type">Number</span></span>&gt; <span class="hljs-built_in"><span class="hljs-built_in">map</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">map</span></span>.containsKey(<span class="hljs-string"><span class="hljs-string">"foo"</span></span>) ? <span class="hljs-built_in"><span class="hljs-built_in">map</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>(<span class="hljs-string"><span class="hljs-string">"foo"</span></span>) : <span class="hljs-number"><span class="hljs-number">0.0</span></span>; }</code> </pre> <br><br>  Inspection will offer to replace it with this: <br><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-type"><span class="hljs-type">Number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>(<span class="hljs-type"><span class="hljs-type">Map</span></span>&lt;<span class="hljs-type"><span class="hljs-type">String</span></span>, <span class="hljs-type"><span class="hljs-type">Number</span></span>&gt; <span class="hljs-built_in"><span class="hljs-built_in">map</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">map</span></span>.getOrDefault(<span class="hljs-string"><span class="hljs-string">"foo"</span></span>, <span class="hljs-number"><span class="hljs-number">0.0</span></span>); }</code> </pre><br>  Everything is normal here, the resulting code is correct and semantically equivalent to the original one.  So, you found a ternary operator in the source, found out that the condition is map.containsKey, map is of type java.util.Map, in the true branch map.get, the qualifier of map.containsKey and map.get is the same variable, the map.containsKey argument and map.get are the same "pure expression", and in the false branch is a constant.  Then we emphasize the code and suggest replacing it with map.getOrDefault, where the first argument is map.get argument and the second is a constant from the false branch.  What have we not considered?  Where can Java give us a pig?  What code does such an inspection break down?  These are the questions we will discuss in my report. <br><br>  <b>- At JPoint 2016, you, with Baruch Sadogursky and Yevgeny Borisov, <a href="https://www.youtube.com/watch%3Fv%3D6bN1HcRhse4">represented</a> jazz puzzleers (and at JPoint 2017, it may be a continuation).</b>  <b>Many perceive puzzle-makers as ‚Äúthese are curious curiosities, but they seldom affect my work‚Äù - and it turns out that they affect your work often and strongly?</b> <br><br>  - When working on code inspections, these puzzle players are every day.  Any inspection can run into a nontrivial case where the use of quick fix makes the code non-compiled or, worse, quietly without warning changes its semantics.  You need to know the language well to think about it before users start complaining.  An IDE developer, of course, must know all the hidden corners of the language specification. <br><br><img src="https://habrastorage.org/files/71b/8a9/9fe/71b8a99fe7a44e4e999cc50abcfd85c3.jpg"><br><br>  If you have not seen last year's performances Tagir at the Moscow JPoint and Novosibirsk JBreak, we recommend - the audience praised them highly: <br><br><ul><li>  <a href="https://www.youtube.com/watch%3Fv%3DvxikpWnnnCU">Stream API: recommendations of the best dog breeders</a> (JBreak 2016) </li><li>  <a href="https://www.youtube.com/watch%3Fv%3DTPHMyVyktsw">Oddities Stream API</a> (JPoint 2016) </li><li>  <a href="https://www.youtube.com/watch%3Fv%3D6bN1HcRhse4">Java 8 Puzzlers</a> (JPoint 2016, with Baruch Sadogursky and Yevgeny Borisov) </li></ul><br>  The following <a href="https://jpoint.ru/">JPoint</a> and <a href="http://jbreak.ru/">JBreak</a> , where Tagir will give a report on inspections, will be held in April - and from February 1, tickets for them will go up.  So, if after the interview I wanted to see the whole of his speech and other reports from these conferences, now is the time to act. </div><p>Source: <a href="https://habr.com/ru/post/320494/">https://habr.com/ru/post/320494/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../320482/index.html">How to debug machine learning models</a></li>
<li><a href="../320484/index.html">7 entry levels that all game developers need to learn</a></li>
<li><a href="../320486/index.html">Mobio Mobile Arbitration Course</a></li>
<li><a href="../320488/index.html">KeepDraw.js - javascript framework for drawing on canvas</a></li>
<li><a href="../320492/index.html">The main stages of recruitment: advice from HR specialists from the Krasnodar studio Plarium</a></li>
<li><a href="../320496/index.html">Open online courses from ITMO University</a></li>
<li><a href="../320498/index.html">Data models for user authentication in web applications</a></li>
<li><a href="../320500/index.html">Review Knime Analytics Platform - open source data analysis systems</a></li>
<li><a href="../320504/index.html">Using SVG to draw outline diagrams</a></li>
<li><a href="../320506/index.html">Halves of a square</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>