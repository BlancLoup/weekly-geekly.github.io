<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Mechanical display on the AVR from scratch. Part 0: Programmer (s)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Thanks to the easyelectronics.ru resource and personally DIHALT , most of the information was drawn from there, there will also be a bit of material t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Mechanical display on the AVR from scratch. Part 0: Programmer (s)</h1><div class="post__text post__text-html js-mediator-article">  <i>Thanks to the <a href="http://easyelectronics.ru/">easyelectronics.ru</a> resource and personally <a href="http://geektimes.ru/users/dihalt/" class="user_link">DIHALT</a> , most of the information was drawn from there, there will also be a bit of material to <a href="http://geektimes.ru/users/dihalt/" class="user_link">skip</a> from this resource.</i>  <i>In order to avoid unnecessary repetition, I recommend to start with it, there are clearly written such scary words as FUSE-bits, ISP programming or shift register.</i>  <i>It is assumed that the reader of the <s>sofa theorist</s> has a small theoretical base.</i> <br><br>  The best training is practice.  That is why, when I first saw an article about microcontrollers, I wanted to build something ‚Äúsuch‚Äù.  The first thing that caught my eye was the video: <br><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/l4F8UbM-1t4%3Ffeature%3Doembed&amp;xid=17259,1500003,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhgIN5bm2aftBZbUYx5g_wnLeAlNSA" frameborder="0" allowfullscreen=""></iframe><br><a name="habracut"></a><br>  Well, then we start!  (Immediately I warn you, the device is not yet finished, one of the goals of this series of articles is to motivate yourself, your lazy <s>beloved</s> ). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Immediately tell the technical characteristics of your future device: <br><br><ul><li>  " <b>Brain</b> " - ATmega8A-PU, frequency 16 MHz </li><li>  <b>Rotational speed</b> - the part that will rotate all this is not ready yet, but the firmware in theory should allow 15-9000 rpm.  In this case, one of the differences of this implementation is that the speed is not rigidly embedded in the firmware, but is calculated dynamically. </li><li>  " <b>Matrix</b> " - 32 smd yellow LEDs (which ones I found, I think the blue ones would look more interesting) </li></ul><br><br>  I didn‚Äôt want to understand LED-drivers, and all this happiness is ignited for educational purposes due to the greater prevalence through: <br><br><ul><li>  4 <b>shift registers</b> 74hc595 </li><li>  <b>Firmware</b> - only assembler, only hardcore! </li></ul><br>  <i>(Do not pay attention, I will whine a lot during the presentation, how difficult it was for me to get various components. This is true - I didn‚Äôt find a single radio point in my rather big city, I ordered everything via the Internet, but even in Belarus you don‚Äôt have much fun. )</i> <i><br></i> <br><br>  So, let's begin.  This is the first part of a series of articles devoted to the manufacture of its "bicycle", will be devoted to the manufacture of a very necessary tool - the programmer.  With it, the microcontroller is flashed. <br><br><h5>  Programmer times.  "Gromov" </h5><br>  One of the simplest in its design, detailed instructions for manufacturing can be found, for example, here <a href="http://easyelectronics.ru/avr-shag-pervyj-programmator.html">easyelectronics</a> .  This programmer has one very significant drawback - working through the COM port.  Those for whom this fact is not a flaw, can safely close the article and wait for the next part, which will be entirely devoted to the technical part of the manufacturing of the mobile component.  so <br><br><h5>  Programmer two.  USBTinyISP </h5><br>  We need a programmer who is deprived of this flaw.  Fortunately, human civilization has already reached the point when USB programmers began to appear.  There are several well-known schemes, a little searching, I can call USBAsp on the ATMega48 or ATMega8 controller.  But then I did not have them, there was only ATtiny2312 - and about a miracle, there is a ready solution for her too!  For reasons unknown to me, this programmer is not as well known as the previous one, although it requires a cheaper microcontroller for its production.  (You have not felt a trick yet? To work such a programmer, you must first teach it to work, that is, flash it, for example ... by Gromov‚Äôs programmer. But this is a one-time operation, if you do not have a COM port, you can get out of your lair and go to your more happy friend).  Link to the original project page: <a href="http://www.ladyada.net/make/usbtinyisp/index.html">ladyada.net</a> .  There are files for two versions of the programmer, I collected the first, because it has fewer parts. <br><br>  The concept is pretty simple: <br><br><img src="https://habrastorage.org/storage2/9c2/9c4/481/9c29c4481909d859535a2a468623d3d7.png"><br>  And wiring board: <br><br><img src="https://habrastorage.org/storage2/1ea/ce8/f13/1eace8f13a932d16ae9bda2e7b466cd6.png"><br><br>  I redrawed it for a one-sided printed circuit board and my smd capacitors, though it turned out not so compact: <br><br><img src="https://habrastorage.org/storage2/fdc/592/422/fdc592422c822834ce20cec507e98bfa.png"><br><br>  List of required parts: <br><br><ul><li>  ATTINY2313-20PU </li><li>  Quartz at 12 MHz </li><li>  Capacitor 100 nF (I have smd, in the original with legs) </li><li>  2 capacitors at 22 pF (only in my implementation, as I understood in the original, they are combined with quartz) </li><li>  10 kŒ© resistor </li><li>  5 resistors for 1.5 KŒ© </li><li>  2 resistors for 27-68 ohms </li><li>  2 LEDs </li><li>  2 zener diodes for 3.6 V </li><li>  Pins </li></ul><br><br>  To teach you to persecute the board, I will not, not small.  He made with the help of iron.  After making the programmer, you need to flash it, for this we set the jumper JP5 (self pgm, pgm) and connect the flashing programmer to either of the two pin sets (there are two such sets on this programmer - 6 and 10 pins, for the most popular connectors).  After the firmware, you need to install the usb driver on the computer, and that‚Äôs it - it‚Äôs written on the project‚Äôs website that AvrDude supports this programmer out of the box.  I myself use the USBtiny500 program - the UsbTinyIsp &lt;-&gt; STK500 bridge, which allows you to flash directly from AVR Studio by selecting the STK500 programmer from the list.  However, for this use, you must also install and configure the com0com program for virtual com ports, <a href="http://www.ladyada.net/make/usbtinyisp/stk500compat.html">here is the instruction</a> .  And, finally, a few photos (sorry for the quality): <br><br><img src="https://habrastorage.org/storage2/9af/0f4/110/9af0f411017ba33861100fdd471c4b8e.jpg"><br>  <i>Programmer itself</i> <br><br><img src="https://habrastorage.org/storage2/e6e/551/c6d/e6e551c6dd655915c3541ec2e1078dc2.jpg"><br><img src="https://habrastorage.org/storage2/f9a/ed5/b93/f9aed5b934573c670ee938a71712a7c4.jpg"><br>  <i>What is already ready, even blinking lights :)</i> <br><br><h6>  References: </h6><br>  <a href="http://www.ladyada.net/make/usbtinyisp/download.html">Project File Download Page</a> .  There you can take the driver (I put the version of "Windows USBtinyISP driver built with libusb v1.12") <br>  <a href="">Firmware for the programmer</a> .  File /spi/main.hex <br>  <a href="http://www.ladyada.net/make/usbtinyisp/avrdude.html">Using the AVRDude program for firmware and its installation</a> <br>  <a href="http://forums.adafruit.com/viewforum.php%3Ff%3D20">Official forum</a> <br><br>  PS My first article, do not swear :). <br>  PPS If anyone is interested, I can throw off my layout in lay format, just tell me where <br><br>  <a href="http://habrahabr.ru/post/144807/">The second part of</a> </div><p>Source: <a href="https://habr.com/ru/post/144671/">https://habr.com/ru/post/144671/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../144664/index.html">ViewSonic is preparing a 22 "tablet</a></li>
<li><a href="../144665/index.html">IT R & D Cream (release 9) - will you deliver 1000 boxes of marshmallow to Mars?</a></li>
<li><a href="../144667/index.html">Results of the week. Issue 7 - with Igor Belkin</a></li>
<li><a href="../144668/index.html">Microsoft Xbox 360 may prohibit selling in the United States</a></li>
<li><a href="../144670/index.html">Creating flexible profiles in Drupal 7</a></li>
<li><a href="../144672/index.html">Debugging Native Android NDK Code on Windows</a></li>
<li><a href="../144673/index.html">Testing iOS Applications</a></li>
<li><a href="../144674/index.html">Roaming Guide 2012: choose fares for travel</a></li>
<li><a href="../144675/index.html">Install and configure OSM-based tile generator in Ubuntu or Debian</a></li>
<li><a href="../144678/index.html">Apple patent application: Safari 3D interface</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>