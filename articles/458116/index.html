<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>SwiftUI and auto-renewable subscriptions</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! In touch, Denis from Apphud is a service for analyzing renewable subscriptions for iOS applications. 


 As you know, at WWDC 2019, Apple annou...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>SwiftUI and auto-renewable subscriptions</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/webt/uv/gw/et/uvgwetpxigh37y6ofexpjnqx6lk.png" alt="image"></p><br><p>  Hello!  In touch, Denis from Apphud is a service for analyzing renewable subscriptions for iOS applications. </p><br><p>  As you know, at WWDC 2019, Apple announced their new declarative framework, SwiftUI.  In this article I will try to tell you how to make payment screens using SwiftUI and implement the functionality of auto-renewable subscriptions. <a name="habracut"></a></p><br><blockquote>  If you are not familiar with SwiftUI, you can read a short <a href="https://habr.com/ru/post/455970/">introductory article</a> .  And if you want to learn more about subscriptions and how to implement them correctly, then read <a href="https://habr.com/ru/post/456602/">this article</a> . </blockquote><p>  You will need <a href="https://developer.apple.com/download/">Xcode 11 to work</a> .  Create a new project and make sure that there is a check mark next to <em>‚ÄúUse SwiftUI‚Äù.</em> </p><br><p>  SwiftUI is a framework for writing an interface, and therefore we cannot create a purchase manager using it.  But we will not write our manager, but use a ready-made solution that we supplement with our code.  You can use, for example, <a href="https://github.com/bizz84/SwiftyStoreKit">SwiftyStoreKit</a> .  In our example, we will use the <a href="https://gist.github.com/ren6/2e04b222c736df18cc7919c5e6116c26">class</a> from our <a href="https://habr.com/ru/post/456602/">previous article</a> . </p><br><p>  Products will be initialized on the main screen, the date of expiry of our subscriptions and a button to go to the purchase screen will also be displayed there. </p><br><pre><code class="swift hljs"><span class="hljs-type"><span class="hljs-type">ProductsStore</span></span>.shared.initializeProducts() <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> window = <span class="hljs-type"><span class="hljs-type">UIWindow</span></span>(frame: <span class="hljs-type"><span class="hljs-type">UIScreen</span></span>.main.bounds) window.rootViewController = <span class="hljs-type"><span class="hljs-type">UIHostingController</span></span>(rootView: <span class="hljs-type"><span class="hljs-type">ContentView</span></span>(productsStore: <span class="hljs-type"><span class="hljs-type">ProductsStore</span></span>.shared)) <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.window = window window.makeKeyAndVisible()</code> </pre> <br><p>  Consider the <code>SceneDelegate</code> class.  In it, we create a singleton class <code>ProductsStore</code> , in which the products are initialized.  After that we create our root <code>ContentView</code> and specify singleton as an input parameter: </p><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ProductsStore</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BindableObject</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> shared = <span class="hljs-type"><span class="hljs-type">ProductsStore</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> products: [<span class="hljs-type"><span class="hljs-type">SKProduct</span></span>] = [] { <span class="hljs-keyword"><span class="hljs-keyword">didSet</span></span> { handleUpdateStore() } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initializeProducts</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ <span class="hljs-type"><span class="hljs-type">IAPManager</span></span>.shared.startWith(arrayOfIds: [subscription_1, subscription_2], sharedSecret: shared_secret) { products <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.products = products } } }</code> </pre> <br><p>  Consider the <code>ProductsStore</code> class.  This is a small class, a kind of ‚Äúadd-on‚Äù above <code>IAPManager</code> , that serves to update <code>ContentView</code> when updating the product list.  The <code>ProductsStore</code> class supports the <code>BindableObject</code> protocol. </p><br><p>  What are <code>BindableObject</code> and <code>@ObjectBinding</code> ? </p><br><p>  <code>BindableObject</code> is a special protocol for binding (binding) objects and tracking their changes.  The only condition of the protocol is the presence of the <code>didChange</code> variable that directly sends the notification.  In the example, a notification is sent when the <code>Products</code> array is modified, but you can add this notification for any methods and properties of the object. </p><br><p>  The product download itself can be done in any way, but when completing this request, you must assign an array of products to the products variable.  The <code>didChange.send()</code> function <code>didChange.send()</code> send a notification. </p><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> didChange = <span class="hljs-type"><span class="hljs-type">PassthroughSubject</span></span>&lt;<span class="hljs-type"><span class="hljs-type">Void</span></span>, <span class="hljs-type"><span class="hljs-type">Never</span></span>&gt;() <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> products: [<span class="hljs-type"><span class="hljs-type">SKProduct</span></span>] = [] { <span class="hljs-keyword"><span class="hljs-keyword">didSet</span></span> { didChange.send() } }</code> </pre> <br><p>  Simply put, it is something like Notification Center.  And for your <code>View</code> receive these notifications, you must have a variable of this object with the <code>@ObjectBinding</code> attribute. </p><br><p>  Let's return to the logic of the <code>ProductsStore</code> class.  Its main purpose is to download and store a list of products.  But the array of products is already stored in <code>IAPManager</code> , duplication occurs.  This is not good, but, firstly, in this article I wanted to show you how the binding of objects is implemented, and, secondly, it is not always possible to change the ready-made class of the purchase manager.  For example, if you use third-party libraries, you cannot add the <code>BindableObject</code> protocol and send notifications. </p><br><p>  It is worth noting that in addition to the <code>@ObjectBinding</code> attribute <code>@ObjectBinding</code> there is also an <code>@State</code> attribute that helps to track changes in simple variables (for example, <code>String</code> or <code>Int</code> ) and a more global <code>@EnvironmentObject</code> , which can update all of the <code>View</code> in the application without having to pass the variable between objects. </p><br><p>  Let's <code>ContentView</code> to the start screen <code>ContentView</code> : </p><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ContentView</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">View</span></span></span><span class="hljs-class"> </span></span>{ @<span class="hljs-type"><span class="hljs-type">ObjectBinding</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> productsStore : <span class="hljs-type"><span class="hljs-type">ProductsStore</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> body: some <span class="hljs-type"><span class="hljs-type">View</span></span> { <span class="hljs-type"><span class="hljs-type">VStack</span></span>() { <span class="hljs-type"><span class="hljs-type">ForEach</span></span> (productsStore.products.identified(by: \.<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>)) { prod <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-type"><span class="hljs-type">Text</span></span>(prod.subscriptionStatus()).lineLimit(<span class="hljs-literal"><span class="hljs-literal">nil</span></span>).frame(height: <span class="hljs-number"><span class="hljs-number">80</span></span>) } <span class="hljs-type"><span class="hljs-type">PresentationButton</span></span>(destination: <span class="hljs-type"><span class="hljs-type">PurchaseView</span></span>(), label: { <span class="hljs-type"><span class="hljs-type">Text</span></span>(<span class="hljs-string"><span class="hljs-string">"Present"</span></span>) }) } } }</code> </pre> <br><p>  Let's deal with the code.  With <code>ForEach</code> we create a text <code>View</code> , the number of which is equal to the number of products.  Since we have bind the <code>productsStore</code> variable, the <code>View</code> will be updated whenever the array of products in the <code>ProductsStore</code> class changes. </p><br><p>  The <code>subscriptionStatus</code> method is included in the <code>SKProduct</code> class <code>SKProduct</code> and returns the desired text depending on the subscription expiration date: </p><br><pre> <code class="swift hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">subscriptionStatus</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">String</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> expDate = <span class="hljs-type"><span class="hljs-type">IAPManager</span></span>.shared.expirationDateFor(productIdentifier) { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> formatter = <span class="hljs-type"><span class="hljs-type">DateFormatter</span></span>() formatter.dateStyle = .medium formatter.timeStyle = .medium <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> dateString = formatter.string(from: expDate) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-type"><span class="hljs-type">Date</span></span>() &gt; expDate { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Subscription expired: \(localizedTitle) at: \(dateString)"</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Subscription active: \(localizedTitle) until:\(dateString)"</span></span> } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Subscription not purchased: \(localizedTitle)"</span></span> } }</code> </pre> <br><blockquote><img src="https://habrastorage.org/getpro/habr/post_images/e00/2b1/dd8/e002b1dd8a99f04f4b70891830778068.png" alt="This is our start screen."><br>  <em>This is our start screen.</em> </blockquote><p>  We now turn to the subscription screen.  Since, according to the rules of Apple, the payment screen must have a long text of the conditions of purchase, it is reasonable to use <code>ScrollView</code> . </p><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> body: some <span class="hljs-type"><span class="hljs-type">View</span></span> { <span class="hljs-type"><span class="hljs-type">ScrollView</span></span> (alwaysBounceVertical: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, showsVerticalIndicator: <span class="hljs-literal"><span class="hljs-literal">false</span></span>) { <span class="hljs-type"><span class="hljs-type">VStack</span></span> { <span class="hljs-type"><span class="hljs-type">Text</span></span>(<span class="hljs-string"><span class="hljs-string">"Get Premium Membership"</span></span>).font(.title) <span class="hljs-type"><span class="hljs-type">Text</span></span>(<span class="hljs-string"><span class="hljs-string">"Choose one of the packages above"</span></span>).font(.subheadline) <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.purchaseButtons() <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.aboutText() <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.helperButtons() <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.termsText().frame(width: <span class="hljs-type"><span class="hljs-type">UIScreen</span></span>.main.bounds.size.width) <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.dismissButton() }.frame(width : <span class="hljs-type"><span class="hljs-type">UIScreen</span></span>.main.bounds.size.width) }.disabled(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.isDisabled) }</code> </pre> <br><p>  In this example, we created two text views with different fonts.  Then all the other views are highlighted in their own methods.  This is done for three reasons: </p><br><ol><li><p>  The code becomes more readable and understandable to learn. </p><br></li><li><p>  At the time of writing, Xcode 11 Beta often freezes and cannot compile code, and putting parts of code by function helps the compiler. </p><br></li><li><p>  Show that the view can be carried out in separate functions, facilitating the <code>body</code> . </p><br></li></ol><br><p>  Consider the <code>purchaseButtons()</code> method: </p><br><pre> <code class="swift hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">purchaseButtons</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> -&gt; some <span class="hljs-type"><span class="hljs-type">View</span></span> { <span class="hljs-comment"><span class="hljs-comment">// remake to ScrollView if has more than 2 products because they won't fit on screen. HStack { Spacer() ForEach(ProductsStore.shared.products.identified(by: \.self)) { prod in PurchaseButton(block: { self.purchaseProduct(skproduct: prod) }, product: prod).disabled(IAPManager.shared.isActive(product: prod)) } Spacer() } }</span></span></code> </pre> <br><p>  Here we create a horizontal stack and in the <code>ForEach</code> loop we create a custom <code>PurchaseButton</code> , into which we transfer the product and the callback block. </p><br><p>  <code>PurchaseButton</code> class: </p><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PurchaseButton</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">View</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> block : <span class="hljs-type"><span class="hljs-type">SuccessBlock!</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> product : <span class="hljs-type"><span class="hljs-type">SKProduct!</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> body: some <span class="hljs-type"><span class="hljs-type">View</span></span> { <span class="hljs-type"><span class="hljs-type">Button</span></span>(action: { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.block() }) { <span class="hljs-type"><span class="hljs-type">Text</span></span>(product.localizedPrice()).lineLimit(<span class="hljs-literal"><span class="hljs-literal">nil</span></span>).multilineTextAlignment(.center).font(.subheadline) }.padding().frame(height: <span class="hljs-number"><span class="hljs-number">50</span></span>).border(<span class="hljs-type"><span class="hljs-type">Color</span></span>.blue, width: <span class="hljs-number"><span class="hljs-number">1</span></span>, cornerRadius: <span class="hljs-number"><span class="hljs-number">10</span></span>).scaledToFill() } }</code> </pre> <br><p>  This is the usual button that stores and calls the block passed when the object is created.  A rounding stroke is applied to it.  The text displays the price of the product and the length of the subscription period in the <code>localizedPrice()</code> method. </p><br><p>  Subscription purchase is implemented as follows: </p><br><pre> <code class="swift hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">purchaseProduct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(skproduct : SKProduct)</span></span></span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"did tap purchase product: \(skproduct.productIdentifier)"</span></span>) isDisabled = <span class="hljs-literal"><span class="hljs-literal">true</span></span> <span class="hljs-type"><span class="hljs-type">IAPManager</span></span>.shared.purchaseProduct(product: skproduct, success: { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.isDisabled = <span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-type"><span class="hljs-type">ProductsStore</span></span>.shared.handleUpdateStore() <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.dismiss() }) { (error) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.isDisabled = <span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-type"><span class="hljs-type">ProductsStore</span></span>.shared.handleUpdateStore() } }</code> </pre> <br><p>  As you can see, after the purchase is <code>handleUpdateStore</code> , the <code>handleUpdateStore</code> method is <code>handleUpdateStore</code> , with which a notification is sent to update <code>ContentView</code> .  This is done to ensure that <code>ContentView</code> status of subscriptions when hiding a modal screen.  The <code>dismiss</code> method hides a modal window. </p><br><p>  Since SwiftUI is a declarative framework, modal window hiding is not implemented as usual.  We only change the <code>isPresented</code> variable by declaring it with the <code>@Environment</code> attribute: </p><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PurchaseView</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">View</span></span></span><span class="hljs-class"> </span></span>{ @<span class="hljs-type"><span class="hljs-type">State</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> isDisabled : <span class="hljs-type"><span class="hljs-type">Bool</span></span> = <span class="hljs-literal"><span class="hljs-literal">false</span></span> @<span class="hljs-type"><span class="hljs-type">Environment</span></span>(\.isPresented) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> isPresented: <span class="hljs-type"><span class="hljs-type">Binding</span></span>&lt;<span class="hljs-type"><span class="hljs-type">Bool</span></span>&gt;? <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dismiss</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.isPresented?.value = <span class="hljs-literal"><span class="hljs-literal">false</span></span> } ...</code> </pre> <br><p>  The variable <code>isPresented</code> is part of <em>Environment Values</em> - special sets of global methods and properties.  You might be surprised how a variable change can hide a modal window.  However, in SwiftUI, almost all actions occur when the values ‚Äã‚Äãof variables change, it is impossible to do something at runtime in the literal sense of the word - everything is fixed in advance. </p><br><blockquote><img src="https://habrastorage.org/getpro/habr/post_images/9a5/0c8/e43/9a50c8e4315f98f4e75cabae81665c19.png" alt="Subscription Purchase Screen"><br>  <em>Subscription Purchase Screen</em> </blockquote><br><h2 id="zaklyuchenie">  Conclusion </h2><br><p>  I hope this article will be useful to you.  Apple loves it when developers use its latest technology.  If you release an iOS 13 application using SwiftUI, there is a potential likelihood of being an Apple branded product.  So do not be afraid of new technologies - use them.  You can download the full project code <a href="https://github.com/apphud/ios-swiftui-subscriptions">here</a> . </p><br><h2 id="chto-pochitat">  What to read? </h2><br><ul><li>  <a href="https://habr.com/ru/post/456602/">Guide to the implementation of auto-renewable subscriptions in iOS-applications</a> </li><li>  <a href="https://habr.com/ru/post/455970/">Everything you wanted to know about SwiftUI, but were afraid to ask</a> </li><li>  <a href="https://habr.com/ru/post/453770/">Apple Subscriptions Notifications for iOS Guide.</a>  <a href="https://habr.com/ru/post/453770/">Are they really good?</a> </li></ul></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/458116/">https://habr.com/ru/post/458116/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../458104/index.html">RDMA inside the data center in the implementation of Huawei</a></li>
<li><a href="../458106/index.html">Jetpack Compose dive</a></li>
<li><a href="../45811/index.html">Black Triangle Dock in Leopard</a></li>
<li><a href="../458110/index.html">Dynamic programming in the real world: cutting seams</a></li>
<li><a href="../458112/index.html">Sony's Xperia 10 Review</a></li>
<li><a href="../458118/index.html">React Native Guide for Beginner Android Developers (with an example application)</a></li>
<li><a href="../45812/index.html">SEO in real life ...</a></li>
<li><a href="../458120/index.html">Habr Weekly # 7 / Neural Network strips people, luxury Airbnb, they will be allowed to google on the USE, on Google Play a lot of fakes</a></li>
<li><a href="../458122/index.html">The history of the modernization of a single data center: almost twice the reduction of PUE and other advantages of modern solutions</a></li>
<li><a href="../458124/index.html">"Russian trace" in the Scandinavian game saga</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>