<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Highlighting text in ‚ÄúTextArea‚Äù</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article will show how in modern browsers you can highlight text in the edit box (WYSIWYG). 
 An example can be seen in google.docs or on some adv...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Highlighting text in ‚ÄúTextArea‚Äù</h1><div class="post__text post__text-html js-mediator-article">  This article will show how in modern browsers you can highlight text in the edit box (WYSIWYG). <br>  An example can be seen in google.docs or on some advanced forums. <br><br>  I am sure it will be interesting to many. <br><br><h3>  ContentEditable attribute and designMode parameter </h3><br>  It is contentEditable or designMode that does all the basic ‚Äúdirty‚Äù work for us. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      If this attribute is put into a tag, then everything inside the tag becomes automatically editable. <br><br><blockquote><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">contentEditable</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-tag">&gt;</span></span>C<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-tag">&gt;</span></span>ontent<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">u</span></span></span><span class="hljs-tag">&gt;</span></span>!!!<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">u</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> </blockquote>  <a href="http://zcn.ru/tmp/W1.html">working example</a> <br><br>  This attribute is not currently supported by some older browsers (for example, FireFox 2.0).  But there is a more ‚Äúglobal‚Äù page parameter, which all browsers now support, which can help us - <a name="habracut"></a>  designMode. <br><br>  By this, I will understand it. <br><br><h3>  DesignMode features </h3><br>  This is actually a document property that allows you to edit HTML content.  The difference from contentEditable is globality.  That is, it is tied to the entire document, and not to a specific tag. <br><br>  Therefore, we need to create a local document in our page, which will be fully editable.  For this we will use the iframe. <br><br><blockquote><pre>  &lt;html&gt; &lt;head&gt;
 &lt;script language = "javascript"&gt;
	 &lt;! -
 / * Turning the iframe into the editing area, see below (the following JS code) * /
	 // -&gt;
 &lt;/ script&gt; &lt;/ head&gt;
 &lt;body&gt;
	 &lt;iframe id = "frm"&gt; &lt;/ iframe&gt;
 &lt;/ body&gt; &lt;/ html&gt; </pre></blockquote><br><br>  To turn an iframe into an editing area we need: <br>  1) Get a pointer to the iframe document (contentDocument). <br>  2) Check out the html document for it. <br>  3) Set the design mode to editMode. <br><br>  For this, I wrote a small visual library. <br><blockquote><pre>  <font color="black"><font color="#0000ff">var</font> NewTextArea = {</font> <font color="black"><br>
</font>  <font color="black">frame: {},</font> <font color="black"><br>
</font>  <font color="black">document: {},</font> <font color="black"><br>
</font>  <font color="black">window: {},</font> <font color="black"><br>
</font>  <font color="black">init: <font color="#0000ff">function</font> (frame) {</font> <font color="black"><br>
</font>  <font color="black">NewTextArea.frame = frames [frame]? Frames [frame]: <font color="#0000ff">document</font> .getElementById (frame);</font>  <font color="black"><font color="#008000">// IE, Opera - frames.document, others - ById.document</font></font> <font color="black"><br>
<br>
</font>  <font color="black"><font color="#0000ff">if</font> (! NewTextArea.frame) {</font> <font color="black"><br>
</font>  <font color="black">alert ( <font color="#A31515">"Error ID"</font> );</font> <font color="black"><br>
</font>  <font color="black"><font color="#0000ff">return</font> -1;</font> <font color="black"><br>
</font>  <font color="black">}</font> <font color="black"><br>
<br>
</font>  <font color="black"><font color="#008000">// 1) get pointer</font></font> <font color="black"><br>
</font>  <font color="black">NewTextArea.</font>  <font color="black"><font color="#0000ff">document</font> = NewTextArea.frame.contentDocument ||</font>  <font color="black">NewTextArea.frame.</font>  <font color="black"><font color="#0000ff">document</font> ;</font> <font color="black"><br>
</font>  <font color="black"><font color="#0000ff">if</font> (! NewTextArea. <font color="#0000ff">document</font> ) {</font> <font color="black"><br>
</font>  <font color="black">alert ( <font color="#A31515">"Error iframe"</font> );</font> <font color="black"><br>
</font>  <font color="black"><font color="#0000ff">return</font> -2;</font> <font color="black"><br>
</font>  <font color="black">}</font> <font color="black"><br>
<br>
</font>  <font color="black">NewTextArea.window = NewTextArea.frame.contentWindow ||</font>  <font color="black">NewTextArea.frame.window;</font> <font color="black"><br>
</font>  <font color="black"><font color="#0000ff">if</font> (! NewTextArea.window) {</font> <font color="black"><br>
</font>  <font color="black">alert ( <font color="#A31515">"window"</font> );</font> <font color="black"><br>
</font>  <font color="black"><font color="#0000ff">return</font> -2;</font> <font color="black"><br>
</font>  <font color="black">}</font> <font color="black"><br>
<br>
</font>  <font color="black"><font color="#008000">// 2) Design an iframe HTML document</font></font> <font color="black"><br>
</font>  <font color="black">var HTML = "&lt;html&gt; &lt;head&gt; &lt;/ head&gt; &lt;body&gt;";</font> <font color="black">
</font>  <font color="black">HTML + = "&lt;u&gt; Document &lt;/ u&gt; &lt;b&gt; HTML &lt;/ b&gt;";</font> <font color="black">
</font>  <font color="black">HTML + = "&lt;/ body&gt; &lt;/ html&gt;"</font> </pre><br><br>  NewTextArea.  <font color="#0000ff">document</font> .open (); <br>  NewTextArea.  <font color="#0000ff">document</font> .write (HTML); <br>  NewTextArea.  <font color="#0000ff">document</font> .close (); <br><br>  <font color="#008000">// 3) Set the designMode</font> <br>  <font color="#0000ff">if</font> (NewTextArea. <font color="#0000ff">document</font> .designMode) { <br>  NewTextArea.  <font color="#0000ff">document</font> .designMode = <font color="#A31515">'on'</font> ; <br>  } <font color="#0000ff">else</font> { <br>  alert ( <font color="#A31515">"Error designMode"</font> ); <br>  <font color="#0000ff">return</font> -3; <br>  } <br>  } <br>  } <br><br>  <font color="gray">* This source code was highlighted with <a href="http://virtser.net/blog/post/source-code-highlighter.aspx"><font color="gray">Source Code Highlighter</font></a> .</font> </blockquote><br><br>  Actually, we need to initialize the iframe itself in the onload section. <br><blockquote><pre>  ... &lt;body onload = "NewTextArea.init ('frm')"&gt;
	 &lt;iframe id = "frm"&gt; &lt;/ iframe&gt;
 &lt;/ body&gt; </pre></blockquote>  <a href="http://zcn.ru/tmp/W2.html">working example</a> <br><br>  That's all.  The only note is that this script will not work locally in IE - only from the server. <br><br><h3>  Various tasty improvements </h3><br>  Add keys with which we can do <b>B</b> , <i>I</i> , <u>U.</u> <br><blockquote><pre>  ... &lt;body onload = "NewTextArea.init ('frm')"&gt;
	 &lt;iframe id = "frm"&gt; &lt;/ iframe&gt;
	 &lt;input type = "button" value = "B" 
 onclick = "NewTextArea.window.focus (); NewTextArea.document.execCommand ('bold', null, '')" /&gt;

	 &lt;input type = "button" value = "I" 
 onclick = "NewTextArea.window.focus (); NewTextArea.document.execCommand ('italic', null, '')" /&gt;

	 &lt;input type = "button" value = "U" 
 onclick = "NewTextArea.window.focus (); NewTextArea.document.execCommand ('underline', null, '')" /&gt;

 &lt;/ body&gt; </pre></blockquote>  <a href="http://zcn.ru/tmp/W3.html">working example</a> <br><br>  Specifically, I will not analyze the execCommand commands - anyone interested in reading on <a href="http://msdn.microsoft.com/en-us/library/ms533049(VS.85).aspx">MSDN</a> .  With them you can add different colors to the document, pictures and a lot of things. <br><br>  And yet - add the styles of our text field.  To do this, you need to refine our Javascript: <br><blockquote><pre>  ...
	 var HTML = "&lt;html&gt; &lt;head&gt; &lt;style&gt;";
	 HTML + = "html, body {margin: 0px; padding: 0px; background: black; color: white; font-size: 20px}";
	 HTML + = "p, div, span {margin: 0px; padding: 0px}";
	 HTML + = "&lt;/ style&gt; &lt;/ head&gt; &lt;body&gt;";
	 HTML + = "&lt;u&gt; Document &lt;/ u&gt; &lt;b&gt; HTML &lt;/ b&gt;";
	 HTML + = "&lt;/ body&gt; &lt;/ html&gt;";			
 ... </pre></blockquote><br><pre>  You can also do the loading of the text field style from the .css file by inserting the appropriate &lt;link ...&gt; tag instead of the &lt;style&gt;. </pre><br><br>  UPD: By the way, I just found another <a href="http://habrahabr.ru/blogs/webdev/38077/">habr article</a> on this topic.  Who cares, read. </div><p>Source: <a href="https://habr.com/ru/post/43317/">https://habr.com/ru/post/43317/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../433156/index.html">Dell goes to the exchange and heading for a hybrid cloud</a></li>
<li><a href="../433158/index.html">Musical parodies from SUSE about Kubernetes, Linus Torvalds and others</a></li>
<li><a href="../433164/index.html">Fast & Furious: Forza Horizon 4 acceleration due to window shaders</a></li>
<li><a href="../433166/index.html">Predicting the time to solve a ticket using machine learning</a></li>
<li><a href="../433168/index.html">Why does a programmer have an internship in the kitchen - a conversation with ‚ÄúDodo Pizza‚Äù about gembu, .NET and openness</a></li>
<li><a href="../433170/index.html">How did we fail to remake the architecture of the company</a></li>
<li><a href="../433172/index.html">Screwing multiplayer to the mobile game "Make a word from a word" on iOS and Android, written in C ++</a></li>
<li><a href="../433176/index.html">Docker Remote API with certificate authentication with revocation checking</a></li>
<li><a href="../433178/index.html">How we recovered a corrupted .wav file</a></li>
<li><a href="../43318/index.html">Collection of hacks</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>