<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>PHP: Advanced Flow Interface</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I am sure that many of you who read this text are familiar with the concept Fluid Interface. And even if you have not heard about him, I am sure that ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>PHP: Advanced Flow Interface</h1><div class="post__text post__text-html js-mediator-article">  I am sure that many of you who read this text are familiar with the concept Fluid Interface.  And even if you have not heard about him, I am sure that you used it more than once.  It is really convenient.  So what are we talking about? <br><br><pre><code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Images</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> $width; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> $height; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SetWidth</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($value)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;width = $with; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SetHeight</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($value)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;height = $value; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>; } } $images = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Images(); $images-&gt;SetWidth(<span class="hljs-number"><span class="hljs-number">100</span></span>)-&gt;SetHeight(<span class="hljs-number"><span class="hljs-number">100</span></span>); <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span></code> </pre> <br><br>  Here is a small example.  We can, in a row, consistently, perform actions.  The same principle underlies the popular jQuery library.  What can I say, all modern frameworks abound with similar structures.  But what if you use a similar mechanism to build the entire site? 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><h4>  entrance </h4><br>  Here I will not make a big digression, I will return back.  To continue you need to answer the question why?  Well, really, why invent a bicycle if there are standard models and proven architectures.  I'm talking about the MVC family of models.  What is MVC bad for? <br><br>  No, he is not bad.  But he has his limitations, like everything else in this world.  This is a great site building model.  It is the site.  But when it comes to building, on the basis of a web application, alas, its limitations are felt.  Let's take a closer look at the situation.  Take for example the standard site.  No matter what the topic is.  Look at the pictures. <br><br><img src="http://storewizard.ru/blog/fi/images/mvc-index.png" alt="image"><br><br>  Here is drawn layout site layout.  We see a block of news, tabs (there may be just buttons), a block of ads and a block of content.  The content contains a table - an index.  How to organize a request for this page? <br><br> <code><a href="http://mysite.ru/section%3D2%26task%3Dindex"></a> mysite.ru/section=2&amp;task=index <br></code> <br><br>  This is a classic, common mechanism.  One parameter sends a section, another task.  Here is another picture.  We look <br><br><img src="http://storewizard.ru/blog/fi/images/mvc-edit.png" alt="image"><br><br>  There is already the content of the site contains a form of editing.  Here is a request for this page of the site. <br><br> <code><a href="http://mysite.ru/section%3D2%26task%3Dedit"></a> mysite.ru/section=2&amp;task=edit <br></code> <br><br>  Everything is good and clear.  This is also programmed simply.  For example, so <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Site</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Section</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($value)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyController(); } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyController</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GeneralController</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Index</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Table(); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Edit</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Form(); } } $site = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Site(); $section = $_GET[<span class="hljs-string"><span class="hljs-string">"section"</span></span>]; $task = $_GET[<span class="hljs-string"><span class="hljs-string">"task"</span></span>]; $site-&gt;Section($section)-&gt;$task(); <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span></code> </pre><br><br>  The Site class returns the controller for the desired section.  The MyController section controller performs the necessary actions. <br><br>  Tell me, what if you are developing a web application, not a website.  The interface of the web application is much more complicated than the one above.  Tabs, tables, menus, etc.  After all, to each element of the page we need to have access, update it, redraw?  What if most content needs to be updated with AJAX?  See another picture <br><br><img src="http://storewizard.ru/blog/fi/images/fi-index.png" alt="image"><br><br>  Now our site has a tree, a bunch of tabs, a form, several toolbars, etc.  The tables that are inserted into the tabs are sorted in all directions.  A field Avatar in the form can load and delete a picture without reloading the entire page.  So how to organize requests to all these elements? <br><br>  Let's try to go the same way.  Suppose we have the same MVC scheme.  Obviously, we will need another parameter that will indicate what specifically to change on the page.  Let it be called part.  Then requests might look something like this: <br><br> <code><a href="http://mysite.ru/%3Fsection%3D2%26part%3Dtree%26task%3Dexpand"></a> <a href="http://mysite.ru/%3Fsection%3D2%26part%3Dform%26task%3Ddelete"></a> mysite.ru?section=2&amp;part=tree&amp;task=expand <br> mysite.ru?section=2&amp;part=form&amp;task=delete <br></code> <br><br>  And how will you turn to the toolbar in the Tree section?  Or to the toolbar in the Contents tab?  Another parameter to enter?  Dead end <br><br><h4>  Output </h4><br><br>  And again the picture. <br><br><img src="http://storewizard.ru/blog/fi/images/chime.png" alt="image"><br><br>  This is a block diagram of the Electronic University Users section.  I am sure that it is not necessary to have even a higher education in order to understand its content.  Understand that Students are made up of Groups, and groups are already Student elements.  Before us is nesting.  And now we remember the Fluid interface and make the following assumption.  And why would the root object methods not return other objects, but not just their own object?  Actually, as soon as we implement this, we can easily expand this scheme into a chain.  Go! <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Members</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Teachers</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Teachers(); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Students</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Students(); } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Teachers</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Teacher</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($number)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Teacher($number); } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Students</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Group</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($number)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Group($number); } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Group</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Student</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($number)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Student($number); } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Teacher</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Show</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Student</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Show</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ } } <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span></code> </pre><br><br>  Now, to show a student, you need to run the following chain of commands <br><br> <code>Members::Students()-&gt;Group(123)-&gt;Student(327)-&gt;Show(); <br></code> <br><br>  Let's repeat the question, the question that brought us to a dead end in the previous paragraph.  And how will you turn to the toolbar in the Tree section? <br><br>  We answer.  Like this <br><br> <code>Members::Students()-&gt;Group(123)-&gt;Student(327)-&gt;Tree()-&gt;Toolbar()-&gt;Add(); <br></code> <br><br>  The class Student itself can have inside itself the same calls on chains to other objects.  Simply put, a student class consists of a form, the Form () method, Tree () is a tree and what else is needed.  This is like Lego.  What we see, then sculpt, compose, design! <br><br><h4>  Dessert </h4><br><br>  The above proposed scheme of the Extended Fluid Interface for building web applications is very easily transformed into a chain of inquiries, the chain - to the site address, to the user's position on the site. <br>  In case you write the following in .htaccess <br><br> <code>RewriteEngine On <br> RewriteBase / <br> RewriteCond %{REQUEST_FILENAME} !-f <br> RewriteCond %{REQUEST_FILENAME} !-d <br> RewriteRule ^(.*)$ index.php [QSA,L] <br></code> <br><br>  Then all requests to the site will be redirected to index.php.  In it, you will remain type links <br><br> <code><a href="http://mysite.ru/control/members/students/group%3D123/student%3D321/show"></a> mysite.ru/control/members/students/group=123/student=321/show <br></code> <br><br>  turn into a chain of commands <br><br> <code>Application::Control()-&gt;Members()-&gt;Students()-&gt;Group(123)-&gt;Student(431)-&gt;Show(); <br></code> <br><br>  You can do it this way. <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Application</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;request = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;Request()) { <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;errors[] = ERROR_PARAM_GET; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Init</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!is_object(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::$instance)) { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::$instance = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>(); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::$instance; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Request</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!$uri = explode(<span class="hljs-string"><span class="hljs-string">"/"</span></span>, $_SERVER[<span class="hljs-string"><span class="hljs-string">"REQUEST_URI"</span></span>])) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> ($uri <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $item) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (strpos($item, <span class="hljs-string"><span class="hljs-string">"="</span></span>)) { $key = substr($item, <span class="hljs-number"><span class="hljs-number">0</span></span>, strpos($item, <span class="hljs-string"><span class="hljs-string">"="</span></span>)); $value = substr($item, strpos($item, <span class="hljs-string"><span class="hljs-string">"="</span></span>)+<span class="hljs-number"><span class="hljs-number">1</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { $key = $item; $value = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!<span class="hljs-keyword"><span class="hljs-keyword">empty</span></span>($item)) { $result[] = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">"key"</span></span> =&gt; $key, <span class="hljs-string"><span class="hljs-string">"value"</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>($value) ? $value : <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> ); } } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $result; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Run</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;errors)) { <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;errors <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $error) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $error; } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { $root = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** *    *    ,   */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;request <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $element) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_object($root) &amp;&amp; method_exists($root, $element[<span class="hljs-string"><span class="hljs-string">"key"</span></span>])) { $root = $root-&gt;{$element[<span class="hljs-string"><span class="hljs-string">"key"</span></span>]}(@$element[<span class="hljs-string"><span class="hljs-string">"value"</span></span>]); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;Welcome()-&gt;Show(); } } } } } Application::Init()-&gt;Run(); <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span></code> </pre><br><br>  PS: Dear colleagues.  The above code samples do not contain checks and therefore cannot be used in work projects as they are.  They are written solely for clarity. <br><br><h4>  Links </h4><br>  For the preparation of this material, I used <a href="https://gomockingbird.com/mockingbird/">gomockingbird.com/mockingbird</a> in which I drew a site scheme. <br><br></div><p>Source: <a href="https://habr.com/ru/post/132115/">https://habr.com/ru/post/132115/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../132107/index.html">Online redo logs or Checkpoint Event in Oracle</a></li>
<li><a href="../132108/index.html">"Vkontakte" gives out personal data in the search for documents</a></li>
<li><a href="../132110/index.html">Twitter experiments with user action tape</a></li>
<li><a href="../132111/index.html">Modx and "restriction" in 5000 documents</a></li>
<li><a href="../132114/index.html">Introduction to Sterling NoSQL OODB</a></li>
<li><a href="../132116/index.html">Taming Graylog2 - a visualized and functional server log files</a></li>
<li><a href="../132117/index.html">A friend will help</a></li>
<li><a href="../132118/index.html">Sphinx Sample Search on Real Project - Tecdoc Auto Parts Store</a></li>
<li><a href="../132119/index.html">Chamber technology on Yandex.Maps</a></li>
<li><a href="../132120/index.html">What is the new media and how to advance start-ups in social networks</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>