<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Rare SQL</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introductory 
 When you often come across any technology, programming language, standard, a certain picture of their capabilities is formed, the bound...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Rare SQL</h1><div class="post__text post__text-html js-mediator-article"><h2>  Introductory </h2><br>  When you often come across any technology, programming language, standard, a certain picture of their capabilities is formed, the boundaries in which they are used.  So it can continue for a long time, until you see examples that expand the solidified horizons of knowledge.  Today, I would like to talk about such examples and demonstrate them for the SQL language.  Interesting and rare designs, forgotten expressions, strange tricks are waiting for you in this article.  Anyone interested, welcome under cat. <br><a name="habracut"></a><br><h2>  Nuances </h2><br>  I am often asked, but for whom is this article?  But, believe me, it is not always easy to give an answer: on the one hand, there are ninja developers who are difficult to surprise with something, and on the other hand, young Padawans.  But I can definitely say one thing - for the reader who is interested in SQL, who is able to complement his rich picture with small, but very interesting details.  In this article there will be no kilometer pages of the sql query, a maximum of 1, 2 lines and only that which is rarely seen in my opinion.  But since I want to be completely honest, if you are from sql to you, the article will seem boring.  All examples in the article, with the exception of the first and fourth, can be attributed to the SQL-92 standard. <br><br><h2>  Data </h2><br>  In order to simplify our life, I put a simple data plate on which certain moments and for the sake of brevity will be tested, I will give the result of the experiment on them.  I check all requests on PostgreSql. <div class="spoiler">  <b class="spoiler_title">Scripts and data table</b> <div class="spoiler_text"><pre><code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> goods( <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> <span class="hljs-built_in"><span class="hljs-built_in">bigint</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> <span class="hljs-built_in"><span class="hljs-built_in">character</span></span> <span class="hljs-built_in"><span class="hljs-built_in">varying</span></span>(<span class="hljs-number"><span class="hljs-number">127</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, description <span class="hljs-built_in"><span class="hljs-built_in">character</span></span> <span class="hljs-built_in"><span class="hljs-built_in">varying</span></span>(<span class="hljs-number"><span class="hljs-number">255</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, price <span class="hljs-built_in"><span class="hljs-built_in">numeric</span></span>(<span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, articul <span class="hljs-built_in"><span class="hljs-built_in">character</span></span> <span class="hljs-built_in"><span class="hljs-built_in">varying</span></span>(<span class="hljs-number"><span class="hljs-number">20</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, act_time <span class="hljs-built_in"><span class="hljs-built_in">timestamp</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">availability</span></span> <span class="hljs-built_in"><span class="hljs-built_in">boolean</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">CONSTRAINT</span></span> pk_goods PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> goods (<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, description, price, articul, act_time, <span class="hljs-keyword"><span class="hljs-keyword">availability</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">VALUES</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-number"><span class="hljs-number">100.00</span></span>, <span class="hljs-string"><span class="hljs-string">'TR-75'</span></span>, {ts <span class="hljs-string"><span class="hljs-string">'2017-01-01 01:01:01.01'</span></span>}, <span class="hljs-literal"><span class="hljs-literal">TRUE</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> goods (<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, description, price, articul, act_time, <span class="hljs-keyword"><span class="hljs-keyword">availability</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">VALUES</span></span> (<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-number"><span class="hljs-number">200.00</span></span>, <span class="hljs-string"><span class="hljs-string">'PR-75'</span></span>, {ts <span class="hljs-string"><span class="hljs-string">'2017-01-02 02:02:02.02'</span></span>}, <span class="hljs-literal"><span class="hljs-literal">TRUE</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> goods (<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, description, price, articul, act_time, <span class="hljs-keyword"><span class="hljs-keyword">availability</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">VALUES</span></span> (<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-number"><span class="hljs-number">300.00</span></span>, <span class="hljs-string"><span class="hljs-string">'ZR-75'</span></span>, {ts <span class="hljs-string"><span class="hljs-string">'2017-01-03 03:03:03.03'</span></span>}, <span class="hljs-literal"><span class="hljs-literal">TRUE</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> goods (<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, description, price, articul, act_time, <span class="hljs-keyword"><span class="hljs-keyword">availability</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">VALUES</span></span> (<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-number"><span class="hljs-number">400.00</span></span>, <span class="hljs-string"><span class="hljs-string">'AR-75'</span></span>, {ts <span class="hljs-string"><span class="hljs-string">'2017-01-04 04:04:04.04'</span></span>}, <span class="hljs-literal"><span class="hljs-literal">FALSE</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> goods (<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, description, price, articul, act_time, <span class="hljs-keyword"><span class="hljs-keyword">availability</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">VALUES</span></span> (<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-number"><span class="hljs-number">500.00</span></span>, <span class="hljs-string"><span class="hljs-string">'BR-75'</span></span>, {ts <span class="hljs-string"><span class="hljs-string">'2017-01-05 05:05:05.05'</span></span>}, <span class="hljs-literal"><span class="hljs-literal">FALSE</span></span>);</code> </pre> <br><table><tbody><tr><td>  id </td><td>  name </td><td>  description </td><td>  price </td><td>  articul </td><td>  act_time </td><td>  availability </td></tr><tr><td>  one </td><td>  Slippers </td><td>  Soft </td><td>  100.00 </td><td>  TR-75 </td><td>  2017-01-01 01: 01: 01.01 </td><td>  true </td></tr><tr><td>  2 </td><td>  Pillow </td><td>  White </td><td>  200.00 </td><td>  PR-75 </td><td>  2017-01-02 02: 02: 02.02 </td><td>  true </td></tr><tr><td>  3 </td><td>  A blanket </td><td>  Downy </td><td>  300.00 </td><td>  ZR-75 </td><td>  2017-01-03 03: 03: 03.03 </td><td>  true </td></tr><tr><td>  four </td><td>  Pillowcase </td><td>  Gray </td><td>  400.00 </td><td>  AR-75 </td><td>  2017-01-04 04: 04: 04.04 </td><td>  false </td></tr><tr><td>  five </td><td>  Bed sheet </td><td>  Silk </td><td>  500.00 </td><td>  BR-75 </td><td>  2017-01-05 05: 05: 05.05 </td><td>  false </td></tr></tbody></table></div></div><br><br><h2>  Requests </h2><br><h4>  1. Double quotes </h4><br>  And the first thing I have is a simple question: <i>Could you give an example of an sql query using <b>double</b> quotes?</i>  Yes, not with single, double? <br><div class="spoiler">  <b class="spoiler_title">Double quotes example</b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> <span class="hljs-string"><span class="hljs-string">" "</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> goods</code> </pre> <table><tbody><tr><td>  <b>Item Name</b> </td></tr><tr><td>  Slippers </td></tr><tr><td>  Pillow </td></tr><tr><td>  A blanket </td></tr><tr><td>  Pillowcase </td></tr><tr><td>  Bed sheet </td></tr></tbody></table></div></div><br>  I was very surprised when I saw this for the first time.  If you try to change the double quotes to single quotes, the result will be completely <b>different</b> ! <br><div class="spoiler">  <b class="spoiler_title">Single Quotes Example</b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> <span class="hljs-string"><span class="hljs-string">' '</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> goods <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> = <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br><table><tbody><tr><td>  <b>name</b> </td></tr><tr><td>  <i>This is the data</i> </td></tr></tbody></table><br></div></div><br>  It may seem that this is not a very useful example for real development.  For me, this is not the case.  Now I actively use it in all of my sql blanks.  The essence is simple, when you come back in half a year to a sql query of 40 columns, oh, how the name of our Native rescues.  Despite the fact that I did not indicate about SQL-92, in the latest edition there is a mention of double quotes. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  2. Pseudo table.  SQL-92 </h4><br>  A little is not accurate, in terms of terminology, but the essence is simple - the table is the resulting subquery in the FROM section.  Perhaps the most famous fact in this article. <br><div class="spoiler">  <b class="spoiler_title">Pseudo table</b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> mock.nickname <span class="hljs-string"><span class="hljs-string">""</span></span>, (<span class="hljs-keyword"><span class="hljs-keyword">CASE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> mock.huff <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> <span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> <span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">END</span></span>) <span class="hljs-string"><span class="hljs-string">"?"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> nickname, <span class="hljs-keyword"><span class="hljs-keyword">availability</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> huff <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> goods) mock</code> </pre> <table><tbody><tr><td>  Nickname </td><td>  Offended? </td></tr><tr><td>  Slippers </td><td>  Yes </td></tr><tr><td>  Pillow </td><td>  Yes </td></tr><tr><td>  A blanket </td><td>  Yes </td></tr><tr><td>  Pillowcase </td><td>  Not </td></tr><tr><td>  Bed sheet </td><td>  Not </td></tr></tbody></table></div></div>  In our example, mock is a pseudo table (sometimes called a virtual table).  Naturally, they are not intended to distort the true meaning.  An example of this. <br><br><h4>  3. The constructor of the data block.  SQL-92 </h4><br>  It sounds scary, simply because I did not find a good translation or interpretation.  And as always, the example is easier to explain: <div class="spoiler">  <b class="spoiler_title">Example of data block constructor</b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> <span class="hljs-string"><span class="hljs-string">" "</span></span>, price <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">VALUES</span></span> (<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-number"><span class="hljs-number">100.00</span></span>), (<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-number"><span class="hljs-number">200.00</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> goods(<span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, price)</code> </pre> <table><tbody><tr><td>  Item Name </td><td>  Price </td></tr><tr><td>  Slippers </td><td>  100.00 </td></tr><tr><td>  Pillow </td><td>  200.00 </td></tr></tbody></table></div></div>  In the <b>FROM</b> section, the keyword <b>VALUES is used</b> , followed by data in brackets, line by line.  The bottom line is that we don‚Äôt select data from any table at all, but simply create it on the fly, 'call' the table, name the columns, and then use it at our discretion.  This thing turned out to be extremely useful when testing different cases of an sql query, when there is no data for some tables (in your local database), and writing a insert is lazy or sometimes very difficult, due to the coherence of the tables and constraints. <br><br><h4>  4. Time, Date and Time-and-Date </h4><br>  Probably everyone faced in the requests, with the need to specify the time, date or date-and-time.  Many DBMSs support literals t, d, and ts, respectively, for working with these types.  But it is easier to explain with an example: <div class="spoiler">  <b class="spoiler_title">Ts literal example</b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> <span class="hljs-string"><span class="hljs-string">" "</span></span>, act_time <span class="hljs-string"><span class="hljs-string">" "</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> goods <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> act_time = {ts <span class="hljs-string"><span class="hljs-string">'2017-01-01 01:01:01.01'</span></span>}</code> </pre> <table><tbody><tr><td>  Item Name </td><td>  Exact time </td></tr><tr><td>  Slippers </td><td>  2017-01-01 01: 01: 01.01 </td></tr></tbody></table></div></div>  For d and t literals, everything is the same. <br>  I apologize to the reader for misleadingly, but all that said in clause 4 does not apply to the SQL language, but to the ability to preprocess queries in JDBC. <br><br><h4>  5. Denial.  SQL-92 </h4><br>  We all know about the <b>NOT</b> operator, but very often they forget that it can be applied both to a group of predicates and to a single column: <br><div class="spoiler">  <b class="spoiler_title">Negative example</b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">availability</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> goods <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">availability</span></span> <span class="hljs-comment"><span class="hljs-comment">--   SELECT id, name FROM goods WHERE NOT (id = 1 OR id = 2 OR id = 3)</span></span></code> </pre> <table><tbody><tr><td>  id </td><td>  name </td><td>  availability </td></tr><tr><td>  four </td><td>  Pillowcase </td><td>  false </td></tr><tr><td>  five </td><td>  Bed sheet </td><td>  false </td></tr></tbody></table></div></div><br><br><h4>  6. Comparison of data blocks.  SQL-92 </h4><br>  Once again, I apologize for the terminology.  This is one of my favorite examples. <div class="spoiler">  <b class="spoiler_title">Example of data block comparison</b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> goods <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, price, <span class="hljs-keyword"><span class="hljs-keyword">availability</span></span>) = (<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-number"><span class="hljs-number">400.00</span></span>, <span class="hljs-literal"><span class="hljs-literal">FALSE</span></span>) <span class="hljs-comment"><span class="hljs-comment">--    SELECT * FROM goods WHERE name = '' AND price = 400.00 AND availability = FALSE</span></span></code> </pre> <table><tbody><tr><td>  id </td><td>  name </td><td>  description </td><td>  price </td><td>  articul </td><td>  act_time </td><td>  availability </td></tr><tr><td>  four </td><td>  Pillowcase </td><td>  Gray </td><td>  400.00 </td><td>  AR-75 </td><td>  2017-01-04 04: 04: 04.04 </td><td>  false </td></tr></tbody></table></div></div>  As can be seen from the example, the comparison of data blocks is similar to the comparison of elementwise <i>value_ <b>1</b> _block_1 = value_ <b>1</b> _block_2, value_ <b>2</b> _block_1 = value_ <b>2</b> _block_2, value_ <b>3</b> _block_1 = value_ <b>3</b> _block_2</i> using <b>AND</b> between them. <br><br><h4>  7. Comparison operators with ANY, SOME or ALL modifiers.  SQL-92 </h4><br>  An explanation is required here.  But as always, first an example <div class="spoiler">  <b class="spoiler_title">Comparison Example with ALL</b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> goods <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> &gt; ALL (<span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> goods <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">availability</span></span>)</code> </pre> <table><tbody><tr><td>  id </td><td>  name </td></tr><tr><td>  four </td><td>  Pillowcase </td></tr><tr><td>  five </td><td>  Bed sheet </td></tr></tbody></table></div></div>  What does <b>ALL</b> mean in this case?  And it means that only those rows whose identifiers (4 and 5 in our case) are greater than <b>any</b> of the values ‚Äã‚Äãfound in the subquery (1, 2 and 3) satisfy the sampling condition.  4 more than 1 and more than 2 and more than 3. 5 similarly.  What happens if we replace <b>ALL</b> with <b>ANY</b> ? <br><div class="spoiler">  <b class="spoiler_title">Comparison Example with ANY</b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> goods <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> &gt; <span class="hljs-keyword"><span class="hljs-keyword">ANY</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> goods <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">availability</span></span>)</code> </pre> <table><tbody><tr><td>  id </td><td>  name </td></tr><tr><td>  2 </td><td>  Pillow </td></tr><tr><td>  3 </td><td>  A blanket </td></tr><tr><td>  four </td><td>  Pillowcase </td></tr><tr><td>  five </td><td>  Bed sheet </td></tr></tbody></table></div></div>  What does <b>ANY</b> mean in this case?  And it means that only those rows whose identifiers (in our case it‚Äôs 2, 3, 4 and 5) satisfy the condition of the sample are more than <b>at least one</b> of the values ‚Äã‚Äãfound in the subquery (1, 2 and 3).  For myself, I associated <b>ALL</b> with <b>AND</b> , and <b>ANY</b> with <b>OR</b> .  <b>SOME</b> and <b>ANY</b> analogues among themselves. <br><br><h4>  8. Operators of work with requests / under requests.  SQL-92 </h4><br>  It is well known that you can combine 2 queries with each other using <b>UNION</b> or <b>UNION ALL operators</b> .  This is often used.  But there are 2 more operators <b>EXCEPT</b> and <b>INTERSECT</b> . <br><div class="spoiler">  <b class="spoiler_title">EXCEPT Example</b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> goods <span class="hljs-keyword"><span class="hljs-keyword">EXCEPT</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> goods <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">availability</span></span>)</code> </pre> <table><tbody><tr><td>  id </td><td>  name </td><td>  description </td><td>  price </td><td>  articul </td><td>  act_time </td><td>  act_time </td></tr><tr><td>  four </td><td>  Pillowcase </td><td>  Gray </td><td>  400.00 </td><td>  AR-75 </td><td>  2017-01-04 04: 04: 04.04 </td><td>  false </td></tr><tr><td>  five </td><td>  Bed sheet </td><td>  Silk </td><td>  500.00 </td><td>  BR-75 </td><td>  2017-01-05 05: 05: 05.05 </td><td>  false </td></tr></tbody></table></div></div>  Actually, the data of the second set are excluded from the first set of values. <br><div class="spoiler">  <b class="spoiler_title">INTERSECT example</b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> goods <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> &gt; <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTERSECT</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> goods <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">availability</span></span>)</code> </pre> <table><tbody><tr><td>  id </td><td>  name </td><td>  description </td><td>  price </td><td>  articul </td><td>  act_time </td><td>  act_time </td></tr><tr><td>  3 </td><td>  A blanket </td><td>  Downy </td><td>  300.00 </td><td>  ZR-75 </td><td>  2017-01-03 03: 03: 03.03 </td><td>  true </td></tr></tbody></table></div></div>  Actually, the intersection of the first set of values ‚Äã‚Äãand the second set. <br>  That's all, thank you for your attention. <br><br><h2>  Sources </h2><br>  <i><a href="https://github.com/ronsavage/SQL">BNF Grammars for SQL-92, SQL-99 and SQL-2003</a></i> <br>  <i><a href="http://www.dofactory.com/sql/tutorial">SQL Tutorial</a></i> <br><br><h2>  Revision </h2><br>  N1.  Thank you streetflush for constructive criticism.  Introduced an article about what is a language standard and what is not. <br>  N2.  Clause 4 has been fixed, with the explanation that ts / d / t is not part of the SQL language.  Thanks for the attentiveness Melkij. </div><p>Source: <a href="https://habr.com/ru/post/321504/">https://habr.com/ru/post/321504/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../321492/index.html">New formula for role-playing games</a></li>
<li><a href="../321494/index.html">Cognitive Services & LUIS: An Introduction to Natural Language Recognition</a></li>
<li><a href="../321498/index.html">How to "pump" the designer: tips and useful links from Russian experts</a></li>
<li><a href="../321500/index.html">In preparation for an IPO, Snapchat protects its code and reputation from Facebook's ‚Äúharassment‚Äù</a></li>
<li><a href="../321502/index.html">How to run the background process in Asp.net</a></li>
<li><a href="../321506/index.html">Virtual reality in real estate: case</a></li>
<li><a href="../321508/index.html">Wit and courage: how we were wrong many times when creating iFunny</a></li>
<li><a href="../321510/index.html">Python: Working with a Database, Part 1/2: Using DB-API</a></li>
<li><a href="../321518/index.html">Mahou - Magic Layout Switch</a></li>
<li><a href="../321520/index.html">Who seeks will always find. If you help him</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>