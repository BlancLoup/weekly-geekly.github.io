<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Loading CentOS 6 from a flash drive: straight arms</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Every time you read the recommendations for creating boot flash drives (in particular for Linux live USB flash), the author suggests formatting the re...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Loading CentOS 6 from a flash drive: straight arms</h1><div class="post__text post__text-html js-mediator-article"> Every time you read the recommendations for creating boot flash drives (in particular for Linux live USB flash), the author suggests formatting the removable device cleanly, and in the presence of perverted fantasy - formatting under ext2 / 3/4, and for especially perverted - it creates 2 sections , or even climbs into the flash controller controller firmware in order to create cdrom emulation there.  Or the recommendation uses software that does the same thing - but automatically. <br><br>  Excuse me, but I already have a bootable, combat flash drive, which is loaded with Grub4dos and a pair of direct hands, an entire arsenal of software - from windows XP PE to the VMWare ESXi hypervisor installation ... So, I wanted to port the Live CD to the Live Cent for it too 6 <br><a name="habracut"></a><br>  What I need: <br>  1) in fact, a flash drive with FS FAT16 / 32 with the grub4dos bootloader installed and working (if you wish, you can install it without formatting anything), at least 1 GB in size <br>  2) downloaded iso from CentOS 6 Live <br><br>  The challenge we set ourselves is to get a grub4dos-compatible download method, while maintaining the download options menu, available on the original Live CD. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So let's go. <br><br>  1. Create a CentOS folder in the root of the flash drive.  We copy there from ISO folders of LiveOS and isolinux (in the latter only initrd0.img, memtest, vmlinuz0 are needed) <br><br>  2. We check that the flash drive has a label as a disk, if we don‚Äôt have one yet, we‚Äôll call it a label for example ZVER. <br><br>  3. Pull isolinux.cfg out of isolinux one level up in CentOS.  Rename it to centos.lst.  Now you need to convert it from the isolinux format to the grub4dos format.  We begin to rule it. <br>  From the beginning to the <code>label linux0</code> everything is deleted.  All lines that begin with a <i>label are</i> commented with the # sign.  The phrase <i>Menu label</i> - turn into <i>title</i> .  Now the most difficult is the <i>kernel</i> and <i>initrd</i> parameters for grub4dos.  See for yourself and ‚Äúfind 10 differences‚Äù: <br><br>  It was: <br> <code>label linux0</code> <br> <code>menu label Boot</code> <br> <code>kernel vmlinuz0</code> <br> <code>append initrd=initrd0.img root=live:CDLABEL=CentOS-6.2-i386-LiveCD rootfstype=auto ro liveimg quiet nodiskmount nolvmmount rhgb vga=791 rd.luks=0 rd.md=0 rd.dm=0</code> <br> <br>  It became: <br> <code>#label linux0</code> <br> <code>title Boot</code> <br> <code>kernel /CentOS/isolinux/vmlinuz0 root=live:LABEL=ZVER live_dir=/CentOS/LiveOS rootfstype=auto ro liveimg quiet nodiskmount nolvmmount rhgb vga=791 rd.luks=0 rd.md=0 rd.dm=0</code> <br> <code>initrd /CentOS/isolinux/initrd0.img</code> <br> <br>  and at the end of the file should be like this: <br> <code>#label memtest</code> <br> <code>title Memory Test</code> <br> <code>kernel /CentOS/isolinux/memtest</code> <br> <br><div class="spoiler">  <b class="spoiler_title">This is what should be contained in the centos.lst file.</b> <div class="spoiler_text"><pre> <code class="hljs dos">timeout <span class="hljs-number"><span class="hljs-number">100</span></span> #<span class="hljs-built_in"><span class="hljs-built_in">label</span></span> linux0 <span class="hljs-built_in"><span class="hljs-built_in">title</span></span> Boot kernel /CentOS/isolinux/vmlinuz0 root=live:<span class="hljs-built_in"><span class="hljs-built_in">LABEL</span></span>=NARYA live_dir=/CentOS/LiveOS rootfstype=auto ro liveimg quiet nodiskmount nolvmmount rhgb vga=<span class="hljs-number"><span class="hljs-number">791</span></span> <span class="hljs-built_in"><span class="hljs-built_in">rd</span></span>.luks=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">rd</span></span>.<span class="hljs-built_in"><span class="hljs-built_in">md</span></span>=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">rd</span></span>.dm=<span class="hljs-number"><span class="hljs-number">0</span></span> initrd /CentOS/isolinux/initrd0.img #<span class="hljs-built_in"><span class="hljs-built_in">title</span></span> default #<span class="hljs-built_in"><span class="hljs-built_in">label</span></span> linuxtext0 <span class="hljs-built_in"><span class="hljs-built_in">title</span></span> Boot (Text <span class="hljs-built_in"><span class="hljs-built_in">Mode</span></span>) kernel /CentOS/isolinux/vmlinuz0 root=live:<span class="hljs-built_in"><span class="hljs-built_in">LABEL</span></span>=NARYA live_dir=/CentOS/LiveOS rootfstype=auto ro liveimg <span class="hljs-number"><span class="hljs-number">3</span></span> quiet nodiskmount nolvmmount rhgb vga=<span class="hljs-number"><span class="hljs-number">791</span></span> <span class="hljs-built_in"><span class="hljs-built_in">rd</span></span>.luks=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">rd</span></span>.<span class="hljs-built_in"><span class="hljs-built_in">md</span></span>=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">rd</span></span>.dm=<span class="hljs-number"><span class="hljs-number">0</span></span> initrd /CentOS/isolinux/initrd0.img #<span class="hljs-built_in"><span class="hljs-built_in">label</span></span> linux0 <span class="hljs-built_in"><span class="hljs-built_in">title</span></span> Boot (Basic Video) kernel /CentOS/isolinux/vmlinuz0 root=live:<span class="hljs-built_in"><span class="hljs-built_in">LABEL</span></span>=NARYA live_dir=/CentOS/LiveOS rootfstype=auto ro liveimg quiet nodiskmount nolvmmount rhgb vga=<span class="hljs-number"><span class="hljs-number">791</span></span> <span class="hljs-built_in"><span class="hljs-built_in">rd</span></span>.luks=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">rd</span></span>.<span class="hljs-built_in"><span class="hljs-built_in">md</span></span>=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">rd</span></span>.dm=<span class="hljs-number"><span class="hljs-number">0</span></span> xdriver=vesa nomodeset initrd=/CentOS/isolinux/initrd0.img #<span class="hljs-built_in"><span class="hljs-built_in">label</span></span> install0 <span class="hljs-built_in"><span class="hljs-built_in">title</span></span> Install kernel /CentOS/isolinux/vmlinuz0 root=live:<span class="hljs-built_in"><span class="hljs-built_in">LABEL</span></span>=NARYA live_dir=/CentOS/LiveOS rootfstype=auto ro liveimg liveinst noswap nolvmmount <span class="hljs-built_in"><span class="hljs-built_in">rd</span></span>.luks=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">rd</span></span>.<span class="hljs-built_in"><span class="hljs-built_in">md</span></span>=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">rd</span></span>.dm=<span class="hljs-number"><span class="hljs-number">0</span></span> initrd=/CentOS/isolinux/initrd0.img #<span class="hljs-built_in"><span class="hljs-built_in">label</span></span> textinstall0 <span class="hljs-built_in"><span class="hljs-built_in">title</span></span> Install (Text <span class="hljs-built_in"><span class="hljs-built_in">Mode</span></span>) kernel /CentOS/isolinux/vmlinuz0 root=live:<span class="hljs-built_in"><span class="hljs-built_in">LABEL</span></span>=NARYA live_dir=/CentOS/LiveOS rootfstype=auto ro liveimg textinst noswap nolvmmount <span class="hljs-built_in"><span class="hljs-built_in">rd</span></span>.luks=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">rd</span></span>.<span class="hljs-built_in"><span class="hljs-built_in">md</span></span>=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">rd</span></span>.dm=<span class="hljs-number"><span class="hljs-number">0</span></span> initrd /CentOS/isolinux/initrd0.img #<span class="hljs-built_in"><span class="hljs-built_in">label</span></span> memtest <span class="hljs-built_in"><span class="hljs-built_in">title</span></span> Memory Test kernel /CentOS/isolinux/memtest <span class="hljs-built_in"><span class="hljs-built_in">title</span></span> Back to main menu configfile /menu.lst</code> </pre></div></div><br><br>  4. In the root menu.lst add 2 lines: <br> <code>title CentOS 6 LIVE</code> <br> <code>configfile /CentOS/centos.lst</code> <br> <br>  Everything, you can try out our flash drive for downloadability!  But before rebooting, I advise you to look in the direction of solutions based on the QEMU emulator, for example, <a href="http://habrahabr.ru/post/96205/">this</a> is a great time saver when debugging. <br><br>  Loaded from a CentOS Live flash drive, it is beautifully installed on a hard disk in a regular way.  Thus, we have 2 in 1 - also the installation distribution. </div><p>Source: <a href="https://habr.com/ru/post/148201/">https://habr.com/ru/post/148201/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../148194/index.html">Step-by-step guide to executable files (EXE) Windows</a></li>
<li><a href="../148195/index.html">Panoramic images of the Antarctic: now everyone can become a polar explorer!</a></li>
<li><a href="../148197/index.html">Hail the fiery fox!</a></li>
<li><a href="../148198/index.html">For the first time created a computer model of a living cell.</a></li>
<li><a href="../148200/index.html">Free VPN Free Cheese</a></li>
<li><a href="../148202/index.html">Mastering HTML5 audio tag</a></li>
<li><a href="../148203/index.html">PHPExcel and large files</a></li>
<li><a href="../148205/index.html">Silent Code - in August, the world will see a comprehensive security system for negotiations for mobile devices</a></li>
<li><a href="../148206/index.html">Change policy issuing ip addresses from fastvps</a></li>
<li><a href="../148207/index.html">Add the ability to log in via VKontakte in iOS application</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>