<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Comparison of monitoring systems: Shinken vs Sensu vs Icinga 2 vs Zabbix</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Shinken 


 According to the official website, Shinken is a monitoring framework; rewritten from scratch on the python Nagios Core, with improved supp...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Comparison of monitoring systems: Shinken vs Sensu vs Icinga 2 vs Zabbix</h1><div class="post__text post__text-html js-mediator-article"><h2 id="shinkenhttpwwwshinken-monitoringorg">  <a href="http://www.shinken-monitoring.org/">Shinken</a> </h2><br><p>  According to the official website, Shinken is a monitoring framework;  rewritten from scratch on the python Nagios Core, with improved support for larger environments and more flexible. </p><br><h3 id="masshtabiruemost">  Scalability </h3><br><p>  According to the <a href="https://shinken.readthedocs.io/en/latest/07_advanced/distributed.html">documentation</a> , each type of processes used can be run on a separate host.  This is a very useful feature, because you may want to have a database in the cheapest place, processes for collecting information in each data center, and processes for sending notifications closer to your physical location.  User Shinken on the diagram is happy, this is definitely a good sign: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/927/842/dd1/927842dd1b356f9d3c85fb2efb16482d.png" alt="Shinken simple distributed architecture"></p><a name="habracut"></a><br><p>  This system also has a ready-made configuration for inter-regional monitoring, called <strong><a href="">Realms</a></strong> (Spheres). </p><br><p>  Here you can notice something amazing: the information is collected in regional databases, and not in one master database.  There is also a smaller form of configuration with spheres for smaller distributed configurations, which requires only one database and several hosts for installation: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/533/981/149/5339811496914fed486723d2bedd6847.png" alt="Shinken simple multi-regional distributed architecture"></p><br><p>  Failover is another pain point in assessing scalability.  I will quote this information from the documentation: </p><br><blockquote>  Nobody is perfect.  The server can fall, as well as the application, so the administrators have substitutions: they can take the configuration of the fallen elements and re-raise them.  Currently, the only process that does not have a substitution is the Arbitrator, but in the future it will be finalized.  Armiber regularly checks to see if all other processes are available, and if the scheduler or another process is dead, it sends its configuration to another node defined by the administrator.  All processes are notified of this change, so that they can use the new node to access the process, and will not attempt to use the failed one.  If the node was lost due to network problems, and returned to operation, the Arbitrator will notice this and ask the replacement node to reset its temporary role. </blockquote><br><h3 id="integraciya-s-sistemami-upravleniya-konfiguraciey">  Integration with configuration management systems </h3><br><p>  Automatic discovery of hosts and services is well <a href="https://shinken.readthedocs.io/en/latest/07_advanced/discovery-with-shinken-advanced.html">covered by documentation</a> , and since the configuration is stored in files, you can quite easily generate it using Chef \ Puppet, based on information already available in the configuration system (for example, PuppetDB). </p><br><h3 id="logirovanie-deystviy">  Logging actions </h3><br><p>  Since the configuration is stored in files, you can use existing tools such as a version control system (Git, Mercurial) to track changes and their owners.  In the documentation, I did not find any evidence that Shinken records user actions in the web interface. </p><br><h3 id="ui">  Ui </h3><br><p> <a href="http://www.shinken-solutions.com/showcase-enterprise.php"><img src="https://habrastorage.org/getpro/habr/post_images/a76/5ae/c26/a765aec26bdcf80c1d56d55ef1bf061f.gif" alt="Shinken UI"></a> </p><br><p>  <a href="https://github.com/shinken-monitoring/mod-webui/wiki">Shinken WebUI,</a> according to the assurances of people using it, showed itself well when working with thousands of machines and dozens of groups. </p><br><h3 id="nedostatki">  disadvantages </h3><br><p>  Having gone through the documentation, I did not find any visible flaws.  The only thing that confuses me is the rapid development in the past and the <a href="https://github.com/naparuba/shinken/commits/master">very slow rate of commits</a> in the present: about 40 this year, most of them are infusion of pull requests with bugfixes.  The system is either too good for further development (which is not the case in nature, even old people like vim and emacs are getting new releases), or now this is another open project with a community that is not large enough or problems with a maintainer is such information that I would like to know before using such a complex thing as a monitoring system. </p><br><p>  <a href="https://github.com/mohierf">Fr√©d√©ric Mohier</a> , who was once on the development team Shinken kindly provided information on this issue: over a year ago, several developers from the team, disagreeing with the development policy, left the project and made a fork, called <a href="https://alignak-monitoring.github.io/">Alignak</a> , which is currently being actively developed, the first stable release (1.0) is scheduled for December 2016. </p><br><h3 id="ssylki">  Links </h3><br><ul><li>  <a href="http://shinken.readthedocs.io/en/latest/07_advanced/flapping.html">Detection and Handling of State Flapping - Shinken Manual</a> </li></ul><br><h2 id="sensuhttpssensuapporg">  <a href="https://sensuapp.org/">Sensu</a> </h2><br><p>  Sensu is a monitoring framework (or a platform, as they say about themselves), but not a complete monitoring system. </p><br><p>  Her strengths include: </p><br><ul><li>  Integration with Puppet \ Chef - determine what to check and where to send notifications directly to your configuration management system </li><li>  Using existing technical solutions, where possible, instead of inventing bicycles (Redis, RabbitMQ) </li></ul><br><p>  Sensu pulls events from the queue and handles them, that's all.  Handlers can send messages, do something on the server, or do anything else you teach them. </p><br><h3 id="masshtabiruemost-1">  Scalability </h3><br><p>  Sensu has a flexible architecture, since each component can be duplicated and replaced in several ways.  An example of a simple fault-tolerant system is described in the <a href="https://vimeo.com/92770954">following presentation</a> ;  Here is a general scheme: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/1d0/665/224/1d066522461f7267d55e87035c96df02.gif" alt="Sensu architectural diagram"></p><br><p>  With <a href="https://ru.wikipedia.org/wiki/HAProxy">HAProxy</a> and <a href="https://redis.io/topics/sentinel">Redis-sentinel</a> you can build a system in which, if there is at least one live machine of each type (Sensu API, Sensu Dashboard, RabbitMQ, Redis), monitoring will continue to work without any manual intervention. </p><br><h3 id="integraciya-s-sistemami-upravleniya-konfiguraciey-1">  Integration with configuration management systems </h3><br><p>  Built-in (Puppet, Chef, EC2 ?!) but only in the <a href="https://sensuapp.org/docs/latest/enterprise/integrations/">paid</a> version, which is bad, especially if you have thousands of servers and you don‚Äôt want to pay for something that has free analogues. </p><br><h3 id="logirovanie-deystviy-1">  Logging actions </h3><br><p>  <a href="https://docs.sensu.io/sensu-enterprise-dashboard/latest/rbac/audit-logging/">Built</a> , but only in paid edition. </p><br><h3 id="ui-1">  Ui </h3><br><p><img src="https://habrastorage.org/getpro/habr/post_images/f2c/a99/2e8/f2ca992e8828bda943e26d9169b125f8.png" alt="Uchiwa screenshot"></p><br><p>  The default interface for Sensu, <a href="https://uchiwa.io/">Uchiwa</a> , has many limitations.  It looks too simple for the environment with thousands of hosts that have a wide range of roles.  The paid version has its own dashboard, but it is not much different from the free edition, and only adds a few features of the open version that are turned off. </p><br><h3 id="nedostatki-1">  disadvantages </h3><br><ul><li>  Lack of historical information and very limited ability to create audits based on it; </li><li>  The "do it yourself" approach - there is no ready monitoring that could be enabled for your system immediately after installation; </li><li>  Event aggregation is nontrivial; </li><li><del>  Wisely sending messages, which is scary (because this is the part of the system that should be the simplest and most reliable) </del>  - not true, I got the wrong impression of the <a href="https://sensuapp.org/docs/latest/reference/handlers.html">documentation</a> , thanks <a href="https://github.com/x70b1">x70b1</a> for clarification; </li><li>  The path ‚Äúwe don‚Äôt want to reinvent the wheel‚Äù has its limitations, which you may be familiar with if you have ever used such systems (in my case, it was the <em>Prometheus</em> monitoring system that left a number of functions to the user, for example, authorization / authentication \ identification). </li></ul><br><h3 id="ssylki-1">  Links </h3><br><ul><li><p>  <a href="http://roobert.github.io/2015/11/09/Sensu-What/">Sensu - What I've Learnt</a> </p><br></li><li>  <a href="https://github.com/solarkennedy/sensu-report">MOTD integration</a> </li></ul><br><h2 id="icinga-2httpswwwicingaorg">  <a href="https://www.icinga.org/">Icinga 2</a> </h2><br><p>  Icinga is a fork of Nagios, rewritten from scratch in the second version.  Unlike Shinken, this lively, <a href="https://github.com/Icinga/icinga2">frequently updated</a> project. </p><br><h3 id="masshtabiruemost-2">  Scalability </h3><br><p>  General architecture: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/7cc/d22/a43/7ccd22a4338402b15459b626d6abd250.png" alt="Icinga 2 architecture"></p><br><p>  Icinga 2 has a well-designed <a href="https://www.icinga.org/products/icinga-2/distributed-monitoring/">distributed monitoring scheme</a> .  The only minus that I found when raising a test cluster is a complicated initial setup of even the simplest distributed scheme. </p><br><h3 id="integraciya-s-sistemami-upravleniya-konfiguraciey-2">  Integration with configuration management systems </h3><br><p>  The integration is pretty good, here are two presentations on the topic: <a href="https://www.youtube.com/watch%3Fv%3Dj2kG8F7rixw">The Road to Lazy Monitoring with Icinga 2 and Puppet</a> from Tom de Vylder, and <a href="https://www.youtube.com/watch%3Fv%3DlLsPwI-6UII">Icinga 2 and Puppet: Automated Monitoring</a> from Walter Heck.  The key feature of Icinga is to store the configuration in files, which makes it easy to generate the configuration using Puppet, which in my case turned out using <a href="https://docs.puppet.com/puppetdb/">PuppetDB</a> as a source of information about all hosts and services. </p><br><h3 id="logirovanie-deystviy-2">  Logging actions </h3><br><p>  As I discovered, action logging is presented in the <a href="https://www.icinga.org/2016/03/24/icinga-director-released/">director</a> .  There is no built-in support for auditing in IcingaWeb2. </p><br><h3 id="ui-2">  Ui </h3><br><p> <a href="https://www.icinga.org/products/screenshots/icinga-web-2/"><img src="https://habrastorage.org/getpro/habr/post_images/345/a56/ca4/345a56ca4fa92b62d8eda47a43dc942f.png" alt="Icinga 2 web interface"></a> </p><br><p>  IcingaWeb2 looks like a good UI with a lot of add-ons for different needs.  From what I've seen, it looks the most flexible and expandable, while at the same time out of the box supporting all the features you can expect. </p><br><h3 id="nedostatki-2">  disadvantages </h3><br><p>  The only flaw I have encountered is the complexity of the initial setup.  It‚Äôs not easy to understand Icing‚Äôs view of monitoring, if you used something completely different before, like in my case, Zabbix. </p><br><h2 id="zabbixhttpwwwzabbixcom">  <a href="http://www.zabbix.com/">Zabbix</a> </h2><br><p>  Zabbix is ‚Äã‚Äãa stable and reliable monitoring system with a steady development rate.  It has a huge community of users and most of the questions you ask are already answered somewhere, so you won‚Äôt have to worry once again whether this or that is possible in Zabbix. </p><br><h3 id="masshtabiruemost-3">  Scalability </h3><br><p>  The server works with a single database, and regardless of your actions, with any other resources on your hands (memory, network, CPU), you will at some point rest against the limitations of IO on the disk used by the database.  With 6000 IOPS in <a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-io-characteristics.html">Amazon,</a> we support about two thousand nvps, new values ‚Äã‚Äãper second, which is not bad, but still leaves much to be desired.  Proxy and database <a href="https://www.zabbix.org/wiki/Docs/howto/mysql_partition">partitioning</a> improves performance, but in terms of resiliency, you still have a single database, which is the point of failure for the entire system. </p><br><h3 id="integraciya-s-sistemami-upravleniya-konfiguraciey-3">  Integration with configuration management systems </h3><br><p>  Zabbix is ‚Äã‚Äãpoorly prepared for a diverse environment that is controlled by the configuration management system.  It has built-in capabilities for <a href="https://www.zabbix.com/documentation/3.0/manual/discovery/low_level_discovery">low-level discovery of</a> hosts and services, but they have their limitations and are not tied to the configuration system.  The only possibility for such integration is your own solution using the API. </p><br><h3 id="logirovanie-deystviy-3">  Logging actions </h3><br><p>  Zabbix logs user actions well, with the exception of one blind spot: changes made through the API are <a href="https://support.zabbix.com/browse/ZBX-2815">mostly not logged</a> , which may or may not be a problem for you.  Another thing I would like to mention is that all the problems with Zabbix are recorded somewhere in the bug tracker, and if they get enough attention from the community, then sooner or later they are eliminated. </p><br><h3 id="ui-3">  Ui </h3><br><p> <a href="http://www.zabbix.com/screenshots"><img src="https://habrastorage.org/getpro/habr/post_images/9df/4ed/548/9df4ed54885abde0f5862c042f6b62d2.png" alt="Dashboard is a main screen of Zabbix"></a> </p><br><p>  Zabbix's UI is convenient and includes many features.  The reverse side - it practically does not expand, you either reconcile with what the standard dashboard offers you, or create your own.  Refinement of the standard UI is a very non-trivial task due to its complexity. </p><br><h3 id="nedostatki-3">  disadvantages </h3><br><ul><li>  Only basic analytics about what is happening at the moment (not in terms of current problems, but frequencies from the origin and similar information).  The situation has greatly improved with the appearance of the ‚Äútop 100 shooting triggers‚Äù in 3.0; </li><li>  Setting the planned work (maintenance), in contrast to the systems based on Nagios, can not be set at the trigger level, and was quite complicated before the recent rework 3.2; </li><li>  The generation of alerts out of the box leaves much to be desired (which, however, is a problem for every single monitoring system).  In our case, we had to develop an external system for the aggregation of alerts (perhaps someday it will be published in the opensource); </li><li>  Investigating performance problems without relevant experience becomes a mess, because you have one indivisible server that you need to diagnose. </li></ul><br><h2 id="disclaimer">  Disclaimer </h2><br><p>  This is a long entry with lots of pictures and even more text.  Here you will not find a definitive answer to simple questions like "what's better", but the information to answer these questions, based on your experience and desires.  I consider the working conditions in Linux and the tracking of Linux-hosts, so the system support for different platforms was not taken into account.  Also, the condition was the requirement to monitor thousands of machines and thousands of services. </p><br><p>  In my opinion, only Zabbix and Icinga 2 are mature enough to be used in the "Enterprise", the main question that someone who chooses the system should ask themselves is which monitoring philosophy is closer to it, since both of them allow you to get the same result using completely different approaches. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/318466/">https://habr.com/ru/post/318466/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../318454/index.html">Analysis of the statistical language model from Google - part 1: vector representation of characters</a></li>
<li><a href="../318456/index.html">The history of one bug: the alignment of data on x86</a></li>
<li><a href="../318458/index.html">On a combinatorial problem</a></li>
<li><a href="../318460/index.html">How long does it take to learn a new technology?</a></li>
<li><a href="../318464/index.html">Data Storage Architecture in Facetz.DCA</a></li>
<li><a href="../318468/index.html">Computers of Soviet Russia with the ternary balanced number system</a></li>
<li><a href="../318470/index.html">The system of tracking the degree of icy streets: machine learning + Microsoft Azure + Android</a></li>
<li><a href="../318472/index.html">Front-end JavaScript framework Evolution :: release 1.5.7</a></li>
<li><a href="../318474/index.html">Framework for working with Telegraph API</a></li>
<li><a href="../318476/index.html">Shielded VM Technology in Windows Server 2016</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>