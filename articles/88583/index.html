<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Monitoring the temperature in the server drains using SCOM 2007 and Sensatronics Em1, suitable for configuring any devices working on SNMP</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Monitoring the temperature in the server's sinks using SCOM 2007 and Sensatronics Em1 is suitable for configuring any devices running via SNMP. 

  + ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Monitoring the temperature in the server drains using SCOM 2007 and Sensatronics Em1, suitable for configuring any devices working on SNMP</h1><div class="post__text post__text-html js-mediator-article">  Monitoring the temperature in the server's sinks using SCOM 2007 and Sensatronics Em1 is suitable for configuring any devices running via SNMP. <br><br> <a href=""><img title="systemcenter" src="http://galushka.com/wp/wp-content/uploads/2010/03/image001.gif" width="278" height="80"></a>  + <a href=""><img title="sensatronics" src="http://galushka.com/wp/wp-content/uploads/2010/03/image002.gif" width="150" height="135"></a> <br><br>  A brief note on how to configure temperature monitoring and creating alerts in the System Center Operations Manager 2007 R2 monitoring system collecting SNMP information from Sensatronics equipment, the lack of a management pack for this equipment was confirmed by both Russian salesmen and an official representative from the United States.  I had a model EM1 and two sensors with the ability to take readings of temperature and humidity and is currently testing the installed version of SCOM 2007 R2. <br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I repeat that there are no management packs for Sensatronics under SCOM 07, you can view the figures through the browser by accessing the rather laconic page of the device. <br><br>  It looks like this: <br><br> <a href=""><img title="sensatronics" src="http://galushka.com/wp/wp-content/uploads/2010/03/image003-300x230.png" width="300" height="230"></a> <br><br>  The page itself is updated, but to keep it constantly open and to look from time to time is still a pleasure.  By the way, one of the ways to display data from a device in Nagios is based on loading the device‚Äôs web page and ‚Äúcutting out‚Äù data from it.  Such a scheme once worked.  But now we are talking about OpsMgr and there is no such possibility in it.  The conclusion itself suggests itself - the device supports SNMP version 1 - SCOM supports this method, but the path to the display was not easy. <br><br>  Mainly because of the guru SCOM'a respected by me from the resource opsmgr.ru (see references 1, 2, 3), as well as a specialist from netwizard.com.ua (4) and a pair of foreign experts (5, 6).  Almost convinced me of the need to develop a Management Pack (management pack), while necessarily writing it in xml, re-enjoy for a couple of evenings.  I hope the manufacturers of products mating with SCOM will really help these articles to release MP along with the product being released. <br><br>  Our task is somewhat simpler, just display the readings and receive notifications when exceeding the permissible indicators send warnings to responsible persons. <br><br>  I will give a number of steps to configure SCOM 2007 R2. <br><br>  First we need a Mib device for reading OIDs, you can usually find it on the manufacturer‚Äôs website or link number (7) will help you.  You can read mibs with different programs, I used MibBrowser (8). <br><br> <a href=""><img title="image005" src="http://galushka.com/wp/wp-content/uploads/2010/03/image005-300x228.jpg" width="300" height="228"></a> <br><br>  We load the Mib we need, we drive in all the necessary data for the connection (ip, SNMP version and community string), select the parameter we need from the forest and get its OID. <br><br> <a href=""><img title="image006" src="http://galushka.com/wp/wp-content/uploads/2010/03/image006.png" width="267" height="48"></a> <br><br>  We open Operations Console we start setup. <br><br>  First, you need to add devices to the console, I did not want to describe it in great detail. Everything is in the help, but for the sake of completeness, we‚Äôre looking right here. <br><br>  Go to the administration section: <br><br> <a href=""><img title="image007" src="http://galushka.com/wp/wp-content/uploads/2010/03/image007.png" width="297" height="153"></a> <br><br>  Open the discovery wizard via the context menu. <br><br> <a href=""><img title="image008" src="http://galushka.com/wp/wp-content/uploads/2010/03/image008-300x239.png" width="300" height="239"></a> <br><br>  Select the item network devices and continue. <br><br> <a href=""><img title="image009" src="http://galushka.com/wp/wp-content/uploads/2010/03/image009-300x243.png" width="300" height="243"></a> <br><br>  Fill in the parameters and run the detection. <br><br> <a href=""><img title="image011" src="http://galushka.com/wp/wp-content/uploads/2010/03/image011-300x283.png" width="300" height="283"></a> <br><br>  If the search is positive, you will see all the devices found in the range you specified, check all the devices you need to add. <br><br> <a href=""><img title="image013" src="http://galushka.com/wp/wp-content/uploads/2010/03/image013-300x272.png" width="300" height="272"></a> <br><br>  The device is added now proceed to the settings of monitors and rules. <br><br>  Go to the section "Authoring" (Creation and configuration). <br><br> <a href=""><img title="image015" src="http://galushka.com/wp/wp-content/uploads/2010/03/image015.png" width="304" height="145"></a> <br><br>  In the Rules section we make new <br><br> <a href=""><img title="image016" src="http://galushka.com/wp/wp-content/uploads/2010/03/image016.png" width="265" height="188"></a> <br><br>  In order to make it easier to navigate, create a new MP: <br><br> <a href=""><img title="image017" src="http://galushka.com/wp/wp-content/uploads/2010/03/image017.png" width="171" height="121"></a> <br><br>  Everything can be filled arbitrarily, in no way does it affect the work, only on its display in the console. <br><br> <a href=""><img title="image018" src="http://galushka.com/wp/wp-content/uploads/2010/03/image018-300x262.png" width="300" height="262"></a> <br><br>  Created, choose it. <br><br> <a href=""><img title="image020" src="http://galushka.com/wp/wp-content/uploads/2010/03/image020-300x108.png" width="300" height="108"></a> <br><br>  The rule type is selected based on performance, SNMP performance. <br><br> <a href=""><img title="image021" src="http://galushka.com/wp/wp-content/uploads/2010/03/image021-300x265.png" width="300" height="265"></a> <br><br>  The next step is to choose the name of the rule, the category ‚Äúother‚Äù and the target ‚ÄúNetwork devices SNMP‚Äù. <br><br> <a href=""><img title="image023" src="http://galushka.com/wp/wp-content/uploads/2010/03/image023-300x264.png" width="300" height="264"></a> <br><br>  Now we will decide how often we will interrogate the device for receiving data (I left two minutes). <br><br>  And also drove the OID for the temperature indicator of 3 groups of sensors on the device. <br><br>  1.3.6.1.4.1.16174.1.1.3.3.3.3.0 - notice that all objects are written to SCOM without the first dot <br><br> <a href=""><img title="image025" src="http://galushka.com/wp/wp-content/uploads/2010/03/image025-300x265.png" width="300" height="265"></a> <br><br>  Finished - click "Create" and wait for the wizard to complete.  And so need to do for each of the sensors.  I give the list of OIDs you need below. <br><br>  Group1 <br><br>  Temperature - 1.3.6.1.4.1.16174.1.1.3.3.1.3.0 <br><br>  Humidity - 1.3.6.1.4.1.16174.1.1.3.3.1.6.0 <br><br>  Group2 <br><br>  Temperature - 1.3.6.1.4.1.16174.1.1.3.3.2.3.0 <br><br>  Humidity - 1.3.6.1.4.1.16174.1.1.3.3.2.6.0 <br><br>  Group3 <br><br>  Temperature - 1.3.6.1.4.1.16174.1.1.3.3.3.3.0 <br><br>  Humidity - 1.3.6.1.4.1.16174.1.1.3.3.3.6.0 <br><br>  Group4 <br><br>  Temperature - 1.3.6.1.4.1.16174.1.1.3.3.4.3.0 <br><br>  Humidity - 1.3.6.1.4.1.16174.1.1.3.3.4.6.0 <br><br>  At the end, we can be sure that data from your device is collected. <br><br>  Now, all this would be displayed in some form, but first, to easily find the sensors of our device, we will create a group for it by which we will make a sample to display in the future performance view. <br><br>  Go to the section "Authoring" (Creation and configuration). <br><br> <a href=""><img title="image015" src="http://galushka.com/wp/wp-content/uploads/2010/03/image015.png" width="304" height="145"></a> <br><br>  And create a new group: <br><br> <a href=""><img title="image027" src="http://galushka.com/wp/wp-content/uploads/2010/03/image027.png" width="265" height="75"></a> <br><br> <a href=""><img title="image028" src="http://galushka.com/wp/wp-content/uploads/2010/03/image028-300x255.png" width="300" height="255"></a> <br><br>  In the explicit members through the search wizard, we select the device we need from the list (if there are other SNMP devices). <br><br><img title="image030" src="http://galushka.com/wp/wp-content/uploads/2010/03/image030.png" width="610" height="189"><br><br> <a href=""><img title="image032" src="http://galushka.com/wp/wp-content/uploads/2010/03/image032-300x255.jpg" width="300" height="255"></a> <br><br>  Other steps of the wizard are skipped, not about them now, at the last step we poke to create.  Thus, we have a group that contains our device, you can make sure that the device is working by clicking on the view group members. <br><br> <a href=""><img title="image033" src="http://galushka.com/wp/wp-content/uploads/2010/03/image033.png" width="346" height="186"></a> <br><br>  We see what they should see. <br><br> <a href=""><img title="image034" src="http://galushka.com/wp/wp-content/uploads/2010/03/image034-300x247.png" width="300" height="247"></a> <br><br>  Go to monitoring mode <br><br> <a href=""><img title="image035" src="http://galushka.com/wp/wp-content/uploads/2010/03/image035.png" width="314" height="156"></a> <br><br>  And create a new performance view. <br><br> <a href=""><img title="image036" src="http://galushka.com/wp/wp-content/uploads/2010/03/image036-300x92.png" width="300" height="92"></a> <br><br>  With the following parameters. <br><br> <a href=""><img title="image039" src="http://galushka.com/wp/wp-content/uploads/2010/03/image039-300x237.jpg" width="300" height="237"></a> <br><br>  This creates such a view, you can set the time ranges to display, the color of the lines, etc. <br><br> <a href=""><img title="image040" src="http://galushka.com/wp/wp-content/uploads/2010/03/image040-300x283.png" width="300" height="283"></a> <br><br>  The first task is completed. <br><br>  Now we will create monitors for triggering alerts.  Again, go to the section "Authoring" (Creating and setting). <br><br> <a href=""><img title="image015" src="http://galushka.com/wp/wp-content/uploads/2010/03/image015.png" width="304" height="145"></a> <br><br>  And in the section Monitors for SNMP network devices we create a basic monitor in the section availability. <br><br> <a href=""><img title="image041" src="http://galushka.com/wp/wp-content/uploads/2010/03/image041-300x126.png" width="300" height="126"></a> <br><br>  We will do it on the basis of SNMP checks, the translation is of course funny in the Russian version, but we are doing the monitor based on sensing and detecting simple rules. <br><br> <a href=""><img title="image043" src="http://galushka.com/wp/wp-content/uploads/2010/03/image043-300x290.png" width="300" height="290"></a> <br><br>  The next step carries almost nothing except the name, the choice of the parent and the target object. <br><br> <a href=""><img title="image045" src="http://galushka.com/wp/wp-content/uploads/2010/03/image045-300x291.png" width="300" height="291"></a> <br><br>  Now we specify the OID of the sensor being checked, it will be a temperature sensor from the third group with OID - 1.3.6.1.4.1.16174.1.1.3.3.3.3.0 <br><br> <a href=""><img title="image048" src="http://galushka.com/wp/wp-content/uploads/2010/03/image048-300x292.jpg" width="300" height="292"></a> <br><br>  Specify parameters <br><br>  <strong>/ DataItem / SnmpVarBinds / SnmpVarBind [1] / Value</strong> , less than 28. <br><br>  Which means if the parameter being taken is greater than or equal to 28 degrees, everything is bad. <br><br> <a href=""><img title="image049" src="http://galushka.com/wp/wp-content/uploads/2010/03/image049.png" width="538" height="135"></a> <br><br>  Then we go through the same procedure as in the third step, indicating the OID being checked. <br><br> <a href=""><img title="image050" src="http://galushka.com/wp/wp-content/uploads/2010/03/image050-300x287.png" width="300" height="287"></a> <br><br>  Again for the second expression we do the same, only the operator is now greater than or equal to 28. <br><br> <a href=""><img title="image053" src="http://galushka.com/wp/wp-content/uploads/2010/03/image053-300x268.jpg" width="300" height="268"></a> <br><br>  Next we associate states with expressions. <br><br> <a href=""><img title="image054" src="http://galushka.com/wp/wp-content/uploads/2010/03/image054-300x291.png" width="300" height="291"></a> <br><br>  And set up alerts.  In the description, we can indicate the temperature that was at the time when the monitor was triggered by writing the following expression: <br><br>  $ Data / Context / SnmpVarBinds / SnmpVarBind [1] / Value $ <br><br> <a href=""><img title="image057" src="http://galushka.com/wp/wp-content/uploads/2010/03/image057-300x289.jpg" width="300" height="289"></a> <br><br>  Everything.  Now we can create several monitors for each of our sensors. <br><br> <a href=""><img title="image058" src="http://galushka.com/wp/wp-content/uploads/2010/03/image058-300x176.png" width="300" height="176"></a> <br><br>  As a result, we have a completely visual display of what is happening in the server room. <br><br> <a href=""><img title="image060" src="http://galushka.com/wp/wp-content/uploads/2010/03/image060.png" width="595" height="573"></a> <br><br>  Good luck to you monitoring. <br><br>  References: <br><br>  1) <a href="http://opsmgr.ru/Lists/Posts/Post.aspx%3FID%3D157">http://opsmgr.ru/Lists/Posts/Post.aspx?ID=157</a> <br><br>  2) <a href="http://opsmgr.ru/Lists/Posts/Post.aspx%3FID%3D159">http://opsmgr.ru/Lists/Posts/Post.aspx?ID=159</a> <br><br>  3) <a href="http://opsmgr.ru/Lists/Posts/Post.aspx%3FID%3D162">http://opsmgr.ru/Lists/Posts/Post.aspx?ID=162</a> <br><br>  4) <a href="http://netwizard.com.ua/2009/09/11/monitoring-cisco-na-platforme-microsoft-scom-2007-ch-2/">http://netwizard.com.ua/2009/09/11/monitoring-cisco-na-platforme-microsoft-scom-2007-ch-2/</a> <br><br>  5) <a href="http://rburri.wordpress.com/2008/04/29/snmp-discovery-provider-for-opsmgr-2007/">http://rburri.wordpress.com/2008/04/29/snmp-discovery-provider-for-opsmgr-2007/</a> <br><br>  6) <a href="http://svintinner.blogspot.com/2008/05/example-snmp-management-pack-for-scom.html">http://svintinner.blogspot.com/2008/05/example-snmp-management-pack-for-scom.html</a> <br><br>  7) <a href="http://www.snmplink.org/snmpresource/mib/">http://www.snmplink.org/snmpresource/mib/</a> <br><br>  8) <a href="http://www.ireasoning.com/mibbrowser.shtml">http://www.ireasoning.com/mibbrowser.shtml</a> <br><br>  9) <a href="http://galushka.com/systemcenteroperationsmanager2007r2sensatronicsem1/">http://galushka.com/systemcenteroperationsmanager2007r2sensatronicsem1/</a> </div><p>Source: <a href="https://habr.com/ru/post/88583/">https://habr.com/ru/post/88583/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../88574/index.html">N5 parallel notes - continue to get acquainted with the designs of OpenMP</a></li>
<li><a href="../88576/index.html">Mentioner. The results of the first month of work</a></li>
<li><a href="../88577/index.html">Not a Habrom uniform, or notes</a></li>
<li><a href="../88579/index.html">Windows Live Wave 4 beta leaked to the Internet</a></li>
<li><a href="../88581/index.html">Python, Perl, PHP, Ruby, .NET, Flex, Silverlight - at DEVCONF 2010 May 17 in Moscow (Hello World!)</a></li>
<li><a href="../88587/index.html">ASUS RT-N16 - buy, review, impressions</a></li>
<li><a href="../88589/index.html">Smoking or not smoking - that is the question</a></li>
<li><a href="../88592/index.html">DEVCONF :: HighLoad ('on') - invite speakers - 17th May Moscow</a></li>
<li><a href="../88594/index.html">VNC client implementation</a></li>
<li><a href="../88595/index.html">Gender discrimination in badges</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>