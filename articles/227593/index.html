<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>"Hacking" SmartDeblur 2.2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We will scoff at the wonderful program of Mr. YUVladimir called SmartDeblur , which is designed to correct blurred images. Of course, it is impossible...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>"Hacking" SmartDeblur 2.2</h1><div class="post__text post__text-html js-mediator-article">  We will scoff at the wonderful program of Mr. <a href="http://habrahabr.ru/users/yuvladimir/" class="user_link">YUVladimir</a> called <a href="http://smartdeblur.net/">SmartDeblur</a> , which is designed to correct blurred images.  Of course, it is impossible to call this a full-fledged hack.  So, a little exercise with pictures. <a name="habracut"></a><br><br>  We take the picture spoiled by a <a href="http://ru.wikipedia.org/wiki/%25D0%25A8%25D0%25B5%25D0%25B2%25D0%25B5%25D0%25BB%25D1%2591%25D0%25BD%25D0%25BA%25D0%25B0">tinker</a> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/87d/13c/005/87d13c0052271503873c2a53876cbd05.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      We run through the demo version SmartDeblur and get <br><br><img src="https://habrastorage.org/getpro/habr/post_images/632/efc/83f/632efc83f20f969c9c288311e03db42a.jpg"><br><br>  We notice watermarks that we do not like.  If you repeat the experiment several times with the same original picture, you can see that the signs are very static: neither the text nor the position of the inscriptions change.  So, for applying watermarks, SmartDeblur simply applies some kind of mask.  Which one?  Very easy to learn!  Slip the white field to the program the same size as the original picture.  Switch to the Gauss blur correction mode with a radius of 0.1 and get <br><br><img src="https://habrastorage.org/getpro/habr/post_images/38b/583/449/38b58344998a5eff4a9ae7f1bb9231c6.png"><br><br>  This is the desired mask.  The space between the inscriptions, by the way, is not quite white, hmm, okay ... We will perform calculations in the RGB system with integer values ‚Äã‚Äãfrom 0 to 255, in general, without exotics.  It was experimentally possible to determine that the mask is superimposed using the formula <b>R <sub>out</sub> = R <sub>in</sub> * R <sub>mask</sub> √∑ 255</b> , where <b>R <sub>in</sub></b> is the value of the red channel before applying the mask, <b>R <sub>mask</sub></b> is the value of the red channel of the mask itself, <b>R <sub>out</sub></b> is the value of the red channel resulting mask overlay, <b>√∑</b> - integer division.  For the green and blue channels the same.  In graphic editors, this method is usually called simply "multiplication." <br><br>  Against "multiplication" we will apply "division."  True, with the loss of accuracy.  We calculate by the inverse formula <b>R <sub>in</sub> = R <sub>out</sub> * 255 √∑ R <sub>mask</sub></b> and we see <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e0c/e27/1ab/e0ce271ab72fb41270a03857f61a5c5f.jpg"><br><br>  Some traces still remained.  Whether the loss of accuracy is to blame, or if I was a little mistaken in the formulas.  But now watermarks are not so sharply striking, which is quite enough for our purposes.  And we will be grateful to the author of the program SmartDeblur for comments. </div><p>Source: <a href="https://habr.com/ru/post/227593/">https://habr.com/ru/post/227593/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../227583/index.html">Downshifting for a programmer? Cambodia, survival experience and life experience</a></li>
<li><a href="../227585/index.html">Everything you wanted to know about refactoring, but were afraid to ask</a></li>
<li><a href="../227587/index.html">An experimental batch of Elbrus-8C processors has been launched into production.</a></li>
<li><a href="../227589/index.html">Samsung and IBM organize the Summer School of Mobile Development</a></li>
<li><a href="../227591/index.html">Do you thematically perceive domains?</a></li>
<li><a href="../227595/index.html">5 lessons for developers of highly loaded systems</a></li>
<li><a href="../227597/index.html">OpenColorIO and Krita: processing and drawing HDR images</a></li>
<li><a href="../227599/index.html">Creating a clone method for LXC containers</a></li>
<li><a href="../227603/index.html">Google I / O 2014: online translation in Russian</a></li>
<li><a href="../227605/index.html">Google I / O 2014. Day One</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>