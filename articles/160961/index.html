<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Solving the problem of connecting PPTP VPN via LTE from Yota</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="To connect remote offices to corporate networks and telephony in the absence of wired providers, we use LTE from Yota and all-in-one routers DrayTek V...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Solving the problem of connecting PPTP VPN via LTE from Yota</h1><div class="post__text post__text-html js-mediator-article">  To connect remote offices to corporate networks and telephony in the absence of wired providers, we use LTE from Yota and all-in-one routers DrayTek Vigor 2920VN. <br><br>  The other day I came to set up the next set of DrayTek 2920 + Yota LU150.  This modem itself is a mini-router, and by default it issues an IP address connected to it via a USB host from the subnet 10.0.0.0/24, which in my case intersected with the local network.  In the modem settings at <a href="">% modemip% / network,</a> you can change the range - 192.168.0.0/24 and 172.16.0.0/24 are available to choose from. <br><br>  Changing the range to 172.16.0.0/24, I set up the router according to the standard, already tested scheme.  And here - a bummer: the Internet works, and the VPN tunnel to the central office does not rise.  By the way, at that time everything works on the same router with the same modem in one of the remote offices.  Devilry?  No, the engineers do not believe the devil! <br><a name="habracut"></a><br>  At first the suspicion fell on the VPN server (FreeBSD + poptop) in the central office.  After seeing the log, I stated the failure of the GRE packets from the DrayTek side.  Stirlitz alert.  I plugged the modem into my laptop directly, created a VPN connection using Windows 7 standard tools - it also does not work, giving error 619. I checked it through my home provider - everything works.  Just in case, I returned the range of addresses on the modem to the previous 10.0.0.0/24 - the same picture.  So, the cause of the problem is Yota. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Time 2 am.  I call support.  The boy at the end of the wire clearly does not really understand what a VPN is, carries nonsense about routing, and as a solution proposes to connect an external IP.  Okay, I postpone the solution of the problem until the next day - should I be there in the afternoon, even if on a day off, is there someone from the second line of support? <br><br>  The day is coming.  I call support.  Switch to line 2.  I present the essence of the problem.  I am immediately asked the question - ‚Äúhave you, a good citizen, changed the IP range on the modem‚Äù? <br><br>  The case turned out to be in the latest version 3.7 LU150 modem bug (namely, all modems with old firmware are automatically updated to this version): when changing the range, it ceases to skip the GRE traffic, and changing back does not help.  This problem is solved by manually changing the modem's firmware to a test 3.7.4, which was kindly sent to me by a tech support officer, saying goodbye: ‚Äúthe problem seems to be solved in this firmware, but you don‚Äôt change the IP range on the modem anyway.‚Äù <br>  <s>Nowhere in the web of this firmware in the public access was not found, so I post it here.</s>  (link removed at the request of the company Yota. Anyone who has encountered the described problem can receive the firmware via a call to the support). <br><br>  At the moment, this problem is present in all modems from Yota, so you should not change the network settings of modems before fixing the bug - they mentioned in the support that this is not the only cant that fits when the settings are changed. </div><p>Source: <a href="https://habr.com/ru/post/160961/">https://habr.com/ru/post/160961/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../160949/index.html">There will be no price increase for domains in the .COM zone!</a></li>
<li><a href="../160953/index.html">Virus movie from IE team about browser haters</a></li>
<li><a href="../160955/index.html">What's new in working with exceptions in C ++ 11</a></li>
<li><a href="../160957/index.html">Youtube again allows you to test the new interface by changing the cookie.</a></li>
<li><a href="../160959/index.html">Dell released for developers ultrabook with Ubuntu</a></li>
<li><a href="../160963/index.html">A look into the future of MODX. 2013</a></li>
<li><a href="../160965/index.html">A little about the conference Microsoft TechEd 2012</a></li>
<li><a href="../160969/index.html">Automatic reception of Yandex.Money on the site on php</a></li>
<li><a href="../160971/index.html">SMS messages are 20 years old</a></li>
<li><a href="../160973/index.html">Cyber ‚Äã‚ÄãWarlock - Stuxnet, Duqu, Flame, Gauss and everything, everything, everything ...</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>