<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We study the principles of interaction between Ubuntu Touch and Android</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr. 

 A couple of months ago I was porting Ubuntu Touch to the Allwinner A10 platform, 
 in the process of taking notes on my memory. Now, in m...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We study the principles of interaction between Ubuntu Touch and Android</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/26e/9a5/386/26e9a5386887fca6118dfc962f3eaeaf.png"><br>  Hi, Habr. <br><br>  A couple of months ago I was porting <font color="#c0392b">Ubuntu Touch</font> to the <font color="#c0392b">Allwinner A10</font> platform, <br>  in the process of taking notes on my memory.  Now, in my opinion, they are still relevant, until Ubuntu Touch has finally moved to its graphic server <font color="#c0392b">Mir</font> and so on. <br><br>  This article will help interested parties find the starting point from which to start a close acquaintance with UT. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The style of presentation is far from technical, but if you don't mind, then <br>  I invite under the cat. <br><a name="habracut"></a><br><br><h4>  Introduction </h4><br><h5>  What is libhybris </h5><br>  <font color="#c0392b">libhybris</font> is a layer that allows you to load libraries from <a href="http://ru.wikipedia.org/wiki/Bionic_(%25D0%25B1%25D0%25B8%25D0%25B1%25D0%25BB%25D0%25B8%25D0%25BE%25D1%2582%25D0%25B5%25D0%25BA%25D0%25B0)">Bionic</a> userspace into <a href="http://ru.wikipedia.org/wiki/Glibc">Glibc</a> userspace, on the fly replacing some symbols with variants from Glibc.  Simply put, this solution allows the use of proprietary libraries for Android in Linux-space.  The greatest benefit, of course, is the ability to use proprietary GPU drivers, assembled by the manufacturer only for Android. <br><br><h5>  What is surfaceflinger </h5><br>  <font color="#c0392b">surfaceflinger</font> is a native android service, a composite graphics layer manager. <br><br><img src="https://habrastorage.org/storage2/202/eb2/404/202eb240485762e7ba6323e3e34c374d.png"><br><br>  In more detail about <font color="#c0392b">Binder IPC</font> and <font color="#c0392b">SurfaceFlinger</font> : <br><ul><li>  <a href="http://www.opersys.com/downloads/inside-androids-ui-130530.pdf">http://www.opersys.com/downloads/inside-androids-ui-130530.pdf</a> <a href="http://www.opersys.com/downloads/inside-androids-ui-130530.pdf"><br></a> </li><li>  <a href="http://0xlab.org/~jserv/android-binder-ipc.pdf">http://0xlab.org/~jserv/android-binder-ipc.pdf</a> <a href="http://0xlab.org/~jserv/android-binder-ipc.pdf"><br></a> </li><li>  <a href="https://habrahabr.ru/users/dpolishuk/" class="user_link">dpolishuk</a> shared a great document - <a href="http://www.nds.rub.de/media/attachments/files/2012/03/binder.pdf">Android Binder</a> </li></ul><br><br><h5>  Ubuntu touch </h5><br>  <font color="#c0392b">Ubuntu Touch Developer Preview</font> itself is based on Android, borrows the necessary services for working with hardware.  You can read a general overview of dependencies here - <a href="https://wiki.ubuntu.com/Touch/Porting">Ubuntu Touch Porting</a> or in a <a href="http://www.opennet.ru/opennews/art.shtml%3Fnum%3D36232">note on OpenNet</a> <br><br>  The base operating system uses the usual <font color="#c0392b">Android JB 4.2</font> , or rather <font color="#c0392b">CyagenMod-10.1</font> (the CM subprojects repository is <a href="http://phablet.ubuntu.com/gitweb">phablet.ubuntu.com/gitweb</a> ).  Everything connected with <font color="#c0392b">dalvik</font> and <font color="#c0392b">java</font> has been removed from it - only the native part is left, consisting of system services and <font color="#c0392b">HAL</font> .  If you wish, you can use <font color="#c0392b">AOSP 4.1</font> , but be prepared to adapt to the native API from 4.1, it is not covered by any documentation and much less by specification and changes from release to release. <br><br>  UT components are located in <font color="#c0392b">chroot</font> , the self-written utility <a href="http://phablet.ubuntu.com/gitweb%3Fp%3Dubuntu/uchroot.git%3Ba%3Dtree">uchroot is used</a> , excerpt: <br><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ubuntum</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *a)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* Chroot */</span></span> chroot(<span class="hljs-string"><span class="hljs-string">"/data/ubuntu"</span></span>); chdir(<span class="hljs-string"><span class="hljs-string">"/"</span></span>); <span class="hljs-comment"><span class="hljs-comment">/* Set basic env variables */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> envp[<span class="hljs-number"><span class="hljs-number">8</span></span>] = { <span class="hljs-string"><span class="hljs-string">"container=aal"</span></span>, <span class="hljs-string"><span class="hljs-string">"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"</span></span>, <span class="hljs-string"><span class="hljs-string">"SHELL=/bin/bash"</span></span>, <span class="hljs-string"><span class="hljs-string">"HOME=/root"</span></span>, <span class="hljs-string"><span class="hljs-string">"USER=root"</span></span>, <span class="hljs-string"><span class="hljs-string">"USERNAME=root"</span></span>, <span class="hljs-string"><span class="hljs-string">"LOGNAME=root"</span></span>, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> }; <span class="hljs-comment"><span class="hljs-comment">/* Exec shell */</span></span> execle(<span class="hljs-string"><span class="hljs-string">"/sbin/init"</span></span>, <span class="hljs-string"><span class="hljs-string">"/sbin/init"</span></span>, <span class="hljs-string"><span class="hljs-string">"--verbose"</span></span>, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, envp); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre> <br>  The <font color="#c0392b">libhybris</font> mechanism is used for the interaction between the Android environment and the Ubuntu chroot environment. <br><img src="https://habrastorage.org/storage2/69f/bcb/308/69fbcb30850197e8939d83f97ea8464a.png"><br><br><h4>  Ubuntu Touch components </h4><br>  Soup from various UT components can be seen in the <a href="https://code.launchpad.net/~phablet-team">~ phablet-team</a> lanchpad repositories. <br>  We are interested in the following two components responsible for the operation of the platform on Android devices: <br><ul><li>  <a href="https://code.launchpad.net/~phablet-team/platform-api/trunk">platform-api</a> <a href="https://code.launchpad.net/~phablet-team/platform-api/trunk"><br></a> </li><li>  <a href="https://code.launchpad.net/~phablet-team/qtubuntu/trunk">qtubuntu</a> <a href="https://code.launchpad.net/~phablet-team/qtubuntu/trunk"><br></a> </li></ul><br>  Download the latest version of the source code: <br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">bzr</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">branch</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">lp</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:platform-api</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">bzr</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">branch</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">lp</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:qtubuntu</span></span></code> </pre><br><br><h5>  Ubuntu Platform API </h5><br>  <font color="#c0392b">The Ubuntu platform API</font> is a low-level API for performing basic operations using platform capabilities (Android). <br><br>  <font color="#c0392b">Examples of methods:</font> <br><ul><li>  ubuntu_application_ui_show_surface </li><li>  ubuntu_application_ui_hide_surface </li><li>  ubuntu_application_ui_move_surface_to </li><li>  ubuntu_application_ui_resize_surface_to </li></ul><br>  From the <a href="">doc / mainpage.md</a> documentation file, we learn that the source <font color="#c0392b">-</font> tree <font color="#c0392b">platform-api</font> can be divided into two parts: <br><ul><li>  <font color="#c0392b">include</font> - abstract platform API declaration </li><li>  <font color="#c0392b">android</font> - implementation of platform API for Android (I would clarify - for Android 4.2) </li></ul><br>  And the only thing that a third-party developer can rely on when working with this API is the headers from <br>  the directory <a href="http://bazaar.launchpad.net/~phablet-team/platform-api/trunk/files/head:/include/ubuntu/application">includes / ubuntu / application</a> , and everything else is supposed to change over time. <br><br>  From the <a href="http://bazaar.launchpad.net/~phablet-team/platform-api/trunk/view/head:/debian/control">debian / control</a> file, we find out that: <br><pre> <code class="hljs delphi">Package: libplatform-api1-hybris Depends: libhybris Description: Hybris <span class="hljs-keyword"><span class="hljs-keyword">implementation</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> the <span class="hljs-keyword"><span class="hljs-keyword">Platform</span></span> API (runtime) This package provides the hybris <span class="hljs-keyword"><span class="hljs-keyword">implementation</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> the <span class="hljs-keyword"><span class="hljs-keyword">Platform</span></span> API. The produced <span class="hljs-keyword"><span class="hljs-keyword">library</span></span> should be used via libhybris, <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> communicate <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> the Android userspace, which <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> where the Ubuntu Application Manager lives.</code> </pre><br>  Yeah, so judging by <a href="">android / hybris / Android.mk</a> , the implementation of the platform API is <font color="#c0392b">compiled</font> as libubuntu_application_api <font color="#c0392b">library</font> with linkage with native android libs and is placed in android userspace: <br><pre> <code class="hljs tex">LOCAL_SRC_FILES := <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>ubuntu_application_api_for_hybris.cpp <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>ubuntu_application_gps_for_hybris.cpp <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>ubuntu_application_sensors_for_hybris.cpp <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>../default/default_ubuntu_application_sensor.cpp <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>../default/default_ubuntu_application_ui.cpp <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>../default/default_ubuntu_ui.cpp <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>application_manager.cpp LOCAL_MODULE := libubuntu_application_api LOCAL_SHARED_LIBRARIES := <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>libandroidfw <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>libbinder <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>libutils <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>libgui <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>libEGL <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>libGLESv2 <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>libhardware <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>libhardware_legacy</code> </pre><br>  The <a href="http://bazaar.launchpad.net/~phablet-team/platform-api/trunk/view/head:/src/android">platform-api / src / android</a> directory has remained unaddressed, consider it in detail.  Judging by the presence of the <font color="#c0392b">CMakeLists.txt</font> file, the build is already going on for glibc. <br><br>  There is a single file with the code - <a href="">ubuntu_application_api.cpp</a> , looking in which we will see: <br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">extern</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> *</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">android_dlopen</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *filename, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> flag)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">extern</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> *</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">android_dlsym</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *handle, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *symbol)</span></span></span></span>;</code> </pre>  - using <font color="#c0392b">libhybris</font> procedures for dynamically loading symbols from a shared-lib from android userspace. <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Bridge</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">char</span></span></span><span class="hljs-function">* </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">path_to_library</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"/system/lib/libubuntu_application_api.so"</span></span>; } Bridge() : lib_handle(android_dlopen(path_to_library(), RTLD_LAZY)) { assert(lib_handle &amp;&amp; <span class="hljs-string"><span class="hljs-string">"Error loading ubuntu_application_api"</span></span>); } ....... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function">* </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">resolve_symbol</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params">* symbol)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> android_dlsym(lib_handle, symbol); } <span class="hljs-keyword"><span class="hljs-keyword">void</span></span>* lib_handle; };</code> </pre>  - a simple bridge for loading symbols from <font color="#c0392b">libubuntu_application_api.so</font> , which gets along with native android services, and which we have recently mentally ‚Äúcollected‚Äù using <a href="">android / hybris / Android.mk</a> . <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> IMPLEMENT_VOID_FUNCTION3(symbol, arg1, arg2, arg3) \ void symbol(arg1 _1, arg2 _2, arg3 _3) { \ static void (*f)(arg1, arg2, arg3) = NULL; \ DLSYM(&amp;f, #symbol); \ f(_1, _2, _3); } ....... IMPLEMENT_VOID_FUNCTION2(ubuntu_application_ui_init, int, char**); IMPLEMENT_FUNCTION0(StageHint, ubuntu_application_ui_setup_get_stage_hint); IMPLEMENT_FUNCTION0(FormFactorHint, ubuntu_application_ui_setup_get_form_factor_hint); IMPLEMENT_VOID_FUNCTION1(ubuntu_application_ui_start_a_new_session, SessionCredentials*); IMPLEMENT_VOID_FUNCTION2(ubuntu_application_ui_set_clipboard_content, void*, size_t); .......</span></span></code> </pre>  - a bunch of wrappers for the API characters implemented in <font color="#c0392b">libubuntu_application_api.so</font> . <br><br>  <b>So in order to avoid confusion:</b> <br><ul><li>  <font color="#c0392b">libubuntu_application_api.so</font> - library under bionic, lives in android userspace; </li><li>  <font color="#c0392b">libubuntu_application_api.so</font> is a library under glibc, lives in linux userpace (chroot), loads the characters from the first through libhybris. </li></ul><br>  The developers decided to reduce the entropy of the universe by creating libraries of the same name. <br>  If you look at their debates about the naming of the components <a href="https://code.launchpad.net/~xnox/platform-api/inline-packaging/%2Bmerge/153874">merge-153874 discussion</a> , then your ears wilt. <br><br><h5>  Ubuntu application manager </h5><br>  In <a href="http://bazaar.launchpad.net/~phablet-team/platform-api/trunk/view/head:/android/hybris">platform-api / android / hybris,</a> in addition to the implementation of the Ubuntu platform API, there are sources for <font color="#c0392b">ubuntuappmanager</font> , an application service for Ubuntu, it lives in android userspace and, judging by <a href="">Android.mk</a> , it actively uses <font color="#c0392b">libubuntu_application_api</font> and communicates via <font color="#c0392b">Binder IPC</font> with Android services. <br><pre> <code class="hljs tex">LOCAL_SRC_FILES:= <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>application_manager.cpp <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>default_application_manager.cpp <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>LOCAL_MODULE:= ubuntuappmanager LOCAL_MODULE_TAGS := optional LOCAL_SHARED_LIBRARIES := <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>libbinder <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>libinput <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>libgui <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>libskia <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>libandroidfw <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>libutils <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>libEGL <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>libGLESv2 <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name"> </span></span></span></span>libubuntu_application_api</code> </pre><br>  Solves a bunch of tasks managing applications and sessions, a quick look at <a href="">default_application_manager.h</a> : <br><pre> <code class="cpp hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">update_app_lists</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">binderDied</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> android::wp&lt;android::IBinder&gt;&amp; who)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">register_a_surface</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(...)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">request_fullscreen</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(...)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_session_pid</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> android::sp&lt;android::IApplicationManagerSession&gt;&amp; session)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">focus_running_session_with_id</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> id)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">unfocus_running_sessions</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int32_t</span></span> query_snapshot_layer_for_session_with_id(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> id); android::IApplicationManagerSession::<span class="hljs-function"><span class="hljs-function">SurfaceProperties </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">query_surface_properties_for_session_id</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> id)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">switch_focused_application_locked</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">size_t</span></span></span></span><span class="hljs-function"><span class="hljs-params"> index_of_next_focused_app)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">switch_focus_to_next_application_locked</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">kill_focused_application_locked</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">start_a_new_session</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int32_t</span></span></span></span><span class="hljs-function"><span class="hljs-params"> session_type, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int32_t</span></span></span></span><span class="hljs-function"><span class="hljs-params"> stage_hint, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> android::String8&amp; app_name, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> android::String8&amp; desktop_file, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> android::sp&lt;android::IApplicationManagerSession&gt;&amp; session, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> fd)</span></span></span></span>;</code> </pre><br><h5>  QtUbuntu </h5><br>  We understand the part of UT responsible for the interaction between the Ubuntu platform API and Qt / QML applications. <br><br>  If you are not familiar with <a href="http://qt-project.org/wiki/Qt-Platform-Abstraction">Qt Platform Abstraction</a> , then, in short, this is an opportunity to abstract from the platform on which Qt applications are launched using specially written QPA plug-ins. <br><br>  The QPA plugin implements the basic methods like <font color="#c0392b">createPlatformWindow</font> , and then the Qt application, when it wants to create a window, uses the <font color="#c0392b">createPlatformWindow</font> symbol from the abstraction plugin and in no way blows where it went further. <br><br>  In this case, we will deal with the QPA plugin for working with the Ubuntu application API. <br><pre> <code class="hljs ruby">~<span class="hljs-regexp"><span class="hljs-regexp">/ubuntu/qtubuntu</span></span> $ tree . ‚îú‚îÄ‚îÄ qtubuntu.pro ‚îú‚îÄ‚îÄ src ‚îÇ ‚îú‚îÄ‚îÄ modules ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ application &lt;------------------ QML plugin    ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ application.cc <span class="hljs-params"><span class="hljs-params">| Ubuntu Application Manager ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ application.h |</span></span>  QtQuick ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ application.pro <span class="hljs-params"><span class="hljs-params">| ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ application_image.cc |</span></span> ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ application_image.h <span class="hljs-params"><span class="hljs-params">| ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ application_list_model.cc |</span></span> ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ application_list_model.h <span class="hljs-params"><span class="hljs-params">| ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ application_manager.cc |</span></span> ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ application_manager.h <span class="hljs-params"><span class="hljs-params">| ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ application_window.cc |</span></span> ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ application_window.h <span class="hljs-params"><span class="hljs-params">| ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ input_filter_area.cc |</span></span> ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ input_filter_area.h <span class="hljs-params"><span class="hljs-params">| ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ logging.h |</span></span> ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ plugin.cc <span class="hljs-params"><span class="hljs-params">| ‚îÇ ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ qmldir |</span></span> ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ ---------------------------------- ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ modules.pro ‚îÇ ‚îú‚îÄ‚îÄ platforms ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ base ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ platforms.pro ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ ubuntu &lt;-------------- QPA   ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ clipboard.cc ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ clipboard.h ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ input.cc ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ input.h ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ integration.cc &lt;--   <span class="hljs-string"><span class="hljs-string">`createPlatformWindow`</span></span>  ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ integration.h ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ main.cc ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ screen.cc ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ screen.h ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ ubuntu.json ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ ubuntu.pro ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ window.cc ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ window.h ‚îÇ ‚îî‚îÄ‚îÄ src.pro ‚îî‚îÄ‚îÄ tests</code> </pre><br>  Judging by the contents of <a href="">ubuntu.pro</a> , the platform is linked with the glibc version of <font color="#c0392b">libubuntu_application_api.so</font> <br>  Note the following method calls from the platform API set used in <a href="">integration.cc</a> and <a href="">window.cc</a> : <br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;ubuntu/application/ui/ubuntu_application_ui.h&gt; ubuntu_application_ui_start_a_new_session(&amp;credentials); ubuntu_application_ui_destroy_surface(surface_); ubuntu_application_ui_create_surface(&amp;surface_, "QUbuntuWindow", geometry.width(), geometry.height(), static_cast&lt;SurfaceRole&gt;(role), flags, eventCallback, this); ubuntu_application_ui_move_surface_to(surface_, geometry.x(), geometry.y()); ubuntu_application_ui_request_fullscreen_for_surface(surface_); ubuntu_application_ui_move_surface_to(surface_, rect.x(), rect.y()); ubuntu_application_ui_resize_surface_to(surface_, rect.width(), rect.height()); ubuntu_application_ui_request_fullscreen_for_surface(surface_); ubuntu_application_ui_show_surface(surface_); ubuntu_application_ui_hide_surface(surface_);</span></span></span></span></code> </pre><br>  Now it is clear that when our Qt application wants to create a window, it will call the method from the QPA platform <font color="#c0392b">qubuntu</font> - <font color="#c0392b">QUbuntuIntegration :: createPlatformWindow</font> from the <a href="">integration.cc</a> file: <br><pre> <code class="cpp hljs">QPlatformWindow* QUbuntuIntegration::createPlatformWindow(QWindow* window) { ....... <span class="hljs-comment"><span class="hljs-comment">// Create the window. QPlatformWindow* platformWindow = new QUbuntuWindow(.......); ....... }</span></span></code> </pre><br>  Looking into the <font color="#c0392b">QUbuntuWindow</font> constructor in the <font color="#c0392b">window.cc</font> file, we find the call to the <font color="#c0392b">QUbuntuWindow :: createWindow ()</font> method: <br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> QUbuntuWindow::createWindow() { ....... ubuntu_application_ui_create_surface( &amp;surface_, <span class="hljs-string"><span class="hljs-string">"QUbuntuWindow"</span></span>, geometry.width(), geometry.height(), <span class="hljs-keyword"><span class="hljs-keyword">static_cast</span></span>&lt;SurfaceRole&gt;(role), flags, eventCallback, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); ....... ubuntu_application_ui_move_surface_to(surface_, geometry.x(), geometry.y()); ....... }</code> </pre><br>  This is an extremely truncated code, but the essence is clear - calls are made to the <font color="#c0392b">Ubuntu platform API</font> , which we have implemented in the glibc version of <font color="#c0392b">libubuntu_application_api.so</font> , which, in fact, is a bridge to the bionic version of <font color="#c0392b">libubuntu_application_api.so</font> , which lies in the <a href="http://bazaar.launchpad.net/~phablet-team/platform-api/trunk/view/head:/android">platform- api / android</a> . <br><br>  <font color="#c0392b">Jump?</font> <br><br>  Jumping with grep to the desired file, we get to <a href="">platform-api / android / default / default_ubuntu_application_ui.cpp</a> : <br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//   ubuntu_application_ui_create_surface ubuntu::application::ui::Surface::Ptr surface = session-&gt;create_surface(props, ubuntu::application::ui::input::Listener::Ptr(new CallbackEventListener(cb, ctx))); //   ubuntu_application_ui_move_surface_to auto s = static_cast&lt;Holder&lt;ubuntu::application::ui::Surface::Ptr&gt;*&gt;(surface); s-&gt;value-&gt;move_to(x, y);</span></span></code> </pre><br>  It remains for us to open the matryoshka and find out how <font color="#c0392b">ubuntu :: application :: ui :: Session</font> and, accordingly, <font color="#c0392b">ubuntu :: application :: ui :: Surface</font> are implemented.  And they are implemented in this file - <a href="">ubuntu_application_api_for_hybris.cpp</a> : <br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> android { ....... <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Session</span></span></span><span class="hljs-class"> :</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> ubuntu::application::ui::Session, <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> UbuntuSurface::Observer { ....... Session(.....) { ...... ubuntu::application::ui::Surface::<span class="hljs-function"><span class="hljs-function">Ptr </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">create_surface</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> ubuntu::application::ui::SurfaceProperties&amp; props, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> ubuntu::application::ui::input::Listener::Ptr&amp; listener)</span></span></span><span class="hljs-function"> </span></span>{ ....... <span class="hljs-comment"><span class="hljs-comment">// ,     .        UbuntuSurface UbuntuSurface* surface = new UbuntuSurface(client, client_channel, looper, props, listener,this); ....... // 100%   ,    UbuntuSurface return ubuntu::application::ui::Surface::Ptr(surface); .......</span></span></code> </pre><br>  Rewind, find <font color="#c0392b">UbuntuSurface</font> : <br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UbuntuSurface</span></span></span><span class="hljs-class"> :</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> ubuntu::application::ui::Surface { ....... UbuntuSurface(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> sp&lt;SurfaceComposerClient&gt;&amp; client, .......) : ubuntu::application::ui::Surface(listener) { <span class="hljs-comment"><span class="hljs-comment">//    -    Android API surface_control = client-&gt;createSurface( String8(props.title), props.width, props.height, PIXEL_FORMAT_RGBA_8888, props.flags &amp; .......); surface = surface_control-&gt;getSurface(); .......</span></span></code> </pre><br>  We <font color="#c0392b">get</font> a certain object of type <font color="#c0392b">android :: SurfaceControl</font> , which is the result of a call to <font color="#c0392b">android :: SurfaceComposerClient () -&gt; createSurface ()</font> . <br>  Through it pass all calls to <font color="#c0392b">android :: SurfaceComposerClient</font> ( <a href="">frameworks / native / libs / gui / Surface.cpp</a> ), such as: resizing, moving, changing the order of layers and so on. <br><br>  Going back through the chain, we understand what actually happens when we launch the next Qt application with the Ubuntu QPA platform. <img src="http://habrastorage.org/storage2/999/95e/5ef/99995e5ef4dc09c5e8901e23a367bbaa.gif"><br><br><h4>  Conclusion </h4><br>  At this point, I have to stop myself, because, in my opinion, the considered principle of interaction between Ubuntu Touch and Android is self-sufficient.  Further arguments can already go in isolation from all of the above.  Questions of interaction between <font color="#c0392b">qmlscene</font> and <font color="#c0392b">ubuntuappmanager</font> , the principle of input control using the services of <font color="#c0392b">SurfaceFlinger</font> and <font color="#c0392b">InputDispatcher,</font> and other issues from the corners of this simple topic remained <font color="#c0392b">unresolved</font> .  But that's another story. <br><br>  A week later, the phone will arrive on Firefox OS, gutting it ... </div><p>Source: <a href="https://habr.com/ru/post/180505/">https://habr.com/ru/post/180505/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../180491/index.html">Xbox One or how AMD captured the console</a></li>
<li><a href="../180495/index.html">Wind - a robot for researchers and homemade people</a></li>
<li><a href="../180497/index.html">We make dDNS client for DNS Yandex on MikrotikOS</a></li>
<li><a href="../180499/index.html">Beginning data scientists at your service</a></li>
<li><a href="../180503/index.html">Update Kits for Windows XP x86 and Windows 7 x86-x64</a></li>
<li><a href="../180507/index.html">Adding Google Apps to the Android emulator (Intel x86 Atom System Image)</a></li>
<li><a href="../180509/index.html">Google coding tips in Python. Part Two: Tips for Formatting Source Code</a></li>
<li><a href="../180513/index.html">Wonderful introduction to programming</a></li>
<li><a href="../180515/index.html">Voice control in Android applications</a></li>
<li><a href="../180517/index.html">Why develop electronic meeting minutes for Sharepoint 2013</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>