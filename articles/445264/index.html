<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Preload, prefetch and other tags</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="There are many ways to increase web productivity . One of them is preloading content that will be needed later. Prefetching CSS, previewing a full pag...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">🔎</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">📜</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">⬆️</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">⬇️</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Preload, prefetch and other tags</h1><div class="post__text post__text-html js-mediator-article">  There are <a href="http://3perf.com/talks/web-perf-101">many ways to increase web productivity</a> .  One of them is preloading content that will be needed later.  Prefetching CSS, previewing a full page or resolving a domain name.  We do everything in advance, and then instantly display the result!  It sounds cool. <br><br>  Even cooler is that it is very easy to implement.  Five &lt;link rel&gt; tags give the browser a command for preliminary actions: <br><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"prefetch"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/style.css"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">as</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"style"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"preload"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/style.css"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">as</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"style"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"preconnect"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://example.com"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"dns-prefetch"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://example.com"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"prerender"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://example.com/about.html"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <a name="habracut"></a><br>  Briefly tell what they do and when to use them. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Jump to: <a href="https://habr.com/ru/post/445264/">preload</a> · <a href="https://habr.com/ru/post/445264/">prefetch</a> · <a href="https://habr.com/ru/post/445264/">preconnect</a> · <a href="https://habr.com/ru/post/445264/">dns-prefetch</a> · <a href="https://habr.com/ru/post/445264/">prerender</a> <br><br><a name="preload"></a><h1>  preload </h1><br>  <code>&lt;link rel= "preload"&gt;</code> tells the browser to download and cache the resource (such as a script or style sheet) as soon as possible.  This is useful when it takes a resource a few seconds after the page loads - and you want to speed up the process. <br><br>  The browser does nothing with the resource after downloading.  Scripts are not executed, style sheets are not applied.  The resource is simply cached and immediately available upon request. <br><br><h3>  Syntax </h3><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"preload"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/style.css"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">as</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"style"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br>  <code>href</code> points to the resource you want to download. <br><br>  <code>as</code> can be anything that can be downloaded in a browser: <br><br><ul><li>  <code>style</code> for style sheets <br></li><li>  <code>script</code> for scripts <br></li><li>  <code>font</code> for fonts <br></li><li>  <code>fetch</code> for resources loaded with <code>fetch()</code> or <code>XMLHttpRequest</code> , <br></li><li>  see <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Preloading_content">MDN for a</a> complete list. </li></ul><br>  It is important to specify an <code>as</code> attribute — this helps the browser to prioritize and schedule downloads. <br><br><h3>  When to use </h3><br>  Use preloading when the resource is needed as soon as possible.  For example: <br><br><ul><li>  Custom fonts from external file: <br><br><pre> <code class="xml hljs"><span class="hljs-comment"><span class="hljs-comment">&lt;!-- index.html --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"stylesheet"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"index.css"</span></span></span><span class="hljs-tag"> /&gt;</span></span> /* index.css */ @font-face { src: url('comic-sans.woff2') format('woff2'); }</code> </pre> <br>  By default, <code>comic-sans.woff2</code> will start loading only after loading and parsing <code>index.css</code> .  In order not to wait that long, you can load the font earlier with <code>&lt;link rel= "preload"&gt;</code> : <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"preload"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"comic-sans.woff2"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">as</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"font"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> </li><li>  If you divide your styles according to the <a href="https://3perf.com/talks/web-perf-101/">Critical CSS</a> approach into two parts, critical (for immediate rendering) and non-critical: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> </span><span class="hljs-comment"><span class="css"><span class="hljs-comment">/* Inlined critical styles */</span></span></span><span class="css"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> </span><span class="hljs-comment"><span class="actionscript"><span class="hljs-comment">/* Custom JS that starts downloading non-critical styles */</span></span></span><span class="actionscript"> loadCSS(</span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">'/app/non-critical.css'</span></span></span><span class="actionscript">); </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  With this approach, non-critical styles will start loading only when JavaScript is started, which can happen a few seconds after rendering.  Instead of waiting for JS, use <code>&lt;link rel= "preload"&gt;</code> to start the download earlier: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> </span><span class="hljs-comment"><span class="css"><span class="hljs-comment">/* Inlined critical styles */</span></span></span><span class="css"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"preload"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/app/non-critical.css"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">as</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"style"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> </span><span class="hljs-comment"><span class="actionscript"><span class="hljs-comment">/* Custom JS that starts downloading non-critical styles */</span></span></span><span class="actionscript"> loadCSS(</span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">'/app/non-critical.css'</span></span></span><span class="actionscript">); </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> </li></ul><br>  <b>Do not abuse preloading</b> .  If you download everything, the site will not be accelerated magically, rather, on the contrary, it will prevent the browser from properly scheduling work. <br><br>  <b>Do not confuse with prefetching</b> .  Do not use <code>&lt;link rel= "preload"&gt;</code> unless you need the resource immediately after the page loads.  If you need it later, for example, for the next page, then use <code>&lt;link rel= "prefetch"&gt;</code> . <br><br><h3>  Details </h3><br>  <b>This is a mandatory tag</b> for browser execution (if it supports it), unlike all other &lt;link&gt; tags associated with preloading.  The browser must load the resource specified in <code>&lt;link rel="preload"&gt;</code> .  In other cases, it may ignore the preload, for example, if it is running on a slow connection. <br><br>  <b>Priorities</b> .  Different resources (styles, scripts, fonts, etc.), browsers usually assign different priorities in order to load the most important resources first.  In this case, the browser determines the priority attribute <code>as</code> .  For the Chrome browser, you can view the <a href="https://docs.google.com/document/d/1bCDuq9H1ih9iNjgzyAL0gpwNFiEP4TZS-YLRp_RuMlc/edit">complete priority table</a> . <br><br> <a href=""><img src="https://habrastorage.org/webt/i2/bf/vi/i2bfvijtqhb3wt6cnkcskwc55ew.png"></a> <br><br><a name="prefetch"></a><h1>  prefetch </h1><br>  <code>&lt;link rel= "prefetch"&gt;</code> asks the browser to load and cache the resource (for example, a script or style sheet) in the background.  The download takes place with a low priority, so does not interfere with more important resources.  This is useful if you need the resource on the next page, and you want to cache it in advance. <br><br>  Here, too, the browser does nothing with the resource after downloading.  Scripts are not executed, style sheets are not applied.  The resource is simply cached and immediately available upon request. <br><br><h3>  Syntax </h3><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"prefetch"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/style.css"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">as</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"style"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br>  <code>href</code> points to the resource you want to download. <br><br>  <code>as</code> can be anything that can be downloaded in a browser: <br><br><ul><li>  <code>style</code> for style sheets <br></li><li>  <code>script</code> for scripts <br></li><li>  <code>font</code> for fonts <br></li><li>  <code>fetch</code> for resources loaded with <code>fetch()</code> or <code>XMLHttpRequest</code> , <br></li><li>  see <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Preloading_content">MDN for a</a> complete list. </li></ul><br>  It is important to specify an <code>as</code> attribute — this helps the browser to prioritize and schedule downloads. <br><br><h3>  When to use </h3><br>  <b>To load resources from other pages</b> , if you need a resource from another page, and you want to preload it, then to speed up the rendering of this page.  For example: <br><br><ul><li>  You have an online store, and 40% of users leave the main page for the product page.  Use <code>&lt;link rel= "prefetch"&gt;</code> when loading CSS and JS files to render pages with the product. <br></li><li>  You have a one-page application, and different pages load different packages.  When a user visits a page, you can preload packages for all pages to which it refers. </li></ul><br>  <b>Probably, this tag can be safely used in any amount</b> .  Browsers usually plan for prefetch with the lowest priority, so it doesn't bother anyone.  Just keep in mind that user traffic is being spent, which can cost money. <br><br>  <b>Not for urgent requests</b> .  Do not use <code>&lt;link rel= "prefetch"&gt;</code> when the resource is needed in a few seconds.  In this case, use <code>&lt;link rel= "preload"&gt;</code> . <br><br><h3>  Details </h3><br>  <b>Optional tag</b> .  The browser is not obliged to follow this instruction, it can ignore it, for example, on a slow connection. <br><br>  <b>Priority in Chrome</b> .  In Chrome, <code>&lt;link rel= "prefetch"&gt;</code> usually executed with a minimum priority (see the <a href="https://docs.google.com/document/d/1bCDuq9H1ih9iNjgzyAL0gpwNFiEP4TZS-YLRp_RuMlc/edit">full table of priorities</a> ), that is, after loading the rest. <br><br><a name="preconnect"></a><h1>  preconnect </h1><br>  <code>&lt;link rel= "preconnect"&gt;</code> asks the browser to join the domain in advance when you want to speed up connection establishment in the future. <br><br>  The browser should establish a connection if it retrieves any resources from a new third-party domain.  For example, if you download Google Fonts fonts, React from a CDN or request a JSON response from the API server. <br><br>  Setting up a new connection usually takes a few hundred milliseconds.  It is made once, but still takes time.  If you have pre-established a connection, you will save time and load resources from this domain faster. <br><br><h3>  Syntax </h3><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">= </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"preconnect"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://api.my-app.com"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br>  <code>href</code> points to the domain name for which you want to determine the IP address.  You can specify with or without the prefix ( <code>https://domain.com</code> ) ( <code>//domain.com</code> ). <br><br><h3>  When to use </h3><br>  <b>Use for domains you’ll need</b> to download an important style, script or image from there, but you don’t know the URL of the resource yet.  For example: <br><br><ul><li>  Your application is hosted on <code>my-app.com</code> and makes AJAX requests to <code>api.my-app.com</code> : you do not know the specific requests in advance, because they are made dynamically from JS.  It is quite appropriate to use the tag to pre-connect to the domain. <br></li><li>  Your application is hosted on <code>my-app.com</code> and uses Google Fonts fonts.  They are loaded in two steps: first, the CSS file is loaded from the <code>fonts.googleapis.com</code> domain, then this file requests fonts from <code>fonts.gstatic.com</code> .  You cannot know which specific font files from <code>fonts.gstatic.com</code> you will need until you upload the CSS file, so we can only make a preliminary connection in advance. </li></ul><br>  <b>Use this tag to speed up some third-party script or style</b> by pre-setting the connection. <br><br>  <b>Do not abuse</b> .  Establishing and maintaining a connection is an expensive operation for both the client and the server.  Use this tag for a maximum of 4-6 domains. <br><br><h3>  Details </h3><br>  <b>Optional tag</b> .  The browser is not obliged to follow this instruction and may ignore it, for example, if many connections have already been established or in some other case. <br><br>  <b>What includes the connection process</b> .  To connect to each site, the browser must do the following: <br><br><ul><li>  <i>DNS resolving</i> .  Find the IP address of the server ( <code>216.58.215.78</code> ) for the specified domain name ( <code>google.com</code> ). </li><li>  <i>TCP handshake</i> .  Packet exchange (client → server → client) to initiate a TCP connection to the server. </li><li>  <i>TLS Handshake (only for HTTPS sites)</i> .  Two rounds of packet exchange (client → server → client → server → client) to initiate a secure TLS session. </li></ul><br>  Note: HTTP / 3 will improve and speed up the handshake mechanism, but it is still far away. <br><br><a name="dns-prefetch"></a><h1>  dns-prefetch </h1><br>  <code>&lt;link rel= "dns-prefetch"&gt;</code> asks the browser to perform a DNS rezolving for the domain in advance if you will soon connect to it and want to speed up the initial connection. <br><br>  The browser must determine the domain’s IP address if it retrieves any resources from a new third-party domain.  For example, download Google Fonts, React fonts from a CDN, or request a JSON response from the API server. <br><br>  For each new domain, the resolution of the DNS record usually takes about 20-120 ms.  This only affects the loading of the first resource from this domain, but it still represents a delay.  If you implement DNS resolution in advance, then we will save time and load the resource faster. <br><br><h3>  Syntax </h3><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">= </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"dns-prefetch"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://api.my-app.com"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br>  <code>href</code> indicates the domain name for which you want to set the IP address.  You can specify with or without the prefix ( <code>https://domain.com</code> ) ( <code>//domain.com</code> ). <br><br><h3>  When to use </h3><br>  <b>Use for domains you’ll need</b> to download resources from there that your browser doesn’t know in advance.  For example: <br><br><ul><li>  Your application is hosted on <code>my-app.com</code> and makes AJAX requests to <code>api.my-app.com</code> : you do not know the specific requests in advance, because they are made dynamically from JS.  It is quite appropriate to use the tag to pre-connect to the domain. <br></li><li>  Your application is hosted on <code>my-app.com</code> , and uses Google Fonts fonts.  They are loaded in two steps: first, the CSS file is loaded from the <code>fonts.googleapis.com</code> domain, then this file requests fonts from <code>fonts.gstatic.com</code> .  You cannot know which specific font files from <code>fonts.gstatic.com</code> you will need until you load the CSS file, so we can only establish a preliminary connection in advance. </li></ul><br>  <b>Use this tag to speed up some third-party script or style</b> by pre-setting the connection. <br><br><blockquote>  Note the similar characteristics on <code>&lt;link rel= "dns-prefetch"/&gt;</code> and <code>&lt;link rel= "preconnect"&gt;</code> .  Using them together for the same domain usually does not make sense: <code>&lt;link rel= "preconnect"&gt;</code> already includes <code>&lt;link rel= "dns-prefetch"/&gt;</code> and much more.  This can be justified in two cases: <br><br><ul><li>  <i>You want to support older browsers</i> .  <code>&lt;link rel= "dns-prefetch" /&gt;</code> supported <a href="https://caniuse.com/">since IE10 and Safari 5</a> .  <code>&lt;link rel= "preconnect"&gt;</code> was supported for some time in Chrome and Firefox, but was added to Safari only in 11.1 and <a href="https://caniuse.com/">is still not supported in IE / Edge</a> .  If you want to support these browsers, use <code>&lt;link rel= "dns-prefetch" /&gt;</code> as a <code>&lt;link rel= "preconnect"&gt;</code> for <code>&lt;link rel= "preconnect"&gt;</code> . </li><li>  <i>You want to speed up connectivity to more than 4-6 domains</i> .  The <code>&lt;link rel= "preconnect"&gt;</code> not recommended for use with more than 4-6 domains, since establishing and maintaining a connection is an expensive operation.  <code>&lt;link rel= "dns-prefetch" /&gt;</code> consumes less resources, so use it if necessary. </li></ul></blockquote><br><h3>  Details </h3><br>  <b>Optional tag</b> .  The browser is not obliged to follow this instruction, so it may not perform DNS rezolving, for example, if there are many such tags on the page or in some other case. <br><br>  <b>What is DNS</b> .  Each server on the Internet has a unique IP address that looks like <code>216.58.215.78</code> .  In the address bar of the browser, the site name is usually entered (for example, <code>google.com</code> ), and the DNS servers (Domain Name System) map it to the server’s IP address ( <code>216.58.215.78</code> ). <br><br>  To determine the IP address, the browser must perform a query to the DNS server.  It takes 20-120 ms to connect to a new third-party domain. <br><br>  <b>DNS is cached, though not very secure</b> .  Some operating systems and browsers cache DNS queries: this will save time on repeated queries, but you cannot rely on caching.  On Linux, it usually doesn't work at all.  Chrome has a DNS cache, but it only lives a minute.  Windows caches DNS responses for five days. <br><br><a name="prerender"></a><h1>  prerender </h1><br>  <code>&lt;link rel= "prerender"&gt;</code> asks the browser to load the URL and display it on an invisible tab.  When a user clicks on a link, the page should appear immediately.  This is useful if you are sure that the user will visit a particular page and want to speed up its display. <br><br>  Despite the exceptional effectiveness of this tag (or because of it), in 2019 <code>&lt;link rel= "prerender"&gt;</code> poorly supported by major browsers.  See <a href="https://habr.com/ru/post/445264/">below for</a> details. <br><br><h3>  Syntax </h3><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"prerender"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://my-app.com/pricing"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br>  <code>href</code> points to the URL for which you want to render rendering in the background. <br><br><h3>  When to use </h3><br>  <b>When you are really sure that the user will go to a specific page</b> .  If you have a “tunnel” in which 70% of visitors to page A go to page B, then <code>&lt;link rel= "prerender"&gt;</code> on page A will help you quickly display page B. <br><br>  <b>Do not abuse</b> .  Preview rendering is extremely expensive in terms of traffic and memory.  Do not use <code>&lt;link rel= "prerender"&gt;</code> more than one page. <br><br><a name="1"></a><h3>  Details </h3><br>  <b>Optional tag</b> .  The browser is not obliged to follow this instruction and can ignore it, for example, on a slow connection or when there is not enough free memory. <br><br>  In <a href="https://developers.google.com/web/updates/2018/07/nostate-prefetch">order to</a> save memory, <b>Chrome does not perform full rendering</b> , but <a href="https://developers.google.com/web/updates/2018/07/nostate-prefetch">only the preloading of NoState</a> .  This means that Chrome loads the page and all its resources, but does not render and does not execute JavaScript. <br><br>  Firefox and Safari do not support this tag at all.  This does not violate the specification, as browsers are not required to follow this instruction;  but still sad.  <a href="https://bugzilla.mozilla.org/show_bug.cgi%3Fid%3D730101">The implementation bug</a> in Firefox has been open for seven years.  There are reports that Safari <a href="https://twitter.com/bluesmoon/status/1108412360828563456">also does not support this tag</a> . <br><br><h1>  Summary </h1><br>  Use: <br><br><ul><li>  <code>&lt;link rel= "preload"&gt;</code> - when you need a resource in a few seconds <br></li><li>  <code>&lt;link rel= "prefetch"&gt;</code> - when you need a resource on the next page <br></li><li>  <code>&lt;link rel= "preconnect"&gt;</code> - when you know that you will need a resource soon, but you still do not know its full URL <br></li><li>  <code>&lt;link rel= "dns-prefetch"&gt;</code> - likewise, when you know that you will need a resource soon, but you still do not know its full URL (for older browsers) <br></li><li>  <code>&lt;link rel= "prerender"&gt;</code> - when you are sure that users will go to a certain page and want to speed up its display </li></ul></div><p>Source: <a href="https://habr.com/ru/post/445264/">https://habr.com/ru/post/445264/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../445252/index.html">Digital rights got to Russia</a></li>
<li><a href="../445254/index.html">Ethereum Smart Contract Testing for Go: Goodbye JavaScript</a></li>
<li><a href="../445256/index.html">Cybercriminals controlled ASUS Live Update for five months</a></li>
<li><a href="../445260/index.html">Will robots ever truly realize themselves? Scientists are moving in this direction.</a></li>
<li><a href="../445262/index.html">GeekUniversity opens a set of Big Data Analytics Faculty</a></li>
<li><a href="../445266/index.html">GeekBrains together with Rostelecom will hold IoT Hackathon</a></li>
<li><a href="../445268/index.html">Details about GraphQL: what, how and why</a></li>
<li><a href="../445270/index.html">[bookmarks] Bash for beginners: 21 useful commands</a></li>
<li><a href="../445272/index.html">JavaScript is the best programming language for beginners. Is that so or not?</a></li>
<li><a href="../445274/index.html">When “Zoë”! == “Zoë”, or why you need to normalize Unicode strings</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>