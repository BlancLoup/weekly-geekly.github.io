<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Tabris.js - get to know each other quickly and write Hello World</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Tabris.js is another cross-platform (Android, IOS) mobile framework. It differs from the overwhelming majority of such tools in that it is not a wrapp...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Tabris.js - get to know each other quickly and write Hello World</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/367/f11/c85/367f11c85b834c48a3caee5449a47974.png" align="left"><br>  <a href="https://tabrisjs.com/">Tabris.js</a> is another cross-platform (Android, IOS) mobile framework.  It differs from the overwhelming majority of such tools in that it is not a wrapper over standard or Chrome-based WebView.  Tabris is a collection of native components available from javascript.  The closest analogues to me are: <a href="http://www.telerik.com/nativescript">Telerik Native Script</a> , <a href="http://www.appcelerator.com/">Appcelerator</a> and <a href="https://facebook.github.io/react-native/">React Native</a> . <br><a name="habracut"></a><br><br>  So, Tabris has gone from the inefficient (but so convenient) HTML5 + WebView and offers to write applications completely in javascript with a single code base for IOS and Android platforms.  At the same time, we can fully use JS-libraries, npm-modules and Cordova plugins - but only those that do not work with the DOM, because it‚Äôs not in our application. <br><br>  You can compile the application: <br><ul><li>  Free: from the public repository on GitHub </li><li>  For $ 5 / month: from a public / private repository on GitHub </li><li>  For $ 50 / month: GitHub + local builds </li></ul><br>  In any tariff plan, the functionality is the same, does not affect the code, only affects the project build.  I don‚Äôt know how fast the local build is, but their cloud takes about a couple of minutes for a simple application, which is generally normal, as for me. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      There are also tariff plans for companies (Organization) - the price tag starts at $ 5,000 / year.  On these plans, you also get the source code, respectively, you can modify the functionality.  In detail on the topic of working with source codes, it is better to find out in the support - I did not find specific information, but the <a href="https://tabrisjs.com/faq">FAQ</a> says about writing your own plugins. <br><br><div style="text-align:center;"><img width="320" src="https://habrastorage.org/files/2cb/518/e65/2cb518e654124185894bb34a732c705e.png"></div><br><br>  To speed up development and debugging, you can use their application for <a href="https://itunes.apple.com/de/app/tabris.js/id939600018%3Fl%3Den%26mt%3D8">IOS</a> or <a href="https://play.google.com/store/apps/details%3Fid%3Dcom.eclipsesource.tabris.js">Android</a> .  Log in via GitHub, the application contains simple examples, the ability to run the application from a remote server (convenient for local development), and also synchronizes the scripts added to your account on the Tabris website.  In addition, the application already contains some useful Cordova-plugins: camera, dialogs, device-motion, barcodescanner and others.  Therefore, you can start developing without worrying about installing them - great for a quick start and check. <br><br><h3>  Getting to the development </h3><br>  Before you write something - read the <a href="https://tabrisjs.com/documentation/latest/">documentation</a> .  The main interest for us are Widgets (Widgets), which are natively implemented components.  The main component in most cases is Page (Page), and the rest are already attached to it, whether it is a TextView or ScrollView with many elements inside. <br><br>  Since there are a lot of well-documented examples both on the website and inside the application, it would be strange to simply output ‚ÄúHello World !!‚Äù.  Therefore, we will make the application a little more complicated and a little more impressive, which will make it possible to feel the difference with the HTML5-based application - the search for public images on Flickr. <br><br>  Creating an application starts with a minimum <i>package.json</i> : <br><br><pre><code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"flickr-search"</span></span>, <span class="hljs-string"><span class="hljs-string">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"Search Flickr public images by tag"</span></span>, <span class="hljs-string"><span class="hljs-string">"main"</span></span>: <span class="hljs-string"><span class="hljs-string">"app.js"</span></span>, <span class="hljs-string"><span class="hljs-string">"dependencies"</span></span>: { <span class="hljs-string"><span class="hljs-string">"tabris"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.2.0"</span></span> } }</code> </pre> <br><br>  We will need to make requests to the Flickr API, and although Tabris contains <a href="&amp;xid=17259,1500004,15700021,15700043,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjANPAJNgkoXi_ObSwEbM5A0uvizA#xmlhttprequest">XMLHttpRequest</a> in the core, I still prefer to drop extra lines of code by connecting a more convenient <a href="https://www.npmjs.com/package/fetch">fetch</a> module, as well as add Promise.  Accordingly, <i>package.json</i> will take the following form: <br><br><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"flickr-search"</span></span>, <span class="hljs-string"><span class="hljs-string">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"Search Flickr public images by tag"</span></span>, <span class="hljs-string"><span class="hljs-string">"main"</span></span>: <span class="hljs-string"><span class="hljs-string">"app.js"</span></span>, <span class="hljs-string"><span class="hljs-string">"dependencies"</span></span>: { <span class="hljs-string"><span class="hljs-string">"tabris"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.2.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"promise"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"whatwg-fetch"</span></span>: <span class="hljs-string"><span class="hljs-string">"^0.9.0"</span></span> } }</code> </pre><br>  After command <i>npm install</i> and we are almost ready to write code.  I recommend to immediately raise the local server and enter its address in the url tab of the Tabris application.  Thus, you can immediately view the application as you write code.  If you already have a <i>node http-server</i> installed, you can simply command the <i>http-server</i> in the project folder, or you can install it locally in the project.  Of course, you can use Apache, etc. <br><br><div style="text-align:center;"><img width="320" src="https://habrastorage.org/files/9fc/454/ecc/9fc454ecca854b59b0bff257075c19ce.png"></div><br><br>  Our application will be single-page, it needs to have an input line for the search, and as a result we will display an image + name.  For the input line use the usual <i>TextInput</i> , and to display the results of the <i>CollectionView</i> .  During initialization, the application will display random results from Flickr (without tag search), so we use the <i>CollectionView with Pull-to-Refresh</i> component so that the user can update the images. <br><br>  We connect the modules and create the necessary layout: <br><br><div class="spoiler">  <b class="spoiler_title">Scratch app.js</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span> = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"promise"</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"whatwg-fetch"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> page = tabris.create(<span class="hljs-string"><span class="hljs-string">"Page"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">"Flickr Search"</span></span>, <span class="hljs-attr"><span class="hljs-attr">topLevel</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> tagInput = tabris.create(<span class="hljs-string"><span class="hljs-string">"TextInput"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">layoutData</span></span>: { <span class="hljs-attr"><span class="hljs-attr">left</span></span>: <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-attr"><span class="hljs-attr">right</span></span>: <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-attr"><span class="hljs-attr">top</span></span>: <span class="hljs-number"><span class="hljs-number">8</span></span> }, <span class="hljs-attr"><span class="hljs-attr">message</span></span>: <span class="hljs-string"><span class="hljs-string">"Search..."</span></span> }).on(<span class="hljs-string"><span class="hljs-string">"accept"</span></span>, loadItems).appendTo(page); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> view = tabris.create(<span class="hljs-string"><span class="hljs-string">"CollectionView"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">layoutData</span></span>: { <span class="hljs-attr"><span class="hljs-attr">left</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">top</span></span>: [tagInput, <span class="hljs-number"><span class="hljs-number">8</span></span>], <span class="hljs-attr"><span class="hljs-attr">right</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> }, <span class="hljs-attr"><span class="hljs-attr">itemHeight</span></span>: <span class="hljs-number"><span class="hljs-number">200</span></span>, <span class="hljs-attr"><span class="hljs-attr">refreshEnabled</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">initializeCell</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">cell</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> imageView = tabris.create(<span class="hljs-string"><span class="hljs-string">"ImageView"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">layoutData</span></span>: { <span class="hljs-attr"><span class="hljs-attr">top</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">left</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">right</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> }, <span class="hljs-attr"><span class="hljs-attr">scaleMode</span></span>: <span class="hljs-string"><span class="hljs-string">'fill'</span></span> }).appendTo(cell); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> titleComposite = tabris.create(<span class="hljs-string"><span class="hljs-string">"Composite"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">background</span></span>: <span class="hljs-string"><span class="hljs-string">"rgba(0,0,0,0.8)"</span></span>, <span class="hljs-attr"><span class="hljs-attr">top</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">right</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">left</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> }).appendTo(cell); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> textView = tabris.create(<span class="hljs-string"><span class="hljs-string">"TextView"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">layoutData</span></span>: { <span class="hljs-attr"><span class="hljs-attr">left</span></span>: <span class="hljs-number"><span class="hljs-number">30</span></span>, <span class="hljs-attr"><span class="hljs-attr">top</span></span>: <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-attr"><span class="hljs-attr">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-attr"><span class="hljs-attr">right</span></span>: <span class="hljs-number"><span class="hljs-number">30</span></span> }, <span class="hljs-attr"><span class="hljs-attr">alignment</span></span>: <span class="hljs-string"><span class="hljs-string">"center"</span></span>, <span class="hljs-attr"><span class="hljs-attr">font</span></span>: <span class="hljs-string"><span class="hljs-string">"16px Roboto, sans-serif"</span></span>, <span class="hljs-attr"><span class="hljs-attr">textColor</span></span>: <span class="hljs-string"><span class="hljs-string">"#fff"</span></span> }).appendTo(titleComposite); cell.on(<span class="hljs-string"><span class="hljs-string">"change:item"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">widget, item</span></span></span><span class="hljs-function">) </span></span>{ imageView.set(<span class="hljs-string"><span class="hljs-string">"image"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">src</span></span>: item.media.m }); item.title ? textView.set(<span class="hljs-string"><span class="hljs-string">"text"</span></span>, item.title) : textView.set(<span class="hljs-string"><span class="hljs-string">"text"</span></span>, <span class="hljs-string"><span class="hljs-string">'No Title'</span></span>); }); } }).on(<span class="hljs-string"><span class="hljs-string">"refresh"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ loadItems(); }).appendTo(page); page.open(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loadItems</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ view.set({ <span class="hljs-attr"><span class="hljs-attr">refreshIndicator</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">refreshMessage</span></span>: <span class="hljs-string"><span class="hljs-string">"loading..."</span></span> }); }</code> </pre><br></div></div><br><br>  Everything is quite transparent and clear from the code - we created a Page (Page), titled it, added a text input to enter the search string and initialized the <i>CollectionView</i> , placing it below the search string. <br><br>  Each cell of the <i>CollectionView was</i> set in height and the <i>Image</i> component <i>(ImageView)</i> , <i>Composite</i> layer and <i>TextView</i> layer were added to the cell. <br><br>  We stretched the <i>ImageView</i> over the entire width and height of the cell (setting {left: 0, right: 0, top: 0, bottom: 0}), set the container ‚Äúfill‚Äù mode ({scaleMode: 'fill'}). <br><br>  In order for the name of the image to be distinguishable in its background, I created a composite layer with a slight transparency ({background: ‚Äúrgba (0,0,0,0.8)‚Äù}) and already placed the text on this layer, specifying its color, size and center alignment. <br><br>  Also in the <i>change: item</i> handler, we made a billet to fill the cell with data from the API. <br><br>  The <i>loadItems ()</i> function <i>so</i> far simply makes the <i>Pull-to-Refresh</i> element update indicator visible, so opening our application and swiping down will see the following: <br><br><div style="text-align:center;"><img width="320" src="https://habrastorage.org/files/0c9/a22/815/0c9a2281510d40749748c1966d7147c8.png"></div><br><br>  To "revive" the application we will make a request to the Flickr API.  Flickr can give data in different formats, and we could connect the necessary library and parse at least Atom Feed, at least CSV. <br><br>  But it‚Äôs much easier to work with JSON, and you don‚Äôt need to drag on extra dependencies.  The bad luck is that Flickr gives JSON-P.  Since we are not in the browser, we cannot inject the script into &lt;head /&gt; for execution, and using <i>eval ()</i> is also not the best option. <br><br>  In a specific case, <i>eval ()</i> could also be used - the probability of receiving ‚Äúmalicious‚Äù code from Flickr is low, the execution speed is also unlikely to drop noticeably (don't forget that this code execution passes without different optimizations). <br>  Therefore, it seems to me that it will be good practice to create a function dynamically using the <i>Function</i> constructor, in a large project this will also get rid of global functions / variables, and with the advantage we get the ability to handle errors with <i>try..catch</i> - and this simplifies debugging and the developer‚Äôs life in whole  In this simple application, our <i>loadItems ()</i> function takes the form: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loadItems</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ view.set({ <span class="hljs-attr"><span class="hljs-attr">refreshIndicator</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">refreshMessage</span></span>: <span class="hljs-string"><span class="hljs-string">"loading..."</span></span> }); fetch(<span class="hljs-string"><span class="hljs-string">"https://api.flickr.com/services/feeds/photos_public.gne?format=json&amp;jsoncallback=JSON_CALLBACK&amp;tags="</span></span> + tagInput.get(<span class="hljs-string"><span class="hljs-string">'text'</span></span>)).then(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">response</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dyn_function = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Function</span></span>(<span class="hljs-string"><span class="hljs-string">"JSON_CALLBACK"</span></span>, response._bodyInit); dyn_function(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">json</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (json.items &amp;&amp; json.items.length) { view.set({ <span class="hljs-attr"><span class="hljs-attr">items</span></span>: json.items, <span class="hljs-attr"><span class="hljs-attr">refreshIndicator</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">refreshMessage</span></span>: <span class="hljs-string"><span class="hljs-string">"refreshed"</span></span> }); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { navigator.notification.alert(<span class="hljs-string"><span class="hljs-string">'Nothing found with tag: '</span></span> + tagInput.get(<span class="hljs-string"><span class="hljs-string">'text'</span></span>), <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">'Result'</span></span>); view.set({ <span class="hljs-attr"><span class="hljs-attr">refreshIndicator</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">refreshMessage</span></span>: <span class="hljs-string"><span class="hljs-string">"refreshed"</span></span> }); } }) }).catch(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">error</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'request failed:'</span></span>, error) }) }</code> </pre><br><br>  Here we use <i>navigator.notification.alert ()</i> because we know that the Tabris application already contains <i>org.apache.cordova.dialogs</i> .  When building you will need to add a plugin depending. <br><br>  By launching loadItems () during application initialization, a search with an empty parameter will be performed and we will get random images (and so with each refresh with an empty tag). <br><br><div style="text-align:center;"><img width="320" src="https://habrastorage.org/files/ec8/8f9/ce7/ec88f9ce76a34902bff320170841a996.png"></div><br><br>  Let's now animate every element of our collection.  Similar things (especially when scrolling the page) on HTML5 do not behave very "smoothly" - that will be a clear difference.  Create a simple appearance effect on the right while increasing transparency: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">animateFadeInFromRight</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">widget, delay</span></span></span><span class="hljs-function">) </span></span>{ widget.set({ <span class="hljs-attr"><span class="hljs-attr">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0.0</span></span>, <span class="hljs-attr"><span class="hljs-attr">transform</span></span>: { <span class="hljs-attr"><span class="hljs-attr">translationX</span></span>: <span class="hljs-number"><span class="hljs-number">150</span></span> } }); widget.animate({ <span class="hljs-attr"><span class="hljs-attr">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">1.0</span></span>, <span class="hljs-attr"><span class="hljs-attr">transform</span></span>: { <span class="hljs-attr"><span class="hljs-attr">translationX</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">duration</span></span>: <span class="hljs-number"><span class="hljs-number">500</span></span>, <span class="hljs-attr"><span class="hljs-attr">delay</span></span>: delay, <span class="hljs-attr"><span class="hljs-attr">easing</span></span>: <span class="hljs-string"><span class="hljs-string">"ease-out"</span></span> }); }</code> </pre><br><br>  And add the effect to the <i>collection</i> view cells: <br><br><pre> <code class="javascript hljs">cell.on(<span class="hljs-string"><span class="hljs-string">"change:item"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">widget, item</span></span></span><span class="hljs-function">) </span></span>{ animateFadeInFromRight(widget, <span class="hljs-number"><span class="hljs-number">500</span></span>); imageView.set(<span class="hljs-string"><span class="hljs-string">"image"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">src</span></span>: item.media.m }); item.title ? textView.set(<span class="hljs-string"><span class="hljs-string">"text"</span></span>, item.title) : textView.set(<span class="hljs-string"><span class="hljs-string">"text"</span></span>, <span class="hljs-string"><span class="hljs-string">'No Title'</span></span>); });</code> </pre><br><br>  On this, perhaps finish: <br><div style="text-align:center;"><img width="320" src="https://habrastorage.org/files/a82/7d6/524/a827d65242c348d4aea25ce619a5b703.png"></div><br><br><div class="spoiler">  <b class="spoiler_title">Full listing app.js</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span> = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"promise"</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"whatwg-fetch"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> page = tabris.create(<span class="hljs-string"><span class="hljs-string">"Page"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">"Flickr Search"</span></span>, <span class="hljs-attr"><span class="hljs-attr">topLevel</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> tagInput = tabris.create(<span class="hljs-string"><span class="hljs-string">"TextInput"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">layoutData</span></span>: { <span class="hljs-attr"><span class="hljs-attr">left</span></span>: <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-attr"><span class="hljs-attr">right</span></span>: <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-attr"><span class="hljs-attr">top</span></span>: <span class="hljs-number"><span class="hljs-number">8</span></span> }, <span class="hljs-attr"><span class="hljs-attr">message</span></span>: <span class="hljs-string"><span class="hljs-string">"Search..."</span></span> }).on(<span class="hljs-string"><span class="hljs-string">"accept"</span></span>, loadItems).appendTo(page); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> view = tabris.create(<span class="hljs-string"><span class="hljs-string">"CollectionView"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">layoutData</span></span>: { <span class="hljs-attr"><span class="hljs-attr">left</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">top</span></span>: [tagInput, <span class="hljs-number"><span class="hljs-number">8</span></span>], <span class="hljs-attr"><span class="hljs-attr">right</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> }, <span class="hljs-attr"><span class="hljs-attr">itemHeight</span></span>: <span class="hljs-number"><span class="hljs-number">200</span></span>, <span class="hljs-attr"><span class="hljs-attr">refreshEnabled</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">initializeCell</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">cell</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> imageView = tabris.create(<span class="hljs-string"><span class="hljs-string">"ImageView"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">layoutData</span></span>: { <span class="hljs-attr"><span class="hljs-attr">top</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">left</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">right</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> }, <span class="hljs-attr"><span class="hljs-attr">scaleMode</span></span>: <span class="hljs-string"><span class="hljs-string">'fill'</span></span> }).appendTo(cell); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> titleComposite = tabris.create(<span class="hljs-string"><span class="hljs-string">"Composite"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">background</span></span>: <span class="hljs-string"><span class="hljs-string">"rgba(0,0,0,0.8)"</span></span>, <span class="hljs-attr"><span class="hljs-attr">top</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">right</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">left</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> }).appendTo(cell); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> textView = tabris.create(<span class="hljs-string"><span class="hljs-string">"TextView"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">layoutData</span></span>: { <span class="hljs-attr"><span class="hljs-attr">left</span></span>: <span class="hljs-number"><span class="hljs-number">30</span></span>, <span class="hljs-attr"><span class="hljs-attr">top</span></span>: <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-attr"><span class="hljs-attr">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-attr"><span class="hljs-attr">right</span></span>: <span class="hljs-number"><span class="hljs-number">30</span></span> }, <span class="hljs-attr"><span class="hljs-attr">alignment</span></span>: <span class="hljs-string"><span class="hljs-string">"center"</span></span>, <span class="hljs-attr"><span class="hljs-attr">font</span></span>: <span class="hljs-string"><span class="hljs-string">"16px Roboto, sans-serif"</span></span>, <span class="hljs-attr"><span class="hljs-attr">textColor</span></span>: <span class="hljs-string"><span class="hljs-string">"#fff"</span></span> }).appendTo(titleComposite); cell.on(<span class="hljs-string"><span class="hljs-string">"change:item"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">widget, item</span></span></span><span class="hljs-function">) </span></span>{ animateFadeInFromRight(widget, <span class="hljs-number"><span class="hljs-number">500</span></span>); imageView.set(<span class="hljs-string"><span class="hljs-string">"image"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">src</span></span>: item.media.m }); item.title ? textView.set(<span class="hljs-string"><span class="hljs-string">"text"</span></span>, item.title) : textView.set(<span class="hljs-string"><span class="hljs-string">"text"</span></span>, <span class="hljs-string"><span class="hljs-string">'No Title'</span></span>); }); } }).on(<span class="hljs-string"><span class="hljs-string">"refresh"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ loadItems(); }).appendTo(page); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loadItems</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ view.set({ <span class="hljs-attr"><span class="hljs-attr">refreshIndicator</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">refreshMessage</span></span>: <span class="hljs-string"><span class="hljs-string">"loading..."</span></span> }); fetch(<span class="hljs-string"><span class="hljs-string">"https://api.flickr.com/services/feeds/photos_public.gne?format=json&amp;jsoncallback=JSON_CALLBACK&amp;tags="</span></span> + tagInput.get(<span class="hljs-string"><span class="hljs-string">'text'</span></span>)).then(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">response</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dyn_function = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Function</span></span>(<span class="hljs-string"><span class="hljs-string">"JSON_CALLBACK"</span></span>, response._bodyInit); dyn_function(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">json</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (json.items &amp;&amp; json.items.length) { view.set({ <span class="hljs-attr"><span class="hljs-attr">items</span></span>: json.items, <span class="hljs-attr"><span class="hljs-attr">refreshIndicator</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">refreshMessage</span></span>: <span class="hljs-string"><span class="hljs-string">"refreshed"</span></span> }); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { navigator.notification.alert(<span class="hljs-string"><span class="hljs-string">'Nothing found with tag: '</span></span> + tagInput.get(<span class="hljs-string"><span class="hljs-string">'text'</span></span>), <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">'Result'</span></span>); view.set({ <span class="hljs-attr"><span class="hljs-attr">refreshIndicator</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">refreshMessage</span></span>: <span class="hljs-string"><span class="hljs-string">"refreshed"</span></span> }); } }) }).catch(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">error</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'request failed:'</span></span>, error) }) } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">animateFadeInFromRight</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">widget, delay</span></span></span><span class="hljs-function">) </span></span>{ widget.set({ <span class="hljs-attr"><span class="hljs-attr">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0.0</span></span>, <span class="hljs-attr"><span class="hljs-attr">transform</span></span>: { <span class="hljs-attr"><span class="hljs-attr">translationX</span></span>: <span class="hljs-number"><span class="hljs-number">150</span></span> } }); widget.animate({ <span class="hljs-attr"><span class="hljs-attr">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">1.0</span></span>, <span class="hljs-attr"><span class="hljs-attr">transform</span></span>: { <span class="hljs-attr"><span class="hljs-attr">translationX</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">duration</span></span>: <span class="hljs-number"><span class="hljs-number">500</span></span>, <span class="hljs-attr"><span class="hljs-attr">delay</span></span>: delay, <span class="hljs-attr"><span class="hljs-attr">easing</span></span>: <span class="hljs-string"><span class="hljs-string">"ease-out"</span></span> }); } loadItems(); page.open();</code> </pre><br></div></div><br><br>  For the build, you need to create a typical Cordova <i>config.xml</i> , where you can simply specify the necessary plugins (the cloud collector installs the necessary plugins himself, the npm modules can be read from package.json): <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">widget</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"my.flickr_search.app"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">version</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1.0.0"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>Flickr Search<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span> Search Flickr public images by tag <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">preference</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Fullscreen"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plugin</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"cordova-plugin-dialogs"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">version</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1.1.1"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">widget</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  After we push the project on Github and create the application in the Tabris admin panel, select our repository: <br><br><div class="spoiler">  <b class="spoiler_title">Create App</b> <div class="spoiler_text"><div style="text-align:center;"><img width="800" src="https://habrastorage.org/files/33e/857/03a/33e85703acf24483adfdf6f34142da92.jpeg"></div></div></div><br><br>  After validation, the build settings will be available: <br><br><div class="spoiler">  <b class="spoiler_title">Build app</b> <div class="spoiler_text"><div style="text-align:center;"><img width="800" src="https://habrastorage.org/files/382/8f2/54a/3828f254ab8542398f883faddc9c8629.jpeg"></div></div></div><br>  <a href="https://github.com/michaeleparkour/flickr-search">Github Code</a> <br><br>  An .apk file of the application takes about 10Mb - more than bare Cordova (~ 2-3Mb), but less project with Chrome WebView (~ 19Mb).  At the same time, we have a more productive application on native components. <br><br>  The advantages also include the speed of development and support for a large number of <i>js-modules and cordova plugins</i> .  In React Native, for example, there are still few plug-ins for working with hardware.  Since Tabris is compatible with projects on Cordova, you can use it in ‚Äúnarrow‚Äù places - for example, for large lists. <br><br>  It is a pity that for the possibility of a local build, you will have to pay $ 50, but if we are not talking about a single project, then I think the point is completely there.  However, in the cloud without problems, you can knock the application all with the same functionality. <br>  The Tabris community is not so big, but there will be a demand - it will grow. <br><br>  In general, we have a fairly competitive framework for developing mobile applications and games, with good performance, which can be recommended at least for the development of demos and prototypes, or even full-fledged applications. </div><p>Source: <a href="https://habr.com/ru/post/266301/">https://habr.com/ru/post/266301/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../266287/index.html">Adding kernel modules to Fedora distributions</a></li>
<li><a href="../266291/index.html">Improved plugin for Smarty - Combine</a></li>
<li><a href="../266293/index.html">Linux and free cloud storage</a></li>
<li><a href="../266297/index.html">The digest of interesting materials for the mobile developer # 119 (August 31 - September 6)</a></li>
<li><a href="../266299/index.html">Structural logging on the example of Serilog and Seq</a></li>
<li><a href="../266303/index.html">Rainy map</a></li>
<li><a href="../266305/index.html">Stack Overflow Secrets</a></li>
<li><a href="../266307/index.html">To help the marketer: write automatic download of data from Adfox with visualization</a></li>
<li><a href="../266309/index.html">Traditional testing will die soon</a></li>
<li><a href="../266311/index.html">The digest of interesting materials from the world of web development and IT for the last week? 175 (August 31 - September 6, 2015)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>