<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Rapid Ruby GUI Development</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 On Habr√©, in my opinion, almost all possible graphical APIs for Ruby have been considered. But for some reason everyone perceives and s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Rapid Ruby GUI Development</h1><div class="post__text post__text-html js-mediator-article"><h4>  Introduction </h4><br>  On Habr√©, in my opinion, almost all possible graphical APIs for Ruby have been considered.  But for some reason everyone perceives and serves these same APIs exclusively as pure code.  No graphic designers to you, no high-speed GUI development - sit down, calculate the coordinates with pens, adjust as necessary.  And why else, because you can‚Äôt write serious GUI applications on it. <br>  And no!  If it comes to that, you can even <a href="http://github.com/FooBarWidget/rubystein/tree/master">write</a> <a href="http://blip.tv/file/2097787">Wolfenstein</a> to cut.  But it‚Äôs better to start with something less global :) <br><br><h4>  Training </h4><br>  So, let's try to write something not very simple, quite a GUI, and preferably not bothering to calculate the coordinates. <a name="habracut"></a><br>  First we need: <br><ul><li>  <a href="http://www.ruby-lang.org/en/downloads/">Ruby</a> - actually chop yourself if you don‚Äôt have one </li><li>  Rubxemes WxRuby and WxSugar (set with the commands ‚Äúgem install wxruby‚Äù and ‚Äúgem install wx_sugar‚Äù, respectively) - the WxWidgets gem and the wxSugar ruby ‚Äã‚Äãutility </li><li>  <a href="http://wxformbuilder.org/%3Fpage_id%3D7">wxFormBuilder</a> is a convenient GUI editor. </li></ul><br><h4>  Design </h4><br>  All downloaded, set.  You can write ... well, let it be a simple RSS reader :) <br>  Let's start with the very notorious design - we launch FormBuilder and create a new project, call it something.  Next we add the most common <b>Frame</b> to the project from the <b>Forms</b> tab. <br><img src="http://wiki.wxformbuilder.org/uploads/Tutorials/comp_pallette-forms.png"><br>  It should appear the usual window.  We prescribe him a beautiful title in the properties, make the frame as we want.  And here is a small nuance - so that we can create our application on the basis of it, it must have its own <b>subclass</b> , so we go all the same properties and set something like <i>RubyRSSFrame there</i> . <br>  The window was created.  Now you need to add controls.  What do we need for RSS reader?  Yes, in general, a bit: enter the URL, the "Add" button, the list of added feeds, the list of topics in the feed and the news window. <br>  We begin to add, but do not rush - so that the elements are arranged as we need, they must be in sizers.  You can read more about what sizers are and how to use them correctly, for example <a href="http://jenyay.net/Programming/WxSizer">, here</a> .  They are in the <b>Layout</b> tab. <br><img src="http://wiki.wxformbuilder.org/uploads/Tutorials/comp_pallette-layout.png"><br>  Therefore, we first add a general sizer, and in it a few more small ones.  And we add our elements to them: TextCtrl, Button, ListBox pair and HtmlWindow.  For convenience, you can give all these elements some clear names. <br>  After all the steps you have done, you should have something like this: <br><img src="https://habrastorage.org/getpro/habr/post_images/a8e/aaf/296/a8eaaf296a74283a292cbee0fbb5731c.png"><br><br>  Now we need to generate an XRC file.  Go to the project properties and select there instead of generating c ++ code, xrc generation.  And click <b>File - Generate Code</b> (or just <b>F8</b> ).  We get our <b>mainframe.xrc</b> file on output.  XRC is such a universal format for drawing WxWidgets windows based on XML.  It just won't work with Ruby. <br>  And here that WxSugar comes to the rescue.  Open the console, go to the folder with our xrc's and enter the command "xrcise -o mainframe.rb mainframe.xrc".  After its execution, we will get a ruby ‚Äã‚Äãfile describing our window.  <b>Attention!</b>  <b>Without the XRC file, it will not work!</b> <br>  Design drawn, it remains to revive :) 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  We program </h4><br>  Create a new ruby ‚Äã‚Äãfile, for example, " <b>rubyrss.rb</b> " and open it in the editor.  To begin with, we will connect all the necessary gems and our guinea: <br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">require <font color="#A31515">'wx'</font> #  wxruby <br> require <font color="#A31515">'rss/2.0'</font> #     rss2.0 <br> require <font color="#A31515">'open-uri'</font> #      <br> require <font color="#A31515">'mainframe'</font> #  </font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Now we need to create a form and initialize the application: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#008000">#   ,     </font> <br> <font color="#0000ff">class</font> RubyRSSMainFrame &lt; RubyRSSFrame <br> <font color="#008000">#  </font> <br> <font color="#0000ff">def</font> initialize <br> <font color="#008000">#   </font> <br> <font color="#0000ff">super</font> <br> <font color="#0000ff">end</font> <br> <font color="#0000ff">end</font> <br> <br> <font color="#008000">#      </font> <br> Wx::App.run <font color="#0000ff">do</font> <br> RubyRSSMainFrame. <font color="#0000ff">new</font> .show <br> <font color="#0000ff">end</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  When executing this code, a drawn window should appear.  Naturally, it will be static - no action. <br>  Now we will create several arrays inside the class for recording information from RSS: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#008000">#     RSS <br> #   </font> <br> $rss_addr_arr = Array. <font color="#0000ff">new</font> () <br> <font color="#008000">#   </font> <br> $rss_topics_arr = Array. <font color="#0000ff">new</font> () <br> <font color="#008000">#   </font> <br> $rss_text_arr = Array. <font color="#0000ff">new</font> ()</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  And add an action for the button.  In the initialization procedure, enter the line that adds an event listener to the click: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#008000"># add_btn - id  <br> # addrss -   </font> <br> evt_button(add_btn){ addrss }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Now to the function itself, triggered when pressed: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#008000">#     RSS</font> <br> <font color="#0000ff">def</font> addrss <br> <font color="#008000">#      ,   TextCtrl</font> <br> $rss_addr_arr &lt;&lt; http_adress_input.value <br> <font color="#008000">#     </font> <br> position = $rss_addr_arr.length - 1 <br> <br> <font color="#008000">#    </font> <br> $rss_topics_arr &lt;&lt; Array. <font color="#0000ff">new</font> () <br> <font color="#008000">#  </font> <br> $rss_text_arr &lt;&lt; Array. <font color="#0000ff">new</font> () <br> <br> <font color="#008000">#   RSS'</font> <br> feed_url = http_adress_input.value <br> open(feed_url) <font color="#0000ff">do</font> |http| <br> <font color="#008000">#  </font> <br> response = http.read <br> <font color="#008000">#     RSS </font> <br> result = RSS::Parser.parse(response, <font color="#0000ff">false</font> ) <br> <font color="#008000">#      </font> <br> rss_list.insert_items([result.channel.title],position) <br> <font color="#008000">#  </font> <br> result.items.each_with_index <font color="#0000ff">do</font> |item, i| <br> <font color="#008000">#    </font> <br> $rss_topics_arr[position] &lt;&lt; item.title <br> <font color="#008000">#  </font> <br> $rss_text_arr[position] &lt;&lt; item.description <br> <font color="#0000ff">end</font> <br> <font color="#0000ff">end</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Now our program loads the feed and displays its name.  It remains quite a bit - to make the lists of news topics and news text appear. <br>  Add two more event listeners to select items in ListBoxes: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">evt_listbox(rss_list) { | <font color="#0000ff">event</font> | readnews } <br> evt_listbox(topics_list) { | <font color="#0000ff">event</font> | shownews }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  And we register the corresponding unpretentious functions: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#008000">#     </font> <br> def readnews <br> <font color="#008000">#   </font> <br> topics_list.clear <br> <font color="#008000">#  ID  </font> <br> rssid = rss_list.get_selections[0] <br> <font color="#008000">#    </font> <br> $rss_topics_arr[rssid]. <font color="#0000ff">each</font> <font color="#0000ff">do</font> |item| <br> <font color="#008000">#    </font> <br> topics_list.insert_items([item],0) <br> <font color="#0000ff">end</font> <br> <font color="#0000ff">end</font> <br> <br> <font color="#008000">#   </font> <br> def shownews <br> <font color="#008000">#  ID  </font> <br> rssid = rss_list.get_selections[0] <br> <font color="#008000">#  ID  </font> <br> topicid = topics_list.get_selections[0] <br> <font color="#008000">#  </font> <br> news_text_html.set_page($rss_text_arr[rssid][topicid]) <br> end</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  That's all.  The final result should look something like this: <br><img src="https://habrastorage.org/getpro/habr/post_images/e3a/95a/b2f/e3a95ab2f39aa4b3ada439bed56a7d17.png"><br><br><h4>  Results </h4><br>  All development took no more than 10 minutes.  And this is with my rather average knowledge of Ruby. <br>  Yes, this application can not be called complete - there must be a lot of botlones and all sorts of glitches.  But the goal was not to create a full-fledged application, but to show that it is quite possible to develop GUI applications on Ruby, and quite quickly. <br><br>  <b>upd.</b>  Transferred to the Ruby blog.  Thanks for the feedback :) </div><p>Source: <a href="https://habr.com/ru/post/60545/">https://habr.com/ru/post/60545/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../60538/index.html">Job Yandex.News</a></li>
<li><a href="../60540/index.html">In the web, when you hover over a button, the cursor should change its shape to a pointer (as when hovering over a link)?</a></li>
<li><a href="../60541/index.html">Yandex Maps offline?</a></li>
<li><a href="../60543/index.html">The problem with notifications about calendar events in Win Mobile</a></li>
<li><a href="../60544/index.html">Windows 7: Russian Language Pack</a></li>
<li><a href="../60547/index.html">Windows Vista Service Pack 2 is officially available for download.</a></li>
<li><a href="../60549/index.html">ExtJS for Newbies - Getting Started with the Store</a></li>
<li><a href="../60550/index.html">Book about school sites. Start</a></li>
<li><a href="../60551/index.html">Full-text search on the site - the scourge of the modern Internet</a></li>
<li><a href="../60553/index.html">Ubuntu will run Android apps</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>