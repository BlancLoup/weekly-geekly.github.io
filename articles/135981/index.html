<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Code lock on the Arduino in 20 minutes</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Prehistory 
 It so happened that we decided at work to install a combination lock on our door, because, as we constantly run in, we run out of the off...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Code lock on the Arduino in 20 minutes</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/8b3/c76/9f6/8b3c769f6c57d0aa7d771ee245afa40b.jpg"><br><br><h4>  Prehistory </h4><br>  It so happened that we decided at work to install a combination lock on our door, because, as we constantly run in, we run out of the office, the door to which must be closed permanently in the absence of inhabitants.  Keys are often forgotten inside.  In general, we decided that a combination lock is a great way out. <br><br>  Having rummaged in the Chinese flea markets and ebay, I did not find anything cheap and more or less serious and decided to do it myself.  I‚Äôll make a reservation at once that the Arduino platform was chosen for its simplicity, since there was no experience with microcontrollers at all. <br><a name="habracut"></a><br><h4>  Idea </h4><br>  On the door from the outside of the door should be located the keyboard on which the password is entered, on the inside is fixed the rest of the design.  To control the complete closure of the door is used reed.  Leaving the office, the person presses the ‚Äú*‚Äù key on the keyboard and without waiting until the door closes, the door closer goes about his business, when the door is completely closed, the reed switch closes and the lock is closed.  The door opens by entering a 4-digit password and pressing "#". 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Accessories </h4><br>  Arduino UNO = $ 18 <br>  Arduino protoshield + breadboard = $ 6 <br>  L293D = $ 1 <br>  A bundle of wires 30pcs for brainboard = $ 4 <br>  2 RJ45 sockets = $ 4 <br>  2 RJ45 plugs = $ 0.5 <br>  central locking actuator = 250 rubles. <br>  Reed switch = free from the old window. <br>  Giant metal locks = free <br>  Housing from the old D-LINK hub of 1.5 mm iron = free <br>  Power supply from the same hub D-LINK at 12 and 5V = also free <br>  A bunch of screws and gadget for mounting all this stuff to the body = 100rub. <br>  Alarm control panel = free. <br><br>  <b>Total:</b> $ 33.5 and 350 rub. <br><br>  Not so little, you say, and you will definitely be right, but you have to pay for the pleasure!  And to collect something with your own hands is always a pleasure.  By the same construction can be much cheaper, if you use a bare MK without Arduino. <br><br><h4>  Preparation for assembly </h4><br>  I would like to say a few words about the purchase of the key element of the actuator design.  In the local auto shop, I was offered two types of actuators: "with two wires and five."  According to the saleswomen, they were absolutely the same and the difference in the number of wires meant absolutely nothing.  However, as it turned out later, this is not so!  I chose a device with two wires, it was powered by 12v.  Limit switches are installed in the construction with five wires, which allows to control the movement of the lever.  I realized that I had bought the wrong one only when I disassembled it and it was too late to change it.  The lever stroke was too short to properly slide the latch, therefore, it was necessary to modify it a little, namely, to remove two rubber washers shortening the lever stroke of the actuator.  For this, the body had to be cut along a regular hacksaw, because the second washer was inside.  The blue electrical tape to us, as always, helped us in the future when assembling it back. <br>  To control the actuator motor, the driver of the L293D motors was used, which can withstand a peak load of up to 1200 mA, and when the actuator motor stopped, the peak load increased to only 600 mA. <br>  From the control panel of the security alarm were removed contacts from the keyboard, speaker and two LEDs.  The console and the main device were supposed to be connected using twisted pair and RJ45 connectors <br><br><h4>  Programming. </h4><br>  So, as the experience of programming Arduino, I have not had until now.  I used other people's work and articles from the site arduino.cc.  Who cares, can look at this ugly <a href="http://pastebin.com/LWNNXqXm">code</a> :) <br><br><h4>  Photo and video </h4><br><img src="https://habrastorage.org/storage2/77c/5d0/8fa/77c5d08fa6e8738c32d84cde37a9d7b3.jpg"><br>  Arduino and actuator <br><br><img src="https://habrastorage.org/storage2/60a/1da/ea0/60a1daea05217215f3c374d8d59088d8.jpg"><br>  Power Supply <br><br><img src="https://habrastorage.org/storage2/0e9/b1c/e5d/0e9b1ce5d19dcf554393afae07cc12f9.jpg"><br>  Keyboard <br><br><img src="https://habrastorage.org/storage2/dc8/e82/2d6/dc8e822d6cbee0b58e2fe51c79cc6c1f.jpg"><br>  Espagnolette (connected to the actuator with a metal needle and which is wearing a heat shrinkage for beauty) <br><br>  Video of the device operation process: <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/8y2A-CLcDtI%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhgw41MMh3nYZ2ZhjT-8XP4iCMBWkw" frameborder="0" allowfullscreen=""></iframe><br><br><h4>  Used sources </h4><br>  <a href="http://www.youtube.com/watch%3Fv%3DeJ46wRyT-ZA">www.youtube.com/watch?v=eJ46wRyT-ZA</a> <br>  <a href="http://arduino.cc/">arduino.cc</a> <br><br><h4>  Afterword </h4><br>  Of course, about 20 minutes it was a joke, I personally made it a month (thanks to the mail of Russia), I was very tired of it, but I am glad that I brought it to the end. </div><p>Source: <a href="https://habr.com/ru/post/135981/">https://habr.com/ru/post/135981/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../135972/index.html">New budget 3D printer</a></li>
<li><a href="../135973/index.html">Evernote Partners: ifttt will connect Evernote with your other services</a></li>
<li><a href="../135977/index.html">Mikhail Vavilov (SUP Media) in the program ‚ÄúDigital Stories‚Äù</a></li>
<li><a href="../135979/index.html">PhantomJS + JSCoverage + QUnit or JS console unit tests with coverage calculation</a></li>
<li><a href="../135980/index.html">Google has made search more social.</a></li>
<li><a href="../135983/index.html">Self-made NFC in the phone - failed experiment</a></li>
<li><a href="../135986/index.html">"World Record" - a mini-game from the developers of the "invisible keyboard"</a></li>
<li><a href="../135988/index.html">New typography for the web. Microsoft demonstrates OpenType features</a></li>
<li><a href="../135989/index.html">What working environment do you usually use?</a></li>
<li><a href="../135990/index.html">WPF layout: Measure and Arrange</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>