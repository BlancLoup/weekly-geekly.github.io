<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>DBMS transactions</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="All beaver! We are actively expanding our, so to speak, range of courses, and now we are pleased to present a new one: ‚ÄúRelational DBMS‚Äù . The course ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>DBMS transactions</h1><div class="post__text post__text-html js-mediator-article">  All beaver!  We are actively expanding our, so to speak, range of courses, and now we are pleased to present a new one: <a href="https://otus.pw/YUN9/">‚ÄúRelational DBMS‚Äù</a> .  The course was created by one of the leading teachers of <a href="https://otus.pw/XkNh/">the Linux Administrator</a> course, <a href="https://otus.pw/gCVj/">Alexey Tsykunov</a> .  Otherwise, everything will be as usual: usefulness and <a href="https://otus.pw/6ADj/">open lessons</a> , in which Aleksey will share different things that are not included in the course itself. <br><br>  Go! <br><a name="habracut"></a><br>  A transaction can be defined as a set of tasks, the execution of which is a prerequisite for the correct completion of a transaction.  A single task is the minimum indivisible data change block. <br><br>  We give an example of a simple transaction.  Suppose a bank employee transfers 500 rupees from account A to account B. This small and simple transaction involves several low-level tasks. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Account A <br><br><pre><code class="bash hljs">Open_Account(A) Old_Balance = A.balance New_Balance = Old_Balance - 500 A.balance = New_Balance Close_Account(A)</code> </pre> <br>  Account B <br><br><pre> <code class="bash hljs">Open_Account(B) Old_Balance = B.balance New_Balance = Old_Balance + 500 B.balance = New_Balance Close_Account(B)</code> </pre> <br><br><img src="https://habrastorage.org/webt/gp/tw/ls/gptwlsywygznru_x5ha7zyhsbhq.png"><br><br>  <b>ACID properties</b> <br><br>  A transaction in a database system must maintain Atomicity, Consistency, Isolation, and Durability - abbreviated as ACID - to ensure accuracy, completeness, and integrity of data: <br><br><ul><li>  <b>Atomicity</b> - this property indicates that a transaction should be considered as an atomic unit, that is, all its operations are performed, or none of them.  The database should not have states in which the transaction is partially completed.  States must be set either before the start of the transaction, or after the completion / interruption / failure of the transaction. </li><li>  <b>Consistency</b> - this property indicates that the database must remain in a consistent state after any transaction.  No transaction should have a negative effect on the data in the database.  If the database was in a consistent state before the transaction, then it should be in it after its execution. </li><li>  <b>Isolation</b> ‚Äî in a database system where several transactions are performed simultaneously and in parallel, the isolation property indicates that each transaction will be executed and executed as if it were the only transaction in the system.  No transaction should affect the existence of other transactions. </li><li>  <b>Resilience</b> - this property indicates that the database must be sufficiently stable to store all recent updates, even if the system makes a mistake or reboots.  If carrying out a transaction leads to updating a piece of data in the database, then these changes should continue to be stored in the database.  If a transaction is in progress, but the system crashes before writing data to disk, the data must be updated immediately after the system restarts. </li></ul><br>  <b>Serialization</b> <br><br>  When multiple transactions are executed by the operating system in a multiprogram environment, it is likely that the instructions of one transaction will be mixed with the instructions of another. <br><br><ul><li>  A schedule is a chronological execution of a series of transactions.  There can be many transactions in the schedule, each of which consists of several instructions / tasks. </li><li>  A sequential schedule is a schedule in which transactions are arranged so that each of the transactions is completely executed.  The schedule is called sequential just because of the sequential way of execution. </li></ul><br>  In a multitransactional environment, a consistent schedule is considered a benchmark.  The order of execution of instructions in a transaction cannot be changed, but the execution of instructions of two transactions may be random.  Execution does not do any harm when the two transactions are mutually independent and work on different data segments;  but if they use the same data, the results may differ, which may lead the database to an inconsistent state. <br><br>  To solve this problem, we allow parallel execution of a transaction schedule if transactions are serialized or have some equivalence relation. <br><br>  <b>Equivalent schedules</b> <br><br>  Equivalent schedules can be of the following types: <br><br>  <b><i>Equivalence of the result</i></b> <br><br>  If two schedules after execution give the same result, they are considered equivalent in result.  Results may be the same for some values ‚Äã‚Äãand different for another set of values.  Therefore, this equivalence is usually not considered significant. <br><br>  <b><i>Representation equivalence</i></b> <br><br>  Two schedules are considered equivalent in representation in the event that transactions in each of the schedules perform similar actions in a similar way. <br><br>  For example: <br><br><ul><li>  If T reads the original data in S1, then it also reads the original data in S2. </li><li>  If T reads the value written J in S1, then it also reads the value written J in S2. </li><li>  If T performs the final recording of values ‚Äã‚Äãin S1, then it also performs the final recording of values ‚Äã‚Äãin S2. </li></ul><br>  <i><b>Conflict equivalence</b></i> <br><br>  Two schedules will conflict if they have the following properties: <br><br><ul><li>  They belong to different transactions. </li><li>  They refer to the same data. </li><li>  At least one of them is a ‚Äúwrite‚Äù operation. </li></ul><br>  Two schedules with multiple transactions with conflicting operations are considered equivalent to a conflict only if: <br><br><ul><li>  Both schedules contain the same set of transactions. </li><li>  The order of conflicting pairs of operations is maintained in both schedules. </li></ul><br>  <b>Note</b> - Schedules equivalent in representation are serializable in representation, and conflict-equivalent are conflict-serializable.  All conflict-serializable schedules are serializable by submission. <br><br>  <b>Transaction States</b> <br><br>  A transaction in a database can be in the following states: <br><br><img src="https://habrastorage.org/webt/pq/ye/wo/pqyewotu4hqi5rgclotxcqwp4_0.png"><br><br><ul><li>  <b>Active (Active)</b> - in this state, the transaction starts to run.  This is the initial state of any transaction. </li><li>  <b>Partially Perfect (Partially Committed)</b> - when a transaction performs its final operation, it is considered that it is in a partially perfect state. </li><li>  Failed ‚Äî A transaction is considered failed if one of the checks performed <b>by</b> the database recovery <b>system</b> fails.  Such a transaction cannot proceed. </li><li>  <b>Interrupted</b> - if some check failed and the transaction went into a failed state, the recovery manager will roll back all write operations in the database to return it to its original state before starting the transaction. <br>  Transactions in this state are considered interrupted.  The database recovery module can choose one of two operations after interrupting a transaction: <br><br><ul><li>  Restart transaction; </li><li>  Cancel transaction. </li></ul></li><li>  <b>Perfect</b> - if the transaction has successfully completed all operations, it is considered perfect.  All its effects are permanently recorded in the database system. </li></ul><br>  <b>THE END</b> <br><br>  As always, we are waiting for comments, a question that can be asked both here and in the <a href="https://otus.pw/6ADj/">open lesson</a> with <a href="https://otus.pw/gCVj/">Alexey</a> . </div><p>Source: <a href="https://habr.com/ru/post/423309/">https://habr.com/ru/post/423309/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../423299/index.html">Application Coordinator in iOS applications</a></li>
<li><a href="../423301/index.html">Selective IP ban on cloudy Windows Server 2012 via RDP</a></li>
<li><a href="../423303/index.html">AI, practical course. Emotion Based Musical Transformation</a></li>
<li><a href="../423305/index.html">Ruin the performance</a></li>
<li><a href="../423307/index.html">GitHub Pull Requests in Visual Studio Code</a></li>
<li><a href="../423311/index.html">Partnership Naviaddress and ACTUM</a></li>
<li><a href="../423313/index.html">Attach to I2C. Make a simple logic analyzer</a></li>
<li><a href="../423315/index.html">Universal Links Theory</a></li>
<li><a href="../423317/index.html">Why a Scala man?</a></li>
<li><a href="../423319/index.html">Integration code Vivaldi. Tell our developers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>