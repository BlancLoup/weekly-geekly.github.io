<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>"Collect 3 hearts, 3 skulls and 3 swords in one shift", or how we made the game</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The article will be a description of things that we ourselves did not know before the start of development, and which I would like to share with begin...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>"Collect 3 hearts, 3 skulls and 3 swords in one shift", or how we made the game</h1><div class="post__text post__text-html js-mediator-article">  The article will be a description of things that we ourselves did not know before the start of development, and which I would like to share with beginners and not so developers.  At the moment we have 200 active players a day, every day another 10 to 50 is added, about 5 thousand in total are registered.  For all the time the game brought about $ 1000. <br><br><h4>  What is the game about </h4><br>  At first we decided to port the BC (one of the first browser MMORPGs) to the phone, but the idea evolved in the process.  Finished match-3 with RPG elements and PvP capability.  In general, a mixture of "BK", "Candy Crush" and "Heaven."  The player fights with monsters, develops, does quests, buys things and magic scrolls.  The battle takes place in alternate mode in match-3 style with different crystals - treatment, poison, reinforcement, etc.  The main innovation - fighting with people, you can fight with random opponents or add friends and fight with them. <br><br><img src="https://habrastorage.org/files/7ab/a17/166/7aba1716628e46a9a58df05e60380784.jpg"><br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">A small technical box, with a full list of programs and technologies.</b>  <b class="spoiler_title">Who is interested</b> <div class="spoiler_text">  <b>Design</b> <br>  The first versions of the interface were drawn in <b>Balsamiq Mockups</b> - a very handy tool for quick design sketches.  It also drew the transition schemes between the screens: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/873/0f2/9f2/8730f29f2ce646938cfe609168916151.png"><br><br>  <b>Customer</b> <br>  The client wrote on <b>Objective-C</b> .  We don‚Äôt have three-dimensional graphics and complex animation, and the price of most frameworks confused us.  We didn't have a Mac at our disposal, so at first we used a <b>VMware</b> emulator.  As I remember, the first running program is a white background with the printed <s>Zhopa</s> text ‚ÄúHello, world!‚Äù. <br>  Six months later, we still have forked on the Mac.  Build on it works 10 times faster, so if you are writing a serious project, you should think about buying at least Mac mini from the very beginning. <br><br>  <b>Server</b> <br>  The server was written in <b>PHP</b> , there used to be experience with it.  <b>Assembla was</b> chosen for <b>version</b> control.  Particularly pleased that in conjunction with <b>Netbeans</b> , on which we wrote, he got up without a hesitation. <br>  The database was first made on <b>MySQL</b> , tables and links were built in <b>MySQL Workbench</b> , and worked with this all through <b>PDO</b> . <br>  Six months later, we decided to master the new technology and rewrite the entire DAL to noSQL.  We chose <b>MongoDB</b> because of its relative prevalence and simplicity.  The book ‚ÄúThe Little MongoDB book‚Äù, in spite of its modest 30 pages, gives a good starting point. <br>  Hosted by <b>Amazon</b> .  With all the convenience, the Amazon has a significant disadvantage - the price.  With almost zero traffic, it turns out about $ 200 per year for a single micro computing server ec2 and one s3 storage. <br><br>  <b>Beta test</b> <br>  Uploading the game to testers on phones via Xcode is inconvenient, and most importantly, you cannot do it remotely.  Here I got the <b>TestFlight</b> service, which allows you to install the game remotely even during development. <br>  In addition to finding bugs, you had to get feedback on the gameplay and interface.  We made a list of questions and did a survey in <b>SurveyMonkey</b> .  A simple system for polls, free and with easy access to the results. <br>  At the same time, we sent the game to the appstore for review, in order not to waste time, as they often ask to redo something.  What was our surprise when, after 10 days, we received appruv from the first time. <br></div></div><br>  So let's get started. <br><br><h4>  1. Economy, stats of things, balancing battle and everything that is included in the concept of "gameplay" </h4><br>  In games of this type, the gameplay just takes a lot of time and you need to start doing it as soon as possible.  The most important thing is to do everything very systemically.  At first we did something by eye, for example, the parameters of the weapon, but quickly realized the scale of the problem.  Everything ended with huge Excel tables that automatically calculate everything.  Nothing more convenient than Excel, for these purposes, we, by the way, have not found. <br><br>  There was an idea to find a game designer on the side, but one smart person said: ‚ÄúWhether you like it or not, you will have to grow a game design yourself.‚Äù  Looking back, we understand what he meant. <br><br>  There is an excellent <a href="http://myaney.wordpress.com/design-articles/practical-design-game-economics-part-1/">article</a> for beginners, puts his head in order and explains how this all is done according to the mind (in English).  You can also read on the Gamasutra article by Ramina Shakridze, gives a lot in terms of understanding the gameplay.  Several translations of his articles are on Habr√©. <br><br><h4>  2. Achievements </h4><br>  It took a lot of time to come up with a normal system of achievements, the most, in my opinion, sensible <a href="http://www.gamasutra.com/blogs/GregMcClanahan/20091202/3709/Achievement_Design_101.php">article</a> (in English). <br><br>  Do not underestimate the importance of the achievements, this is a whole science and a lot of good games were ruined by the ill-conceived actions of game-devs.  The same task can turn into a quest with a reward, and in the achievement without.  It is important to understand the difference in the psychology of perception and to make the implementation as positive as possible. <br><br><h4>  3. Player ratings </h4><br>  At first they tried to invent something of their own, but then it became clear that we were reinventing the wheel.  Here came the article <a href="http://habrahabr.ru/company/darudar/blog/143188/">"How to sort the content based on user ratings."</a>  After reading, he happily informed the team that now "the rating is calculated on the lower boundary of the Wilson confidence interval for the Bernoulli parameter." <br><br><h4>  4. Analytics </h4><br>  For analytics, Flurry and Google Analytics were used.  Each system has its pros and cons, only about this one can write a whole article.  In short, Flurry makes it possible to make up to 300 types of events, with a bunch of parameters in each.  And Google allows you to make an infinite number of event types, but with only one parameter.  By the way, from conversations with publishers we learned that they, too, usually use more than one analytics system - both at the same time, for reinsurance, and separately, in those cases when one is more convenient than the other. <br><br>  We measured, firstly, our own metrics, for example, from what time the players pass each monster.  And, secondly, the generally accepted indicators asked by publishers are MAU, DAU, ARPU, ARPPU, ARPDAU, K-factor, 2/7/28 day retention. <br><br><h4>  5. Training </h4><br>  One of the main complaints of publishers was the lack of training.  From personal experience: the best tutorials are interactive.  Here the main thing is to find a middle ground so that there are not too many of them, but at the same time the main functionality is explained.  With sufficient persistence, you can force the tutorial to behave differently than planned, which can lead to a hang.  To track problem spots, we added analytics events to the beginning and end of each tutorial. <br><br><h4>  6. Localization </h4><br>  Initially, we included languages ‚Äã‚Äãwith the maximum audience coverage - Spanish, French, Italian, Germans and, of course, Russian.  The translation was needed quality, so ordering cheap and cheerful, for example, at fiverr we did not decide, instead turned to Globaloc.de, specializing in the translation of games.  Were very pleased, although the price tag bites a little, about 10 cents per word. <br><br><h4>  7. Bot </h4><br>  Monsters in the game play match-3, trying to kill a player.  To write the bot, we used the <a href="http://en.wikipedia.org/wiki/Minimax">Minimax</a> algorithm. <br><br>  They wrote iteratively, each time applying different strategies and comparing.  Even made bets, which version of the bot will win.  At some point, the monsters began to play and the monsters began to choose such a move in order to leave the enemy the worst field.  It turned out that it is impossible to write too clever a bot, it begins to seem that he is still a rogue, and he knows in advance which stones will fall, although this is not so.  To make a complex monster interesting, it is better to add stats to it, and leave an algorithm comparable to what a living person can calculate. <br><br>
<h4>  8. Content Management System </h4><br>  A very useful feature is to make simple updates without having to perezalivat client on the AppStore.  To do this, they wrote a CMS - every time the client connects it is checked with the server, and if necessary, it downloads the necessary data.  Now you can add weapons and entire locations to the game without reloading the client. <br>  Although all transmission problems and broken packets should lie on the shoulders of TCP, we had a situation where half of the loaded pictures appeared on the client.  We added a manual check, after downloading the client calculates md5 of the received data, compares and, if necessary, downloads. <br><br><h4>  9. Size of application </h4><br>  In the AppStore there is a limit on the size of applications that can be downloaded via 3G or EDGE.  This size is an important criterion and can significantly affect the number of installations.  Our game with all the graphics went beyond the allowed limit, so in order to meet the cherished 50 MB, we had to make the system load background graphics (at the time of development, the resolution was 50 MB, now we have raised to 100).  In the initial assembly, only 2 locations are stitched, the rest of the monsters and locations are downloaded in the background as they progress through the CMS. <br><br><h4>  10. Feedback and Help </h4><br>  The ability to write to developers directly from the game is very important.  If a player wants to give advice or complain about a bug, he should be able to do it right from the game.  Otherwise, he will write it in a review on appstore, and the number of stars in the recall will most likely be less than on expensive cognac.  And the better your Help is, the less players will send you questions.  For these purposes, we have built the uservoice.com SDK. They provide an opportunity to dynamically change Help and, if desired, make at least a whole encyclopedia.  In the same system, you can send and feedback to developers. <br><br><h4>  11. Game Icon </h4><br><img src="https://habrastorage.org/files/da1/d85/caf/da1d85caf7ad4d818a598e6b4a1e2756.png" align="left">  On the one hand, it was possible to give the experienced artist, specializing in icons and hanging in tops on sites like dribbble.com.  Contacted, costs about $ 1500.  As a result, they turned to our artist and spent 10 times less money, and were very pleased with the result. <br><br>  <b>12. Graphics</b> <br>  All graphics were ordered by outsourcing.  Initially, the idea was to make the game only for the iPhone, but it turned out that about half of the profits of games came from the iPad, which changed our thought.  Conclusion - it is better to order all graphics in high resolution right away, the price difference is small. <br><br>  All graphics cost about $ 20,000 - more than 40 full-size characters and monsters, dozens of locations, things, games, etc. <br><br>  During the development, about 10 artists changed, in the end they ended up with 3 permanent, each of which was responsible for their own front works. <br><br>  Order the schedule of such a turnkey project at the studio will cost from $ 50,000.  Conclusion: to have an artist in a team is very cool. <br><br><h4>  13. Music </h4><br>  We ordered from the composer a set of sounds for all the actions in the game and two main musical themes - in battle and out of battle.  Very interesting experience.  It is difficult to explain in the technical specifications how this button should ‚Äúclap‚Äù, and for describing music in the epithet ‚Äúheroic‚Äù is not enough. <br><br>  The voice acting, in comparison with the graphics, was quite inexpensive, about $ 500. <br><br><h4>  14. Publishers </h4><br>  From the very beginning, we decided that we will be released with the help of a publisher.  Having made a trailer and presentation, we sent them out to the 20 largest publishers.  One third answered, among them were Chillingo, BigFish and Alawar.  From what was offered to us, the share of the publisher is 35-50% of the net profit, after deducting Apple's commission and the direct costs of buying traffic (if the players are not from other games of the publisher).  Most requested a working demo on the TestFlight.  Some wrote detailed reports about our shortcomings, so writing to publishers already at the design stage is in any case useful. <br><br>  None of the good publishers did not immediately agree, so we decided to make Soft Launch ourselves - launching in small markets in order to hone the gameplay and monetization.  Small English-speaking markets were needed, so Australia, N. Zelandia and Malaysia were chosen. <br><br>  We saw 2 main ways to work with publishers: <br>  1. Contact us at the development stage.  Publishers can help a lot with gameplay and monetization.  Plus the motivation that in this world there is someone else who is interested in the success of the game. <br>  2. Completely complete the game, make Soft Launch, collect metrics and hone the game.  And with the numbers to turn to the publishers.  In the case of good performance you can get more favorable conditions.  The difficulty lies in the fact that you need to gain a critical mass of players. <br><br>  That seems to be all, if something especially interested you, write in the comments, I‚Äôm happy to tell you in more detail. <br><br><div class="spoiler">  <b class="spoiler_title">And finally, a little about us</b> <div class="spoiler_text">  We are a team of 4 people, and this is our first game.  The separation was: <br>  Design - 1 creative <br>  Client - 1 programmer <br>  Server - 1.5 gouging <br>  Gameplay - 0.5 people <br><br>  Having collected in a heap the first letters of the last names, we began to be called Ekza.  The most important thing is of course to draw a logo to the company, for which we spent the whole day at one time. <br><br>  The first sketch of the logo and its final version: <br><br><img src="https://habrastorage.org/files/ef6/008/95c/ef600895cd4e49ce8782bdd1171b7447.jpg"><br><br>  We worked almost all the weekend for two years, plus a couple of hours every day after work.  That is, in fact, this is about a year of 5 days work of 4 people. <br><br>  In conclusion, a couple more examples of initial sketches and final results. <br><br>  <b>The battle</b> <br><table><tbody><tr><td><img src="https://habrastorage.org/files/cd6/a66/75c/cd6a6675cf1e4467838cb4377046fd7b.png"></td><td><img src="https://habrastorage.org/files/62c/17a/d25/62c17ad251134a3fa413cf28d31858f2.png"></td></tr></tbody></table><br><br>  <b>Backpack</b> <br><table><tbody><tr><td><img src="https://habrastorage.org/files/8c6/344/b4d/8c6344b4d8a94c5b943e8a804fc1f19c.png"></td><td><img src="https://habrastorage.org/files/98b/a28/646/98ba28646c364dd9abd9b7ed1e57d5fe.jpg"></td></tr></tbody></table><br></div></div></div><p>Source: <a href="https://habr.com/ru/post/254649/">https://habr.com/ru/post/254649/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../254639/index.html">Let's talk! DevExpress Hot Spring</a></li>
<li><a href="../254641/index.html">We invite you to the third meeting of IT specialists Hack Weekend</a></li>
<li><a href="../254643/index.html">Geo index to search for new acquaintances or the revolutionary discovery of scientists from Austria</a></li>
<li><a href="../254645/index.html">New network architectures: open or closed solutions?</a></li>
<li><a href="../254647/index.html">IT management and support - Fujitsu's job offer</a></li>
<li><a href="../254655/index.html">Sports watch with built-in cell phone do it yourself</a></li>
<li><a href="../254657/index.html">Video reports from the conference IT NonStop Voronezh 2015</a></li>
<li><a href="../254659/index.html">Using Xen functionality</a></li>
<li><a href="../254665/index.html">Simple game by means of PTK "Quint 7"</a></li>
<li><a href="../254667/index.html">Theory and practice of migration of web systems to PostgreSQL</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>