<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Creating an Android application or a project without a name</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Prehistory 
 One fine day, I decided to start learning English, and immediately before studying I consulted a teacher who teaches this language, since...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Creating an Android application or a project without a name</h1><div class="post__text post__text-html js-mediator-article"><h3>  Prehistory </h3><br>  One fine day, I decided to start learning English, and immediately before studying I consulted a teacher who teaches this language, since  I thought he would share his experience with me.  As a result, we agreed with him that I should start my study with the words of the language, because basically I use my knowledge when I visit English-language websites, and only then take up grammar.  He suggested a very interesting way of studying (at least for me).  At one time, in order for words to be stored in memory, he would take an ordinary sheet of paper, lined it into equal rectangles on one side and cut a sheet, then write an English word on one side of the resulting rectangle, and an English word on the other, after that he would take a box, I put the resulting cards in there, mixed them up and extracted them one by one, looked at the word and pronounced the translation. <br>  If you do this procedure every day for an hour or two and periodically, replenish your card index, then the words are remembered very well. <br><br>  Since then, I have decided that I will always do this and in the near future I will start reading in English, as in my native language!  But after a while, I began to tire of cutting cards and spending time on it, and by the same time I was absolutely not enough, at that moment I had a thought, why not create a program under the android OS (because my phone is with this system), which will perform a similar function! <br><br>  From that moment a project was born that I did not come up with a name for. <br><a name="habracut"></a><br><h3>  purpose </h3><br>  The purpose of this project, initially, was to automate the addition of words to the card file and their further exploitation, but later a couple of ideas came to me and it was very interesting to develop the project, but after two weeks it became boring and I got bored, and completely throw it away, like all previous ones I did not want to, and so I decided to try myself as the author of this article and share the experience gained in the field of network programming and programming for android.  In this article I will try, as far as possible, to consistently and step by step describe the entire procedure for creating this program. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  Program </h3><br>  To begin with, I will describe in detail the product I created and review the functionality, then, who are interested in it, I can read further about the creation of this miracle. <br><br><h3>  Description </h3><br>  The first thing I would like to tell is about the menu, I tried to make it as attractive as possible, I always had "excellent" taste, so this is what came of it. <br><br><img width="300" height="500" src="http://s8.hostingkartinok.com/uploads/images/2016/06/7266a4ba7cb2eb5b4bf1ddefd82eddcc.png" alt="image"><br><br>  As you can see in the image, there is nothing special about it, but when you click on the button ‚ÄúCheck words‚Äù or ‚ÄúWords‚Äù, a submenu appears, so to speak. <br><br><img width="300" height="500" src="http://s8.hostingkartinok.com/uploads/images/2016/06/7cd007a58ef6def39c20c68de724dbe7.png" alt="image"><br><br><img width="300" height="500" src="http://s8.hostingkartinok.com/uploads/images/2016/06/c4db33e5a908ff0bbcde90fff6c35c1f.png" alt="image"><br><br>  As can be seen from the images above, the buttons ‚ÄúIn Alphabetical order‚Äù, ‚ÄúIn reverse order‚Äù and ‚ÄúRandom‚Äù have the same property.  I marked all of them with a special symbol ‚Äú+‚Äù, and when opened, the symbol is replaced with ‚Äú-‚Äù.  When you click on one of the items of the open menu again, it is rolled up to its original position. <br><br>  Before taking a test or changing and deleting words, you need to add them, therefore now we will look at this particular mechanism, but before that you need to digress a little from this topic so that everything is clear in the future. <br><br>  As I have already said, before creating a project, I was visited by many ideas and one of them, it is a simplification of adding words to the program.  It is no secret that a person is lazy and not everyone will like to manually create their own card index, especially if you need to fill up as many as three fields (although the transcription is not necessary), in the age of Internet development and data transmission over long distances in one instant. <br><br><img width="300" height="500" src="http://s8.hostingkartinok.com/uploads/images/2016/06/33b667ea4888258c5b7c5a722e4d4d17.png" alt="image"><br><br>  An idea occurred to me, why shouldn‚Äôt a program user share his card file with the whole world?  Therefore, at the moment of adding a word to his personal dictionary, the user is unaware (if there is an internet connection) loads it on the server, where it is stored in the database and waits until another user adds it to himself, and so, by itself the mechanism of adding words is nothing complicated, simple and understandable even to a child. <br><br>  The program also has the function of changing and deleting words.  Here, everything is quite simple: after clicking on the desired menu item, activates in front of us, where the words are arranged in alphabetical order.  The windows for deleting and modifying words are almost the same, just by the icon on the button with the word, so one xml file was used to create them. <br><br><img width="300" height="500" src="http://s8.hostingkartinok.com/uploads/images/2016/06/9948e237c3972f620cb4402148f22342.jpg" alt="image"><br><br><img width="300" height="500" src="http://s8.hostingkartinok.com/uploads/images/2016/06/c3c3812cf25048377079954dc11f4c2a.png" alt="image"><br><br>  If the user changes the word, then to change it, the xml-file of adding words is used, only with a different functionality, all three fields are filled with old values. <br><br><img width="300" height="500" src="http://s8.hostingkartinok.com/uploads/images/2016/06/7ccae47e55db3c27b526c2c23cd27dd5.jpg" alt="image"><br><br>  After entering new values, when you click on the corresponding button, the word is changed and stored on the user's device without making changes to the database on the server.  Deleting words / words is also very simple, I can‚Äôt even imagine how to complicate this process. <br><br><img width="300" height="500" src="http://s8.hostingkartinok.com/uploads/images/2016/06/d198c01037cc8b37c168d36df3ebf856.jpg" alt="image"><br><br><img width="300" height="500" src="http://s8.hostingkartinok.com/uploads/images/2016/06/5d9c8497cf764b62fe01604d067d7b3d.jpg" alt="image"><br><br>  As you can see from the images, you can delete all the words at once or you can delete each word one by one, but before each deletion a dialog box will pop up confirming the action. <br><br>  Now, when I described one of the main functionals, namely the addition / deletion / modification of words, consider the most important test passing by these words, and then I will describe an alternative way to add words. <br><br>  It could be noted in the figure above that the test can be passed in three different orders: alphabetical, inverse and random.  The test object can be either the English version of the word, or Russian, or transcription. <br><br><img width="300" height="500" src="http://s8.hostingkartinok.com/uploads/images/2016/06/83d2bfe1a2eda3e590231bd1eadd588c.png" alt="image"><br><br>  As can be seen from the figure, the field with the English version of the word is active, which means this option is being tested.  Depending on the selected test, only one input field is always active, the others are not subject to change.  The line ‚ÄúStatus‚Äù indicates whether the entered user‚Äôs version is correct, in order to find out, you must click on the ‚ÄúCheck‚Äù button, it also shows how many words have been passed and their number, the ‚ÄúNext‚Äù button can not be viewed in detail, but I would like to Note that you could add a return button to the previous word.  The test can be completed by reaching the last word or by the menu item. <br><br><img width="300" height="500" src="http://s8.hostingkartinok.com/uploads/images/2016/06/ccbf9981d0b95e2419985521663a9862.png" alt="image"><br><br>  After you have passed or completed the test, your result is presented to your attention. <br><br><img width="300" height="500" src="http://s8.hostingkartinok.com/uploads/images/2016/06/483a21660180998fc29c89d927ee03c6.png" alt="image"><br><br>  Words that have been entered correctly are displayed in green, the rest are red, then you can either go to the main menu or take the test again. <br><br>  Now consider an alternative way to add words, to use it, you need to go to the menu item "Download" and there you can view the words that have been added to the server in the manner described above. <br><br><img width="300" height="500" src="http://s8.hostingkartinok.com/uploads/images/2016/06/e864d1dbae61356314531e32bc78c71b.png" alt="image"><br><br>  The figure shows that this activation is almost the same as activating changes and deletions, except that there are CheckBoxes instead of Buttones. <br><br>  I would like to note that the words from the server arrive in small portions, namely, one hundred pieces, after the user reaches the penultimate one, another hundred are loaded, and so on, until the server returns the last word.  In order for the word / words to be added to your card file, you should use the menu items. <br><br><img width="300" height="500" src="http://s8.hostingkartinok.com/uploads/images/2016/06/fc78db3c657e62fa74a50840465d619a.png" alt="image"><br><br>  As you can see in the image, you can download highlighted words, or those words that are currently loaded.  How many words will be saved is shown to the left of the menu item. <br><br>  In the images above, you can see that the activation of changes / deletions / downloads of words is Edit - ‚ÄúFind‚Äù, since  it is implemented the same everywhere, we consider only the example of the Downloads window. <br><br>  Despite the simplicity of implementation, the search for words in this program is my favorite development (do not count the loading of words from the server).  He is "live", looking for English and Russian words, and also simple and easy to use. <br><br><img width="300" height="500" src="http://s8.hostingkartinok.com/uploads/images/2016/06/e89f77f8cbee79dbc91cc6008a1a29e6.png" alt="image"><br><br><img width="300" height="500" src="http://s8.hostingkartinok.com/uploads/images/2016/06/2e5bbf18c2d1196c614b31e5bb4591f8.jpg" alt="image"><br><br><img width="300" height="500" src="http://s8.hostingkartinok.com/uploads/images/2016/06/0ac1bd2e68d55494b8cc2223c1843866.jpg" alt="image"><br><br><img width="300" height="500" src="http://s8.hostingkartinok.com/uploads/images/2016/06/489a9f160a4fb99882046a3298cbcc23.jpg" alt="image"><br><br>  Also in the program there is a menu item "View words", where all the words are displayed in the HTML-table. <br><br><img width="300" height="500" src="http://s8.hostingkartinok.com/uploads/images/2016/06/3c5a659782c853b69ad055244dcc65a4.png" alt="image"><br><br>  Finally, I would like to note that all the functionality of all activations is duplicated in the menu. <br><br><img width="300" height="500" src="http://s8.hostingkartinok.com/uploads/images/2016/06/89ae59028620eb73249acb5fe419d86a.jpg" alt="image"><br><br><img width="300" height="500" src="http://s8.hostingkartinok.com/uploads/images/2016/06/5d9c8497cf764b62fe01604d067d7b3d.jpg" alt="image"><br><br><img width="300" height="500" src="http://s8.hostingkartinok.com/uploads/images/2016/06/253d71933e39f822922b17a385112cf1.jpg" alt="image"><br><br><img width="300" height="500" src="http://s8.hostingkartinok.com/uploads/images/2016/06/e02296aca2ee6800f8e7876eaf2976f8.jpg" alt="image"><br><br><img width="300" height="500" src="http://s8.hostingkartinok.com/uploads/images/2016/06/182e3284eec057bbcf12d1c91efd2db9.jpg" alt="image"><br><br><h3>  Implementation </h3><br>  As it was not difficult to guess, the program consists of two parts, it is a server and client application, so this item will be divided into two parts, and separately I will describe the implementation of each.  I will consider only what I consider to be the most necessary, otherwise the article will be very cumbersome, especially since most of the program is nothing difficult. <br><br><h3>  Client part </h3><br>  I will begin to describe the client part in order, so the first thing we consider is the creation of the menu, to be more precise, the implementation of the folding / unfolding submenu.  This fragment is very simple and requires almost no explanation, so I will describe only the logic of the code. <br><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/alphabet"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@dimen/b_size"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wrap_content"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_gravity</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"center"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@string/b_alphabet"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:visibility</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"gone"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:onClick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Alphabet"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LinearLayout</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"match_parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wrap_content"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:orientation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"vertical"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/english1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@dimen/b_size2"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wrap_content"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_gravity</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"center"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@string/b_english"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:visibility</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"gone"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:onClick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"TestingWords"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/transcription1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@dimen/b_size2"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wrap_content"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_gravity</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"center"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@string/b_transcription"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:visibility</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"gone"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:onClick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"TestingWords"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/russian1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@dimen/b_size2"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wrap_content"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_gravity</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"center"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@string/b_russian"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:visibility</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"gone"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:onClick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"TestingWords"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LinearLayout</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  As can be seen from the code snippet of the xml-file, initially all items of the submenu are hidden, then, when you press the corresponding button, they become visible, and other items that were active are minimized, one of the functions is shown below, the rest are almost the same. <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Alphabet</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View view)</span></span></span><span class="hljs-function"> </span></span>{ click_alphabet = !click_alphabet; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(Btn_Null()) Btn_Gone(); btn_english = (Button) findViewById(R.id.english1); btn_transcription = (Button) findViewById(R.id.transcription1); btn_russian = (Button) findViewById(R.id.russian1); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(click_alphabet) { btn_english.setVisibility(View.VISIBLE); btn_transcription.setVisibility(View.VISIBLE); btn_russian.setVisibility(View.VISIBLE); btn_alphabet.setText(<span class="hljs-string"><span class="hljs-string">"   -"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { Btn_Gone(); btn_alphabet.setText(<span class="hljs-string"><span class="hljs-string">"   +"</span></span>); } }</code> </pre><br>  The variable click_alphabet - checks if there was a second press of a button, if "yes", then the submenu for which this item is responsible is minimized. <br><br>  Function Btn_Null () - checks the initialization of all buttons. <br>  The Btn_Gone () function collapses absolutely all menu items / sub-items. <br><br>  Now consider adding a word to the database on the server and on the smartphone.  All words that the user has added to himself are stored in the TreeMap &lt;String, TransRus&gt; class, the key word for this class is the English word, and transcription and translation are stored in the TransRus class. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TransRus</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String transcription; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String russian; <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> error; TransRus() { transcription = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String(<span class="hljs-string"><span class="hljs-string">""</span></span>); russian = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String(<span class="hljs-string"><span class="hljs-string">""</span></span>); error = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getTranscription</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String tr)</span></span></span><span class="hljs-function"> </span></span>{ transcription = tr; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getRussian</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String rs)</span></span></span><span class="hljs-function"> </span></span>{ russian = rs; } <span class="hljs-function"><span class="hljs-function">String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setTranscription</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> transcription; } <span class="hljs-function"><span class="hljs-function">String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setRussian</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> russian; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getError</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">boolean</span></span></span></span><span class="hljs-function"><span class="hljs-params"> t)</span></span></span><span class="hljs-function"> </span></span>{ error = t; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setError</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> error; } }</code> </pre><br>  The TreeMap class is wrapped in a CollectionWords class; a comparator was also written for it, which ignores the case of letters. <br><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ComparatorNotRegister</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Comparator</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">String</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">compare</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String str1, String str2)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> str1.compareToIgnoreCase(str2); } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CollectionWords</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> TreeMap&lt;String, TransRus&gt; coll_words = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String file1 = <span class="hljs-string"><span class="hljs-string">"english"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String file2 = <span class="hljs-string"><span class="hljs-string">"transcription"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String file3 = <span class="hljs-string"><span class="hljs-string">"russian"</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">InitializationCollWords</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(coll_words != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; coll_words = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TreeMap&lt;String, TransRus&gt;(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ComparatorNotRegister()); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PutCollWords</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String english, String transcription, String russian)</span></span></span><span class="hljs-function"> </span></span>{ TransRus tr = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TransRus(); tr.getTranscription(transcription); tr.getRussian(russian); coll_words.put(english, tr); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ChangedWordEng</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String old_english, String new_english, String transcription, String russian)</span></span></span><span class="hljs-function"> </span></span>{ TransRus temp = coll_words.get(old_english); coll_words.remove(old_english); PutCollWords(new_english, transcription, russian); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DeleteWords</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String eng)</span></span></span><span class="hljs-function"> </span></span>{ coll_words.remove(eng); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WriteWords</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AppCompatActivity t)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>( BufferedWriter eng = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BufferedWriter(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OutputStreamWriter(t.openFileOutput(file1, t.MODE_PRIVATE))); BufferedWriter trans = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BufferedWriter(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OutputStreamWriter(t.openFileOutput(file2, t.MODE_PRIVATE))); BufferedWriter rus = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BufferedWriter(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OutputStreamWriter(t.openFileOutput(file3, t.MODE_PRIVATE)))) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(Map.Entry&lt;String, TransRus&gt; me : CollectionWords.AllWords()) { eng.write(me.getKey() + <span class="hljs-string"><span class="hljs-string">"\n"</span></span>); trans.write(me.getValue().setTranscription() + <span class="hljs-string"><span class="hljs-string">"\n"</span></span>); rus.write(me.getValue().setRussian() + <span class="hljs-string"><span class="hljs-string">"\n"</span></span>); } } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (FileNotFoundException e) { Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"WF: "</span></span> + e); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (IOException e) { Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"WIOE: "</span></span> + e); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span>(NullPointerException e) { Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"WN: "</span></span> + e); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (Exception e) { Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"WE: "</span></span> + e); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ReadWords</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AppCompatActivity t)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>( BufferedReader eng = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BufferedReader(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> InputStreamReader(t.openFileInput(file1))); BufferedReader trans = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BufferedReader(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> InputStreamReader(t.openFileInput(file2))); BufferedReader rus = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BufferedReader(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> InputStreamReader(t.openFileInput(file3)))) { String str_eng; String str_trans; String str_rus; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(((str_eng = eng.readLine()) != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) &amp;&amp; ((str_trans = trans.readLine()) != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) &amp;&amp; ((str_rus = rus.readLine()) != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>)) { CollectionWords.PutCollWords(str_eng, str_trans, str_rus); } Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"Hyi tam"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (FileNotFoundException e) { Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"RF: "</span></span> + e); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (IOException e) { Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"RIO: "</span></span> + e); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span>(NullPointerException e) { Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"RN: "</span></span> + e); } } <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Set&lt;Map.Entry&lt;String, TransRus&gt;&gt; AllWords() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> coll_words.entrySet(); } }</code> </pre><br>  This class is not difficult, as you can see, all words are stored in text files english, transcription and russian, for this you should use the database, but I did not bother much, because  everything works like that.  The functions of WriteWords, ReadWords serve to save words, it should be noted here that only in order for the function to work, it will need to pass the pointer this from the class that called it.  Immediately striking is the fact that all functions are static, this was done on purpose, so as not to duplicate the class many times, everything else is clear and comments will be superfluous.  Now that the additional shells are considered, we can describe the add function <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AddWord</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View view)</span></span></span><span class="hljs-function"> </span></span>{ CollectionWords.InitializationCollWords(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(english_language.getText().length() == <span class="hljs-number"><span class="hljs-number">0</span></span> || russian_language.getText().length() == <span class="hljs-number"><span class="hljs-number">0</span></span>) { Toast toast = Toast.makeText(getApplicationContext(), <span class="hljs-string"><span class="hljs-string">"  !"</span></span>, Toast.LENGTH_SHORT); toast.show(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(status != <span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; status == MainActivity.INT_CHG) { CollectionWords.ChangedWordEng(old_english, english_language.getText().toString(), transcription_language.getText().toString().length() == <span class="hljs-number"><span class="hljs-number">0</span></span> ? <span class="hljs-string"><span class="hljs-string">"-"</span></span> : transcription_language.getText().toString(), russian_language.getText().toString()); Back(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>); } CollectionWords.PutCollWords(english_language.getText().toString(), (transcription_language.getText().toString().length() == <span class="hljs-number"><span class="hljs-number">0</span></span> ? <span class="hljs-string"><span class="hljs-string">"-"</span></span> : transcription_language.getText().toString()), russian_language.getText().toString()); ClientAddWords caw = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ClientAddWords(); caw.ServerAddWords(<span class="hljs-string"><span class="hljs-string">"1(!!)"</span></span> + english_language.getText().toString() + <span class="hljs-string"><span class="hljs-string">"(!!)"</span></span> + (transcription_language.getText().toString().length() == <span class="hljs-number"><span class="hljs-number">0</span></span> ? <span class="hljs-string"><span class="hljs-string">"-"</span></span> : transcription_language.getText().toString()) + <span class="hljs-string"><span class="hljs-string">"(!!)"</span></span> + russian_language.getText().toString()); english_language.setText(<span class="hljs-string"><span class="hljs-string">""</span></span>); transcription_language.setText(<span class="hljs-string"><span class="hljs-string">""</span></span>); russian_language.setText(<span class="hljs-string"><span class="hljs-string">""</span></span>); }</code> </pre><br>  From the code snippet you can see that the required fields here are enlish_language and russian_language, if they are not filled in, then the word will not be added, the function will end and a message will pop up with a hint.  As I said earlier, to add and change words, one xml file is used, and accordingly the class too, therefore there is a second if statement that checks the status variable, storing the value of whether the function was entered into, for word changes. <br>  Of particular interest is the class ClientAddWords, which serves to send a word to the server.  Since  at the moment, Android Studio requires that everything connected to the network occur in a separate thread, I decided to create a class that is responsible for this.  The program has another one that returns words from the server. <br><br>  As can be seen from the code, the ClientAddWords object is first created, then the object calls the function, it is passed a string separated by the ‚Äú(!!)‚Äù symbol, this symbol separates the opcode intended for the server, in this case it is ‚Äú1‚Äù, and the English word , transcription and translation, it serves to ensure that the server can properly separate data from each other, as you have already guessed, this line is transmitted to the server. <br><br>  Creating a class to work with the network is very convenient, because the client‚Äôs connection to the server goes at the very moment when the ServerAddWords function is called, and after the transfer, the client disconnects from the server application, so there is no additional server load.  Below is the ClientAddWords class. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ClientAddWords</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Thread</span></span></span><span class="hljs-class"> </span></span>{ String str_user; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ServerAddWords</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String str)</span></span></span><span class="hljs-function"> </span></span>{ str_user = str; start(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">run</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"Run Client"</span></span>); InetAddress addr = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { addr = InetAddress.getByName(<span class="hljs-string"><span class="hljs-string">"192.168.1.208"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (UnknownHostException e) { Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"ServerAddWords ClientAddWords: "</span></span> + e); } Client c; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { c = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Client(addr); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (IOException e) { Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"Socket failed: "</span></span> + e); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } c.Out(str_user); c.Close(); } }</code> </pre><br>  As you can see, in this implementation of the code, there is nothing complicated and it does not require additional explanations, the code of the Client class is presented below. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Client</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Thread</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Socket socket; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> BufferedReader in; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> PrintWriter out; InetAddress addr; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">In</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IOException </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> in.readLine(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Out</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String str)</span></span></span><span class="hljs-function"> </span></span>{ out.println(str); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Client</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(InetAddress addr)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IOException </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.addr = addr; Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"Making client"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { socket = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Socket(addr, <span class="hljs-number"><span class="hljs-number">8080</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (IOException e) { Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"Socket failed: "</span></span> + e); <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> e; } <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { in = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BufferedReader(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> InputStreamReader(socket.getInputStream())); out = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PrintWriter(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BufferedWriter(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OutputStreamWriter(socket.getOutputStream())), <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (Exception e) { Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"In/Out: "</span></span> + e); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { socket.close(); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (IOException e2) { Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"Client: Socket not closed"</span></span>); } } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Close</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { socket.close(); in.close(); out.close(); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (IOException e) { Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"Close Client: "</span></span> + e); } } }</code> </pre><br>  There are also no interesting points here, this sample code can be found on any site dedicated to network programming. <br><br>  Now we will look at the class responsible for changing and deleting words, as I have said more than once, they use one xml file, and the most interesting thing in its implementation is filling in layouts with aa buttons. <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ScrollView</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"match_parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"match_parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:background</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@color/background_find"</span></span></span><span class="hljs-tag"> &gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LinearLayout</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/ll_find"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"match_parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"match_parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:orientation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"vertical"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">LinearLayout</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ScrollView</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  In the xml file itself, only this piece of code is of interest, here you can see that the layout is set to id - ll_find, this is necessary in order to create the buttons programmatically. <br><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyButton</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Button</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String str_eng; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String str_trans; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String str_rus; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> index; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MyButton</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Context context)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(context); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setEnglish</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String eng)</span></span></span><span class="hljs-function"> </span></span>{ str_eng = eng; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setTranscription</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String trans)</span></span></span><span class="hljs-function"> </span></span>{ str_trans = trans; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setRussian</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String rus)</span></span></span><span class="hljs-function"> </span></span>{ str_rus = rus; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setIndex</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> id)</span></span></span><span class="hljs-function"> </span></span>{ index = id; } <span class="hljs-function"><span class="hljs-function">String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getEnglish</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> str_eng; } <span class="hljs-function"><span class="hljs-function">String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getTranscription</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> str_trans; } <span class="hljs-function"><span class="hljs-function">String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getRussian</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> str_rus; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getIndex</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> index; } }</code> </pre><br>  I will immediately note this class, as it is not difficult to guess it is intended only for storing card values, namely, English words, its transcription and translation. <br><br>  The first function to be described is CreateButton, the code is presented below. <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> MyButton </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CreateButton</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> i, String eng, String trans, String rus)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> MyButton btnNew = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyButton(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); btnNew.setBackgroundResource(R.drawable.background_button); btnNew.setText(eng + <span class="hljs-string"><span class="hljs-string">" - "</span></span> + rus); btnNew.setEnglish(eng); btnNew.setTranscription(trans); btnNew.setRussian(rus); btnNew.setIndex(i); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(status == MainActivity.INT_DEL) { btnNew.setCompoundDrawablesWithIntrinsicBounds(R.drawable.icon_delete_button, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); btnNew.setOnClickListener(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> View.OnClickListener() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View v)</span></span></span><span class="hljs-function"> </span></span>{ AlertDialog.Builder ad; Find context; context = Find.<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; String title = <span class="hljs-string"><span class="hljs-string">" "</span></span>; String message = <span class="hljs-string"><span class="hljs-string">" ?"</span></span>; String button1String = <span class="hljs-string"><span class="hljs-string">""</span></span>; String button2String = <span class="hljs-string"><span class="hljs-string">""</span></span>; ad = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AlertDialog.Builder((Context) context); ad.setTitle(title); ad.setMessage(message); ad.setPositiveButton(button1String, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DialogInterface.OnClickListener() { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(DialogInterface dialog, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> arg1)</span></span></span><span class="hljs-function"> </span></span>{ CollectionWords.DeleteWords(btnNew.getEnglish()); ll_layout.removeView(btnNew); } }); ad.setNegativeButton(button2String, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DialogInterface.OnClickListener() { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(DialogInterface dialog, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> arg1)</span></span></span><span class="hljs-function"> </span></span>{ } }); ad.show(); } }); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { btnNew.setCompoundDrawablesWithIntrinsicBounds(R.drawable.icon_changed_button, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); btnNew.setOnClickListener(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> View.OnClickListener() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View v)</span></span></span><span class="hljs-function"> </span></span>{ Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"Changed Words"</span></span>); ChangedWord((MyButton) v); ll_layout.removeView((MyButton) v); } }); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> btnNew; }</code> </pre><br>  There are a couple of interesting points here, namely changing the background of the button, then, depending on what purpose this class is visited for, creating the icon for the button, the setCompoundDrawablesWithIntrinsicBounds function and the implementation of the setOnClickListener event are responsible for this, or a dialog box is created and the word btnNew is deleted, or the ChangedWord function is called, which opens an activation intended for changing the word. <br><br>  The next function that needs to be told is ShowViewWords, its purpose is to add buttons to the layout. <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ShowViewWords</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(LinearLayout.LayoutParams lParams, String sub_str)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; String first_chr = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String(<span class="hljs-string"><span class="hljs-string">""</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(Map.Entry&lt;String, TransRus&gt; me : CollectionWords.AllWords()) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(sub_str.length() != <span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; (me.getKey().toLowerCase().indexOf(sub_str.toLowerCase()) == -<span class="hljs-number"><span class="hljs-number">1</span></span> &amp;&amp; me.getValue().setRussian().toLowerCase().indexOf(sub_str.toLowerCase()) == -<span class="hljs-number"><span class="hljs-number">1</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!first_chr.equals(String.valueOf(me.getKey().toUpperCase().charAt(<span class="hljs-number"><span class="hljs-number">0</span></span>)))) { first_chr = String.valueOf(me.getKey().toUpperCase().charAt(<span class="hljs-number"><span class="hljs-number">0</span></span>)); TextView temp = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TextView(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); temp.setText(first_chr + <span class="hljs-string"><span class="hljs-string">":"</span></span>); temp.setTextSize(<span class="hljs-number"><span class="hljs-number">25f</span></span>); ll_layout.addView(temp, i, lParams); i++; } ll_layout.addView(CreateButton(i, me.getKey(), me.getValue().setTranscription(), me.getValue().setRussian()), i, lParams); i++; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(i == <span class="hljs-number"><span class="hljs-number">0</span></span>) { LinearLayout.LayoutParams l = CreateParams(LinearLayout.LayoutParams.WRAP_CONTENT, LinearLayout.LayoutParams.WRAP_CONTENT, Gravity.CENTER_VERTICAL); TextView not_found = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TextView(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); not_found.setText(<span class="hljs-string"><span class="hljs-string">"  "</span></span>); ll_layout.addView(not_found, l); } }</code> </pre><br>  It also creates and adds a TextView, which stores the meaning of the first letter of a word that is different from the first letter of the next word.  I tried to explain as best as possible, but just in case I will give an example as an example. <br><br><img width="300" height="500" src="http://s8.hostingkartinok.com/uploads/images/2016/06/810c6ad42db494f048c9dd1170061e5e.png" alt="image"><br><br>  This piece of code is responsible for this. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!first_chr.equals(String.valueOf(me.getKey().toUpperCase().charAt(<span class="hljs-number"><span class="hljs-number">0</span></span>)))) { first_chr = String.valueOf(me.getKey().toUpperCase().charAt(<span class="hljs-number"><span class="hljs-number">0</span></span>)); TextView temp = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TextView(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); temp.setText(first_chr + <span class="hljs-string"><span class="hljs-string">":"</span></span>); temp.setTextSize(<span class="hljs-number"><span class="hljs-number">25f</span></span>); ll_layout.addView(temp, i, lParams); i++; }</code> </pre><br>  Initially, the variable first_chr is assigned an empty string, so if the loop passes the first time, then the value will be entered into it. <br><br>  This string is responsible for the loop condition. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(Map.Entry&lt;String, TransRus&gt; me : CollectionWords.AllWords())</code> </pre><br>  I will tell you about the purpose of the first if statement, since this refers to the search, and I‚Äôll tell you about the search last. <br><br><pre> <code class="java hljs"> ll_layout.addView(CreateButton(i, me.getKey(), me.getValue().setTranscription(), me.getValue().setRussian()), i, lParams);</code> </pre><br>  And for adding to ll_layout, this construct is responsible, here the CreateButton function is called, which was discussed above and returns the value of MyButton, then the index and parameters of this button are added. <br><br>  The ShowViewWords function is called from the CreatesButton function, and the CreatesButton function is already called from onCreate.  The CreatesButton code is shown below. <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CreatesButton</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String str_find)</span></span></span><span class="hljs-function"> </span></span>{ ll_layout.removeAllViews(); LinearLayout.LayoutParams lParams = CreateParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT, Gravity.LEFT); lParams.topMargin = <span class="hljs-number"><span class="hljs-number">1</span></span>; ShowViewWords(lParams, str_find); }</code> </pre><br>  CreateParams function code: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> LinearLayout.<span class="hljs-function"><span class="hljs-function">LayoutParams </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CreateParams</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> width, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> height, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> gravity)</span></span></span><span class="hljs-function"> </span></span>{ LinearLayout.LayoutParams lParams = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> LinearLayout.LayoutParams(width, height); lParams.gravity = gravity; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> lParams; }</code> </pre><br>  At this stage of the program description, I approached the implementation of the TestWords class, which is responsible for testing the words.  As usual, there is nothing complicated in it, but there are a couple of points that should be considered.  The very first one is the choice of the test by the user, no matter how hard it is to guess there may be nine test options, namely the given word order (in alphabetical, in reverse and random) and the object of testing (English, transcription, Russian).  So the very first is the StatusTest function.  It determines by code which of the Edits should be blocked, and initializes the variable with the index under which the word stands. <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">StatusTest</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (status) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MainActivity.INT_ALPH_ENG: edit_transcription.setRawInputType(<span class="hljs-number"><span class="hljs-number">0x00000000</span></span>); edit_russian.setRawInputType(<span class="hljs-number"><span class="hljs-number">0x00000000</span></span>); next_words = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MainActivity.INT_ALPH_TRANS: edit_english.setRawInputType(<span class="hljs-number"><span class="hljs-number">0x00000000</span></span>); edit_russian.setRawInputType(<span class="hljs-number"><span class="hljs-number">0x00000000</span></span>); next_words = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MainActivity.INT_ALPH_RUS: edit_english.setRawInputType(<span class="hljs-number"><span class="hljs-number">0x00000000</span></span>); edit_transcription.setRawInputType(<span class="hljs-number"><span class="hljs-number">0x00000000</span></span>); next_words = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MainActivity.INT_REVS_ENG: edit_transcription.setRawInputType(<span class="hljs-number"><span class="hljs-number">0x00000000</span></span>); edit_russian.setRawInputType(<span class="hljs-number"><span class="hljs-number">0x00000000</span></span>); next_words = CollectionWords.coll_words.size() - <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MainActivity.INT_REVS_TRANS: edit_english.setRawInputType(<span class="hljs-number"><span class="hljs-number">0x00000000</span></span>); edit_russian.setRawInputType(<span class="hljs-number"><span class="hljs-number">0x00000000</span></span>); next_words = CollectionWords.coll_words.size() - <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MainActivity.INT_REVS_RUS: edit_english.setRawInputType(<span class="hljs-number"><span class="hljs-number">0x00000000</span></span>); edit_transcription.setRawInputType(<span class="hljs-number"><span class="hljs-number">0x00000000</span></span>); next_words = CollectionWords.coll_words.size() - <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MainActivity.INT_RAND_ENG: rand_next_words = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Random(); next_words = MethodRandomWords(); edit_transcription.setRawInputType(<span class="hljs-number"><span class="hljs-number">0x00000000</span></span>); edit_russian.setRawInputType(<span class="hljs-number"><span class="hljs-number">0x00000000</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MainActivity.INT_RAND_TRANS: rand_next_words = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Random(); next_words = MethodRandomWords(); edit_english.setRawInputType(<span class="hljs-number"><span class="hljs-number">0x00000000</span></span>); edit_russian.setRawInputType(<span class="hljs-number"><span class="hljs-number">0x00000000</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MainActivity.INT_RAND_RUS: rand_next_words = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Random(); next_words = MethodRandomWords(); edit_english.setRawInputType(<span class="hljs-number"><span class="hljs-number">0x00000000</span></span>); edit_transcription.setRawInputType(<span class="hljs-number"><span class="hljs-number">0x00000000</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } }</code> </pre><br>  In the case of alphabetical order, the variable next_words is set to 0, the reverse order is the size of the class TreeMap minus 1 and random order, a special function that returns a random value to next_words. <br><br>  The MethodRandomWords function serves not to return the same random value several times. <br><br>  After initializing all Edit'ov and calling the StatusTest function, the ReadWord method is executed. <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ReadWord</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ last_words++; amount_words.setText(last_words + <span class="hljs-string"><span class="hljs-string">"/"</span></span> + CollectionWords.coll_words.size()); <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (status) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MainActivity.INT_ALPH_ENG: nw = VecNextWord(next_words); edit_english.setText(<span class="hljs-string"><span class="hljs-string">""</span></span>); edit_transcription.setText(nw.getValue().setTranscription()); edit_russian.setText(nw.getValue().setRussian()); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MainActivity.INT_ALPH_TRANS: nw = VecNextWord(next_words); edit_transcription.setText(<span class="hljs-string"><span class="hljs-string">""</span></span>); edit_english.setText(nw.getKey()); edit_russian.setText(nw.getValue().setRussian()); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MainActivity.INT_ALPH_RUS: nw = VecNextWord(next_words); edit_russian.setText(<span class="hljs-string"><span class="hljs-string">""</span></span>); edit_english.setText(nw.getKey()); edit_transcription.setText(nw.getValue().setTranscription()); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MainActivity.INT_REVS_ENG: nw = VecNextWord(next_words); edit_english.setText(<span class="hljs-string"><span class="hljs-string">""</span></span>); edit_transcription.setText(nw.getValue().setTranscription()); edit_russian.setText(nw.getValue().setRussian()); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MainActivity.INT_REVS_TRANS: nw = VecNextWord(next_words); edit_transcription.setText(<span class="hljs-string"><span class="hljs-string">""</span></span>); edit_english.setText(nw.getKey()); edit_russian.setText(nw.getValue().setRussian()); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MainActivity.INT_REVS_RUS: nw = VecNextWord(next_words); edit_russian.setText(<span class="hljs-string"><span class="hljs-string">""</span></span>); edit_english.setText(nw.getKey()); edit_transcription.setText(nw.getValue().setTranscription()); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MainActivity.INT_RAND_ENG: nw = VecNextWord(next_words); edit_english.setText(<span class="hljs-string"><span class="hljs-string">""</span></span>); edit_transcription.setText(nw.getValue().setTranscription()); edit_russian.setText(nw.getValue().setRussian()); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MainActivity.INT_RAND_TRANS: nw = VecNextWord(next_words); edit_transcription.setText(<span class="hljs-string"><span class="hljs-string">""</span></span>); edit_english.setText(nw.getKey()); edit_russian.setText(nw.getValue().setRussian()); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MainActivity.INT_RAND_RUS: nw = VecNextWord(next_words); edit_russian.setText(<span class="hljs-string"><span class="hljs-string">""</span></span>); edit_english.setText(nw.getKey()); edit_transcription.setText(nw.getValue().setTranscription()); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } status_true_word.setText(<span class="hljs-string"><span class="hljs-string">":-"</span></span>); }</code> </pre><br>  The purpose of this method is to load the first word, the VecNextWord function is responsible for this, the parameter of which is the index and the return value is Map.Entry &lt;String, TransRus&gt;, and also specify the number of words and reset the status. <br><br>  The next role is played by only two functions, Check - checks the correctness of the entered word and, if necessary, changes the Status, NextWord - returns the next word in the list, depending on the selected order.  The feature code is shown below. <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Check</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View view)</span></span></span><span class="hljs-function"> </span></span>{ check_bool = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"Status: "</span></span> + status); <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (status) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MainActivity.INT_ALPH_ENG: Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"Check()"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(edit_english.getText().toString().equals(nw.getKey())) { Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"True"</span></span>); status_true_word.setText(<span class="hljs-string"><span class="hljs-string">": "</span></span>); Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"next_words: "</span></span> + next_words); nw.getValue().getError(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"False"</span></span>); status_true_word.setText(<span class="hljs-string"><span class="hljs-string">":  "</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MainActivity.INT_ALPH_TRANS: Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"Check()"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(edit_transcription.getText().toString().equals(nw.getValue().setTranscription())) { status_true_word.setText(<span class="hljs-string"><span class="hljs-string">": "</span></span>); Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"next_words: "</span></span> + next_words); nw.getValue().getError(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { status_true_word.setText(<span class="hljs-string"><span class="hljs-string">":  "</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MainActivity.INT_ALPH_RUS: Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"Check()"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(edit_russian.getText().toString().equals(nw.getValue().setRussian())) { status_true_word.setText(<span class="hljs-string"><span class="hljs-string">": "</span></span>); Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"next_words: "</span></span> + next_words); nw.getValue().getError(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { status_true_word.setText(<span class="hljs-string"><span class="hljs-string">":  "</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MainActivity.INT_REVS_ENG: Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"Check()"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(edit_english.getText().toString().equals(nw.getKey())) { status_true_word.setText(<span class="hljs-string"><span class="hljs-string">": "</span></span>); Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"next_words: "</span></span> + next_words); nw.getValue().getError(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { status_true_word.setText(<span class="hljs-string"><span class="hljs-string">":  "</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MainActivity.INT_REVS_TRANS: Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"Check()"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(edit_transcription.getText().toString().equals(nw.getValue().setTranscription())) { status_true_word.setText(<span class="hljs-string"><span class="hljs-string">": "</span></span>); Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"next_words: "</span></span> + next_words); nw.getValue().getError(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { status_true_word.setText(<span class="hljs-string"><span class="hljs-string">":  "</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MainActivity.INT_REVS_RUS: Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"Check()"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(edit_russian.getText().toString().equals(nw.getValue().setRussian())) { status_true_word.setText(<span class="hljs-string"><span class="hljs-string">": "</span></span>); Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"next_words: "</span></span> + next_words); nw.getValue().getError(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { status_true_word.setText(<span class="hljs-string"><span class="hljs-string">":  "</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MainActivity.INT_RAND_ENG: Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"Check()"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(edit_english.getText().toString().equals(nw.getKey())) { status_true_word.setText(<span class="hljs-string"><span class="hljs-string">": "</span></span>); Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"next_words: "</span></span> + next_words); nw.getValue().getError(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { status_true_word.setText(<span class="hljs-string"><span class="hljs-string">":  "</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MainActivity.INT_RAND_TRANS: Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"Check()"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(edit_transcription.getText().toString().equals(nw.getValue().setTranscription())) { status_true_word.setText(<span class="hljs-string"><span class="hljs-string">": "</span></span>); Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"next_words: "</span></span> + next_words); nw.getValue().getError(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { status_true_word.setText(<span class="hljs-string"><span class="hljs-string">":  "</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MainActivity.INT_RAND_RUS: Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"Check()"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(edit_russian.getText().toString().equals(nw.getValue().setRussian())) { status_true_word.setText(<span class="hljs-string"><span class="hljs-string">": "</span></span>); Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"next_words: "</span></span> + next_words); nw.getValue().getError(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { status_true_word.setText(<span class="hljs-string"><span class="hljs-string">":  "</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">NextWord</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View view)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> InterruptedException </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(last_words &gt;= CollectionWords.coll_words.size()) { ResultTestGo(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!check_bool &amp;&amp; last_words != <span class="hljs-number"><span class="hljs-number">0</span></span>) Check(view); AddWordInTable(nw.getValue().setError()); last_words++; amount_words.setText(last_words + <span class="hljs-string"><span class="hljs-string">"/"</span></span> + CollectionWords.coll_words.size()); <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (status) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MainActivity.INT_ALPH_ENG: next_words++; nw = VecNextWord(next_words); edit_english.setText(<span class="hljs-string"><span class="hljs-string">""</span></span>); edit_transcription.setText(nw.getValue().setTranscription()); edit_russian.setText(nw.getValue().setRussian()); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MainActivity.INT_ALPH_TRANS: next_words++; nw = VecNextWord(next_words); edit_transcription.setText(<span class="hljs-string"><span class="hljs-string">""</span></span>); edit_english.setText(nw.getKey()); edit_russian.setText(nw.getValue().setRussian()); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MainActivity.INT_ALPH_RUS: next_words++; nw = VecNextWord(next_words); edit_russian.setText(<span class="hljs-string"><span class="hljs-string">""</span></span>); edit_english.setText(nw.getKey()); edit_transcription.setText(nw.getValue().setTranscription()); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MainActivity.INT_REVS_ENG: next_words--; nw = VecNextWord(next_words); edit_english.setText(<span class="hljs-string"><span class="hljs-string">""</span></span>); edit_transcription.setText(nw.getValue().setTranscription()); edit_russian.setText(nw.getValue().setRussian()); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MainActivity.INT_REVS_TRANS: next_words--; nw = VecNextWord(next_words); edit_transcription.setText(<span class="hljs-string"><span class="hljs-string">""</span></span>); edit_english.setText(nw.getKey()); edit_russian.setText(nw.getValue().setRussian()); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MainActivity.INT_REVS_RUS: next_words--; nw = VecNextWord(next_words); edit_russian.setText(<span class="hljs-string"><span class="hljs-string">""</span></span>); edit_english.setText(nw.getKey()); edit_transcription.setText(nw.getValue().setTranscription()); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MainActivity.INT_RAND_ENG: next_words = MethodRandomWords(); nw = VecNextWord(next_words); edit_english.setText(<span class="hljs-string"><span class="hljs-string">""</span></span>); edit_transcription.setText(nw.getValue().setTranscription()); edit_russian.setText(nw.getValue().setRussian()); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MainActivity.INT_RAND_TRANS: next_words = MethodRandomWords(); nw = VecNextWord(next_words); edit_transcription.setText(<span class="hljs-string"><span class="hljs-string">""</span></span>); edit_english.setText(nw.getKey()); edit_russian.setText(nw.getValue().setRussian()); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MainActivity.INT_RAND_RUS: next_words = MethodRandomWords(); nw = VecNextWord(next_words); edit_russian.setText(<span class="hljs-string"><span class="hljs-string">""</span></span>); edit_english.setText(nw.getKey()); edit_transcription.setText(nw.getValue().setTranscription()); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } status_true_word.setText(<span class="hljs-string"><span class="hljs-string">":-"</span></span>); check_bool = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; }</code> </pre><br>   ,   -       ,     .      ,     ,  Html-,    .   ,   ,     ,    AddWordInTable(nw.getValue().setError()),    . <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AddWordInTable</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">boolean</span></span></span></span><span class="hljs-function"><span class="hljs-params"> temp)</span></span></span><span class="hljs-function"> </span></span>{ table_result += <span class="hljs-string"><span class="hljs-string">"&lt;tr&gt;&lt;td "</span></span> + (temp ? <span class="hljs-string"><span class="hljs-string">"bgcolor=\"#008000\""</span></span> : <span class="hljs-string"><span class="hljs-string">"bgcolor=\"#FF0000\""</span></span>) + <span class="hljs-string"><span class="hljs-string">"&gt;"</span></span> + nw.getKey() + <span class="hljs-string"><span class="hljs-string">"&lt;/td&gt;&lt;td "</span></span> + (temp ? <span class="hljs-string"><span class="hljs-string">"bgcolor=\"#008000\""</span></span> : <span class="hljs-string"><span class="hljs-string">"bgcolor=\"#FF0000\""</span></span>) + <span class="hljs-string"><span class="hljs-string">"&gt;"</span></span> + nw.getValue().setTranscription() + <span class="hljs-string"><span class="hljs-string">"&lt;/td&gt;&lt;td "</span></span> + (temp ? <span class="hljs-string"><span class="hljs-string">"bgcolor=\"#008000\""</span></span> : <span class="hljs-string"><span class="hljs-string">"bgcolor=\"#FF0000\""</span></span>) + <span class="hljs-string"><span class="hljs-string">"&gt;"</span></span> + nw.getValue().setRussian() + <span class="hljs-string"><span class="hljs-string">"&lt;/td&gt;&lt;td "</span></span> + (temp ? <span class="hljs-string"><span class="hljs-string">"bgcolor=\"#008000\""</span></span> : <span class="hljs-string"><span class="hljs-string">"bgcolor=\"#FF0000\""</span></span>) + <span class="hljs-string"><span class="hljs-string">"&gt;"</span></span> + (temp ? <span class="hljs-string"><span class="hljs-string">""</span></span> : <span class="hljs-string"><span class="hljs-string">" "</span></span>) + <span class="hljs-string"><span class="hljs-string">"&lt;/td&gt;&lt;/tr&gt;\n"</span></span>; }</code> </pre><br>      onCreat,      ResultTest,     . <br>           ,  ,   ,      ResultTest,   ,     ,   ,    Html-    loadDataWithBaseURL(null, TestWords.table_result, ¬´text/html¬ª, ¬´UTF-8¬ª, null),    WebView. <br><br>       ,       .      Load,      18 , ..    RecyclerView,      -         ,   ,      .    ,   ,    Load,     . <br><br>    ,      ,     ,    .      xml-  CheckBox'  TextView',  .  TextView     ,      .     ,   ,     ,  ,         . <br><br>    ,           RecyclerView,         , ..        ,    . <br><br>     , onCreateViewHolder, onBindViewHolder, getItemCount,    ViewHolder. GetItemCount    , ..    .      ViewHolder. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ViewHolder</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RecyclerView</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ViewHolder</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> CheckBox chkbox; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> TextView tv_alph; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ViewHolder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View v)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(v); chkbox = (CheckBox) v.findViewById(R.id.rv_chkbox); tv_alph = (TextView) v.findViewById(R.id.tv_alph); } }</code> </pre><br>         .    onCreateViewHolder,      ViewHolder. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> RecyclerLoad.<span class="hljs-function"><span class="hljs-function">ViewHolder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreateViewHolder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ViewGroup parent, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> viewType)</span></span></span><span class="hljs-function"> </span></span>{ View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.content_checkbox, parent, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); ViewHolder vh = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ViewHolder(v); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> vh; }</code> </pre><br>    onBindViewHolder. <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onBindViewHolder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> ViewHolder holder, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> position)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(index_alph[position]) { holder.tv_alph.setText(Alph[position]); holder.tv_alph.setVisibility(View.VISIBLE); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> holder.tv_alph.setVisibility(View.GONE); holder.chkbox.setText(Eng_Array[position] + <span class="hljs-string"><span class="hljs-string">" - ["</span></span> + Trans_Array[position] + <span class="hljs-string"><span class="hljs-string">"] - "</span></span> + Rus_Array[position]); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(this_load.menu_load_1 != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) this_load.menu_load_1.setTitle(<span class="hljs-string"><span class="hljs-string">"   ("</span></span> + Integer.toString(amount) + <span class="hljs-string"><span class="hljs-string">")"</span></span>); holder.chkbox.setOnCheckedChangeListener(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>); holder.chkbox.setChecked(checked_box[position]); holder.chkbox.setOnCheckedChangeListener(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CompoundButton.OnCheckedChangeListener() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCheckedChanged</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(CompoundButton buttonView, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">boolean</span></span></span></span><span class="hljs-function"><span class="hljs-params"> isChecked)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(isChecked) checked_words_load++; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> checked_words_load--; checked_box[position] = isChecked; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(this_load.menu_load_2 != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) this_load.menu_load_2.setTitle(<span class="hljs-string"><span class="hljs-string">".   ("</span></span> + Integer.toString(checked_words_load) + <span class="hljs-string"><span class="hljs-string">")"</span></span>); } }); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (position &gt;= amount - <span class="hljs-number"><span class="hljs-number">1</span></span>) { Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"!!!"</span></span>); LoadWords(sub_str); onBind = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } }</code> </pre><br>     ,  ‚Äî  holder  ,  ‚Äî      CheckBox'   setOnCheckedChangeListener  setChecked,    CheckBox'   onCheckedChanged,         ¬´¬ª   ‚Äî   if    ,           LoadWords. <br><br>       sub_str,      .   String,       Edit' ¬´: ¬ª.  Since     ,            Edit'e,   . <br><br><pre> <code class="java hljs">find_words.addTextChangedListener(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TextWatcher() { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">afterTextChanged</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Editable s)</span></span></span><span class="hljs-function"> </span></span>{ } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">beforeTextChanged</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(CharSequence s, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> start, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> count, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> after)</span></span></span><span class="hljs-function"> </span></span>{ } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onTextChanged</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(CharSequence s, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> start, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> before, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> count)</span></span></span><span class="hljs-function"> </span></span>{ FindWord(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>); } }); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FindWord</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View view)</span></span></span><span class="hljs-function"> </span></span>{ mAdapter.Find(find_words.getText().toString()); mAdapter.notifyDataSetChanged(); }</code> </pre><br>   ,       FindWord,     Find,  RecyclerLoad,     ,     ,     . <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Find</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String sub_str)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.sub_str = sub_str; amount = <span class="hljs-number"><span class="hljs-number">0</span></span>; Eng_Array = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; Trans_Array = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; Rus_Array = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; checked_box = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; index_alph = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; Alph = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; LoadWords(sub_str); }</code> </pre><br>   LoadWords,    RecyclerLoad , ..    . <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">LoadWords</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String sub_str)</span></span></span><span class="hljs-function"> </span></span>{ ClientLoadWords clw = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ClientLoadWords(); clw.LoadWords(<span class="hljs-string"><span class="hljs-string">"2(!!)"</span></span> + (sub_str.length() != <span class="hljs-number"><span class="hljs-number">0</span></span> ? sub_str : <span class="hljs-string"><span class="hljs-string">"(--)"</span></span>), amount); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { clw.join(); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (InterruptedException e) { Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"ShowViewWords: "</span></span> + e); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(clw.int_error == -<span class="hljs-number"><span class="hljs-number">1</span></span>) { Toast toast = Toast.makeText(this_load.getApplicationContext(), <span class="hljs-string"><span class="hljs-string">"   !"</span></span>, Toast.LENGTH_SHORT); toast.show(); } amount += clw.amount; Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"amount = "</span></span> + amount); String [] temp_Eng_Array = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String[amount]; String [] temp_Trans_Array = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String[amount]; String [] temp_Rus_Array = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String[amount]; String [] temp_Alph = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String[amount]; <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> [] temp_checked_box = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span>[amount]; <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> [] temp_index_alph = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span>[amount]; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> temp_amount = Eng_Array != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> ? Eng_Array.length : <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(Eng_Array != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; Eng_Array.length; i++) { temp_Eng_Array[i] = Eng_Array[i]; temp_Trans_Array[i] = Trans_Array[i]; temp_Rus_Array[i] = Rus_Array[i]; temp_Alph[i] = Alph[i]; temp_checked_box[i] = checked_box[i]; temp_index_alph[i] = index_alph[i]; } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; clw.amount; i++) { temp_Eng_Array[i + temp_amount] = clw.Eng_Array[i]; temp_Trans_Array[i + temp_amount] = clw.Trans_Array[i]; temp_Rus_Array[i + temp_amount] = clw.Rus_Array[i]; temp_checked_box[i + temp_amount] = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; temp_index_alph[i + temp_amount] = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; temp_Alph[i + temp_amount] = <span class="hljs-string"><span class="hljs-string">""</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!first_chr.equals(String.valueOf(clw.Eng_Array[i].toUpperCase().charAt(<span class="hljs-number"><span class="hljs-number">0</span></span>)))) { Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"First Chr: "</span></span> + first_chr + <span class="hljs-string"><span class="hljs-string">", me.getKey(): "</span></span> + clw.Eng_Array[i].toUpperCase().charAt(<span class="hljs-number"><span class="hljs-number">0</span></span>) + <span class="hljs-string"><span class="hljs-string">" boolean: "</span></span> + first_chr.equals(String.valueOf(clw.Eng_Array[i].toUpperCase().charAt(<span class="hljs-number"><span class="hljs-number">0</span></span>)))); first_chr = String.valueOf(clw.Eng_Array[i].toUpperCase().charAt(<span class="hljs-number"><span class="hljs-number">0</span></span>)); temp_Alph[i + temp_amount] = first_chr + <span class="hljs-string"><span class="hljs-string">":"</span></span>; temp_index_alph[i + temp_amount] = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; temp_Eng_Array.length; i++) { Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"temp_Alph: "</span></span> + temp_Alph[i] + <span class="hljs-string"><span class="hljs-string">", temp_index_alph = "</span></span> + temp_index_alph[i] + <span class="hljs-string"><span class="hljs-string">", i = "</span></span> + i); } Eng_Array = temp_Eng_Array; Trans_Array = temp_Trans_Array; Rus_Array = temp_Rus_Array; checked_box = temp_checked_box; index_alph = temp_index_alph; Alph = temp_Alph; }</code> </pre><br>  LoadWords  ,       . -  ClientLoadWords ‚Äî    ClientAddWords,      ,   .           .    LoadWords,     ,   ,            .   LoadWords  . <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">run</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ InetAddress addr = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { addr = InetAddress.getByName(<span class="hljs-string"><span class="hljs-string">"192.168.1.137"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (UnknownHostException e) { Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"ClientLoadWords LoadWords 1: "</span></span> + e); } Client c; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { c = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Client(addr); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (IOException e) { Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"Socket failed: "</span></span> + e); int_error = -<span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } c.Out(str_user); c.Out(Integer.toString(begin)); amount = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { amount = Integer.parseInt(c.In()); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (IOException e) { Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"LoadWords ClientLoadWords 3: "</span></span> + e); } Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"Amount: "</span></span> + amount); Id_Array = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[amount]; Eng_Array = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String[amount]; Trans_Array = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String[amount]; Rus_Array = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String[amount]; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; amount; i++) { Id_Array[i] = Integer.parseInt(c.In()); Eng_Array[i] = c.In(); Trans_Array[i] = c.In(); Rus_Array[i] = c.In(); } } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (IOException e) { Log.d(<span class="hljs-string"><span class="hljs-string">"MyLog"</span></span>, <span class="hljs-string"><span class="hljs-string">"LoadWords ClientLoadWords 4: "</span></span> + e); } Sort(); }</code> </pre><br>     ,   .  ,      ,         for,   ,  ,      . <br><br>     LoadWords.  clw.join()      ClientLoadWords,       .     clw     -1,        . ,        ,       ,            TextView'    index_alph,   TextView . <br><br>  ,       , ..   ,    ,  ,  ,    . .,  ,   ¬´ ¬ª,   ,              ,      Html-,   ,      . <br><br><h3>   </h3><br>  ,  ,    MySQL       TCP,     ,     .  /    ServerOneJabber.    Thread.        , ..    . <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ServerOneJabber</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Socket s)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IOException, SQLException </span></span>{ socket = s; in = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BufferedReader(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> InputStreamReader(socket.getInputStream())); out = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PrintWriter(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BufferedWriter(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OutputStreamWriter(socket.getOutputStream())), <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); sqldb = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SqlDB(); start(); }</code> </pre><br>     ,       sqldb,      ,  ,       .  in  out     In  Out,    . <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">run</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ String message_user = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String(<span class="hljs-string"><span class="hljs-string">""</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { message_user = Out(); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span>(IOException e) { System.out.println(e); } System.out.println(<span class="hljs-string"><span class="hljs-string">"message_user: "</span></span> + message_user); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span>(message_user.charAt(<span class="hljs-number"><span class="hljs-number">0</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'1'</span></span>: AddWord(message_user); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'2'</span></span>: TransferWord(message_user); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span>(SQLException e) { System.out.println(e); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span>(IOException e) { System.out.println(e); } }</code> </pre><br>   run          .    . <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AddWord</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String str)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> SQLException </span></span>{ String[] str_user = Split(str, <span class="hljs-string"><span class="hljs-string">"(!!)"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; str_user.length; i++) System.out.println(<span class="hljs-string"><span class="hljs-string">"str_user: "</span></span> + str_user[i]); sqldb.AddWord(str_user[<span class="hljs-number"><span class="hljs-number">1</span></span>], str_user[<span class="hljs-number"><span class="hljs-number">2</span></span>], str_user[<span class="hljs-number"><span class="hljs-number">3</span></span>]); }</code> </pre><br>   AddWord  .  sqldb           AddWord.  Split         ,   ,     split  String   ,      . <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TransferWord</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String str)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> SQLException, IOException </span></span>{ String [] user_str = Split(str, <span class="hljs-string"><span class="hljs-string">"(!!)"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; user_str.length; i++) { System.out.println(<span class="hljs-string"><span class="hljs-string">"user_str: "</span></span> + user_str[i]); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(sqldb.CountSQL() == <span class="hljs-number"><span class="hljs-number">0</span></span>) { In(<span class="hljs-string"><span class="hljs-string">"0"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> begin = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Integer(Out()); System.out.println(<span class="hljs-string"><span class="hljs-string">"Loading Words..."</span></span>); String [] data; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(user_str[<span class="hljs-number"><span class="hljs-number">1</span></span>].equals(<span class="hljs-string"><span class="hljs-string">"(--)"</span></span>)) data = sqldb.AllWords(); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> data = sqldb.Find(user_str[<span class="hljs-number"><span class="hljs-number">1</span></span>]); read_amount_words = (data.length - begin &gt; <span class="hljs-number"><span class="hljs-number">100</span></span> ? <span class="hljs-number"><span class="hljs-number">100</span></span> : data.length - begin); In(Integer.toString(read_amount_words)); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = begin; i &lt; begin + ((data.length - begin) &gt; <span class="hljs-number"><span class="hljs-number">100</span></span> ? <span class="hljs-number"><span class="hljs-number">100</span></span> : data.length); i++) { System.out.println(<span class="hljs-string"><span class="hljs-string">"i = "</span></span> + i + <span class="hljs-string"><span class="hljs-string">", data.length = "</span></span> + data.length); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(i == data.length) <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; String [] str_data = Split(data[i], <span class="hljs-string"><span class="hljs-string">"(!!)"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> j = <span class="hljs-number"><span class="hljs-number">0</span></span>; j &lt; str_data.length; j++) System.out.println(<span class="hljs-string"><span class="hljs-string">"str_data: "</span></span> + str_data[j]); In(str_data[<span class="hljs-number"><span class="hljs-number">0</span></span>]); In(str_data[<span class="hljs-number"><span class="hljs-number">1</span></span>]); In(str_data[<span class="hljs-number"><span class="hljs-number">2</span></span>]); In(str_data[<span class="hljs-number"><span class="hljs-number">3</span></span>]); } }</code> </pre><br>  TransferWord   . ,   ,    ,     ,     ,   ,    .          ,      100 ,    100   ,     ,   . <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Server</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> PORT = <span class="hljs-number"><span class="hljs-number">8080</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IOException </span></span>{ ServerSocket s = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ServerSocket(PORT); System.out.println(<span class="hljs-string"><span class="hljs-string">"Server Started"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) { Socket socket = s.accept(); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { System.out.println(<span class="hljs-string"><span class="hljs-string">"Client Connection"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ServerOneJabber(socket); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span>(IOException e) { socket.close(); } } } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span>(SQLException e) { System.out.println(e); } <span class="hljs-keyword"><span class="hljs-keyword">finally</span></span> { s.close(); } } }</code> </pre><br>   Server   main,       ,    ServerOneJabber   . <br><br><h3>  Conclusion </h3><br>       . ,    ,     ,    , -     .      - ,      ,       .      . </div><p>Source: <a href="https://habr.com/ru/post/303064/">https://habr.com/ru/post/303064/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../303050/index.html">DevOps - automate everything</a></li>
<li><a href="../303052/index.html">Oh, I have these databases: Sybase (ASE) and datetime</a></li>
<li><a href="../303058/index.html">Where to get logins or VoIP to help</a></li>
<li><a href="../303060/index.html">Virtual GPIO driver with QEMU-based ivshmem interrupt controller for Linux</a></li>
<li><a href="../303062/index.html">Dlink switch study after thunderstorms</a></li>
<li><a href="../303066/index.html">DevConf :: Go - June 17 in Skolkovo, an exclusive workshop on Go June 18 in TASS</a></li>
<li><a href="../303068/index.html">Free webinar "WebLogic Application Server 12.2: multi-lending, high availability, Docker-containers"</a></li>
<li><a href="../303074/index.html">Investigation: where your site redirects users, and you don‚Äôt even know about it</a></li>
<li><a href="../303076/index.html">Seven notes of the deduction of the costs of your business</a></li>
<li><a href="../303078/index.html">IT Music Fest: guitar instead of Claudia and music instead of code</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>