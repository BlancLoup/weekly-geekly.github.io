<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>JavaScript FAQ: Part 2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="About 2 months ago, I and TheShock collected questions on JavaScript in the JavaScript FAQ topic : ask questions . The first part, the questions that ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>JavaScript FAQ: Part 2</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage/b77f21c3/d77efde8/548ac974/d9c800f8.png" alt="image"><br><br>  About 2 months ago, I and <a href="https://habrahabr.ru/users/theshock/" class="user_link">TheShock</a> collected questions on JavaScript in the JavaScript <a href="http://habrahabr.ru/blogs/javascript/119851/">FAQ</a> topic <a href="http://habrahabr.ru/blogs/javascript/119851/">: ask questions</a> .  The first part, the questions that I got, appeared in just a few days. <a href="http://habrahabr.ru/blogs/javascript/120192/">JavaScript FAQ: Part 1</a> , but the second part does not and does not work.  <a href="https://habrahabr.ru/users/theshock/" class="user_link">TheShock is</a> now moving to another country, and therefore he is not up to answers.  He asked me to answer his part.  So the second part of the answers - those questions that got to me too. <br><a name="habracut"></a><br>  In this part: <ol><li>  Why eval = evil? </li><li>  What to replace eval? </li><li>  How to play sound using JS without flash?  What formats are supported? </li><li>  How much use of global variables slow down scripts? </li><li>  How to disable text selection on JS? </li><li>  (function () {}) ();  What is this design used for? </li><li>  How to reset events and restore item state? </li><li>  How to correctly transfer js commands with parameters in ajax applications? </li><li>  Why in jQuery to pass a window if it is already global and why undefined? </li><li>  How to find out which way the user turns the mouse wheel? </li><li>  Does the element have a focus event, if not, is it possible to implement it? </li><li>  How to make an immutable object (freez)? </li><li>  Is it possible to make a custom implementation of DomElement so that when parsing for a subset of tags it is used? </li><li>  What client MVC framework would you recommend? </li><li>  Referer restrictions bypass </li><li>  GOTO in javascript </li><li>  JavaScript inheritance.  How ideologically to correctly end up Man and Woman from Human </li><li>  Is it possible to get a javascript programmer without digging into the layout and server-side? </li><li>  What is the practice of transferring data from a server to code that executes from .js? </li><li>  Is it possible to pick up (emulate) the behavior of a DOMInputElement with the help of ordinary DOMElemen (div)? </li><li>  The problem of private and public methods </li><li>  How to use JS to simultaneously select and download multiple files? </li><li>  When downloading files using File and FormData, how do you determine if a user is trying to load a directory? </li><li>  Does JavaScript have analogs to declarations / annotations (terms from Python / Java, respectively)? </li></ol><br><h4>  1. Why eval = evil? </h4><br>  1. Eval breaks the usual logic of the program, generating code. <br>  2. It runs the code in the current context and can change it - a potential place to attack.  Context can be changed by doing the following trick: <br><pre><code class="javascript hljs">(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-built_in"><span class="hljs-built_in">eval</span></span>)(code);</code> </pre> <br>  What is happening here: eval is the same function that depends on the method of the call.  In this case, we change the context to global. <br><br>  3. Generated eval-th code is more difficult to debug. <br>  4. Eval takes a very long time to complete. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Read</b> <br>  <a href="http://perfectionkills.com/global-eval-what-are-the-options/">Global eval.</a>  <a href="http://perfectionkills.com/global-eval-what-are-the-options/">What are the options?</a> <br>  A bunch of questions on stackoverflow: <br>  <a href="http://stackoverflow.com/questions/197769/when-is-javascripts-eval-not-evil">stackoverflow.com/questions/197769/when-is-javascripts-eval-not-evil</a> <br>  <a href="http://stackoverflow.com/questions/646597/eval-is-evil-so-what-should-i-use-instead">stackoverflow.com/questions/646597/eval-is-evil-so-what-should-i-use-instead</a> <br>  <a href="http://stackoverflow.com/questions/86513/why-is-using-javascript-eval-function-a-bad-idea">stackoverflow.com/questions/86513/why-is-using-javascript-eval-function-a-bad-idea</a> <br>  ... <br><br><h4>  2. How to replace eval? </h4><br>  The best replacement for eval is a good code structure that does not involve the use of eval.  However, eval is not always easy to reject (Parsing JSON, Rezig Shabloonizer). <br>  A good replacement for eval is the Function constructor.  But this is the same eval that runs in a global context. <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Function</span></span>(<span class="hljs-string"><span class="hljs-string">'return '</span></span> + code)(); <span class="hljs-comment"><span class="hljs-comment">//    (1,eval)(code);</span></span></code> </pre><br><h4>  3. How to play sound using JS without flash?  What formats are supported? </h4><br>  The simplest solution: <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">audio</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://developer.mozilla.org/@api/deki/files/2926/=AudioTest_(1).ogg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">autoplay</span></span></span><span class="hljs-tag">&gt;</span></span> Your browser does not support the <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">code</span></span></span><span class="hljs-tag">&gt;</span></span>audio<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">code</span></span></span><span class="hljs-tag">&gt;</span></span> element. <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">audio</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  But this HTML5 audio is not limited.  Formats: Ogg Vorbis, WAV PCM, MP3, AAC, Speex (depends on the specific browser) About formats: <a href="http://en.wikipedia.org/wiki/HTML5_audio">Audio format support</a> <br><br>  <b>Read</b> <br>  <a href="http://habrahabr.ru/blogs/javascript/101145/">HTML5 Audio and Game Development: browser bugs, problems and solutions, ideas</a> <br>  <a href="http://www.whatwg.org/specs/web-apps/current-work/">WHATWG - The audio element</a> <br>  <a href="https://developer.mozilla.org/En/HTML/Element/audio">MDN - HTML audio</a> <br>  Example: <a href="https://developer.mozilla.org/en/Creating_a_simple_synth">Creating a simple synth</a> <br>  Example: <a href="https://developer.mozilla.org/en/Displaying_the_Mozilla_logo_with_the_Audio_Samples">Displaying a graphic with audio samples</a> <br>  Example: <a href="https://developer.mozilla.org/en/Visualizing_Audio_Spectrum">Visualizing an audio spectrum</a> <br>  Example: <a href="https://developer.mozilla.org/en/Creating_a_Web_based_tone_generator">Creating a Web based tone generator</a> <br><br><h4>  4. How much does the use of global variables slow down scripts? </h4><br>  Depends on the specific browser.  In modern browsers this moment is optimized and there is no difference.  In older access to the global variable may be 2 times slower. <br><br>  Here is the test: <a href="http://jsperf.com/global-vs-local-valiable-access">jsperf.com/global-vs-local-valiable-access</a> <br>  Please consider the fact that this is a test, each operation is run up to 1 million times per second.  Even if the increase for the test is 30%, then the actual increase for the 1st operation will be scanty (microseconds). <br><br><h4>  5. How to disable text selection on JS? </h4><br>  There are several options. <br><br>  1. Run <code>preventDefault</code> for <code>onselectstart</code> and <code>onmousedown</code> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> element = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">'content'</span></span>); element.onselectstart = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } element.onmousedown = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; }</code> </pre><br>  2. Add <code>unselectable</code> attribute <br><pre> <code class="javascript hljs">$(<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body).attr(<span class="hljs-string"><span class="hljs-string">'unselectable'</span></span>, <span class="hljs-string"><span class="hljs-string">'on'</span></span>)</code> </pre><br>  3. Add <code>user-select: none</code> style <code>user-select: none</code> <br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.g-unselectable</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">-moz-user-select</span></span>: none; <span class="hljs-attribute"><span class="hljs-attribute">-khtml-user-select</span></span>: none; <span class="hljs-attribute"><span class="hljs-attribute">-webkit-user-select</span></span>: none; <span class="hljs-attribute"><span class="hljs-attribute">user-select</span></span>: none; }</code> </pre><br>  There are crazy solutions to this problem: <br>  4. Timer to clean the <code>Range, TextRange, Selection</code> <br>  I will not explain.  How to work with Selection can be found here: <a href="http://habrahabr.ru/blogs/javascript/55922/">Range, TextRange and Selection</a> <br>  5. Render text on canvas <br>  6. Use disabled textarea <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">textarea</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">disabled</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"disabled"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"border:none;color:#000;background:#fff; font-family:Arial;"</span></span></span><span class="hljs-tag">&gt;</span></span>      JS? <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">textarea</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Here is the microfile for jQuery, using methods 1-3 <br><pre> <code class="javascript hljs">$.fn.disableSelection = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">preventDefault</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } $(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>).attr(<span class="hljs-string"><span class="hljs-string">'unselectable'</span></span>, <span class="hljs-string"><span class="hljs-string">'on'</span></span>) .css(<span class="hljs-string"><span class="hljs-string">'-moz-user-select'</span></span>, <span class="hljs-string"><span class="hljs-string">'none'</span></span>) .css(<span class="hljs-string"><span class="hljs-string">'-khtml-user-select'</span></span>, <span class="hljs-string"><span class="hljs-string">'none'</span></span>) .css(<span class="hljs-string"><span class="hljs-string">'-o-user-select'</span></span>, <span class="hljs-string"><span class="hljs-string">'none'</span></span>) .css(<span class="hljs-string"><span class="hljs-string">'-msie-user-select'</span></span>, <span class="hljs-string"><span class="hljs-string">'none'</span></span>) .css(<span class="hljs-string"><span class="hljs-string">'-webkit-user-select'</span></span>, <span class="hljs-string"><span class="hljs-string">'none'</span></span>) .css(<span class="hljs-string"><span class="hljs-string">'user-select'</span></span>, <span class="hljs-string"><span class="hljs-string">'none'</span></span>) .mousedown(preventDefault); .each(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.onselectstart = preventDefault; }); };</code> </pre><br>  This plugin will not save from Ctrl + A Ctrl + C in those browsers that do not support user-select or unselectable.  Remember: prohibiting excretion is evil. <br><br><h4>  6. (function () {}) ();  What is this design used for? </h4><br>  This is called Immediately-Invoked Function Expression (IIFE) - an expression function that was called immediately after creation. <br><br>  Here are some ways to create IIFE <br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* code */</span></span> })(); <span class="hljs-comment"><span class="hljs-comment">//  IIFE (function(){ /* code */ }()); //   //     "" true &amp;&amp; function(){ /* code */ }(); 0,function(){ /* code */ }(); //  ,      !function(){ /* code */ }(); // Facebook style ~function(){ /* code */ }(); -function(){ /* code */ }(); +function(){ /* code */ }(); //  new new function(){ /* code */ } new function(){ /* code */ }() //   ,   </span></span></code> </pre><br>  Where it is used: <br>  1. If you need some variables not to fall into the external environment (like let) <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> APPLICATION_ID = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> keys = { <span class="hljs-string"><span class="hljs-string">'pew.ru'</span></span>: <span class="hljs-number"><span class="hljs-number">15486</span></span>, <span class="hljs-string"><span class="hljs-string">'pew.pew.ru'</span></span>: <span class="hljs-number"><span class="hljs-number">15487</span></span>, <span class="hljs-string"><span class="hljs-string">'pew.pew.pew.ru'</span></span>: <span class="hljs-number"><span class="hljs-number">1548</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> keys[<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.location.host]; }();</code> </pre><br>  2. The creation of a local circuit - the basis for modules, objects that store the state <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Module = (<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">privateMethod</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">publicMethod</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> privateMethod(); } }; }());</code> </pre><br>  <b>Read</b> <br>  <a href="http://benalman.com/news/2010/11/immediately-invoked-function-expression/">Immediately-Invoked Function Expression (IIFE)</a> <br>  <a href="http://dmitrysoshnikov.com/ecmascript/chapter-5-functions/">ECMA-262-3 in detail.</a>  <a href="http://dmitrysoshnikov.com/ecmascript/chapter-5-functions/">Chapter 5. Functions</a> <br>  <a href="https://developer.mozilla.org/en/JavaScript/Reference/Functions_and_function_scope">Functions and function scope</a> <br>  <a href="http://kangax.github.com/nfe/">Named function expressions</a> <br>  <a href="http://www.adequatelygood.com/2010/3/JavaScript-Module-Pattern-In-Depth">JavaScript Module Pattern: In-Depth</a> <br>  <a href="http://skilldrick.co.uk/2011/04/closures-explained-with-javascript/">Closures explained with javascript</a> <br><br><h4>  7. How to reset events and restore item state? </h4><blockquote>  We have some DOM object with the parameters ‚ÄúA‚Äù initially set with HTML and CSS.  In the process, we dynamically change the parameters to "B".  Is there an easy way to ‚Äúreset‚Äù the state of an object to the original state ‚ÄúA‚Äù?  Similar to the events.  How to roll back to the original state? </blockquote>  Roll back the state of the object does not work.  DOM does not store state because elements can be obtained in different ways: directly from html code and generated javascript. <br><br>  Everything is easier with events.  DOM has a good cloneNode method.  We simply clone the element with all its contents (it will not have events) and replace the old element with the new one. <br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//   $('input').click(function(){alert('')}); function resetEvents(element) { var newElement = element.cloneNode(true); element.parentNode.insertBefore(newElement, element); // fixed by @spmbt element.parentNode.removeChild(element); return newElement; } resetEvents($('input')[0]); //      </span></span></code> </pre><br><h4>  8. How to correctly transfer js commands with parameters in ajax applications? </h4><blockquote>  How to correctly transfer js commands with parameters in ajax applications without messing around with quotes?  This refers to the data transfer in the ajax system described above.  When sending complex commands with several levels of nesting of parameters (for example, "setTimeout ('alert (" Boom !!! ");', 200);") problems are observed when using quotes.  How to resolve them or are there any general rules for their design? </blockquote>  To send code from the server to the client is bad.  This is similar to the problem with eval.  Correctly, quickly and safely transmit not the code, but the data that the browser will process. <br><br>  You can use RPC.  Very transparent RPC can be obtained using NowJS.  NowJS is a framework that allows you to perform functions on the server as you will perform them on the client. <br><br>  Here is an example from the site: <br>  <i>On server: Node.JS server</i> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> nowjs = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"now"</span></span>); <span class="hljs-comment"><span class="hljs-comment">//   http  var everyone = nowjs.initialize(httpServer); everyone.now.getServerInfo = function(callback){ db.doQuery(callback); }</span></span></code> </pre><br>  <i>On the client</i> <br><pre> <code class="javascript hljs">now.getServerInfo(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">data</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   });</span></span></code> </pre><br>  Simple, transparent and beautiful! <br><br>  <b>Read</b> <br>  <a href="http://nowjs.com/guide">Getting Started with NowJS</a> <br><br><h4>  9. Why in jQuery to pass a window if it is already global and why is it undefined? </h4><br>  jQuery creates a closure and throws window and undefined into it. <br>  1. <code>undefined</code> is sent to reduce the amount of code and work around the problem of overwriting <code>undefined</code> .  jQuery often compares with <code>undefined</code> and when compressed, <code>undefined</code> turns into a single-letter variable. <br>  2. <code>window</code> is passed to reduce the amount of code.  jQuery applies a good policy, separating the methods of the window from its own, using <code>window.setInterval()</code> and others.  When compressing, the <code>window</code> becomes a single-letter variable, the code will be <code>c.setInterval()</code> <br><br><h4>  10. How to find out which way the user turns the mouse wheel? </h4><br>  There are 2 events that react to the scroll wheel ' <code>DOMMouseScroll</code> ' (Firefox) and ' <code>mousewheel</code> ' (the rest) <br>  How to hang an event, I think everyone understands, let's see its handler <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">wheel</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> delta = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!event) event = <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.event; <span class="hljs-comment"><span class="hljs-comment">//  IE. //   delta if (event.wheelDelta) { // IE, Opera, safari, chrome -    120 delta = event.wheelDelta/120; } else if (event.detail) { // Mozilla,    3 delta = -event.detail/3; } if (delta) { //    -   ( ). if (event.preventDefault) { event.preventDefault(); } event.returnValue = false; //  IE //    0,    ,   var dir = delta &gt; 0 ? 'Up' : 'Down', } }</span></span></code> </pre><br>  For jQuery There is a <a href="http://plugins.jquery.com/project/mousewheel">Mouse Wheel Plugin</a> <a href="http://brandonaaron.net/code/mousewheel/demos">jQuery Mouse Wheel Plugin Demos</a> <br><br>  Not all elements can trigger a scroll event.  Depends on the specific browser.  Read more: <a href="http://www.quirksmode.org/dom/events/scroll.html">scroll and mousewheel</a> <br><br><h4>  11. Does the element have a focus event, if not, is it possible to implement it? </h4><br>  Focus is a logical event indicating that the object is currently selected. <br><br>  If you read the <a href="http://www.w3.org/TR/DOM-Level-2-Events/events.html">standard,</a> it says that only form elements have <code>focus</code> and <code>blur</code> events: LABEL, INPUT, SELECT, TEXTAREA, and BUTTON.  By standard, no other elements can generate this event.  For all other elements, there are other <code>DOMFocusIn</code> and <code>DOMFocusOut</code> .  IE, as always, has its own events: <code>focusin</code> and <code>focusout</code> . <br>  Firefox is also not particularly compliant with the standard. Some elements of it, except for the form, can throw out <code>focus</code> and <code>blur</code> . <br><br>  See the test event <code>focus, blur, focusin, focusout, DOMFocusIn, DOMFocusOut</code> : <br>  <a href="http://www.quirksmode.org/dom/events/tests/blurfocus.html">www.quirksmode.org/dom/events/tests/blurfocus.html</a> <br>  If you listen to all 3 events for an element, then we can determine whether any element has received focus or not. <br><br>  <b>Read</b> <br>  <a href="http://www.quirksmode.org/dom/events/blurfocus.html">blur and focus</a> <br><br><h4>  12. How to make an immutable object (freeze)? </h4><br>  In ECMAScript 3 (a standard that all JavaScript engines support), it was not possible to freeze an object, but in ECMAScript 5 several functions appeared at once that restrict object modification. <br><br>  <code>Object.preventExtensions</code> is the weakest constraint.  The object cannot receive additional parameters. <br>  <code>Object.seal</code> - <code>preventExtensions</code> + any parameters cannot be deleted <br>  <code>Object.freeze</code> - <code>preventExtensions</code> + <code>seal</code> + parameters become read only <br>  These new methods <a href="http://kangax.github.com/es5-compat-table/">are not</a> supported <a href="http://kangax.github.com/es5-compat-table/">in all browsers.</a> <br><br>  <b>Read</b> <br>  <a href="">New in JavaScript 1.8.5</a> <br>  <a href="http://msdn.microsoft.com/en-us/library/ff806191(v%3Dvs.94).aspx">Object.preventExtensions / seal / freeze Function (JavaScript)</a> <br>  <a href="http://kangax.github.com/es5-compat-table/">ECMAScript 5 compatibility table</a> <br><br><h4>  13. Is it possible to make a custom DomElement implementation so that it is used for parsing tags for a subset? </h4><br>  Directly no.  DOM is separate from JavaScript and therefore there are some limitations. <br>  1. There are no constructors for specific elements - there is only a factory of elements - <code>document.createElement('')</code> and some string methods for creating elements - <code>String.prototype.anchor</code> and so on.  <code>HTMLElement</code> and <code>HTMLDivElement</code> are not constructors. <br>  2. Even if we emulate a constructor, the DOM will ‚Äúclear‚Äù the object after inserting it into the tree. <br>  Example <br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//   - var HTMLZzzElement = function () { var self = document.createElement('zzz'); self.__proto__ = HTMLZzzElement.prototype; return self; }; //   HTMLUnknownElement function F(){} F.prototype = HTMLUnknownElement.prototype; HTMLZzzElement.prototype = new F(); HTMLZzzElement.prototype.constructor = HTMLZzzElement; HTMLZzzElement.prototype.pewpewpew = function () {}; //  var zzz = new HTMLZzzElement(); // ,  zzz.innerHTML = 'Yohoho!'; //  console.log(zzz instanceof HTMLZzzElement); // true console.log(zzz instanceof HTMLUnknownElement); // true console.log(zzz instanceof HTMLElement); // true console.log(typeof zzz.pewpewpew); // function //  -   //   DOM document.body.appendChild(zzz); //   zzz = document.querySelector('zzz') //   console.log(zzz instanceof HTMLZzzElement); // false console.log(zzz instanceof HTMLUnknownElement); // true console.log(zzz instanceof HTMLElement); // true console.log(typeof zzz.pewpewpew); // undefined</span></span></code> </pre><br>  However, we can add methods and properties to the prototype of the ‚Äúclass‚Äù of the HTML element and then use them in the future: <br><pre> <code class="javascript hljs">HTMLUnknownElement.prototype.pewpewpew = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{}; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> zzz.pewpewpew); <span class="hljs-comment"><span class="hljs-comment">// function</span></span></code> </pre><br>  The chain of inheritance "classes" such <br> <code>Node -&gt; Element -&gt; HTMLElement -&gt; HTMLDivElement/HTMLMetaElement ...</code> <br>  You can add a method to the prototype of the element, but remember that patching other people's objects is bad! <br><br>  This method will only work in modern browsers.  In IE8 and below, html elements are taken as they are out of thin air, so their prototypes cannot be rewritten at a low level: <br><pre> <code class="javascript hljs">&gt;&gt;<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.createElement(<span class="hljs-string"><span class="hljs-string">'div'</span></span>).constructor <span class="hljs-comment"><span class="hljs-comment">//undefined --   null...</span></span></code> </pre><br><pre> <code class="javascript hljs">&gt;&gt;<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.createElement(<span class="hljs-string"><span class="hljs-string">'div'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span> <span class="hljs-comment"><span class="hljs-comment">//false -- , ?    toString   &gt;&gt;Object.prototype.toString.call(document.createElement('div')); //"[object Object]"</span></span></code> </pre><br><h4>  14. What client MVC framework would you recommend? </h4><br>  There are many frameworks: <br>  <a href="http://javascriptmvc.com/">JavaScriptMVC</a> <br>  <a href="http://documentcloud.github.com/backbone/">Backbone.js</a> <br>  <a href="http://www.sproutcore.com/">Sproutcore</a> <br>  <a href="http://code.google.com/p/trimpath/wiki/TrimJunction">Trimjunction</a> <br><br>  Look at everything and choose the one you like best.  I only worked closely with Backbone.js <br><br>  <b>Read</b> <br>  <a href="http://habrahabr.ru/blogs/javascript/118782/">Writing complex interfaces with Backbone.js</a> <br>  <a href="http://habrahabr.ru/blogs/javascript/119369/">And again about MVC</a> <br>  <a href="http://designformasters.info/posts/mvc-javascript/">MVC in javascript</a> <br><br><h4>  15. Referer restrictions bypass </h4><blockquote>  On the blabla.ru server there is a picture, the server does not give it away if it is transmitted to Referer from another server (pewpew.com).  How to get the contents of the picture and show the user? </blockquote>  Directly from the browser in any way.  You can make a server proxy that will change the referer. <br><br><h4>  16. GOTO in Javascript </h4><blockquote>  Actually the question is how to repeat the behavior of goto in javascript.  (You don‚Äôt need to tell about good style and goto :) we are talking about generated code.  and the restoration of blocks and cycles process is not quite trivial) </blockquote>  JavaScript has tags, but no goto (there is only a reserved word).  The label looks the same as in all other languages, but they work differently.  The label highlights the block.  There may be other marked blocks inside the block.  You can jump to the label using break and continue, which are inside this block. <br><br>  Example: <br><pre> <code class="javascript hljs">loop1: <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> a = <span class="hljs-number"><span class="hljs-number">0</span></span>; a &lt; <span class="hljs-number"><span class="hljs-number">10</span></span>; a++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (a == <span class="hljs-number"><span class="hljs-number">4</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">break</span></span> loop1; <span class="hljs-comment"><span class="hljs-comment">//  4  } alert('a = ' + a); loop2: for (var b = 0; b &lt; 10; ++b) { if (b == 3) { continue loop2; //  3 } if (b == 6) { continue loop1; //   loop1 'finished'    } alert('b = ' + b); } alert('finished') } block1: { alert('hello'); //  'hello' break block1; alert('world'); //     } goto block1; // Parse error - goto </span></span></code> </pre><br><h4>  17. Inheritance in JavaScript.  How ideologically to correctly end up Man and Woman from Human </h4><br>  Ideologically correct to use prototype inheritance.  The inheritance process is well described in the article " <a href="http://habrahabr.ru/blogs/javascript/120193/">Fundamentals and Misconceptions About JavaScript</a> " <br><br><h4>  18. Is it possible to get a javascript programmer without digging into the layout and server-side? </h4><br>  Depends on the project, the size of the company and your experience. <br>  If you go to the developer of browser-based games in a large company, then the chance that you will be engaged only in JavaScript is very high.  A large company can afford a separate interface programmer, but a small one cannot.  Are you lucky without experience in large? <br>  If you are just starting to study the web, then you should go where they want everything. <br><br><h4>  19. What are the practices of transferring data from the server to the code that is executed from .js? </h4><br>  There are a lot of ways to transfer data: XHR, SSE, WebSockets, JSONP: <br>  <a href="http://habrahabr.ru/blogs/javascript/122783/">Implementing HTTP server push using Server-Sent Events</a> <br>  <a href="http://habrahabr.ru/blogs/javascript/120917/">New XMLHttpRequest2 Features</a> <br>  <a href="http://habrahabr.ru/blogs/javascript/120429/">Creating real-time applications using Server-Sent Events</a> <br>  A lot of things about <a href="http://javascript.ru/ajax">ajax</a> <br><br>  Which transport and format you choose depends on the application requirements.  For example, if this is a chat, then SSE or WebSockets are better (message delivery time is critical).  And if this chat should work cross-domain and in IE6, then you will have to add magic with an iframe or flash. <br><br><h4>  20. Is it possible to pick up (emulate) the behavior of a DOMInputElement with the help of ordinary DOMElemen (div)? </h4><br>  At the low level is impossible.  I explained the reason in the 13th example.  You can make a wrapper that will emulate an Input, based on a DOMDivElement. <br>  I sketched a simple emulator <a href="http://jsfiddle.net/azproduction/Kz4d9/">jsfiddle.net/azproduction/Kz4d9</a> - it turned out to be a very input curve (it doesn‚Äôt know how to submit, it‚Äôsn‚Äôt able to lose focus, etc.). <br>  The same problem can be solved more elegantly (thanks to <a href="https://habrahabr.ru/users/finom/" class="user_link">Finom</a> , for reminding <a href="https://habrahabr.ru/users/finom/" class="user_link">me</a> ), adding just 1 attribute: contenteditable, which only <a href="http://caniuse.com/contenteditable">desktop browsers</a> support - it turned out the same input, but much better and better <a href="http://jsfiddle.net/azproduction/ZTqRe/">jsfiddle.net/azproduction/ZTqRe</a> <br><br><h4>  21. The problem of private and public methods </h4><blockquote>  If there is a desire to use private variables and methods of objects, in JavaScript there is a problem of access to private methods from public ones.  And the privileged methods defined inside the constructor, if I understand correctly, are duplicated for each instance, which is not very good in terms of performance.  How about <a href="http://webreflection.blogspot.com/2008/04/natural-javascript-private-methods.html">this</a> approach? </blockquote>  <a href="https://habrahabr.ru/users/theshock/" class="user_link">TheShock</a> : <br><blockquote>  Nice approach.  At least better than declaring all the methods in the constructor. <br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// our constructor function Person(name, age){ this.name = name; this.age = age; }; // prototype assignment Person.prototype = new function(){ // we have a scope for private stuff // created once and not for every instance function toString(){ return this.name + " is " + this.age; }; // create the prototype and return them this.constructor = Person; this._protectedMethod = function (){ // act here }; this.publicMethod = function() { this._protectedMethod(); }; // "magic" toString method this.toString = function(){ // call private toString method return toString.call(this); } };</span></span></code> </pre> </blockquote><br>  Modular approach: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Module = (<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">window</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">privateFunction</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'pass'</span></span>); }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> privateClass = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{}; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> publicClass = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{}; publicClass.prototype.publicMethod = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ privateFunction(); <span class="hljs-comment"><span class="hljs-comment">// ... }; return { //  publicClass: publicClass }; }(this)); //  (new Module.publicClass()).publicMethod();</span></span></code> </pre><br><h4>  22. How to use JS to simultaneously select and download multiple files? </h4><br>  Everything is already long and not once written: <br>  1. <a href="http://habrahabr.ru/blogs/webdev/109079/">HTML5 File API: multiple files upload to server</a> <br>  2. <a href="http://habrahabr.ru/blogs/webdev/112538/">Downloading files using HTML5 and how many times we said bad words</a> <br>  3. <a href="http://habrahabr.ru/blogs/webdev/76749/">Browser loading of several files</a> <br>  4. <a href="http://habrahabr.ru/blogs/jquery/50223/">ajax download multiple files with php form</a> <br>  5. <a href="http://habrahabr.ru/company/mailru/blog/113508/">Uploading files using html5 File API, with preference and dancers</a> <br><br><h4>  23. When downloading files using File and FormData, how do you determine if a user is trying to load a directory? </h4><blockquote>  When downloading files using File and FormData - how to determine whether the user is trying to load the directory.  The File.type property unfortunately does not help (for some types, as well as for the dir - an empty string), the size property does not help either (ff and safari are shown differently)? </blockquote>  As for <code>File.type</code> , it is said that this is a mime-type and if it is not defined, then it becomes an empty string.  mime-type, as usual, is obtained from the file / folder extension.  If we drop a real file with the name ‚Äúpewpew‚Äù, then the mime will be "", and if the directory with the name is "pewpew.html", then the mime will be <code>"text/html"</code> .  It does not suit us. <br>  Folder size is always 0, but there may be files of 0 bytes.  For 100% certainty, this does not suit us. <br>  The standard <a href="http://www.w3.org/TR/FileAPI/">www.w3.org/TR/FileAPI</a> does not talk about directories separately, but it says that browsers can throw out <code>SECURITY_ERR</code> if the user tries to work with incorrect files (protected, not readable, etc.). of this. <br><br>  The basis I took the example of <a href="http://html5demos.com/file-api">Drag and Drop</a> <br>  We will use <code>FileReader</code> to determine the type of resource.  In firefox, if you read a folder as a file, then the <code>reader.readAsDataURL</code> method throws an exception.  In chrome, this exception is not thrown, but the <code>onerror</code> event is <code>onerror</code> on the <code>reader</code> .  We cross and get a function to determine whether the file is or not. <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isReadableFile</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">file, callback</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> reader = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FileReader(); reader.onload = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ callback &amp;&amp; callback(<span class="hljs-literal"><span class="hljs-literal">true</span></span>); callback = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; } reader.onerror = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ callback &amp;&amp; callback(<span class="hljs-literal"><span class="hljs-literal">false</span></span>); callback = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { reader.readAsDataURL(file); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (e) { callback &amp;&amp; callback(<span class="hljs-literal"><span class="hljs-literal">false</span></span>); callback = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; } }</code> </pre><br>  As a function, I delete the callback for safety so that it does not volunteer again ( <code>FileReader</code> behavior may change in the future). <br>  <a href="http://jsfiddle.net/azproduction/3sV23/8/">Jsfiddle.net/azproduction/3sV23/8</a> usage <a href="http://jsfiddle.net/azproduction/3sV23/8/">example</a> <br><br>  You can, it was limited to file size.  If 0, then assume that this is not a file (for it is strange to load a file with a size of 0 bytes). <br><br><h4>  24. Does JavaScript have analogs to declarations / annotations (terms from Python / Java, respectively)? </h4><br>  There are no direct analogues. <br><br>  PS If I forgot to answer a question - ask it again.  If you have questions that have no answers in the first or second part - ask - they will be in the third;) </div><p>Source: <a href="https://habr.com/ru/post/124327/">https://habr.com/ru/post/124327/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../124321/index.html">SkypeKit and what it is eaten with</a></li>
<li><a href="../124322/index.html">We write live wallpaper with a clock</a></li>
<li><a href="../124323/index.html">Report from the second meeting of the Russian DEFCON Group</a></li>
<li><a href="../124325/index.html">Asterisk chan_ss7 "12 threads"</a></li>
<li><a href="../124326/index.html">GScreen company has released a laptop with two displays</a></li>
<li><a href="../124328/index.html">Google+ has 10 million users.</a></li>
<li><a href="../124331/index.html">Bringing the project to the end</a></li>
<li><a href="../124333/index.html">SQL Server 2008 R2 SP1 Released; Optional Tools for SQL Server Denali</a></li>
<li><a href="../124334/index.html">VxVM 5.0MP3 - How to increase the size of the rootdisk</a></li>
<li><a href="../124335/index.html">"Chipped chastity taps the strainer" - or a complex password, but easy to remember</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>