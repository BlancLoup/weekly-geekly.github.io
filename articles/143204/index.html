<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Localization of an ASP.NET MVC application using a database</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article will be narrowly focused and covers localization through the database, so you can see how to do localization using resource files (resx) ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Localization of an ASP.NET MVC application using a database</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/514/aeb/222/514aeb222ad310dfa12ce6ca3e8d5d89.jpg"><br>  This article will be narrowly focused and covers localization through the database, so you can see how to do localization using resource files (resx) in detail, for example, here: <a href="http://habrahabr.ru/post/86331/">MVC 2: Complete localization guide</a> .  For localization using views, I also have links there. <br><br>  To begin, I will briefly talk about options for localizing the site, show an example of creating your ResourceProviderFactory, and then create a small application for demonstration. <br><br><a name="habracut"></a><br><h3>  Localization options </h3><br>  In many discussions and articles, only two localization options are mentioned, for example, the <a href="http://afana.me/post/aspnet-mvc-internationalization.aspx">ASP.NET MVC 3 Internationalization</a> article, to which many references can be found, identifies the following: <br>  - Resource files (resx) <br>  - Use different "Views" <br>  The first method is usually used for statics: field names, validations, and others.  The essential disadvantage of using the second is that the need to do a lot of manual work on copying the same code, in case you need to even slightly change the layout, it‚Äôs also difficult to imagine the structure of the site with many languages, the number of files will be huge, sometimes the translation is divided into directories Of course it becomes clearer, but the scalability leaves much to be desired.  In my case, I needed to translate the dynamic content that is added through the admin panel, I did not consider the resx file editing option from the admin panel, but you can find the implementation yourself, as the saying goes, an amateur, therefore, select the third option: <br>  - Localization using the database <br>  Of course, you can combine all these three options. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  Implementation example </h3><br>  I‚Äôll say right away that I‚Äôm creating an empty MVC 3 project, because I‚Äôll use the Entity Framework Code First, I‚Äôll not rewrite the Membership Provider in this article, you can see how to do this, for example, here: <a href="http://www.codeproject.com/Articles/165159/Custom-Membership-Providers">Custom Membership Providers</a> .  Just remember that the admin panel will be publicly available, of course, it was possible to implement authorization, through the config file, as Stephen Sanderson demonstrates in his books, but an article about something else. <br><br>  Make a parody of the warehouse, we will have a table of products with 4 fields: <br>  -Identifier <br>  -Product name (we will translate it using the database) <br>  -Price (we need this field to demonstrate problems with validation during localization) <br>  -Date of delivery (as before) <br><br>  The next step is to create a Product class and set attributes using Data Annotations (if you don‚Äôt like this option, you can use the Fluent API, which you will need to access in a large project anyway) and create a DbContext: <br><br><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Product</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> ProductId { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } [Required] [StringLength(<span class="hljs-number"><span class="hljs-number">128</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Name { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } [Required] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">decimal</span></span> Price { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } [Required] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> DateTime ImportDate { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ProductDbContext</span></span> : <span class="hljs-title"><span class="hljs-title">DbContext</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> DbSet&lt;Product&gt; Products { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } }</code> </pre> <br><br>  Now I will generate the controller and all actions (Actions) automatically, it turned out a bit scary, so I‚Äôll have to add styles, though I would recommend using a slightly different approach for generation.  Combining the creation and editing in one view, for example, like this: <a href="http://habrahabr.ru/post/143024/">Unlucky Notes on ASP.NET MVC.</a>  <a href="http://habrahabr.ru/post/143024/">Part 1 (and only)</a> that will remove one presentation, try to have as little as possible of copy-paste. <br><br>  As a result, we have such a table: <br><br><img src="https://habrastorage.org/storage2/103/07e/8d0/10307e8d04042f3a1341f700d2701add.jpg"><br><br>  Go to the ResourceProviderFactory, a little googling, I found a rather old article in MSDN <a href="http://msdn.microsoft.com/en-us/library/aa905797.aspx">Extending the ASP.NET 2.0 Resource-Provider Model</a> , as well as a description of the <a href="http://msdn.microsoft.com/en-us/library/system.web.compilation.resourceproviderfactory.aspx">ResourceProviderFactory Class</a> with an example implementation, but for the 4th framework.  On the same codeproject there is a ready-made example, which can also be taken as a basis: <a href="http://www.codeproject.com/Articles/14190/ASP-NET-2-0-Custom-SQL-Server-ResourceProvider">ASP.NET 2.0 Custom SQL Server ResourceProvider</a> . <br><br>  Now let's create a class for storing translations: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">GlobalizationResource</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> GlobalizationResourceId { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } [Required] [StringLength(<span class="hljs-number"><span class="hljs-number">128</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> ResourceObject { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } [Required] [StringLength(<span class="hljs-number"><span class="hljs-number">128</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> ResourceName { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } [Required] [StringLength(<span class="hljs-number"><span class="hljs-number">5</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Culture { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } [Required] [StringLength(<span class="hljs-number"><span class="hljs-number">4000</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> ResourceValue { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } }</code> </pre><br><br>  And do not forget to add it to the database context.  I got an average implementation between the codeproject and an example from MSDN, the code can be downloaded at the end of the article, since there are about 150 lines.  And add the provider to the config: <br><br><pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">system.web</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">globalization</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">enableClientBasedCulture</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">resourceProviderFactoryType</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"DbLocalizationExample.Models.CustomResourceProviderFactory"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">uiCulture</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"auto"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">culture</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"auto"</span></span></span><span class="hljs-tag"> /&gt;</span></span> ... <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">system.web</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  Everything would be fine, but to check the localization we need the ability to select a language, I‚Äôll use cookies to store the localization (I wouldn‚Äôt recommend using the session, as the user is unlikely to be happy to go to the site after 20 minutes (I remember the standard lifetime) that again you need to choose a language).  We take the idea from afana.me as a basis and get the following class: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">CultureHelper</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> List&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>&gt; Cultures = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>&gt; { <span class="hljs-string"><span class="hljs-string">"ru-RU"</span></span>, <span class="hljs-comment"><span class="hljs-comment">// first culture is the DEFAULT "en-US", }; /// &lt;summary&gt; /// Returns a valid culture name based on "name" parameter. If "name" is not valid, it returns the default culture "en-US" /// &lt;/summary&gt; /// &lt;param name="name"&gt;Culture's name (eg en-US)&lt;/param&gt; public static string GetValidCulture(string name) { if (string.IsNullOrEmpty(name)) return GetDefaultCulture(); // return Default culture if (Cultures.Contains(name)) return name; // Find a close match. For example, if you have "en-US" defined and the user requests "en-GB", // the function will return closes match that is "en-US" because at least the language is the same (ie English) foreach (var c in Cultures) if (c.StartsWith(name.Substring(0, 2))) return c; return GetDefaultCulture(); // return Default culture as no match found } public static string GetDefaultCulture() { return Cultures.ElementAt(0); // return Default culture } public static string GetCultureFromCookies(HttpRequest request) { string cultureName = null; // Attempt to read the culture cookie from Request HttpCookie cultureCookie = request.Cookies["_culture"]; if (cultureCookie != null) { cultureName = cultureCookie.Value; } else if (request.UserLanguages != null) { cultureName = request.UserLanguages[0]; // obtain it from HTTP header AcceptLanguages } // Validate culture name return GetValidCulture(cultureName); // This is safe } private static string AcceptLanguage() { return HttpUtility.HtmlAttributeEncode(System.Threading.Thread.CurrentThread.CurrentUICulture.ToString()); } public static IHtmlString MetaAcceptLanguage&lt;T&gt;(this HtmlHelper&lt;T&gt; html) { return new HtmlString(String.Format(@"&lt;meta name=""accept-language"" content=""{0}"" /&gt;", AcceptLanguage())); } public static IHtmlString GlobalizationLink&lt;T&gt;(this HtmlHelper&lt;T&gt; html) { return new HtmlString(String.Format(@"&lt;script src=""../../Scripts/globalization/cultures/globalize.culture.{0}.js"" type=""text/javascript""&gt;&lt;/script&gt;", AcceptLanguage())); } }</span></span></code> </pre><br><br>  Now we need to add actions for installing and reading cookies: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> ActionResult </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SetCulture</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> culture</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-comment"><span class="hljs-comment">// Validate input culture = CultureHelper.GetValidCulture(culture); // Save culture in a cookie HttpCookie cookie = Request.Cookies["_culture"]; if (cookie != null) { cookie.Value = culture; // update cookie value } else { cookie = new HttpCookie("_culture"); cookie.HttpOnly = false; // Not accessible by JS. cookie.Value = culture; cookie.Expires = DateTime.Now.AddYears(1); } Response.Cookies.Add(cookie); return RedirectToAction("Index"); }</span></span></code> </pre><br><br>  And also the logic in Global.asax for setting up a culture and checking GetVaryByCustomString in order to use caching. <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Application_AcquireRequestState</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">object</span></span></span></span><span class="hljs-function"><span class="hljs-params"> sender, EventArgs e</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> cultureName = CultureHelper.GetCultureFromCookies(Request); <span class="hljs-comment"><span class="hljs-comment">// Modify current thread's culture Thread.CurrentThread.CurrentCulture = CultureInfo.CreateSpecificCulture(cultureName); Thread.CurrentThread.CurrentUICulture = CultureInfo.CreateSpecificCulture(cultureName); } public override string GetVaryByCustomString(HttpContext context, string arg) { // It seems this executes multiple times and early, so we need to extract language again from cookie. if (arg == "culture") // culture name (eg "en-US") is what should vary caching { string cultureName = CultureHelper.GetCultureFromCookies(Request); return cultureName.ToLower();// use culture name as cache key, "es", "en-us", "es-cl", etc. } return base.GetVaryByCustomString(context, arg); }</span></span></code> </pre><br><br>  <b>A few words about the logic of translation:</b> my default language will be stored in the database, i.e.  just a Product object, but when I want to add a translation to it, I will write in the view: <br><br><pre> <code class="cs hljs">@(Culture == <span class="hljs-string"><span class="hljs-string">"ru-RU"</span></span> ? item.Name : HttpContext.GetLocalResourceObject(<span class="hljs-string"><span class="hljs-string">"/Home/Index"</span></span>, <span class="hljs-string"><span class="hljs-string">"Product_"</span></span> + item.ProductId))</code> </pre><br>  Which will automatically add the default value to the database.  The first parameter is similar to the path only for clarity, there can be any sequence of characters (limited truth 128 in the database for our ad), the second is a unique identifier. <br><br>  In Layout, add the ability to select a language: <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"language"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>@Html.ActionLink("rus", "SetCulture", "Home", new { culture = "ru-RU" }, null)<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>@Html.ActionLink("eng", "SetCulture", "Home", new { culture = "en-US" }, null)<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  You can run, but it was not there, I changed the context (added class for resources) and now EF refuses to display data from the table.  Go to <b>View</b> -&gt; <b>Other Windows</b> -&gt; <b>Package Manager Console</b> and enter (each line separately): <br><br><pre> <code class="bash hljs">Update-Package EntityFramework Enable-Migrations</code> </pre><br>  Now you can create a migration and update the database: <br><br><pre> <code class="bash hljs">Add-Migration AddGlobalizationResources Update-Database</code> </pre><br>  But here we are upset, the studio says that we have created a database with an older EF, where there is no migration history, therefore, in order not to delete our database with our hands, we will add such a line to the Index (if you are opposed to migration, then it‚Äôs more correct to add it to Application_Start, but remember that this deletes all data): <br><br><pre> <code class="cs hljs">Database.SetInitializer(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DropCreateDatabaseIfModelChanges&lt;ProductDbContext&gt;());</code> </pre><br>  After compilation and access to it, delete it, because later we will be able to enjoy all the migration buns: <a href="http://blogs.msdn.com/b/adonet/archive/2012/02/09/ef-4-3-automatic-migrations-walkthrough.aspx">EF 4.3 Automatic Migrations Walkthrough</a> . <br><br>  The result of our work will look like this: <br><br><img src="https://habrastorage.org/storage2/20a/e60/8d1/20ae608d1160ef205b16d34b4fc1a7d6.jpg"><br><br>  The English version is created in the database automatically, the Russian version is stored in the Product.  I will leave the logic of database editing to you, there is nothing complicated there. <br><br><h3>  Client Validation </h3><br>  When switching language, we have a problem with decimal and datetime.  For the Russian language, we have "4.00", and for English it is "4.00".  Dates also have problems: "12/21/2012" and "12/21/2012".  To solve these problems, we will use <a href="http://github.com/jquery/globalize">globalize</a> and enable jquery ui datapicker to set the format automatically and simplify the input of dates. <br><br>  Add to Layout the following (‚Äúcore‚Äù of globalization, globalization for a specific language, meta tag for the client part and common scripts for validating numbers and changing jquery ui datapicker): <br><pre> <code class="cs hljs">&lt;script src=<span class="hljs-string"><span class="hljs-string">"@Url.Content("</span></span>~/Scripts/globalization/globalize.js<span class="hljs-string"><span class="hljs-string">")"</span></span> type=<span class="hljs-string"><span class="hljs-string">"text/javascript"</span></span>&gt;&lt;/script&gt; @Html.GlobalizationLink() @Html.MetaAcceptLanguage() &lt;script src=<span class="hljs-string"><span class="hljs-string">"@Url.Content("</span></span>~/Scripts/common.js<span class="hljs-string"><span class="hljs-string">")"</span></span> type=<span class="hljs-string"><span class="hljs-string">"text/javascript"</span></span>&gt;&lt;/script&gt;</code> </pre><br><br>  This is only a small part of customer validation, an example of localization can be found here: <a href="http://afana.me/post/aspnet-mvc-internationalization-part-2.aspx">ASP.NET MVC 3 Internationalization - Part 2 (NerdDinner)</a> <br><br><h3>  Total </h3><br>  I told you how to create your own resource provider, created a small application that demonstrates its work and shared links where you can read more information on this topic.  As Jon Skeet writes in his book ‚ÄúC # in Depth‚Äù that the code given here is just examples, I do not guarantee that the code you take from here will work for you.  I use full translation caching, most likely you will need to download the translation gradually, if there is a large amount of information, set the lifetime, etc.  Remember that when editing a translation, it is necessary to clear the cache so that the data is displayed immediately (this is when you will implement the translation editing logic). <br><br> <a href="http://www.codinghorror.com/blog/2007/03/the-works-on-my-machine-certification-program.html"><img src="https://habrastorage.org/storage2/81b/a94/cf1/81ba94cf1bf2ad8176cbc2928bc8d264.png"></a> <br><br>  The project can be downloaded here (Visual studio 2010): <a href="">link (2.89 MB)</a> (the example only demonstrates the localization of the dynamics, it is easier to add static translation, therefore the code contains only the one described in the article) <br><br><h3>  Sources </h3><br><h4>  Links </h4><br>  <a href="http://msdn.microsoft.com/en-us/library/aa905797.aspx">Extending the ASP.NET 2.0 Resource-Provider Model</a> <br>  <a href="http://msdn.microsoft.com/en-us/library/system.web.compilation.resourceproviderfactory.aspx">ResourceProviderFactory Class</a> <br>  <a href="http://www.codeproject.com/Articles/14190/ASP-NET-2-0-Custom-SQL-Server-ResourceProvider">ASP.NET 2.0 Custom SQL Server ResourceProvider</a> <br>  <a href="http://afana.me/post/aspnet-mvc-internationalization.aspx">ASP.NET MVC 3 Internationalization</a> <br>  <a href="http://afana.me/post/aspnet-mvc-internationalization-part-2.aspx">ASP.NET MVC 3 Internationalization - Part 2 (NerdDinner)</a> <br><br><h4>  Books </h4><br>  Freeman A. Sanderson S. - Pro ASP.NET MVC 3 Framework Third Edition - 2011 <br>  Julia Lerman and Miller - Programming Entity Framework: Code First - 2012 <br><br>  <b>Note:</b> If you will do localization for this <a href="http://afana.me/post/aspnet-mvc-internationalization.aspx">ASP.NET MVC 3 Internationalization</a> guide, you should remember that <a href="http://forums.asp.net/t/1776480.aspx/1%3FExecuteCore%2Bin%2Bbase%2Bclass%2Bnot%2Bfired%2Bin%2BMVC%2B4%2Bbeta">ExecuteCore ()</a> does not work in MVC 4 ExecuteCore. <br></div><p>Source: <a href="https://habr.com/ru/post/143204/">https://habr.com/ru/post/143204/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../143194/index.html">5 tips to help you improve the readability and CTR of your letters</a></li>
<li><a href="../143196/index.html">On Yandex.Music it is now possible to directly support the artist with money.</a></li>
<li><a href="../143197/index.html">Tomorrow's presentation of Samsung Unpacked Event 2012</a></li>
<li><a href="../143201/index.html">Yandex.Disk synchronizes local folders</a></li>
<li><a href="../143202/index.html">Anonymous with 4chan defend the developers of CDProjekt RED from pirates</a></li>
<li><a href="../143205/index.html">Google has discovered the key technology Street View</a></li>
<li><a href="../143206/index.html">Welcome-email or How not to screw it up and not to lose a new client</a></li>
<li><a href="../143207/index.html">Dropquest 2012 will start next week</a></li>
<li><a href="../143208/index.html">Xscreensaver of hours on Esquire.ru</a></li>
<li><a href="../143209/index.html">Nokia claims compliance with 45 patents from HTC, RIM and Viewsonic</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>