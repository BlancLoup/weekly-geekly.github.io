<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Conveniently complete schedules with jQuery</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This story happened with Dmitry Dubovitsky - the programmer of Pirogov's Bureau. 

 Once it happened to me to be engaged in one very interesting proje...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Conveniently complete schedules with jQuery</h1><div class="post__text post__text-html js-mediator-article">  <i>This story happened with Dmitry Dubovitsky - the programmer of Pirogov's Bureau.</i> <br><br>  Once it happened to me to be engaged in one very interesting project.  According to the technical requirements, it was necessary to fill out the schedule of occupations of the fitness club in a certain XML.  In principle, nothing complicated - read the XML, populated the table with the data, but ... How will the client edit the schedule and edit the xml file?  hands? <br>  The solution is simple - it can be done with the mouse! <br><a name="habracut"></a><br>  This is where the fun begins! <br>  The fact is that for each lesson there may be different instructors, different sports halls in the club, not to mention the different names of the classes - in fact, these are ordinary lists that are filled out day after day by many similar organizations. <br>  There was an interesting idea - why not make it so that all columns of the table (the name of the instructor, the name of the program, the hall) can be dragged directly onto the cell with the occupation? <br><img src="http://pirogov.ru/time_project/jquery_redact_timetable_s.png" alt="image"><br>  Beautiful and technical. <br><br>  Implementing it is not so difficult. <br>  To begin, fill in the page with a ‚Äúskeleton‚Äù: the times and days of the week in the table will be dynamically stamped. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In order not to suffer, look directly at the <a href="http://pirogov.ru/time_project">source</a> or the <a href="">whole thing.</a> <br><br>  page content skeleton: <br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">&lt;body&gt; <br> &lt;table id= <font color="#A31515">"timetable"</font> width= <font color="#A31515">"1100"</font> border= <font color="#A31515">"1"</font> align= <font color="#A31515">"center"</font> &gt; <br> &lt;tbody&gt;&lt;tr&gt;&lt;th&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/tbody&gt; <br> &lt;/table&gt; <br> <br> &lt;ul <font color="#0000ff">class</font> = <font color="#A31515">"programs"</font> &gt; <br> &lt;li&gt;Abs-30&lt;/li&gt; <br> ... <br> &lt;li&gt;Jazz&lt;/li&gt; <br> &lt;/ul&gt; <br> <br> &lt;ul <font color="#0000ff">class</font> = <font color="#A31515">"zals"</font> &gt; <br> &lt;li&gt;  &lt;/li&gt; <br> &lt;li&gt;  &lt;/li&gt; <br> &lt;/ul&gt; <br> <br> &lt;ul <font color="#0000ff">class</font> = <font color="#A31515">"instructors"</font> &gt; <br> &lt;li&gt;&lt;/li&gt; <br> ... <br> &lt;li&gt;&lt;/li&gt; <br> &lt;/ul&gt; <br> &lt;/body&gt;</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  and jquery code with necessary functions.  It is necessary to insert $ (document) .ready () into the function: <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">$( <font color="#A31515">'ul.instructors, ul.zals, ul.programs'</font> ).draggable(); <br> <font color="#008000">//  </font> <br> <br> <font color="#008000">//     draggable      IE</font> <br> <font color="#008000">//   :</font> <br> <font color="#0000ff">if</font> (!$.browser.msie) {$( <font color="#A31515">'ul.instructors, ul.zals, ul.programs'</font> ).draggable();} <br> <br> $( <font color="#A31515">"ul.programs li, ul.instructors li, ul.zals li"</font> ).draggable({revert: <font color="#A31515">'invalid'</font> , zIndex: 10}); <br> <font color="#008000">//    </font> <br> <font color="#008000">//  "revert: 'invalid'"    ,       </font> <br> <br> <font color="#008000">//        </font> <br> <font color="#008000">//      droppable</font> <br> <font color="#008000">//   accept        ( ,   )</font> <br> <br> $( <font color="#A31515">"#timetable td"</font> ).droppable({accept: <font color="#A31515">"ul.programs li, ul.instructors li, ul.zals li"</font> , <br> hoverClass: <font color="#A31515">"hover"</font> , <font color="#008000">// CSS ,    ,     </font> <br> drop: <font color="#0000ff">function</font> ( <font color="#0000ff">event</font> , ui) { <font color="#008000">// ,   </font> <br> <br> <font color="#0000ff">var</font> class_to_find= <font color="#A31515">''</font> ; <font color="#008000">// ,       .</font> <br> <br> <font color="#0000ff">if</font> ($(ui.draggable).parent().hasClass( <font color="#A31515">'instructors'</font> )) class_to_find= <font color="#A31515">'instructor'</font> ; <br> <font color="#0000ff">if</font> ($(ui.draggable).parent().hasClass( <font color="#A31515">'programs'</font> )) class_to_find= <font color="#A31515">'program'</font> ; <br> <font color="#0000ff">if</font> ($(ui.draggable).parent().hasClass( <font color="#A31515">'zals'</font> )) class_to_find= <font color="#A31515">'zal'</font> ; <br> <font color="#008000">//    ui.draggable -    (li).</font> <br> <font color="#008000">// .parent() -    DOM ,   ul.</font> <br> <font color="#008000">//    ul  , ,    .</font> <br> <font color="#008000">//   class_to_find   </font> <br> $( <font color="#0000ff">this</font> ).find( <font color="#A31515">'div.'</font> +class_to_find).html($(ui.draggable).text()).css( <font color="#A31515">'display'</font> , <font color="#A31515">'none'</font> ).fadeIn(); <br> <font color="#008000">// $(this) -   .</font> <br> <font color="#008000">//       :</font> <br> <font color="#008000">//</font> <br> <font color="#008000">// &lt;div class="instructor"/&gt;</font> <br> <font color="#008000">// &lt;div class="program"/&gt;</font> <br> <font color="#008000">// &lt;div class="zal"/&gt;</font> <br> <font color="#008000">//</font> <br> <font color="#008000">//   div  ,      class_to_find</font> <br> <font color="#008000">//    div`</font> <br> <font color="#008000">//     ui.draggable  text()</font> <br> <font color="#008000">//</font> <br> <font color="#008000">//   .css('display','none').fadeIn();    .</font> <br> <br> <font color="#008000">//       </font> <br> $(ui.draggable).css( <font color="#A31515">'top'</font> , <font color="#A31515">'auto'</font> ).css( <font color="#A31515">'left'</font> , <font color="#A31515">'auto'</font> ); <br> <br> <font color="#008000">//     -       ,        "+"     .</font> <br> <br> <font color="#0000ff">if</font> (($( <font color="#0000ff">this</font> ).find( <font color="#A31515">'div.instructor'</font> ).text()!= <font color="#A31515">''</font> ) &amp;&amp; <br> ($( <font color="#0000ff">this</font> ).find( <font color="#A31515">'div.program'</font> ).text()!= <font color="#A31515">''</font> )  &amp;&amp; <br> ($( <font color="#0000ff">this</font> ).find( <font color="#A31515">'div.zal'</font> ).text()!= <font color="#A31515">''</font> )) <br> <br> {$( <font color="#0000ff">this</font> ).addClass( <font color="#A31515">'added'</font> ); } <br> <br> <font color="#008000">//    ,     'added'</font> <br> } <br> });</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  As a result, we will get the opportunity to drag the instructors themselves, halls and classes! <br>  Of course, the solution is still raw, we still need to implement the removal, replacement and other chips, however, the idea has already been implemented. <br><br>  PS: Help from the source: <br>  <a href="http://jqueryui.com/demos/droppable/">jqueryui.com/demos/droppable</a> <br>  <a href="http://jqueryui.com/demos/draggable/">jqueryui.com/demos/draggable</a> </div><p>Source: <a href="https://habr.com/ru/post/94347/">https://habr.com/ru/post/94347/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../94335/index.html">We perform in public. Preparing for your first conference talk</a></li>
<li><a href="../94337/index.html">Synchronize your smartphone with a computer over the air</a></li>
<li><a href="../94339/index.html">Virtual Conference "Information in action." Visit without leaving the office!</a></li>
<li><a href="../94340/index.html">The reasons why 64-bit programs require more stack memory</a></li>
<li><a href="../94344/index.html">Mail hosting based on Exchange Server 2010 - for free ?!</a></li>
<li><a href="../94348/index.html">3D gestures</a></li>
<li><a href="../94349/index.html">Site qip.ru vulnerability</a></li>
<li><a href="../94350/index.html">named pipes to Unix</a></li>
<li><a href="../94351/index.html">Master class by Igor Sysoyev in Kiev</a></li>
<li><a href="../94352/index.html">About management decision support systems</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>