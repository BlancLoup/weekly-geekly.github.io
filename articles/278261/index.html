<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>VMware NSX and Nutanix: build a fully software-defined data center (Software-Defined Datacenter)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The combination of VMware NSX for vSphere and the Nutanix Xtreme Computing Platform (XCP) made the creation of fully software-defined data centers (Da...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>VMware NSX and Nutanix: build a fully software-defined data center (Software-Defined Datacenter)</h1><div class="post__text post__text-html js-mediator-article">  The combination of VMware NSX for vSphere and the Nutanix Xtreme Computing Platform (XCP) made the creation of fully software-defined data centers (Datacenters) a reality.  XCP allows administrators to build a virtualization infrastructure free from the limitations of traditional architectures. <br><br>  VMware NSX and Nutanix XCP, a comprehensive solution, guarantees virtual machines access to fast local subsystems ‚Äî computing and storage ‚Äî and provides a flexible and secure network infrastructure without the limitations of physical components. <br><br>  In order to test the possibility of transparent and stable operation of VMware NSX for vSphere in its cluster, Nutanix tested 2 main scenarios for using this system.  In the first variant, the Nutanix Controller VM (CVM) management virtual machine was connected to the VLAN in the traditional network, and the working virtual machines were located in the NSX virtual networks.  In the second scenario, both working virtual machines and CVM were connected to the NSX virtual network segments.  Connecting the CVM to the NSX network complicates the overall configuration and setup of the system, but allows you to use the isolation and microsegmentation functions for the Nutanix cluster. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Uses and Benefits</b> <br><br>  Before delving into the analysis of these scenarios, let's look at the most typical example of using the NSX, given in the <a href="https://www.vmware.com/files/pdf/products/nsx/vmw-nsx-network-virtualization-design-guide.pdf">VMware NSX design guide</a> .  We will check out several advantages that use of software-defined networks gives.  The figure shows 3 different segments with virtual machines: a web services segment, an application segment, and a database segment.  The traffic of these virtual machines is handled by three different virtual networks based on VXLAN (VNI 5001-5003). <br><br><img src="https://habrastorage.org/files/bdd/926/f04/bdd926f04c0c4ff6bb1b475b7c59b999.png" alt="image"><br><a name="habracut"></a><br>  Thanks to packet encapsulation in VXLAN, each virtual network segment is in no way connected to the physical network infrastructure.  The distributed logical router (DLR), operating at the kernel level of each hypervisor, combines the specified virtual network segments at the 3rd level without forwarding packets to the physical router.  Routing is done right in the core of the hypervisor.  Moreover, the distributed firewall (DFW) enforces security policies at the network adapters level of the virtual machines, regardless of the presence and location of physical firewalls on the network. <br><img src="https://habrastorage.org/files/ece/8ca/fee/ece8cafee4264f94aaaa2921312ec3bf.png" alt="image"><br><br>  The distributed router and firewall (DFW and DLR) operate at the level of each hypervisor in the cluster.  Due to the fact that these are distributed components, traffic routing and filtering are performed right where the virtual machines operate, regardless of the underlying network infrastructure.  There are only two requirements for the physical network infrastructure - communication between hypervisors and support for large network frames (jumbo frames). <br><br>  The lack of binding of a virtual machine to the topology of a physical network means that its addressing and management will not affect the network configuration.  Isolated network ‚Äúislands‚Äù can be created inside virtual network segments, which can be quickly copied and transferred, for example, to the cloud.  One use case is to create a copy of the infrastructure instance (network segment and virtual machines) for developers, the second example is to restore a complete copy of a working project from an archive copy for verification, without worrying that it will affect workflows and lead to an IP conflict. addresses. <br><br><img src="https://habrastorage.org/files/a5a/2d7/445/a5a2d744506d4223a465918c357301d9.png" alt="image"><br><br>  <b>Scenario 1 - NSX is used only for working virtual machines.</b> <br><br>  The recommended NSX configuration for Nutanix is ‚Äã‚Äãto use isolated NSX virtual subnets for groups of user VMs, for example, for web services, applications, and DBMSs, while the Nutanix management virtual machine (CVM) is connected to a regular port-group on a distributed switch.  This greatly simplifies the configuration of the entire complex. <br><br>  In the example below, the storage subsystem traffic is transferred between nodes (hosts) via VLAN 101, and the traffic of the working virtual machines encapsulated in the VXLAN is transmitted through VLAN 401. <br><br><img src="https://habrastorage.org/files/17a/0a8/f07/17a0a8f07819441497a539dd10f6cd08.png" alt="image"><br><br>  <b>Scenario 2 - NSX is used for both workload and Nutanix CVM.</b> <br><br>  In the alternative shown below, both working virtual machines and Nutanix CVM are connected to the NSX network.  Communication between CVMs on different nodes of the Nutanix cluster is provided on virtual network 5000. The addressing of virtual adapters for management and VXLAN, in the example, illustrates the situation when two cluster nodes are located in different server racks separated by a router (at level 3).  Encapsulating packets in VXLAN overcomes this limitation. <br><br><img src="https://habrastorage.org/files/6ad/28c/68e/6ad28c68e9a14a059d82118e4326b492.png" alt="image"><br><br>  While this scenario is a bit more complicated than the previous one, it allows you to take advantage of the NSX advantages of microsegmentation and isolation for Nutanix CVM.  You can isolate the CVM and the storage network in one virtual segment, which, in turn, is distributed across multiple L3 physical subnets. <br><br>  It is important to note that recommendations for building a leaf-spine topology remain true for the physical nodes of Nutanix.  Addressing between ESXi hosts in different racks can be organized at 3rd level (L3), but the network connections between the Nutanix nodes must meet the bandwidth and latency requirements. <br><br>  <b>Conclusion</b> <br>  Using VMware NSX with Nutanix gives system administrators the ability to build powerful and flexible solutions that are free from the limitations of traditional physical infrastructures.  The Nutanix Xtreme Computing Platform (XCP) provides computing resources and a storage subsystem, while the NSX creates a virtual network infrastructure that is not tied to physical network components.  Nutanix verified that both of these components are successfully integrated with each other, resulting in all the benefits provided by software-defined data centers, including logical separation of storage infrastructure, isolation of virtual networks, security policies that are moved with virtual machines, and automation of workflows. <br><br>  Nutanix with VMware NSX allows administrators to focus on building scalable applications, because no matter where the virtual machine is running, it will always have access to the necessary resources.  A stable and reliable physical infrastructure provides the foundation for a flexible and convenient virtual network, always ready for expansion if necessary. <br><br>  By Jason Burns, Senior Solutions &amp; Performance Engineer at Nutanix <br>  Translation: Sergey Tarasevich, <a href="http://www.trinitygroup.ru/">Trinity</a> Systems Engineer <br>  Original article: <a href="http://next.nutanix.com/t5/Nutanix-Connect-Blog/VMware-NSX-on-Nutanix-Build-a-Software-Defined-Datacenter/ba-p/7590">next.nutanix.com/t5/Nutanix-Connect-Blog/VMware-NSX-on-Nutanix-Build-a-Software-Defined-Datacenter/ba-p/7590</a> <br><br>  Trinity engineers will be happy to advise you on server virtualization, storage systems, workstations, applications, networks.  <a href="http://www.trinitygroup.ru/about/kons/"><b>Order a consultation.</b></a> </div><p>Source: <a href="https://habr.com/ru/post/278261/">https://habr.com/ru/post/278261/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../278247/index.html">Preparing an ASP.NET Core: Creating Your Cross-Platform Modular Framework</a></li>
<li><a href="../278251/index.html">Preparing an ASP.NET Core: Creating Your Own Tag Helper</a></li>
<li><a href="../278253/index.html">Zephyr Project - real-time open source OS</a></li>
<li><a href="../278255/index.html">Comparing SSL Certificates with Domain Verification</a></li>
<li><a href="../278257/index.html">Passport scanner do it yourself</a></li>
<li><a href="../278263/index.html">Ensuring the quality of business services</a></li>
<li><a href="../278265/index.html">Euclidean algorithm for generating traditional musical rhythms</a></li>
<li><a href="../278267/index.html">Objection to making Coroutines with await in C ++ 17</a></li>
<li><a href="../278269/index.html">Arduino + Modbus + MasterScada</a></li>
<li><a href="../278271/index.html">Hiding the actual place where the company's server is located: practical methods and question</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>