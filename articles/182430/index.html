<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Nuances of using APIs from AddThis and Ya.share</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It would seem that long ago there were times when it was necessary to register in all social networks to get the code for the buttons for your site, a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Nuances of using APIs from AddThis and Ya.share</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/c10/8cc/976/c108cc976e6defce1f0a8057b18f6585.jpg" align="left">  It would seem that long ago there were times when it was necessary to register in all social networks to get the code for the buttons for your site, and then mess with the design to seamlessly fit all these buttons into the design.  However, now it does not do without the pitfalls, the information about which I want to share. <a name="habracut"></a>  Currently, there are many services that implement a block of buttons that allow you to quickly share a link to the material.  Their advantages over single buttons are obvious: <ul><li>  You do not need to receive a separate code for each button, </li><li>  neat design, </li><li>  reduction of page load time (not in all cases), </li><li>  ability to track statistics ( <i>not all services</i> ). </li></ul>  Some services want for this "money" or "external link" (which in our time is equivalent), so their use does not seem appropriate.  Although sometimes they offer very beautiful and original solutions.  For example, I would pay for <a href="http://habrahabr.ru/post/169649/">this</a> if the developer did not use the AddThis API. <br>  For a long time I used free services on my projects: <b>AddThis</b> and <b>Ya.share</b> .  I used AddThis, mainly because of the availability of statistics and the ability to display the "share" counter. <br><br><h6>  Scolding AddThis </h6> One fine day, looking through the pages of the site, I discovered 200 kb of extra code containing tags and text: <br> <code>&lt;html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"&gt; <br> AddThis utility frame <br></code> <br>  The full version of this ‚Äúextra code‚Äù can be seen <a href="http://pastebin.com/rUWu9fek">here</a> . <br>  Of course, the first thing I did was google the ‚ÄúAddThis utility frame‚Äù and found <b>several hundred thousand pages</b> from different sites containing the same garbage (to <a href="http://yandex.ru/yandsearch%3Ftext%3DAddThis%2520utility%2520frame%26clid%3D1570785%26lr%3D39">make sure</a> ). <br>  It is not difficult to guess that on the same day I removed the AddThis script from all projects, which I recommend to do to those who continue to use it. <br><br><h6>  Praise Ya.share </h6><img src="https://habrastorage.org/getpro/habr/post_images/235/393/976/235393976626ed47b81b9f6e435a3d51.png" align="left">  Ya.share eventually turned into a wonderful tool. <br>  What makes him happy: <ul><li>  <b>You can draw any buttons for site design!</b> </li><li>  no need to get a unique code for each site ( <i>unlike AddThis</i> ) </li><li>  Statistics available from Yandex. Metrics </li><li>  statistics do not generate additional garbage in the url ( <i>unlike AddThis</i> ) </li><li>  more recently, you can display statistics counters ( <i>not yet for all services that can be shared</i> ) <img src="https://habrastorage.org/storage2/89e/03e/916/89e03e916ca235fa4aab579d31c22292.jpg"></li></ul><br><h6>  Ya.share tips </h6>  1. <a href="http://api.yandex.ru/share/">The official designer of the ‚Äúshare‚Äù block</a> includes not all services, here‚Äôs the most comprehensive list: <code>yaru,yazakladki,vkontakte,facebook,gplus,twitter,odnoklassniki,moimir,lj, <br> diary,pinterest,surfingbird,friendfeed,moikrug,blogger,tutby,digg, <br> evernote,delicious,gbuzz,greader,juick,liveinternet, <br> linkedin,myspace,pocket</code> <code>yaru,yazakladki,vkontakte,facebook,gplus,twitter,odnoklassniki,moimir,lj, <br> diary,pinterest,surfingbird,friendfeed,moikrug,blogger,tutby,digg, <br> evernote,delicious,gbuzz,greader,juick,liveinternet, <br> linkedin,myspace,pocket</code> <br>  It looks like this: <br><img src="https://habrastorage.org/storage2/546/afd/d26/546afdd26f87e8214baceeb8b014d235.jpg"><br>  2. Counters are not yet advertised.  Those.  Yandex does not offer them to anyone, but ‚Äúin the rat‚Äù it uses on its projects ( <a href="http://visual.yandex.ru/">for example</a> ). <br>  Code of the full version of the counters: <br> <code><br></code> <br>  In this code, the output of counters, in data-yashareType = "small", instead of "small" you can specify, for example, "big", and this will affect the size of the buttons of the counters accordingly: <br><img src="https://habrastorage.org/storage2/86f/813/b0c/86f813b0c14c764b95185ae01f4a38b0.jpg"><br>  But in the code of the ‚Äúshare‚Äù block, the size of the buttons in this way cannot be changed.  If you need large buttons to ‚Äúshare‚Äù without counters, you can draw them yourself. <br>  Important: in some amateur manuals yandex.st/share/cnt.share.js is specified as a source for the counters, although the counters are perfectly content with the yandex.st/share/share.js used for the ‚Äúshare‚Äù block, and when outputting on one page the scripts conflict, therefore, if you plan to display both the ‚Äúshare‚Äù block and the block with counters, then it suffices to output it once in the header of the site and both blocks will use it. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h6>  Results of Ya.share year </h6>  Many developers do not see the point of publishing absolutely all the buttons from the set available in Ya.share (or are not aware of the existence of new buttons) and are limited to only the most popular services.  I hope that my modest statistics will be useful.  Almost a year ago, he put the ‚Äúshare‚Äù block on a newly created website, which is a few recognized methods for repairing automotive equipment.  Results: <br><img src="https://habrastorage.org/storage2/7f0/1ae/a2b/7f01aea2b05b5050baecd64a11e96aea.jpg"><br><div class="spoiler">  <b class="spoiler_title">Detailed click statistics for each service</b> <div class="spoiler_text"><img src="https://habrastorage.org/storage2/160/e4e/4ac/160e4e4ac060f228bc3efe83d3b4167c.jpg" align="left">  Dairikov, surfingbird and tutby buttons were added about six months ago.  Button pocket - a day ago. </div></div><br><h6>  Not joyful </h6>  1. The <a href="http://api.yandex.ru/share/">‚Äúshare‚Äù block constructor is</a> very sluggishly updated. <br>  2. Counter statistics are displayed only by the Ya.share buttons.  Thus, if you use counters with another API along with them, they will show different results: <br><img src="https://habrastorage.org/storage2/0fc/6fa/805/0fc6fa805361a1b1740b9fee2722526d.jpg"><br>  3. Counters do not display the number of shares on pages with Cyrillic url, such as site.rf / section / article256 <br>  4. On the <a href="">resource pictures,</a> you can see the buttons ‚Äúlink to the page‚Äù (html), ‚Äúsend a link by letter‚Äù (postcard) and others, however, the script does not respond to these parameters and how to activate them is not particularly clear <br><br>  I hope the nuances outlined in the post will be interesting and useful not only for me, and you have not wasted time reading.  I would appreciate constructive comments and suggestions for improving the post. </div><p>Source: <a href="https://habr.com/ru/post/182430/">https://habr.com/ru/post/182430/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../182414/index.html">Diablo III will be released for PS3 and Xbox 360 in September</a></li>
<li><a href="../182416/index.html">Hetzner reported detecting backdoor in their systems</a></li>
<li><a href="../182422/index.html">Swivl is a personal robot operator. Made by KickStarter</a></li>
<li><a href="../182424/index.html">Escaping (or what you need to know to work with text in the text)</a></li>
<li><a href="../182428/index.html">Development and execution speeds not reachable in C</a></li>
<li><a href="../182432/index.html">Programming, fast and slow: the developers and the psychology of self-confidence</a></li>
<li><a href="../182434/index.html">Physicists have learned how to lose in diffraction pockets up to 46% of traffic</a></li>
<li><a href="../182438/index.html">Customize standard IOS icons without JailBreak</a></li>
<li><a href="../182440/index.html">Computex 2013: Cover InkCase with a second screen on the E Ink</a></li>
<li><a href="../182442/index.html">Gentle introduction to Coq: the beginning</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>