<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Debugger features in Xcode 4.5</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The only constant in the development of software are bugs. Let's face it, we never managed to get it right the first time. Due to negligence or incorr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Debugger features in Xcode 4.5</h1><div class="post__text post__text-html js-mediator-article">  The only constant in the development of software are bugs.  Let's face it, we never managed to get it right the first time.  Due to negligence or incorrect assumptions, software development becomes similar to cooking a cake in a motel full of cockroaches, except that in our case we create bugs.  Fortunately, Xcode gives us a lot of tools to keep insects in horror.  It is obvious that for this purpose there is a debugger that we know and love, but there is still much that he can do besides watching variables and line-by-line debugging.  This is a tutorial for beginners and advanced iOS developers where you can get hands-on experience with some of the less well-known but extremely useful debugging methods, such as: <br>  - how to get rid of NSLog in favor of logging breakpoints; <br>  - how to get rid of the TODO list in favor of generating compiler warnings; <br>  - stop on conditions with expressions; <br>  - Dynamic data modification using LLDB and more. <br>  As you can see, the goal for me is to be a lazy developer.  Luckily, LLDB allows me to save my time in a martini.  It provides me with excellent tools so that I will not be glued to my computer during the day and night.  Sit back in your chair and open your favorite drink.  Time to become lazy! <br>  Note that this tutorial implies that you are already familiar with the basics of debugging in Xcode.  If you are a beginner, I recommend to go through <a href="http://www.raywenderlich.com/10209/my-app-crashed-now-what-part-1">this tutorial</a> first. <br><a name="habracut"></a><br><h4>  So, let's begin </h4><br>  I have compiled a sample application for this project, which you can download <a href="">here</a> . <br>  This app is called Gift Lister.  It tracks the postings you want to buy to your friends.  This application is similar to the Gifts 2 HD, which recently won the <a href="http://www.raywenderlich.com/27538/winners-readers-app-awards-2012">Most Visually Impressive</a> award.  Gift Lister is similar to Gifts 2 HD but much, much worse. <br>  For starters, Gift Lister is just teeming with bugs.  The developer (it was me in another T-shirt) was very ambitious and tried to fix everything in an old-fashioned way.  And yes, the application is still not working. <br>  In this tutorial, you will see methods for how to fix the application by acting as lazily as possible. <br>  Having opened the project, you will see various files.  You can see that our application is a front-end to the model running CoreData. <br>  Now that you've looked around, build and run the project.  Not surprisingly, the application crashes.  Let's fix it. <br><br><h4>  Configuring debug console </h4><br>  The first thing you need to open the debugger console.  You can open it by clicking on this button on the main panel: <br><img src="https://habrastorage.org/storage2/a4e/e39/13c/a4ee3913c2b86f366199e79e4bdd945b.png"><br>  Although this button is very nice, cute and comfortable, pressing it every time you debug leads to unnecessary wear on your fingers.  That's why I prefer Xcode to do it for me. <br>  To do this, open the Xcode settings by pressing ‚åò, or go to the menu and select <b>Xcode \ Preferences</b> and click the <b>Behaviors</b> button <br><img src="https://habrastorage.org/storage2/21a/1ad/9db/21a1ad9db0afc5c1a56dcdaeb18c456a.png"><br>  Select the <b>Starts</b> item on the left side of the dialog box that appears.  A group of options will appear on the right side, select the <b>seventh checkbox</b> and select <b>Variables &amp; Console</b> in the last checkbox. <br>  Do the same for the <b>Pauses</b> and <b>Generates Output</b> points that are directly below the <b>Starts</b> item. <br>  The <b>Variables &amp; Console</b> option tells the debugger to show both the console and the list of local variables when starting the session.  If you want to show only the console, select Console View, if you want to see only the list of local variables, select Variable View. <br>  The Current Views option launches the view that was in the last debugging session.  For example, if you closed the display of local variables and left only the console, the next time you start the debugger, only the console will be displayed. <br>  Close the dialog box, then build and run the application. <br>  Now every time you start your application, a debugger will appear, which will free you from the agonizing burden of pressing a button. <br><br><h4>  The NSLog Jam </h4><br>  Before we continue, let's look at the definition of breakpoint. <br>  Breakpoint is a point that allows you to stop a program at some point in time and perform some actions on a running program. <br>  The program will stop at the designated point and allow you to assess your current status and allow you to perform your execution step by step. <br>  You can also run code, change variables, and even force a computer to quote Shakespeare.  And you will do all this during this tutorial. <br>  Well, build and run the application.  This is the first launch attempt: <br><img src="https://habrastorage.org/storage2/92e/748/8e0/92e7488e03ae8c28fd158acfd2d7597a.png"><br>  There is something to think about.  Currently, you cannot see the source of compiler errors.  In order to find the source, you need to set a breakpoint. <br>  So, switch to breakpoint navigator, as shown in the picture below: <br><img src="https://habrastorage.org/storage2/5f3/926/726/5f3926726a826d9f2fc39318208c2755.png"><br>  Then click on the plus at the bottom of the panel.  From the menu that appears, select <b>Add Exception Breakpoint</b> . <br><img src="https://habrastorage.org/storage2/b14/c9e/d01/b14c9ed011044387104011caf5f1fe0c.png"><br>  Next you should see a dialog box: <br><img src="https://habrastorage.org/storage2/e85/9b4/c73/e859b4c7375b4c0d639e503bf07a72ab.png"><br>  The <b>Exception</b> field provides an option to enable breakpoint for Objective-C, C ++ code or for everything.  Leave the default value (All). <br>  The <b>Break</b> field allows you to stop the execution when an error occurs or when catching an exception.  Leave On Throw selected.  If you are going to use an exception handler in your code, then you need the On Catch option.  For our tutorial, leave On Throw. <br>  The last two fields we consider in the course of training.  Click <b>Done</b> and then <b>Build and run</b> . <br>  This time the result has become much clearer. <br><img src="https://habrastorage.org/storage2/b09/e84/648/b09e84648adc1722e95159ca0548321e.jpg"><br>  Take a look at the console, now it is filled with logs, and we don‚Äôt need many of them. <br>  Logs are an important part of debugging an application.  But we need to remove unnecessary messages in order not to clutter up the console.  If you do not remove unnecessary messages, you will spend more time searching for the right messages, and, as a result, spend more time on the error than it deserves. <br>  Open <b>AppDelegate.m</b> and you will need to see a lot of old messages in the <b>didFinishLauncingWithOptions</b> method.  Select them all remove. <br>  Let's find the next log of logs.  Open the search and find <b>NSLog (@ "in viewDidLoad");</b> <br><img src="https://habrastorage.org/storage2/d92/791/7eb/d927917eb45ff268db212c0f11eb63ca.png"><br>  In the search results, <b>click</b> on <b>FriendSelectionViewController.m</b> and then a line opens that displays messages to the log. <br>  At the moment, the efforts that you put into logging are beginning to build up.  Perhaps it seems to you that you have spent not so much time, but the time spent tends to accumulate.  By the end of the project, the time spent will be measured in hours. <br>  Another disadvantage of hardcoding logs is that each time you add something new to your codebase, you take the risk of new errors.  All this takes a few keystrokes, a little autofill, a little distraction, and one day, a bug appears in your running application. <br>  Now it is time to get rid of the logs. <br>  First, comment out our two lines that generate logs.  Then add breakpoints by clicking to the left of each expression. <br>  Your code window should now look like this: <br><img src="https://habrastorage.org/storage2/224/393/cc8/224393cc8c66b4b12089ef5d6234ff37.png"><br>  Click on the first breakpoint with the left mouse button with the Control held down or with the right button and select Edit Breakpoint.  In the dialog box, select Log Message from the Action menu.  In the text box, type "in viewDidLoad".  The dialog box should look like this: <br><img src="https://habrastorage.org/storage2/684/603/da9/684603da9582d8013917235116f1ffa0.png"><br>  Click the Done button, then launch the application.  Now in the console you should see the messages ‚Äúin viewDidLoad‚Äù, but now it is not generated by NSLog, but by using a breakpoint! <br>  But there is one big problem.  The program stops reaching a breakpoint while we do not want it.  It is easy to change this behavior. <br>  Click on the breakpoint with the left mouse button while holding Control or with the right button and select the check box "Automatically continue after evaluating".  Now run the application again. <br>  This time, when the first breakpoint is reached, only a message is displayed, the program stops only at the second breakpoint. <br>  Click on the second breakpoint with the left button while holding Control or with the right mouse button.  Select "Log Message" in the menu, then write "Loading Friends ...".  At the bottom of the dialog box, select the "Automatically continue after evaluating" checkbox.  Click Done and run the application. <br>  The application works fine, as long as it does not fall, but not all at once. <br>  Believe it or not, you still do too much work.  Click on the first breakpoint with the left mouse button while holding Control or with the right button and replace ‚Äúin viewDIdLoad‚Äù with% B.  Run the application again.  The console will look like this: <br><img src="https://habrastorage.org/storage2/122/c2c/43e/122c2c43ebf935d148d1d0a231dc3e23.png"><br>  The key% B displays the name of the method in which the breakpoint was executed.  You can also use% H to see how many times the method has been called.  Also simple expressions can be included here. <br>  So you can write:% B has been touch% H times.  The console will display: -viewWillLoad has been touched 1 times. <br>  Before you fix a critical bug, let's have some more fun.  Click on the first breakpoint with the left mouse button with the Control held down or with the right button and select Edit Breakpoint.  In the dialog box, click the plus button.  This button allows you to perform several actions on one breakpoint. <br>  Select ‚ÄúLog Message‚Äù and enter ‚ÄúTo be, or not to be‚Äù.  Select the ‚ÄúSpeak Message‚Äù option and press Done.  The dialog box should look like this: <br><img src="https://habrastorage.org/storage2/3be/e09/4a9/3bee094a9c01452f252fe1a38e70d4d8.png"><br>  Launch the app and enjoy the show. <br>  Unfortunately, Log Messages does not have the flexibility of NSLog.  To achieve it, we need to add some Debugger Actios. <br>  To demonstrate, you will fix a critical bug.  Run the application and let the program crash.  The stack will look like this: <br>  *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: entity name 'Friend' <br>  Something does not work in Core Data. <br>  By checking the code, you will see that NSManagedObjectContext is pulled from the DataStore object.  Here you have a premonition that, perhaps, the DataStore is the source of the problem.  DataStore is not part of CoreData.  This is a manually created singleton to encapsulate some core CoreData objects. <br>  Add a breakpoint below the line: DataStore * dataStore = [DataStore sharedDataStore]; <br>  Click on the breakpoint with the left button while holding Control or the right mouse button, select ‚ÄúEdit Breakpoint‚Äù and then select ‚ÄúDebugger Command‚Äù.  In the text box, type the following: <br>  po dataStore <br>  Check the ‚ÄúAutomatically continue after evaluating‚Äù checkbox and run. <br><img src="https://habrastorage.org/storage2/603/1f6/672/6031f667298215167289c27aaf07e6f0.png"><br>  As you expected, the dataStore value is nil. <br>  Open <b>DataStore.m</b> and you will see that sharedInstance always returns nil.  Change the return value with <br>  return nil; <br>  on <br>  return sharedInstance; <br>  Run the application.  Hooray, it works (like as)! <br><img src="https://habrastorage.org/storage2/069/927/f4b/069927f4be4a61c6069561764542b19e.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Expressions and breakpoints </h4><br>  The further, the better, but as you can see, the logs output using breakpoint do not show the time the message occurred, which can sometimes be useful for debugging an application.  But there is good news, it's easy to fix with breakpoint expressions! <br>  Let's restore the logs in all their glory.  Perform a right click or control click on the previous breakpoint in <b>FriendSelectionViewController.m</b> .  Select "Edit Breakpoint".  In the dialog box, change the command to <br>  expr (void) NSLog (@ "dataStore:% @", dataStore) <br><img src="https://habrastorage.org/storage2/78b/c19/6d0/78bc196d0af2b371372ef62c1dd87fc2.png"><br>  The expr command will evaluate the expression in real time.  The expression command must know exactly the type of the return value, so type casting is necessary.  Since the NSLog does not have a return value, the type of the return value must be void.  Run the application. <br>  You should see something like this: <br>  2012-12-20 08: 57: 39.942 GiftLister [1984: 11603] dataStore: &lt;DataStore: 0x74c3170&gt; <br>  The ability to output NSLog expressions through breakpoint will allow you to no longer stop the program only to display important data, and now you will not have a chance to add new bugs to the program simply because you don‚Äôt touch the code, but the best is that you do not have to feverishly delete your debug messages the night before the release. <br>  There is a slight difference between calling NSLog in the debugger and calling in the code.  Unlike the code, the text "" will be displayed.  This message is generated by LLDB, and unfortunately, you cannot suppress it.  The good news is that this behavior should be fixed in the next release of Xcode. <br>  Let's turn off logging the application.  This can be done simply by pressing the breakpoints button. <br><img src="https://habrastorage.org/storage2/8c9/a67/51e/8c9a6751e00c69f70887cc29bd2bd81b.png"><br>  Click on it and then launch the application.  Logs are no longer generated.  You can also individually disable logging in the breakpoint navigator. <br>  The days when you filled your code with calls to the logs are finally over! <br><br><h4>  Warnings, errors, return values, dear </h4><br>  The application is working.  The next thing we need to do is add friends so that you can make a list of preferences for choosing gifts.  Start the application, and when the application starts, click on the button that says ‚ÄúAdd a friend‚Äù.  The application will load another view controller in which there will be a text box and a date selection.  Enter a name and select a friend's birthday.  Click OK. <br>  You will be returned to the root view controller and an entry about your friend will be added to the table.  Click Add friend again. <br>  Enter the name of another friend, but this time choose his birthday on February 31, 2010. <br>  In the usual Date picker there is no such date, but not in the case of our application.  In a fit of delirium, I decided to be ambitious and chose a regular picker instead of a date picker.  Having done so, I had to rewrite all the logic for checking dates, and, of course, this led to the emergence of new errors. <br>  Click OK.  Unfortunately, the wrong date was recorded.  Time to debug to understand what is wrong. <br>  Open <b>AddFriendViewController.m</b> and place the breakpoint at the beginning of the method - (void) saveFriend. <br>  In the simulator, click ‚ÄúAdd a friend‚Äù and, just like last time, enter the wrong date.  Perform the method step by step until you reach the line: <br><pre><code class="objectivec hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ([<span class="hljs-keyword"><span class="hljs-keyword">self</span></span> isValidDateComposedOfMonth:month day:day andYear:year]) {</code> </pre> <br>  Go to this method.  There is no verification code.  But that's not all, here is just a comment promising to correct the situation in the future. <br>  Comments are a good way to describe the meanings of some pieces of code, but using them to manage tasks is useless.  Even in small projects there are too many different points to ensure that not one of these comments will not be simply forgotten. <br>  The best way to not lose such comments is to make them really noticeable. <br>  In the first line of the method - (void) isValidDateComposedOfMonth write the following code: <br><pre> <code class="objectivec hljs"><span class="hljs-meta"><span class="hljs-meta">#warning add validation code</span></span></code> </pre><br>  From this point on, the project will report a new alert.  Click on Issue Navigator and you will see a new warning there with your message. <br>  If you're one of those developers that ignore warnings, try the following method. <br><pre> <code class="objectivec hljs"><span class="hljs-meta"><span class="hljs-meta">#error fix your code</span></span></code> </pre><br>  From this point on, a new error will appear in the project.  And you will not be able to compile the application until you fix it.  It was one of the ways to keep track of your comments. <br>  Delete both messages so that the application can compile. <br>  In the first line of the method - (void) isValidDateComposedOfMonh, write the following code: <br><pre> <code class="objectivec hljs"><span class="hljs-comment"><span class="hljs-comment">// </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> Add validation code</span></span></code> </pre><br>  Save the code and open the Jump bar.  You should see something like this: <br><img src="https://habrastorage.org/storage2/ff7/4be/46f/ff74be46f891c66d52ec93d5c7b38e4f.png"><br>  You can also write: FIXME :, ???:, and !!!:.  ???: means "I have questions" while !!!: means "this is important." <br>  These messages do not attract as much attention as warnings or errors, but they are more noticeable than the lone comment at the bottom of the method.  It is best to leave comments for, well, let's say for commenting and keep a list of tasks outside the code. <br>  Let's now consider one small feature that appeared in Xcode 4.4. <br>  Start applications leaving breakpoint in an empty validation method.  Look at the list of variables in the debugger.  Now step out.  Look at the list of variables again.  You should see the following: <br><img src="https://habrastorage.org/storage2/47f/c46/d15/47fc46d15699c6e8912547744a019e8b.png"><br>  This feature has not received much attention, but it can make your life much easier.  Note that the code was called from here: <br><pre> <code class="objectivec hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ([<span class="hljs-keyword"><span class="hljs-keyword">self</span></span> isValidDateComposedOfMonth:month day:day andYear:year]) {</code> </pre><br>  The code that calls the method now immediately uses the return value in the expression.  Previously, if you wanted to check the return value, you would need to split the string and then output the value. <br>  Now you can simply exit the method and see the return value in the debugger. <br><br><h4>  Sound your method to save data </h4><br>  At the moment you already have enough data in the application.  It is time to save them.  In applications like this, saving should be so frequent as to not lose data.  But this is not for our particular application.  Our application saves data only when the user closes it. <br>  Press the back button on the navigation bar, which will take you back to the root controller, then simulate pressing the Home button.  You can do this from the simulator menu by selecting Hardware \ Home or pressing shift-command-h. <br>  Now stop the program from Xcode and run it again.  The table is empty.  The application could not save anything. <br>  Open <b>AppDelegate.m</b> .  In the <b>applicationDidEnterBackground</b> method, you should immediately see the problem.  There is a method called <b>doLotsOfWork</b> .  Work did not end on time, so iOS closes your app before it completes its cleanup.  The result of this early termination is that the SaveData method is not called. <br>  Let's first make sure the data is saved.  In the applicationDidEnterBackground, move the call to [[DataStore sharedDataStore] saveData];  before calling doLotsOfWork as follows: <br><pre> <code class="objectivec hljs">[[DataStore sharedDataStore] saveData]; [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span> doLotsOfWork];</code> </pre><br>  Now add a breakpoint to the doLotsOfWork line.  Next, make a right or control click on the breakpoint and select Edit Breakpoint.  Select Sound Action and set the sound to Submarine.  When I deal with sounds, I try not to use system sounds as they are easily overlooked. <br>  Next, click on the Automatically continue after evaluating checkbox and finally launch the application. <br><img src="https://habrastorage.org/storage2/956/cf1/506/956cf15062e9a2e160c26bb8472ae547.png"><br>  When the application starts up again, add a new user and click the Home button.  Immediately after closing the application, you will need to hear the sound of the submarine, indicating that the data has been saved. <br>  Stop the application from Xcode and click the Run button.  You will see your data in all its glory. <br>  Using sounds is a good way to learn about executing a certain part of the code without viewing the logs.  You can also use your own sounds if, for example, you want to hear the sound of an explosion when the application is dropped. <br>  To do this, simply place your sounds in the folder: YOUR_HOME_DIRECTORY / Library / Sounds but you will have to restart Xcode so that it can see them. <br><br><h4>  Successful debugging conditions </h4><br>  There are moments in development when it is necessary to change the state of a program at regular intervals.  Sometimes these changes occur in a huge sequence of events that make normal debugging impossible.  And here the conditions come into play. <br>  Now that you have several friends saved in the app, click on one of the names to open the interface for gifts.  This is just a simple grouped table, which can be sorted according to whether a gift can be bought or not. <br>  Click the Add button on the navigation bar to add a new item.  For the name, select Shoes.  For the price of 88.00.  Click OK.  These shoes should appear in the table of gifts. <br>  Now add the following things: <br>  Sleigh / 540.00 <br>  Candles / 1.99 <br>  XBox / 299.99 <br>  iPad / 499.99 <br>  Oops.  You just realized that you really wanted to burn a PS3 instead of an XBox.  You can simply click on the cell to edit it, but for the sake of demonstration, you will do this through a debugger. <br>  Open <b>GiftListsViewController.m</b> and find the cellForRowAtIndexPath method.  Add breakpoint to the line below the code if (gift) { <br><img src="https://habrastorage.org/storage2/4d8/190/5b0/4d81905b01775fe5d31337d6f14e02b2.png"><br>  Now right click or control click on breakpoint and select ‚ÄúEdit Breakpoint‚Äù. <br>  It is time for our condition.  Treat him as easily as with messages.  Add the following code: <br><pre> <code class="objectivec hljs">(<span class="hljs-built_in"><span class="hljs-built_in">BOOL</span></span>) [gift.name isEqualToString:<span class="hljs-string"><span class="hljs-string">@"XBox"</span></span>]</code> </pre><br><img src="https://habrastorage.org/storage2/248/1df/dcb/2481dfdcb0eb5add21bc73326ac3282d.png"><br>  LLDB requires us to cast types, so we put BOOL before the expression.  Click Finish.  Now click the Bought button.  New data is loaded into the table but breakpoint does not work.  Click save.  This time everything stops the selected item in the debugger console is highlighted. <br>  Add the following to the debugger console: <br><pre> <code class="objectivec hljs">(lldb) expr (<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>) [gift setName:<span class="hljs-string"><span class="hljs-string">@"PS3"</span></span>]</code> </pre><br>  Now press the Play button and the table will continue to load and the PS3 will replace the XBox in the gift list. <br>  The same result can be achieved by setting the number of iterations.  Control click or right click on breakpoint and select 'Delete Breakpoint'.  Xcode may be slightly unstable when conditions change, so it‚Äôs better to start from scratch.  Add a new breakpoint in the same place.  This time, ignore the text field and select the number 3. Press Done. <br><img src="https://habrastorage.org/storage2/da8/3f0/22f/da83f022f636845929706bbbb9652e23.png"><br>  Then click Bought and Saved. <br>  We have to get into the same breakpoint.  To make sure that we are on the right object write: <br><pre> <code class="bash hljs">(lldb) po gift</code> </pre><br>  Now let's return the object to the previous one: <br><pre> <code class="bash hljs">(lldb) (void)[gift setName:@<span class="hljs-string"><span class="hljs-string">"XBox 360"</span></span>]</code> </pre><br>  The table should reflect the changes.  Well, isn't real-time editing great? <br><br><h4>  Setup for demolition </h4><br>  When developing data management applications, it is often important to clear the data stores.  There are several ways to do this, it restarts the iPhone simulator before finding the actual storage on your computer and deleting it.  Doing this again and again can be a bit tedious, so you can be a little lazy again and let Xcode do it for us. <br>  We will start by creating a script.  A script is a set of commands that automates certain actions of the operating system.  To create a new script, select New file in the application menu.  Click File \ New \ File or command-n.  Select the category Other and select Shell script there. <br><img src="https://habrastorage.org/storage2/d6f/5ea/04f/d6f5ea04feed096a61a430fc616f5888.png"><br>  Enter the name wipe-db.sh <br><img src="https://habrastorage.org/storage2/81d/5bb/9d9/81d5bb9d99bb86fe8137ea70fd851471.png"><br>  Now we need to find a real data repository. <br>  Open your terminal.  If you do not know where the terminal is located, you can find it in the folder of your application in the Utilities folder. <br>  After starting the terminal, go to your home directory by typing <br><pre> <code class="bash hljs"> YourComputer$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ~</code> </pre><br>  Then list the files and folders in your directory by typing <br><pre> <code class="bash hljs"> YourComputer$ ls</code> </pre><br>  View your catalog if you do not see the Library folder, enter the command <br><pre> <code class="bash hljs">YourComputer$ chflags nohidden ~/Library/</code> </pre><br>  Then restart the terminal. <br>  Now move to the folder with the iPhone simulator using the command: <br><pre> <code class="bash hljs"> YourComputer$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ~/Library/Application\ Support/iPhone\ Simulator/6.0/Applications</code> </pre><br>  List the directory <br><pre> <code class="bash hljs">YourComputer$ ls</code> </pre><br>  You will see many different directories, their number depends on how many applications are installed on the simulator.  You will need a trial and error method on the folder with GiftLister.  To go to the folder, enter: cd THE_NAME_OF_YOUR_FOLDER <br>  To save time, enter only the first three letters of the folder name and press Tab.  The terminal will build the folder names for you.  If not, continue typing letters until it starts to autocomplete.  In my case, this is folder 0B1E5AD3-7292-45A6-BB5D-F1C004AC47F9 so I‚Äôll enter <br><pre> <code class="bash hljs">YourComputer$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> 0B1</code> </pre><br>  and press Tab. <br>  Inside you should see the <b>GiftLister.app</b> file, if you don‚Äôt find it, try another folder.  Also, this project is performed on iOS6 simulator.  If you are using an earlier version of the simulator, enter <br><pre> <code class="bash hljs">YourComputer$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ~/Library/Application\ Support/iPhone\ Simulator/</code> </pre><br>  Then type ls to display its contents.  Select the correct version of the simulator, and go to the directory with: <br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> VERSION_NUMBER/Applications</code> </pre><br>  eg <br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> 6.0/Applications</code> </pre><br>  When you find your application folder, enter <br><pre> <code class="bash hljs">YourComputer$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> Library</code> </pre><br>  and enter ls. <br>  You should see the file giftlister.sqlite.  Jackpot <br>  Now output the path to the file with the command pwd. <br>  Copy the path and paste it into the script by adding /giftlister.sqlite at the end <br>  Your path should look something like this: <br><pre> <code class="bash hljs">/Users/Brian/Library/Application Support/iPhone Simulator/6.0/Applications/0B1E5AD3-7292-45A6-BB5D-F1C004AC47F9/Library/giftlister.sqlite</code> </pre><br>  Unfortunately you can not use spaces, for this you have to transform <br><pre> <code class="bash hljs">/iPhone Simulator/ /Application Support/</code> </pre><br>  at <br><pre> <code class="bash hljs">/iPhone\ Simulator/ /Application\ Support/</code> </pre><br>  the full path will look like <br><pre> <code class="bash hljs">/Users/Brian/Library/Application\ Support/iPhone\ Simulator/6.0/Applications/0B1E5AD3-7292-45A6-BB5D-F1C004AC47F9/Library/giftlister.sqlite</code> </pre><br>  Next, add a delete command that looks just like rm. <br>  Your script will look like this: <br><img src="https://habrastorage.org/storage2/22c/c7a/1ff/22cc7a1ff91844e714345e196e48da02.png"><br>  Save and close your script. <br>  By default, scripts are created read-only; you will need to make this script available for execution.  Return to your home directory by typing <br><pre> <code class="bash hljs">YourComputer$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ~</code> </pre><br>  Then run ls. <br>  Go to your project folder.  If you saved it on your desktop, you can go there by simply executing <br><pre> <code class="bash hljs">YourComputer$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> Desktop YourComputer$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> GiftLister</code> </pre><br>  To go up to the folder type cd ... <br>  After a long walk through the terminal you should see the project folder.  To execute the script just enter <br><pre> <code class="bash hljs"> YourComputer$ chmod a+x wipe-db.sh</code> </pre><br>  Chmode is a program for changing file permissions.  a + x allows a file to be executable for all users, groups and others. <br>  Wow ... so many things.  Take a break.  You deserve it.  Sometimes in order to be lazy you have to work well. <br>  Close the terminal and return to Xcode.  Open <b>AppDelegate.m</b> .  Set breakpoint on the first line of the didFinishLaunchingWithOptions method.  Right or control click on breakpoint and select ‚ÄúEdit Breakpoint‚Äù.  Add an Action and select Shell Command.  In the next dialog box, click the Choose button and select the script you just created.  Click the Automatically continue after evaluating checkbox, and then click Done.  Stop the simulator if it is running.  Now run the application.  The database will be deleted. <br>  The simulator has a tendency to cache large amounts of data, so I think it's best to click Clean from Xcode in the Clean menu, and then click Build and run. <br>  All this required a bit of work when setting up, but now the database can be cleared with just one click of a button.  When this behavior is undesirable just turn off the breakpoint. <br><br>  The author of this post is <a href="http://www.raywenderlich.com/about">Brian Moakley</a> , a person who is not only an iOS application developer and a fiction writer, but also is the first full-time employee of Razerware. <br><br>  <b>PS</b> For all grammatical and syntax errors, write to the PM, they will be corrected as quickly as possible. </div><p>Source: <a href="https://habr.com/ru/post/169353/">https://habr.com/ru/post/169353/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../169341/index.html">redmine_wiki_encryptor - wiki data encryption plugin Redmine</a></li>
<li><a href="../169343/index.html">John Resig: WebKit is jQuery for browser engines</a></li>
<li><a href="../169347/index.html">Theory of Relativity in Pictures</a></li>
<li><a href="../169349/index.html">Opening a company in a foreign jurisdiction for an IT person, freelancer, mobile application developer</a></li>
<li><a href="../169351/index.html">Learn the language by watching serials: vlc + lua + stardict + wordnet + anki = l'amour</a></li>
<li><a href="../169355/index.html">Doodle from Google for Valentine's Day</a></li>
<li><a href="../169359/index.html">Crossbrowser customization of the system scrollbar</a></li>
<li><a href="../169367/index.html">Pirate Bay threatens to sue right-traders who copied The Pirate Bay website design</a></li>
<li><a href="../169369/index.html">ASUS Vivo Tab RT TF600TG tablet review</a></li>
<li><a href="../169371/index.html">Photoshop 1.0 source code published</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>