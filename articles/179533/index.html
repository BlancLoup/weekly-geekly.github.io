<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Improving 3d printing quality with cooling</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="So, you have already come a long way and collected your own 3d printer. It is time to fight for print quality. In this article we will talk about what...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Improving 3d printing quality with cooling</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/0b1/7c3/db5/0b17c3db57f4bca0bc89130081c1521b.jpg" align="left">  So, you have already come a long way and collected your own 3d printer.  It is time to fight for print quality.  In this article we will talk about what model cooling is needed for when printing, what you need to pay attention to when designing a cooling system and how to properly connect a fan using a <a href="">SevenSwitch</a> chip and <a href="http://reprap.org/wiki/Teacup_Firmware">Teacup</a> firmware. <br><a name="habracut"></a><br>  When printing, the plastic is heated to the melting temperature and is extruded through the nozzle of the print head.  In this case, the head literally smoothes the top layer of the model.  If the dimensions of this layer are small compared to the size of the head itself, then the head is always above the printed surface.  This leads to the fact that already laid plastic begins to melt and spoil the model.  Cooling is used to solve this problem. <br><br><img src="https://habrastorage.org/storage2/d4d/92b/6dc/d4d92b6dc700f0e8a6ee72eee942be0c.jpg" align="right">  The easiest way to organize cooling is software.  It requires absolutely no changes to the printer.  The idea is to temporarily move the print head to the side when printing the layers with small dimensions to let the model cool.  In Skeinforge there are <a href="http://fabmetheus.crsndoo.com/wiki/index.php/Skeinforge_Cool">settings</a> that allow to achieve this behavior.  In other slicers (for example, Slic3r), there are no such settings yet, so you can simply add a small additional object to print which the printer will have to move the head a sufficient distance. <br><br>  Unfortunately, software cooling is often not enough, so most advanced 3d printers have a special fan that cools the model being printed.  To improve print quality without modifying the printer, you can put a table fan and direct it towards the printed model.  The disadvantage of this option is the need to manually turn the fan on and off and the inability to precisely control the power and direction of the blower.  A more sophisticated and sophisticated option is to connect the fan to the electronics to control the blowing force and make the duct to form the desired flow direction.  Let's talk about it in more detail. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      There are several pitfalls that you should be aware of when choosing or independently designing an air duct: <br><ul><li>  First, if the fan blows straight onto the heater of the printhead, this can lead to the fact that the heater will no longer cope with the heating of the plastic and at the most crucial moment the temperature may not be high enough for printing.  Therefore, when choosing a finished or manufacturing your own air duct, try to avoid strong direct blowing of the heater and nozzle.  Warming the heater with fiberglass or silicone foam and Kapton tape can help solve this problem. </li><li>  Secondly, if the fan blows strongly on the heated table of the 3d printer, then this may lead to the model sticking and / or tearing off during the printing process.  To solve this problem, turn off the cooling when printing the first few layers of the model, as well as wisely choose a fan.  More in this case does not mean better.  If the model has a small base, you can improve its adhesion by generating edges (the skirt module in skeinforge and the brim parameter in slic3r). </li><li>  Thirdly, aerodynamics is a complicated thing.  Sometimes, visually ideal and logical duct models do not work in practice.  Therefore, before installing the printer, test that the air flow is as planned.  Ideally, it should blow the plastic well out of the nozzle, but not touch the nozzle itself. </li></ul><br><br><img src="https://habrastorage.org/storage2/22b/4fd/3b2/22b4fd3b28490e875db368aba57035b8.jpg" align="left"><br>  You can install the fan directly on the print carriage or on the printer frame and supply air to the carriage through a flexible hose.  Both implementations work equally well, but the second allows you to use a larger fan and make the carriage easier, which reduces the number of vibrations. <br><br>  I have <a href="http://www.thingiverse.com/thing:18277">Greg's carriage</a> mounted <a href="http://www.thingiverse.com/thing:18277">with mounts for two fans</a> .  I could not find a suitable model of the air duct on the thingiverse and decided to make it <a href="http://www.thingiverse.com/thing:87813">myself</a> .  For a start, I made simple air ducts that redirect the flow down.  This design does not pretend to be ideal, it simply allowed me not to reinvent the fan mount to my carriage.  I think <a href="http://www.thingiverse.com/thing:20991">this option</a> should work well. <br><br><img src="https://habrastorage.org/storage2/45c/ce1/ba2/45cce1ba2228a272b7a859ba3b2de09b.jpg" align="right"><br>  Now let's talk about connecting the fan.  Perhaps in your electronics fan control is already provided.  Then you can simply insert the connector in the right place.  If not, you will need to use the SevenSwitch chip, whose manufacturing process and the list of necessary details are described in detail in the <a href="">RepRap Wiki</a> .  If you do not know how to make printed circuit boards, then you can simply solder everything with the help of mounted installation. The principle of connecting the board is extremely simple.  12V power is taken from the standard connector of the computer power supply, the input receives a mass and a logic signal from the microcontroller, the output goes to the fan.  If the leg of the microcontroller supports PWM (for the uninitiated, what is PWM can be read <a href="http://easyelectronics.ru/avr-uchebnyj-kurs-ispolzovanie-shim.html">here</a> ), then the fan speed can be controlled.  This may be useful.  On my printer, I keep the fan turned on at low speeds starting from the second layer, increasing the blowing speed when printing small layers. <br><br><img src="https://habrastorage.org/storage2/8b0/2c2/d7c/8b02c2d7c37f74729dff7f6f0f71909d.jpg" align="left">  Then we will discuss the connection of SevenSwitch to Gen7 electronics with ATMEGA1264P-PU microcontroller on Teacup firmware.  Therefore, you can not read if you have another combination of firmware and electronics. <br><br>  On Gen7 electronics, it is convenient to use the ISP connector, which is marked CONN6 on <a href="">the</a> board's circuit.  It's simple: mass to mass, control foot on the output DIO6 or DIO7.  When using the ATMEGA1264P microcontroller on both of these legs, you can use PWM.  I chose DIO7. <br><br>  Customize the firmware.  To do this, we prescribe another "heater" in config.h.  You need to add bold lines: <br><br>  <i>// name port pwm</i> <i><br></i>  <i>DEFINE_HEATER (extruder, DIO4, 1)</i> <i><br></i>  <i>DEFINE_HEATER (bed, DIO3, 1)</i> <i><br></i>  <i><b>DEFINE_HEATER (fan, DIO7, 1)</b></i> <i><br><br></i>  <i>#define HEATER_EXTRUDER HEATER_extruder</i> <i><br></i>  <i>#define HEATER_BED HEATER_bed</i> <i><br></i>  <i><b>#define HEATER_FAN HEATER_fan</b></i> <i><br></i> <br>  Teacup uses a common h file, for ATMEGA644P and ATMEGA1264P.  The 644th mega on the legs of DIO6 and DIO7 does not have PWM, while 1264 has it.  Therefore, we prescribe the addresses of the PWM registers for ATMEGA1264P.  In the file arduino_644.h change: <br><br>  <i>#define DIO6_PWM <b>NULL</b></i> <i><br></i>  <i>#define DIO7_PWM <b>NULL</b></i> <i><br></i> <br>  on: <br><br>  <i>#define DIO6_PWM <b>&amp; OCR3AL</b></i> <i><br></i>  <i>#define DIO7_PWM <b>&amp; OCR3BL</b></i> <i><br></i> <br>  To test the fan, connect to the printer using <a href="https://github.com/kliment/Printrun">Pronterface</a> or another program that allows you to manually send commands to the printer and send successively: <br><br>  <i>M106 S255 // turn on the fan at full power</i> <i><br></i>  <i>M106 S128 // reduce speed</i> <i><br></i>  <i>M106 S0 // turn off the fan</i> <i><br></i> <br>  If you mix up the polarity when the fan is connected, it will not spin.  Therefore, if the fan does not work, try changing the power wires in some places. <br><br>  It is worth mentioning that there is already a <a href="http://paoparts.com/blog/2012/05/20/ventilateur-pour-lextrudeur-commande-par-la-gen7/">great article</a> about connecting a fan to Gen7 <a href="http://paoparts.com/blog/2012/05/20/ventilateur-pour-lextrudeur-commande-par-la-gen7/">with pictures in French</a> , but it doesn‚Äôt say about changes in firmware for PWM, so I duplicated part of the description here. <br><br>  Well, the most difficult thing left behind is to turn on the fan control in your favorite model slicer and you're done.  For a detailed description of how to do this, I will send you to the documentation on your slicer. </div><p>Source: <a href="https://habr.com/ru/post/179533/">https://habr.com/ru/post/179533/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../179507/index.html">A new version of Yandex Browser has been released: with synchronization and Board API</a></li>
<li><a href="../179523/index.html">DBMS Cach√©. Woodworking - SQL access to multidimensional data structures</a></li>
<li><a href="../179525/index.html">Solving the border-radius + overflow: hidden problem with canvas</a></li>
<li><a href="../179529/index.html">We write the simplest scripting programming language in C # (Part 1)</a></li>
<li><a href="../179531/index.html">How I chose Android for testing</a></li>
<li><a href="../179535/index.html">Million PPS per second - connectedness and balancing</a></li>
<li><a href="../179537/index.html">Sysadmin to 1C developer</a></li>
<li><a href="../179539/index.html">Game Boy Pocket: quick review + giblets</a></li>
<li><a href="../179541/index.html">Remove the starry sky with Emgu CV</a></li>
<li><a href="../179543/index.html">How to drop Windows with six lines of code</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>