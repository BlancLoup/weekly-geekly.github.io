<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The complete guide to moving from HTTP to HTTPS</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nowadays, HTTPS is required for each website : users search for a lock in the address bar when they send personal data; Chrome and Firefox clearly mar...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The complete guide to moving from HTTP to HTTPS</h1><div class="post__text post__text-html js-mediator-article"><h4>  Nowadays, HTTPS is <b>required for each website</b> : users search for a lock in the address bar when they send personal data;  <a href="https://security.googleblog.com/2016/09/moving-towards-more-secure-web.html">Chrome</a> and <a href="http/">Firefox</a> clearly mark insecure websites with forms on non-HTTPS pages;  This affects the <a href="https-as-ranking-signal_6.html">position in search results</a> and has a serious <a href="https://www.schneier.com/blog/archives/2015/06/why_we_encrypt.html">impact on privacy</a> in general.  In addition, there are now several options for getting a free certificate, so switching to HTTPS is just a matter of desire. </h4><br>  Installing HTTPS can be a bit intimidating for an unprepared user - it requires many steps involving various parties, as well as specific knowledge of cryptography and server configurations, and indeed it seems to be generally difficult. <br><br>  In this guide, I will explain the individual components and steps and outline each installation step clearly.  Everything should go smoothly for you, especially if your hoster provides HTTPS certificates itself - then there is a high probability that you will quickly and simply do everything without leaving the control panel. <br><br>  This includes detailed instructions for virtual hosting owners on cPanel, Apache HTTP and nginx server administrators for Linux and Unix, and Internet Information Server for Windows. <br><a name="habracut"></a><br>  Let's start with the basics. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h1>  HTTP, HTTPS, HTTP / 2, SSL, TLS: where what? </h1><br>  Many acronyms are used to describe the communication process between the client and the server.  People unfamiliar with the technical essence often confuse them. <br><br>  <b>Hypertext Transfer Protocol (HTTP)</b> is the primary communication protocol that the client and server must support in order to establish a connection.  He describes such concepts as requests and responses, sessions, caching, authentication, and others. <a href="https://en.wikipedia.org/wiki/Tim_Berners-Lee">Sir Tim Berners-Lee</a> and his team at CERN began working on the protocol and also on the Hypertext Markup Language (HTML) hypertext markup language (HTML) in 1989.  The first official version of the protocol (HTTP 1.0) was released in 1996, and soon in 1997, HTTP 1.1 appeared, which is widely used today. <br><br>  The protocol transmits information between the browser and the server in clear text, allowing you to see this information on the network through which it passes.  This is a security problem, so <b>HTTP Secure (HTTPS)</b> was invented, allowing the client and server to establish an encrypted communication channel and then transmit messages in plain text over this channel, effectively protecting them from listening. <br><br>  The terms SSL and TLS are often used interchangeably, since TLS 1.0 comes in place of SSL 3.0.  SSL itself was developed by Netscape, and TLS is the IETF standard.  At the time of this writing, all versions of SSL (1.0, 2.0, 3.0) are not recommended for use due to various security issues, and modern browsers display warnings about this.  TLS uses versions 1.0, 1.1, and 1.2, and version 1.3 is now at the draft stage. <br><br>  So somewhere between 1996 and 1997 we got the current stable version of the Internet (HTTP 1.1 with or without SSL and TLS), which is still supported on most modern websites.  Previously, HTTP was used for irrelevant traffic (for example, reading news), and HTTPS was used for important traffic (for example, authentication and e-commerce): however, increasing privacy means that browsers like Google Chrome now mark HTTP websites as "not confidential ‚Äùand in the future will display new warnings for them. <br><br>  In the next update of the HTTP protocol - <b>HTTP / 2</b> - which is supported by an increasing number of sites, new functions (compression, multiplexing, priority of different traffic) are implemented in order to reduce delays and increase productivity and security. <br><br>  In HTTP version 1.1, a secure connection is optional (you can have HTTP and / or HTTPS independently of each other), while in HTTP / 2 it is mandatory in practice - even though the standard allows HTTP / 2 without TLS, but most developers browsers have stated that they <a href="https://en.wikipedia.org/wiki/HTTP/2">implement HTTP / 2 support only via TLS</a> . <br><br><h1>  What does HTTPS do? </h1><br>  Why you should think about HTTPS first?  It is introduced for three main reasons: <br><br><ul><li> <b>Confidentiality</b> <br>  In an open environment such as the Internet, it protects communication between the two parties.  For example, in the absence of HTTPS, the owner of the WiFi access point may see private data, such as credit cards, if the user of this access point makes purchases online. </li><li>  <b>Integrity</b> <br>  He guarantees that the information will reach the addressee in full and intact.  For example, our friend with a WiFi access point may add additional advertising to our site, reduce image quality to save traffic, or change the content of articles we read.  HTTPS ensures that the website cannot be changed. </li><li> <b>Authenticity</b> <br>  He guarantees that the website is in reality the one for whom it claims to be.  For example, the same owner of a WiFi access point could send browsers to a fake website.  HTTPS ensures that the website, which appears as <code>example.com</code> , is indeed <code>example.com</code> .  Some certificates even verify the legal identity of the website owner, so you know that <code>yourbank.com</code> owned by YourBank, Inc. </li></ul><br><h1>  Cryptography based </h1><br>  Confidentiality, integrity and authentication are not unique features of HTTPS: they are key cryptographic concepts.  Let's look at them more closely. <br><br><h3>  Confidentiality </h3><br>  Confidentiality is privacy - it is, it protects information from being read by unauthorized persons.  Typically, this process involves translating information from a readable form (including audio and video), which is called <b>plaintext</b> , into an encrypted, unreadable form, called <b>ciphertext</b> .  This process is called <b>encryption</b> .  The reverse process ‚Äî turning an unreadable ciphertext back into readable plaintext ‚Äî is called <b>decryption</b> .  There are many methods for encrypting and decrypting information - <b>encryption functions</b> (or <b>algorithms</b> ). <br><br>  For the two parties to communicate, they must agree on two issues: <br><br><ol><li>  Which algorithm (cryptographic function) to use in communication. </li><li>  What parameters, passwords or rules (i.e. <b>secret</b> ) will be used with the selected method. </li></ol><br>  There are two basic encryption methods: <br><br><ul><li>  <b>symmetrical</b> <br>  Both parties own a <b>shared secret key</b> . </li><li>  <b>asymmetrical</b> <br>  One of the parties owns a <b>pair of public and private keys</b> , representing the basis of <b>the public key infrastructure</b> (public key infrastructure, PKI). </li></ul><br>  Symmetric encryption methods rely on the fact that both parties possess the same secret that the sender uses for encryption, and the recipient for decryption using the same method and the same key (see the illustration below).  The problem with these methods is how the parties agree (that is, exchange) about the secret key, without physically meeting each other ‚Äî they need to establish some kind of secure communication channel. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/624/564/a0a/624564a0aa98de250fff66be7360f979.png"><br>  <i><font color="gray">Symmetric encryption ( <a href="">see large version</a> )</font></i> <br><br>  <b>Asymmetric</b> methods solve problems of this kind - they are based on the concept of public and secret keys.  The plaintext is encrypted with one key and can be decrypted using the key pair. <br><br>  So how does it work?  Suppose that we have two parties that want to communicate safely with each other - Alice and Bob (in each textbook such names of fictional characters are always used, in security guides and others, we respect this tradition).  Each of them has its own pair of keys: one secret and one public.  Secret keys are known only to their respective owners;  public keys are open to all. <br><br>  If Alice wants to send a message to Bob, she must obtain his public key, encrypt the plaintext, and send him a ciphertext.  He then uses his secret key to decrypt it. <br><br>  If Bob wants to send a message to Alice, he must get her public key, encrypt the plaintext and send her a ciphertext.  She then uses her secret key to decrypt. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cf7/057/7a3/cf70577a363a0cd8c51135951190c41f.png"><br>  <i><font color="gray">Asymmetric encryption ( <a href="">see large version</a> )</font></i> <br><br>  When we use symmetric, and when asymmetric encryption? <br><br>  <b>Asymmetric encryption is used to share the secret</b> between the client and the server.  In real life, we usually do not need two-way asymmetric communication ‚Äî it‚Äôs enough if one of the parties (let's call its <b>server</b> for simplicity) owns a set of keys so that it can <b>receive</b> encrypted messages.  In reality, this only protects information in <b>one direction</b> - from the client to the server, because information encrypted with a public key can only be decrypted using a private secret key: it means that only the server can decrypt it.  Another direction is not secure - information encrypted with the server's secret key can be decrypted with its public key, which is open to all.  The other party (also, for simplicity, we will call its <b>client</b> ) starts the communication with encrypting a randomly generated session secret with the server's public key, then sends the ciphertext back to the server, which in turn decrypts it with its secret key and now owns the secret. <br><br>  <b>Then, to protect the real data during transmission, symmetric encryption is used, since it is much faster than asymmetric</b> .  Having exchanged a secret, only two parties (client and server) can encrypt and decrypt information. <br><br>  That is why the first asymmetric part of the handshake is also known as <b>key exchange</b> and that is why encrypted communications use algorithms known as <b>encryption methods</b> . <br><br><h3>  Integrity </h3><br>  Another problem HTTPS solves is <b>data integrity</b> : 1) a guarantee that all information is delivered in its entirety;  2) a guarantee that no one changes the information during its transmission.  To ensure the integrity of information transfer, <b>message digest</b> algorithms are used.  The computation <b>of message authentication codes (MAC)</b> for each message in an exchange is a <b>cryptographic hashing</b> process.  For example, to obtain a MAC (sometimes called a <b>tag</b> ), a method is used that guarantees the practical impossibility (sometimes the term <b>impracticability</b> is used) to do the following: <br><br><ul><li>  change the message without touching the tag, </li><li>  generate the same tag for two different messages, </li><li>  reverse the process and get the original message from the tag. </li></ul><br><h3>  Authentication </h3><br>  What about <b>authenticity</b> ?  The problem with real applications of the public key infrastructure is that neither side has a way to know who the other side really is - they are physically separated from each other.  To prove its authenticity to the second party, a <b>third party is</b> involved <b>, having mutual trust - a certificate authority (CA)</b> .  This CA issues a <b>certificate</b> confirming that the domain name <code>example.com</code> (unique <b>identifier</b> ) is associated with the public key <code>XXX</code> .  In some cases (with EV and OV certificates - see below), CA also verifies that a particular company controls this domain.  This information is guaranteed (that is, certified) by the certification authority X, and this warranty is valid not earlier than the date Y (that is, the certificate becomes valid from this date), and no later than the date Z (that is, the certificate ends on this date) .  All this information is included in a single document called <b>an HTTPS certificate</b> .  To give an easily understood analogy - it‚Äôs like an ID or a passport issued by the government of the country (that is, a third party that everyone trusts) - and everyone who trusts the government will also trust the certificate (passport) of its owner and the owner himself.  It is assumed, of course, that the passport is not a fake, but forging certificates is beyond the scope of this article. <br><br>  Certificate Authorities are organizations that trust certificate signing.  On operating systems such as Windows, macOS, iOS, and Android, as well as in the Firefox browser, there is a list of trusted certificates. <br><br>  You can check which certification centers your browser trusts: <br><br><ul><li>  <b>Firefox</b> <br>  ‚ÄúOptions‚Äù ‚Üí ‚ÄúAdvanced‚Äù ‚Üí ‚ÄúCertificates‚Äù ‚Üí ‚ÄúView Certificates‚Äù ‚Üí ‚ÄúAuthorities‚Äù </li><li>  <b>Windows</b> <br>  ‚ÄúControl Panel‚Äù ‚Üí ‚ÄúInternet Options‚Äù ‚Üí ‚ÄúContent‚Äù - ‚ÄúCertificates‚Äù ‚Üí ‚ÄúTrusted Root Certification Authorities / Intermediate Certification Authorities‚Äù </li><li>  <b>Mac</b> <br>  ‚ÄúApplications‚Äù ‚Üí ‚ÄúUtilities‚Äù ‚Üí ‚ÄúKeychain Access.‚Äù In the ‚ÄúCategory‚Äù select ‚ÄúCertificates‚Äù </li></ul><br>  All certificates are then checked and become trusted.  The verification is carried out either by the operating system or by the browser - trust is established directly or through a verified trusted party.  The trust transfer mechanism is known as a <a href="https://en.wikipedia.org/wiki/Chain_of_trust">chain of trust</a> : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/db4/199/31c/db419931c6af62770f403c422b64b999.png"><br>  <i><font color="gray">Chain of trust ( <a href="">see the larger version</a> )</font></i> <br><br>  You can add additional certificate authorities, which is useful when working with self-signed certificates (which we will discuss later). <br><br>  In most typical situations, the client needs to confirm the identity of the server ‚Äî for example, an e-commerce site for buyers ‚Äî so only this website needs a certificate.  In other situations, such as e-government systems, both the client and the server must prove their identity.  This means that both parties need to present certificates for authentication.  Such a system is also beyond the scope of this article. <br><br><h1>  HTTPS certificate types </h1><br>  There are several types of HTTPS certificates.  They can be classified according to the following criteria. <br><br><h3>  1. Authentication </h3><br><ol><li>  <b>Verified Domain (DV)</b> <br>  The most common type of DV certificate confirms that a domain corresponds to a specific public key.  The browser establishes a secure connection to the server and shows the closed lock icon.  Clicking on the icon displays the message "This website has not provided information about the owner."  There are no additional requirements for obtaining this certificate, except for domain ownership - the DV certificate simply guarantees that the correct public key is presented for this domain.  The browser does not show the name of the legal entity.  DV certificates are often cheap ($ 10 per year) or free - see the sections on <a href="https://habr.com/ru/post/332294/">Let's Encrypt</a> and <a href="https://habr.com/ru/post/332294/">Cloudflare</a> below. </li><li>  <b>Extended Confirmation (EV)</b> <br>  EV certificates confirm the legal entity that owns the website.  This is the most trustworthy type of certificate.  It is issued after the certificate authority checks the legal entity that controls the domain.  A legal entity is checked for several conditions: <br><br><ul><li>  domain management (DV certificate availability); </li><li>  the state register to verify that the company is registered and valid; </li><li>  independent business directories such as Dunn and Bradstreet, connect.data.com from Salesforce, Yellow Pages, etc .; </li><li>  verification phone call; </li><li>  verification of all domain names in the certificate (wildcard characters are explicitly prohibited in EV certificates). </li></ul><br>  Like the locked lock icon, EV HTTPS certificates show in front of the URL the name of a verified legal entity - usually a registered company.  Some devices, such as iOS Safari, show only a confirmed legal entity, completely ignoring the URL.  Clicking on the icon will show details about the organization, such as the full name and legal address.  The cost of these certificates ranges from $ 150 to $ 300 per year. </li><li>  <b>Approved Organization (OV)</b> <br>  Like EV, OV certificates confirm the legal entity that owns the website.  But unlike EV, OV HTTPS certificates do not display the name of a verified legal entity in the user interface.  As a result, OV certificates are not as popular as they have high requirements for verification, but they do not provide the benefits visible to the user.  The cost ranges from $ 40 to $ 100 per year. </li></ol><br><h3>  2. Number of Covered Domains </h3><br>  In the old days, HTTPS certificates usually contained a single domain in the CN field.  A "Subject Alternative Name" (SAN) was added later, so that one certificate covered additional domains.  Nowadays, all HTTPS certificates are created in the same way: even in a certificate for a single domain there will be a SAN field for this single domain (and the second SAN field for the <code>www</code> version of this domain).  However, many vendors for historical reasons still sell HTTPS certificates for one or more domains. <br><br><ol><li>  <b>One domain</b> <br>  This is the most common type of certificate, valid for domain names <code>example.com</code> and <code>www.example.com</code> . </li><li>  <b>Multiple Domains (UCC / SAN)</b> <br>  This type of certificate, also known as a Unified Communications Certificate (UCC) or Subject Alternative Names (SAN) certificate, can cover a list of domains (up to a certain limit).  It is not limited to a single domain - you can specify different domains and subdomains.  The cost usually includes a certain number of domains (from three to five) with the ability to add more (up to a certain limit) for an additional fee.  It is recommended to use it only with related sites, because the client will see the main domain, as well as all additional, when checking the certificate on any website. </li><li>  <b>Subdomains (wildcard)</b> <br>  This type of certificate covers the main domain as well as an unlimited number of subdomains ( <code>*.example.com</code> ) - for example, <code>example.com</code> , <code>www.example.com</code> , <code>mail.example.com</code> , <code>ftp.example.com</code> , etc. Restriction in that it covers only the subdomains of the main domain. </li></ol><br>  A variety of different certificates are shown in the table: <br><br><table><tbody><tr><th width="140">  Certificate type </th><th width="150">  Verified Domain (DV) </th><th>  Approved Organization (OV) </th><th>  Extended Confirmation (EV) </th></tr><tr><td></td><td>  Https </td><td>  Https <br>  Verified holder </td><td>  Https <br>  Verified holder <br>  Information about the owner is displayed in the browser. </td></tr><tr><td>  <b>One domain</b> </td><td colspan="3"> <code>example.com, www.example.com</code> </td> </tr><tr><td>  <b>Multiple domains</b> </td><td colspan="3">  <code>example.com</code> , <code>www.example.com</code> , <code>mail.example.com</code> , <code>example.net</code> , <code>example.org</code> , etc. <br>  A predefined list, up to a certain limit (usually 100) </td></tr><tr><td>  <b>Subdomains</b> </td><td> <code>*.example.com</code> <br>  Suitable for any subdomain </td><td colspan="2">  Not available - all names must be explicitly included in the certificate and verified by a certification authority. </td></tr></tbody></table><br><h1>  Configuration </h1><br>  To summarize, the four HTTPS components require encryption: <br><br><ol><li>  <b>Initial key exchange</b> <br>  Asymmetric algorithms are used (secret and public keys). </li><li>  <b>Identity</b> certification (HTTPS certificate issued by a certification authority) <br>  Asymmetric algorithms are used (secret and public keys). </li><li>  Real <b>Message Encryption</b> <br>  Symmetric algorithms are used (previously shared secret shared). </li><li>  <b>Message digest</b> <br>  Cryptographic hashing algorithms are used. </li></ol><br>  Each of these components uses a set of algorithms (some of them are no longer recommended for use) with different key sizes.  During the handshake, the client and server agree on which combination of methods they will use ‚Äî choose one of about a dozen different public key algorithms (key exchange), one of about a dozen symmetric key algorithms (cipher) and one of three (two are not recommended for use) algorithms for digest messages, which gives us hundreds of combinations. <br><br>  For example, selecting <code>ECDHE-RSA-AES256-GCM-SHA384</code> means that the key exchange will be performed using the <b>Elliptic Curve Diffie-Hellman Ephemeral (ECDHE) algorithm</b> ;  The certificate authority signed the certificate using the <b>Rivest-Shamir-Adleman (RSA) algorithm</b> ;  symmetric message encryption will use the <b>Advanced Encryption Standard (AES)</b> cipher with a <b>256-bit</b> key and will work in <b>GCM</b> mode;  message integrity will provide a secure <b>SHA</b> hashing algorithm using <b>384-bit</b> digests.  (A <a href="https://wiki.mozilla.org/Security/Server_Side_TLS">full list of combinations of algorithms is available</a> ). <br><br>  So, you need to make a choice of some configurations. <br><br><h3>  Cipher Sets </h3><br>  Choosing a cipher suite to use is a trade-off between compatibility and security: <br><br><ul><li>  For compatibility with older browsers, you need the server to support old cipher suites. </li><li>  However, many old cipher suites are no longer considered secure. </li></ul><br>  OpenSSL lists the supported combinations (see above) in descending order of their cryptographic strength.  This is done so that during the initial handshake between the client and the server, they go through the combinations starting from the strongest until they find a combination that is supported by both parties.  It makes sense to try the safest combination first and then gradually weaken security if there are no other options. <br><br>  Wikipedia contains a <a href="https://en.wikipedia.org/wiki/Transport_Layer_Security">comprehensive list of algorithms</a> for all TLS components and indicates their support in different versions of SSL and TLS. <br><br>  <a href="https://mozilla.github.io/server-side-tls/ssl-config-generator/">Mozilla SSL Configuration Generator</a> is a very <b>useful and highly recommended reference book</b> on which cryptographic methods to use on the server.  We will use it later in real server configurations. <br><br><h3>  Key Types </h3><br>  Elliptic Curve Cryptography ( <b>ECC</b> ) certificates are faster processed and use less CPU than RSA certificates, which is especially important for mobile clients.  However, some services, such as Amazon, CloudFront, and Heroku, at the time of this writing, do not yet support ECC certificates. <br><br>  A 256-bit key length for ECC is considered sufficient. <br><br>  Rivest Shamir Adleman ( <b>RSA</b> ) certificates are slower, but compatible with a wide variety of older servers.  The RSA keys are larger in size, so the 2048-bit RSA key is considered the minimum allowed.  RSA certificates with keys of 4096 bits and more can degrade performance - besides, most likely, they are signed with a 2048-bit intermediary key, which for the most part undermines additional protection! <br><br>  You may have noticed the vagueness of the statements made above and the absence of any numbers.  What one server can load will not load another server.  The best way to determine the impact on performance is to check the download on your own server, with a real website and real visitors.  And even that will change with time. <br><br><h1>  Procedures </h1><br>  To obtain HTTPS certificates, complete the following steps: <br><br><ol><li>  Create a pair of private and public keys and prepare a certificate signing request (CSR), including information on the organization and the public key. </li><li>  Contact a certificate authority and request an HTTPS certificate based on CSR. </li><li>  Get a signed HTTPS certificate and install it on your server. </li></ol><br>  There is a set of files containing various components of a public key infrastructure (PKI): a private key and a private key, a CSR, and a signed HTTPS certificate.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To make things even more complicated, different parties use different names (and extensions) to name the same thing. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To begin with, there are two popular storage formats for information - DER and PEM. </font><font style="vertical-align: inherit;">The first one (DER) is binary, and the second (PEM) is the base64 encoded DER file (text). </font><font style="vertical-align: inherit;">By default, Windows directly uses the DER format, and the world of free systems (Linux and UNIX) uses the PEM format. </font><font style="vertical-align: inherit;">There are tools (OpenSSL) for converting files from one format to another. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We will use the following files as examples:</font></font><br><br><ul><li> <code>example.com.key</code> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PEM file with secret key. </font><font style="vertical-align: inherit;">Expansion is </font></font><code>.key</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">not a standard, so someone can use it, and someone not. </font><font style="vertical-align: inherit;">The file must be protected and accessible only to the superuser.</font></font></li><li> <code>example.com.pub</code> <br>    PEM   .         (      ),        .      . </li><li> <code>example.com.csr</code> <br>     .    PEM    ,     .      ,   HTTPS. </li><li> <code>example.com.crt</code> <br>  HTTPS,   .     PEM,     ,   ,   ,        .  <code>.crt</code>   ;    ,    <code>.cert</code>  <code>.cer</code> . </li></ul><br>   ( )  ;   .    ,        ,     .      ,     ,  ‚Äî              . <br><br>   ‚Äî       (  2048 ),    : <br><br> <code>-----BEGIN RSA PRIVATE KEY----- <br> MIIEowIBAAKCAQEAm+036O2PlUQbKbSSs2ik6O6TYy6+Zsas5oAk3GioGLl1RW9N <br> i8kagqdnD69Et29m1vl5OIPsBoW3OWb1aBW5e3J0x9prXI1W/fpvuP9NmrHBUN4E <br> S17VliRpfVH3aHfPC8rKpv3GvHYOcfOmMN+HfBZlUeKJKs6c5WmSVdnZB0R4UAWu <br> Q30aHEBVqtrhgHqYDBokVe0/H4wmwZEIQTINWniCOFR5UphJf5nP8ljGbmPxNTnf <br> b/iHS/chjcjF7TGMG36e7EBoQijZEUQs5IBCeVefOnFLK5jLx+BC//X+FNzByDil <br> Tt+l28I/3ZN1ujhak73YFbWjjLR2tjtp+LQgNQIDAQABAoIBAEAO2KVM02wTKsWb <br> dZlXKEi5mrtofLhkbqvTgVE7fbOKnW8FJuqCl+2NMH31F1n03l765p4dNF4JmRhv <br> /+ne4vCgOPHR/cFsH4z/0d5CpHMlC7JZQ5JjR4QDOYNOpUG51smVamPoZjkOlyih <br> XGk/q72CxeU6F/gKIdLt6Dx03wBosIq9IAE8LwdMnioeuj18qaVg195OMeIOriIn <br> tpWP4eFya5rTpIFfIdHdIxyXsd6hF/LrRc9BMWTY1/uOLrpYjTf7chbdNaxhwH7k <br> buvKxBvCvmXmd6v/AeQQAXbUkdSnbTKDaB9B7IlUTcDJyPBJXvFS1IzzjN6vV+06 <br> XBwHx5ECgYEAyRZLzwnA3bw8Ep9mDw8JHDQoGuQkFEMLqRdRRoZ+hxnBD9V9M0T6 <br> HRiUFOizEVoXxf6zPtHm/T7cRD8AFqB+pA/Nv0ug6KpwUjA4Aihf5ADp0gem0DNw <br> YlVkCA6Bu7c9IUlE0hwF7RLB7YrryJVJit9AymmUTUUHCQTWW2yBhC8CgYEAxoHS <br> HGXthin5owOTNPwLwPfU2o7SybkDBKyW69uTi0KxAl3610DjyA/cV2mxIcFlPv1y <br> HualGd9eNoeCMBy/AUtjzI0K77yeRpjj321rj6k8c8bYWPHH539SiBXLWTY/WQ0w <br> pxfT3d/Z4QMh5d6p+p5f3UIrXESYQd+fAaG5tNsCgYEAksTdTB4YUT9EsWr6eN9G <br> jPlclFQUKV3OMvq77bfYvg8EJORz32nnDDmWS7SUjoOtemwutBlMeWbaKk25aMp3 <br> 5JNMXuV6apeMJ9Dd8GU7qBUqlIvVK31/96XPvzmnYzWZPqRVwO2HPcRFG3YcJmkg <br> JmZQyexJvCQ3wFNxiYUm+y0CgYBXQSMhFnCUg4jWbbDcHlnwRT+LnjHrN2arPE3O <br> eKLfGL6DotmqmjxFaStaRPv2MXMWgAMUsB8sQzG/WEsSaOBQaloAxJJlFIyhzXyE <br> bi1UZXhMD8BzQDu1dxLI/IN4wE6SDykumVuocEfuDxlsWDZxEgJjWD2E/iXK9seG <br> yRa+9wKBgEydVz+C1ECLI/dOWb20UC9nGQ+2dMa+3dsmvFwSJJatQv9NGaDUdxmU <br> hRVzWgogZ8dZ9oH8IY3U0owNRfO65VGe0sN00sQtMoweEQi0SN0J6FePiVCnl7pf <br> lvYBaemLrW2YI2B7zk5fTm6ng9BW/B1KfrH9Vm5wLQBchAN8Pjbu <br> -----END RSA PRIVATE KEY-----</code> <br> <br> <b>   !</b>  ,        (600)    . <br><br>   ‚Äî <b> </b> ‚Äî   : <br><br> <code>-----BEGIN PUBLIC KEY----- <br> MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm+036O2PlUQbKbSSs2ik <br> 6O6TYy6+Zsas5oAk3GioGLl1RW9Ni8kagqdnD69Et29m1vl5OIPsBoW3OWb1aBW5 <br> e3J0x9prXI1W/fpvuP9NmrHBUN4ES17VliRpfVH3aHfPC8rKpv3GvHYOcfOmMN+H <br> fBZlUeKJKs6c5WmSVdnZB0R4UAWuQ30aHEBVqtrhgHqYDBokVe0/H4wmwZEIQTIN <br> WniCOFR5UphJf5nP8ljGbmPxNTnfb/iHS/chjcjF7TGMG36e7EBoQijZEUQs5IBC <br> eVefOnFLK5jLx+BC//X+FNzByDilTt+l28I/3ZN1ujhak73YFbWjjLR2tjtp+LQg <br> NQIDAQAB <br> -----END PUBLIC KEY-----</code> <br> <br>       : <br><br> <code>-----BEGIN CERTIFICATE REQUEST----- <br> MIICzjCCAbYCAQAwgYgxFDASBgNVBAMMC2V4YW1wbGUuY29tMQswCQYDVQQLDAJJ <br> VDEPMA0GA1UECAwGTG9uZG9uMRIwEAYDVQQKDAlBQ01FIEluYy4xIDAeBgkqhkiG <br> 9w0BCQEWEWFkbWluQGV4YW1wbGUuY29tMQswCQYDVQQGEwJHQjEPMA0GA1UEBwwG <br> TG9uZG9uMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm+036O2PlUQb <br> KbSSs2ik6O6TYy6+Zsas5oAk3GioGLl1RW9Ni8kagqdnD69Et29m1vl5OIPsBoW3 <br> OWb1aBW5e3J0x9prXI1W/fpvuP9NmrHBUN4ES17VliRpfVH3aHfPC8rKpv3GvHYO <br> cfOmMN+HfBZlUeKJKs6c5WmSVdnZB0R4UAWuQ30aHEBVqtrhgHqYDBokVe0/H4wm <br> wZEIQTINWniCOFR5UphJf5nP8ljGbmPxNTnfb/iHS/chjcjF7TGMG36e7EBoQijZ <br> EUQs5IBCeVefOnFLK5jLx+BC//X+FNzByDilTt+l28I/3ZN1ujhak73YFbWjjLR2 <br> tjtp+LQgNQIDAQABoAAwDQYJKoZIhvcNAQELBQADggEBAGIQVhXfuWdINNfceNPm <br> CkAGv4yzpx88L34bhO1Dw4PYWnoS2f7ItuQA5zNk9EJhjkwK8gYspK7mPkvHDbFa <br> Um7lPSWsm3gjd3pU7dIaHxQ+0AW9lOw5ukiBlO4t3qgt+jTVZ3EhMbR0jDSyjTrY <br> kTgfuqQrGOQSmLb5XviEtCcN0rseWib3fKIl8DM69JiA2AALxyk7DCkS1BqLNChT <br> pnbgvtlUhc4yFXNCtwPGskXIvLsCn2LRy+qdsPM776kDLgD36hK0Wu14Lpsoa/p+ <br> ZRuwKqTjdaV23o2aUMULyCRuITlghEEkRdJsaXadHXtNd5I5vDJOAAt46PIXcyEZ <br> aQY= <br> -----END CERTIFICATE REQUEST-----</code> <br> <br>   CSR         ACME Inc.,    , ,    <code>example.com</code> . <br><br> ,  <b> HTTPS</b>   : <br><br> <code>-----BEGIN CERTIFICATE----- <br> MIIDjjCCAnYCCQCJdR6v1+W5RzANBgkqhkiG9w0BAQUFADCBiDEUMBIGA1UEAwwL <br> ZXhhbXBsZS5jb20xCzAJBgNVBAsMAklUMQ8wDQYDVQQIDAZMb25kb24xEjAQBgNV <br> BAoMCUFDTUUgSW5jLjEgMB4GCSqGSIb3DQEJARYRYWRtaW5AZXhhbXBsZS5jb20x <br> CzAJBgNVBAYTAkdCMQ8wDQYDVQQHDAZMb25kb24wHhcNMTYwNDE5MTAzMjI1WhcN <br> MTcwNDE5MTAzMjI1WjCBiDEUMBIGA1UEAwwLZXhhbXBsZS5jb20xCzAJBgNVBAsM <br> AklUMQ8wDQYDVQQIDAZMb25kb24xEjAQBgNVBAoMCUFDTUUgSW5jLjEgMB4GCSqG <br> SIb3DQEJARYRYWRtaW5AZXhhbXBsZS5jb20xCzAJBgNVBAYTAkdCMQ8wDQYDVQQH <br> DAZMb25kb24wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCb7Tfo7Y+V <br> RBsptJKzaKTo7pNjLr5mxqzmgCTcaKgYuXVFb02LyRqCp2cPr0S3b2bW+Xk4g+wG <br> hbc5ZvVoFbl7cnTH2mtcjVb9+m+4/02ascFQ3gRLXtWWJGl9Ufdod88Lysqm/ca8 <br> dg5x86Yw34d8FmVR4okqzpzlaZJV2dkHRHhQBa5DfRocQFWq2uGAepgMGiRV7T8f <br> jCbBkQhBMg1aeII4VHlSmEl/mc/yWMZuY/E1Od9v+IdL9yGNyMXtMYwbfp7sQGhC <br> KNkRRCzkgEJ5V586cUsrmMvH4EL/9f4U3MHIOKVO36Xbwj/dk3W6OFqTvdgVtaOM <br> tHa2O2n4tCA1AgMBAAEwDQYJKoZIhvcNAQEFBQADggEBABwwkE7wX5gmZMRYugSS <br> 7peSx83Oac1ikLnUDMMOU8WmqxaLTTZQeuoq5W23xWQWgcTtfjP9vfV50jFzXwat <br> 5Ch3OQUS53d06hX5EiVrmTyDgybPVlfbq5147MBEC0ePGxG6uV+Ed+oUYX4OM/bB <br> XiFa4z7eamG+Md2d/A1cB54R3LH6vECLuyJrF0+sCGJJAGumJGhjcOdpvUVt5gvD <br> FIgT9B04VJnaBatEgWbn9x50EP4j41PNFGx/A0CCLgbTs8kZCdhE4QFMxU9T+T9t <br> rXgaspIi7RA4xkSE7x7B8NbvSlgP79/qUe80Z7d8Oolva6dTZduByr0CejdfhLhi <br> mNU= <br> -----END CERTIFICATE-----</code> <br> <br>        .        ‚Äî     ,        . <br><br>      ,     cPanel, Linux, FreeBSD  Windows.   ,     .       DV,    ,    <a href="https://habr.com/ru/post/332294/">Let's Encrypt</a>  <a href="https://habr.com/ru/post/332294/">Cloudflare</a> . <br><br><h1>  1.         </h1><br>       2048-  RSA,     .   ,    ,  ECC (,      Heroku  AWS),     ECC. <br><br><h3> cPanel </h3><br><ol><li>   cPanel  . </li><li>     ‚ÄúSecurity‚Äù   ‚ÄúSSL/TLS‚Äù. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e56/719/42b/e5671942b458f2d94ac15f2fd6408aed.png"><br> <i><font color="gray"> ‚ÄúSecurity‚Äù  cPanel ( <a href="">.  </a> )</font></i> <br><br></li><li>     ‚ÄúSSL/TLS Manager‚Äù.  ‚ÄúPrivate Keys (KEY)‚Äù     . <br><img src="https://habrastorage.org/getpro/habr/post_images/8c1/7a6/dd3/8c17a6dd394cfcb4e1ac0ffcf743525b.png"><br><br> <i><font color="gray">‚ÄúSSL/TLS Manager‚Äù  cPanel ( <a href="">.  </a> )</font></i> <br><br></li><li>     ‚ÄúGenerate, Paste or Upload‚Äù   ‚ÄúPrivate <br> Key‚Äù.   2048       ‚ÄúGenerate‚Äù. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7ad/dad/4b1/7addad4b142863dedd74cec265fecd9e.png"><br> <i><font color="gray">   (‚ÄúPrivate Key‚Äù)  cPanel ( <a href="">.  </a> )</font></i> <br><br></li><li>     ,      : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ebf/c12/14f/ebfc1214f697886f272376ef5b5aa4b5.png"><br> <i><font color="gray">    cPanel ( <a href="">.  </a> )</font></i> <br><br></li><li>      ‚ÄúPrivate Keys‚Äù,     : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/682/397/7df/6823977df472ad954955290377f40c28.png"><br> <i><font color="gray"> ‚ÄúPrivate Keys‚Äù  cPanel     ( <a href="">.  </a> )</font></i> <br><br></li><li>    ‚ÄúSSL/TLS Manager‚Äù.  ‚ÄúCertificate Signing Requests (CSR)‚Äù       . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/50c/a4a/133/50ca4a13311127a9b3ba28b84687e316.png"><br> <i><font color="gray"> ‚ÄúSSL/TLS Manager‚Äù  cPanel ( <a href="">.  </a> )</font></i> <br><br></li><li>     ‚ÄúGenerate Service Request‚Äù.        .      (        !),     ‚ÄúDomains‚Äù,        ,      HTTPS.       ( <code>example.com</code> );       <code>www</code> (  <code>www.example.com</code> ).     ‚ÄúGenerate‚Äù. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/819/754/43d/81975443d993f9db6abb247eeda5023d.png"><br> <i><font color="gray"> ‚ÄúCreate New Certificate Signing Request‚Äù  cPanel ( <a href="">.  </a> )</font></i> <br><br></li><li>    CSR,      : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/158/42d/7eb/15842d7eb252e926ec29062b07336a12.png"><br> <i><font color="gray">  CSR  cPanel ( <a href="">.  </a> )</font></i> <br><br></li><li>       ‚ÄúCertificate Signing Request‚Äù,     CSR: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/596/99c/375/59699c375e63767b9faf582404dc3f17.png"><br> <i><font color="gray"> ‚ÄúCertificate Signing Request‚Äù  cPanel    CSR ( <a href="">.  </a> )</font></i> <br><br></li></ol><br><h3> Linux, FreeBSD </h3><br> ,   OpenSSL.    : <br><br> <code>openssl version</code> <br> <br>  ,         : <br><br><ul><li> <b>Debian, Ubuntu</b>   <br> <code>sudo apt-get install openssl</code> </li> <li> <b>Red Hat, CentOS</b>   <br> <code>sudo yum install openssl</code> </li> <li> <b>FreeBSD</b> <br> <code>make -C /usr/ports/security/openssl install clean</code> </li> </ul><br>      CSR  : <br><br> <code>openssl req -newkey rsa:2048 -nodes -keyout example.com.key -out example.com.csr</code> <br> <br>    ,         CSR: <br><br> <code>Generating a 2048 bit RSA private key <br> ........................+++ <br> ................................................................+++ <br> writing new private key to 'example.com.key' <br> ----- <br> You are about to be asked to enter information that will be incorporated <br> into your certificate request. <br> What you are about to enter is what is called a Distinguished Name or a DN. <br> There are quite a few fields but you can leave some blank <br> For some fields there will be a default value, <br> If you enter '.', the field will be left blank.</code> <br> <br>      (        !),    <b> ‚ÄúCommon Name‚Äù (,  FQDN   )</b> ,        ,      HTTPS.       ( <code>example.com</code> );       <code>www</code> (  <code>www.example.com</code> ): <br><br> <code>Country Name (2 letter code) [AU]:GB <br> State or Province Name (full name) [Some-State]:London <br> Locality Name (eg, city) []:London <br> Organization Name (eg, company) [Internet Widgits Pty Ltd]:ACME Inc. <br> Organizational Unit Name (eg, section) []:IT <br> Common Name (eg server FQDN or YOUR name) []:example.com <br> Email Address []:admin@example.com <br> <br> Please enter the following 'extra' attributes <br> to be sent with your certificate request <br> A challenge password []: <br> An optional company name []:</code> <br> <br><h3> Internet Information Server  Windows </h3><br><ol><li>  ‚ÄúStart‚Äù ‚Üí ‚ÄúAdministrative Tools‚Äù ‚Üí ‚ÄúInternet Information Services (IIS) Manager‚Äù.    .    ‚ÄúServer Certificates‚Äù   : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/914/9b2/15c/9149b215c93e4592efd34161ef971f06.png"><br> <i><font color="gray"> ‚ÄúInternet Information Services (IIS) Manager‚Äù.    ‚ÄúServer Certificates‚Äù. ( <a href="">.  </a> )</font></i> <br><br></li><li>  ‚ÄúCreate Certificate Request‚Äù   . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/080/760/5b1/0807605b1060972561cfcfa6b547567a.png"><br> <i><font color="gray"> ‚ÄúCreate Certificate Request‚Äù   . ( <a href="">.  </a> )</font></i> <br><br></li><li>     ,     ‚ÄúCommon Name‚Äù,        .  ‚ÄúNext‚Äù. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6de/569/c27/6de569c27ce6b86e4d71d453be0c7a4b.png"><br> <i><font color="gray">    . ( <a href="">.  </a> )</font></i> <br><br></li><li>       ‚ÄúCryptographic Service Provider.‚Äù  ‚ÄúBit length‚Äù  <code>2048</code> .  ‚ÄúNext‚Äù. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d1f/28e/42a/d1f28e42ae940d8b6030cdcdf3896e53.png"><br> <i><font color="gray"> ‚ÄúBit length‚Äù  <code>2048</code> . ( <a href="">.  </a> )</font></i> <br><br></li><li>      CSR   ‚ÄúFinish‚Äù. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d33/333/bb4/d33333bb4fb1affa8eb2f9135fd7ad6a.png"><br> <i><font color="gray">     CSR   ‚ÄúFinish‚Äù. ( <a href="">.  </a> )</font></i> <br><br></li></ol><br><h1>  2.   HTTPS </h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To obtain a certificate for your web site, first purchase a credit for an HTTPS certificate of the chosen type (DV, OV, EV, one site, several sites, subdomains - see above) from the seller of certificates. </font><font style="vertical-align: inherit;">At the end of the process, you will need to send a request for a certificate that will spend the purchased credit for the selected domain. </font><font style="vertical-align: inherit;">You will be asked to provide (that is, insert in the download field) all the CSR text, including the lines </font></font><code>-----BEGIN CERTIFICATE REQUEST-----</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and </font></font><code>-----END CERTIFICATE REQUEST-----</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">If you need an EV or OV certificate, you will need to specify the legal entity for which you are requesting a certificate. </font><font style="vertical-align: inherit;">You may also be asked for additional documents confirming the fact that you represent this company. </font><font style="vertical-align: inherit;">The certificate registrar will then verify your request (and all related documents) and issue a signed HTTPS certificate.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Getting HTTPS certificate </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Your hosting provider or HTTPS registrar may have a different registration procedure, but the general logic is the same. </font></font><br><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Find a vendor of HTTPS certificates. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Choose a certificate type (DV, OV, EV, one site, several sites, subdomains) and add it to the cart. </font><font style="vertical-align: inherit;">Choose your preferred payment method and make a payment.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Activate a new HTTPS certificate for your domain. </font><font style="vertical-align: inherit;">You can either insert into the form, or upload a file with a certificate signing request. </font><font style="vertical-align: inherit;">The system will extract the certificate information from the CSR.</font></font></li><li>     ¬´  ¬ª (‚ÄúDomain Control Validation‚Äù, DCV) ‚Äî   <b> </b> ,    HTML ( <b>  HTML</b> ),     <code>TXT</code>      ( <b>  DNS</b> ).      DCV  . </li><li>   ,       HTTPS.  . </li></ol><br><h3>   </h3><br>     ,       .     ,             ,      ,      ‚Äî       ,       .    -,       ,          . <br><br> ,     ‚Äî       <code>example.com</code> ,         . <br><br>       ,   OpenSSL. <br><br> <code>openssl x509 -signkey example.com.key -in example.com.csr -req -days 365 -out example.com.crt</code> <br> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Once the certificate is generated, you need to install it on your server. </font><font style="vertical-align: inherit;">If you have a hosting and HTTPS registration service from a single provider (many hosting providers also sell HTTPS certificates), then the automatic procedure for installing and activating your new HTTPS certificate for the website may be applied. </font><font style="vertical-align: inherit;">If you are hosted somewhere else, then you need to download a certificate and configure the server to use it.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Step 3. Install the HTTPS certificate for your website </font></font></h1><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cPanel </font></font></h3><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Return to the ‚ÄúSSL / TLS Manager‚Äù. </font><font style="vertical-align: inherit;">Click ‚ÄúCertificates (CRT)‚Äù to import the new certificate. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/199/b9d/005/199b9d0058feb7a588601c8c2e611b75.png"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Section ‚ÄúSSL / TLS Manager‚Äù in cPanel ( </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">see large version</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></font></i> <br><br></li><li>     ‚ÄúPaste, Upload or Generate‚Äù   ‚ÄúCertificate‚Äù.    ,    HTTPS,       ‚ÄúBrowse‚Äù. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b2b/d56/b53/b2bd56b53881172a80290e67398b2057.png"><br> <i><font color="gray">   HTTPS  cPanel ( <a href="">.  </a> )</font></i> <br><br></li><li>         HTTPS,   ,        .      ‚ÄúSave Certificate‚Äù. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5f6/600/ceb/5f6600ceb9e166e45848f86f2b988635.png"><br> <i><font color="gray">     HTTPS  cPanel ( <a href="">.  </a> )</font></i> <br><br></li><li>    ,      . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/869/acf/18c/869acf18c50a5ece135f94351bd7c2da.png"><br> <i><font color="gray">  HTTPS  cPanel ( <a href="">.  </a> )</font></i> <br><br></li><li>     ‚ÄúCertificates (CRT)‚Äù,       HTTPS. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/210/3fa/5ba/2103fa5ba18c5225b3620efc947e26e6.png"><br> <i><font color="gray"> ‚ÄúCertificates‚Äù  cPanel    HTTPS. ( <a href="">.  </a> )</font></i> <br><br></li><li>    ‚ÄúSSL/TLS Manager‚Äù.  ‚ÄúInstall and Manage SSL for your website (HTTPS)‚Äù,    -  . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f90/942/399/f909423995da997ab61db1b356064ab0.png"><br> <i><font color="gray"> ‚ÄúSSL/TLS Manager‚Äù  cPanel. ( <a href="https://www.smashingmagazine.com/wp-content/uploads/2017/05/cpanel-certificate-managment-">.  </a> )</font></i> <br><br></li><li>      ‚ÄúInstall an SSL Website‚Äù.   ‚ÄúBrowse Certificates‚Äù     HTTPS.    -    (    )     ‚ÄúCertificate‚Äù  ‚ÄúPrivate Key‚Äù. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/da4/a67/066/da4a67066f4d5bb84d60d112836027d1.png"><br> <i><font color="gray"> ‚ÄúInstall an SSL Website‚Äù  cPanel. ( <a href="">.  </a> )</font></i> <br><br></li></ol><br> ,       -   <code>https://www.example.com</code> .    ,  , ,     HTTP-  HTTPS.         <code>.htaccess</code> (   - Apache)      . <br><br> <code>RewriteEngine On <br> <br> RewriteCond %{HTTPS} off <br> RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]</code> <br> <br>   <code>.htaccess</code>  ,     <code>RewriteCond</code>  <code>RewriteRule</code>     <code>RewriteEngine On</code> . <br><br><h3> Linux, FreeBSD </h3><br>        ( <code>example.com.key</code> ),     ( <code>example.com.csr</code> )    HTTPS ( <code>example.com.crt</code> ): <br><br><ul><li> <b>Debian, Ubuntu</b>  , <b>FreeBSD</b> <br> <code>cp example.com.crt /etc/ssl/certs/ <br> cp example.com.key /etc/ssl/private/ <br> cp example.com.csr /etc/ssl/private/</code> </li> <li> <b>Red Hat, CentOS</b>   <br> <code>cp example.com.crt /etc/pki/tls/certs/ <br> cp example.com.key /etc/pki/tls/private/ <br> cp example.com.csr /etc/pki/tls/private/ <br> restorecon -RvF /etc/pki</code> </li> </ul><br>          <code>600</code> . <br><br><ul><li> <b>Debian, Ubuntu</b>   <br> <code>chown -R root. /etc/ssl/certs /etc/ssl/private <br> chmod -R 0600 /etc/ssl/certs /etc/ssl/private</code> </li> <li> <b>Red Hat, CentOS</b>   <br> <code>chown -R root. /etc/pki/tls/certs /etc/pki/tls/private <br> chmod -R 0600 /etc/pki/tls/certs /etc/pki/tls/private</code> </li> <li> <b>FreeBSD</b> <br> <code>chown -R root:wheel /etc/ssl/certs /etc/ssl/private <br> chmod -R 0600 /etc/ssl/certs /etc/ssl/private</code> </li> </ul><br><h3> Apache </h3><br>   HTTPS   ,   : <br><br><ul><li> ,     <b>mod_ssl</b> , </li><li>       HTTPS ( <code>.crt</code> ), </li><li>     Apache. </li></ul><br>    <code>mod_ssl</code> .     ,     : <br><br> <code>apache2 -M | grep ssl</code> <br>  or <br> <code>httpd -M | grep ssl</code> <br> <br>  <code>mod_ssl</code> ,     ‚Ä¶ <br><br> <code>ssl_module (shared) <br> Syntax OK</code> <br> <br> ‚Ä¶   . <br><br>       ,   : <br><br><ul><li> <b>Debian, Ubuntu</b>   <br> <code>sudo a2enmod ssl <br> sudo service apache2 restart</code> </li> <li> <b>Red Hat, CentOS</b>   <br> <code>sudo yum install mod_ssl <br> sudo service httpd restart</code> </li> <li> <b>FreeBSD</b> <br> <code>make -C /usr/ports/www/apache24 config install clean <br> apachectl restart</code> </li> </ul><br>    Apache (httpd.conf): <br><br><ul><li> <b>Debian, Ubuntu</b> <br> <code>/etc/apache2/apache2.conf</code> </li> <li> <b>Red Hat, CentOS</b> <br> <code>/etc/httpd/conf/httpd.conf</code> </li> <li> <b>FreeBSD</b> <br> <code>/usr/local/etc/apache2x/httpd.conf</code> </li> </ul><br><br><pre> <code class="hljs vhdl">Listen <span class="hljs-number"><span class="hljs-number">80</span></span> Listen <span class="hljs-number"><span class="hljs-number">443</span></span> &lt;VirtualHost *:<span class="hljs-number"><span class="hljs-number">80</span></span>&gt; ServerName example.com ServerAlias www.example.com Redirect <span class="hljs-number"><span class="hljs-number">301</span></span> / https://www.example.com/ &lt;/VirtualHost&gt; &lt;VirtualHost *:<span class="hljs-number"><span class="hljs-number">443</span></span>&gt; ServerName example.com Redirect <span class="hljs-number"><span class="hljs-number">301</span></span> / https://www.example.com/ &lt;/VirtualHost&gt; &lt;VirtualHost *:<span class="hljs-number"><span class="hljs-number">443</span></span>&gt; ServerName www.example.com ... SSLEngine <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> SSLCertificateFile/path/<span class="hljs-keyword"><span class="hljs-keyword">to</span></span>/signed_certificate_followed_by_intermediate_certs SSLCertificateKeyFile /path/<span class="hljs-keyword"><span class="hljs-keyword">to</span></span>/private/key # Uncomment the following directive <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> using client certificate authentication #SSLCACertificateFile /path/<span class="hljs-keyword"><span class="hljs-keyword">to</span></span>/ca_certs_for_client_authentication # HSTS (mod_headers <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> required) (<span class="hljs-number"><span class="hljs-number">15768000</span></span> seconds = <span class="hljs-number"><span class="hljs-number">6</span></span> months) Header always set Strict-<span class="hljs-keyword"><span class="hljs-keyword">Transport</span></span>-Security <span class="hljs-string"><span class="hljs-string">"max-age=15768000"</span></span> ... &lt;/VirtualHost&gt; # intermediate <span class="hljs-keyword"><span class="hljs-keyword">configuration</span></span>, tweak <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> your needs SSLProtocol <span class="hljs-keyword"><span class="hljs-keyword">all</span></span> -SSLv3 SSLCipherSuite ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA:ECDHE-RSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-RSA-AES256-SHA256:DHE-RSA-AES256-SHA:ECDHE-ECDSA-DES-CBC3-SHA:ECDHE-RSA-DES-CBC3-SHA:EDH-RSA-DES-CBC3-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:DES-CBC3-SHA:!DSS SSLHonorCipherOrder <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> SSLCompression off SSLSessionTickets off # OCSP Stapling, only <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> httpd <span class="hljs-number"><span class="hljs-number">2.3</span></span>.<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> later SSLUseStapling <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> SSLStaplingResponderTimeout <span class="hljs-number"><span class="hljs-number">5</span></span> SSLStaplingReturnResponderErrors off SSLStaplingCache shmcb:/var/run/ocsp(<span class="hljs-number"><span class="hljs-number">128000</span></span>)</code> </pre> <br>         <a href="https://mozilla.github.io/server-side-tls/ssl-config-generator/">Mozilla SSL Configuration Generator</a> .      .        .        ‚Äî         ,       . <br><br>      ,     HTTP  HTTPS,    - <code>www</code>    <code>www</code> (   SEO). <br><br><h3>  Nginx </h3><br>    nginx ( <code>nginx.conf</code> ): <br><br><ul><li> <b>Debian, Ubuntu, Red Hat, CentOS</b> <br> <code>/etc/nginx/nginx.conf</code> </li> <li> <b>FreeBSD</b> <br> <code>/usr/local/etc/nginx/nginx.conf</code> <br> <br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">server</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">listen</span></span> <span class="hljs-number"><span class="hljs-number">80</span></span> default_server; <span class="hljs-keyword"><span class="hljs-keyword">listen</span></span> [::]:<span class="hljs-number"><span class="hljs-number">80</span></span> default_server; # Redirect <span class="hljs-keyword"><span class="hljs-keyword">all</span></span> HTTP requests <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> HTTPS <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> a <span class="hljs-number"><span class="hljs-number">301</span></span> Moved Permanently response. <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">301</span></span> https://$host$<span class="pgsql"><span class="pgsql">request_uri; } </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">server</span></span></span><span class="pgsql"> { </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">listen</span></span></span><span class="pgsql"> </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">443</span></span></span><span class="pgsql"> ssl http2; </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">listen</span></span></span><span class="pgsql"> [::]:</span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">443</span></span></span><span class="pgsql"> ssl http2; # certs sent </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">to</span></span></span><span class="pgsql"> the client </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">in</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">SERVER</span></span></span><span class="pgsql"> HELLO are concatenated </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">in</span></span></span><span class="pgsql"> ssl_certificate ssl_certificate /</span><span class="hljs-type"><span class="pgsql"><span class="hljs-type">path</span></span></span><span class="pgsql">/</span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">to</span></span></span><span class="pgsql">/signed_cert_plus_intermediates; ssl_certificate_key /</span><span class="hljs-type"><span class="pgsql"><span class="hljs-type">path</span></span></span><span class="pgsql">/</span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">to</span></span></span><span class="pgsql">/private_key; ssl_session_timeout </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">1</span></span></span><span class="pgsql">d; ssl_session_cache shared:SSL:</span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">50</span></span></span><span class="pgsql">m; ssl_session_tickets </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">off</span></span></span><span class="pgsql">; # Diffie-Hellman parameter </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">for</span></span></span><span class="pgsql"> DHE ciphersuites, recommended </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">2048</span></span></span><span class="pgsql"> bits ssl_dhparam /</span><span class="hljs-type"><span class="pgsql"><span class="hljs-type">path</span></span></span><span class="pgsql">/</span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">to</span></span></span><span class="pgsql">/dhparam.pem; # intermediate </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">configuration</span></span></span><span class="pgsql">. tweak </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">to</span></span></span><span class="pgsql"> your needs. ssl_protocols TLSv1 TLSv1</span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">.1</span></span></span><span class="pgsql"> TLSv1</span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">.2</span></span></span><span class="pgsql">; ssl_ciphers </span><span class="hljs-string"><span class="pgsql"><span class="hljs-string">'ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA:ECDHE-RSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-RSA-AES256-SHA256:DHE-RSA-AES256-SHA:ECDHE-ECDSA-DES-CBC3-SHA:ECDHE-RSA-DES-CBC3-SHA:EDH-RSA-DES-CBC3-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:DES-CBC3-SHA:!DSS'</span></span></span><span class="pgsql">; ssl_prefer_server_ciphers </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">on</span></span></span><span class="pgsql">; # HSTS (ngx_http_headers_module </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">is</span></span></span><span class="pgsql"> required) (</span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">15768000</span></span></span><span class="pgsql"> seconds = </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">6</span></span></span><span class="pgsql"> months) add_header </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">Strict</span></span></span><span class="pgsql">-Transport-</span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">Security</span></span></span><span class="pgsql"> max-age=</span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">15768000</span></span></span><span class="pgsql">; # OCSP Stapling </span><span class="hljs-comment"><span class="pgsql"><span class="hljs-comment">--- # fetch OCSP records from URL in ssl_certificate and cache them ssl_stapling on; ssl_stapling_verify on; ## verify chain of trust of OCSP response using Root CA and Intermediate certs ssl_trusted_certificate /path/to/root_CA_cert_plus_intermediates; resolver &lt;IP DNS resolver&gt;; .... }</span></span></span></span></code> </pre> </li></ul><br>         <a href="https://mozilla.github.io/server-side-tls/ssl-config-generator/">Mozilla SSL Configuration Generator</a> .      .        .        ‚Äî         ,       . <br><br>         HTTP  HTTPS     HTTP/2! <br><br><h3> Internet Information Server  Windows </h3><br><ol><li>  ‚ÄúStart‚Äù ‚Üí ‚ÄúAdministrative Tools‚Äù ‚Üí ‚ÄúInternet Information Services (IIS) Manager‚Äù.    .    ‚ÄúServer Certificates‚Äù   . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/914/9b2/15c/9149b215c93e4592efd34161ef971f06.png"><br> <i><font color="gray"> ‚ÄúInternet Information Services (IIS) Manager‚Äù.    ‚ÄúServer Certificates‚Äù. ( <a href="">.  </a> )</font></i> <br><br></li><li>  ‚ÄúComplete Certificate Request‚Äù   . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/03f/3b5/595/03f3b5595222fb8719a90d476fd0b8d0.png"><br> <i><font color="gray"> ‚ÄúComplete Certificate Request‚Äù   . ( <a href="">.  </a> )</font></i> <br><br></li><li>     ( <code>example.com.crt</code> ),      .  -    ‚ÄúFriendly name‚Äù,    .       ‚ÄúPersonal‚Äù (IIS 8+).  ‚ÄúOK‚Äù. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c91/56e/0a3/c9156e0a3ad30a65e323e9b3d2bbe095.png"><br> <i><font color="gray">   . ( <a href="">.  </a> )</font></i> <br><br></li><li>    ,       ‚ÄúServer Certificates‚Äù. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ae3/42a/e55/ae342ae557ca542a68b80229b0876246.png"><br> <i><font color="gray">      ‚ÄúServer Certificates‚Äù. ( <a href="">.  </a> )</font></i> <br><br></li><li>     .   ‚ÄúSites‚Äù  -,      HTTPS.  ‚ÄúBindings‚Äù   . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/231/425/fc9/231425fc9a5be3474410013c984c496e.png"><br> <i><font color="gray"> -   ‚ÄúBindings‚Äù. ( <a href="">.  </a> )</font></i> <br><br></li><li>   ‚ÄúSite Bindings‚Äù   ‚ÄúAdd‚Äù. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7d4/9b3/2d6/7d49b32d67bac210cafd1b03fc45b805.png"><br> <i><font color="gray">  ‚ÄúAdd‚Äù. ( <a href="">.  </a> )</font></i> <br><br></li><li>    : <br><ul><li> ‚ÄúType‚Äù: ‚Äúhttps‚Äù </li><li> ‚ÄúIP address‚Äù: ‚ÄúAll Unassigned‚Äù </li><li> ‚ÄúPort‚Äù: ‚Äú443‚Äù </li></ul><br>   ‚ÄúSSL Certificate‚Äù    HTTPS    .  ‚ÄúOK‚Äù. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/df4/19e/192/df419e192493d531e8d96259e775bba8.png"><br> <i><font color="gray"> ‚ÄúHTTPS‚Äù     HTTPS. ( <a href="">.  </a> )</font></i> <br><br></li><li>    -    HTTP  HTTPS. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/613/8bd/b98/6138bdb989358c09c08c0979fe24e6f5.png"><br> <i><font color="gray">   -    HTTP  HTTPS. ( <a href="">.  </a> )</font></i> <br><br></li></ol><br><h3>     </h3><br>            ¬´ !     (  )¬ª.   ,     :  ,      (,  ,   .),       ,    <code>http://</code> .         ( <code>/images/image.png</code> , <code>/styles/style.css</code>  . .)     ( <code>../images/image.png</code> ),      URL,    <code>https://</code> ,   <code>&lt;script src="https://code.jquery.com/jquery-3.1.0.min.js"&gt;&lt;/script&gt;</code> . <br><br>        ,          . <br><br><h3>   </h3><br>  ,         HTTPS,         <a href="https://www.ssllabs.com/ssltest/">Qualys SSL Server Test</a> .    -,       ,      .          . <br><br><h3>  Extension </h3><br>         ‚Äî   .        ‚Äî       ,      .        .    :     ,    HTTPS     .        ,                 .     ,    ,          .         ,     ,      ,      -. <br><br><h3>  Feedback </h3><br>       ,  -       ,       HTTPS.     ,                 ,      HTTPS. ,      ,        ,       ,         .      . <br><br><a name="1"></a><h1> Let's Encrypt </h1><br>   <a href="https://letsencrypt.org/">Let's Encrypt</a> : <br><br><blockquote> <i>Let's Encrypt ‚Äî  ,      (CA),     .  Let's Encrypt  <a href="https://letsencrypt.org/isrg/">Internet Security Research Group (ISRG)</a> . <br><br>   Let's Encrypt: <br><br></i> <ul><li> <b></b> <br>       Let's Encrypt     . </li><li>  <b>Automation</b> <br>    -    Let's Encrypt    ,      . </li><li>  <b>Security</b> <br> Let's Encrypt        TLS,     ,     -    . </li><li> <b></b> <br>              . </li><li> <b></b> <br>          ,    . </li><li> <b></b> <br>    ,    , Let's Encrypt ‚Äî      ,  - . </li></ul></blockquote><br>    Let's Encrypt,         . Let's Encrypt   ,    ,  - HTTPS  . <br><br><h3>  How it works </h3><br>       Let's Encrypt    .      ,  ,   : <br><br><ul><li> <b></b> <br>  HTTPS  Let's Encrypt        . </li><li>  <b>Automation</b> <br>  HTTPS  Let's Encrypt <a href="https://letsencrypt.org/2015/11/09/why-90-days.html"> 90 </a> ,      HTTPS,    .    <b></b>   ; ,        (     cron)             ‚Äî   ¬´  ¬ª. </li><li>  <b>Security</b> <br>  HTTPS  Let's Encrypt     ,           .  <a href="https://letsencrypt.org/docs/certificate-compatibility/"> </a>  ,       . </li></ul><br><h3>  Restrictions </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Let's Encrypt only issues DV certificates. OV and EV certificates are not supported, and there are currently no plans to support them. Certificates are issued for one or several domains, but at the moment there are no certificates with subdomains (wildcards). For more information, see the </font></font><a href="https://letsencrypt.org/docs/faq/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Let's Encrypt FAQ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The automatic mode of operation Let's Encrypt imposes some </font></font><a href="https://letsencrypt.org/docs/rate-limits/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">restrictions on use</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> to protect the infrastructure from intentional and unintentional abuse. The usage limits are high enough to prevent ordinary users with even hundreds of domains available. But if you manage HTTPS certificates on a very large scale, then you should familiarize yourself with these limits.</font></font><br><br>      ( Windows XP SP3)  .  .  <a href="https://letsencrypt.org/docs/certificate-compatibility/"> </a> . <br><br><h1>   HTTPS  Let's Encrypt   </h1><br><h3> cPanel </h3><br><ol><li>   cPanel  . </li><li>     ‚ÄúSecurity‚Äù   ‚ÄúLet's Encrypt for cPanel‚Äù. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ad8/52b/c2d/ad852bc2d67e51553630dc040897b09d.png"><br> <i><font color="gray"> ‚ÄúSecurity‚Äù  cPanel. ( <a href="">.  </a> )</font></i> <br><br></li><li>     ‚ÄúLet's Encrypt for cPanel‚Äù.     ( <code>example.com</code>  <code>www.example.com</code> )   ‚ÄúIssue Multiple‚Äù. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1fc/08d/2c5/1fc08d2c5fb351201dee917dad46cdd9.png"><br> <i><font color="gray">      ‚ÄúIssue Multiple‚Äù. ( <a href="">.  </a> )</font></i> <br><br></li><li>    .          (  - <code>www</code> ,       <code>www</code> ,      ‚ÄúSubject Alt Name‚Äù (SAN)  HTTPS.    ‚ÄúIssue‚Äù. <b>,       </b> ,         ‚Äî   . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4d1/499/82d/4d149982dee00e96a3b4827eb99c3a10.png"><br> <i><font color="gray"> ‚ÄúIssue‚Äù     . ( <a href="">.  </a> )</font></i> <br><br></li><li>    ,     .  ¬´¬ª,    . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1f7/aa9/07b/1f7aa907b86c034e4b268c9ee52661ea.png"><br> <i><font color="gray">   ,     . ( <a href="">.  </a> )</font></i> <br><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">You will see your domain in the list ‚ÄúYour domains with Let's Encrypt certificates‚Äù. </font><font style="vertical-align: inherit;">You can check the details of the certificate and make sure that the website opens in a browser with a prefix </font></font><code>https://</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/eac/bfe/81a/eacbfe81a83e52d8989f668091b7c49b.png"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Your domains with Let's Encrypt certificates. </font><font style="vertical-align: inherit;">( </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">see big version</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></font></i> <br><br></li></ol><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Linux, FreeBSD, others </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The easiest way to install Let's Encrypt certificate on your server is to use </font></font><a href="https://certbot.eff.org/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Certbot</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Simply enter your website and operating system - and follow the instructions. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/140/a97/54c/140a9754cb70919869f9947f4fb571d6.png"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Certbot for Let's Encrypt ( </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">see big version</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></font></i> <br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Internet Information Server for Windows </font></font></h3><br>        IIS  Windows,     . <br><br>       Windows-  Let's Encrypt: <br><br><ul><li> <a href="https://github.com/ebekker/ACMESharp">ACMESharp</a> (PowerShell) ‚Äî    Windows-. </li><li> <a href="https://github.com/Lone-Coder/letsencrypt-win-simple/wiki">letsencrypt-win-simple</a> (  )      . </li><li> <a href="http://certify.webprofusion.com/">Certify</a>  GUI  ACMESharp,      -. </li></ul><br><a name="2"></a><h1>  Cloudflare </h1><br> <a href="https://www.cloudflare.com/">Cloudflare</a> ‚Äî ,      (CDN),     -    DDoS-.     HTTPS    ,    ‚Äî    DV Cloudflare Universal SSL.     HTTPS,    -. <br><br>      ,  -     ‚ÄúCrypto‚Äù. <br><br><h1> CertSimple </h1><br> <a href="https://certsimple.com/">CertSimple</a>    EV.         EV HTTPS,  Let's Encrypt     DV HTTPS,        ,     .  Here are its benefits: <br><br><ul><li> <b>   </b> <br>            .    ,      . </li><li> <b> </b> <br>  ,  ,       7-10 . </li><li> <b>       </b> <br>           . </li></ul><br><h1>  - HTTPS   IP- </h1><br> -        IP-     TLS.     ,         HTTP,    HTTPS  TLS   ,     HTTP ‚Äî       ,    -    HTTP,    .         ,   ,         .  ,        TLS  . <br><br>     :    IP-     TLS,       .        ‚Äî   IPv4  ,         HTTPS ,               . <br><br>          TLS   <a href="https://en.wikipedia.org/wiki/Server_Name_Indication">Server Name Indication (SNI)</a> .     ,  .    SNI   ,  -    100%,          . <br><br>    SNI  <a href="httpd/NameBasedSSLVHostsWithSNI">Apache</a> , <a href="https_servers.html">nginx</a>  <a href="https://www.iis.net/learn/get-started/whats-new-in-iis-8/iis-80-server-name-indication-sni-ssl-scalability">IIS (8+)</a> .   . <br><br><h1>  Useful resources </h1><br><ul><li> <a href="https://mozilla.github.io/server-side-tls/ssl-config-generator/">Mozilla SSL Configuration Generator</a> </li><li> <a href="https://www.ssllabs.com/ssltest/">  SSL</a> , Qualys </li><li> <a href="https://wiki.mozilla.org/Security/Server_Side_TLS"> TLS   </a> ,  Mozilla </li><li> <a href="https://github.com/ssllabs/research/wiki/SSL-and-TLS-Deployment-Best-Practices">   SSL  TLS</a> , SSL Labs </li><li> <a href="https://www.ssllabs.com/projects/documentation/index.html"></a> , Qualys SSL Labs </li><li> <a href="https://interconnectit.com/products/search-and-replace-for-wordpress-databases/">  PHP      </a> , Interconnect IT.     HTTP  HTTPS (,   .)    WordPress. </li></ul></div><p>Source: <a href="https://habr.com/ru/post/332294/">https://habr.com/ru/post/332294/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../332208/index.html">Solving the traveling salesman problem with the Little algorithm with visualization on the plane</a></li>
<li><a href="../332214/index.html">IBM Watson and cybersecurity: how a cognitive system protects valuable data</a></li>
<li><a href="../332260/index.html">Work with VPC using the package ansible-selvpc-modules</a></li>
<li><a href="../332264/index.html">Conducting a retrospective of the method of six hats</a></li>
<li><a href="../332292/index.html">Translation of Redmine plug-ins from TelegramCLI to Webogram</a></li>
<li><a href="../332296/index.html">How to wind a rating on Habr√© and leave unnoticed</a></li>
<li><a href="../332298/index.html">LibGDX + Scene2d (we program on Kotlin). Part 1</a></li>
<li><a href="../332300/index.html">Golem: decentralization of the new level</a></li>
<li><a href="../332302/index.html">Laws and projects that will change the face of Russian IT. Part III. Final?</a></li>
<li><a href="../332304/index.html">What kind of involvement does your product need and how to measure it more accurately</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>