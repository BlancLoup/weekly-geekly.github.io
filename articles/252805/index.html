<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Hardware Shared DAS or why LSI Syncro is needed</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Solutions based on the concept of Shared DAS , have recently become increasingly popular. This is explained very simply. There is a demand for them fr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Hardware Shared DAS or why LSI Syncro is needed</h1><div class="post__text post__text-html js-mediator-article"><img align="right" src="https://habrastorage.org/files/91f/577/7f2/91f5777f2ec049e7834ba8c4e5bd6515.jpg"><br><br>  Solutions based on the <a href="http://habrahabr.ru/company/etegro/blog/215333/">concept of Shared DAS</a> , have recently become increasingly popular.  This is explained very simply.  There is a demand for them from a wide and very dynamic market sector, from small and medium business (SMB) to the level of small enterprises.  Traditional solutions with low resiliency have already ceased to make them, but at the same time, the cost of traditional SAN storage networks is too high for them.  Namely this, high fault tolerance due to the use of multiple data paths and low cost of equipment provide Shared DAS solutions.  A nice bonus is the fairly high performance and low latency in data transmission, since SAS is used as the switching environment.  Microsoft acted as the locomotive, proposing Windows Server 2012, which included the Storage Spaces component, which provides convenient and comfortable virtualization of data storage at the OS level. <br><br>  But what about those for whom Storage Spaces performance is not enough, but at the same time the size of the project is not so big that it makes sense to talk about a full-fledged SAN?  The answer is to use LSI Syncro. <br><a name="habracut"></a><br>  Before we proceed to the consideration of what LSI Syncro is, let's formulate what exactly Storage Spaces gives rise to the main complaints: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  Storage Spaces cannot be used to boot the operating system </li><li>  The performance of virtual parity disks (Parity or Dual Parity, which is analogous to the well-known RAID5 and RAID6 arrays, respectively) is low due to the implementation features of the latter </li><li>  implementing parity at the software level slightly increases the load on the processor and server memory </li></ul><br><br>  And now let's go back to the hero of our article. <br>  LSI Syncro is a set of two RAID controllers that communicate with each other and can synchronize data in cache memory.  Their task is to provide access to the connected drives at once to two servers.  In addition to the pair of controllers themselves, the scope of supply immediately includes a pair of CacheVault batteries, the task of which is to ensure the safety of data in the cache memory of the controllers in case the server is left without power. <br><br>  Many people are puzzled by the fact that to ensure the coherence of data in the controller cache, it is not the dedicated data transfer medium that is used, but the same SAS data transfer channels that are used to transfer the main data flow between controllers and expanders.  But after a good deal of thought, it can be concluded that just a dedicated line for the Heartbeat could be that single point of failure, and so we have a duplicate path.  As for channel sharing, the traffic between the caches is not so large as to have a noticeable impact on performance. <br><br><img src="https://habrastorage.org/files/91f/577/7f2/91f5777f2ec049e7834ba8c4e5bd6515.jpg"><br>  <i>LSI Syncro, internal performance</i> <br><br><img src="https://habrastorage.org/files/553/628/938/553628938d91440a97cd2e382e5e7548.jpg"><br>  <i>LSI Syncro, external performance</i> <br><br>  Currently, the LSI Syncro product family includes 4 products: 9271-8i, 9286-8e, 9361-8i and 9380-8e.  The first two sets are SAS 6G solutions that differ in port design: on the 9271-8i, there are 2 internal miniSAS ports on each controller, and on the 9286-8e - two external ports.  More recently, the 9361-8i and 9380-8e represent a further development of the LSI Syncro family and differ from their predecessors in the transition to the SAS 12G interface.  So if you think SAS 6G is already outdated or insufficiently productive and are ready to consider infrastructure only at 12G, then there will be no problems with that. <br><br>  Some general technical specifications: <br><table><tbody><tr><td>  Supported RAID types <br></td><td>  0, 1, 5, 6, 10, 50, 60 <br></td></tr><tr><td>  Number of virtual disks per controller <br></td><td>  up to 64 in HA domain (High Availability domain, high availability domain) <br></td></tr><tr><td>  Controller form factor <br></td><td>  MD2 Low profile (6.6 "x 2.536") <br></td></tr><tr><td>  Interface <br></td><td>  PCI-Express v.3.0 x8 <br></td></tr><tr><td>  Supported devices <br></td><td>  up to 96 SAS SSD / HDD, up to 31 SAS expander, in total up to 120 SAS devices in the HA domain <br></td></tr><tr><td>  Working temperature <br></td><td>  55 ¬∞ C <br></td></tr></tbody></table><br><br>  It‚Äôs worthwhile to start a detailed discussion of the possibilities of this solution with the fact that not only the obvious Windows Server 2008 and 2012, but also Red Hat Enterprise Linux 6.3 and 6.4, SuSE Linux Enterprise Server 11 SP2 and SP3, CentOS 6.4 and 6.5 are declared as supported operating systems. , the driver for which lies on the site in the public domain.  Here it is, happiness and opportunities for open source adherents. <br><br>  What are the benefits we get from LSI Syncro? <br><br>  <b>Performance</b> <br><br><ul><li>  Unloading of the central processor and main memory due to the removal of parity control algorithms in RAID 5/6 arrays on the processor and controller cache </li><li>  Capacious and powerful write cache with power failure protection and mirroring </li></ul><br><br>  If we look at the data provided by LSI, then the possibilities (or rather, superiority) of LSI Syncro in the area of ‚Äã‚Äãdisk subsystem performance will look like this: <br><br><img src="https://habrastorage.org/files/2e5/c41/bb3/2e5c41bb35bb4e3badc2f31bc3f6bd56.png"><br>  <i>LSI Syncro performance versus Storage Space</i> s <br><br>  As for the maximum performance achieved on the new generation with the SAS 12G interface, the current firmware 2.0 - 23.0.0-0055 allows you to get from 48 SAS disks 15000 rpm in RAID0 8900 MB / s for reading and 4500 MB / s for writing.  They know about the problems with the recording in the LSI company, they say that this is due to the unsuccessful implementation of recording caching synchronization, and that in the next firmware 2.2 this problem is completely solved and the recording performance is the same 8900 MB / s - the performance limit of the disks themselves. <br><br>  <b>Reliability</b> <br><br><ul><li>  Independence from the software platform </li><li>  Data does not depend on server failure </li><li>  OS crash protection </li><li>  Easy and convenient construction of highly secure storage systems with duplication of all data paths </li></ul><br><br>  <b>Additional features</b> <br><br>  In addition to the above, it is worth noting such an important and useful feature of LSI Syncro, as the ability to create not only public cluster disk pools, but also dedicated pools for specific servers.  This feature is important when building AlwaysOn Availability Groups based on MS SQL Server 2012. <br><br>  In some cases, the ability to load operating systems from disks connected to LSI Syncro will also be valuable. <br><br>  Perhaps, it is worth noting the simplicity of scaling such solutions: SAS expanders support both cascading and self-configuration, which means that you can expand the total pool of available drives simply by adding another inexpensive disk shelf.  And with full freedom to choose its manufacturer. <br>  How much is scaling in principle, up to the stop?  This is not a problem: only two 60-disk shelves allow you to fully choose the capabilities of LSI Syncro and get at your disposal a pool of 96 x 6 TB = 576 TB, that is, a half-byte raw disk capacity on low-cost SAS NL disks.  This, of course, is less than the capabilities of modern SAN or the same Storage Spaces, but it seems to us that very few among the target audience will be able to call it insufficient scalability. <br><br>  If you return to the Storage Spaces shortcomings mentioned at the beginning of the article, it becomes obvious that the use of LSI Syncro allows you to close most of the weak points, expanding the overall spectrum of Shared DAS capabilities. <br><br>  <b>Use cases</b> <br><br><img src="https://habrastorage.org/files/90a/abd/02c/90aabd02c0c248b9a4a952fec8681f95.png"><br>  <i>Using LSI Syncro 9361-8i "cluster in a box" on the example of ETegro RS420 G4</i> <br><br>  The most obvious use case is to use LSI Syncro with internal SAS ports in <a href="http://habrahabr.ru/company/etegro/blog/250345/">cluster-to-box</a> solutions, where LSI Syncro RAID controllers replace adapters used in SAS cluster nodes to access shared storage pools.  Thus, we get a compact, but at the same time high-performance and fail-safe solution. <br>  Highly available and productive file server of a small company, remote office or even a small enterprise, a database server, a web server, a basis for powerful network drives, a video processing server, a virtual environment storage server - all this can be quickly, easily and inexpensively built on LSI Syncro. <br><br><img src="https://habrastorage.org/files/dc2/2fa/6b1/dc22fa6b1b1a459f9ce4f33ea9d2d62c.png"><br>  <i>An example of using LSI Syncro 9380-8e with two RS530 G4 servers and a JS300 G3 disk shelf</i> <i><br></i>  <i>(blue SAS lines for cascading shelves)</i> <br><br>  If the computational capabilities of the ‚Äúboxed‚Äù clusters are not enough (there is little memory, or there is not enough performance of the two processors of the node), then you can take full-sized servers, and now you should install LSI Syncro with external ports in them.  And then everything is limited only by the fantasy of the system architect and the cascading capabilities of SAS-expanders / shelves.  The scope is the same as for box clusters, only with a higher computational load, plus powerful data analysis and processing systems, systems for high-performance computing. <br><br>  Summing up, I would like to note that the concept of Shared DAS is not intended to become a panacea and replace all traditional data storage options, and the SAS interface will never replace Ethernet, FiberChannel and InfiniBand.  But in many cases, when SAS interface capabilities are quite enough in terms of scale and range, Shared DAS solutions based on LSI Syncro can be the most profitable, convenient and productive way to store data. </div><p>Source: <a href="https://habr.com/ru/post/252805/">https://habr.com/ru/post/252805/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../252791/index.html">About educational robotics and circles</a></li>
<li><a href="../252793/index.html">GPS control on the free service ViaLatM 2.0</a></li>
<li><a href="../252799/index.html">How to create instances in Google Cloud, set up access and hook Bucket to it. Howto</a></li>
<li><a href="../252801/index.html">VMware VDI Solutions Video Review, Horizon 6 Update Review</a></li>
<li><a href="../252803/index.html">Coub API Tutorial</a></li>
<li><a href="../252809/index.html">Restart daemon in PHP without losing connections to it</a></li>
<li><a href="../252813/index.html">Can you trust the code in the editor? bi-directional text</a></li>
<li><a href="../252817/index.html">Automation of financial statements</a></li>
<li><a href="../252819/index.html">How to prepare TCP</a></li>
<li><a href="../252821/index.html">Nginx and https. We get class A +</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>