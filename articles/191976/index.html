<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Video calls between Aastra 8000i terminals via IP-PBX Asterisk</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article will discuss the desktop video terminal Aastra 8000i Desktop Media Phone. The terminal is part of the Aastra BluStar Ecosystem family and...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Video calls between Aastra 8000i terminals via IP-PBX Asterisk</h1><div class="post__text post__text-html js-mediator-article">  This article will discuss the desktop video terminal <b>Aastra 8000i</b> Desktop Media Phone.  The terminal is part of the Aastra BluStar Ecosystem family and is well integrated with other products from Aastra - <b>Aastra A400</b> and <b>Aastra MX-ONE</b> telephone exchanges.  However, we will consider the option of interaction of these terminals with third-party IP-PBX for the organization of three-way video conferencing and video point-to-point communication. <br><br><img src="https://habrastorage.org/storage3/255/eff/4e5/255eff4e555d7a1207264e7a61bc520f.jpg" alt="image"><br><br>  This terminal has a lot of specific moments in the configuration.  When using the 8000i with communication platforms from Aastra, all the nuances are already taken into account when configuring subscribers of the appropriate type, since the station is ready to interact with these devices and in fact tunes the Aastra 8000i terminals by itself. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In our laboratory, we tried to understand the nuances of the configuration and connect the device to an arbitrary IP-PBX, in particular to FreePBX ( <b>Asterisk</b> ). <br><br>  The main difficulty in preparing the terminal for interaction with the IP station is that it must take some of its settings from the configuration file lying on the configuration server.  Thus, before starting the configuration, we need to have the following: <br><ul><li>  a working IP-PBX with free SIP accounts and support for the H.264 codec </li><li>  elevated configuration server (TFTP) </li></ul><br>  The configuration server can be servers that support one of the protocols: TFTP, FTP, HTTP or HTTPS. <br><br>  <u>Our laboratory unit includes:</u> <br><ul><li>  Video terminals: Aastra 8000i (with current firmware version 4.2.0-1260) </li><li>  FreePBX: Asterisk v 11.2.1 (deployed on a virtual machine running vmware ESXi 5.1) </li></ul><br><a name="habracut"></a><br><h5>  <b>Step 1. Terminal network settings</b> </h5><br>  After switching on and initial loading the terminal, go to the main menu of the device: <b>APP MENU ‚Üí TOOLS ‚Üí TERMINAL IDENTITY</b> . <br><br><img src="https://habrastorage.org/storage3/5a7/924/0ff/5a79240ffc6cdc653d590571db2e4344.png" alt="image"><br><br>  Here we need to enter the following network parameters for our terminal: <br><ul><li>  IP address: 172.31.31.132 </li><li>  Net mask: 255.255.255.0 </li><li>  Default gateway: 172.31.31.3 </li><li>  Primary DNS: 8.8.8.8 </li></ul><br><br>  After that, you should decide where the terminal will need to take its tinctures from.  Aastra 8000i can download configuration information using the following protocols: <br><ul><li>  HTTP </li><li>  Https </li><li>  FTP </li><li>  Tftp </li></ul><br>  The main nuance is that the first three protocols (HTTP, HTTPS, FTP) must be deployed with mandatory authorization (i.e. a simple FTP server with an anonymous user will not work).  For each Aastra 8000i terminal, you will need to have a separate user on the corresponding server with the same username and password on your system in order for it to pick up its individual settings.  Therefore, in our laboratory, we chose the option with TFTP, because it does not provide for authorization, there is no need to create users, and all the settings files are in the same folder. <br><br>  Thus, in the next line of the <b>configuration server</b> we indicate the address of the TFTP server: <br>  <b>tftp: //172.31.31.250/bs</b> , where 172.31.31.250 is the IP address of our tftp server, bs is the folder on it where all the configuration files are located. <br><br>  After all this, you must click <b>done</b> , and the terminal will offer to restart to apply the entered parameters. <br><br><h5>  <b>Step 2. Preparing configuration files</b> </h5><br>  Each time the Aastra 8000i terminal is launched, the device contacts the address specified in the configuration server line (according to the appropriate protocol, in our case it is tftp).  Each terminal expects to find four configuration files at this address.  These files must have the following names: <br><ul><li>  <b>aastra.cfg</b> - contains configuration information that applies to all Blustar 8000i terminals. </li><li>  <b>8000i.cfg</b> - contains information for a specific model (8000i). </li><li>  <b>&lt;mac-address&gt; .cfg</b> - contains information about the configuration of a specific Blustar 8000i device.  The file name consists of the mac address of the terminal. </li><li>  <b>user.cfg</b> - contains information related to user configuration that is not configured via the Blustar 8000i terminal (i.e., SIP authentication, proxy settings, registrar settings, etc.).  The * .cfg file can be edited even when the user is already logged in, but the changes will not take effect until the next restart. </li></ul><br>  Next, we consider in more detail the four files required to configure the Aastra 8000i terminal, with the <b>MAC address</b> E06995DDF6DB, with the <b>SIP</b> username 107, the <b>password</b> Aastra123, which must register with the <b>SIP-registrar</b> with the address 172.19.19.30, when using a <b>tftp server</b> with 172.31.31.250: <br><br>  <b>Aastra.cfg file</b> <br><img src="https://habrastorage.org/storage3/7e3/d87/e72/7e3d87e72f0dbc876d6ceb16bc2a39a0.png" alt="image"><br><br>  <b>8000i.cfg file</b> <br><img src="https://habrastorage.org/storage3/f53/6aa/7b7/f536aa7b7fe899d6480af7ac7497974c.png" alt="image"><br><br>  <b>File E06995DDF6DB.cfg</b> <br><img src="https://habrastorage.org/storage3/ee1/01f/9a9/ee101f9a960ad8b5e8a6c382b1a40730.png" alt="image"><br><br>  <b>File 107.cfg</b> <br><img src="https://habrastorage.org/storage3/b6f/291/1aa/b6f2911aa8286e32025f9b8688933abb.png" alt="image"><br><br><h4>  <b>Step 3. Setting FreePBX options</b> </h4><br>  On our virtual server running vmware ESXi 5.1, installed FreePBX Asterisk v.11.2.1. <br><img src="https://habrastorage.org/storage3/3c0/67d/f26/3c067df2643161f9141ccbe59c2d2412.png" alt="image"><br><br><img src="https://habrastorage.org/storage3/ecb/29f/4a4/ecb29f4a49d1de9f52f2359bd4b2a290.png" alt="image"><br><br>  The system has three SIP accounts - <b>100, 101, 107</b> . <br>  Next, you need to make sure that the <b>sip.conf</b> file, in the <b>[general]</b> section, contains options for supporting video transmission: <br><ul><li>  <b>videosupport</b> = yes </li><li>  <b>allow</b> = h264 </li></ul><br><img src="https://habrastorage.org/storage3/064/f9b/30f/064f9b30fd818969cbb15c3c6aaecf8f.png" alt="image"><br><br>  Now you can reboot the video terminal Blustar 8000i, and register it on our IP-PBX. <br><br><img src="https://habrastorage.org/storage3/320/c28/48a/320c2848acf7875d64b7bde466292db8.png" alt="image"><br><br>  Thus, by registering three sip-users at our PBX, we can organize a three-way video conferencing.  In addition, the devices work as ordinary SIP-phones with all available functions. <br><br><h4>  <b>PS</b> </h4><br>  The ability to transfer video between terminals Aastra 8000i, when switching through Asterisk, was achieved only on the latest versions of FreePBX, which support the H.264 video codec. </div><p>Source: <a href="https://habr.com/ru/post/191976/">https://habr.com/ru/post/191976/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../191964/index.html">Axure 7 is out in the open beta</a></li>
<li><a href="../191966/index.html">Ubuntu Edge: Campaign Lessons</a></li>
<li><a href="../191968/index.html">Measuring the quality of the mobile Internet: where we are sharing a container of pink Samsung Galaxy S II</a></li>
<li><a href="../191970/index.html">Specifications hours Galaxy Gear</a></li>
<li><a href="../191972/index.html">Digg Reader for Android is finally out!</a></li>
<li><a href="../191978/index.html">XenApp: transfer of servers to a new domain</a></li>
<li><a href="../191980/index.html">How to stop dragging diskettes on a DOS machine</a></li>
<li><a href="../191982/index.html">We repair the USB cable on the knee</a></li>
<li><a href="../191984/index.html">DebiGger for Yii 1.1 ported from Yii 2</a></li>
<li><a href="../191986/index.html">Unit tests in practice</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>