<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Corner rounding on pure CSS with anti-aliasing</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I bring my 5 kopecks to the problem of rounding off the corners. I want to propose a method that is not revolutionary, but just slightly improves the ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Corner rounding on pure CSS with anti-aliasing</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/60e/bee/ee0/60ebeeee06a2f98bc5c26e3da0c4613d.png" align="left">  I bring my 5 kopecks to the problem of rounding off the corners.  I want to propose a method that is not revolutionary, but just slightly improves the other. <br><br>  Many are familiar with the cornering method of CSS tools, which are actively used by Google.  I personally met him on the <a href="http://www.shtorkin.ru/demo_rc" title="CSS rounding corners">Shtorkin.ru</a> website. <br><br>  The method is made in pure CSS, without images, without JS, completely cross-browser.  He calmly stretches in width and height.  Its only drawback: the lack of smoothness (aliasing).  In principle, everything is completely fixable. <br><a name="habracut"></a><br>  So, in Photoshop, an option with anti-aliasing is made.  It turns out that all you need to do is add 7 pixels, of which 4 colors are about half lighter than the color of the block, and 3 are even lighter, almost merging with the background. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      We take as a basis the option with Shtorkin.ru: <br><br> <a href="http://vadimgalkin.pp.ru/design/skrgl/1vers/" title="Working option"><img src="https://habrastorage.org/getpro/habr/post_images/190/e8e/94a/190e8e94ad4f393a1c561dde4c5603ea.png" title="Working option"></a> <br><br>  Source: <br><br> <code>&lt;style&gt;</code> <br> <code>.grc {padding: 5px 15px;}</code> <br> <code>.grc .e{display:block; position: relative;}</code> <br> <code>.grc .e *{display: block; overflow: hidden; position: relative; z-index: 2; font-size: 0px;}</code> <br> <code>.grc be b, .grc be i, .grc be u {height: 1px !important; background: #1d5198;}</code> <br> <code>.grc be b{margin: 0 5px;}</code> <br> <code>.grc be i{margin: 0 3px;}</code> <br> <code>.grc be u{margin: 0 2px;}</code> <br> <code>.grc be span{margin: 0 1px; height: 2px !important; background: #1d5198;}</code> <br> <code>.grc div{background: #1d5198; padding: 0 10px; color: white;}</code> <br> <code>&lt;/style&gt;</code> <br> <br> <code>&lt;div style='width: 300px;'&gt;</code> <br> <code>&lt;div class='grc'&gt;</code> <br> <code>&lt;b class='e'&gt;&lt;b&gt;&lt;/b&gt;&lt;i&gt;&lt;/i&gt;&lt;u&gt;&lt;/u&gt;&lt;span&gt;&lt;/span&gt;&lt;/b&gt;</code> <br> <code>&lt;div&gt;      .&lt;br/&gt;  730 Kb.&lt;/div&gt;</code> <br> <code>&lt;b class='e'&gt;&lt;span&gt;&lt;/span&gt;&lt;u&gt;&lt;/u&gt;&lt;i&gt;&lt;/i&gt;&lt;b&gt;&lt;/b&gt;&lt;/b&gt;</code> <br> <code>&lt;/div&gt;</code> <br> <code>&lt;/div&gt;</code> <br> <br><h2>  How it works? </h2><br>  The upper part of the block 5 pixels high consists of four blocks extended in width.  3 blocks have a height of one pixel, and another block has a height of 2 pixels.  The blocks have indents of 5, 3, 2 and 1 pixel on the left and on the right, and thus a rounding effect is obtained. <br><br><br><h2>  Add the first halftone color </h2><br>  We add not complex properties for all our elongated blocks: <br> <code>.grc be b, .grc be i, .grc be u, .grc be span {border-left:1px solid #9eb4d3;border-right:1px solid #9eb4d3;} <br></code> <br>  and at the same time we reduce the indents of these blocks by 1 pixel.  We get the result: <br><br> <a href="http://vadimgalkin.pp.ru/design/skrgl/2vers/" title="Working option"><img src="https://habrastorage.org/getpro/habr/post_images/c8e/f7d/03e/c8ef7d03ec790518dec30abf488ca6a4.png" title="Working option"></a> <br><br>  Well, it looks much smoother already, anti-aliasing appeared, so to speak.  And the code has increased by only 120 bytes. <br><br><br><h2>  Add a second halftone color </h2><br>  On the left, two semitones in a row is not the best option, so we split up a block 2 pixels high by two by 1 pixel, and set the new color of the left and right border to the upper one.  Here is what we get: <br><br> <a href="http://vadimgalkin.pp.ru/design/skrgl/3vers/" title="Working option"><img src="https://habrastorage.org/getpro/habr/post_images/b07/71c/1d2/b0771c1d251ac600313b7ac3ba4a68af.png" title="Working option"></a> <br><br>  The code was added only 80 bytes, it looks even better. <br><br><br><h2>  We bring our idea to the logical end </h2><br>  Since we have introduced the second halftone color, then let's bring our idea to the end.  The upper two layers need to add an additional left and right border.  To do this, create another block, which is placed inside the two upper blocks.  Reduce the indents of these blocks by another pixel.  And that's what happens: <br><br> <a href="http://vadimgalkin.pp.ru/design/skrgl/4vers/" title="Working option"><img src="https://habrastorage.org/getpro/habr/post_images/e2a/9d5/116/e2a9d5116b9a058c40f725a952cc1d86.png" title="Working option"></a> <br><br>  The code has increased by 400 bytes, which in our times is not much.  Full cross-browser compatibility, lack of background images and JS, there are no restrictions on the width and height of the block.  Looks more rounded round, as if the corner was prepared in Photoshop. <br><br>  End Code: <br><br> <code>&lt;style&gt;</code> <br> <code>.grc {padding: 5px 15px;}</code> <br> <code>.grc .e{display:block; position: relative;}</code> <br> <code>.grc .e *{display: block; overflow: hidden; position: relative; z-index: 2; font-size: 0px;}</code> <br> <code>.grc be b, .grc be i, .grc be u, .grc be s, .grc be span, .grc be strong {height: 1px !important; background: #1d5198;}</code> <br> <code>.grc be b, .grc be i, .grc be s {border-left:1px solid #f1f4f9; border-right:1px solid #f1f4f9;}</code> <br> <code>.grc be u, .grc be b strong, .grc be i strong, .grc be span {border-left:1px solid #9eb4d3; border-right:1px solid #9eb4d3;}</code> <br> <code>.grc be b{margin: 0 3px;}</code> <br> <code>.grc be i{margin: 0 1px;}</code> <br> <code>.grc be u{margin: 0 1px;}</code> <br> <code>.grc be s{margin: 0;}</code> <br> <code>.grc be b strong, .grc be i strong {margin: 0;}</code> <br> <code>.grc be span{margin: 0;}</code> <br> <code>.grc div{background: #1d5198; padding: 0 10px; color: white;}</code> <br> <code>&lt;/style&gt;</code> <br> <br> <code>&lt;div style='width: 300px;'&gt;</code> <br> <code>&lt;div class='grc'&gt;</code> <br> <code>&lt;b class='e'&gt;&lt;b&gt;&lt;strong&gt;&lt;/strong&gt;&lt;/b&gt;&lt;i&gt;&lt;strong&gt;&lt;/strong&gt;&lt;/i&gt;&lt;u&gt;&lt;/u&gt;&lt;s&gt;&lt;/s&gt;&lt;span&gt;&lt;/span&gt;&lt;/b&gt;</code> <br> <code>&lt;div&gt;    .&lt;br/&gt;  1 130 Kb.&lt;/div&gt;&lt;br/&gt;</code> <br> <code>&lt;b class='e'&gt;&lt;span&gt;&lt;/span&gt;&lt;s&gt;&lt;/s&gt;&lt;u&gt;&lt;/u&gt;&lt;i&gt;&lt;strong&gt;&lt;/strong&gt;&lt;/i&gt;&lt;b&gt;&lt;strong&gt;&lt;/strong&gt;&lt;/b&gt;&lt;/b&gt;</code> <br> <code>&lt;/div&gt;</code> <br> <code>&lt;/div&gt;</code> <br> <br><h2>  A little philosophy </h2><br>  In the first version, in which there is a small "ladder", it creates something like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/438/c1b/cc5/438c1bcc599d21f782799b80f854074a.png" title="Round with the &quot;ladder&quot;"><br><br>  The look, facing the "ladder", and not with a smooth line, draws extra cloves.  But does this mean that smoothing is much better?  Here is what the eye draws when looking at the rounded image: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/86d/337/1a4/86d3371a4db4213c66114533d6bf3d47.png" title="Anti-aliasing rounding"><br><br>  There is a feeling of a little blur.  All this is due to the fact that the pixel on the screen is still quite large, and it is not yet possible to achieve clarity of printing, even using the background image. <br><br>  Of course, everything in the pictures is exaggerated, in real examples this is barely noticeable. <br><br>  What method to use, with a ladder or smoothing?  I think it depends on the overall mood of the site.  Google uses a round with a ladder, and this underlines his asceticism.  On any site dedicated to bed linen or pillows is better to use anti-aliasing. <br><br><br><h2>  Disadvantage number 1 method </h2><br>  Is everything all right?  Not really.  The original version is easy to lay down on any background, on white, on black, on any color or background image.  And our version will only fall beautifully on a white or light background.  If the background is black or dark, then the halftone colors will need to be prepared on the basis of other shades.  And if on different parts of the page the background is different, you will have to write separate styles. <br><br>  True, there is a nuance.  There is a sense to insert smoothing if only the background and the block are of very contrasting colors.  If the contrast is not strong, then anti-aliasing does not make sense; it is easier to apply the original version. <br><br>  However, you can try to play with the opacity property.  Instead of borders, we create blocks with a height and width of 1 pixel, and give them the color of the block and the translucency of 0.6 and 0.2.  We get a graph-independent code, but not everything is smooth here either: <br><br>  1. opacity is not supported by IE, with it in version 8, too. <br>  2. The code swells up sharply and becomes more complicated, 7 additional blocks are added at once.  Are the results worth the meal?  In my opinion not. <br><br><br><h2>  Disadvantage number 2 method </h2><br>  The second drawback of the method is that it is difficult to change the radius.  Here the radius is visually 5-6 pixels.  If you increase the radius by two, then the blocks should already be 10, different half-tones will need to be entered at least 5, but most likely 7-8, it is easy to get confused in the code. <br><br>  And methods using pictures or JS easily cope with this task. <br><br><br><h2>  Disadvantage number 3 method </h2><br>  As pointed out in the comments <a href="http://foxweb.habrahabr.ru/">foxweb</a> , <a href="http://homm.habrahabr.ru/">homm</a> , <a href="http://selenit.habrahabr.ru/">SelenIT</a> and <a href="http://reaferon.habrahabr.ru/">reaferon the</a> main drawback: a very complex code.  From the point of view of semantics, this is not pure CSS, but practically a hack. <br><br><br><h2>  Authorship and license </h2><br>  The code is distributed for free, there is nothing super-clever about it.  In essence, this is just an idea that is not licensed.  Use and modify health. <br><br>  The author of the text and pictures Vadim Galkin.  Source code author <a href="http://shtorkin.habrahabr.ru/" title="Semyon &quot;Shtorkin&quot; Orlov">Semyon Shtorkin Orlov</a> .  When publishing an article, please refer to <a href="http://vadimgalkin.pp.ru/" title="Personal page of Vadim Galkin">my personal page</a> . <br><br><br><h2>  Post script </h2><br>  The next day, after the publication of this post, <a href="http://xamelleoh.habrahabr.ru/">XAMelleOH</a> offered an option that, compared to my method, has several advantages: <br>  - much easier to change the radius, <br>  - translucency <br>  - simpler code. <br><br>  <a href="http://habrahabr.ru/blogs/css/64016/">I recommend</a> . <br><br><br><h2>  Post script 2015 </h2><br>  Now I am reading this article and it seems that I did not write it 6 years ago, but before Gagrin‚Äôs flight.  How quickly our industry and tools are changing!  The one who studies CSS now, I think, is sure that <i>border-radius</i> was always.  It's so obvious! </div><p>Source: <a href="https://habr.com/ru/post/63983/">https://habr.com/ru/post/63983/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../63975/index.html">Russian-language video lectures</a></li>
<li><a href="../63976/index.html">The first screenshots of Google Chrome OS</a></li>
<li><a href="../63978/index.html">Neurons in action</a></li>
<li><a href="../63980/index.html">Buddofon</a></li>
<li><a href="../63982/index.html">Assignment task</a></li>
<li><a href="../63984/index.html">Beer cartridge belt</a></li>
<li><a href="../63986/index.html">I'm a felon</a></li>
<li><a href="../63989/index.html">RAO against the use of music in football matches</a></li>
<li><a href="../63991/index.html">TouchScreen to the masses</a></li>
<li><a href="../63993/index.html">Court legalized P2P</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>