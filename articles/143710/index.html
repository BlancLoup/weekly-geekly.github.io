<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We write on iPad for iPad</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently the first games written directly on the iPad appeared in the App Store, which personally makes me very happy. We can say that the tablet beco...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We write on iPad for iPad</h1><div class="post__text post__text-html js-mediator-article">  Recently the first games written directly on the iPad appeared in the App Store, which personally makes me very happy.  We can say that the tablet becomes not only a means of consuming content, but also its production. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/61d/385/c25/61d385c25f050c5b64ce4a6af0541053.png" alt="image"><br>  Under the cut, I'll tell you how and where it is done, I will show a simple Hello World. <br><br><a name="habracut"></a><br>  For everything described above, the Two Lives Left company, which created the Codea mobile development environment, is responsible.  Codea is an ipad application that contains a handy code editor and simulator.  All this joy can be obtained for $ 10 in the app store.  Not a little, but this application is worth the money. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So, let's start in order to understand what it is and what it is eaten with. <br><br><img src="https://habrastorage.org/storage2/bfa/e98/53f/bfae9853f2aa5c732be6e9a68593f9de.png"><br><br><h6>  Lua </h6><br>  Codea uses the Lua programming language. <br><br>  Lua (Wikipedia): <br><blockquote>  In terms of capabilities, ideology, and implementation, the language is closest to JavaScript, but Lua has more powerful and much more flexible constructs.  Although Lua does not explicitly contain the concept of a class and an object, object-oriented programming mechanisms that support prototypes (including multiple inheritance) are easily implemented using metatables, which also allow operation overload, etc. The OOP model to be implemented (as in JavaScript ) - prototype. <br></blockquote><br><br><h6>  Development environment </h6><br>  Codea contains a nice code editor (it is possible to buy additional designs).  There is a handy add-on above the keyboard that allows you to open the knowledge base and place the necessary characters.  A fairly large set of sprites is available, which have already adapted to the retina screen of the new iPad. <br><br><img src="https://habrastorage.org/storage2/771/1fc/60e/7711fc60ebd58e0b1a46179ae9cb9d73.png"><br><br><img src="https://habrastorage.org/storage2/0b0/620/425/0b0620425f3aee48130fa1e5216e4ecc.png"><br><br><h6>  Simulator </h6><br>  There is a rather convenient built-in simulator that can give odds to many simulators of other operating systems on a PC.  There is a place for specifying parameters, which is extremely convenient when optimizing gameplay, the ability to record video, or take a screenshot. <br><br><h6>  Hello world </h6><br>  So, after my rather long introduction, let's get down to business.  I will try to show how easy it is to make a little Hello World right on your iPad. <br><br>  Task: make a display of multi-colored circles under the user's fingers (a kind of multi-touch test) <br><br>  Perhaps we will begin.  First of all we go to the function that is called when the application is started and add the creation of an array of touches there. <br><br><pre><code class="lua hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setup</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> touches = {} <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> <br><br>  Next, we move to the function that is responsible for touching the screen (called when a new touch appears, which in the Codea is simply called touch).  While touching the screen, we add a touch to the array, and during its termination we remove it.  Everything is extremely simple. <br><br><pre> <code class="lua hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">touched</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(touch)</span></span></span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> touch.state == ENDED <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> touches[touch.id] = <span class="hljs-literal"><span class="hljs-literal">nil</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> touches[touch.id] = touch <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre><br><br>  So, we have an array of active touches.  What should be done next step?  Right, draw circles with the center at the touch point. <br><br>  To do this, we need to go to the function draw, which is called when the frame is drawn. <br><br><pre> <code class="lua hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">draw</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> <span class="hljs-comment"><span class="hljs-comment">--   background(0, 0, 0, 255) --       for k,touch in pairs(touches) do --  id  ()      math.randomseed(touch.id) --          fill(math.random(255),math.random(255),math.random(255)) --   (   )       ellipse(touch.x, touch.y, 100, 100) end end</span></span></code> </pre><br><br>  Everything is done. <br><br>  Result: <br><img src="https://habrastorage.org/storage2/b51/3f2/690/b513f2690e732f152133a89d5523650f.png"><br><br><h6>  Epilogue </h6><br>  Codea is not a tool for developing something ultra-complex and big, but it is an ideal tool for indie developers who are starting to discover the apple technology market.  Fortunately, since recently, the opportunity has appeared to publish their Codea applications on the App Store, but it‚Äôs not without the help of Mac. <br><br>  And yet, I would like to say that I am very pleased with the trend that has appeared recently.  The emergence of new languages ‚Äã‚Äãin which you can write under iOS can not but rejoice. <br><br>  Thanks for attention. <br><br>  Partially used is the source code of the example called ‚ÄúMulti Touch‚Äù. </div><p>Source: <a href="https://habr.com/ru/post/143710/">https://habr.com/ru/post/143710/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../143701/index.html">How to read to the end</a></li>
<li><a href="../143705/index.html">Replacing WiMAX devices with LTE devices</a></li>
<li><a href="../143706/index.html">Tell a story and get a Samsung Galaxy Tab tablet as a gift!</a></li>
<li><a href="../143707/index.html">Debian cookbook or how I started working on the official wiki</a></li>
<li><a href="../143708/index.html">Samsung Galaxy S III - three on the top five</a></li>
<li><a href="../143711/index.html">Behind the doors of the "kitchen" of the production of mobile devices</a></li>
<li><a href="../143712/index.html">Results of the week. Issue 5 - with Peter Salnikov</a></li>
<li><a href="../143713/index.html">Break the iPhone in this case - get a new one for free</a></li>
<li><a href="../143714/index.html">Simple universal javascript switch</a></li>
<li><a href="../143715/index.html">Moscow Django Meetup # 3</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>