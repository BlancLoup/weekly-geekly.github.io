<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>PSD parser or how to parse a Photoshop file in Java</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Somehow they suggested making a psd file parser. It seems to be very simple. It is necessary to find out from which layers the document consists, to l...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>PSD parser or how to parse a Photoshop file in Java</h1><div class="post__text post__text-html js-mediator-article"> Somehow they suggested making a psd file parser.  It seems to be very simple.  It is necessary to find out from which layers the document consists, to list the layers.  If the layer is text, display text and formatting options.  Those.  font names, sizes, indents, etc. <br><a name="habracut"></a><br>  Where to begin?  May Google help us.  A lot of information, a lot of details how to make plug-ins for photoshop.  But this is all wrong.  We need a console program that will receive psd files as input and output a textual description of its internals.  Installing Photoshop was not originally planned. <br><br>  This document turned out to be the most useful: <a href="http://www.adobe.com/devnet-apps/photoshop/fileformatashtml/PhotoshopFileFormats.htm">PhotoshopFileFormat</a> is the actual specification of the structure of the photoshop file.  A kind of single byte skeleton .psd file, just what the doctor ordered. <br><br>  Next googled on the subject of, and did colleagues like that on java?  Yes, it turns out that it is.  <a href="http://blog.alternativaplatform.com/en/2007/07/09/parser-psd-formata/">Parser-psd</a> - a brief description + source code in the same place.  Their program parses the file, and saves them in separate files (!) Plus information on slices is extracted.  For my task, a little bit of something, but as an initial example, it even helped a lot. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The file is pushed into the usual <code>DataInputStream in = new DataInputStream(input)</code> stream and then we work with this stream byte-by-byte. <br><br>  The file itself consists of five main sections: <br>  1. File header <br>  2. Color mode data <br>  3. Image resources <br>  4. Layer and mask information <br>  5. Image data <br><br>  The header has a fixed size, but the remaining blocks may have a different size.  With this more closely.  One byte by and the whole thing will be closed.  The size is indicated in the first four bytes of the block, so blocks can be skipped if you don't need to <code>in.skipBytes(size)</code> everything <code>in.skipBytes(size)</code> . <br><br>  Here the main attention and strict adherence to specifications.  Attention!  The format changes from version to version, these differences are indicated in the specification.  However, the current specification, which I managed to find from 2010, and I had to use an even older description for the 2007th year.  Therefore, when parsing the most recent versions of files you can miss. </div><p>Source: <a href="https://habr.com/ru/post/261511/">https://habr.com/ru/post/261511/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../261491/index.html">Kingpin: schoolchildren translate a book about hackers</a></li>
<li><a href="../261493/index.html">Controversial, but relevant design principles</a></li>
<li><a href="../261497/index.html">200 million checks per month or architecture and statistics of the CloudStats.me service</a></li>
<li><a href="../261507/index.html">"Pumping" notepad.exe</a></li>
<li><a href="../261509/index.html">Creating a scalable distributed application from scratch</a></li>
<li><a href="../261515/index.html">AllJoyn and Windows 10 - we make our devices speak the same language</a></li>
<li><a href="../261517/index.html">Does XMPP suck?</a></li>
<li><a href="../261519/index.html">Acronis Backup Russia - First Look</a></li>
<li><a href="../261521/index.html">Setting tasks and calculating labor costs for the development of documentation in an IT company</a></li>
<li><a href="../261525/index.html">How to control response time or how fast your website loads?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>