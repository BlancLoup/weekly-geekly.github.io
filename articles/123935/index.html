<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Measurement of structural deformation by photogrammetry</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="At present, mechanical measurement methods, due to their imperfection (be it high error or laboriousness of measurements), fade into the background, g...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Measurement of structural deformation by photogrammetry</h1><div class="post__text post__text-html js-mediator-article">  At present, mechanical measurement methods, due to their imperfection (be it high error or laboriousness of measurements), fade into the background, giving way to new methods, among which there is one - photogrammetry, which I would like to talk about. <br><br><h4>  Introduction </h4><br>  Photogrammetry is a technology for determining the shapes, sizes and positions of objects from their photographic images. <br>  Photogrammetry has received the most widespread use in geodesy, cartography, military science, space research, etc. But we will talk about a narrower application of technology, namely, in the study of materials. <br>  One of the experiments conducted in the study of material properties is to measure the deformation under the action of various loads. <br>  In the classic version, the experiment is carried out manually: for different loads, the value of strain is determined using mechanisms called mesramy.  Tedious process, and even the accuracy of the materials in most cases is limited to 0.01mm.  Photogrammetry, in this case, allows you to simplify the process of determining the strain, to increase the measurement accuracy, to automate data processing. <br><a name="habracut"></a><br><h4>  Highlights </h4><br>  As reference points in the photographs, three dimensions (1, 2, 4 cm) of the following type were used: <br><img src="https://habrastorage.org/storage1/75846101/ac497050/ed73bc98/319c5213.jpg" alt="Tags"><br><br>  The workspace looks like it was shot from three focal lengths (for testing purposes) and looks like this: <br><img src="https://habrastorage.org/storage1/b4eba588/4fbe9e9c/e336c123/6eb533a6.jpg" alt="Workspace"><br>  No pictures can be seen scale bar (center), stable points (left and right corners). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Required accuracy: 0.01mm or higher. <br><br>  Optional: automatic tag detection, automatic tag offset tracking. <br><br><h4>  Technical implementation </h4><br>  When implementing the conceived ideas, pitfalls appeared, due to which some software requirements had to be reformulated. <br><br><h5>  Automatic tag detection </h5><br>  A classic case of recognition, but it was here that the first pitfall was met.  Were tried several approaches to the selection of labels, but none gave an acceptable result: <br><br>  <b>Neural networks.</b>  Training was carried out on all sorts of options tags (one size).  For processing by the neural network, the original image was cut into fragments of 32x32 pixels, and fed to the input of the network.  The result of this algorithm was unsatisfactory: about 20% of the recognized tags. <br><br>  <b>Filter with a given mask</b> .  The input of the algorithm is the image of the original label in shades of gray, which is converted into a mask.  If the size of the label is too large, only the central part of the label becomes the mask.  As a result, the array is filled 48x48.  The next step is to apply the mask to the image.  As a result - the centers of the tags have a brightness of almost 100%, the rest of the image is darkened.  The percentage of recognition - 60-70%.  Not bad, but the minuses cross out the pluses: processing of one photo in the order of 2-4 minutes, user participation is required (indicating the initial mark). <br>  After analyzing the analogues and evaluating the result of their recognition, it was decided to abandon the automatic detection of tags and focus on other problems. <br><br><h5>  Distortion </h5><br>  Distortion is an aberration of optical systems, in which the linear increase varies in the field of view.  In this case, the similarity between the object and its image is violated. <br><img src="https://habrastorage.org/storage1/93dab4d9/cf1adaee/6701c8af/fdda958c.png" alt="Distortion"><br>  When shooting at close range - does not affect the measurement result.  To correct the distortion, the OpenCV library was used. <br><br><h5>  Automatic tracking of tag offset </h5><br>  The program loads images of each material loading.  The greater the load on the material - the greater the deformation.  Accordingly, the labels are shifted.  The algorithm used to track tags is simple: on each next photo we look for a label in a specific area <i>currentCoordinates + C</i> , where C is a given constant relative to the center of the label in the current photo. <br>  This function saves the user from monotonous manual labeling on each photo. <br><br><h5>  Mark Center Definition </h5><br>  The core of the program.  After determining the approximate location of the label, it is necessary to calculate the exact coordinate in tenths or even hundredths of a pixel. <br>  The algorithm for determining the center consists of several steps: <br>  <b>1. Definition of the preliminary center of the label.</b>  The pre-center is obtained as a result of manually specifying the center or as a result of the function of automatic tracking of tag offset. <br>  <b>2. The selection of the area around the label for analysis.</b>  Required label sizing by user. <br>  <b>3. Application of adaptive binarization algorithm.</b>  In photographs with the naked eye visible differences in brightness.  Sauvol's algorithm is used. <br>  Each white pixel obtained as a result of binarization is included in the calculations.  The calculation is carried out according to the center of mass formula: <br><img src="https://habrastorage.org/storage1/2e3a46de/27af1b96/55422275/7983912c.jpg" alt="Center of mass"><br>  Where I is the brightness of the i-th pixel, Xi is the coordinate. <br><br>  Algorithm result (anti-aliasing is applied to the image): <br><img src="https://habrastorage.org/storage1/972e8c4d/dc0c747c/d99b44bc/2500cdef.jpg" alt="Mark Center Algorithm"><br><br><h5>  Scale </h5><br>  To determine the scale, a fixed scale bar is used with two marks attached at a given distance.  Knowing the distance in centimeters between the centers of two points, it is easy to calculate the value of px / cm. <br><br><h4>  results </h4><br>  And now about the most important thing - about the results.  And they turned out to be encouraging: the accuracy of the masses is practically achieved, deviations from measurements by third-party programs - 3‚Äì5%. <br>  It was experimentally possible to establish that the highest accuracy in determining the center of a pixel is achieved with a label size of 2 cm. <br><br>  Encouraging results: <br><img src="https://habrastorage.org/storage1/b6249c0e/401f73ec/b57c3b3f/f964e15f.jpg" alt="Results ‚Ññ1"><br><br>  Although there are such results: <br><img src="https://habrastorage.org/storage1/37ce3fa6/8b73b01b/06c602b9/b75c8a97.jpg" alt="Results ‚Ññ2"><br><br><h4>  Conclusion </h4><br>  The program was created for educational purposes and in the future can be used to obtain a bachelor's degree.  Also, the development of the program is not stopped, it continues to be improved and work in the field of stereometry is planned in the future. <br><br><h4>  Bibliography </h4><br>  1. Gary Bradski, Adrian Kaehler - Learning OpenCV <br>  2. William K. Pratt - Digital Image Processing </div><p>Source: <a href="https://habr.com/ru/post/123935/">https://habr.com/ru/post/123935/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../123927/index.html">Google will finance the Internet Institute in Berlin</a></li>
<li><a href="../123930/index.html">Wordpress.com now has over 50 million sites.</a></li>
<li><a href="../123932/index.html">Social network as a tool of scientific work</a></li>
<li><a href="../123933/index.html">Home automation</a></li>
<li><a href="../123934/index.html">Using the graph as a basis for creating a rubricator</a></li>
<li><a href="../123936/index.html">Save your data safely: p2p file system with encryption in the cloud</a></li>
<li><a href="../123937/index.html">Asynchronous loading of images in a hidden iframe: pitfalls</a></li>
<li><a href="../123939/index.html">ISO prepares a cloud security standard</a></li>
<li><a href="../123940/index.html">Plugin for "live" forms</a></li>
<li><a href="../123941/index.html">Making a keyboard with the layout Dvorak (for programmers) from the usual QWERTY</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>