<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Vertical text</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I needed to use a vertical text layout to designate the table headings. Searches on the Internet have led only to outdated or not yet approved standar...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Vertical text</h1><div class="post__text post__text-html js-mediator-article"> I needed to use a vertical text layout to designate the table headings.  Searches on the Internet have led only to outdated or not yet approved standards, IE filters and not supporting Cyrillic or Mozilla Firefox SVG. <br>  Therefore, I had to solve the problem myself.  A little ugly happened, but the result gave me. <br><br><img src="http://s55.radikal.ru/i150/0902/54/215d3bd41db7.jpg" alt="image"><br><a name="habracut"></a><br><br> <code><font color="black"><font color="#000000">function</font> vtext <font>(</font> <font color="#000088">$text</font> <font>)</font> <font color="#666666">// </font> <br> <font>{</font> <br> <font color="#b1b100">if</font> <font>(</font> <font color="#339933">!</font> <font color="#990000">file_exists</font> <font>(</font> _SITE <font color="#339933">.</font> <font color="#0000ff">'/style/img/crap/'</font> <font color="#339933">.</font> str2url <font>(</font> <font color="#000088">$text</font> <font>)</font> <font color="#339933">.</font> <font color="#0000ff">'.png'</font> <font>)</font> <font>)</font> <font>{</font> <br> <font color="#666666">//  echo '  '.str2url($text).'.png&lt;br /&gt;&lt;br /&gt;';</font> <br> <font color="#000088">$pname</font> <font color="#339933">=</font> str2url <font>(</font> <font color="#000088">$text</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000088">$txt</font> <font color="#339933">=</font> win2uni <font>(</font> <font color="#000088">$text</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000088">$coord</font> <font color="#339933">=</font> imagettfbbox <font>(</font> _FONT_SIZE <font color="#339933">,</font> <font>0</font> <font color="#339933">,</font> _FONT_NAME <font color="#339933">,</font> <font color="#000088">$txt</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#666666">/*  ,     ,      .     : <br> */</font> <br> <font color="#000088">$width</font> <font color="#339933">=</font> <font color="#000088">$coord</font> <font>[</font> <font>2</font> <font>]</font> <font color="#339933">-</font> <font color="#000088">$coord</font> <font>[</font> <font>0</font> <font>]</font> <font color="#339933">;</font> <br> <font color="#000088">$height</font> <font color="#339933">=</font> <font color="#000088">$coord</font> <font>[</font> <font>1</font> <font>]</font> <font color="#339933">-</font> <font color="#000088">$coord</font> <font>[</font> <font>7</font> <font>]</font> <font color="#339933">;</font> <br> <br> <font color="#000088">$im</font> <font color="#339933">=</font> ImageCreate <font>(</font> <font color="#000088">$width</font> <font color="#339933">,</font> <font color="#000088">$height</font> <font color="#339933">+</font> <font>(</font> _FONT_SIZE <font color="#339933">/</font> <font>4</font> <font>)</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000088">$background_color</font> <font color="#339933">=</font> ImageColorAllocate <font>(</font> <font color="#000088">$im</font> <font color="#339933">,</font> <font>255</font> <font color="#339933">,</font> <font>255</font> <font color="#339933">,</font> <font>255</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000088">$text_color</font> <font color="#339933">=</font> ImageColorAllocate <font>(</font> <font color="#000088">$im</font> <font color="#339933">,</font> <font>0</font> <font color="#339933">,</font> <font>0</font> <font color="#339933">,</font> <font>0</font> <font>)</font> <font color="#339933">;</font> <br> <br> imagettftext <font>(</font> <font color="#000088">$im</font> <font color="#339933">,</font> _FONT_SIZE <font color="#339933">,</font> <font>0</font> <font color="#339933">,</font> <font>0</font> <font color="#339933">-</font> <font>(</font> _FONT_SIZE <font color="#339933">/</font> <font>10</font> <font>)</font> <font color="#339933">,</font> <font color="#000088">$height</font> <font color="#339933">,</font> <font color="#000088">$text_color</font> <font color="#339933">,</font> _FONT_NAME <font color="#339933">,</font> <font color="#000088">$txt</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000088">$im2</font> <font color="#339933">=</font> imagerotate <font>(</font> <font color="#000088">$im</font> <font color="#339933">,</font> <font>90</font> <font color="#339933">,</font> <font>0</font> <font>)</font> <font color="#339933">;</font> <br> ImagePNG <font>(</font> <font color="#000088">$im2</font> <font color="#339933">,</font> <font color="#000088">$_SERVER</font> <font>[</font> <font color="#0000ff">'DOCUMENT_ROOT'</font> <font>]</font> <font color="#339933">.</font> <font color="#0000ff">'/style/img/crap/'</font> <font color="#339933">.</font> <font color="#000088">$pname</font> <font color="#339933">.</font> <font color="#0000ff">'.png'</font> <font>)</font> <font color="#339933">;</font> <br> ImageDestroy <font>(</font> <font color="#000088">$im</font> <font>)</font> <font color="#339933">;</font> <br> ImageDestroy <font>(</font> <font color="#000088">$im2</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000088">$to_return</font> <font color="#339933">=</font> <font color="#0000ff">'&lt;img src="'</font> <font color="#339933">.</font> _SITE <font color="#339933">.</font> <font color="#0000ff">'/style/img/crap/'</font> <font color="#339933">.</font> <font color="#000088">$pname</font> <font color="#339933">.</font> <font color="#0000ff">'.png" /&gt;'</font> <font color="#339933">;</font> <br> <font color="#990000">echo</font> <font color="#000088">$to_return</font> <font color="#339933">;</font> <br> <font>}</font> <br> <font>}</font> <br> <font color="#000000">function</font> win2uni <font>(</font> <font color="#000088">$s</font> <font>)</font> <br> <font>{</font> <br> <font color="#000088">$s</font> <font color="#339933">=</font> <font color="#990000">str_replace</font> <font>(</font> <font color="#0000ff">'—ñ'</font> <font color="#339933">,</font> <font color="#0000ff">'i'</font> <font color="#339933">,</font> <font color="#000088">$s</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000088">$s</font> <font color="#339933">=</font> <font color="#990000">str_replace</font> <font>(</font> <font color="#0000ff">'–Ü'</font> <font color="#339933">,</font> <font color="#0000ff">'I'</font> <font color="#339933">,</font> <font color="#000088">$s</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000088">$s</font> <font color="#339933">=</font> <font color="#990000">convert_cyr_string</font> <font>(</font> <font color="#000088">$s</font> <font color="#339933">,</font> <font color="#0000ff">'w'</font> <font color="#339933">,</font> <font color="#0000ff">'i'</font> <font>)</font> <font color="#339933">;</font> <font color="#666666">//  win1251 -&gt; iso8859-5</font> <br> <font color="#666666">//  iso8859-5 -&gt; unicode:</font> <br> <font color="#b1b100">for</font> <font>(</font> <font color="#000088">$result</font> <font color="#339933">=</font> <font color="#0000ff">''</font> <font color="#339933">,</font> <font color="#000088">$i</font> <font color="#339933">=</font> <font>0</font> <font color="#339933">;</font> <font color="#000088">$i</font> <font color="#339933">&lt;</font> strlen <font>(</font> <font color="#000088">$s</font> <font>)</font> <font color="#339933">;</font> <font color="#000088">$i</font> <font color="#339933">++</font> <font>)</font> <font>{</font> <br> <font color="#000088">$charcode</font> <font color="#339933">=</font> <font color="#990000">ord</font> <font>(</font> <font color="#000088">$s</font> <font>[</font> <font color="#000088">$i</font> <font>]</font> <font>)</font> <font color="#339933">;</font> <br> <font color="#000088">$result</font> <font color="#339933">.=</font> <font>(</font> <font color="#000088">$charcode</font> <font color="#339933">&gt;</font> <font>175</font> <font>)</font> ? <font color="#0000ff">"&amp;#"</font> <font color="#339933">.</font> <font>(</font> <font>1040</font> <font color="#339933">+</font> <font>(</font> <font color="#000088">$charcode</font> <font color="#339933">-</font> <font>176</font> <font>)</font> <font>)</font> <font color="#339933">.</font> <font color="#0000ff">";"</font> <font color="#339933">:</font> <font color="#000088">$s</font> <font>[</font> <font color="#000088">$i</font> <font>]</font> <font color="#339933">;</font> <br> <font>}</font> <br> <font color="#b1b100">return</font> <font color="#000088">$result</font> <font color="#339933">;</font> <br> <font>}</font></font></code> <br> <br>  Use - it is natural to call a function with a parameter - text that needs to be rotated. <br> <code><font color="black">vtext <font>(</font> <font color="#0000ff">' '</font> <font>)</font> <font color="#339933">;</font></font></code> <br> <br>  The only thing - does not work with the entire Ukrainian alphabet.  Partially corrected by replacing the Ukrainian "i" with the English "i".  If there are options to fix this problem - tell me. <br>  If there is an option to make it easier - tell me. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      PS To create file names using the transliteration function: <br> <code>&lt;?php <br> function rus2translit($string) { <br> $converter = array( <br> '' =&gt; 'a', '' =&gt; 'b', '' =&gt; 'v', <br> '' =&gt; 'g', '' =&gt; 'd', '' =&gt; 'e', <br> '' =&gt; 'e', '' =&gt; 'zh', '' =&gt; 'z', <br> '' =&gt; 'i', '' =&gt; 'y', '' =&gt; 'k', <br> '' =&gt; 'l', '' =&gt; 'm', '' =&gt; 'n', <br> '' =&gt; 'o', '' =&gt; 'p', '' =&gt; 'r', <br> '' =&gt; 's', '' =&gt; 't', '' =&gt; 'u', <br> '' =&gt; 'f', '' =&gt; 'h', '' =&gt; 'c', <br> '' =&gt; 'ch', '' =&gt; 'sh', '' =&gt; 'sch', <br> '' =&gt; '\'', '' =&gt; 'y', '' =&gt; '\'', <br> '' =&gt; 'e', '' =&gt; 'yu', '' =&gt; 'ya', <br> '—ñ' =&gt; 'ui', '—ó' =&gt; 'uyi', '—î' =&gt; 'uye', <br> '“ë'=&gt;'ugi', <br> <br> '' =&gt; 'A', '' =&gt; 'B', '' =&gt; 'V', <br> '' =&gt; 'G', '' =&gt; 'D', '' =&gt; 'E', <br> '' =&gt; 'E', '' =&gt; 'Zh', '' =&gt; 'Z', <br> '' =&gt; 'I', '' =&gt; 'Y', '' =&gt; 'K', <br> '' =&gt; 'L', '' =&gt; 'M', '' =&gt; 'N', <br> '' =&gt; 'O', '' =&gt; 'P', '' =&gt; 'R', <br> '' =&gt; 'S', '' =&gt; 'T', '' =&gt; 'U', <br> '' =&gt; 'F', '' =&gt; 'H', '' =&gt; 'C', <br> '' =&gt; 'Ch', '' =&gt; 'Sh', '' =&gt; 'Sch', <br> '' =&gt; '\'', '' =&gt; 'Y', '' =&gt; '\'', <br> '' =&gt; 'E', '' =&gt; 'Yu', '' =&gt; 'Ya', <br> '–Ü' =&gt; 'uI', '–á'=&gt;'uYi', '–Ñ'=&gt;'uYe', <br> '“ê'=&gt;'uGi' <br> ); <br> return strtr($string, $converter); <br> } <br> function str2url($str) { <br> //    <br> $str = rus2translit($str); <br> //    <br> $str = strtolower($str); <br> //      "-" <br> $str = preg_replace('~[^-a-z0-9_.]+~u', '-', $str); <br> //     '-' <br> $str = trim($str, "-"); <br> return $str; <br> } <br> ?&gt;</code> <br> <br></div><p>Source: <a href="https://habr.com/ru/post/51438/">https://habr.com/ru/post/51438/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../51432/index.html">Reminder</a></li>
<li><a href="../51433/index.html">On March 28, about 1 billion people around the world turn off the lights for one hour</a></li>
<li><a href="../51434/index.html">Online sale of things</a></li>
<li><a href="../51435/index.html">English vs Russian</a></li>
<li><a href="../51436/index.html">Creating a CMS, suitable for search engine optimization.</a></li>
<li><a href="../51440/index.html">‚Ññ7 January 2009</a></li>
<li><a href="../51441/index.html">Connect the Wacom tablet to the serial (Com, Serial) port and work through the usb-com adapter.</a></li>
<li><a href="../51442/index.html">Limit the speed of downloading files using PHP</a></li>
<li><a href="../51443/index.html">Do you invert mouse in 3D games? (Exploring what's more natural ...)</a></li>
<li><a href="../51444/index.html">Intercepted by the domain of the creator of the famous packer.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>