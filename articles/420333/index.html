<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Large do-it-yourself portal gantry milling machine</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello dear reader, in this article I want to share my experience in building a milling portal machine with numerical control. 



 There are a lot of ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Large do-it-yourself portal gantry milling machine</h1><div class="post__text post__text-html js-mediator-article">  Hello dear reader, in this article I want to share my experience in building a milling portal machine with numerical control. <br><br><img src="https://habrastorage.org/webt/ht/gx/fm/htgxfmzpovnqhwycye6wdpuelcm.jpeg"><br><a name="habracut"></a><br>  There are a lot of similar stories on the net, and I‚Äôm probably wondering very few people, but maybe this article will be useful to someone.  This story began at the end of 2016, when I and my friend, a partner in the development and production of test equipment, accumulated a certain amount of money.  In order not to just skip the money (this is a young thing), we decided to invest it in the business, after which the idea of ‚Äã‚Äãmaking a CNC machine came to mind.  I already had experience in building and working with this kind of equipment, and the main area of ‚Äã‚Äãour activity is engineering and metalworking, which was accompanied by the idea of ‚Äã‚Äãbuilding a CNC machine. <br><br>  It was then that the movement began, which lasts to this day ... 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Everything continued with the study of CNC-related forums and the choice of the basic concept of machine design.  Having previously determined the materials being processed on the future machine and its working area, the first paper sketches appeared, which were later transferred to a computer.  In the environment of three-dimensional modeling KOMPAS 3D, the machine was visualized and began to grow into smaller details and nuances, which turned out to be more than we would like, some decide to this day. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/DzHz9tbLcHQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  One of the initial decisions was to determine the materials processed on the machine and the dimensions of the working field of the machine.  As for materials, the solution was quite simple - it is wood, plastic, composite materials and non-ferrous metals (mainly duralumin).  Since we have mainly metalworking machines in production, sometimes we need a machine that would process fairly simple materials in processing along a curved path, and this would later reduce the cost of producing the parts ordered.  Based on selected materials, mainly supplied by sheet packaging, with standard dimensions of 2.44 x 1.22 meters (GOST 30427-96 for plywood).  Rounding out these dimensions came to the following values: 2.5x1.5 meters, the workspace definitely, except for the height of the tool, this value was chosen because of the possibility of installing a vice and we assumed that we will not have blanks thicker than 200mm.  Also take into account that time, if you need to process the end of any sheet metal with a length of more than 200mm, for this tool goes beyond the dimensions of the base of the machine, and the part / workpiece is attached to the end side of the base, thereby processing the end of the part. <br><br>  <b>The design of the machine</b> is a precast frame base of the 80th shaped tube with a wall of 4mm.  On both sides of the base are long, the fixed rolling guides of the 25th size are fixed, on which a portal is installed, made in the form of three profile tubes welded together of the same size as the base. <br><br>  The machine is four axial and each axis drives a ball screw drive.  Two axes are parallel to the long side of the machine, paired software and tied to the X coordinate.  Respectively, the remaining two axes are Y and Z coordinates. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/KjlwYaWFNPk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Why did they stop at the modular frame: initially they wanted to make a purely welded structure with embedded plates welded for milling, installation of ballscrew guides and supports, but didn‚Äôt find a sufficiently large milling-coordinate machine for milling.  I had to draw a team frame so that it was possible to process all the parts on my own with the metalworking machines available for production.  Every detail that was exposed to electric arc welding was annealed to relieve internal stresses.  Further, all the mating surfaces were milled, and later fitting had to shabrit places. <br><br>  Getting ahead, I just want to say that the assembly and manufacture of the frame turned out to be the most time-consuming and cost-consuming event in the construction of the machine.  The initial idea with a solidly welded frame in all respects bypasses the assembly, in our opinion.  Although many may disagree with me. <br><br>  Many amateurs and not only assemble machines of this kind and size (and even larger) in their workshop or garage, making an entirely welded frame, but without subsequent annealing and machining, with the exception of drilling holes for mounting the guides.  Even if he was lucky with the welder, and he welded the structure with a fairly good geometry, then after the operation of this machine, due to bounce and vibrations, its geometry will go away, change.  Of course, I can be mistaken in many ways, but if someone is aware of this issue, then please share your knowledge in the comments. <br><br>  At once I want to make a reservation that we will not consider machines from an aluminum structural section here, this is rather a matter of another article. <br><br>  Continuing the assembly of the machine and discussing it on the forums, many began to advise making diagonal steel braces inside the frame and outside to add even more rigidity.  We didn‚Äôt neglect this advice, but add the same thing to the construction, as the frame turned out to be quite massive (about 400 kg).  And upon completion of the project, the perimeter will be bypassed with sheet steel, which additionally binds the structure. <br><br>  Let's now move on to the mechanical issue of this project.  As mentioned earlier, the movement of the machine axes was carried out through a ball ‚Äì screw pair with a diameter of 25 mm and a step of 10 mm, the rotation of which is transmitted from stepper motors with 86 and 57 flanges.  Initially it was supposed to rotate the screw itself in order to get rid of unnecessary backlashes and additional gears, but it couldn‚Äôt have happened without them, because with a direct connection of the engine and the screw, the latter would start to unwind at high speeds, especially when the portal is in extreme positions.  Considering the fact that the length of the screws along the X axis was almost three meters, and for a smaller sagging, a screw with a diameter of 25 mm was laid, otherwise a 16 mm screw would be enough. <br><br>  This nuance was already found during the production of parts, and we had to quickly solve this problem by making a rotating nut, not a screw, which added an additional bearing assembly and a belt drive to the design.  This solution also allowed to tighten the screw well between the supports. <br><br>  The design of the rotating nut is quite simple.  Initially, they picked up two tapered ball bearings, which mirror-fit on the ball screw nut, having previously cut the thread from its end, to fix the bearing sleeve on the nut.  Bearings together with the nut stood in the housing, in turn, the whole structure is mounted on the end of the portal.  In front of the ball screws, the nuts were fastened to the screws with an adapter sleeve, which was subsequently turned on the mandrel to grind down.  They put a pulley on it and put two lock nuts on it. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/6rTyu-6wAug" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Obviously, some of you may be wondering - ‚ÄúWhy not use a rack as a mechanism for transmitting motion?‚Äù.  The answer is quite simple: the ballscrew will provide positioning accuracy, greater driving force, and, accordingly, less torque on the motor shaft (this is what I remembered on the move).  But there are also disadvantages - lower moving speed and if we take screws of normal quality, then the price is correspondingly. <br>  By the way, we took the screws, screws from TBI, a budget option, but the quality was adequate, because we had to throw 3 meters out of the 9 meters of the screw, because of the inconsistency of the geometrical sizes, none of the nuts just screwed on ... <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/hGGi8rhohUU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  As the slide guides, rail-type rail guides of 25mm, made by HIWIN, were used.  For their installation, the installation grooves were milled to maintain parallelism between the guides. <br><br>  We decided to manufacture the ballscrew supports using our own resources; they turned out to be of two types: supports for rotating screws (Y and Z axes) and supports for non-rotating screws (axis X).  It was possible to buy supports for the rotating screws, since it was not enough to save money due to our own production of 4 parts.  Another thing with the supports under non-rotating screws - such supports are not on sale. <br><br>  From what was said earlier, the X axis is driven by rotating nuts and through a belt gear.  It was also decided to make two other axes Y and Z through the belt gear, this will add more mobility in changing the transmitted moment, add aesthetics in view of installing the engine not along the axis of the ball screw, but on the side of it without increasing the dimensions of the machine. <br><br>  Now let's move smoothly to the <b>electrical part</b> , and we will start with the drives, stepper motors were chosen as them, of course, for reasons of lower price as compared with motors with feedback.  Two engines with 86-m flange were installed on the X-axis, on the Y and Z axes on the engine with the 56-m flange, only with different maximum torque.  Below I will try to provide a complete list of purchased parts ... <br><br>  The electrical circuit of the machine is quite simple, stepper motors are connected to the drivers, they in turn are connected to the interface board, it is also connected via a parallel LPT port to a personal computer.  Drivers used 4 pieces, respectively, one for each of the engines.  All the drivers put the same, for ease of installation and connection, with a maximum current of 4A and a voltage of 50V.  As an interface board for CNC machines, I used a relatively budget option, from a domestic manufacturer, as indicated on the site is the best option.  But I will not confirm or deny this, the board is simple in its application and the most important thing is that it works.  In his past projects he used boards from Chinese manufacturers, they also work, and on their periphery they differ little from the ones I used in this project.  I noticed in all these boards, one may not be significant, but a minus, you can only install up to 3 limit switches on them, but at least two such switches are required for each axis.  Or I just did not understand?  If we have a 3-axis machine, then accordingly we need to install limit switches in the machine‚Äôs zero coordinates (this is also called ‚Äúhome position‚Äù) and in the most extreme coordinates so that in the event of a malfunction or non-grip of the working field, one or another axis out of order (simply did not break).  In my scheme used: 3 end without contact inductive sensors and emergency button "E-STOP" in the form of a fungus.  The power unit is powered by two 48V switching power supplies.  and 8A.  Spindle with water cooling at 2.2 kW, respectively included through the frequency converter.  Turns are set from a personal computer, since the frequency converter is connected via an interface card.  Turns are regulated with a voltage change (0-10 volts) at the corresponding output of the frequency converter. <br><br>  All electrical components, except motors, spindle and limit switches, were mounted in an electrical metal cabinet.  All control of the machine is made from a personal computer, we found an old PC on the motherboard form factor ATX.  It would have been better if we got a little shorter and bought a small mini-ITX with a built-in processor and video card.  With not small dimensions of the electric box, all the components hardly settled inside, they had to be located close enough to each other.  In the bottom of the box placed three fans forced cooling, as the air in the inside of the box is very hot.  From the front side of the metal plate fastened with holes for the power button and emergency stop button.  Also on this pad was placed a panel to turn on the PC, I took it off the case of the old mini computer, it is a pity that it was not working.  From the back end of the box, they also secured the cover, and placed holes in it for connectors for connecting 220V power, stepper motors, spindle and VGA connector. <br><br>  All wires from the engines, the spindle, and also the water hoses for its cooling, laid in flexible cable channels of the caterpillar type, 50 mm wide. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/FzD5DZy0gqg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  As for the software, they installed Windows XP on a PC located in an electric box and used one of the most popular Mach3 programs to control the machine.  Program setting is carried out in accordance with the documentation on the interface board, everything is described quite clearly in the pictures.  Why Mach3, yes, all because I had experience, I heard about other programs, but did not consider them. <br><br>  <b>Specifications:</b> <br><br>  Workspace, mm: 2700x1670x200; <br>  The speed of movement of the axes, mm / min: 3000; <br>  Spindle power, kW: 2.2; <br>  Dimensions, mm: 2800x2070x1570; <br>  Weight, kg: 1430. <br><br>  <b>Parts List:</b> <br><br>  Profile pipe 80x80 mm. <br>  Metal strip 10x80mm. <br>  Ball screw TBI 2510, 9 meters. <br>  Ball Screws TBI 2510, 4 pcs. <br>  Profile guides HIWIN carriage HGH25-CA, 12 pcs. <br>  Rail HGH25, 10 meters. <br>  Stepper motors: <br>  NEMA34-8801: 3 pcs. <br>  NEMA 23_2430: 1pc. <br>  Pulley BLA-25-5M-15-A-N14: 4 pcs. <br>  Pulley BLA-40-T5-20-AN 19: 2 pcs. <br>  Pulley BLA-30-T5-20-A-N14: 2 pcs. <br><br>  Interface Board StepMaster v2.5: 1 pcs. <br>  DM542 stepper motor driver: 4pcs.  (China) <br>  48V, 8A switching power supply: 2 pcs.  (China) <br>  2.2 kW inverter.  (China) <br>  2.2 kW spindle.  (China) <br><br>  Basic details and components like listed, if something is not included, then write in the comments, add. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/MdkxNel7W1w" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <b>Experience in the machine:</b> In the end, after almost a year and a half, we still started the machine.  First, we adjust the positioning accuracy of the axes and their maximum speed.  According to more experienced colleagues, the maximum speed of 3 m / min is not high and should be three times higher (for processing wood, plywood, etc.).  At that speed, which we have reached, the portal and other axes with their hands (whole body) resting on them can hardly be stopped - rushing like a tank.  They began testing with the processing of plywood, the cutter goes like clockwork, there is no vibration of the machine, but they also went deeper by 10 mm in one pass.  Although after deepening began to shallower. <br><br>  Having played with wood and plastic, we decided to gnaw duralumin, here I was delighted, although at first I broke several cutters with a diameter of 2 mm while I selected cutting modes.  Dural cuts very confidently, and a fairly clean cut is obtained, along the treated edge. <br><br>  We haven‚Äôt tried to process the steel yet, but I think that at least the engraving will pull the machine, and for milling the spindle is weak, it's a pity to kill him. <br><br>  And the rest of the machine perfectly copes with its tasks. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/YAh1HiJ9DrQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><iframe width="560" height="315" src="https://www.youtube.com/embed/EC0qxBZfP3c" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <b>Conclusion, opinion on the work done: The</b> work was done is not small, we ended up pretty hard, because no one has canceled the main work.  Yes, and the money invested is not enough, I will not say the exact amount, but this is about 400t.r.  In addition to the cost of equipment, the bulk of the costs and most of the forces went to the manufacture of the base.  Wow, how are we with him.  For the rest, everything was done as funds, time and finished parts were received to continue the assembly. <br><br>  The machine turned out to be quite efficient, quite tough, massive and high-quality.  Maintains good positioning accuracy.  When measuring a square of duralumin, size 40x40, the accuracy turned out to be + - 0.05 mm.  The accuracy of processing more dimensional parts is not measured. <br><br>  <b>What's next ...:</b> There is still enough work on the machine, in the form of closing the dust - protecting the guides and ball screws, covering the machine around the perimeter and installing overlaps in the middle of the base, which will form 4 large shelves, under the volume of spindle cooling, tool storage and accessories.  One of the quarters of the base would be equipped with a fourth axis.  It is also required to install a cyclone on the spindle to remove and collect chips about dust, especially if you process wood or PCB, dust flies from them everywhere and is deposited everywhere. <br><br>  As for the further fate of the machine, then everything is not straightforward, since I had a territorial question (I moved to another city), and now there is almost no one to deal with the machine.  And the above plans are not the fact that they will come true.  Not who this two years ago and could not imagine. <br><br>  In the case of the sale of the machine with its price tag, everything is not clear.  Since it is frankly pitiful to sell at cost, but an adequate price does not come to mind. <br><br>  On this, I probably finish my story.  If I did not light something, then write to me, and I will try to add text.  For the rest, much is shown in the video about the production of the machine on my YouTube channel. </div><p>Source: <a href="https://habr.com/ru/post/420333/">https://habr.com/ru/post/420333/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../420321/index.html">"I am a useless fool and I want to quit" - 10 questions for a programmer, a pilot issue</a></li>
<li><a href="../420323/index.html">How we implemented the DLP system in one international oil and gas holding</a></li>
<li><a href="../420327/index.html">LLTR Part 1: First steps in OMNeT ++ and INET</a></li>
<li><a href="../420329/index.html">‚ÄúReality in Question‚Äù: the main theses of the book by Jane McGonigal on the role of games in modern society</a></li>
<li><a href="../420331/index.html">Demopati in Helsinki "Assembly 2018" photo report, the second day</a></li>
<li><a href="../420335/index.html">Your reading style says a lot about your intellect - and this is why</a></li>
<li><a href="../420337/index.html">Detection of vulnerabilities in theory and practice, or why there is no perfect static analyzer</a></li>
<li><a href="../420339/index.html">Smartphone Surveillance - Pros and Cons</a></li>
<li><a href="../420341/index.html">On-site running and web development</a></li>
<li><a href="../420343/index.html">LED lights OK</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>