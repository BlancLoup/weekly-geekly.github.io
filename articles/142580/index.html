<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Introduction to JBoss Teiid</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This is the second year we have been using JBoss Teiid in our product. Accumulated experience, made and taken into account many errors. There are no r...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Introduction to JBoss Teiid</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/a62/c5b/fd3/a62c5bfd38fa655a238d71a5258a461f.png" alt="image" align="left">  This is the second year we have been using JBoss Teiid in our product.  Accumulated experience, made and taken into account many errors.  There are no regrets in the choice made.  There was a desire to share the collected information, I hope someone will come in handy. <br><br>  In a nutshell, JBoss Teiid is a federated database [2].  Well or so - this is a unifying relational superstructure over multiple data sources.  From the user's point of view, such a database looks like a unified scheme in which tables, views, and procedures are external data objects.  We can also say that external data is translated into a single virtual database. <br><br><a name="habracut"></a><br><h3>  The basics </h3><br>  This is what JBoss Teiid [1] looks like from the inside (according to official documentation [3]): 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/294/87c/fd6/29487cfd678be6b0676d149c69749143.jpg" alt="image"><br><br>  A simple example: take an honest relational database such as Oracle, mySQL or H2 (one or all three at once).  We combine with our favorite web service, add some data in CSV text files, <s>add salt and bring to a boil,</s> expand the resulting configuration in Teiid under JBoss.  Join SQL client.  The most interesting thing is that now we can build SQL queries that will be executed with combined resources. <br>  It is quite clear that some data sources may have certain properties, for example, they do not support transactions or changes (data is read-only).  The built-in optimizer Teiid takes on disassembly with the supported properties of each such source, using an abstraction with the mysterious name "translator".  Currently, translators are supported out of the box for: <br><ul><li>  JDBC (Oracle, MS SQL Server, IBM DB2, MySQL, Postgres, Derby, Sybase, H2, HSQL, Netezza, Teradata, Modeshape. Almost everything that can be accessed via JDBC, such as Excel via jdbc-odbc or Hive Hadoop. There are also ODBC support. Understands Hibernate as much as possible (dynamic DDL generation for table generation is not supported); </li><li>  Files on the file system (CSV, XML); </li><li>  Web services; </li><li>  Access to directories via LDAP; </li><li>  SalesForce, OLAP; </li></ul><br><br>  The client connection to Teiid is via JDBC (specification 4.0 is implemented almost completely).  It must be remembered that the client application must use Java 1.6 JDK and higher, previous versions of Java are not supported. <br>  A little about actually creating a virtual database (VDB file).  There are two ways: you can create a database using a special application designer (built on the basis of Eclipse), or completely dynamically.  The second option answered our tasks more, therefore we used it. <br>  Below are some details about the practical work with JBoss Teiid. <br><br><br><h3>  Details </h3><br>  <b>1. Install Teiid</b> <br>  Currently, Teiid has two active versions: 8.0 (in development, designed to work with JBoss 7) and 7.7 (we use it together with JBoss AS 5.1.0, the plans for switching to the eight this summer). <br>  The installation consists in downloading the Teiid archive with the latest version and expanding over the container installed by JBoss.  Teiid 7.7 needs a ‚Äúdefault‚Äù JBoss 5.1.0 profile.  We have slightly optimized this profile (basically eliminated unused services), but this step is not necessary. <br><br><br>  <b>2. Client Application and Virtual Database</b> <br>  The Teiid kit includes several examples that illustrate well the features of the work: <br><ul><li>  ‚ÄúDynamicvdb-portfolio‚Äù - an example combines text files with data and an HSQL database; </li><li>  ‚ÄúDynamicvdb-ws-weather‚Äù - makes it clear how to wrap a web service call in SQL; </li><li>  ‚ÄúSimpleclient‚Äù is a simple java client application that connects to a running Teiid and executes the specified SQL.  For these purposes, it seems more practical to use specialized clients (SQuirreL or Eclipse Database Developer); </li></ul><br><br><br>  <b>3. Features of using Teiid in our project</b> <br>  It turned out that under the conditions it was necessary to combine completely diverse things - relational bases (IBM DB2 and H2), many small files (CSV), as well as legacy data sources developed long before the advent of JDBC and the Java language (z / OS if anyone) that's interesting).  The required was achieved by writing their own translators to such sources.  The task turned out to be a trivial, self-made translator - no more than a couple of new java classes that extend the existing classes provided by Teiid. <br>  The task was complicated by the requirement to dynamically determine the presence and absence of various data sources and rebuild the Virtual Base without rebooting the server.  I had to abandon the Designer and build the vdb file using the Teiid Admin API at the initial start of the application.  If the ‚Äúpicture of the world‚Äù of a running application becomes different, some data sources change - a new version of VDB is programmatically created and deployed instead of the old one on the fly. <br>  Many steps have been taken to optimize memory usage and CPU usage.  Teiid has a flexible cache that helped us a lot.  Query Optimizer is also a very useful thing - a detailed execution plan is printed in the logs and makes it clear which parts of the query are executed inefficiently. <br><br><br><h3>  Afterword </h3><br>  This article was intended as an introductory one.  If you are interested in individual moments, you can drill down, well, or add more details from the experience. <br>  For example, Teiid 8 under JBoss 7 promises to be quite nimble and minimally voracious.  Unfortunately, it is still damp in places, but it is being finalized at an accelerated pace.  By the way, I can say that the professionalism of the team supporting Teiid causes only pleasant emotions.  In many cases, the problems found were corrected the day after the opening of the ticket in Jira.  Questions on the forum are answered within a few hours.  Open source project, supported by JBoss, the guys are obviously trying, we are pleased with the cooperation. <br><br><br>  [1] <a href="http://www.jboss.org/teiid">JBoss: The Teiid Project</a> <br>  [2] <a href="http://en.wikipedia.org/wiki/Federated_database_system">Wikipedia: Federated Database System</a> <br>  [3] <a href="http://community.jboss.org/servlet/JiveServlet/download/12956-36-6718/teiid_JBW_presentation.pdf">Tao of Teiid: Technical Introduction to Teiid</a> <br><br></div><p>Source: <a href="https://habr.com/ru/post/142580/">https://habr.com/ru/post/142580/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../142573/index.html">Skype for Windows Phone out of beta</a></li>
<li><a href="../142574/index.html">Save gmail</a></li>
<li><a href="../142575/index.html">Dynamic Binary Instrumentation in Information Security</a></li>
<li><a href="../142577/index.html">node-get</a></li>
<li><a href="../142579/index.html">Subjective opinion about Mac OS in comparison</a></li>
<li><a href="../142582/index.html">Smart cars. Approaching the future</a></li>
<li><a href="../142583/index.html">Notebook power supplies - choose correctly</a></li>
<li><a href="../142584/index.html">Creating plugins for Redmine</a></li>
<li><a href="../142585/index.html">Wt, C ++ Library for Web Application Development</a></li>
<li><a href="../142586/index.html">The problem of the popularity of Ruby and Ruby on Rails - bad documentation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>