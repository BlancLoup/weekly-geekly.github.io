<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The work of NSFetchRequest and NSFetchedResultsController, as well as why there is a grocery market</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! This article is aimed at developers who have a minimal skill of working with the Core Data Framework . Let me remind you that Core Data is a fr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The work of NSFetchRequest and NSFetchedResultsController, as well as why there is a grocery market</h1><div class="post__text post__text-html js-mediator-article"><p> Hello!  This article is aimed at developers who have a minimal skill of working with the <code>Core Data Framework</code> .  Let me remind you that <code>Core Data</code> is a framework for storing data on the device and interacting with them.  On this subject there is a bunch of Russian-language articles on Habr√© and the network, so I do not see the need to repeat their content. </p><br><p>  Often beginners <del>  especially stack overflow </del>  developers are afraid to use the <code>Core Data Framework</code> , because it seems difficult for them, or use only a small part of its capabilities.  In reality, knowledge of the basic functions of the classes of this framework allows the developer to work with the model with convenience. </p><br><p>  In the article I want to focus on the following points: </p><br><ul><li>  We will look at the <strong><code>NSFetchRequest</code></strong> class, which is used to create requests to extract data from a model.  We will study its basic properties and cases with their application; </li><li>  we will <strong><code>NSFetchedResultsController</code></strong> in detail the functions and operation of <strong><code>NSFetchedResultsController</code></strong> by effectively presenting the extracted data using <strong><code>NSFetchRequest</code></strong> using the example of <strong><code>UITableView</code></strong> . </li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/2c0/64e/1e3/2c064e1e3115a8ba6570d4a417ce5613.jpg" alt="image"><br><a name="habracut"></a><br><h1 id="opisanie-demo-proekta">  Description of the demo project </h1><br><p>  The demo project, on which we will ‚Äúexperiment‚Äù, is very primitive.  It includes the <code>Model</code> and <code>ViewController</code> , in which the <code>UITableView</code> is located. <br>  For specifics, we will use a banal list of products with the name and price. </p><br><h3 id="model">  Model </h3><br><p>  The model will contain two entities: <strong><code>Products</code></strong> with the attributes <strong><code>name</code></strong> and <strong><code>price</code></strong> and <strong><code>FavoriteProducts</code></strong> , which inherits these attributes. </p><br><p><img src="https://habrastorage.org/files/0a3/b26/d2f/0a3b26d2fcb0482aaf170e5d0d12f39a.png"></p><br><p>  For example, let's fill our database with a number of products with random price (up to <code>1000</code> ) and the name of a product from the list: <code>‚Äù‚Äù, ‚Äú‚Äù, ‚Äú‚Äù, ‚Äú‚Äù, ‚Äú ¬´¬ª‚Äù, ‚Äú ¬´¬ª‚Äù, ‚Äú‚Äù, ‚Äú‚Äù</code> . </p><br><h3 id="kontroller">  Controller </h3><br><p>  In the controller, with the help of the code, we initialize and place the table in full screen. </p><br><div class="spoiler">  <b class="spoiler_title">Objective c</b> <div class="spoiler_text"><pre> <code class="hljs objectivec">- (<span class="hljs-built_in"><span class="hljs-built_in">UITableView</span></span> *)tableView { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_tableView != <span class="hljs-literal"><span class="hljs-literal">nil</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _tableView; _tableView = [[<span class="hljs-built_in"><span class="hljs-built_in">UITableView</span></span> alloc] initWithFrame:<span class="hljs-built_in"><span class="hljs-built_in">CGRectZero</span></span> style:<span class="hljs-built_in"><span class="hljs-built_in">UITableViewStyleGrouped</span></span>]; _tableView.backgroundColor = [<span class="hljs-built_in"><span class="hljs-built_in">UIColor</span></span> whiteColor]; _tableView.dataSource = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _tableView; } - (<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>)loadView { [<span class="hljs-keyword"><span class="hljs-keyword">super</span></span> loadView]; [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view addSubview:<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.tableView]; } - (<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>)viewDidLayoutSubviews { [<span class="hljs-keyword"><span class="hljs-keyword">super</span></span> viewDidLayoutSubviews]; _tableView.frame = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view.frame; }</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Swift</b> <div class="spoiler_text"><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> tableView: <span class="hljs-type"><span class="hljs-type">UITableView</span></span> = { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> tableView = <span class="hljs-type"><span class="hljs-type">UITableView</span></span>(frame: <span class="hljs-type"><span class="hljs-type">CGRectZero</span></span>, style: .<span class="hljs-type"><span class="hljs-type">Grouped</span></span>) tableView.backgroundColor = <span class="hljs-type"><span class="hljs-type">UIColor</span></span>.whiteColor() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> tableView }() <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loadView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.loadView() <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view.addSubview(tableView) } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewDidLoad</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.viewDidLoad() tableView.dataSource = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewDidLayoutSubviews</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.viewDidLayoutSubviews() tableView.frame = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view.frame }</code> </pre> </div></div><br><h3 id="izvlechenie-dannyh">  Data retrieval </h3><br><p>  Extraction of data from the model is performed by the <strong><code>NSManagedObjectContext</code></strong> method <strong><code>executeFetchRequest(_:)</code></strong> .  The method argument is the sampling request. <strong><code>NSFetchRequest</code></strong> is the main character of this article. </p><br><div class="spoiler">  <b class="spoiler_title">Objective c</b> <div class="spoiler_text"><pre> <code class="hljs objectivec"><span class="hljs-built_in"><span class="hljs-built_in">NSManagedObjectContext</span></span> *context = [[CoreDataManager instance] managedObjectContext]; <span class="hljs-built_in"><span class="hljs-built_in">NSEntityDescription</span></span> *entityDescription = [<span class="hljs-built_in"><span class="hljs-built_in">NSEntityDescription</span></span> entityForName:<span class="hljs-string"><span class="hljs-string">@"Products"</span></span> inManagedObjectContext:context]; <span class="hljs-built_in"><span class="hljs-built_in">NSFetchRequest</span></span> *request = [[<span class="hljs-built_in"><span class="hljs-built_in">NSFetchRequest</span></span> alloc] init]; request.entity = entityDescription; <span class="hljs-built_in"><span class="hljs-built_in">NSError</span></span> *error = <span class="hljs-literal"><span class="hljs-literal">nil</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">NSArray</span></span>* objects = [context executeFetchRequest:request error:&amp;error];</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Swift</b> <div class="spoiler_text"><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> context = <span class="hljs-type"><span class="hljs-type">CoreDataManager</span></span>.instance.managedObjectContext <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> entityDescription = <span class="hljs-type"><span class="hljs-type">NSEntityDescription</span></span>.entityForName(<span class="hljs-string"><span class="hljs-string">"Products"</span></span>, inManagedObjectContext: context) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> request = <span class="hljs-type"><span class="hljs-type">NSFetchRequest</span></span>() request.entity = entityDescription <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> objects = <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> context.executeFetchRequest(request) } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">fatalError</span></span>(<span class="hljs-string"><span class="hljs-string">"Failed to fetch employees: \(error)"</span></span>) }</code> </pre> </div></div><br><p>  The return type of the <strong><code>executeFetchRequest(_:)</code></strong> method is an array of objects of the <strong><code>NSManagedObject</code></strong> class by default.  For clarity, print the elements extracted from our model, converting the output. </p><br><div class="spoiler">  <b class="spoiler_title">Conclusion</b> <div class="spoiler_text"><pre> <code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">156</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">425</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">85</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">400</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">920</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">861</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">76</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">633</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">635</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">718</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">701</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">176</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">731</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">746</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">456</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">519</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">221</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">560</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">646</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">492</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">185</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">539</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">872</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">972</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">821</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">409</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">334</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">734</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">448</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">345</span></span></code> </pre> </div></div><br><h1 id="osnovnye-metody-i-svoystva-klassa-nsfetchrequest">  Basic methods and properties of the NSFetchRequest class </h1><br><p>  As I said above, the <strong><code>NSFetchRequest</code></strong> class <strong><code>NSFetchRequest</code></strong> used as a request to fetch data from a model.  This tool allows you to set the rules for filtering and sorting objects at the stage of retrieving them from the database.  This operation becomes many times more efficient and more productive than if we first performed the extraction of all objects (and if there are 10,000 or more of them?), And then manually sorted or filtered the data of interest to us. </p><br><p>  Knowing the basic properties of this class, you can easily handle queries and get a specific sample without developing additional algorithms and crutches - everything is already implemented in <code>Core Data</code> .  Let's get started </p><br><h2 id="sortdescriptors">  sortDescriptors </h2><br><div class="spoiler">  <b class="spoiler_title">Objective c</b> <div class="spoiler_text"><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">@property</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">nonatomic</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">strong</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">NSArray</span></span> &lt;<span class="hljs-built_in"><span class="hljs-built_in">NSSortDescriptor</span></span> *&gt; *sortDescriptors</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Swift</b> <div class="spoiler_text"><pre> <code class="hljs objectivec">var sortDescriptors: [<span class="hljs-built_in"><span class="hljs-built_in">NSSortDescriptor</span></span>]?</code> </pre> </div></div><br><p>  I want to start a review of class properties with <strong><code>sortDesctriptors</code></strong> , which is an array of objects of the <strong><code>NSSortDescriptor</code></strong> class.  It is through them that the sorting mechanism is implemented.  Instructions on using sorting descriptors can be found on the <a href="https://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/SortDescriptors/Articles/Creating.html">Apple</a> portal.  This property accepts an array of sort descriptors, which allows us to use several sorting rules.  The priorities for this use are equivalent to the First In-First Out (FIFO) rules: the smaller the index by which the object is located in the array, the higher the sorting priority. </p><br><h4 id="primer-ispolzovaniya">  Usage example </h4><br><p>  The output of all the objects that we reviewed earlier is chaotic and not very readable. For convenience, we sort this list first by product name, specify the name of the name attribute with a sort key, and then sort by price.  We want to sort the names in alphabetical order, and the price in ascending order.  To do this, we set the <strong><code>ascending</code></strong> value of both predicates to boolean <strong><code>true</code></strong> (the boolean <strong><code>false</code></strong> used for descending sorting). </p><br><div class="spoiler">  <b class="spoiler_title">Objective c</b> <div class="spoiler_text"><pre> <code class="hljs objectivec"><span class="hljs-built_in"><span class="hljs-built_in">NSSortDescriptor</span></span> *nameSortDescriptor = [[<span class="hljs-built_in"><span class="hljs-built_in">NSSortDescriptor</span></span> alloc] initWithKey:<span class="hljs-string"><span class="hljs-string">@"name"</span></span> ascending:<span class="hljs-literal"><span class="hljs-literal">YES</span></span>]; <span class="hljs-built_in"><span class="hljs-built_in">NSSortDescriptor</span></span> *priceSortDescriptor = [[<span class="hljs-built_in"><span class="hljs-built_in">NSSortDescriptor</span></span> alloc] initWithKey:<span class="hljs-string"><span class="hljs-string">@"price"</span></span> ascending:<span class="hljs-literal"><span class="hljs-literal">YES</span></span>]; fetchRequest.sortDescriptors = @[nameSortDescriptor, priceSortDescriptor];</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Swift</b> <div class="spoiler_text"><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> nameSortDescriptor = NSSortDescriptor(key: <span class="hljs-string"><span class="hljs-string">"name"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">ascending</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> priceSortDescriptor = NSSortDescriptor(key: <span class="hljs-string"><span class="hljs-string">"price"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">ascending</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>) fetchRequest.sortDescriptors = [nameSortDescriptor, priceSortDescriptor]</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Result of sorting</b> <div class="spoiler_text"><pre> <code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">185</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">334</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">731</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">972</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">156</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">492</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">701</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">821</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">76</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">85</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">176</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">425</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">448</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">539</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">635</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">345</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">646</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">718</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">746</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">861</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">872</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">221</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">400</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">409</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">633</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">734</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">456</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">519</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">560</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">920</span></span></code> </pre> </div></div><br><h2 id="predicate">  predicate </h2><br><div class="spoiler">  <b class="spoiler_title">Objective c</b> <div class="spoiler_text"><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">@property</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">nonatomic</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">strong</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">NSPredicate</span></span> *predicate</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Swift</b> <div class="spoiler_text"><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> predicate: <span class="hljs-type"><span class="hljs-type">NSPredicate?</span></span></code> </pre> </div></div><br><p>  The next property under consideration is the <strong><code>NSPredicate</code></strong> class <strong><code>NSPredicate</code></strong> , which is a powerful and fast data filtering tool.  There is an excellent <a href="https://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/Predicates/AdditionalChapters/Introduction.html">Apple</a> Guide ( <a href="http://macbug.ru/cocoa/predbasics">Translation</a> ) for using a predicate.  Filtering data in the request is due to the special string syntax of the predicate, which is described in the above guide. </p><br><h4 id="primer-ispolzovaniya-1">  Usage example </h4><br><p>  Let's start with a simple example: we are passionate lovers of milk sausage and want to find out the prices for it, presented in the list of products.  To do this, we indicate in the predicate that we want to get objects whose name attribute <strong><code>name</code></strong> is equal to the string <strong><code>" ¬´¬ª"</code></strong> . </p><br><div class="spoiler">  <b class="spoiler_title">Objective c</b> <div class="spoiler_text"><pre> <code class="hljs objectivec"> <span class="hljs-built_in"><span class="hljs-built_in">NSPredicate</span></span> *predicate = [<span class="hljs-built_in"><span class="hljs-built_in">NSPredicate</span></span> predicateWithFormat:<span class="hljs-string"><span class="hljs-string">@"name == %@"</span></span>, <span class="hljs-string"><span class="hljs-string">@" ¬´¬ª"</span></span>]; fetchRequest.predicate = predicate;</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Swift</b> <div class="spoiler_text"><pre> <code class="hljs objectivec">let predicate = <span class="hljs-built_in"><span class="hljs-built_in">NSPredicate</span></span>(format: <span class="hljs-string"><span class="hljs-string">"name == %@"</span></span>, <span class="hljs-string"><span class="hljs-string">" ¬´¬ª"</span></span>) fetchRequest.predicate = predicate</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Result</b> <div class="spoiler_text"><pre> <code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">400</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">221</span></span></code> </pre> </div></div><br><p>  Note that in order to correctly compile a predicate using the equality operator <strong><code>==</code></strong> it is necessary to accurately specify the string value, taking into account the register. </p><br><p>  And if we want to see the prices of not only dairy, but all kinds of sausages?  To do this, we turn to the <strong><code>CONTAINS</code></strong> operator (the left expression <code></code> right expression) and add the keywords <strong><code>[cd]</code></strong> , which indicate case insensitivity to accented characters.  We can also use several conditions in which the <strong><code>AND</code></strong> operator will help us.  We limit the results by cost - up to 500 monetary units. </p><br><div class="spoiler">  <b class="spoiler_title">Objective c</b> <div class="spoiler_text"><pre> <code class="hljs objectivec"> <span class="hljs-built_in"><span class="hljs-built_in">NSPredicate</span></span> *predicate = [<span class="hljs-built_in"><span class="hljs-built_in">NSPredicate</span></span> predicateWithFormat:<span class="hljs-string"><span class="hljs-string">@"name CONTAINS[cd] %@ AND price &lt; %d"</span></span>, <span class="hljs-string"><span class="hljs-string">@""</span></span>, <span class="hljs-number"><span class="hljs-number">500</span></span>]; fetchRequest.predicate = predicate;</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Swift</b> <div class="spoiler_text"><pre> <code class="hljs perl">let predicate = NSPredicate(<span class="hljs-keyword"><span class="hljs-keyword">format</span></span>: <span class="hljs-string"><span class="hljs-string">"name CONTAINS[cd] %@ AND price &lt; %d"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-number"><span class="hljs-number">500</span></span>) fetchRequest.predicate = predicate</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Result</b> <div class="spoiler_text"><pre> <code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">400</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">221</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">345</span></span></code> </pre> </div></div><br><h2 id="fetchlimit">  fetchLimit </h2><br><div class="spoiler">  <b class="spoiler_title">Objective c</b> <div class="spoiler_text"><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">@property</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">nonatomic</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">NSUInteger</span></span> fetchLimit</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Swift</b> <div class="spoiler_text"><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> fetchLimit: <span class="hljs-built_in"><span class="hljs-built_in">Int</span></span></code> </pre> </div></div><br><p>  The <strong><code>fetchLimit</code></strong> property allows <strong><code>fetchLimit</code></strong> to limit the number of objects to be extracted. </p><br><h4 id="primer-ispolzovaniya-2">  Usage example </h4><br><p>  For the demonstration, we get 12 of the cheapest products from the list of products.  To do this, add a sort by price and the limit on the number of extracted objects - <strong><code>12</code></strong> . </p><br><div class="spoiler">  <b class="spoiler_title">Objective c</b> <div class="spoiler_text"><pre> <code class="hljs objectivec"><span class="hljs-comment"><span class="hljs-comment">//    NSSortDescriptor *priceSortDescriptor = [[NSSortDescriptor alloc] initWithKey:@"price" ascending:YES]; fetchRequest.sortDescriptors = @[priceSortDescriptor]; //    = 12 fetchRequest.fetchLimit = 12;</span></span></code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Swift</b> <div class="spoiler_text"><pre> <code class="hljs bash">//    <span class="hljs-built_in"><span class="hljs-built_in">let</span></span> priceSortDescriptor = NSSortDescriptor(key: <span class="hljs-string"><span class="hljs-string">"price"</span></span>, ascending: <span class="hljs-literal"><span class="hljs-literal">true</span></span>) fetchRequest.sortDescriptors = [priceSortDescriptor] //    = 12 fetchRequest.fetchLimit = 12</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Result</b> <div class="spoiler_text"><pre> <code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">76</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">85</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">156</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">176</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">185</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">221</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">334</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">345</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">400</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">409</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">425</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">448</span></span></code> </pre> </div></div><br><h2 id="fetchoffset">  fetchOffset </h2><br><div class="spoiler">  <b class="spoiler_title">Objective c</b> <div class="spoiler_text"><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">@property</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">nonatomic</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">NSUInteger</span></span> fetchOffset</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Swift</b> <div class="spoiler_text"><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> fetchOffset: <span class="hljs-built_in"><span class="hljs-built_in">Int</span></span></code> </pre> </div></div><br><p>  With this property you can shift the results of the sample to a specified number of objects. </p><br><h4 id="primer-ispolzovaniya-3">  Usage example </h4><br><p>  To show the operation of this property, we use the previous query and add an offset to two objects to it.  As a result, we get 12 objects, where the first two are missing, and the following are added to the end, as if we had shifted the table with the results by two cells. </p><br><div class="spoiler">  <b class="spoiler_title">Objective c</b> <div class="spoiler_text"><pre> <code class="hljs">fetchRequest.fetchOffset = 2;</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Swift</b> <div class="spoiler_text"><pre> <code class="hljs">fetchRequest.fetchOffset = 2</code> </pre> </div></div><br><p>  For clarity, I have limited the extracted objects to a dotted line. </p><br><div class="spoiler">  <b class="spoiler_title">Result</b> <div class="spoiler_text"><pre> <code class="hljs delphi">: : <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">76</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">85</span></span> --------------------------------------------------------------------------------- <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">76</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">156</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">85</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">176</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">156</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">185</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">176</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">221</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">185</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">334</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">221</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">345</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">334</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">400</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">345</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">409</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">400</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">425</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">409</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">448</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">425</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">456</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">448</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">492</span></span> --------------------------------------------------------------------------------- <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">456</span></span> ... <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">492</span></span> ...</code> </pre> </div></div><br><h2 id="fetchbatchsize">  fetchBatchSize </h2><br><div class="spoiler">  <b class="spoiler_title">Objective c</b> <div class="spoiler_text"><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">@property</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">nonatomic</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">NSUInteger</span></span> fetchBatchSize</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Swift</b> <div class="spoiler_text"><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> fetchBatchSize: <span class="hljs-built_in"><span class="hljs-built_in">Int</span></span></code> </pre> </div></div><br><p>  With the help of <strong><code>fetchBatchSize</code></strong> regulated how many objects at a time will be retrieved from the database ( <code>Persistent Store</code> ) with which the <code>Core Data Framework</code> works ( <code>SQLite</code> , <code>XML</code> , etc.).  Correctly established value for specific cases can both speed up work with the base and, conversely, slow down. </p><br><p>  Suppose we work with a <code>UITableView</code> .  There are more than 10,000 objects in our model.  It will take some time to extract all these items at once.  But the table we have holds 20 cells per screen, and for display we will need only 20 objects.  In such a case, it is advisable to use <strong><code>fetchBatchSize</code></strong> equal to 20. First, <code>Core Data</code> will query the database for 20 objects, which we will display in the table, and when scrolling, the next pack of 20 elements will be requested.  This approach greatly optimizes the interaction with persistent storage. </p><br><p>  But do not use too small a pack size, for example, equal to 1 - this will only load the database with constant requests for one element. </p><br><div class="spoiler">  <b class="spoiler_title">Objective c</b> <div class="spoiler_text"><pre> <code class="hljs">fetchRequest.fetchBatchSize = 20;</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Swift</b> <div class="spoiler_text"><pre> <code class="hljs">fetchRequest.fetchBatchZize = 20</code> </pre> </div></div><br><h2 id="resulttype">  resultType </h2><br><div class="spoiler">  <b class="spoiler_title">Objective c</b> <div class="spoiler_text"><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">@property</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">nonatomic</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">NSFetchRequestResultType</span></span> resultType</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Swift</b> <div class="spoiler_text"><pre> <code class="hljs objectivec">var resultType: <span class="hljs-built_in"><span class="hljs-built_in">NSFetchRequestResultType</span></span></code> </pre> </div></div><br><p>  When retrieving data, the <strong><code>executeFetchRequest(_:)</code></strong> method by default returns an array of <strong><code>NSManagedObject</code></strong> objects and its heirs. </p><br><p>  Changing the <strong><code>resultType</code></strong> property allows <strong><code>resultType</code></strong> to select the type of objects you extracted.  Consider them (Objective-C with the prefix NS alternates with Swift through a slash): </p><br><ul><li>  <strong><code>NSManagedObjectResultType</code></strong> / <strong><code>ManagedObjectResultType</code></strong> - objects of the <strong><code>NSManagedObject</code></strong> class and its successors (by default). </li><li>  <strong><code>NSManagedObjectIDResultType</code></strong> / <strong><code>ManagedObjectIDResultType</code></strong> - <strong><code>NSManagedObject</code></strong> object identifier. </li><li>  <strong><code>NSDictionaryResultType</code></strong> / <strong><code>DictionaryResultType</code></strong> is a dictionary where the keys are the attribute names of the entity. </li><li>  <strong><code>NSCountResultType</code></strong> / <strong><code>CountResultType</code></strong> - returns one array element with the value of the number of elements. </li></ul><br><h2 id="propertiestofetch">  propertiesToFetch </h2><br><div class="spoiler">  <b class="spoiler_title">Objective c</b> <div class="spoiler_text"><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">@property</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">nonatomic</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">copy</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">NSArray</span></span> *propertiesToFetch</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Swift</b> <div class="spoiler_text"><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> propertiesToFetch: [<span class="hljs-type"><span class="hljs-type">AnyObject</span></span>]?</code> </pre> </div></div><br><p>  This property allows you to extract from the entity only the necessary attributes.  But the prerequisite is that <strong><code>resultType</code></strong> must be a dictionary ( <strong><code>NSDictionaryResultType</code></strong> / <strong><code>DictionaryResultType</code></strong> ). </p><br><h4 id="primer-ispolzovaniya-4">  Usage example </h4><br><p>  As an example, we extract only the values ‚Äã‚Äãof the <strong><code>name</code></strong> attribute and, for output, we print out all the values ‚Äã‚Äãfor all existing dictionary keys in the format <code>(key: value)</code> . </p><br><div class="spoiler">  <b class="spoiler_title">Objective c</b> <div class="spoiler_text"><pre> <code class="hljs objectivec">fetchRequest.resultType = <span class="hljs-built_in"><span class="hljs-built_in">NSDictionaryResultType</span></span>; fetchRequest.propertiesToFetch = @[<span class="hljs-string"><span class="hljs-string">@"name"</span></span>];</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Swift</b> <div class="spoiler_text"><pre> <code class="hljs objectivec">fetchRequest.resultType = .DictionaryResultType fetchRequest.propertiesToFetch = [<span class="hljs-string"><span class="hljs-string">"name"</span></span>]</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Result (key: value)</b> <div class="spoiler_text"><pre> <code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">name</span></span>:  <span class="hljs-type"><span class="hljs-type">name</span></span>:  <span class="hljs-type"><span class="hljs-type">name</span></span>:  <span class="hljs-type"><span class="hljs-type">name</span></span>:  ¬´¬ª <span class="hljs-type"><span class="hljs-type">name</span></span>:  <span class="hljs-type"><span class="hljs-type">name</span></span>:  ¬´¬ª <span class="hljs-type"><span class="hljs-type">name</span></span>:  <span class="hljs-type"><span class="hljs-type">name</span></span>:  <span class="hljs-type"><span class="hljs-type">name</span></span>:  <span class="hljs-type"><span class="hljs-type">name</span></span>:  ¬´¬ª <span class="hljs-type"><span class="hljs-type">name</span></span>:  <span class="hljs-type"><span class="hljs-type">name</span></span>:  <span class="hljs-type"><span class="hljs-type">name</span></span>:  <span class="hljs-type"><span class="hljs-type">name</span></span>:  ¬´¬ª <span class="hljs-type"><span class="hljs-type">name</span></span>:  <span class="hljs-type"><span class="hljs-type">name</span></span>:  <span class="hljs-type"><span class="hljs-type">name</span></span>:   <span class="hljs-type"><span class="hljs-type">name</span></span>:  <span class="hljs-type"><span class="hljs-type">name</span></span>:  ¬´¬ª <span class="hljs-type"><span class="hljs-type">name</span></span>:  <span class="hljs-type"><span class="hljs-type">name</span></span>:  <span class="hljs-type"><span class="hljs-type">name</span></span>:  <span class="hljs-type"><span class="hljs-type">name</span></span>:  ¬´¬ª <span class="hljs-type"><span class="hljs-type">name</span></span>:  <span class="hljs-type"><span class="hljs-type">name</span></span>:  <span class="hljs-type"><span class="hljs-type">name</span></span>:  <span class="hljs-type"><span class="hljs-type">name</span></span>:  <span class="hljs-type"><span class="hljs-type">name</span></span>:  <span class="hljs-type"><span class="hljs-type">name</span></span>:  <span class="hljs-type"><span class="hljs-type">name</span></span>:  ¬´¬ª</code> </pre> </div></div><br><h2 id="includessubentities">  includesSubentities </h2><br><div class="spoiler">  <b class="spoiler_title">Objective c</b> <div class="spoiler_text"><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">@property</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">nonatomic</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">BOOL</span></span> includesSubentities</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Swift</b> <div class="spoiler_text"><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> includesSubentities: <span class="hljs-type"><span class="hljs-type">Bool</span></span></code> </pre> </div></div><br><p>  To demonstrate this property, you need to add an object to the <strong><code>FavoriteProducts</code></strong> entity, which is a successor of <strong><code>Products</code></strong> .  Give this object the name <strong><code>""</code></strong> and price <strong><code>999</code></strong> . </p><br><p>  Referring to the request for the <strong><code>Products</code></strong> entity, with which we sorted by name and price. </p><br><div class="spoiler">  <b class="spoiler_title">Result</b> <div class="spoiler_text"><pre> <code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">185</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">334</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">731</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">972</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">156</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">492</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">701</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">821</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">76</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">85</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">176</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">425</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">448</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">539</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">635</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">345</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">646</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">718</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">746</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">861</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">872</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">221</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">400</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">409</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">633</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">734</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">456</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">519</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">560</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">920</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">999</span></span></code> </pre> </div></div><br><p>  At the end of the list, notice the object we just added for the <strong><code>FavoriteProducts</code></strong> entity.  What is he doing here?  The point is that the default value of the <strong><code>includesSubentities</code></strong> property is equal to the boolean <strong><code>true</code></strong> by default, which means retrieving objects not only of the current entity, but also of successor entities. </p><br><p>  To avoid this, change it to boolean <strong><code>false</code></strong> . </p><br><div class="spoiler">  <b class="spoiler_title">Objective c</b> <div class="spoiler_text"><pre> <code class="hljs objectivec">fetchRequest.includesSubentities = <span class="hljs-literal"><span class="hljs-literal">NO</span></span>;</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Swift</b> <div class="spoiler_text"><pre> <code class="hljs objectivec">fetchRequest.includesSubentities = <span class="hljs-literal"><span class="hljs-literal">false</span></span></code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Result</b> <div class="spoiler_text"><pre> <code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">185</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">334</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">731</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">972</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">156</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">492</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">701</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">821</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">76</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">85</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">176</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">425</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">448</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">539</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">635</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">345</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">646</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">718</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">746</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">861</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">872</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">221</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>:  ¬´¬ª, PRICE: <span class="hljs-number"><span class="hljs-number">400</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">409</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">633</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">734</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">456</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">519</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">560</span></span> <span class="hljs-type"><span class="hljs-type">NAME</span></span>: , PRICE: <span class="hljs-number"><span class="hljs-number">920</span></span></code> </pre> </div></div><br><h1 id="fetched-results-controller-frc">  Fetched Results Controller (FRC) </h1><br><p>  The <strong><code>NSFetchedResultsController</code></strong> class <strong><code>NSFetchedResultsController</code></strong> can be conditionally positioned between <code>Core Data</code> and <code>ViewController</code> , in which we need to display data from the database.  The methods and properties of this controller allow you to conveniently interact, present and manage objects from <code>Core Data</code> in conjunction with the <code>UITableView</code> tables for which it is most adapted. </p><br><p>  This controller can convert extracted objects into table elements - sections and objects of these sections.  <strong><code>FRC</code></strong> has the <strong><code>NSFetchedResultsControllerDelegate</code></strong> protocol, which, when delegated, allows you to detect changes that occur with objects of a given <strong><code>NSFetchRequest</code></strong> request at the time of controller initialization. </p><br><h2 id="inicializaciya-frc">  FRC Initialization </h2><br><div class="spoiler">  <b class="spoiler_title">Objective c</b> <div class="spoiler_text"><pre> <code class="hljs objectivec">- (<span class="hljs-keyword"><span class="hljs-keyword">instancetype</span></span>)initWithFetchRequest:(<span class="hljs-built_in"><span class="hljs-built_in">NSFetchRequest</span></span> *)fetchRequest managedObjectContext: (<span class="hljs-built_in"><span class="hljs-built_in">NSManagedObjectContext</span></span> *)context sectionNameKeyPath:(<span class="hljs-keyword"><span class="hljs-keyword">nullable</span></span> <span class="hljs-built_in"><span class="hljs-built_in">NSString</span></span> *)sectionNameKeyPath cacheName:(<span class="hljs-keyword"><span class="hljs-keyword">nullable</span></span> <span class="hljs-built_in"><span class="hljs-built_in">NSString</span></span> *)name;</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Swift</b> <div class="spoiler_text"><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">init</span></span>(fetchRequest: <span class="hljs-type"><span class="hljs-type">NSFetchRequest</span></span>, managedObjectContext context: <span class="hljs-type"><span class="hljs-type">NSManagedObjectContext</span></span>, sectionNameKeyPath: <span class="hljs-type"><span class="hljs-type">String?</span></span>, cacheName name: <span class="hljs-type"><span class="hljs-type">String?</span></span>)</code> </pre> </div></div><br><p>  Let's sort the initialization parameters: </p><br><ul><li>  <strong><code>fetchRequest</code></strong> - request to retrieve <strong><code>NSFetchRequest</code></strong> objects.  Important: for the <strong><code>FRC</code></strong> to work, the request must have at least one sort descriptor and its <strong><code>resultType</code></strong> must be <strong><code>NSManagedObjectResultType / ManagedObjectResultType</code></strong> . </li><li>  <strong><code>context</code></strong> - the <strong><code>NSManagedObjectContext</code></strong> context in which we work. </li><li>  <strong><code>sectionNameKeyPath</code></strong> is an optional parameter. If you specify it in the format of a string key (entity attribute name), objects are grouped with the same values ‚Äã‚Äãof this attribute in a table section.  It is important that this key matches the sort descriptor, which has the highest priority.  If you do not specify this parameter, a table with one section will be created. </li><li>  <strong><code>cacheName</code></strong> is an optional parameter, specifying which the controller starts caching query results.  Consider it later in more detail. </li></ul><br><p>  The next step is to call the controller's <strong><code>performFetch</code></strong> method in order to extract the sample from the database. </p><br><div class="spoiler">  <b class="spoiler_title">Objective c</b> <div class="spoiler_text"><pre> <code class="hljs lua">NSError *<span class="hljs-built_in"><span class="hljs-built_in">error</span></span> = <span class="hljs-literal"><span class="hljs-literal">nil</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (![self.fetchedResultsController performFetch:&amp;<span class="hljs-built_in"><span class="hljs-built_in">error</span></span>]) { NSLog(@<span class="hljs-string"><span class="hljs-string">"Unresolved error %@, %@"</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">error</span></span>, [<span class="hljs-built_in"><span class="hljs-built_in">error</span></span> userInfo]); abort(); }</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Swift</b> <div class="spoiler_text"><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">do</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> fetchedResultsController.performFetch() } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(error) }</code> </pre> </div></div><br><p>  The method returns a boolean value.  If the extraction is successful, the boolean <strong><code>true</code></strong> will return, otherwise <strong><code>false</code></strong> .  After extraction, the objects are in the controller's <strong><code>fetchedObjects</code></strong> . </p><br><h2 id="vzaimodeystie-s-uitableview">  Interaction with UITableView </h2><br><p>  Consider working with the table.  Although the extracted objects are in the <strong><code>fetchedObject</code></strong> property, to work with them, you should refer to the <strong><code>sections</code></strong> property property.  This is an array of objects that subscribe to the <strong><code>NSFetchedResultsSectionInfo</code></strong> protocol, which describes the following properties: </p><br><ul><li>  <strong><code>name</code></strong> - the section name. </li><li>  <strong><code>indexTitle</code></strong> - section header. </li><li>  <strong><code>numbersOfObjects</code></strong> - the number of objects in the section. </li><li>  <strong><code>objects</code></strong> - the array of objects themselves, located in the section. </li></ul><br><h4 id="realizaciya">  Implementation </h4><br><p>  To make it convenient for us, we will add a method to configure the cell of the <strong><code>configureCell</code></strong> table. </p><br><div class="spoiler">  <b class="spoiler_title">Objective c</b> <div class="spoiler_text"><pre> <code class="hljs scala">#pragma mark - <span class="hljs-type"><span class="hljs-type">Table</span></span> <span class="hljs-type"><span class="hljs-type">View</span></span> - (void)configureCell:(<span class="hljs-type"><span class="hljs-type">UITableViewCell</span></span> *)cell withObject:(<span class="hljs-type"><span class="hljs-type">Products</span></span> *)<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">object</span></span></span><span class="hljs-class"> </span></span>{ cell.textLabel.text = <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">object</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">name</span></span></span></span>; cell.detailTextLabel.text = [<span class="hljs-type"><span class="hljs-type">NSString</span></span> stringWithFormat:@<span class="hljs-string"><span class="hljs-string">"%d"</span></span>, <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">object</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">price</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">intValue</span></span></span><span class="hljs-class">]</span></span>; } #pragma mark <span class="hljs-type"><span class="hljs-type">UITableViewDataSource</span></span> - (<span class="hljs-type"><span class="hljs-type">NSInteger</span></span>)numberOfSectionsInTableView:(<span class="hljs-type"><span class="hljs-type">UITableView</span></span> *)tableView { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [[self.fetchedResultsController sections] count]; } - (<span class="hljs-type"><span class="hljs-type">NSString</span></span> *)tableView:(<span class="hljs-type"><span class="hljs-type">UITableView</span></span> *)tableView titleForHeaderInSection:(<span class="hljs-type"><span class="hljs-type">NSInteger</span></span>)section { id &lt;<span class="hljs-type"><span class="hljs-type">NSFetchedResultsSectionInfo</span></span>&gt; sectionInfo = [self.fetchedResultsController sections][section]; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sectionInfo.indexTitle; } - (<span class="hljs-type"><span class="hljs-type">NSInteger</span></span>)tableView:(<span class="hljs-type"><span class="hljs-type">UITableView</span></span> *)tableView numberOfRowsInSection:(<span class="hljs-type"><span class="hljs-type">NSInteger</span></span>)section { id &lt;<span class="hljs-type"><span class="hljs-type">NSFetchedResultsSectionInfo</span></span>&gt; sectionInfo = [self.fetchedResultsController sections][section]; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [sectionInfo numberOfObjects]; } - (<span class="hljs-type"><span class="hljs-type">UITableViewCell</span></span> *)tableView:(<span class="hljs-type"><span class="hljs-type">UITableView</span></span> *)tableView cellForRowAtIndexPath:(<span class="hljs-type"><span class="hljs-type">NSIndexPath</span></span> *)indexPath { static <span class="hljs-type"><span class="hljs-type">NSString</span></span> *identifier = @<span class="hljs-string"><span class="hljs-string">"Cell"</span></span>; <span class="hljs-type"><span class="hljs-type">UITableViewCell</span></span> *cell = [tableView dequeueReusableCellWithIdentifier:identifier]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!cell) { cell = [[<span class="hljs-type"><span class="hljs-type">UITableViewCell</span></span> alloc] initWithStyle:<span class="hljs-type"><span class="hljs-type">UITableViewCellStyleValue1</span></span> reuseIdentifier:identifier]; } <span class="hljs-type"><span class="hljs-type">Products</span></span> *<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">object</span></span></span><span class="hljs-class"> </span></span>= [[self fetchedResultsController] objectAtIndexPath:indexPath]; [self configureCell:cell withObject:(<span class="hljs-type"><span class="hljs-type">Products</span></span> *)<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">object</span></span></span><span class="hljs-class">]</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> cell; }</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Swift</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">// MARK: - <span class="hljs-keyword"><span class="hljs-keyword">Table</span></span> <span class="hljs-keyword"><span class="hljs-keyword">View</span></span> <span class="hljs-keyword"><span class="hljs-keyword">extension</span></span> ViewController { func configureCell(cell: UITableViewCell, withObject product: Products) { cell.textLabel?.text = product.name ?? "" cell.detailTextLabel?.text = String(product.price ?? <span class="hljs-number"><span class="hljs-number">0</span></span>) } } // MARK: UITableViewDataSource <span class="hljs-keyword"><span class="hljs-keyword">extension</span></span> ViewController: UITableViewDataSource { func numberOfSectionsInTableView(tableView: UITableView) -&gt; <span class="hljs-type"><span class="hljs-type">Int</span></span> { guard let sections = fetchedResultsController.sections <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sections.count } func tableView(tableView: UITableView, titleForHeaderInSection section: <span class="hljs-type"><span class="hljs-type">Int</span></span>) -&gt; String? { guard let sections = fetchedResultsController.sections <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> nil } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sections[section].indexTitle ?? "" } func tableView(tableView: UITableView, numberOfRowsInSection section: <span class="hljs-type"><span class="hljs-type">Int</span></span>) -&gt; <span class="hljs-type"><span class="hljs-type">Int</span></span> { guard let sections = fetchedResultsController.sections <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sections[section].numberOfObjects } func tableView(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath) -&gt; UITableViewCell { let identifier = "Cell" let product = fetchedResultsController.objectAtIndexPath(indexPath) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span>! Products var cell = tableView.dequeueReusableCellWithIdentifier(identifier) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> cell == nil { cell = UITableViewCell(style: .Value1, reuseIdentifier: identifier) } configureCell(cell!, withObject: product) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> cell! } }</code> </pre> </div></div><br><p>   <strong><code>NSFetchRequest</code></strong>         <strong><code>sectionNameKeyPath</code></strong>  <strong><code>FRC</code></strong>    <strong><code>"name"</code></strong> ,        . </p><br><div class="spoiler"> <b class="spoiler_title"></b> <div class="spoiler_text"><p><img src="https://habrastorage.org/files/a8a/df1/2e2/a8adf12e2a5e461a998ffb1ec7bc9dbb.gif"></p></div></div><br><h2 id="rezhimy-raboty-frc">   FRC </h2><br><p> FRC      : </p><br><ul><li>            <strong><code>(delegate = nil, cacheName = nil)</code></strong> ‚Äî            . </li><li>   ,        <strong><code>(delegate != nil, cacheName = nil)</code></strong> ‚Äî        <strong><code>NSFetchedResultsControllerDelegate</code></strong> ,     .    . </li><li>    ,    <strong><code>(delegate != nil, cacheName = &lt;#NSString/String#&gt;)</code></strong> ‚Äî     . </li></ul><br><h2 id="nsfetchedresultscontrollerdelegate"> NSFetchedResultsControllerDelegate </h2><br><p> <strong><code>NSFetchedResultsControllerDelegate</code></strong>  ,      ,     <strong><code>NSFetchRequest</code></strong>   .    <strong><code>UITableView</code></strong> ,     UI-  ,   . </p><br><div class="spoiler"> <b class="spoiler_title">Objective-C</b> <div class="spoiler_text"><pre> <code class="hljs lua">#pragma mark - NSFetchedResultsControllerDelegate // <span class="hljs-number"><span class="hljs-number">1</span></span> - (NSString *)controller:(NSFetchedResultsController *)controller sectionIndexTitleForSectionName:(NSString *)sectionName { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sectionName; } // <span class="hljs-number"><span class="hljs-number">2</span></span> - (void)controllerWillChangeContent:(NSFetchedResultsController *)controller { [self.tableView beginUpdates]; } // <span class="hljs-number"><span class="hljs-number">3</span></span> - (void)controller:(NSFetchedResultsController *)controller didChangeSection:(id &lt;NSFetchedResultsSectionInfo&gt;)sectionInfo atIndex:(NSUInteger)sectionIndex forChangeType:(NSFetchedResultsChangeType)<span class="hljs-built_in"><span class="hljs-built_in">type</span></span> { switch(<span class="hljs-built_in"><span class="hljs-built_in">type</span></span>) { case NSFetchedResultsChangeInsert: [self.tableView insertSections:[NSIndexSet indexSetWithIndex:sectionIndex] withRowAnimation:UITableViewRowAnimationFade]; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; case NSFetchedResultsChangeDelete: [self.tableView deleteSections:[NSIndexSet indexSetWithIndex:sectionIndex] withRowAnimation:UITableViewRowAnimationFade]; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; default: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } } // <span class="hljs-number"><span class="hljs-number">4</span></span> - (void)controller:(NSFetchedResultsController *)controller didChangeObject:(id)anObject atIndexPath:(NSIndexPath *)indexPath forChangeType:(NSFetchedResultsChangeType)<span class="hljs-built_in"><span class="hljs-built_in">type</span></span> newIndexPath:(NSIndexPath *)newIndexPath { UITableView *tableView = self.tableView; switch(<span class="hljs-built_in"><span class="hljs-built_in">type</span></span>) { case NSFetchedResultsChangeInsert: [tableView insertRowsAtIndexPaths:@[newIndexPath] withRowAnimation:UITableViewRowAnimationFade]; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; case NSFetchedResultsChangeDelete: [tableView deleteRowsAtIndexPaths:@[indexPath] withRowAnimation:UITableViewRowAnimationFade]; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; case NSFetchedResultsChangeUpdate: [self configureCell:[tableView cellForRowAtIndexPath:indexPath] withObject:anObject]; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; case NSFetchedResultsChangeMove: [tableView moveRowAtIndexPath:indexPath toIndexPath:newIndexPath]; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } // <span class="hljs-number"><span class="hljs-number">5</span></span> - (void)controllerDidChangeContent:(NSFetchedResultsController *)controller { [self.tableView endUpdates]; }</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Swift</b> <div class="spoiler_text"><pre> <code class="hljs haskell">// <span class="hljs-type"><span class="hljs-type">MARK</span></span>: - <span class="hljs-type"><span class="hljs-type">NSFetchedResultsControllerDelegate</span></span> extension <span class="hljs-type"><span class="hljs-type">ViewController</span></span>: <span class="hljs-type"><span class="hljs-type">NSFetchedResultsControllerDelegate</span></span> { // <span class="hljs-number"><span class="hljs-number">1</span></span> func controller(controller: <span class="hljs-type"><span class="hljs-type">NSFetchedResultsController</span></span>, sectionIndexTitleForSectionName sectionName: <span class="hljs-type"><span class="hljs-type">String</span></span>) -&gt; <span class="hljs-type"><span class="hljs-type">String</span></span>? { return sectionName } // <span class="hljs-number"><span class="hljs-number">2</span></span> func controllerWillChangeContent(controller: <span class="hljs-type"><span class="hljs-type">NSFetchedResultsController</span></span>) { tableView.beginUpdates() } // <span class="hljs-number"><span class="hljs-number">3</span></span> func controller(controller: <span class="hljs-type"><span class="hljs-type">NSFetchedResultsController</span></span>, didChangeSection sectionInfo: <span class="hljs-type"><span class="hljs-type">NSFetchedResultsSectionInfo</span></span>, atIndex sectionIndex: <span class="hljs-type"><span class="hljs-type">Int</span></span>, forChangeType <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span><span class="hljs-class">: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">NSFetchedResultsChangeType</span></span></span><span class="hljs-class">) { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">switch</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">type</span></span></span><span class="hljs-class"> { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">case</span></span></span><span class="hljs-class"> .</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Insert</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">tableView</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">insertSections</span></span></span><span class="hljs-class">(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">NSIndexSet</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">index</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sectionIndex</span></span></span><span class="hljs-class">), </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">withRowAnimation</span></span></span><span class="hljs-class">: .</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Fade</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">case</span></span></span><span class="hljs-class"> .</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Delete</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">tableView</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">deleteSections</span></span></span><span class="hljs-class">(</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">NSIndexSet</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">index</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sectionIndex</span></span></span><span class="hljs-class">), </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">withRowAnimation</span></span></span><span class="hljs-class">: .</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Fade</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">default</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">return</span></span></span><span class="hljs-class"> } } // 4 func controller(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">controller</span></span></span><span class="hljs-class">: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">NSFetchedResultsController</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">didChangeObject</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">anObject</span></span></span><span class="hljs-class">: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">AnyObject</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">atIndexPath</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">indexPath</span></span></span><span class="hljs-class">: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">NSIndexPath</span></span></span><span class="hljs-class">?, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">forChangeType</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">type</span></span></span><span class="hljs-class">: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">NSFetchedResultsChangeType</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">newIndexPath</span></span></span><span class="hljs-class">: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">NSIndexPath</span></span></span><span class="hljs-class">?) { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">switch</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">type</span></span></span><span class="hljs-class"> { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">case</span></span></span><span class="hljs-class"> .</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Insert</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">if</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">let</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">indexPath</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">newIndexPath</span></span></span><span class="hljs-class"> { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">tableView</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">insertRowsAtIndexPaths</span></span></span><span class="hljs-class">([</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">indexPath</span></span></span><span class="hljs-class">], </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">withRowAnimation</span></span></span><span class="hljs-class">: .</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Automatic</span></span></span><span class="hljs-class">) } case .</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Update</span></span></span><span class="hljs-class">: if let indexPath = indexPath { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">let</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">product</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">fetchedResultsController</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">objectAtIndexPath</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">indexPath</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">as</span></span></span><span class="hljs-class">! </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Products</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">guard</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">let</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">cell</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">tableView</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">cellForRowAtIndexPath</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">indexPath</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">else</span></span></span><span class="hljs-class"> { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">break</span></span></span><span class="hljs-class"> } configureCell(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">cell</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">withObject</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">product</span></span></span><span class="hljs-class">) } case .</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Move</span></span></span><span class="hljs-class">: if let indexPath = indexPath { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">tableView</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">deleteRowsAtIndexPaths</span></span></span><span class="hljs-class">([</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">indexPath</span></span></span><span class="hljs-class">], </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">withRowAnimation</span></span></span><span class="hljs-class">: .</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Automatic</span></span></span><span class="hljs-class">) } if let newIndexPath = newIndexPath { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">tableView</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">insertRowsAtIndexPaths</span></span></span><span class="hljs-class">([</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">newIndexPath</span></span></span><span class="hljs-class">], </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">withRowAnimation</span></span></span><span class="hljs-class">: .</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Automatic</span></span></span><span class="hljs-class">) } case .</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Delete</span></span></span><span class="hljs-class">: if let indexPath = indexPath { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">tableView</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">deleteRowsAtIndexPaths</span></span></span><span class="hljs-class">([</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">indexPath</span></span></span><span class="hljs-class">], </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">withRowAnimation</span></span></span><span class="hljs-class">: .</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Automatic</span></span></span><span class="hljs-class">) } } } // 5 func controllerDidChangeContent(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">controller</span></span></span><span class="hljs-class">: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">NSFetchedResultsController</span></span></span><span class="hljs-class">) { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">tableView</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">endUpdates</span></span></span><span class="hljs-class">() } }</span></span></code> </pre> </div></div><br><h4 id="razberem-metody-delegirovaniya-i-ih-primenenie">       </h4><br><ol><li><p> <strong><code>sectionIndexTitleForSectionName</code></strong> ‚Äî          ,     .   ,    ,     ( <strong><code>sectionName</code></strong> )    .     .      . </p><br></li><li><p> <strong><code>controllerWillChangeContent</code></strong> ‚Äî         ,     .     <strong><code>UITableView</code></strong>  ‚Äî <strong><code>beginUpdates</code></strong> . </p><br></li><li><p> <strong><code>didChangeSection</code></strong> ‚Äî   ,      ,     .   : <strong><code>sectionInfo</code></strong> ‚Äî  ,    , <strong><code>sectionIndex</code></strong> ‚Äî     <strong><code>type</code></strong> <strong><code>NSFetchedResultsChangeType</code></strong> ,     (Insert, Delete, Move, Update).           . </p><br></li><li><p> <strong><code>didChangeObject</code></strong> ‚Äî       ,   ,   <strong><code>sectionInfo</code></strong> ,   <strong><code>anObject</code></strong> ,    ,    <strong><code>sectionIndex</code></strong> ‚Äî  ,       <strong><code>indexPath</code></strong>   <strong><code>newIndexPath</code></strong> ,     .   <strong><code>UITableView</code></strong> ,  , , ,      . </p><br></li><li> <strong><code>controllerDidChangeContent</code></strong> ‚Äî      .      <strong><code>endUpdates</code></strong> . </li></ol><br><p>        ‚Äî <strong><code>""</code></strong>  <strong><code>""</code></strong>   <strong><code>1</code></strong> . </p><br><div class="spoiler"> <b class="spoiler_title"></b> <div class="spoiler_text"><p><img src="https://habrastorage.org/files/b4f/21c/f48/b4f21cf48587437c8009f30c6ad131ae.gif"></p></div></div><br><h2 id="the-cache"> The Cache </h2><br><p>   .                .          .        <strong><code>(deleteCacheWithName:)</code></strong> ,             .     Core Data  ,   <strong><code>cacheName</code></strong>   . </p><br><p>    ? </p><br><ul><li>     <strong><code>cacheName</code></strong>   ,                . </li><li>    ,     ( ,  ,     ).    ‚Äî   ,  ,  . </li></ul><br><h1 id="rezyume">  Summary </h1><br><p>       <strong><code>NSFetchRequest</code></strong>     ,    <code>Core Data</code>    ,             .  <strong><code>Fetched Results Controller</code></strong>   ,    ,         <strong><code>UITableView</code></strong> . </p><br><p>     ,      ,  . </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/309624/">https://habr.com/ru/post/309624/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../309612/index.html">What interesting things have I learned in two years of developing and promoting a mobile game?</a></li>
<li><a href="../309614/index.html">‚ÄúNot a single break‚Äù: what is the cost of making an online broadcast that will not fall, slow down and cause pain in the eyes?</a></li>
<li><a href="../309616/index.html">Google Analytics for Telegram Bot</a></li>
<li><a href="../309618/index.html">A little bit about ARM Security Extensions (aka ARM TrustZone)</a></li>
<li><a href="../309622/index.html">Manual start timer (work on bugs)</a></li>
<li><a href="../309626/index.html">The logic of consciousness. Part 5. The semantic approach to the analysis of information</a></li>
<li><a href="../309628/index.html">Script for those who are too lazy to understand Linux</a></li>
<li><a href="../309630/index.html">Expert Opinions on Google‚Äôs 20% Rule</a></li>
<li><a href="../309632/index.html">Creating selling sites using STM model</a></li>
<li><a href="../309636/index.html">Functional security, Part 2 of 7. IEC 61508: Who should be, Sherlock Holmes or Date Tutashkhia?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>