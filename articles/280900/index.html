<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>RUVDS introduces new Huawei FusionSphere OpenStack virtualization systems</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="RUVDS has recently become an official partner of Huawei, and now we are implementing a new virtualization system for us in order to provide our custom...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>RUVDS introduces new Huawei FusionSphere OpenStack virtualization systems</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/878/fb8/05d/878fb805d2cf4d43a37f10e89a23a773.jpg"><br>  <a href="https://ruvds.com/">RUVDS has</a> recently become an official partner of Huawei, and now we are implementing a new virtualization system for us in order to provide our customers with access to the most up-to-date cloud technologies, to provide flexibility in choosing a cloud solution for the corresponding client, high reliability and security.  This experience is new and interesting for us and we decided to share it with the readers of our blog.  Here is the first of a series of articles about Huawei FusionSphere OpenStack. <br><a name="habracut"></a><br><br>  <b>FusionSphere virtualization platform</b> <br>  The architecture of the cloud platform Huawei FusionSphere OpenStack is presented in Fig.  1-1. <br>  Fig.  1-1 Huawei Cloud Platform Architecture <br><img src="https://habrastorage.org/files/71f/993/621/71f993621d814df8a2f7aef2a89f7d5b.jpg"><br>  Huawei FusionSphere OpenStack is an enterprise-class OpenStack platform based on the original OpenStack, revised and enhanced by Huawei.  The FusionSphere cloud data center solution includes the FusionCompute component of OpenStack to support a variety of OpenStack services, such as Keystone, Nova, Cinder, Neutron, Glance, Ceilometer, Heat and Ironic, as well as providing comprehensive O &amp; M functions. <br><ul><li>  Basic service capabilities: FusionSphere OpenStack supports basic installation, deployment, and O &amp; M capabilities, including log management, time management, backup and recovery, updating, and patching. </li><li>  OpenStack features: based on the original OpenStack, Huawei has expanded its capabilities with the use of computing plug-ins, network plug-ins and storage plug-ins, as well as implemented virtualization of computing, storage and network.  FusionSphere OpenStack centrally plans and administers virtual resources through unified interfaces, thereby reducing operating costs (OPEX) and ensuring high security and reliability of the system.  It also makes it much easier for telecom operators and other enterprises to build protected, environmentally friendly and energy-efficient cloud data centers. </li></ul><br>  Huawei cloud platform contains the following management nodes. <br><ul><li>  OpenStack Management Host: supports compute plugins, network plugins and storage plugins, virtualizes computing, network and storage resources, and also provides unified interfaces. </li><li>  FusionManager node: provides access to resources and configuration, control and maintenance functions. </li><li>  FusionCompute control node: provides basic virtualization features. </li></ul>  It virtualizes servers, storage devices and network devices, and also provides interfaces for interacting with FusionSphere OpenStack.  Each FusionCompute system is controlled by a pair of Virtual Resource Management (VRM) nodes operating in active / standby mode.  One FusionCompute system manages a physical cluster (also called an object or site).  Multiple physical servers of a physical cluster can be combined into a resource cluster (also called a resource pool with HA function).  In a single pool of computing resources, uniform resource planning policies are in place.  To ensure that the scheduling policies associated with dynamic migration work, it is necessary that the physical server CPUs in the resource pool belong to the same generation.  The compute resource pool does not include network and storage resources.  A single physical cluster can contain multiple resource clusters. <br>  The services and nodes of the FusionSphere OpenStack solution are shown in Figure 2.  1-2. <br>  Fig.  1-2 Services and FusionSphere OpenStack Solution Nodes <br><img src="https://habrastorage.org/files/5cb/e9d/55d/5cbe9d55d5344a8eb95014f9b7667d7d.jpg"><br>  This image shows the following services and sites: <br><ul><li>  Glance: stores and restores VM disk images.  The Glance service is used in FusionSphere OpenStack to generate instances. </li><li>  Cinder: Provides reliable block storage for running instances.  The creation and management of block storage is facilitated by the availability of removable drives. </li><li>  Nova: manages the lifecycle of compute instances in an OpenStack environment, for example, creating packages of instances, as well as scheduling or stopping instances on demand. </li><li>  Neutron: provides APIs for network connections and addressing. </li><li>  VRM node: manages virtual resource pools. </li><li>  Computing Node Agent (CNA; manages computing resources) </li></ul>  . <br>  The Nova-compute driver provides FusionSphere OpenStack with features provided by FusionCompute, including dynamic migration, HA, distributed resource planning (DRS), and QoS for the CPU. <br>  The Cinder-volume driver provides FusionSphere OpenStack interoperability with any storage certified for FusionCompute compatibility, as well as FusionStorage management through FusionCompute, providing a cost-effective storage solution applicable to large cloud-based data centers. <br>  FusionCompute connects to the Ceilometer and sends the VM control information to the Ceilometer.  Thanks to this, tenants can use the monitoring and alarm functions of the Ceilometer, as well as the flexible scaling function Heat. <br>  The FusionCompute component, which includes the Open vSwitch Agent (OVS), connects to Neutron, so it can use the Neutron ecosystem for seamless integration with third-party network services. <br>  Due to the presence of Nova and Cinder drivers, as well as the Glance bypass mechanism, FusionSphere OpenStack supports image storage in third-party NFS or S3 systems, thereby ensuring high parallelism and performance of image services, as well as eliminating the Glance service bottlenecks.  In addition, FusionCompute supports interaction with its own Glance to serve images. <br>  Cloud Formation Services (CPS; Cloud Provisioning Service) provides basic functions such as installing hardware without an operating system and deploying OpenStack software.  There is also a graphical user interface (GUI) that simplifies the deployment and configuration of OpenStack. <br><br>  <b>Administration and control of FusionManager resources</b> <br>  Data center resources are managed by Huawei's FusionManager control system, part of the FusionSphere solution.  FusionManager provides a variety of resource pool management functions using the ‚ÄúNorthern‚Äù APIs provided by OpenStack, and also provides hardware management functions using built-in hardware management submodules. <br>  The place of the FusionManager in the FusionSphere solution is shown in Fig.  1-3. <br>  Fig.  1-3 Place FusionManager in the solution <br><img src="https://habrastorage.org/files/f5f/693/c0f/f5f693c0f94148458633f02f6f090016.jpg"><br>  FusionManager provides the following features. <br><ul><li>  External network management </li></ul>  Allows users to create, view, and delete external networks connected to OpenStack. <br><ul><li>  Host Management </li></ul>  Allows users to query and control information about hosts, to obtain information about the operation of a host for a specified period of time (specified in days or weeks). <br><ul><li>  VM Performance Management </li></ul>  The user can configure, query and delete VM specifications, as well as specify the VM startup mode. <br><ul><li>  Image Management </li></ul>  The user can create, download, delete, modify and export images. <br>  FusionManager supports various image formats, including ISO, RAW, QCOW2, VMDK, VHD and AMI. <br><ul><li>  Alarm management </li></ul><ol><li>  Displays all system alarms.  After eliminating the fault, the alarm is automatically reset. </li><li>  The user can reset alarms manually and export information about them. </li><li>  The user can set the severity of the alarms, including the levels ‚Äúcritical‚Äù, ‚Äúmajor‚Äù and ‚Äúminor‚Äù. </li><li>  User can mask alarms.  Masked alarms are not issued. </li><li>  Allows the issuance of alarms to third-party systems by e-mail, in short messages or by the Simple Network Management Protocol (SNMP). </li><li>  Provides users with the ability to collect a variety of alarm statistics, including facility information, time, and severity.  Alarm statistics allow you to analyze alarms, trends and failures, as well as prevent failures. </li></ol><br><ul><li>  Performance monitoring </li></ul>  - Monitors the performance of hosts and VMs. <br>  - Controls the level of CPU, memory and storage for hosts and VMs. <br><ul><li>  Reporting </li></ul>  - Provides reports on monitoring of hosts and VMs, both archived and in real time. <br>  - Allows users to request reports generated for specific periods of time, for example, per day, week or month. <br>  Information about server control contains the following information: <br>  - Alarm statistics <br>  - CPU utilization factor <br>  - memory usage <br>  - The amount of incoming and outgoing network traffic <br>  - Load on disk I / O and disk usage <br>  The storage control information contains the following information: <br>  - Alarm statistics <br>  - Mount status <br>  - Total volume <br>  - Allocated volume and available volume <br>  Network control information contains the following information: <br>  - The amount of incoming and outgoing network traffic <br>  - Port status <br>  - Traffic through ports <br>  Information about the VM control contains the following information: <br>  - VM status <br>  - CPU utilization factor <br>  - memory usage <br>  - The amount of incoming and outgoing network traffic <br>  - Load on disk I / O and disk usage <br><ul><li>  Open APIs </li></ul>  FusionSphere provides open APIs for transferring alarm data to external systems. <br>  - Alarm Request Interfaces (HTTP REST): <br><ul><li>  Query list and alarm status </li><li>  Request resources with alarms </li></ul><br>  - Alarm Subscription Interfaces (HTTP REST) <br>  - Alarm Transmission Interfaces (SNMP) 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>The main functions of FusionSphere</b> <br>  <i>Compute virtualization</i> <br>  The FusionSphere system uses a bare-metal (non-OS) architecture to virtualize server computing resources.  One server can be virtualized as several separate virtual servers, which can improve the use of server resources and simplify system management. <br>  The FusionSphere system supports VM affinity accounting (VM affinity), allowing you to host different VMs on different servers according to specified rules in order to implement VM mutual support or configure active and standby VMs, which increases the cost-effectiveness of the solution. <br><br><ul><li>  Affinity Mutual Placement (Location Affinity) </li></ul><br><ul><li>  Capability Affinity: on non-uniform memory access (NUMA; non-uniform memory access) nodes are organized on physical servers to increase the efficiency of CPU access to memory.  The CPU and the memory used by the VM (guest) memory are grouped into NUMA nodes, depending on the efficiency of the memory access of the CPU.  Maximum CPU access to memory is achieved in the case of memory access within its own NUMA node.  When creating a VM, FusionSphere preferably allocates the CPU and memory resources required for that VM on a single NUMA node, thereby reducing memory latency and improving memory performance. </li></ul><br><br>  <b>VM Resource Management</b> <br>  Users can create VMs using a VM template or from scratch and manage clustered resources, including automatic resource scheduling, VM management (creating, deleting, starting, stopping, restarting VM, putting a VM into sleep mode and exiting it), manage storage resources (regular and shared disks), and manage VM security. <br>  FusionSphere also supports VM and VM high availability (HA) live migration. <br>  Using FusionSphere, users can set the number of virtual CPUs (vCPUs), memory size, network cards (NICs), as well as the connection status and volume disconnection. <br>  Network virtualization <br>  FusionSphere supports the following network virtualization features: <br><ul><li>  Network bandwidth control with QoS </li><li>  Distributed Virtual Switches (DVS; Distributed Virtual Switch) </li><li>  SR-IOV (Single-Root I / O Virtualization) interface support for enhanced network processing performance </li><li>  Connecting to the OpenStack Neutron Network </li></ul><br>  <b>Storage Virtualization</b> <br>  FusionSphere supports Huawei FusionStorage distributed storage software, as well as disk arrays such as fiber channel storage network (FC SAN) and IP SAN storage. <br>  Virtual Data Center Management <br>  To simplify the configuration of services in the FusionSphere system, various templates and specifications are provided. <br>  Private cloud is completely isolated from all VMs not hosted in this private cloud.  An enterprise can request VPCs on a public cloud platform and use independent IP addresses and subnets in this VPC.  In addition, in order to separate subnets in VPCs and separate subnets from external networks, an enterprise can use the rules of the access control list (ACL) of physical firewalls. <br>  Users can request the creation of a security group based on the VM security requirements and set access rules for the security group.  After adding a VM to a security group, this VM is subject to established rules.  Security groups allow you to securely isolate VMs and control access to them, which increases VM security. <br>  The elastic IP address allows users to use a fixed public IP address to access the VM that this public IP address corresponds to. <br>  <b>Manage multiple data centers</b> <br>  If an enterprise or carrier has several data centers located in different regions, the cascading technology OpenStack helps organize the centralized management and maintenance of several data centers. <br><br>  <b>FusionSphere OpenStack Reliability</b> <br>  The data center virtualization solution ensures the reliability and continuity of service for various system components, including servers, storage, network and virtualization. <br>  High Availability (ON) OpenStack <br>  The reliability of OpenStack is determined by the reliability of the services provided by OpenStack, namely: <br><ul><li>  The reliability of the REST service (Representational State Transfer; ‚Äútransfer of the state of representation‚Äù) API, which provides users with continuous API service provision. </li><li>  Reliability of the database service to ensure the integrity of user configuration data and the continuity of service. </li><li>  Reliability of service connections, providing continuous communication between components. </li></ul><br><br>  <b>Virtualization Reliability</b> <br>  Virtualization is the primary mechanism for running a data center.  After virtualization with FusionSphere, the data center supports VM and VM HA dynamic migration functions to ensure the continuity of service operations, and also supports the creation of snapshots of VMs and volumes to quickly recover the system when a problem occurs. <br>  <b>Control reliability</b> <br>  All FusionSphere control modules are deployed to work in active / standby mode or load balancing mode, which ensures high system reliability. <br>  FusionSphere supports control of physical servers, software, and resources, and provides a variety of troubleshooting options.  FusionSphere collects information about the main performance indicators of servers, such as CPU utilization, main network traffic and memory data.  Thus, it checks the state of the system and when it detects such malfunctions as processor exceptions, failure of control and storage channels, node failure, or overload of system resources, it issues alarms.  These alarms can be reset by the system automatically or must be promptly processed by the administrator. <br>  All physical servers in the FusionSphere system use black box technology, which enhances the ability to eliminate failures.  If system exceptions occur, it automatically saves the kernel logs, system snapshots, kernel diagnostics information and recent messages in a non-volatile storage device such as a compute node, or uploads this information to a network server, such as a log server.  With this technology, users can quickly analyze the black box logs, find the causes of faults and eliminate them. <br>  All OpenStack services are deployed in active-active or active-standby mode to provide redundancy. <br>  <b>Server reliability</b> <br>  In FusionSphere, server reliability is ensured by the following measures: <br><ul><li>  Real-time temperature control of major heat-generating and heat-removing components, such as CPU, memory, fans, power supplies and hard drives.  When a failure occurs, an alarm is issued. </li></ul><br><ul><li>  Intelligent fan speed control and management. </li></ul><br><ul><li>  The ability to hot swap hard drives, the use of RAID arrays and the detection of failures of working hard drives with warnings. </li></ul><br><ul><li>  Redundant power supplies under the scheme 1 + 1 and the possibility of hot-swappable. </li></ul><br>  <b>Storage reliability</b> <br>  Data center virtualization typically uses centralized shared SAN storage devices.  Huawei FusionSphere supports autonomous migration of storage (cold migration) and dynamic resource scheduler (DRS; Dynamic Resource Scheduler) based on storage input / output operations. <br>  FusionSphere also supports the multipathing function for storage.  At least two fully redundant paths are formed between each computing node and the storage cluster.  As a rule, eight paths are installed between the VM and the storage device, which significantly improves the reliability of the storage network. <br>  In addition, at least two controllers are used to ensure the reliability of physical connections in SAN storage devices, and hot-spare disks are used for backup and recovery. <br>  The FusionStorage system stores data in the form of several identical copies on different servers or disks.  Therefore, the failure of a single hardware device does not interrupt service.  In addition, the FusionStorage system uses a highly reliable copy technology, ensuring the identical copies of data. <br>  <b>Network reliability</b> <br>  The cloud data center network is configured with a physical backup of all network links.  Access switches can be stacked to create redundant connections between physical servers, aggregation switches, and the virtual network layer.  At the virtual network level, at least two NICs of one server are combined into a logical NIC, thereby preventing service interruptions due to the failure of one NIC. <br>  On each of the interaction planes (services, storage and management) there are two NICs combined into one logical NIC and operating in connected mode.  This structure allows the separation of access traffic between servers and ensures reliable operation of the NIC. <br><br>  In the next article we will look at the planning of computing resources, the required number of servers and storage resources. </div><p>Source: <a href="https://habr.com/ru/post/280900/">https://habr.com/ru/post/280900/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../280890/index.html">Coding Dojo meeting in Artec 3D</a></li>
<li><a href="../280892/index.html">How we scored on asynchrony when hiking on backends</a></li>
<li><a href="../280894/index.html">Wi-Fi module WF121 and HTTP server in addition</a></li>
<li><a href="../280896/index.html">Personal data of 50 million Turkish citizens leaked to the network</a></li>
<li><a href="../280898/index.html">Debugging Office Add-ins on iOS (iPad)</a></li>
<li><a href="../280902/index.html">Rust and Swift (third, fourth, fifth and sixth parts)</a></li>
<li><a href="../280904/index.html">man! (C => D => Rust)</a></li>
<li><a href="../280906/index.html">5th International Mobile Conference MBLT16 in a month</a></li>
<li><a href="../280908/index.html">Guiding Eyes transfers data to the IBM Cloud to improve the quality of care for blind people.</a></li>
<li><a href="../280910/index.html">Vulnerabilities in MyChat by NetworkSoftwareSolutions (fixed and none)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>