<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>About abstractions and refactoring method "Extract method"</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Abstractions are extremely important in programming and everyone knows that. They help us to separate essential details of anything from insignificant...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>About abstractions and refactoring method "Extract method"</h1><div class="post__text post__text-html js-mediator-article">  Abstractions are extremely important in programming and everyone knows that.  They help us to separate essential details of anything from insignificant.  Ideally, they should select only the most important, the essence, without any extraneous impurities, the minimum characteristics of the object or process, but the ideal is not so common. <br><a name="habracut"></a><br>  When a programmer writes code, he handles abstractions. <br><br>  <i>"The client sends a request to the server."</i> <br><br>  Each word in the previous sentence is a high-level abstraction.  It is important that these four abstractions are on the same level.  The corresponding code might look like this: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="cpp hljs">client.send(request, server);</code> </pre> <br><br>  The reader has no questions at the sight of this line. <br><br>  Often one line of code is not enough and programmers add more lines.  A lot of time and space is occupied, for example, by validation of input parameters and processing of values ‚Äã‚Äãreturned by functions. <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sendRequest</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Request request)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (server-&gt;error() != Server::errorOk) { <span class="hljs-comment"><span class="hljs-comment">// handle } if (request.userName.empty()) { // handle } //  100 if- client.send(request, server); }</span></span></code> </pre><br><br>  I so often see such ifs that I perceive them as noise (especially Yoda-condition).  They are definitely needed, but ... I believe that they should not be here, in this function sendRequest, because client.send is at a higher level of abstraction than any Server :: ErrorState.  These ifs are lower-level abstractions, so they should be hidden in separate methods isServerReady () and isRequestValid ().  Then the code will be: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sendRequest</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Request request)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!isServerReady()) { <span class="hljs-comment"><span class="hljs-comment">// handle } if (!isRequestValid(request)) { // handle } //   if' client.send(request, server); }</span></span></code> </pre><br><br>  Now sendRequest operates with functions that are at the same level of abstraction, so the code is read easily and pleasantly.  Bonus - these methods can (should) be reused instead of copying ifs.  I do not want to see these ugly server-&gt; error ()! = Server :: errorOk in the sendRequest function, but I would like to see them when I need them.  Then I will look at the contents of isServerReady ().  Are you feeling <br><br>  Or for example.  Large-very large class.  All methods are scattered type conditions <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (niceNamedContainer.empty()) { <span class="hljs-comment"><span class="hljs-comment">// do some logic }</span></span></code> </pre><br><br>  When I see the code for the first time, I can only say about <code>if (niceNamedContainer.empty())</code> ‚ÄúIf there is nothing in niceNamedContainer‚Äù.  Immediately I have a question, what does this mean?  I answer myself: they put nothing in it, somewhere else where they were supposed to put it, but not here.  After shoveling no less than one hundred percent of the class code in order to figure out how it works, I understand that this condition actually means "The data is ready."  Hooray.  But I think that it would not be difficult at all to make a selection of the isDataReady () method at the stage of writing a class.  The reader would be much easier, and would not have to use telepathic abilities, because the reader of the code first of all needs high-level abstractions.  The isDataReady () method is a ladder connecting a low level of abstraction with a high one.  It is very convenient to go down it, if necessary, and if it is not necessary, then you can not descend.  I think it would save a lot of time on supporting someone else's, old, inherited code.  But the business is to apply the selection method and make sure that one function works with only one level of abstraction ... well, SRP should not be forgotten ... well, Liskov ... well, and encapsulation ... McConnell too ... more often. <br><br>  These examples, although primitive, are not as far from reality as they may seem.  I made an emphasis on ifs, since conditional constructions form, so to speak, the logic of the code work, and because sometimes it is quite difficult to understand if'ov interlacing.  However, this is not the only place to use the Extract Method. <br><br>  References: <br>  <a href="http://ru.wikipedia.org/wiki/%25D0%2590%25D0%25B1%25D1%2581%25D1%2582%25D1%2580%25D0%25B0%25D0%25BA%25D1%2586%25D0%25B8%25D1%258F_%25D0%25B4%25D0%25B0%25D0%25BD%25D0%25BD%25D1%258B%25D1%2585">ru.wikipedia.org/wiki/Abstraction_data</a> <br><br>  Literature: <br>  Steve McConnell.  Code Complete: A Practical Handbook of Software Construction. <br>  Robert C. Martin.  Clean Code: A Handbook of Agile Software Craftsmanship. <br>  Martin Fowler.  Refactoring: Improving the Design of Existing Code </div><p>Source: <a href="https://habr.com/ru/post/126227/">https://habr.com/ru/post/126227/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../126211/index.html">As I entered Baumanka, or ‚ÄúStep into the Future‚Äù</a></li>
<li><a href="../126212/index.html">Fighting the inheritance and nesting of the ViewModel when developing lolstore.info</a></li>
<li><a href="../126218/index.html">IXCoin - a freshly created analogue of Bitcoin</a></li>
<li><a href="../126224/index.html">How to place a picture inside a QR code</a></li>
<li><a href="../126226/index.html">Do you read non-programming books?</a></li>
<li><a href="../126228/index.html">Package Management in Emacs</a></li>
<li><a href="../126229/index.html">GNU License and Copyright Collection</a></li>
<li><a href="../126230/index.html">Basics of Sound Design: Cyberpunk in Ancient Egypt</a></li>
<li><a href="../126231/index.html">EventMachine proxy daemon</a></li>
<li><a href="../126233/index.html">How do you know the number of records in the table?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>