<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Web analytics "black holes": how much data is lost in GA and why</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="If you have ever compared data from two analytical tools on the same site or compared analytics with reports and sales, you probably noticed that they...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Web analytics "black holes": how much data is lost in GA and why</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/li/rf/zd/lirfzdif7iikqippewjdhs6biww.png" alt="image"><br><br>  If you have ever compared data from two analytical tools on the same site or compared analytics with reports and sales, you probably noticed that they do not always match.  In this article I will explain why there are no data in the statistics of web analytics platforms, and how large these losses can be. <br><br>  As part of this article, we will focus on Google Analytics, as the most popular analytical service, although most of the analytical platforms implemented on-page have the same problems.  Services that rely on server logs avoid some of these problems, but they are so rarely used that we will not touch them in this article. <br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Test Analytics Configurations in Distilled </h4><br>  On Distilled.net, we have a standard Google Analtics resource, working from an HTML tag in Google Tag Manager.  In addition, in the past two years I have used three additional parallel implementations of Google Analytics, designed to measure the differences between different configurations. <br><br>  Two of these additional implementations ‚Äî one in GTM and the other on-page ‚Äî manage locally stored, renamed copies of the Google Analytics JavaScript file (www.distilled.net/static/js/au3.js instead of <a href="">www.google-analytics.com/ analytics.js</a> ) to make it harder to find ad blockers. <br><br>  I also used renamed JavaScript functions (‚Äútcap‚Äù and ‚ÄúBuffoon‚Äù instead of standard ‚Äúga‚Äù) and renamed trackers (‚ÄúFredTheUnblockable‚Äù and ‚ÄúAlbertTheImmutable‚Äù) to avoid the problem of duplicating trackers (which can often lead to problems). <br><br>  Finally, we have the configuration ‚ÄúDianaTheIndefatigable‚Äù, which has a renamed tracker, but uses standard code and is implemented at the page level. <br><br><img src="https://habrastorage.org/webt/qs/cb/ik/qscbikgjwjz7oupoiniz07647yq.png" alt="image"><br><br>  All our configurations are shown in the table below: <br><br><img src="https://habrastorage.org/webt/s3/ca/w5/s3caw51nbv27kuinbeohtlbvb7u.png" alt="image"><br><br>  I tested their functionality in different browsers and ad blockers, analyzing pageviews that appear in the browser‚Äôs developer tools: <br><br><img src="https://habrastorage.org/webt/fd/f6/b9/fdf6b9xwo04fbxuluiypqmv1bny.png" alt="image"><br><br><h3>  Causes of data loss </h3><br><h3>  1. Ad blockers </h3><br>  Advertising blockers, mostly in the form of browser extensions, are becoming more common.  Initially, the main reason for using them was to improve performance and experience of interaction on sites with a lot of advertising.  In recent years, increased emphasis on data privacy, which also contributed to the growing popularity of adblockers. <br><br>  <b>The impact of ad blockers</b> <br><br>  Some adblockers block the default web analytics platform, others can be further configured to perform this function.  I tested the Distilled site using Adblock Plus and uBlock Origin, the two most popular desktop browser extensions for ad blocking, but it's worth noting that adblockers are also increasingly used on smartphones. <br><br>  The following results were obtained (all figures refer to April 2018): <br><br><img src="https://habrastorage.org/webt/s5/zr/2u/s5zr2uimgpjzgti4blhlhncx_gk.png" alt="image"><br><br>  As can be seen from the table, the modified GA settings do not help much in opposing blockers. <br><br>  <b>Data loss due to ad blockers: ~ 10%</b> <br><br>  Using adblockers can be at a level of 15-25% depending on the region, but many of these settings are AdBlock Plus with default settings, at which, as we have seen above, tracking is not blocked. <br><br>  The share of AdBlock Plus in the market of ad blockers varies in the range of 50-70%.  <a href="https://uponit.com/2017-adblock-report/">According to the latest estimates</a> , this figure is closer to 50%.  Therefore, if we assume that no more than 50% of installed adblockers block analytics, then we will get data loss of about 10%. <br><br><h3>  2. ‚ÄúDo Not Track‚Äù function in browsers </h3><br>  This is another feature whose use is motivated by privacy protection.  But this time it's not about the add-in, but about the functions of the browsers themselves.  Running the Do Not Track request is not required for sites and platforms, but, for example, Firefox offers a stronger feature under the same set of options, which I also decided to test. <br><br>  <b>The influence of "Do Not Track"</b> <br><br>  Most browsers now offer the option to send a ‚ÄúDo Not Track‚Äù message.  I tested the latest releases of Firefox and Chrome for Windows 10. <br><br><img src="https://habrastorage.org/webt/6v/w4/tp/6vw4tpn3syzqvnfly0_egd2k5d8.png" alt="image"><br>  <i>Again, it seems that the modified settings do not help much either.</i> <br><br>  <b>Data loss due to ‚ÄúDo Not Track‚Äù: &lt;1%</b> <br><br>  Testing has shown that only the Tracking Protection feature in Firefox Quantum browser affects trackers.  Firefox takes up 5% of the browser market, but tracking protection is not enabled by default.  Therefore, the launch of this function did not affect the trends of Firefox traffic on Distilled.net. <br><br><h3>  3. Filters </h3><br><br>  The filters that you set up in the analytics system may intentionally or unintentionally underestimate the amount of traffic received in the reporting. <br><br>  For example, a filter that excludes certain screen resolutions, which can be bots or internal traffic, will obviously lead to some underestimation of traffic. <br><br>  <b>Data loss due to filters: N / A</b> <b><br></b> <br>  The impact of this factor is difficult to assess, because this setting varies depending on the site.  But I highly recommend having a duplicate, ‚Äúmain‚Äù view (without filters) so that you can quickly see the loss of important information. <br><br><h3>  4. GTM vs on-page vs wrong code </h3><br>  In recent years, Google Tag Manager has become an increasingly popular way to implement analytics because of its flexibility and ease of change.  However, I have noticed for a long time that this method of implementing GA can lead to an underestimation of indicators in comparison with setting at the page level. <br><br>  I was also curious about what would happen if I didn‚Äôt follow Google‚Äôs recommendations for setting up an on-page code. <br><br>  Combining my own data with the data from the <a href="https://teflsearch.com/">site of</a> my colleague House Woodman (Dom Woodman), which uses the analytical extension Drupal, as well as GTM, I could see the difference between the Tag Manager and the wrong code on the page (placed at the bottom of the tag).  Then I compared this data with my own GTM data to see the full picture of all 5 configurations. <br><br>  Impact of GTM and misplaced on-page code <br><br>  Traffic as a percentage of baseline (standard implementation using Tag Manager): <br><br><img src="https://habrastorage.org/webt/9o/ss/pv/9osspvbepafujasrhzrw6uyonkk.png" alt="image"><br><br><h3>  Main conclusions </h3><br><ul><li>  On-page code usually logs more traffic than GTM; </li><li>  The modified code is usually within the margin of error, except for the modified GTM code in Internet Explorer; </li><li>  Incorrectly located tracking code will cost you up to 30% of your traffic compared to a correctly implemented on-page code, depending on the browser (!); </li><li>  Custom configurations designed to get more traffic by avoiding ad blockers do not. </li></ul><br>  It is also worth noting that user implementations actually receive less traffic than standard ones.  In the case of the on-page code, the losses are within the bounds of error, but in the case of GTM there is another nuance that could affect the totals. <br><br>  Since I used unfiltered profiles for comparison, the main profile contained a lot of bot spam, which was mostly disguised as Internet Explorer. <br><br>  Today, our main profile is the most spammed, but it is also used as the level chosen for comparison, so the difference between the on-page code and the Tag Manager is actually somewhat larger. <br><br><h4>  Data loss due to GTM: 1-5% </h4><br>  GTM losses vary depending on which browsers and devices are used by visitors to your site.  On Distilled.net, the difference is about 1.7%, our audience actively uses desktops and is technically advanced, Internet Explorer is rarely used.  Depending on the vertical, losses can reach 5%. <br><br>  I also did a breakdown by device: <br><br><img src="https://habrastorage.org/webt/fb/i7/61/fbi761fnkmcs_g5zboj7hhx-krw.png" alt="image"><br><br>  Data loss due to incorrectly located on-page code: ~ 10% <br><br>  At Teflsearch.com, around 7.5% of the data was lost against GTM due to incorrectly located code.  Given that the Tag Manager itself underestimates the data, the total losses could easily reach 10%. <br><br><h4>  Bonus: data loss from channels </h4><br>  Above, we looked at areas where you can lose data altogether.  However, there are other factors leading to incomplete data.  We will look at them more briefly.  The main problems here are the "dark" traffic and attribution. <br><br>  <b>"Dark" traffic</b> <br><br>  ‚ÄúDark‚Äù traffic is direct traffic, which in reality is not direct. <br>  And this is becoming an increasingly common situation. <br><br>  Typical causes of ‚Äúdark‚Äù traffic: <br><br><ul><li>  Unlabeled email marketing campaigns; </li><li>  Unmarked campaigns in applications (especially on Facebook, Twitter, etc.); </li><li>  Distorted organic traffic; </li><li> Data sent due to errors made during the tracking setup (may also appear as self-referrals); </li></ul><br>  Also worth noting is the trend towards the growth of true direct traffic, which has historically been organic.  For example, in connection with the improvement of the autocomplete feature in browsers, synchronization of search history on different devices, etc., people sort of ‚Äúenter‚Äù the URL that they were looking for earlier. <br><br><h4>  Attribution </h4><br>  In general, a session in Google Analytics (and on any other platform) is a rather arbitrary construct.  You may consider it obvious how a group of requests should be combined into one or more sessions, but in reality, this process relies on a number of rather dubious assumptions.  In particular, it is worth noting that Google Analytics usually assigns direct traffic (including ‚Äúdark‚Äù traffic) to a previous non-direct source, if one exists. <br><br><h4>  Conclusion </h4><br>  I was somewhat surprised by some of the results I received, but I am sure that I didn‚Äôt cover everything, and there are other ways to lose data.  So, research in this area can be continued. <br><br>  More similar articles can be read on my <a href="https://t.me/proroas">telegram channel</a> (proroas). </div><p>Source: <a href="https://habr.com/ru/post/451282/">https://habr.com/ru/post/451282/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../451270/index.html">B = Attention, or how to create time</a></li>
<li><a href="../451272/index.html">If already knocking on the door: how to protect information on devices</a></li>
<li><a href="../451274/index.html">Perfect Weapon, Perspective War and Human Being Reaching the Ceiling</a></li>
<li><a href="../451278/index.html">Wavelet analysis. Part 1</a></li>
<li><a href="../451280/index.html">The most interesting metals</a></li>
<li><a href="../451292/index.html">RxDart: magical stream transformations</a></li>
<li><a href="../451294/index.html">How I added car functions on CAN bus, not being able to program</a></li>
<li><a href="../451296/index.html">Announced ML.NET 1.0</a></li>
<li><a href="../451298/index.html">How to make a game console with the case, ordering a single PCB</a></li>
<li><a href="../4513/index.html">The founder of "MegaFon" asks for protection from the Russian minister</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>