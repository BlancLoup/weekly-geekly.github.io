<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ADSL Internet</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Probably the one who has access to the Internet via ADSL looked into the modem settings and ran across the vpi / vci parameters. When confronted with ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>ADSL Internet</h1><div class="post__text post__text-html js-mediator-article">  Probably the one who has access to the Internet via ADSL looked into the modem settings and ran across the vpi / vci parameters.  When confronted with them for the first time, a reasonable question arises: ‚Äúwhat is it and for what?‚Äù In this article I decided to tell a little more about how to access using ADSL technology, about PPPoE and of course about the vpi / vci parameters. <br><br><a name="habracut"></a><br><br>  Access via ADSL technology is performed using a DSL modem on the subscriber side and DSLAM on the provider side.  It would probably be more correct to speak DSL technology ( <em>Digital Subscriber Line</em> ), but more often you can hear ADSL ( <em>Asymmetric Digital Subscriber Line</em> ), this is the most common type of xDSL.  And in this article I want to tell a little about ADSL. <br>  Asymmetry (from the name) consists in different bandwidths of the channels, the subscriber has a download rate higher than the return. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Probably every provider when a subscriber connects, gives the subscriber an instruction with the scheme how to turn everything on to make it work.  And the first half of the picture (up to splitter A inclusive) from below should seem familiar to all owners of the ADSL Internet. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c0c/819/569/c0c8195693c5cd938273a2c2b8487073.gif" alt="image"><br><br>  But the second part, this is already provider matters =) <br><br>  One of the main advantages of DSL technology for subscribers is the ability to use the phone and the Internet simultaneously. <br>  To ensure this, DSL uses a higher frequency range on the line (AV span) as opposed to a telephone.  Splitters are used to separate these frequencies, both on the subscriber side and on the provider side. <br><br>  Further, according to the scheme, the subscriber has a modem switched on behind the splitter, and the provider has a DSLAM splitter. <br>  DSLAM ( <i>DSL Access Multiplexer</i> ) collects a lot of subscriber lines and sends them higher to the provider's backbone.  It can be compared with a large switch, it also works on the second level of the OSI model. <br><br><h3>  A little about ATM. </h3><br>  ATM ( <i>Asynchronous Transfer Mode</i> ) is a cell switching protocol that transfers data in fixed-size cells and provides the data link layer of the OSI model. <br><br>  ATM works very well on low-speed channels up to 2 Mbit and can support multiple logical connections over a single physical channel.  ATM standards provide the transfer of heterogeneous traffic (digital, voice and multimedia data) over the same systems and communication lines. <br><br>  These advantages have led to the use of ATM between the subscriber's modem and DSLAM. <br>  ATM is a connection-oriented protocol and always establishes a <i>virtual circuit</i> before starting data transfer. <br><br>  A pair of <b>VPI / VCI</b> values ‚Äã‚Äãis used to identify this channel. <br><ul><li>  <b>VPI</b> <i>Virtual path identifier</i> - virtual path identifier. </li><li>  <b>VCI</b> <i>Virtual call identifier</i> - a virtual channel identifier. </li></ul><br><br><img src="https://habrastorage.org/getpro/habr/post_images/f16/50c/63d/f1650c63d4e91c06e159d728344eebf1.gif" alt="image"><br><br>  On the DSL modem of the subscriber and on the subscriber port on the DSLAM, these values ‚Äã‚Äãshould be the same.  A subscriber can have several virtual channels (several <b>vpi / vci pairs</b> ). <br><br><h3>  What happens to the traffic on the DSLAM? </h3><br>  On DSLAM, VLANs are assigned for certain virtual channels of subscriber ports and traffic goes tagged to the router, where subscriber PPPoE sessions are terminated. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/34f/b03/63b/34fb0363b803f289a1fccdedfa27aac8.gif" alt="image"><br><br>  Also on the DSLAM, various filters can be applied to certain types of traffic, and packets can be marked for <b>QoS</b> organization. <br><br><h3>  Aggregation. </h3><br>  After the subscriber traffic has gone tagged with the <b>DSLAM</b> , it passes through the provider's switch chain and enters the aggregation router. <br><br>  Aggregation router performs the following functions: <br><ul><li>  aggregation of traffic coming from the <b>DSLAM</b> </li><li>  establishing <b>PPPoE</b> sessions </li><li>  <b>QoS policing</b> </li><li>  routing traffic from subscribers further to the Internet </li></ul><br>  To whom it is curious, I give an example of setting up an aggregation router =) <br><br>  Configuring a router for <b>PPPoE</b> termination: <br><br><table><tbody><tr><td width="295">  aaa new-model <br>  ! <br>  ! </td><td>  Enable AAA (Authentication, Authorization, Accounting) </td></tr><tr><td width="295">  aaa authentication ppp default local <br>  ! <br>  ! <br>  ! <br>  ! <br>  ! <br></td><td>  We specify that authentication will be carried out through local accounts, this is done in order not to load the config.  Usually, aaa uses a RADIUS server. <br></td></tr><tr><td>  username 11101 @ pppoe password 0 pass01 <br>  username 11102 @ pppoe password 0 pass02 <br>  ! <br>  ! <br></td><td>  And these are the very local entries ‚Äúlogin - password‚Äù. </td></tr><tr><td>  bba-group pppoe PPPoE_TEST <br>  virtual-template 1 <br>  pppoe limit per-mac 10 <br>  ! <br>  ! <br>  ! <br>  ! </td><td>  Creating a profile for PPPoE, we specify which interface will be a ‚Äútemplate‚Äù for virtual interfaces that are created when a PPPoE session is established.  And we limit the number of PPPoE sessions established from one MAC address. <br></td></tr><tr><td>  interface Loopback0 <br>  ip address 10.0.0.1 255.255.255.255 <br>  ! <br></td><td></td></tr><tr><td>  interface GigabitEthernet0 / 1.10 <br>  description User 11101 @ pppoe <br>  encapsulation dot1Q 10 <br>  pppoe enable group PPPoE_TEST <br>  ! <br>  interface GigabitEthernet0 / 1.20 <br>  description User 11102 @ pppoe <br>  encapsulation dot1Q 20 <br>  pppoe enable group PPPoE_TEST <br>  ! <br></td><td>  We create a subinterface with IEEE 802.1Q encapsulation, i.e.  on it we will accept vlan 10 in the first case and 20 in the second.  And we allow PPPoE connectivity on this interface. <br></td></tr><tr><td>  interface Virtual-Template1 <br>  ip unnumbered Loopback0 <br>  peer default ip address pool PPPoE <br>  ppp authentication pap <br>  ! <br>  ! <br>  ! <br></td><td>  Create a "template" for all future interfaces Virtual-Access (Vi) address that will be created when subscribers connect. <br>  We specify from which pool we give addresses to the PPPoE subscriber and the type of authorization we will have is PAP. <br></td></tr><tr><td>  ip local pool PPPoE 172.16.0.1 172.16.0.254 <br></td><td>  And this is the address pool itself. <br></td></tr></tbody></table><br><br>  Run the PPPoE session and see what we did: <br>  You can see how many sessions are created by using the command. <br><br>  <b>PPPoE-ROU # sh pppoe summ</b> <br>  PTA: Locally terminated sessions <br>  FWDED: Forwarded sessions <br>  TRANS: All other sessions (in transient state) <br><br>  TOTAL PTA FWDED TRANS <br>  TOTAL 2 2 0 0 <br>  GigabitEthernet0 / 1 2 2 0 0 <br><br>  When a subscriber connects via PPPoE, his Virtual-Access interface is created for him based on the Virtual-Template, or abbreviated as Vi. <br><br>  <b>PPPoE-ROU # sh caller</b> <table><tbody><tr><td>  Line </td><td>  User </td><td>  Service </td><td>  Active time </td><td>  Idle time </td></tr><tr><td>  Vi2 </td><td>  11101 @ pppoe </td><td>  PPPoE </td><td>  1d04h </td><td>  1d03h </td></tr><tr><td>  Vi5 </td><td>  11102 @ pppoe </td><td>  PPPoE </td><td>  00:23:39 </td><td>  00:02:00 </td></tr></tbody></table><br>  To terminate the PPPoE session of subscriber 11101 @ pppoe from the router, you must enter ‚Äúclear int vi2‚Äù. <br><br>  To get more complete information (the address that was issued from the pool and statistics) about the PPPoE session, you can use the command: <br><br>  <b>PPPoE-ROU # sh caller full</b> <br>  User: 11102 @ pppoe, line Vi2, service PPPoE <br>  Connected for 1d04h, Idle for 1d03h <br>  Timeouts: Limit Remaining Timer Type <br>  - - - <br>  PPP: LCP Open, PAP (&lt;-), IPCP <br>  IP: Local 10.0.0.1, remote 172.16.0.2 <br>  Counts: 14720708 packets input, 1911626778 bytes, 0 no buffer <br>  0 input errors, 0 CRC, 0 frame, 0 overrun <br>  10736210 packets output, 3331626512 bytes, 0 underruns <br>  0 output errors, 0 collisions, 0 interface resets <br><br>  The number of subscribers will grow and we must not forget to check the address pool, so that everyone has enough =) <br><br>  <b>PPPoE-ROU # sh ip local pool</b> <br>  Pool Begin End In Blocked <br>  PPPoE 172.16.0.1 172.16.0.254 50 77 0 <br>  Another very useful command: <br>  <b>PPPoE-ROU # sh pppoe sess</b> <br>  2 sessions in LOCALLY_TERMINATED (PTA) State <br>  2 sessions total <br><table><tbody><tr><td>  Uniq </td><td>  ID </td><td>  PPPoE </td><td>  RemMAC </td><td>  Port </td><td>  Source </td><td>  VA State </td><td>  Sid </td><td>  LocMAC </td><td>  VA-st </td></tr><tr><td>  888 </td><td>  9193 </td><td>  0017.9aa0.75fd </td><td>  Gi0 / 1.10 </td><td>  Vt1 </td><td>  Vi2 </td><td>  PTA </td><td>  0023.5e2b.691a </td><td>  VLAN: 10 </td><td>  UP </td></tr><tr><td>  985 </td><td>  39929 </td><td>  001e.52f7.d544 </td><td>  Gi0 / 1.20 </td><td>  Vt1 </td><td>  Vi5 </td><td>  PTA </td><td>  0023.5e2b.691a </td><td>  VLAN: 20 </td><td>  UP </td></tr></tbody></table><br><br>  Here we have run short on the way from the subscriber modem to the aggregation router.  I really wanted to talk about how to access at all stages, to form a picture as a whole.  And now I hope when you connect to the Internet via an ADSL modem, you will not blame him for his slow pace - he does a lot of things for you =) </div><p>Source: <a href="https://habr.com/ru/post/61934/">https://habr.com/ru/post/61934/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../61927/index.html">Preview Max Payne 3 (Part Two)</a></li>
<li><a href="../61928/index.html">Netbook - what function is worth the money?</a></li>
<li><a href="../61930/index.html">AGE Component, Another Graphic Engine in .NET</a></li>
<li><a href="../61931/index.html">this amazing tabindex</a></li>
<li><a href="../61933/index.html">European versions of Windows 7 will be without Internet Explorer</a></li>
<li><a href="../61940/index.html">Portable iron concept</a></li>
<li><a href="../61941/index.html">Hiding blogs and tracking comments</a></li>
<li><a href="../61944/index.html">Holographic phone</a></li>
<li><a href="../61945/index.html">Art Rage. To help digital artist</a></li>
<li><a href="../61946/index.html">Soviet mouse</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>