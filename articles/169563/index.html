<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>HabraReader - easy to read Habrahabr on iOS devices</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Some time ago I decided to start developing programs for iOS. I wanted to write something for the soul and as the first project I chose the applicatio...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>HabraReader - easy to read Habrahabr on iOS devices</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/f29/a87/039/f29a870390519344d2437f8d9f81b712.png" align="left">  Some time ago I decided to start developing programs for iOS.  I wanted to write something for the soul and as the first project I chose the application for my favorite site habrahabr.ru, because at that time there was no convenient program for reading the site posts that satisfy my requirements.  I imagined what properties an application should have that I would use daily, and I got the following list: <br><br><ul><li>  simple interface </li><li>  the ability to read posts on the road when there is no internet </li><li>  convenient opportunities to work with hubs / posts / search </li><li>  the ability to see only those posts that I have not read </li><li>  automatically synchronize the list of read and favorites between all my iOS devices </li><li>  habracut support </li></ul><br><br>  Actually, it will be about how I solved the tasks and what happened in the end. <br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Training </h4><br><br>  First of all, I decided to prepare theoretically: I looked at the <a href="http://www.stanford.edu/class/cs193p/cgi-bin/drupal/">Stanford courses</a> , read the book ‚ÄúProgramming for the iPhone and iPad‚Äù Paylon, studied the iOS development books on the App Store.  Just want to say that I did everything not quite right, or even completely wrong.  We liked the courses very much: the speaker has a sense of humor, clearly knows and loves what he is talking about.  However, it would be better to listen to these courses and at the same time to apply in parallel what they are talking about.  In my case, much of what was said was ‚Äúweathered‚Äù by the time when it came to the practical use of the knowledge gained.  I bought the book under the impression of a good edition of design patterns from the same series, but it absolutely disappointed me - too much water and banality.  The development books for iOS downloaded in the App Store I clearly read in the wrong order.  Somewhat later, Apple released a great <a href="https://developer.apple.com/library/ios/">introduction to the development</a> , which I advise all novice iOS programmers. <br><br>  As a result, much more time was spent on the preparatory part than was required. <br><br><h4>  Development </h4><br><br>  One of the most important and successful decisions made at the beginning of development was the use of <a href="http://cocoapods.org/">cocoapods</a> for dependency management.  Using cocoapods, connecting a new library takes quite a bit of time.  Due to 15 years of experience in developing commercial C ++ programs, I was very tempted to write the entire model in my native language, but I kept myself, deciding that if you really learn a new platform, then do it to the end.  As a result, marveling at the ‚Äúclumsiness‚Äù of local containers, I drank the cup to the bottom, writing absolutely everything in Objective C. Perhaps in the following projects I‚Äôll still try to use the boost model (the library is in cocoapods) - I suspect the process will go much faster . <br><br>  One of the main requirements in the development was the support of habracut and the ability to read the beginning of the article, see pictures and videos in the list of posts.  I solved this problem using the standard UITableViewCell class with a variable height.  Each cell is displayed using Core Text, that is, in this place I completely abandoned the built-in browser UIWebView.  This is the result for iPad in horizontal orientation: <br><img src="https://habrastorage.org/storage2/18a/bc4/4bf/18abc44bfdc06df349d937acc4d0120c.png"><br><br>  in vertical orientation: <br><img src="https://habrastorage.org/storage2/f9d/38d/df1/f9d38ddf1d20fdaa92f8646ccffcad9e.png"><br><br>  Horizontal orientation for iPhone: <br><img src="https://habrastorage.org/storage2/ec3/4f2/7a9/ec34f27a9bd6d41b6f5413ffb539cb70.png"><br><br>  It can be seen that the TabBar for horizontal orientation is moved to the left, which has saved valuable valuable space vertically, and it is more convenient to switch tabs with the fingers of your left hand. <br><br>  For the iPad, it was necessary to solve the problem of displaying the list of hubs separately.  I had to abandon the standard UISplitViewController - I could not find a simple solution to show / hide the master view (list of hubs) using animation and used one of the numerous libraries with support for sliding views.  The result was something like this: <br><img src="https://habrastorage.org/storage2/7e6/623/5d7/7e66235d7cd71575da626b40e74b4d11.png"><br><br>  I wanted to leave the screen for reading the article as free as possible.  Initially, only the ToolBar is shown, but you can switch to full screen mode (the ToolBar and StatusBar will be hidden).  Only the most necessary remains in the list of controls: <br><ul><li>  switching forward / backward through history </li><li>  closing the screen </li><li>  page reload </li><li>  add post to favorites </li><li>  button sending links to the post in various social networks </li></ul><br>  Here‚Äôs how it looks for the iPhone: <br><img src="https://habrastorage.org/storage2/823/975/31a/82397531a1063ad7396255a73e9ccef3.png"><br><br>  iPad version: <br><img src="https://habrastorage.org/storage2/fa9/d5f/4c1/fa9d5f4c154cc46be1fe818f6f1a7bd4.png"><br><br>  Fullscreen option: <br><img src="https://habrastorage.org/storage2/d5f/9a4/dab/d5f9a4dab6f4c6efc2ee392ad7f9ae5d.png"><br><br>  For convenience, various gestures have been added: <br><br><ul><li>  in the list of posts tap with a delay notes post read or vice versa </li><li>  in the list of posts tap with a delay with two fingers adds or removes a post from the list of favorites </li><li>  when reading a post, tap with a delay with two fingers switches the full screen mode </li><li>  when reading a post, swipe with two fingers moves to the previous / next post of the current hub. </li></ul><br><br>  For synchronization between devices, iCloud is naturally used.  Due to the fact that for the reading list only the numbers of posts are transmitted, and for the favorites list only the beginning of each post (without pictures), it was possible to achieve minimal traffic usage.  The application itself is free, but in the list of posts there is a screwed advertisement that can be turned off via in-app purchase.  There are no functional limitations for the free version. <br><br><h4>  Plans </h4><br>  Depending on how interesting everyone is, I plan to write more about the technical aspects of development.  There are also big plans to improve the application: <br><ul><li>  Optimize speed.  Scrolling should be as smooth as possible. </li><li>  Add even more animation - when you open a post, when you change the list of posts, when synchronizing via iCloud, etc. </li><li>  Integrate support for additional functionality that habrahabr users are used to, such as adding comments, a list of their hubs, answers / questions, best posts, etc. </li></ul><br><br>  A huge request to write about your wishes, comments, leave feedback and good ratings, what would be the motivation to improve the application further. <br><br>  The application itself can be found at <a href="https://itunes.apple.com/ru/app/habrareader/id594091385">this</a> address. </div><p>Source: <a href="https://habr.com/ru/post/169563/">https://habr.com/ru/post/169563/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../169553/index.html">The robot is made of gold. Vertu launches Android smartphone</a></li>
<li><a href="../169555/index.html">ASUS VivoTab RT - more than a tablet</a></li>
<li><a href="../169557/index.html">Startups in London: Silicon Ring or Tech City</a></li>
<li><a href="../169559/index.html">Justify the cost of developing the site and protection from dumping</a></li>
<li><a href="../169561/index.html">Interactive story of Apple on Fifth Avenue in Unity3D</a></li>
<li><a href="../169565/index.html">Briefly about the new: Samsung launches low-cost touch phones of the REX series</a></li>
<li><a href="../169569/index.html">Kharkiv Ciklum .NET Saturday for real men</a></li>
<li><a href="../169571/index.html">Bees vs. Honey: How Nival put books on Flibusta</a></li>
<li><a href="../169573/index.html">Multi-armed bandits: model dynamic Gamma-Poisson</a></li>
<li><a href="../169577/index.html">Visual editing of data on the page, using HTML as a data store</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>