<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Mood lamp!</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A mood lamp (mood lamp) is an RGB lamp that changes color randomly. It was green, smoothly turned blue, then violet ... what color it will become at t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Mood lamp!</h1><div class="post__text post__text-html js-mediator-article">  A mood lamp (mood lamp) is an RGB lamp that changes color randomly.  It was green, smoothly turned blue, then violet ... what color it will become at the next moment in time nobody knows) <br><br><img src="http://img151.imageshack.us/img151/3757/rgb.jpg" alt="image"><br><br>  Buy this problematic, do it yourself!) <br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      This lamp is simple in design and will be an excellent souvenir.  Components Used: <br>  Lamp GRONO from the store IKEA.  (299r.) <br>  ATMEGA8-16PU microcontroller (66.) <br>  RGB LED KAD1-9090BRGC-01/3 star (273.) <br>  BUZ11 transistor (3 * 27r) <br>  various small things (three 1W resistors, one 10K pull-up resistor, a block for ISP, a stabilizing chip 7805) <br><br>  The light source used is a powerful RGB LED.  The power of each color component is 1W.  Details can be found in datasheet.  The LED was found and purchased at Promelectronics (promelec.ru). <br><br>  Lamp circuit: <br><br><img src="http://img515.imageshack.us/img515/5578/rgbscheme.jpg" alt="image"><br><br>  To simplify the power line, the stabilizer and the ISP block are not shown in the diagram.  Transistors are connected to the outputs of the PWM channels.  There are three such channels in the microcontroller. <br><br>  Ready fee: <br><br><img src="http://img41.imageshack.us/img41/4222/rgbboard.jpg" alt="image"><br><br>  The algorithm of the following.  Color is randomly generated (three char variables).  If all three values ‚Äã‚Äãare about the same, then we will have a white color at the output, which is not interesting, so the process of random color selection is repeated.  When a color is obtained with a probability of 0.5, one of the channels will be extinguished (so that pure R, G or B colors would appear more often.) Then the amount of increase is calculated, which would come to the specified color in 255 steps.  After that, the rate of departure to a new color is randomly determined (from 5 to 10 seconds).  Well, then, due to the increment of the value in the PWM registers, we smoothly arrive at the generated color.  Hold the color for some time, the cycle repeats.  And so on to infinity. <br><br>  Lamp in action: <br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/JY82O3EaMp8%3Ffeature%3Doembed&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhjx5DWVAp7JHVEXJZdEbuxu7-7HBA" frameborder="0" allowfullscreen=""></iframe><br><br>  Source code can be viewed <a href="http://licrym.org/images/3/35/Rgb_lamp.txt">here</a> (Written in CodeVisionAVR) <br><br>  The microcontroller switches the FUSE bits so that the clock frequency is 8 MHz from the built-in RC chain. <br><br>  A similar project of foreign colleagues: <a href="http://www.electronics-lab.com/projects/games/005/index.html">www.electronics-lab.com/projects/games/005/index.html</a> <br><br>  What I would fix: <br>  1) would take out the stabilizer beyond the lamp, it is heated and requires a large radiator <br>  2) I would use small transistors and the microcontroller would solder immediately to the board.  Then the board dimensions would be reduced and it would fit into the niche under the lamp. <br><br>  Room for creativity: <br>  The microcontroller has a lot of unused legs, and USART is not involved.  You can add a MAX232 level converter to the board and you can connect a lamp to the computer‚Äôs COM port.  (And if you use FT232 then to USB).  Then writing the appropriate software can be done so that for example, when a new mail arrives, the lamp flashes red.  Or for example to make an advanced ambilight. <br><br>  The original article is <a href="http://licrym.org/index.php/%25D0%259B%25D0%25B0%25D0%25BC%25D0%25BF%25D0%25B0_%25D0%25BD%25D0%25B0%25D1%2581%25D1%2582%25D1%2580%25D0%25BE%25D0%25B5%25D0%25BD%25D0%25B8%25D1%258F">here</a> . <br>  <i>As usual, I remind you that this is the only copy-paste that is connected with the fact that the portal server is not able to absorb a large number of visitors and has some stability problems.</i> </div><p>Source: <a href="https://habr.com/ru/post/65616/">https://habr.com/ru/post/65616/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../65604/index.html">What questions - such answers</a></li>
<li><a href="../65606/index.html">Linux Foundation Credit Cards</a></li>
<li><a href="../65612/index.html">Sorting large amounts of data, implementation in Java</a></li>
<li><a href="../65613/index.html">AirPeople.ru - Do you fly by air?</a></li>
<li><a href="../65614/index.html">Corner lamer (increase the efficiency of the mobile old man Sony Ericsson w810i)</a></li>
<li><a href="../65617/index.html">Data structures: binary trees. Part 1</a></li>
<li><a href="../65618/index.html">The Senate will deal with ultrafast trading</a></li>
<li><a href="../65619/index.html">Lack of memory on image processing hosting</a></li>
<li><a href="../65620/index.html">Record Keeping Service</a></li>
<li><a href="../65621/index.html">Down with censorship in advertising slogans</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>