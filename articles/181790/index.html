<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to make friends gma3600 (intel cedar trail) and linux in a week</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="As a gift, my father was bought asus x101ch . At first glance, a chic netbook, especially in terms of price-quality. In Euroset, I gave him a modest 7...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to make friends gma3600 (intel cedar trail) and linux in a week</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/3bb/e90/75f/3bbe9075fb69b5b59177a6ed4b7bd046.jpg"><br><br>  As a gift, my father was bought <a href="http://ru.asus.com/Eee/Eee_PC/Eee_PC_X101CH/">asus x101ch</a> .  At first glance, a chic netbook, especially in terms of price-quality.  In Euroset, I gave him a modest 7,500 rubles (it was in winter).  Most of all I was attracted by the matte display, dual-core 1.6Ghz Atom and the stated ability to view Full HD (1080p), which had a greater impact on choosing it as a replacement for the old eee pc 900. Blinded by the positive experience gained from using the Intel Atom on a nettop with Debian 6, and to all of the above, I forgot the most important thing: to study the issue of the performance of this device in Linux before the purchase, for which later I paid ... <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  The first attempt to install Linux or "Try Ubuntu" </h4><br>  Happily freeing the netbook from packaging, once again embarked on an already familiar operation - installing Ubuntu 12.04 LTS on a new device.  But after loading X's in the live session, I was upset by the low resolution and the inability to change it (800x600, the netbook has 1024x600).  It was felt that everything was drawn by software, and behind all this was vesa driver.  In addition, there was a very strange behavior of the mouse: it disappeared, then appeared again - which after a few seconds began to annoy.  Installing on the disk did not change the situation.  Everything indicated that the problem lies in the video driver. <br><br>  After a day of yaw across the expanses of the Internet loomed approximately the following picture: <br><ol><li>  <a href="http://forum.ubuntu.ru/index.php%3Ftopic%3D186601.0">Theme</a> dedicated to gma3600.  42 pages.  The third most popular on the Russian-language forum Ubuntu in the section <a href="http://forum.ubuntu.ru/index.php%3Fboard%3D57.0">Graphic equipment</a> </li><li>  Lack of 3d as such (In any OS). </li><li>  The existence of a proprietary driver with access to a hardware decoder (video acceleration api). </li><li>  Intel netbook users with the gma3600 <a href="http://habrahabr.ru/company/intel/questions/1895/">"sympathize</a> . <a href="http://habrahabr.ru/company/intel/questions/1895/">"</a>  But can not help with anything (does not want?). </li><li>  <a href="http://www.intel.com/support/ru/graphics/intelgma3600/sb/cs-033597.htm">Availability of</a> Linux (MeeGo) for Cedar Trail.  Immediately note that you can forget about Win8. </li><li>  On top of this, there are <a href="http://forum.ubuntu.ru/index.php%3Ftopic%3D186601.90">problems with sleeping</a> in Linux.  And also does not work HDMI, VGA and a number of keys Fn. </li><li>  The graphics chip itself is the brainchild of <a href="http://ru.wikipedia.org/wiki/Imagination_Technologies">Imagination Technologies</a> , namely, <a href="http://en.wikipedia.org/wiki/PowerVR">PowerVR SGX545</a> , which in gma3600 is the ‚Äúlogical‚Äù continuation of gma500.  The latter, in turn, has a very bad reputation not only among Linuxoids. </li></ol><br><br>  At that time, this whole set has already made me think about the feasibility of buying and sponsoring vendors that manufacture hardware with such support.  But there was nothing to do, it was necessary to bring into operation the netbook, on which even the preinstalled Win7 worked obscenely.  The gift and the accompanying positive emotions of the giver and the receiving party were overshadowed.  Attempts to install a proprietary driver from ppa led to a black screen.  On Ubuntu 12.10, in principle, the X did not load after installation.  <a href="http://www.upubuntu.com/2012/12/install-linux-kernel-371-on-ubuntu.html">Backing up</a> the 3.7.1 kernel in Ubuntu LTS brought some success - normal screen resolution, and as a bonus - a non-working wifi driver.  On the third day after the purchase, I realized that resistance was useless, and decided to install MeeGo. <br><br><h5>  Two day battle with MeeGo </h5><br>  The <a href="http://www.intel.com/support/ru/graphics/intelgma3600/sb/cs-033597.htm">link</a> from the Intel site was downloaded image MeeGo Cedar Trail and recorded (as is) on the USB flash drive.  The netbook was loaded with normal resolution, and MeeGo smartly showed animations of transitions in the desktop menu and applications.  Earned a dream and a number of Fn.  I was elated: the overall impression was significantly better than the work of the pre-installed starter. <br><br><img src="https://habrastorage.org/storage2/140/cf1/ea5/140cf1ea52de32553d05af0d298f9aba.png"><br><br>  But happiness was short-lived.  Literally an hour after installation, the little man happily announced the presence of updates, which I, without thinking twice, installed.  The result did not take long to wait ... The wi-fi fell off, and at once, which was very alarming.  Rebooted from the flash drive and comparing the images of the kernel, he suggested that its update was the cause.  I rearranged, turned off the updates, guided by the principle ‚Äúworks - don't touch‚Äù, and gave my father to use. <br><br>  In less than an hour, my father told about the strange behavior of the system: installing mc (midnight commander) is similar to updating wi-fi, although the installation itself did not pull any packages, much less library updates.  Having played enough with the reinstallation of the distribution kit, I discovered an inexplicable, fatal and terrible bug - installing any (yes any) package led to the same problem.  The package system fell under suspicion, but since this is rpm in MeeGo, the only logical explanation for the developers of the distribution could be the only logical explanation.  To understand this problem, there was no longer any desire or strength.  The next day did not bring a single clue in the case of finding a problem, and the nerves were more expensive. <br><br><h4>  Climax </h4><br>  At the end of the week I began to prepare to return the netbook back to the store.  This did not bode well, since, as you know, a netbook is a sophisticated electrical <a href="http://ozpp.ru/laws2/pravila-prod/tovar21.html">product</a> and is on the <a href="http://ozpp.ru/laws2/pravila-prod/tovar21.html">list of non-food products of good quality that can not be returned or exchanged</a> , and the only way to return it without "paying the seller" is to find a significant drawback. , for example: manufacturing defect or spontaneous shutdown. <br><br>  Packing everything in a box and printing excerpts from the Opp for the upcoming battles with the seller and, possibly, the store manager, was about to leave the house.  But something else resisted at heart, and before leaving, I once again decided to try my luck. <br><br>  Once again I discovered Chromium in order to find something useful that passed my eyes for a week of vain searches.  Literally a minute later, I came across an article that had not yet been read before, a quick reading of which gave me hope.  Cardinally from a dozen other howto, it was distinguished by one line, which will be discussed later. <br><br><h4>  Install the Xorg driver </h4><br>  Instruments and materials: Ubuntu 04/12/1 i386 or Mint 13 (direct heir of the first), a device with an atom i386 processor and a gma3600 graphics subsystem. <br><br>  Working process: <br>  The first thing you need is the distribution itself.  Best option: <a href="http://www.ubuntu.com/download/desktop">download the</a> latest stable release from the office.  site. <br><br>  Install as usual.  Both in the live session and after installation there will be a low resolution.  This is normal". <br><br>  After installation, update the list of packages: <br><br><pre><code class="bash hljs">sudo apt-get update</code> </pre> <br><br>  All driver installation manuals state that the cedarview kernel module is <b>not compatible</b> with pae kernels.  Do not try to install the driver on the pae kernel.  Find out what you have: <br><br><pre> <code class="bash hljs">uname -r</code> </pre><br><br>  If you have a pae kernel (this is indicated by the suffix "-pae" in the output of uname -r), install the normal one and the drivers for it (required for building the kernel module of the proprietary driver): <br><br><pre> <code class="bash hljs">sudo apt-get install linux-headers-generic linux-image-generic</code> </pre><br><br>  We demolish the pae core, we demolish it <b>completely</b> , otherwise we get a black screen: <br><br><pre> <code class="bash hljs">sudo apt-get purge linux-headers-generic-pae linux-image-generic-pae</code> </pre><br><br>  It is the remaining settings from pae kernels, which are not removed via apt-get remove, became a stumbling block for a whole week. <br><br>  After installing / removing the kernel, grub2 should rescan partitions on the presence of other operating systems and new kernels.  If this does not happen, command: <br><br><pre> <code class="bash hljs">sudo update-grub2</code> </pre><br><br>  Install gdm at the same time (some users have problems with the xorg configuration for lightgdm): <br><br><pre> <code class="bash hljs">sudo apt-get install gdm</code> </pre><br><br>  During the installation a question will be asked: which display manager to use - choose gdm. <br><br>  Reboot. <br><br><h5>  Driver installation </h5><br>  Things are easy - it remains to install the driver.  Most likely after reboot, jockey (Additional drivers) will start, which will offer to install cedarview-drm, but this is not all that is required for proper operation: <br><br><pre> <code class="bash hljs">sudo apt-get install cedarview-graphics-drivers cedarview-drm</code> </pre><br><br>  The installation lasts a long time, about 10-15 minutes, since the kernel module is compiled (apparently in one stream).  During the installation, the screen may turn off, and after that there will be a colored porridge on the screen.  The main thing - do not turn off the netbook prematurely. <br><br>  After successful installation of the driver, the resolution should become normal, and the exit from sleep mode and brightness control should also work properly. <br><br>  If, after rebooting, the X does not start, open tty1 Ctrl + Alt + F1, log in with your user and edit the grub settings (on x101ch this step was not required): <br><br><pre> <code class="bash hljs">nano /etc/default/grub</code> </pre><br><br>  Find the line: <br><br><pre> <code class="bash hljs">GRUB_CMDLINE_LINUX=<span class="hljs-string"><span class="hljs-string">""</span></span></code> </pre><br><br>  and add between quotes: <br><br><pre> <code class="bash hljs">video=LVDS-1:d</code> </pre><br><br>  Update grub2 and reboot: <br><br><pre> <code class="bash hljs">update-grub2 reboot</code> </pre><br><br>  You can also change the kernel boot configuration for one launch by pressing <b>e</b> at boot time and adding your options after ‚Äúquiet splash‚Äù. <br><br><h4>  Hardware accelerated video for dessert </h4><br>  When buying a netbook or another device with gma3600, you most likely noticed the tempting reklamku: "Playback with Full HD 1080p resolution".  Already, the netbook is capable of losing 720p, but decoding will be done programmatically, which has a bad effect on the processor load and battery life.  For example, mplayer can use all four threads, loading each of the two cores by ~ 80%.  But why?  There is a special microprocessor built into the graphics system and allowing to reduce the load when playing 720p to 3-4%, and at 1080p to keep the processor within 10%.  To activate it, you need to install an additional library that implements <a href="http://en.wikipedia.org/wiki/Video_Acceleration_API">vaapi</a> to the hardware decoder. <br><br>  Install: <br><br><pre> <code class="bash hljs">sudo apt-get install libva-cedarview-vaapi-driver</code> </pre><br><br>  You will also need a special assembly mplayer-vaapi: <br><br><pre> <code class="bash hljs">sudo apt-add-repository ppa:sander-vangrieken/vaapi sudo apt-get update sudo apt-get install mplayer-vaapi</code> </pre><br><br>  Well, gnome-mplayer GUI: <br><br><pre> <code class="bash hljs">sudo apt-get install gnome-mplayer</code> </pre><br><br><h5>  Finishing touch </h5><br>  Open Gnome Mplayer, go to Edit -&gt; Preferences, Mplayer tab and add in the "Extra Options to Mplayer" field: <br><br><pre> <code class="bash hljs">-vo vaapi -va vaapi</code> </pre><br><br>  Now 1080p video with your favorite cats hardware accelerated! <br><br>  Summing up, it is safe to say that Intel support, both Linux and Windows, is not as good as it is painted.  From an unverified source, it is known that Intel apparently realized that they specifically pierced with gma3600 / gma3650, and decided that the next generation of Intel Atom would have trimmed graphics with i3 and i5.  Still, the situation with gma3600 is much better than with gma500, five years ago. <br><br>  P.S.  It is important to note that mplayer-vaapi conflicts with mplayer2 and installs several packages for working with vaapi.  It is less stable, but allows you to use the resources of the graphics subsystem. <br><br>  Another repository was found with the source code cedarview.  It is relevant, and the last commit in it dates back to the twentieth of January of this year.  Judging by commits, one can judge that support for kernels 3.5.0 and 3.7.2 has been added.  The codebase is based on cedarview 1.0.3 from Intel, when only 1.0.2 is present in Ubuntu 12.04.  I myself have not tried to collect it, but among the obvious advantages can be noted the correction of memory leaks in vaapi.  In my case, the 2-hour watch FullHD with driver 1.0.2 (from the repository) did not detect a leak. <br><br>  <b>Upd:</b> <br>  The kernel shipped with Ubuntu 13.04 now has a modified community driver.  He is much better at showing 2d, but he will have to accept the lack of vaapi. </div><p>Source: <a href="https://habr.com/ru/post/181790/">https://habr.com/ru/post/181790/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../181776/index.html">ERP implementation: how not to turn Enterprise Resource Planning into an Expensive Reasonless Program</a></li>
<li><a href="../181778/index.html">Directive for working with tables on AngularJS</a></li>
<li><a href="../181780/index.html">Two networks with one cable between Mikrotik Router OS and Shibby Tomato USB on Netgear WNR3500L</a></li>
<li><a href="../181782/index.html">jVForms.js - cross-browser form checking polyfill</a></li>
<li><a href="../181786/index.html">The digest of interesting materials from the world of web development and IT for the last week ‚Ññ59 (May 25 - 31, 2013)</a></li>
<li><a href="../181792/index.html">Space miners went to Kickstarter</a></li>
<li><a href="../181794/index.html">Acquaintance with shaders on the example of GPUImage</a></li>
<li><a href="../181796/index.html">The f.lux 3 program has been released with a movie mode and a temperature of 2700 K</a></li>
<li><a href="../181798/index.html">How to learn to relax</a></li>
<li><a href="../181804/index.html">ASP.NET Dynamic Data based data management system</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>