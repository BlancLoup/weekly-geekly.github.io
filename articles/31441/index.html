<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Making your first opera widget.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article we will look at creating a simple widget for an opera. 


 What you need to get started: 


- Basic understanding of web technologies....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Making your first opera widget.</h1><div class="post__text post__text-html js-mediator-article">  In this article we will look at creating a simple widget for an opera. <br><br><br>  <strong>What you need to get started:</strong> <br><ul><li>  Basic understanding of web technologies. </li><li>  Text editor. </li><li>  Archiver that can create zip archives. </li><li>  The place where you can place the widget. </li><li>  Opera browser. </li></ul><br><a name="habracut"></a><br>  <strong>The very first widget.</strong> <br><br>  First you need to create an index.html file.  This is what people will see when they open the widget. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre>  &lt;! DOCTYPE html&gt;
 &lt;html&gt;
   &lt;head&gt;
     &lt;title&gt; Hello World! &lt;/ title&gt;
   &lt;/ head&gt;
   &lt;body&gt;
     &lt;p&gt; Hello World! &lt;/ p&gt;
   &lt;/ body&gt;
 &lt;/ html&gt; &lt;/ code&gt;
</pre><br><br>  <strong>Widget settings.</strong> <br><br>  Next we look at how to add settings to our widget.  All settings are written in a file called config.xml and contain information about the permanent properties of the widget.  The main properties that should be described in this file are: <br>  The name of the widget. <br>  The size of the widget. <br>  Information about the author. <br>  Unique ID for the widget.  The ID consists of three parts: Server name, widget name, and its last update date in YYYY-MM format (you can also use YYYY-MM-DD format if you plan to update the widget more than once a month). <br>  It also optionally adds information about which domains the widget works with. <br><br>  Create a new config.xml file in the same directory where you created index.html before.  Paste this code there and save. <br><br><br><pre> &lt;? xml version = '1.0' encoding = 'UTF-8'?&gt;
 &lt;widget&gt;
   &lt;widgetname&gt; Hello World! &lt;/ widgetname&gt;
   &lt;description&gt; Demo widget from the Hello World tutorial. &lt;/ description&gt;
   &lt;width&gt; 440 &lt;/ width&gt;
   &lt;height&gt; 200 &lt;/ height&gt;
   &lt;author&gt;
     &lt;name&gt; John Doe &lt;/ name&gt;
     &lt;email&gt; john.doe@example.com &lt;/ email&gt;
     &lt;link&gt; http://acme-widget.example.com &lt;/ link&gt;
     &lt;organization&gt; Acme Examples, Inc. &lt;/ organization&gt;
   &lt;/ author&gt;
   &lt;id&gt;
     &lt;host&gt; example.com &lt;/ host&gt;
     &lt;name&gt; HelloWorld &lt;/ name&gt;
     &lt;revised&gt; 2008-01 &lt;/ revised&gt;
   &lt;/ id&gt;
 &lt;/ widget&gt; 
</pre><br><br>  <strong>The first launch of your widget.</strong> <br><br>  Drag the config.xml into the browser, or open it in the browser.  As a result, we get something like this: <br><br><img src="https://habrastorage.org/getpro/habr/olpictures/d33/061/587/d33061587bab8907d756bfb6cb25aaa2.png" width="450" height="372" alt="first widget" hspace="10" vspace="10"><br><br>  I can congratulate you.  The first widget is ready. <br><br><br><br>  <strong>Making the widget's face.</strong> <br><br>  In this form, the background color of the widget is transparent, and the default style is used for styling.  Not order.  There is no need to give our widget its own look. <br>  First of all, you need to add style declaration to your index.html.  In the end, he should have become like this: <br><br><pre>  &lt;! DOCTYPE html&gt;
 &lt;html&gt;
   &lt;head&gt;
     &lt;title&gt; Hello World! &lt;/ title&gt;
     &lt;link rel = "stylesheet" type = "text / css" href = "style / helloworld.css"&gt;
   &lt;/ head&gt;
   &lt;body&gt;
     &lt;div id = "container"&gt;
       &lt;div id = "header"&gt;
       &lt;/ div&gt;
       &lt;div id = "content"&gt;
         &lt;h1&gt; Hello World! &lt;/ h1&gt;
       &lt;/ div&gt;
       &lt;div id = "footer"&gt; Powered by Opera &lt;/ div&gt;
     &lt;/ div&gt;
   &lt;/ body&gt;
 &lt;/ html&gt; &lt;/ code&gt;
</pre><br><br>  Now it's time to create a css file with widget styles.  Create a folder ‚Äústyle‚Äù, where you will store the styles, and in it, the file - ‚Äúhelloworld.css‚Äù.  Copy the presented code in this file. <br><br><pre>  / ** Basic styles ** /

 body {
   font-family: Verdana, Helvetica, sans-serif;
   font-size: 16px;
 }

 h1 {
   margin: 0;
   font-size: 1.1em;
   padding: 7px 0 0 10px;
   font-weight: normal;
 }

 h2 {
     font-weight: normal;
     font-size: 1.1em;
     margin: 0px;
 }

 / ** Structure ** /

 #container {
   width: 429px;
 }

 #header {
   background-image: url (../ images / back_top.png);
   padding: 4px 10px 0px 10px;
   height: 35px;
 }

 #content {
   background-image: url (../ images / back_center.png);
   color: # 333;
 }

 .view {
     padding: 10px 10px 10px 20px;
     height: 60px;
     max-height: 60px;
     max-width: 393px;
     overflow: auto;
     -apple-dashboard-region: dashboardregion (control rectangle 0px 0px 0px 0px);
 }

 #footer {
   background-image: url (../ images / back_bottom.png);
   height: 23px;
   padding: 2px 0 0 20px;
   font-size: 0.6em;
   text-decoration: underline;
   color: # dd2222;
 }
 &lt;/ code&gt;
</pre><br>  You may have noticed that in this widget we use several background images.  We need to add them to the widget folder.  Images can be found in this zip <a href="">file</a> , they are in the images folder, copy this folder to the root folder of your widget. <br><br>  All styles are in place, so try launching your widget again, in the same way as last time.  It should look like this: <br><br><img src="https://habrastorage.org/getpro/habr/olpictures/eba/5fb/103/eba5fb103dc11ded779e83401123a946.png" width="450" height="376" alt="style is applied to the widget." hspace="10" vspace="10"><br><br>  <u>Notes on widget styles:</u> <br>  Try to make widgets not for beauty, but for users. <br><br>  <strong>Add interactivity.</strong> <br><br>  You now have a fully working widget, but it does nothing.  Now we will add a button for setting and closing the widget. <br><br>  Open index.html again and replace its content with: <br><br><pre>  &lt;! DOCTYPE html&gt;
 &lt;html&gt;
   &lt;head&gt;
     &lt;title&gt; Hello World! &lt;/ title&gt;
     &lt;link rel = "stylesheet" type = "text / css" href = "style / helloworld.css"&gt;
     &lt;script type = "text / javascript" src = "script / helloworld.js"&gt; &lt;/ script&gt;
   &lt;/ head&gt;
   &lt;body&gt;
     &lt;div id = "container"&gt;
       &lt;div id = "header"&gt;
         &lt;div id = "controlbuttons"&gt;
           &lt;button id = "flipbutton" class = "controlbutton" type = "button"&gt; &lt;/ button&gt;
           &lt;button id = "closebutton" class = "controlbutton" type = "button"&gt; &lt;/ button&gt;
         &lt;/ div&gt;
         &lt;h1&gt; Hello World! &lt;/ h1&gt;
       &lt;/ div&gt;
       &lt;div id = "content"&gt;
         &lt;div id = "front" class = "view"&gt;
           &lt;h2 id = "hellotext"&gt; Welcome to the world of Opera Widgets! &lt;/ h2&gt;
         &lt;/ div&gt;
         &lt;div id = "config" class = "view"&gt;
           &lt;h2&gt; Hello World!  Configuration &lt;/ h2&gt;
           &lt;p&gt;
              &lt;label for = "frontlabel"&gt; Text to display &lt;/ label&gt;
              &lt;input id = "frontlabel" type = "text" size = "25"&gt;
              &lt;button id = "updatebutton" type = "button"&gt; Update &lt;/ button&gt;
           &lt;/ p&gt;
         &lt;/ div&gt;
       &lt;/ div&gt;
       &lt;div id = "footer"&gt; Powered by Opera &lt;/ div&gt;
     &lt;/ div&gt;
   &lt;/ body&gt;
 &lt;/ html&gt; &lt;/ code&gt;
</pre><br><br>  We added: <br><ul><li>  Declaring a script that controls the change in the state of the widget between the setting and the actual work of the widget. </li><li>  Button to change the state of the widget, and the close button. </li><li>  Making the widget settings. </li></ul><br><br>  Now you are required to update the style file and add javascript. <br>  Style buttons close and change state. <br><br>  Add the following code in helloworld.css, below the code that was there before.  This code controls the display of control buttons. <br><br><pre>  / * Hide the configuration view by default * / 
 #config {
   display: none;
 }

 / ** Button styles ** /

 #controlbuttons {
   float: right;
 }

 .controlbutton {
   opacity: 0.0;
   overflow: hidden;
   height: 30px;
   width: 30px;
   background-position: left top;
   border: 0;
 }

 #flipbutton {
   background: transparent url (../ images / btn_config.png) scroll no-repeat 0 0;
 }

 #closebutton {
   background: transparent url (../ images / btn_close.png) scroll no-repeat 0 0;
 }

 / ** Button effects ** /

 #container: hover.controlButton {
   opacity: 0.3;
 }

 #container .controlButton: hover {
   opacity: 1.0;
 }

 #container .controlButton: active {
   opacity: 1.0;
   background-position: left bottom;
 } &lt;/ code&gt;
</pre><br><br>  Recommendations for the use of control buttons. <br><ul><li>  The widget must always be equipped with a close button. </li><li>  Control buttons should only be visible when the mouse is in the widget‚Äôs space. </li><li>  They should become visible with a transparency of 0.3 when the mouse is in the widget‚Äôs space. </li><li>  When the mouse is in button space, the transparency value should be 1.0. </li><li>  When pressed, the control button should change to the clicked. </li></ul><br><br>  It is time to once again check the work of our widget.  You should see something like this: <br><br><img src="https://habrastorage.org/getpro/habr/olpictures/bd2/ab6/225/bd2ab622549bfb1c76de08ceb98cd389.png" width="450" height="375" alt="added buttons." hspace="10" vspace="10"><br><br><br>  <strong>Add handler to buttons.</strong> <br><br>  The next step is to add the functionality of the state change button so that the widget shows its different state when pressed, depending on the state of the button activated.  This handler contains a bit of simple JavaScript code, and all you need is to put the code in the right place.  Look in the resource file from which you copied the pictures, and copy from there to the root folder of the widget helloworld.js. <br><br>  File Contents: <br><pre> 
 // create a namespace for the widget functions // to avoid clogging the global namespace var helloWorld = helloWorld ||  {};  // function for changing the state of the widget between setting and running helloWorld.flip = function (e) {var display = document.getElementById ('front'). style.display;  if (display == 'block' || display == '') {document.getElementById ('front'). style.display = "none";  document.getElementById ('config'). style.display = "block";  } else {document.getElementById ('config'). style.display = "none";  document.getElementById ('front'). style.display = "block";  }} // initialize the widget window.addEventListener ('load', function (ev) {// add behavior to the flip button document.getElementById ('flipbutton'). addEventListener ('click', function (ev) {helloWorld.flip ();}, false); // handler of the close button document.getElementById ('closebutton'). addEventListener ('click', function (ev) {window.close ();}, false); // this button is not present, but just in case I left it. document.getElementById ('wocbutton'). addEventListener ('click', function (ev) {widget.openURL ('http://widgets.opera.com');}, false); / / handler for the button in the settings. Changes the text on the widget, and // returns the widget to the working state document.getElementById ('updatebutton'). addEventListener ('click', function (ev) {document.getElementById ('hellotext'). textContent = document.getElementById ('frontlabel'). value; helloWorld.  flip ();}, false); // assigns the initial value to the text entry field in the document.getElementById ('frontlabel') settings. setAttribute ('value', document.getElementById ('hellotext'). textContent);  }, false); </pre><br><br>  In this code, we put the functions of the widget in its object or namespace.  Thus, the function will not be overridden if it already exists.  We advise you to use the global scope as rarely as possible.  The second half of the code is a function that runs when the widget starts, and installs handlers for objects. <br><br>  Run the widget again and get the result as in the picture: <br><br><img src="https://habrastorage.org/getpro/habr/olpictures/0ac/915/766/0ac915766dc110125562fe88f527412c.png" width="450" height="372" alt="final result." hspace="10" vspace="10"><br><br>  <strong>Widget packaging.</strong> <br><br>  Widgets are packaged in a regular .zip file, the extension of which is changed to .wgt.  All files used by your widget should be stored inside this archive. <br><br>  <strong>Spread your widget</strong> <br><br>  Your widget is already finished.  The final step is to pack the widget and present it to other people.  Instructions how to publish your widget <a href="http://dev.opera.com/articles/view/55/">here</a> . <br><br>  In this article, we looked at creating the simplest widget.  And they made sure that it is not difficult at all.  And also created our first widget. <br>  P.S.  I‚Äôve cut the original a bit, but it‚Äôs too much water to translate. </div><p>Source: <a href="https://habr.com/ru/post/31441/">https://habr.com/ru/post/31441/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../31440/index.html">Ubuntu: Distribute Internet to Palm via Bluetooth - in 10 steps</a></li>
<li><a href="../314400/index.html">VMware vSphere 6 Storage Technology. Part 1 - Old School</a></li>
<li><a href="../314402/index.html">Bushed Bricks: A simple and exciting JavaScript game.</a></li>
<li><a href="../314404/index.html">How we built our mini data center. Finance, pricing</a></li>
<li><a href="../314408/index.html">Once met JMeter and a stranger ...</a></li>
<li><a href="../314410/index.html">Going deeper into the Underground: the story of one extreme game design</a></li>
<li><a href="../314412/index.html">Setting UEFI-loader. The quickest guide in the world</a></li>
<li><a href="../314414/index.html">Android Account Manager Vulnerability You Should Know About</a></li>
<li><a href="../314416/index.html">How to solve the problem of limitations in 64K methods in Unity3D</a></li>
<li><a href="../314418/index.html">Microsoft refuses EMET support</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>