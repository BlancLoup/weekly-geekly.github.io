<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>MiLight Smart Lamps, or how to find adventures on your gluteus maximus</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Spring was in the yard. Birds sang in the clouds, and on sinful earth they were echoed by cats and a drunken neighbor Uncle Misha. The second month of...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>MiLight Smart Lamps, or how to find adventures on your gluteus maximus</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/ae4/d80/6b1/ae4d806b17fa4a2c960db89f361d3059.png" alt="image" align="left"><br>  Spring was in the yard.  Birds sang in the clouds, and on sinful earth they were echoed by cats and a drunken neighbor Uncle Misha.  The second month of unrestrained repair in the new apartment was ending.  The painful choice of wallpaper and accelerated Tajik language courses by the method of ‚ÄúOf course, we know how to make an Ethernet socket!‚Äù Are over. Everything is over.  All left with the same number of fingers, which came two months ago. <br><br>  I have never seen much benefit from the "smart home" in those implementations, about which the guys are usually written on Habr√©.  Well, yes, you can clap your hands, and a webcam under the ceiling will automatically put your selfie in the hipstopogram.  What if you once bring a girl home who for some reason likes to clap her hands at the most crucial moment?  This is it.  That is why I did not lay any additional wires to the wiring with a reserve for the future "smart home".  Around and so full of clever, so at least at home from them rest. <br><a name="habracut"></a><br>  However, the brain of an engineer is designed so that he constantly needs to overcome technical difficulties.  And if there is nothing to overcome, then difficulties must be created, and then heroically overcome.  It just so happened that after repairing the backlog, difficulties suddenly ended, and the new ones have not yet been brought up.  "Do not worry!" - Immediately thought the brain.  ‚ÄúWhy don't you make such a thing that will wake you up with a gradual increase in the brightness of the light bulb?‚Äù ‚ÄúHa!‚Äù I thought to my brain, ‚ÄúThis smart lamp already exists, and while you are inventing something, my hands are already ordering it is from Amazon! ‚ÄùA couple of weeks later, the courier brings a new lamp, I plug it into the outlet, turn it on ... And I understand that I burned about 5,000 rubles when I plugged in a 220 V device designed for 120 V.‚Äú Ah, physics, heartless you bastard! ‚ÄùI exclaimed indignantly.  There was nothing to do: the lamp went into a long drawer with the hope that I would ever again uncover a soldering iron and saw the correct power supply in it if everything had not yet burned to hell. <br><br>  Meanwhile, the obsessive thought about the lamp did not go away.  This time I decided to go the other way.  ‚ÄúWhy do I need a separate device when there are lights now that can be controlled via Wi-Fi?‚Äù I thought and got into Google.  It turned out that Philips really made the Hue smart lamp, which can be controlled via Wi-Fi.  And it even has a REST API.  I want you to reread this sentence a couple of times and think about its meaning: <i>the light bulb has a REST API</i> .  Let it sink in.  Yep.  Overjoyed at this turn of events, I again went to Amazon with the firm intention to order the creation of Dutch engineers.  However, the price is 9500 r.  for a set of a hub and three lamps, my ardor quickly cooled.  Perhaps the insanity would still have prevailed, but it turned out that the Hue comes only with a ‚Äúlarge‚Äù E26 base, and in all my lamps there are ‚Äúsmall‚Äù E14 cartridges.  In addition, a 220 V power supply and an Ethernet cable must be connected to the Philips hub.  In the light bulbs Wi-Fi, of course, no.  Instead, each light bulb has a cheap radio module that communicates with the hub; the hub can already receive commands via Wi-Fi. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      One could have stopped here, but, unfortunately, I remembered the wonderful site aliexpress.com, which sells everything possible, some impossible, as well as a couple of incredible goods.  And of course, the Chinese had smart lamps with an E14 socket.  For the test, I took a set of a hub and one light bulb.  All this happiness cost me 1500 rubles (free delivery). <br><br>  A month has passed.  Russian Post, finally, took my package and did not even lose anything.  With a sinking heart, I pulled out the light bulb itself, the hub and the USB power cable: <br><br><img src="https://habrastorage.org/files/237/dba/ec9/237dbaec967345bf8af90e68ddfcd209.jpg" alt="image"><br><br>  A nice feature of the Chinese device was this particular USB cable.  Hub does not need either 220 V or Ethernet.  Not very pleasant, but tolerable feature was the size of the light bulb.  On the left, the usual LED light bulb, on the right - MiLight: <br><br><img src="https://habrastorage.org/files/0de/c0b/6d8/0dec0b6d82844c7fb99db0b446c1cd44.jpg" alt="image"><br><br>  In my lamp a big light bulb doesn‚Äôt look that bad.  But for someone the size may be important: <br><br><img src="https://habrastorage.org/files/081/38b/de2/08138bde24354e9f902ba7c0759b0c48.jpg" alt="image"><br><br>  After I screwed the light bulb into the lamp, I immediately lit it.  Oddly enough, the bulb lit up: <br><br><img src="https://habrastorage.org/files/2e9/2a8/614/2e92a8614fe64ea6b67b274cbed55960.jpg" alt="image"><br><br>  But further went unobvious manipulations.  I downloaded the MiLight application in appstore and connected the hub to USB.  Merry LEDs lit up, and a new item appeared in the list of Wi-Fi points called ‚Äúmilight- [something there]‚Äù.  In the default mode, the hub raises its access point, and in order to control the bulbs, you need to connect to it in the standard way.  After connecting to the access point, I opened the application and immediately saw my hub.  While everything is clear, and the instruction is not required.  But after selecting a hub, it was not clear.  The application offered me a choice from as many as six control panels: <br><br><img src="https://habrastorage.org/files/bd9/2b1/4ba/bd92b14bad9e4e228100ecc9ca7d19a2.png" alt="image"><br><br>  As a finished engineer, I did not read the instructions, and just poked at all the buttons in all control panels.  Strangely enough, it had absolutely no effect, and the smart lamp continued to burn with indifferent white light.  Not believing in the failure of this reliable method, I poked all the buttons again, with the same zero effect.  I had to google manual on the manufacturer's website.  From the manual, I learned a lot of interesting things.  For example, the fact that the control panel must be selected depending on the type of light bulb.  I bought an RGBW light bulb, so I should use this panel: <br><br><img src="https://habrastorage.org/files/fc1/703/5fc/fc17035fcbdf48e2a3bbb18aed66d4f6.png" alt="image"><br><br>  But to make the panel connect with the smart lamp turned out to be not so easy.  It was necessary to turn off the light, then turn it on again and FAST click on one of the four ‚ÄúI / O‚Äù keys at the bottom of the panel.  The key word here is ‚Äúfast.‚Äù  I managed to make friends with the light bulb only from the fourth time, as I was informed by a triple blink of the test subject. <br><br>  And from that moment everything went fine.  The light bulb can shine with any color from the RGB-spectrum, as well as the usual white light.  The central button switches special modes.  There is a smooth color changing mode;  the epileptic friend mode, when the vigorous colors change at a very high speed;  and also my favorite zombie apocalypse mode.  I liked him so much that I even recorded it on video: <br><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/KDtR6pda-Mo%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700191,15700248,15700253&amp;usg=ALkJrhhJ-Tt8SF13ji2Zfd5HkSVlVmAv_Q" frameborder="0" allowfullscreen=""></iframe><br><br>  Running around the apartment with a crowbar in my hands and a gas mask on my head, I decided to bring the setting to the end.  As you remember, in order to control the lamp, we need to connect to a separate access point.  But the MiLight hub can work in another mode.  It is enough to go to the settings, select an existing Wi-Fi network and enter a password from it, after which the hub will cease to create its own access point and integrates into your network.  After that, you can close the application, connect to your normal network, start the application again, and make sure that everything works.  I checked the performance on the router Asus RT-AC68U.  At the same time, the Mi Light hub connected to the 2.4 GHz network, and the smartphone to the 5 GHz network.  Moreover, the Chinese claim that after such a setup, their application can control the bulbs using MAGIC ‚Ñ¢ even if you are on any other network (Wi-Fi at work or 3G-LTE).  I tried, and I did not succeed.  Perhaps there is also some nuance. <br><br>  So, the first acquaintance with the MiLight light bulb left a very pleasant impression.  First, the Chinese kit costs 8000 p.  Cheaper than Philips counterpart  And secondly, the hub from MiLight does not need power supply of 220 V (which means you can not be afraid that the crappy Chinese electronics burn your apartment) and Ethernet.  As a minus, you can note the absence of any API.  However, this will not stop us: in the next article we will take the device on the android and sniff the traffic between the phone and the hub.  No API?  Well, let's make one!  &gt;:] <br><br>  <b>UPD:</b> Good people gave a link to the API from the manufacturer: <a href="http://www.limitlessled.com/dev">www.limitlessled.com/dev</a> .  I myself have not tested it yet. </div><p>Source: <a href="https://habr.com/ru/post/362845/">https://habr.com/ru/post/362845/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../362835/index.html">Google leases NASA airfield for 60 years</a></li>
<li><a href="../362837/index.html">Timelapse video of the largest spot on the Sun from NASA + video model of the 2005 earth hurricane</a></li>
<li><a href="../362839/index.html">3D printing in microscale</a></li>
<li><a href="../362841/index.html">New beautiful big "Angara"</a></li>
<li><a href="../362843/index.html">Lumia 535 - the first Microsoft Lumia smartphone</a></li>
<li><a href="../362851/index.html">Windows 98 launched on iPhone 6 Plus</a></li>
<li><a href="../362853/index.html">Online translation of sending a probe to the comet Churyumov-Gerasimenko</a></li>
<li><a href="../362855/index.html">How to study the stars?</a></li>
<li><a href="../362857/index.html">10 lessons that I learned after using my smartphone 60 minutes a day</a></li>
<li><a href="../362859/index.html">Belkin and Mr. Coffee will teach "smart" to make coffee</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>