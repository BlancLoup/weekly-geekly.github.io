<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Installing Request Tracker 3.8</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Greetings,% habrauser%! 

 Background: 
 At the moment I am working in a small office, which is engaged in consulting, auditing and IT services. Altho...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Installing Request Tracker 3.8</h1><div class="post__text post__text-html js-mediator-article"> <a href=""><img src="https://habrastorage.org/storage/habraeffect/2a/7c/2a7c7463b3bf3b9782c549219c71e05c.png"></a> <br><br>  Greetings,% habrauser%! <br><br><h5>  Background: </h5><br>  At the moment I am working in a small office, which is engaged in consulting, auditing and IT services.  Although the office is small, the number of clients grew at a fast pace, and it was already very difficult to manage without a normal helpdesk.  Having reviewed a decent list of products, both paid and free, our choice fell on the product of the company <a href="http://bestpractical.com/">BestPractical</a> , which is called a very simple Request Tracker. <br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote>  Request Tracker is an open source enterprise-wide accounting and tracking system for applications that allows you to manage tasks, problems, and external requests from users.  The system is written in Perl object-oriented language.  The system began to be developed from 1996, and is used by system administrators, technical support staff, IT managers, developers, and marketing departments. <br><br>  <a href="http://ru.wikipedia.org/wiki/Request_Tracker">ru.wikipedia.org/wiki/Request_Tracker</a> </blockquote><br>  Was selected by the following criteria <br><br><ul><li>  free (it is possible to use the SaaS model with a monthly fee) </li><li>  cross platform (written in PERL) </li><li>  free GPLv2 license </li><li>  very well documented </li><li>  supports various DBMS (MySQL, PostgreSQL, SQlite, Oracle DB) </li><li>  Integrated RTFM engine (similar to Wiki) </li></ul><br> <a href=""><img src="https://habrastorage.org/storage/habraeffect/94/b9/94b93ffac8b80f75698cbae5d7486b40.png"></a> <br><br> <a href=""><img src="https://habrastorage.org/storage/habraeffect/5f/8b/5f8b6ed4cc598423f9ca216615dfbe4f.png"></a> <br><br> <a href=""><img src="https://habrastorage.org/storage/habraeffect/a5/13/a513769b91e1cbdb503471e155c61219.png"></a> <br><br> <a href=""><img src="https://habrastorage.org/storage/habraeffect/62/a0/62a015d3c864fc3ccb9a2f4c5862a1bf.png"></a> <br><br><br>  The current version is 3.8.8 of May 5, 2010, and now we will install it. <br><br><h5>  Installation: </h5> <br><br>  I use Freebsd 8 branches as an operating system.  As usual, before installing anything, update the ports: <br><br> <code># portsnap fetch update</code> <br> <br>  As a web server, I will use the classic version: apache 2.2 with mod_perl2 (you can use nginx or lighttpd) <br><br> <code># cd /usr/ports/www/apache22 &amp;&amp; make install clean <br> # cd /usr/ports/www/mod_perl2 &amp;&amp; make install clean <br></code> <br><br>  Now install RT 3.8 itself: <br><br> <code># cd /usr/ports/www/rt38 &amp;&amp; make install clean</code> <br> <br>  As a DBMS, I will use MySql 5.1 <br><br> <code># cd /usr/ports/database/mysql51-server &amp;&amp; make install clean</code> <br> <br>  After installation, we register the ability to run applications in /etc/rc.conf <br><br> <code><font color="#000000">apache22_enable="YES" <br> <br> mysql_enable="YES"</font></code> <br> <br>  and now we start <strong>only</strong> mysql-server <br><br> <code># /usr/local/etc/rc.d/mysql-server start</code> <br> <br>  Now we check if all RT dependencies are installed correctly: <br><br> <code># /usr/local/sbin/rt-test-dependencies --with-mysql --with-modperl2</code> <br> <br>  If we see the line ‚ÄúAll dependencies have been found‚Äù at the end, then everything is fine, if not, then configure the CPAN and install the missing dependencies: <br> <code># /usr/bin/perl -MCPAN -e shell <br> # /usr/local/sbin/rt-test-dependencies --with-mysql --with-modperl2 ‚Äìinstall <br></code> <br><br>  With the software figured out, now move on to configuring RT.  RT has two configuration files RT_Config.pm and RT_SiteConfig.pm.  The RT_Config.pm file contains default values ‚Äã‚Äãthat are replaced with the values ‚Äã‚Äãfrom the RT_SiteConfig.pm file.  Therefore, open the RT_SiteConfig.pm file and specify your values ‚Äã‚Äãinstead of the default ones: <br><br> <code><a href=""></a> Set( $rtname, 'Firma'); <br> Set($WebBaseURL , "rt.domen.com"); <br> Set( $WebPath , ""); <br> <br> Set($DataBaseType , 'mysql'); <br> Set($DatabaseHost , 'localhost'); <br> Set($DatabaseRTHost , 'localhost'); <br> Set($DatabaseName , 'rt3'); <br> Set($DatabaseUser, 'rt38'); <br> Set($DatabasePassword , password); <br> Set($Timezone, 'Asia/Sakhalin'); <br> <br> Set($CorrespondAddress, 'support@domen.com); <br> Set($CommentAddress, 'suppport-comment@domen.com); <br> Set($RTAddressRegexp, '^support(-comment)?\@(domen)\.(com)$'); <br> Set($OwnerEmail, 'sergey@domen.com'); <br> <br> Set($AutoCreate, {Privileged =&gt; 1}); <br> Set($NotifyActor, 1); <br> 1; <br></code> <br><br>  Before that, we start a user in mysql and specify his username and password in this file.  Now we initialize the RT database (we initialize from the root, the script itself will give the necessary rights for the user, which we specified in RT_Config.pm): <br><br> <code># rt-setup-database --action init --dba root --prompt-for-dba-password</code> <br> <br>  Assign permissions to configuration files: <br><br> <code># Chown www /usr/local/etc/rt38/RT_Config.pm <br> # Chmod 600 /usr/local/etc/rt38/RT_Config.pm <br> # Chown www /usr/local/etc/rt38/RT_SiteConfig.pm <br> # Chmod 600 /usr/local/etc/rt38/RT_SiteConfig.pm <br></code> <br><br>  In principle, everything is ready to launch RT, but we have one nuance, corporate mail works through Google Apps and the support@domen.com account is there, therefore we need to somehow teach RT to receive mail from Google Apps.  This will help us fetchmail, install: <br><br> <code># cd /usr/ports/mail/fetchmail/ &amp;&amp; make install clean</code> <br> <br>  Since gmail works on an encrypted protocol, we need to slip these fetchmail certificates.  To do this, create a directory for certificates: <br><br> <code># mkdir /usr/local/certs/</code> <br> <br>  Create a file inside this directory: <br><br> <code># touch /usr/local/certs/gmail.pem</code> <br> <br>  And run the script to get a certificate: <br><br> <code><font color="#000000"># openssl s_client -connect pop.gmail.com:995 -showcerts &gt; /usr/local/certs/gmail.pem</font></code> <br> <br>  Edit the resulting file, delete everything before ----- BEGIN CERTIFICATE ----- and everything after ----- END CERTIFICATE ----- Then copy the utility for hashing <br><br> <code># cp /usr/src/crypto/openssl/tools/c_rehash /usr/local/bin/c_rehash <br> # chmod +x /usr/local/bin/c_rehash <br></code> <br><br>  And we perform hashing the certificate: <br><br> <code># c_rehash /usr/local/certs/</code> <br> <br>  Now we need to get a certificate thumbprint and insert it into the fetchmail config <br><br> <code># openssl x509 -in /usr/local/certs/gmail.pem -noout -md5 ‚Äìfingerprint</code> <br> <br>  Fingerprint received, it remains to correct the configuration of fetchmail'a to about this: <br><br> <code><a href="http://ip-address/"></a> defaults       protocol pop3, <br> timeout 60, <br> <br> fetchall <br> <br> set logfile=/var/log/fetchmail <br> <br> poll pop.gmail.com <br> port 995 <br> username support@domen.com <br> password '****' <br> mda "/usr/local/bin/rt-mailgate --url ip-address --action correspond --queue General" <br> ssl <br> sslcertpath /usr/local/certs/ <br> sslfingerprint "6B:**:**:**:**:**:**:**:**:**:**:**:**:**:B6"</code> <br> <br><br><br>  (here is a small digression, fetchmail is started from its user fetchmail, but for some reason, he didn‚Äôt want to work with me, but wrote ‚Äúfetchmail: Cannot switch the user id to 0: Operation not permitted‚Äù in logs, therefore, as a temporary solution to this problem, I started fetchmail as root, which is not good. If someone knows the solution to the problem, I will be very happy to hear) <br><br>  Add to /etc/rc.conf <br><br> <code>fetchmail_enable="YES" <br> <br> fetchmail_user="root"</code> <br> <br>  we create a log file for fetchmail, in fact, it already puts logs in / var / log / maillog but so that they do not mix with the rest <br><br> <code># touch /var/log/fetchmail</code> <br> <br>  and start fetchmail <br><br> <code># /usr/local/etc/rc.d/fetchmail start</code> <br> <br>  By default, fetchmail checks mail every 900 seconds; this can be configured by correcting the start script. <br><br>  It remains to fix the apache config virtual host of the following content and start it <br><br> <code>&lt;VirtualHost *:80&gt; <br> ServerName rt.domen.com <br> ServerAdmin sergey@domen.com <br> DocumentRoot /usr/local/share/rt38/html <br> AddDefaultCharset UTF-8 <br> PerlModule Apache::DBI <br> PerlRequire /usr/local/bin/webmux.pl <br> &lt;Directory /usr/local/share/rt38/html&gt; <br> Order allow,deny <br> Allow from all <br> SetHandler perl-script <br> PerlResponseHandler RT::Mason <br> &lt;/Directory&gt; <br> <br> &lt;Location /NoAuth&gt; <br> Order allow,deny <br> Allow from <strong>IP-ADDRESS</strong> <br> Satisfy any <br> &lt;/Location&gt; <br> <br> &lt;Location /REST/1.0/NoAuth&gt; <br> Order allow,deny <br> Allow from <strong>IP-ADDRESS</strong> <br> Satisfy any <br> &lt;/Location&gt; <br> <br> &lt;/VirtualHost&gt;</code> <br> <br>  We send a letter to <a href="">support@domen.com</a> and go to rt.domen.com and see what we have, the standard login / password is root / password.  If something is wrong, look at the apache and fetchmail logs. <br><br>  This completes the installation of Request Tracker 3.8.  If this topic is interesting, I will continue to write about this system, and in the next article we will look at the setting. <br><br>  PS not much detail painted? </div><p>Source: <a href="https://habr.com/ru/post/112348/">https://habr.com/ru/post/112348/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../112340/index.html">House.gov decided to transfer to Drupal</a></li>
<li><a href="../112341/index.html">Android source code, Java and copyright infringement: continued</a></li>
<li><a href="../112344/index.html">Divorce from the Chinese comrades</a></li>
<li><a href="../112346/index.html">Google Docs removed limit on file size</a></li>
<li><a href="../112347/index.html">A lot of useful pieces for AS3 # 1</a></li>
<li><a href="../112349/index.html">Google Offers rival Groupon</a></li>
<li><a href="../112350/index.html">HTML5 logo: history, details, problems</a></li>
<li><a href="../112357/index.html">UVoiceMe - IP Telephony Gateway Integration Service</a></li>
<li><a href="../112359/index.html">Israeli court also confirmed the legality of the license Creative Commons and condemned its violators</a></li>
<li><a href="../112360/index.html">We draw a Bernstein polynomial for an arbitrary number of reference points.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>