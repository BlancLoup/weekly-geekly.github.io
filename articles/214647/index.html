<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>PHP and various types of NoSQL</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently, various NoSQL databases are gaining popularity. This article began as a study of the features of the graphite graph database Neo4j. But, in ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>PHP and various types of NoSQL</h1><div class="post__text post__text-html js-mediator-article"><br clear="right"><img align="right" src="https://habrastorage.org/getpro/habr/post_images/868/8a1/54e/8688a154e3be178aa518bfd20a33f0c7.png"><br>  Recently, various NoSQL databases are gaining popularity.  This article began as a study of the features of the <s>graphite</s> graph database Neo4j.  But, in the process of selecting information, I wanted to systematize information about NoSQL solutions and graph databases in particular. <br>  In the course of this small study, DBMS that are successfully used in the Web domain were selected for detailed consideration.  And since there is ‚ÄúPHP‚Äù in the tags, I chose a DBMS that can already be used with this language. <br><br><a name="habracut"></a><br><br>  The article turned out to be voluminous, for ease of navigation, I suggest using the table of contents <br><ol><li>  <a href="https://habr.com/ru/post/214647/">NoSQL Types</a> </li><li>  <a href="https://habr.com/ru/post/214647/">Key-value stores</a> <br><ul><li>  <a href="https://habr.com/ru/post/214647/">MemcacheDB</a> </li><li>  <a href="https://habr.com/ru/post/214647/">Redis</a> </li><li>  <a href="https://habr.com/ru/post/214647/">Tarantool</a> </li><li>  <a href="https://habr.com/ru/post/214647/">Riak</a> </li><li>  <a href="https://habr.com/ru/post/214647/">Aerospike</a> </li><li>  <a href="https://habr.com/ru/post/214647/">FoundationDB</a> </li></ul><br></li><li>  <a href="https://habr.com/ru/post/214647/">Bigtable stores</a> <br><ul><li>  <a href="https://habr.com/ru/post/214647/">Hbase</a> </li><li>  <a href="https://habr.com/ru/post/214647/">Hypertable</a> </li><li>  <a href="https://habr.com/ru/post/214647/">Cassandra</a> </li></ul><br></li><li>  <a href="https://habr.com/ru/post/214647/">Graph stores</a> <br><ul><li>  <a href="https://habr.com/ru/post/214647/">Neo4j</a> </li><li>  <a href="https://habr.com/ru/post/214647/">Why only one</a> </li></ul><br></li><li>  <a href="https://habr.com/ru/post/214647/">Document Stores</a> <br><ul><li>  <a href="https://habr.com/ru/post/214647/">MongoDB</a> </li><li>  <a href="https://habr.com/ru/post/214647/">Couchdb</a> </li><li>  <a href="https://habr.com/ru/post/214647/">OrientDB</a> </li></ul><br></li><li>  <a href="https://habr.com/ru/post/214647/">Some conclusions</a> </li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="nosql_types"></a><br><h4>  NoSQL Types </h4><br>  All NoSQL DBMS are divided into several categories: <br><ul><li>  Key-value stores / Key-value stores </li><li>  Column Family (Bigtable) stores / Scalable distributed storage </li><li>  Graph Stores / Graph DBMS </li><li>  Document Stores / Document Oriented DBMS </li></ul><br><br>  The figure below shows schematically the volumes of data used and the complexity of this data in these types of NoSQL. <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/88b/96e/30e/88b96e30e48e05cd0b96fded112bf3c5.png"></div><br><br>  In each section I tried to locate the DBMS in order of increasing functionality.  Perhaps it was somewhat subjective. <br><br>  There are databases that combine several categories, for example, <a href="http://www.orientechnologies.com/orientdb/">OrientDB</a> .  According to the official description of the link above, it is both graph and document-oriented.  Sometimes it is even referred to as Key-value stores and Column Family stores.  More details about it later in the graph DBMS section. <br><br>  Consider each category below: <br><br><a name="kv_stores"></a><br><h4>  Key-value stores / Key-value stores </h4><br>  Key-value stores are the very direction in which NoSQL solutions show their superiority over SQL. <br>  And many consider this direction to be the most popular in the short and long term. <br>  <a href="http://habrahabr.ru/company/jelastic/blog/166845/">For</a> example, the author of the original version of an open MySQL database, Michael Widenius, thinks so. <br>  Key-value NoSQL is very popular and they are developing quickly and well, apparently because of their large number and strong competition.  The largest number of NoSQL databases that were studied in the process of writing the article related precisely to key-value stores. <br><br>  On Habr√© there is an article about <a href="http://habrahabr.ru/post/55077/">key-value repositories for PHP</a> , with which I do not fully agree.  The general selection of the repositories represented in it (Voldemort, Scalaris, MemcacheDB, ThruDB, CouchDB) seemed to me not so relevant after almost five years that have passed since the publication of the article.  And the CouchDB described there is not a key-value store at all, but a document-oriented DBMS (see the <a href="https://habr.com/ru/post/214647/">section about document-oriented DBMS</a> ). <br><br><a name="kv_memcdb"></a><br><h6>  MemcacheDB </h6><br>  <b>Description</b> : the same memcached, only with a BerkeleyDB background. <br>  <b>Performance</b> : the developers presented <a href="http://memcachedb.org/benchmark.html">test results</a> , according to the results of which the average performance in one thread is 18868 w / s (write operations per second) and 44444 r / s (read operations per second).  Tested on the server Dell 2950III, which even in the weakest configuration is a non-sickly <a href="http://www1.euro.dell.com/content/topics/topic.aspx/emea/topics/solutions/ru/2950_landing%3Fc%3Dru%26l%3Dru%26cs%3Drubsdc">device</a> . <br>  <b>Installation</b> : everything <a href="http://memcachedb.googlecode.com/svn/trunk/INSTALL">is collected</a> from source.  In PHP, we use the usual Memcached from PECL. <br>  <b>License</b> : <i>BSD-like License</i> - free for commercial and non-commercial projects. <br><br><a name="kv_rds"></a><br><h6>  Redis </h6><br>  <b>Description</b> : On Habr√© there is an <a href="http://habrahabr.ru/post/64917/">introductory article</a> with a <s>blackjack</s> benchmark and links.  There are transactions ( <a href="http://habrahabr.ru/post/165223/">about them</a> ) and replication.  On the approach is version 3.0, in which Redis-Cluster will appear and significantly increase its speed.  There is a nice interactive <a href="http://try.redis.io/">tutor</a> . <br>  <b>Productivity</b> : ~ 110.000 w / s, ~ 81.000 r / s on the middle gland. <br>  <b>Installation</b> : Redis and the client for PHP are recommended to be collected from source codes.  There are quite a few clients ( <a href="http://redis.io/clients">list</a> ), I would recommend <a href="https://github.com/nicolasff/phpredis">phpredis</a> from myself for a good description and support of all (or almost all) existing Redis functionality. <br>  <b>License</b> : <i>BSD license</i> - everything is free, but if something breaks, then no complaints about the developers. <br><br><a name="kv_ttl"></a><br><h6>  Tarantool </h6><br>  <b>Description</b> : In-memory repository.  Opposed to Redis, which differs, according to developers, increased speed, due to the fact that all data are in memory.  There is a built-in queue mechanism.  There are good <a href="http://habrahabr.ru/post/113298/">habrostaty</a> , describing the main features. <br>  <b>Installation</b> : on Ubuntu is <b>installed</b> using apt-get and droplets of magic (the <a href="http://tarantool.org/download.html">official page</a> ), the client for PHP is assembled from sources ( <a href="https://github.com/tarantool/tarantool-php">github</a> ) <br>  <b>Performance</b> : at the level with Redis, the test results are contradictory: <a href="http://kostja-osipov.livejournal.com/38842.html">Tarantool is faster than Redis with its developer</a> , <a href="http://www.slideshare.net/profyclub_ru/12-redis-tarantool">Tarantool at the level with Redis for an ordinary person</a> <br>  <b>License</b> : <i>Simplified BSD</i> - all for free. <br><br><a name="kv_rk"></a><br><h6>  Riak </h6><br>  <b>Description</b> : A database with a strong focus on fault tolerance and distribution.  This emphasis is so strong that the development company recommends allocating at least five servers to Riak in order to be able to evaluate its capabilities.  At first glance, this is a key-value repository, but there is a search in all fields, secondary keys, MapReduce.  No transactions.  Detailed and thorough <a href="http://habrahabr.ru/post/75202/">habrostatya</a> . <br>  <b>Installation</b> : <a href="http://docs.basho.com/riak/latest/ops/building/installing/">many ways</a> up to installation from packages for Debian / Ubuntu.  For PHP, there is a PECL package, as well as the official <a href="https://github.com/basho/riak-php-client/">PHP-client</a> . <br>  <b>Performance</b> : it is not given the most important place, but there are <a href="http://docs.basho.com/riak/1.4.0/references/appendices/Java-Client-Benchmark/">references</a> to 2,500 operations per second. <br>  <b>License</b> : <i>Apache 2 License</i> is free for ordinary people, but for commercial use, prices for one copy of Riak Enterprise start at $ 2,800 / year. <br><br><a name="kv_asp"></a><br><h6>  Aerospike </h6><br>  <b>Description</b> : Scalable storage for huge amounts of data with minimal latency.  Transactions by default, ACID support is allocated a separate <a href="http://www.aerospike.com/acid/">page</a> .  In version 3, secondary indexes appeared.  The amount of proprietary scaling, replication, and clustering technologies is impressive ( <a href="http://www.aerospike.com/architecture/">link</a> ).  For myself, this system is remembered as a powerful industrial Memcached. <br>  <b>Installation</b> : Aerospike is installed from the distribution, the <a href="https://docs.aerospike.com/display/AS2/PHP%2BClient">official client for PHP</a> exists only for Aerospike2, it is built from source. <br>  <b>Performance</b> : declared speed from 180,000 to 400,000 operations per second with a delay in microseconds ( <a href="http://www.aerospike.com/news/new-ycsb-benchmark-from-thumbtack-technology-reveals-a-nearly-10x-performance-advantage-for-aerospike/">source</a> ). <br>  <b>License</b> : <br><ul><li>  <i>Community Edition</i> is a free version with limitations: a maximum of two servers with 200GB of data on each; </li><li>  <i>Enterprise Edition</i> - 30 days trial, no restrictions.  <a href="http://www.dbms2.com/2013/08/17/aerospike-3/">According to rumors</a> , the cost ranges from $ 50,000 per data center. </li></ul><br><br><a name="kv_fdb"></a><br><h6>  FoundationDB </h6><br>  <b>Description</b> : It is positioned as a comprehensive and simplest solution to install and configure.  Easy scalability, easy management are the keywords that catch on.  Users are offered "uncompromised ACID transactions."  Ability to use different data models - key / value, document, and even SQL.  This DBMS seemed to me especially interesting when I read about its performance. <br>  <b>Productivity</b> : <b>3,750,000 r / s <sup>*</sup></b> .  <sup>*</sup> Reading random records from RAM (cache).  There are many interesting tests on the official website in the <a href="https://foundationdb.com/performance">performance</a> section, the ‚Äúslowest‚Äù of which shows the result of ~ <b>235,000</b> operations per second (50/50 read and write operations).  Delay reading less than 2ms, commit delay less than 15ms.  The results were obtained on a cluster of 24 machines, each with 16Gb RAM, 2x200Gb SSD, the test database consisted of 2 million key-value records, all operations were transactional with the maximum isolation level and triple replication. <br>  <b>Installation</b> : and everything is simple: DEB-package for Ubuntu, PEAR-package for PHP. <br>  <b>License</b> : <br><ul><li>  <i>Community License</i> is free to use.  There are no restrictions on development and testing, but a maximum of 6 running processes in production, i.e.  one process on six servers, two for three, etc .; </li><li>  <i>Enterprise License</i> - no limit, from $ 99 to $ 199, depending on the quality of support. </li></ul><br><br>  Some interesting projects were not included in this list due to the lack of PHP support.  The projects <a href="http://www.project-voldemort.com/voldemort/">Voldemort</a> , <a href="http://code.google.com/p/scalaris/">Scalaris</a> , <a href="http://code.google.com/p/thrudb/">ThruDB</a> were also not included.  Due to poor performance, or poor documentation, and due to the fact that since 2009 nothing has changed for the better. <br><hr><br><br><a name="big_stores"></a><br><h4>  Column Family (Bigtable) stores / Scalable distributed storage </h4><br>  The stores presented in this section are mainly designed based on the design of the original Google Bigtable. <br>  The main feature of these NoSQL is working with data, whose volumes are measured in terabytes. <br>  Here, the instant access speed is not so important, where a greater emphasis is placed on distribution, fault tolerance and the ability to process huge amounts of information. <br><br><a name="bs_hb"></a><br><h6>  Hbase </h6><br>  <b>Description</b> : Open Source development based on the original Google Apache Bigtable design.  Developed through the Hadoop project.  Used by Facebook itself as the basis of the messaging service.  For HBase, the selection is made on a single indexed field.  There is partial support for ACID, it turns out that the <a href="http://hbase.apache.org/acid-semantics.html">transaction seems to be there</a> , but it is not supported in the most obvious way. <br>  <b>Installation</b> : installed using a magic pill named Thrift, the installation and use process is well described in <a href="http://habrahabr.ru/post/123560/">this habrostate</a> . <br>  <b>Performance</b> : <a href="http://lib.custis.ru/Apache_Hadoop_%2528%25D0%2592%25D0%25BB%25D0%25B0%25D0%25B4%25D0%25B8%25D0%25BC%25D0%25B8%25D1%2580_%25D0%259A%25D0%25BB%25D0%25B8%25D0%25BC%25D0%25BE%25D0%25BD%25D1%2582%25D0%25BE%25D0%25B2%25D0%25B8%25D1%2587_%25D0%25BD%25D0%25B0_ADD-2010%2529">field tests</a> with an unusual method of measuring performance: on a cluster of 7 servers (16Gb RAM, 8x core CPU, HDD) operations were performed in a table with 3 billion records.  300 read / write processes were launched simultaneously, the time spent on the operation was measured.  As a result, the average write time was <b>10ms</b> , reading - <b>18ms</b> . <br>  <b>License</b> : <i>Apache License 2.0</i> - use for any purpose for free. <br><br><a name="bs_ht"></a><br><h6>  Hypertable </h6><br>  <b>Description</b> : An interesting development, similar to HBase.  It has a little more performance and much more familiar with the syntax of HQL queries.  Request example: <br><pre><code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> QueryLogByUserID <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> <span class="hljs-keyword"><span class="hljs-keyword">row</span></span> =^ <span class="hljs-string"><span class="hljs-string">'003269359'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> <span class="hljs-string"><span class="hljs-string">"2008-11-13 05:00:00"</span></span> &lt;= <span class="hljs-built_in"><span class="hljs-built_in">TIMESTAMP</span></span> &lt; <span class="hljs-string"><span class="hljs-string">"2008-11-13 06:00:00"</span></span></code> </pre> <br>  There are no transactions, which is clearly stated in the first lines of the documentation on the official website. <br>  <b>Installation</b> : connect with PHP using Thrift and the official ThriftClient ( <a href="https://github.com/hypertable/hypertable/tree/master/src/php/ThriftClient">github</a> ). <br>  <b>Performance</b> : <a href="http://hypertable.com/why_hypertable/hypertable_vs_hbase_2/">several graphs</a> on the official site.  As mentioned above, performance is similar to HBase. <br>  <b>License</b> : <i>GNU General Public License Version 3.</i> - use for any purpose for free.  24/7 support is available at an additional cost. <br><br><a name="bs_cs"></a><br><h6>  Cassandra </h6><br>  <b>Description</b> : Distributed storage, originally developed on Facebook, subsequently transferred to Apache.  Unlike the above, Cassandra is a distributed decentralized hash table (DHT) and is based on Amazon's Dynamo.  It has a CQL query language, very similar to SQL with some limitations.  You can build queries with a selection of several columns, add secondary indexes.  In version 2.0, there are "transactions" that operate on the principle of "compare-and-swap". <br><br>  The syntax of the transaction request will be noticeably like this: <br><ul><li>  Adding record <pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">users</span></span> (login, email, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, login_count) <span class="hljs-keyword"><span class="hljs-keyword">values</span></span> (<span class="hljs-string"><span class="hljs-string">'jbellis'</span></span>, <span class="hljs-string"><span class="hljs-string">'jbellis@datastax.com'</span></span>, <span class="hljs-string"><span class="hljs-string">'Jonathan Ellis'</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">EXISTS</span></span></code> </pre></li><li>  Record Update <pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">users</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> reset_token = <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">password</span></span> = <span class="hljs-string"><span class="hljs-string">'newpassword'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> login = <span class="hljs-string"><span class="hljs-string">'jbellis'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> reset_token = <span class="hljs-string"><span class="hljs-string">'some-generated-reset-token'</span></span></code> </pre></li></ul><br><br>  <b>Installation</b> : There are several ways to establish interaction between PHP and Cassandra (same Trift, Cassandra-PHP-Client-Library, <a href="https://code.google.com/a/apache-extras.org/p/cassandra-pdo/">cassandra-pdo</a> ).  The last option seemed to me the most pleasant. <br>  <b>Performance</b> : good <a href="http://planetcassandra.org/nosql-performance-benchmarks/">comparative tests</a> with graphs, the results of which, on 8 servers with a ratio of 50/50 read / write operations, Cassandra performs about 9,000 operations per second.  HBase makes about 2,500 under the same conditions. <br>  <b>License</b> : <i>Apache License 2.0</i> - use for any purpose for free. <br><br>  There are other BigTable solutions, for example, <a href="http://stratosphere.eu/">Stratosphere</a> , <a href="http://hpccsystems.com/">HPCC</a> , <a href="http://www.cloudera.com/content/cloudera/en/home.html">Cloudera</a> , <a href="http://www.cloudata.org/">Cloudata</a> .  They are not reviewed in detail for various reasons, for example: lack of PHP support, low prevalence, poor documentation. <br><hr><br><br><a name="graph_stores"></a><br><h4>  Graph Stores / Graph DBMS </h4><br><br>  It was for them that this article was started.  Recently, I discovered NoSQL graph as a new version of the data storage structure and was pleased a lot, because in a number of projects the basic graph DBMS functionality had to be implemented using the not very simple MySQL queries. <br><br>  In a graphical DBMS, the structure of the stored data may look like this: <br><div style="text-align:center;"><img src="//habrastorage.org/files/c31/2eb/3f4/c312eb3f45c94b08b0f520353dd2a51d.png"></div><br>  If you add all the films to the graphical DBMS and associate with each of the actors acting in it, you can easily find <pre> <code class="bash hljs">,    ,  -     <span class="hljs-string"><span class="hljs-string">""</span></span>,        <span class="hljs-string"><span class="hljs-string">"  "</span></span></code> </pre><br><br><a name="g_neo"></a><br><h6>  Neo4j </h6><br>  <b>Description</b> : the most successful and sought-after development in the field of graphical DBMS.  It fully supports ACID.  Just installed and effortlessly scaled.  She has already developed a developed community, you can quickly find answers to most of the emerging issues.  You can read about its capabilities in conjunction with PHP in this <a href="http://habrahabr.ru/post/152079/">article</a> . <br>  <b>Installation</b> : <b>installed</b> from your repository, <a href="https://github.com/jadell/neo4jphp">Neo4jPHP client is</a> used for PHP <br>  <b>Performance</b> : in view of the specific nature, it seemed strange to me to give specific read / write speeds.  It allows you to select hard data and makes it many times faster than relational DBMS. <br>  <b>License</b> : <br><ul><li>  <i>Community Edition</i> - GPL-licensed open source, free use </li><li>  <i>Commercial Subscription</i> - we have high-performance cache, enhanced horizontal scaling capabilities, support, and some more buns.  The cost varies from $ 0 (if you are a startup of three people with an annual project turnover of less than $ 100,000) to infinity (for very large companies) </li></ul><br><br><a name="g_oth"></a><br>  In this section, I described only one DBMS, and its most interesting competitor, OrientDB, is below.  As it turned out, there are so many graph databases for the Web and for PHP in particular. <br>  There is also <a href="http://thinkaurelius.github.io/titan/">Titan</a> , which uses HBase, BerkleyDB or Cassandra as the back-end.  There is not a lot of information on this miracle; there are even fewer ways to make friends with PHP. <br>  It is worth remembering about <a href="https://github.com/twitter/flockdb">FlockDB</a> from Twitter, which can be connected to php using <a href="https://github.com/tenorviol/phlockdb-client">a</a> Thirt client.  But, again, due to the small amount of information about this DBMS, it is difficult to form a complete and objective opinion about it. <br><hr><br><br><a name="doc_stores"></a><br><h4>  Document Stores / Document Storage </h4><br>  In this section, we consider document-oriented storages - DBMS for hierarchical data structures.  These storages are universal: they have high read / write speeds, have a flexible approach to the formats of stored data, easily work with unstructured data and provide ample opportunities for scaling. <br><br><a name="d_mdb"></a><br><h6>  MongoDB </h6><br>  <b>Description</b> : Perhaps the most popular document-oriented NoSQL DBMS.  Data is stored in JSON / BSON format.  Good scaling, replication, indexes, Map-Reduce.  Transactions are represented as compare-and-swap. <br>  <b>Installation</b> : MongoDB from repository, php-client from PECL. <br>  <b>Performance</b> : a little higher were the <a href="http://planetcassandra.org/nosql-performance-benchmarks/">comparative tests</a> , in which there were results on MongoDB. <br>  <b>License</b> : <i>GNU AGPL</i> - open source, free use. <br><br><a name="d_cdb"></a><br><h6>  Couchdb </h6><br>  <b>Description</b> : Apache development.  In many ways similar to MongoDB.  It is distinguished by the absence of blocking during reading operations, and by the more complicated sharding technology. <br>  <b>Installation</b> : CouchDB from the repository, for php client there are several options (PHPillow, PHP Object Freezer, PHP-on-Couch, extension from PECL). <br>  <b>Performance</b> : according to the results of <a href="http://www.kchodorow.com/blog/2009/06/29/couchdb-vs-mongodb-benchmark/">one test</a> , it is noticeably slower than MongoDB <br>  <b>License</b> : <i>Apache 2.0</i> - use for free. <br><br>  There are many more developments in this area, but they seemed to me very monotonous.  Although, perhaps, I just did not study them deeply enough. <br><br><a name="d_odb"></a><br><h6>  OrientDB </h6><br>  <b>Description</b> : document-oriented and, at the same time, graphical DBMS. <br><br>  Its closest competitor as document-oriented is MongoDB.  A <a href="http://www.orientechnologies.com/orientdb-vs-mongodb/">separate page is</a> devoted to this comparison. <br>  The main advantages of OrientDB: <br><ul><li>  full ACID support </li><li>  the ability to use foreign keys in documents (as well as in relational DBMS) </li><li>  Three types of indexes used (SB-Tree, Hash, MVRB-Tree) vs. B-Tree in MongoDB </li><li>  high performance (OrientDB performs 150.000 w / s on regular hardware) </li><li>  simple query language similar to SQL </li></ul><br>  Separately, I want to note the query language, compare what identical update-queries look like: <br><ul><li>  MongoDB <pre> <code class="javascript hljs">db.product.update( { ‚Äústock.qty‚Äù: { <span class="hljs-attr"><span class="hljs-attr">$gt</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">$set</span></span>: { <span class="hljs-attr"><span class="hljs-attr">price</span></span>: <span class="hljs-number"><span class="hljs-number">9.99</span></span> } } )</code> </pre></li><li>  OrientDB <pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> product <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> price = <span class="hljs-number"><span class="hljs-number">9.99</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> stock.qty &gt; <span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre></li></ul><br>  Its main competitor as a graph is Neo4j.  And I must say that mastering graph capabilities in OrientDB is much more complicated than in Neo4j.  The first ideas about this can be obtained in <a href="http://odino.org/graph-in-php-through-orientdb/">this article</a> . <br>  <b>Installation</b> : with installation, you need to do some work, here is a completely <a href="https://www.digitalocean.com/community/articles/how-to-install-and-use-orientdb-on-an-ubuntu-12-04-vps">working manual</a> , and <a href="https://github.com/AntonTerekhov/OrientDB-PHP">this library</a> is recommended as a PHP client. <br>  <b>Performance</b> : promise <b>150.000 w / s</b> , there is also a <a href="https://github.com/orientechnologies/orientdb/wiki/GraphDB-Comparison">comparison of graph DBMS</a> <br>  <b>License</b> : <br><ul><li>  <i>Community Edition</i> - Apache 2 license open source, free to use for any purpose, including commercial </li><li>  <i>Enterprise Edition</i> - extended support and such buns as Query Profiler, Metrics recording, Live Monitor with configurable alerts for ¬£ 1,000 for the first server and ¬£ 500 for each subsequent server.  For startups twice cheaper. </li></ul><br><br><a name="conclusion"></a><br><h4>  Some conclusions </h4><br>  In the course of writing the article, I found a lot of interesting useful and useful information, and I am glad to share it with habrovchanami. <br><br>  I really liked such solutions as FoundationDB, Neo4j, OrientDB.  I would like to devote each of them a separate article. <br><br>  In conclusion, I would like to share a fun picture that helps you quickly choose a NoSQL solution for your project.  I saw the picture in <a href="https://habrahabr.ru/users/4dmonster/" class="user_link">4dmonster's</a> comments, for which he thanks. <br><div style="text-align:center;"><img src="http://habrastorage.org/storage2/e88/af4/a11/e88af4a119747125a01d8bde38f632dc.jpg" alt="image"></div></div><p>Source: <a href="https://habr.com/ru/post/214647/">https://habr.com/ru/post/214647/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../214635/index.html">Recognition from a non-standard microphone</a></li>
<li><a href="../214637/index.html">Creating custom UIActivity for publishing photos and text on the social network VKontakte</a></li>
<li><a href="../214639/index.html">Online compiler for ASP.Net MVC</a></li>
<li><a href="../214643/index.html">Aggregates of multidimensional OLAP cubes in RAM</a></li>
<li><a href="../214645/index.html">Magento Enterprise: What is Full Page Cache and why is it needed?</a></li>
<li><a href="../214649/index.html">Up! Plus 2. Overview: unpacking, calibration, analysis and first print</a></li>
<li><a href="../214651/index.html">Testing on the 1C: Enterprise 8 platform</a></li>
<li><a href="../214653/index.html">As we Russian firms investigated</a></li>
<li><a href="../214655/index.html">Sports robotics: an interview with a member of RobotChallenge 2014</a></li>
<li><a href="../214657/index.html">Facebook is going to cover Africa with a network of "atmospheric satellites"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>