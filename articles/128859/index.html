<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Development of the flash game "King of the rocks"</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="After reading a few articles about how our compatriots make flash games, and even make good money on this, I decided to make my own game. And by all m...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Development of the flash game "King of the rocks"</h1><div class="post__text post__text-html js-mediator-article">  After reading a few articles about how our compatriots make flash games, and even make good money on this, I decided to make my own game.  And by all means to earn from its sale at least $ 1000.  Success in this matter meant a lot to me.  All my life I wanted to make games and now I was ready and confident in the success of 100%.  This is the story of the development of my first <b>King of the Rocks</b> flash game. <br><br><img src="https://habrastorage.org/storage1/99b53954/21fee125/ae0bc7b5/c59cc5b3.jpg"><br><a name="habracut"></a><br><br><h4>  The idea for the game. </h4><br>  It's all pretty simple.  I chose an idea that I could have implemented myself without help, so that I did not have to stumble at every step and the development did not turn into hard labor and long-term construction.  Before that, I had already started making games more than once, and each time I didn‚Äôt get things done.  Therefore, after analyzing the previous experience, I changed the strategy and decided that it was necessary to create a finished product at all costs.  That is, I decided to do the game not for the sake of the process, as is often the case, when engaging in the process you lick the graphics and code, but for the result, which can be submitted exactly as a finished product, and not as a handicraft.  Therefore, I didn‚Äôt come up with anything complicated and decided to just make an analog of a thread of flash games.  One of the games I liked at the time was called <a href="http://www.elite-games.net/games/247/elite-forces-clone-wars.html">Elite Forces: Clone Wars</a> , which was made famous by many <a href="http://habrahabr.ru/users/mrbadim/" class="user_link">mrBadim</a> .  Looking at the mechanics, I realized that I could fully implement such a gameplay.  In addition, such games are extremely small and one more just will not be superfluous. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Now it was necessary to think about the appearance.  I never liked the view from above, but doing something in isometric is difficult, so without much thought I stopped at the side view.  In addition, the side view allows you to more spatially show levels, because you can put a lot of things on the background and thereby create a sense of depth.  So with a look too was defined quickly. <br><br>  It also had to come up with who will fight with whom and where the action of the game will take place.  The first sketches were not long in coming.  I immediately decided that these would be flying objects, because the troops would move only in a straight line and no curved routes would be allowed.  The castles themselves will be located on the tops of the cliffs, which cannot be reached by any other means except by air.  Some rocks will hang in the air.  Each rock will be a separate object to use them more than once.  And it will happen high among the clouds.  Clouds are not difficult to draw, an extraordinary background is drawn once and used for all levels, there is space, and some kind of romance appears at once, it's a sin not to use all the advantages. <br><br>  There will be three parties competing for possession of locks and domination in the territory, differing mainly in colors.  Initially, I wanted these sailing ships to be flying, but then I didn‚Äôt know how to mirror an object in the opposite direction ( <em>scaleX</em> ) and therefore decided to use balloons, it‚Äôs not necessary to deploy them at all. <br><br><img src="https://habrastorage.org/storage1/3a2d1f87/c5589558/1c80c315/9b43c723.jpg"><br><br>  The general concept in the form of a pencil sketch was before my eyes and now that I imagined the approximate amount of work needed to decide on the time frame.  Since I came to the solution of the problem strategically, it was also very important to limit the time for the execution of each task.  This restriction played a dual role: <br><br><ol><li>  Self discipline.  You can not sit too long over honing the details, carried away by this process, you can completely forget about time.  Each object has its own time for drawing and it‚Äôs impossible to spend more time on a small simple object than on a more complex one. </li><li>  If I sell the game, then it is important that the time spent on development is paid off.  Develop a game a month and earn $ 500 from selling it. Interest is not big. </li></ol><br>  During the analysis of the required amount of work, I estimated the approximate time to draw each object and then summed up the clock.  Time, of course, took to the maximum and added on top for any unforeseen situations.  I also counted time for sleep, food, rest and it turned out about 10 days.  Well, I think with special endeavors you can do it in 7 days and therefore gave yourself a weekly period for everything. <br><br>  Boil work.  I put myself in a rigid framework and I even liked it.  I felt a certain satisfaction that I kept myself in tight rein and did not give myself a descent.  I had a clear plan of action, all the tasks were in order, each time had its own time.  If I did not have time and spent more time than planned, then I would do the next task at double speed to catch up.  Of course, everything could not go as originally planned.  In the process there were new tasks and difficulties about which I did not suspect when drawing up a general plan. <br><br>  I wrote down all the appearing tasks also in order by a numbered list on separate sheets, and each such sheet was a sub-plan.  Major tasks were also divided into subtasks that were recorded in order on a separate sheet.  Upon completion, the task was deleted from the list.  Later I noticed that the formation of such lists also plays an important role.  Tasks recorded on paper, and not in my head are not forgotten.  In addition, deleting or marking a task as completed has a psychological meaning.  Looking at the lists of solved problems, progress is visible.  Every evening I took in hands sheets with crossed out tasks, looked through them and sometimes was amazed how much I could do in such a short period of time.  This is a great feeling. I was very proud of myself. <br><br><h4>  Balls. </h4><br><img src="https://habrastorage.org/storage1/98aeedda/39ac23a5/bd696c02/4733c4f3.jpg"><br><br>  I started with drawing units.  At first it should have been sailing ships, but I refused them.  The reason I described above.  In addition, the sailboat is still more cumbersome and has more details.  I would not want it when the ships began to fly across the screen porridge of them created confusion.  Balls are still easier to perceive, they are more holistic object.  Nevertheless, I still threw a few sketches of sailing ships, so that there was no doubt. <br><br><img src="https://habrastorage.org/storage1/5c8e0949/9bc3c69b/fee4b70f/a853779d.png"><br><br>  <i>such here, unpretentious balls</i> <br><br><h4>  Islands and castles </h4><br>  The islands were made in parallel with the castles.  Locks needed to be drawn so that they visually sat tight on the rocks.  For this, below the base of the castles, I added small trees, they hid flaws.  Accordingly, the size and shape of the rocks were adjusted to the base of the locks.  All objects are drawn in the vector, so that later there were no problems with scaling. <br><br>  For a change and expansion of the already known gameplay, I came up with 3 types of locks: <br><br><img src="https://habrastorage.org/storage1/3331c6d6/33a722b3/84401681/23c573ba.jpg"><br><br><ol><li>  <em>A colony is the</em> main type of locks that generates the bulk of the troops.  The higher the level of the castle, the faster the troops are generated in it.  Can be upgraded to level 10. </li><li>  <em>Academy -</em> balls sent from this building have a much higher speed of movement.  The higher the level of this building, the higher the speed of the balls departing from there.  Can be upgraded to level 5. </li><li>  <em>Mill</em> - every second brings one $ for each warrior inside.  If there are 20 balls inside, it means the mill brings in $ 20 each second.  To receive money from the mills, you can improve all your locks.  As soon as a sufficient amount appears for an upgrade of a lock, an ‚ÄúUP‚Äù arrow appears above it.  The mill can be improved to level 5. </li></ol><img src="https://habrastorage.org/storage1/9a3ae107/76a7c534/5ca14523/e1862a42.jpg"><br><br><img src="https://habrastorage.org/storage1/ad7d6d85/066e5a05/155678e2/3c57b98d.png"><br><br>  <i>10 levels of the colony, and 5 levels per academy and mill</i> <br><br><img src="https://habrastorage.org/storage1/a9d0a41b/908465e4/47ac5b80/23a4241e.jpg"><br><br>  <i>Well, the rocks are even nothing such turned out</i> <br><br><h4>  Clouds </h4><br>  Clouds as well as rocks are needed to compile locations from them.  Create an atmosphere and give the picture depth.  I made more varieties. <br><br><img src="https://habrastorage.org/storage1/cf470574/23cb1d85/7d00b5fd/99d5a75d.jpg"><br><br>  <i>made it darker so as not to blend in with the background of the page</i> <br><br>
<h4>  Interface and its elements. </h4><br><br><img src="https://habrastorage.org/storage1/917e8645/8c9c2cf6/dbea93a2/3b8f4deb.jpg"><br><br>  <i>thumbnail sketch</i> <br><br>  My friend and advanced designer <a href="http://www.free-lance.ru/users/EL_Sopuro">Alexander</a> helped me with the interface.  I asked him to somehow arrange the menu and buttons, choose the font, make some thread frame.  I did the rest of the interface elements myself.  There is nothing ordinary in the interface as you can see. <br><br><img src="https://habrastorage.org/storage1/99b53954/21fee125/ae0bc7b5/c59cc5b3.jpg"><br><br><img src="https://habrastorage.org/storage1/bf1a59b4/92edaee3/40e7b964/43b0af47.jpg"><br><br>  <i>from sketch to implementation</i> <br><br><h4>  Instructions. </h4><br><br><img src="https://habrastorage.org/storage1/5f4e69b5/9dbf7662/fe2213ef/69d82100.jpg"><br><br>  <i>it looked like sketches</i> <br><br>  You could probably have been on them and not bother, but I still decided to do everything as planned.  They didn‚Äôt take much time away from me, all the same the style had already been worked out.  More time spent on the correct translation of the contents of the instructions.  Friends also helped with the translation.  As a result, these are the pictures.  Full-size options can be found in the game by clicking "How to play" in the main menu. <br><br><img src="https://habrastorage.org/storage1/422cd1a3/6ff615ee/3691f7f4/33a94172.jpg"><br><br>  <i>I admit I know English badly and my friends are amazed how I manage to communicate with sponsors and agree on something in general.</i>  <i>Nevertheless, I do not worry and usually correspond with sponsors on my own.</i>  <i>I ask friends to help me only when I want to be understood correctly, or I cannot formulate a phrase.</i> <br><br><h4>  Programming </h4><br>  As I said, the gameplay is not tricky and there are no complicated calculations here.  I will describe only how the levels and operation of the computer are arranged. <br><br>  Each level is one frame in the timeline.  In each frame on the lower layer is placed the background, mountains and clouds so that a solid picture is formed.  Mountains and clouds are simply graphic objects such as graphics.  But the castles are already MovieClips, representatives of the Castle class.  Locks are placed in the frame on top of the formed background on top of the rocks and each castle is assigned an instance name.  In the same frame, the script adds the addition of each lock named instance to the Castles array.  The game has a global Castles array which is cleared before each level is launched and is filled with links to the locks placed in the current frame.  After that, level processing starts.  Thus all the necessary information about the level is stored right in the frame. <br><br>  The brain of the computer was pretty simple.  There are 2 opponents in the game: yellow and red.  At the beginning of each level, the frequency of calculation and decision-making is set separately for the yellow computer and separately for the red computer, for example, once a second.  Every time when the time is right the computer calculates the most profitable goal for itself.  This goal is determined depending on the distance to the enemy castle, the number of units in it, the level of the castle, etc.  All these values ‚Äã‚Äãare expressed by coefficients and the computer simply multiplies them and writes the resulting net into an array.  The number of elements in the array is equal to the number of locks.  Each element of the array is a regular number indicating the effectiveness of the attack on the castle.  The lower the number, the more advantageous the target for the attack.  We are looking for the smallest value in the array and the index of its element will correspond to the index of the weakest or most advantageous castle to attack.  After that just send the balls there.  That's all the work of the computer. <br><br><h4>  Music and sounds. </h4><br>  He did not write music himself.  With this, I puzzled my friend, the <a href="http://habrahabr.ru/users/proxiper/" class="user_link">proxiper</a> composer.  For several days he wrote a background theme, and also picked up the necessary sounds.  The background theme consists of two parts.  First, the intro starts and the listener for the end of playback event is set to it.  When this event is triggered, a looped topic is triggered. <br><br><h4>  Beta test. </h4><br>  Beta test as it should be supposed to search for bugs.  There were not many bugs, there was nothing special about bugging, but it was worth working on the level balance.  In the end, after several passes of the game with different settings, I selected the optimal, in my opinion, parameters.  Of course, it was possible to correct a lot of things, but the time allotted for development was already running out and therefore I simply scored some shortcomings.  Moreover, they were very insignificant and had little effect on the gameplay. <br><br><h4>  Register on FlashGameLicense and search for a sponsor. </h4><br>  Selling the game to a sponsor was the reason why this experiment was ultimately carried out.  It was terribly interesting how much they would offer for this work and whether they would offer anything at all.  I admit, I did not doubt at all that they would give more than $ 2000 per game, although my friends who followed the engine at the auction with me initially thought that $ 1000 was the ceiling.  I asked <a href="http://habrahabr.ru/users/mrbadim/" class="user_link">mrBadim</a> to make the first bet so that the game moved from meta and other sponsors began to interrupt his bet.  Thus, trading began with $ 300.  Below is the log of proposals: <br><br>  &gt; 2010-03-26 09:52:14 jaludo_s <strong>$ 3000.00</strong> primary FGL [reentering bid to correct log in our system] Accepted <br>  2010-03-05 18:14:41 jaludo_s <strong>$ 3000.00</strong> primary Intro <br>  2010-03-04 09:31:38 Gimme5Games <strong>$ 2000.00</strong> primary Require: Sponsor logo, links, hi-score API <br>  2010-03-04 07:56:48 SpilGames_Martine <strong>$ 1900.00</strong> primary Branding + API integration <br>  2010-03-03 10:42:11 Gimme5Games <strong>$ 1800.00</strong> primary Require: Sponsor logo, links, hi-score API <br>  2010-03-03 08:50:33 SpilGames_Martine <strong>$</strong> 1750.00 Branding + API integration <br>  2010-03-01 17:08:51 lorenz <strong>$ 1000.00</strong> other Non exclusive, integration api &amp; highscores (+ translati ... <br>  2010-03-01 13:09:53 Gimme5Games <strong>$ 1600.00</strong> primary Require: Sponsor logo, links, hi-score API <br>  2010-02-28 07:55:36 jaludo_s <strong>$ 1500.00</strong> primary Intro and branding <br>  2010-02-26 11:25:14 Gimme5Games <strong>$ 1100.00</strong> primary Require: Sponsor logo, links, hi-score API <br>  2010-02-25 06:05:57 jaludo_s <strong>$ 1000.00</strong> primary Intro and branding <br>  2010-02-22 03:47:43 elite_games <strong>$ 800.00</strong> preloader logos, more games link.  cpmstar <br>  2010-02-19 12:49:22 armorgames <strong>$ 600.00</strong> other Cpmstar ads allowed on the viral version <br>  2010-02-19 08:12:04 elite_games <strong>$ 300.00</strong> preloader logos, more games link.  cpmstar <br><br>  I did not like Jaludo at first.  I wanted to place a cpm star advertisement in the game, but this did not suit him.  We talked with him for a long time, but he did not agree.  In the end, I accepted the Gimme5Games bet.  I decided that it would be quite realistic to earn $ 1000 from advertising.  To other mochi and cpmstar developers, advertising brings quite large sums, which means it will bring me quite a lot.  In any case, it was necessary to try and find out what and how.  But Gimme5Games turned out to be one more dynamo.  They had some problems with the server and he could not give me the necessary assets and scripts, and asked me to wait a bit.  2 or more weeks he fed me with promises, they say everything will give in a couple of days and as soon as I insert the scripts I will transfer money.  But I didn‚Äôt like these promises at all and I gave him an ultimatum, either pay the advance 50% of the bet, or I‚Äôll go to FGL and tell them to cancel this bet and I‚Äôll accept the Jaludo bid.  Meanwhile, I wrote to Jaludo that if he even allowed me to advertise cpmstar in the game, then I would accept his bet.  Jaludo agreed and now without a shadow of a doubt I turned to the FGL administration with a request to change the already accepted rate.  FGL said that the interests of the developer for them are more important than the interests of the sponsor and quickly changed the accepted bid to the proposal of Jaludo.  There were no problems with Jaludo, for a week he transferred me $ 3,000 by international transfer to a bank. <br><br>  This is how reward and perseverance are rewarded.  Everything turned out exactly the same as those guys who wrote about their success in this business.  The focus on results has borne fruit, a great experience was gained not only in development, but also in the organization of work, which is also important. <br><br>  <a href="http://massagames.ru/games/strategy/king-of-the-rocks.html">We get acquainted with the result here</a> </div><p>Source: <a href="https://habr.com/ru/post/128859/">https://habr.com/ru/post/128859/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../128853/index.html">Samsung will make Bada open</a></li>
<li><a href="../128854/index.html">Live Broadcast PnP Summit</a></li>
<li><a href="../128855/index.html">Acer Aspire + AMD A6 = fast!</a></li>
<li><a href="../128856/index.html">Google has acquired the German discount service DailyDeal</a></li>
<li><a href="../128858/index.html">Display advertisements Google AdSense, on ajax downloadable pages</a></li>
<li><a href="../128860/index.html">UEFI secure boot</a></li>
<li><a href="../128863/index.html">TeraPay e-commerce forum</a></li>
<li><a href="../128864/index.html">Electronic money. No cuts</a></li>
<li><a href="../128866/index.html">In asian style</a></li>
<li><a href="../128867/index.html">Productivity and ergonomics</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>