<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Build a simple cartogram Pandas + Vincent</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good afternoon, dear readers. 
 In the last article, the introduction of data with Pandas and matplotlib was described . Today, I would like to show a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Build a simple cartogram Pandas + Vincent</h1><div class="post__text post__text-html js-mediator-article">  Good afternoon, dear readers. <br>  In the <a href="http://habrahabr.ru/post/197212/">last</a> article, the introduction of data with <b>Pandas</b> and <i>matplotlib was described</i> .  Today, I would like to show another way of displaying the results of the analysis with the help of <a href="https://vincent.readthedocs.org/en/latest/index.html">Vincent</a> , which also integrates very easily with Pandas, although it takes a little more action than in the case of matplotlib. <br><a name="habracut"></a><br><h4>  Introduction </h4><br>  <b>Vincent</b> is a module designed to translate data from python to a JavaScript library for rendering <a href="http://d3js.org/">D3js</a> and <a href="http://trifacta.github.io/vega/">Vega</a> , which in turn provide great opportunities for interactive data visualization. <br>  Those.  this way we can perform analysis in python, and we can build graphics to the results on js.  For example, it may be convenient to visualize any geographic data and plot it on a map.  In addition, vincent has integration with IPython Notebook, and, like matplotlib, can display graphics directly in it. <br>  As a demonstration of the capabilities of this module, I propose to implement 2 tasks: <br><ul><li>  Let us show the dynamics of average per capita income of the population and the Central and Volga federal districts <br></li><li>  Show on the map of the Russian Federation the distribution by region of Russia per capita income for 2010 <br></li></ul><br>  We take the statistics of <a href="http://www.gks.ru/bgd/regl/b12_14p/IssWWW.exe/Stg/d01/05-02.htm">the</a> Rosstat <a href="http://www.gks.ru/bgd/regl/b12_14p/IssWWW.exe/Stg/d01/05-02.htm">site</a> as the initial data. <br><br><h4>  Data analysis </h4><br>  First, let's load the data and decide whether additional processing is needed. <br><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> vincent stat = pd.read_html(<span class="hljs-string"><span class="hljs-string">'Data/AVGPeopleProfit.htm'</span></span>, header=<span class="hljs-number"><span class="hljs-number">0</span></span>, index_col=<span class="hljs-number"><span class="hljs-number">0</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>]</code> </pre> <br>  So for loading data this time we use the read_html <a href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.io.html.read_html.html%3Fhighlight%3Dread_html">()</a> function (this function appeared in pandas from version 0.12).  In our case, 3 arguments are passed as parameters: <br><ol><li>  Html page URL <br></li><li>  Line number containing column names <br></li><li>  The column number to be used as an index. <br></li></ol><br>  After loading, we got the following table: <br><table border="1"><tbody><tr><th></th><th>  1990.0 </th><th>  2000.0 </th><th>  2001.0 </th><th>  2002.0 </th><th>  2003.0 </th><th>  2004.0 </th><th>  2005.0 </th><th>  2006.0 </th><th>  2007.0 </th><th>  2008.0 </th><th>  2009.0 </th><th>  2010.0 </th><th>  2011.0 </th><th>  nan </th></tr><tr><th>  Russian Federation </th><td>  NaN </td><td>  2281 </td><td>  3062 </td><td>  3947 </td><td>  5167 </td><td>  6399 </td><td>  8088 </td><td>  10155 </td><td>  12540 </td><td>  14864 </td><td>  16895 </td><td>  18951 </td><td>  20755 </td><td>  NaN </td></tr><tr><th>  Central Federal District </th><td>  NaN </td><td>  3231 </td><td>  4300 </td><td>  5436 </td><td>  7189 </td><td>  8900 </td><td>  10902 </td><td>  13570 </td><td>  16631 </td><td>  18590 </td><td>  21931 </td><td>  24645 </td><td>  27091 </td><td>  one </td></tr><tr><th>  Belgorod region </th><td>  NaN </td><td>  1555 </td><td>  2121 </td><td>  2762 </td><td>  3357 </td><td>  4069 </td><td>  5276 </td><td>  7083 </td><td>  9399 </td><td>  12749 </td><td>  14147 </td><td>  16993 </td><td>  18800 </td><td>  24 </td></tr><tr><th>  Bryansk region </th><td>  NaN </td><td>  1312 </td><td>  1818 </td><td>  2452 </td><td>  3136 </td><td>  3725 </td><td>  4788 </td><td>  6171 </td><td>  7626 </td><td>  10083 </td><td>  11484 </td><td>  13358 </td><td>  15348 </td><td>  52 </td></tr><tr><th>  Vladimir region </th><td>  NaN </td><td>  1280 </td><td>  1666 </td><td>  2158 </td><td>  2837 </td><td>  3363 </td><td>  4107 </td><td>  5627 </td><td>  7015 </td><td>  9480 </td><td>  10827 </td><td>  12956 </td><td>  14312 </td><td>  64 </td></tr></tbody></table><br>  As you can see, a small table processing is needed, since  it has one column with no name and one column with empty values.  Well, let's choose the necessary columns (from 2 to 13) for the remaining columns and place them in the new DataFrame. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="python hljs">stat = stat[stat.columns[<span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">13</span></span>]]</code> </pre><br>  Now we have a set of data suitable for work.  Of course, the names of the columns cuts the eye, but such names will not hurt us to solve the tasks at all. <br><table border="1"><tbody><tr><th></th><th>  2000.0 </th><th>  2001.0 </th><th>  2002.0 </th><th>  2003.0 </th><th>  2004.0 </th><th>  2005.0 </th><th>  2006.0 </th><th>  2007.0 </th><th>  2008.0 </th><th>  2009.0 </th><th>  2010.0 </th><th>  2011.0 </th></tr><tr><th>  Russian Federation </th><td>  2281 </td><td>  3062 </td><td>  3947 </td><td>  5167 </td><td>  6399 </td><td>  8088 </td><td>  10155 </td><td>  12540 </td><td>  14864 </td><td>  16895 </td><td>  18951 </td><td>  20755 </td></tr><tr><th>  Central Federal District </th><td>  3231 </td><td>  4300 </td><td>  5436 </td><td>  7189 </td><td>  8900 </td><td>  10902 </td><td>  13570 </td><td>  16631 </td><td>  18590 </td><td>  21931 </td><td>  24645 </td><td>  27091 </td></tr><tr><th>  Belgorod region </th><td>  1555 </td><td>  2121 </td><td>  2762 </td><td>  3357 </td><td>  4069 </td><td>  5276 </td><td>  7083 </td><td>  9399 </td><td>  12749 </td><td>  14147 </td><td>  16993 </td><td>  18800 </td></tr><tr><th>  Bryansk region </th><td>  1312 </td><td>  1818 </td><td>  2452 </td><td>  3136 </td><td>  3725 </td><td>  4788 </td><td>  6171 </td><td>  7626 </td><td>  10083 </td><td>  11484 </td><td>  13358 </td><td>  15348 </td></tr><tr><th>  Vladimir region </th><td>  1280 </td><td>  1666 </td><td>  2158 </td><td>  2837 </td><td>  3363 </td><td>  4107 </td><td>  5627 </td><td>  7015 </td><td>  9480 </td><td>  10827 </td><td>  12956 </td><td>  14312 </td></tr></tbody></table><br>  So, let's get down to doing the first task of visualizing data in 2 districts.  In order to obtain data on the basis of which we construct a graph, it is necessary to select the districts of interest (Moscow and Volga Region), and then transpose the resulting table.  You can do it like this: <br><br><pre> <code class="python hljs">fo = [<span class="hljs-string"><span class="hljs-string">u'  '</span></span>,<span class="hljs-string"><span class="hljs-string">u'  '</span></span>] fostat = stat[stat.index.isin(fo)].transpose()</code> </pre><br>  In the above code, we first filter our data set by the districts we need with the help of the <a href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.isin.html">isin ()</a> function, which checks the value of a column in a given list (analogous to the IN operator in SQL).  Then use the <a href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.transpose.html%3Fhighlight%3Dtranspose">transpose ()</a> function to transpose the resulting dataset and write the result to a new DataFrame. <br><table border="1"><tbody><tr><th></th><th>  Central Federal District </th><th>  Volga Federal District </th></tr><tr><th>  2000 </th><td>  3231 </td><td>  1726 </td></tr><tr><th>  2001 </th><td>  4300 </td><td>  2319 </td></tr><tr><th>  2002 </th><td>  5436 </td><td>  3035 </td></tr><tr><th>  2003 </th><td>  7189 </td><td>  3917 </td></tr><tr><th>  2004 </th><td>  8900 </td><td>  4787 </td></tr><tr><th>  2005 </th><td>  10902 </td><td>  6229 </td></tr><tr><th>  2006 </th><td>  13570 </td><td>  8014 </td></tr><tr><th>  2007 </th><td>  16631 </td><td>  9959 </td></tr><tr><th>  2008 </th><td>  18590 </td><td>  12392 </td></tr><tr><th>  2009 </th><td>  21931 </td><td>  13962 </td></tr><tr><th>  2010 </th><td>  24645 </td><td>  15840 </td></tr><tr><th>  2011 </th><td>  27091 </td><td>  17282 </td></tr></tbody></table><br>  As you can see, the names of the indices in the table are now equal to the number of the year in a numeric format.  This is not very convenient, so let's change the index to the date format: <br><br><pre> <code class="python hljs">fostat.set_index(pd.date_range(<span class="hljs-string"><span class="hljs-string">'1999'</span></span>,<span class="hljs-string"><span class="hljs-string">'2011'</span></span>, freq=<span class="hljs-string"><span class="hljs-string">'AS'</span></span>), inplace=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>)</code> </pre><br>  The <a href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.set_index.html%3Fhighlight%3Dset_index">set_index ()</a> function is used to set a new index in the DataFrame.  In our case, it is passed 2 parameters: <br><ol><li>  List of new index values ‚Äã‚Äã(may also be the column name) <br></li><li>  Paramert means that we replace the index in the current set, if it is False the index will not be saved <br></li></ol><br>  Now the data is completely ready for plotting.  So, if you are working in IPython Notebook and want to see the result in real time, then for integration you need to call the function <i>initialize_notebook ()</i> .  It will look like this: <br>  vincent.core.initialize_notebook () <br>  Now we need to create an object corresponding to the type of diagram (a full list of objects can be seen in the <a href="https://vincent.readthedocs.org/en/latest/">documentation</a> ).  In our case, it will be a linear graph.  The code will be as follows: <br><br><pre> <code class="python hljs">line = vincent.Line(fostat) <span class="hljs-comment"><span class="hljs-comment">#   line.axis_titles(x=u'', y=u'. ') #   line.legend(title=u' vs ') #     </span></span></code> </pre><br>  You can display the graph using the display () function: <br><br><pre> <code class="python hljs">line.display()</code> </pre> <br>  As a result, we will see the following: <br><img src="https://habrastorage.org/getpro/habr/post_images/acc/67c/8b6/acc67c8b6b47000deb19b257a109f9bc.png"><br><br><h4>  Cartogram building </h4><br><br>  Well, we coped with the first task.  Now let's go to the second one.  To solve this problem, we need a TopoJSON file with a map of the Russian Federation, as well as a directory of regions.  Details on how to get them and what it is you can read <a href="http://habrahabr.ru/post/181766/">here</a> .  To begin with, let's load the directory of regions using <i>read_csv</i> , described in one of the <a href="http://habrahabr.ru/post/196980/">previous</a> articles: <br><br><pre> <code class="python hljs">spr = pd.read_csv(<span class="hljs-string"><span class="hljs-string">'Data/russia-region-names.tsv'</span></span>,<span class="hljs-string"><span class="hljs-string">'\t'</span></span>, index_col=<span class="hljs-number"><span class="hljs-number">0</span></span>, header=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>, names = [<span class="hljs-string"><span class="hljs-string">'name'</span></span>,<span class="hljs-string"><span class="hljs-string">'code'</span></span>], encoding=<span class="hljs-string"><span class="hljs-string">'utf-8'</span></span>)</code> </pre><br>  As you can see, there appeared several additional parameters: <br><ul><li>  <i>index_col</i> - sets the column number to be used as an index <br></li><li>  <i>header</i> - in our case, means that we do not use lines from the file to define headers. <br></li><li>  <i>names</i> - gets list, elements of which will be column names <br></li><li>  <i>encoding</i> - sets the encoding in which the file is stored <br></li></ul><br><br>  If we look carefully at our <i>stat</i> dataset, we can see that some of its elements contain footnotes like '1)' and '2)', which when parsing with read_html () were encoded into ordinary characters and added at the end of the corresponding lines in the index combo.  In addition, before the names of cities in our set builds the letter 'g.  ', but in the directory it is not.  All these little things affect the fact that when we combine a set with a stat.  data and directory, to tighten the codes to the regions, we will have regions without a code. <br>  You can fix this as follows: <br><br><pre> <code class="python hljs">ew_index = stat.index.to_series() new_index = new_index.str.replace(<span class="hljs-string"><span class="hljs-string">u'(2\))|(1\))|(. )'</span></span>,<span class="hljs-string"><span class="hljs-string">''</span></span>)</code> </pre><br>  The first line means that we separate the index column into a separate new series.  In the second line, we replace the values ‚Äã‚Äãcorresponding to the regular expression with empty ones. <br>  Now we need to replace the index values ‚Äã‚Äãwith the values ‚Äã‚Äãfrom the new set.  As shown above, you can do it like this: <br><br><pre> <code class="python hljs">tat.set_index(new_index, inplace=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>)</code> </pre><br>  Now we can combine our dataset with a directory to get the regional codes: <br><br><pre> <code class="python hljs">RegionProfit = stat.join(spr, how=<span class="hljs-string"><span class="hljs-string">'inner'</span></span>)</code> </pre><br>  Our data after all the manipulations look like this: <br><table border="1"><tbody><tr><th></th><th>  2000.0 </th><th>  2001.0 </th><th>  2002.0 </th><th>  2003.0 </th><th>  2004.0 </th><th>  2005.0 </th><th>  2006.0 </th><th>  2007.0 </th><th>  2008.0 </th><th>  2009.0 </th><th>  2010.0 </th><th>  2011.0 </th><th>  code </th></tr><tr><th>  Belgorod region </th><td>  1555 </td><td>  2121 </td><td>  2762 </td><td>  3357 </td><td>  4069 </td><td>  5276 </td><td>  7083 </td><td>  9399 </td><td>  12749 </td><td>  14147 </td><td>  16993 </td><td>  18800 </td><td>  RU-BEL </td></tr><tr><th>  Bryansk region </th><td>  1312 </td><td>  1818 </td><td>  2452 </td><td>  3136 </td><td>  3725 </td><td>  4788 </td><td>  6171 </td><td>  7626 </td><td>  10083 </td><td>  11484 </td><td>  13358 </td><td>  15348 </td><td>  RU-BRY </td></tr><tr><th>  Vladimir region </th><td>  1280 </td><td>  1666 </td><td>  2158 </td><td>  2837 </td><td>  3363 </td><td>  4107 </td><td>  5627 </td><td>  7015 </td><td>  9480 </td><td>  10827 </td><td>  12956 </td><td>  14312 </td><td>  RU-VLA </td></tr><tr><th>  Voronezh region </th><td>  1486 </td><td>  2040 </td><td>  2597 </td><td>  3381 </td><td>  4104 </td><td>  5398 </td><td>  6862 </td><td>  8307 </td><td>  10587 </td><td>  11999 </td><td>  13883 </td><td>  15871 </td><td>  RU-VOR </td></tr><tr><th>  Ivanovo region </th><td>  1038 </td><td>  1298 </td><td>  1778 </td><td>  2292 </td><td>  2855 </td><td>  3480 </td><td>  4457 </td><td>  5684 </td><td>  8343 </td><td>  9351 </td><td>  11124 </td><td>  13006 </td><td>  RU-IVA </td></tr></tbody></table><br><br>  So let's proceed to the direct construction of the map and the application of data on it.  To start, we need to create a dictionary with a description of our map: <br><br><pre> <code class="python hljs">geo_data = [{<span class="hljs-string"><span class="hljs-string">'name'</span></span>: <span class="hljs-string"><span class="hljs-string">'rus'</span></span>, <span class="hljs-comment"><span class="hljs-comment">#  'url': 'RusMap/russia.json', #  TopoJSON    'feature': 'russia'}] #    </span></span></code> </pre><br>  Now let's create our map object and link our data to it.  This can be done with the Map () function: <br><br><pre> <code class="python hljs">vis = vincent.Map(data=RegionProfit, geo_data=geo_data,scale=<span class="hljs-number"><span class="hljs-number">700</span></span>, projection=<span class="hljs-string"><span class="hljs-string">'conicEqualArea'</span></span>, rotate = [<span class="hljs-number"><span class="hljs-number">-105</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>], center = [<span class="hljs-number"><span class="hljs-number">-10</span></span>, <span class="hljs-number"><span class="hljs-number">65</span></span>], data_bind=<span class="hljs-number"><span class="hljs-number">2011</span></span>, data_key=<span class="hljs-string"><span class="hljs-string">'code'</span></span>, map_key={<span class="hljs-string"><span class="hljs-string">'rus'</span></span>: <span class="hljs-string"><span class="hljs-string">'properties.region'</span></span>})</code> </pre><br>  As parameters, the function takes the following arguments: <br><ul><li>  <i>data</i> - <i>data</i> set <br></li><li>  <i>geo_data</i> - object with our map <br></li><li>  <i>projection</i> , - the projection in which our map will be displayed <br></li><li>  <i>rotate, center, scale</i> - <a href="http://habrahabr.ru/post/181766">projection parameters</a> <br></li><li>  <i>data_bind</i> - a column with data that will be displayed <br></li><li>  <i>data_key</i> - the field with the code for which the card and data will be <i>linked</i> <br></li><li>  <i>map_key</i> - dictionary type <i><b>{'name of an object with a map': 'property name by which the binding is performed'}</b></i> <br></li></ul><br><br>  But here we expect a surprise: in the author's version of vincent, the <b>rotate</b> parameter can only be integer.  For proper display of our map, we need the ability to enable this parameter to take values ‚Äã‚Äãin the form of a list.  To fix this, go to the <i>% PYTHON_PATH% / \ lib \ site-packages \ vincent \ transforms.py</i> file to replace the piece of code responsible for checking the type of variables: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">@grammar(int) def rotate(value): """The rotation of the projection""" if value &lt; 0: raise ValueError('The rotation cannot be negative.')</span></span></code> </pre><br>  on: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">@grammar(list) def rotate(value): if len(value) != 2: raise ValueError('len(center) must = 2')</span></span></code> </pre><br><br>  Now our object will be created correctly.  It remains to tune our object.  To begin, let's make our boundaries between mej objects less visible.  To do this, we have marks (marks), which are the main building element.  Details about them are written in the documentation for <a href="https://github.com/trifacta/vega/wiki/Marks">Vega</a> .  In our case, the code looks like this: <br><br><pre> <code class="python hljs">vis.marks[<span class="hljs-number"><span class="hljs-number">0</span></span>].properties.enter.stroke_opacity = vincent.ValueRef(value=<span class="hljs-number"><span class="hljs-number">0.5</span></span>)</code> </pre><br>  Now let's set our values ‚Äã‚Äãto be colored in different colors depending on the group.  This can be done with the help of <a href="https://github.com/trifacta/vega/wiki/Scales">Scales</a> objects designed to translate data values ‚Äã‚Äã(numeric, string, dates, etc.) into values ‚Äã‚Äãfor display (piscels, colors, dimensions).  Code below: <br><br><pre> <code class="python hljs">vis.scales[<span class="hljs-string"><span class="hljs-string">'color'</span></span>].type = <span class="hljs-string"><span class="hljs-string">'threshold'</span></span> <span class="hljs-comment"><span class="hljs-comment">#   vis.scales['color'].domain = [10000, 15000, 20000, 25000, 30000] #      vis.legend(title=u' .') #  </span></span></code> </pre><br>  Well, the map is set up, now you can see what happened.  As mentioned above, you can use the <i>display ()</i> function for this, but for unknown reasons, it did not work for me, so I first unloaded it into the final json file using the <i>to_json ()</i> function: <br><br><pre> <code class="python hljs">vis.to_json(<span class="hljs-string"><span class="hljs-string">'example_map.json'</span></span>, html_out=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, html_path=<span class="hljs-string"><span class="hljs-string">'example_map.html'</span></span>)</code> </pre><br>  As parameters, it is passed 3 parameters: <br><ol><li>  name of the final file <br></li><li>  html_out indicates that you need to create another html shell file <br></li><li>  html_path - sets the path to the html file <br></li></ol><br><br>  To view our html file you <a href="https://github.com/wrobstory/vincent/tree/master/examples">need a</a> simple HTTP server included in Python.  To run it on the command line, run the command: <br><br><pre> <code class="bash hljs">python -m SimpleHTTPServer 8000</code> </pre> <br>  As a result, our map will look like this: <br><img src="http://habrastorage.org/getpro/habr/post_images/e06/c9b/b5c/e06c9bb5ce567c6a105214913168985f.png"><br><br><br><h4>  Conclusion </h4><br>  Today I tried to show another way to visualize data when using <b>pandas</b> .  I would also like to note that the module in question is relatively young and is actively developing now.  Among the shortcomings, I would note that not all objects are displayed when trying to output them directly to IPython and the inability to upload just a picture, and not a json file, especially since for vega such tools are <a href="https://github.com/trifacta/vega/tree/master/bin">developed</a> </div><p>Source: <a href="https://habr.com/ru/post/198974/">https://habr.com/ru/post/198974/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../198956/index.html">New product Linkedin Intro: convenience or surveillance of users?</a></li>
<li><a href="../198960/index.html">Personal finance: from easy to hard</a></li>
<li><a href="../198962/index.html">Beaded sorting (Bead sort)</a></li>
<li><a href="../198964/index.html">Helios Kernel - include in javascript, now for nodejs</a></li>
<li><a href="../198970/index.html">Php.net Resource Restored</a></li>
<li><a href="../198978/index.html">A century of play - a century of learning. Computer games learning curve</a></li>
<li><a href="../198980/index.html">Functions in PHP 5.6 - what's new?</a></li>
<li><a href="../198982/index.html">Accelerate Nginx in 5 minutes</a></li>
<li><a href="../198984/index.html">ViPNet Password Generator helps users create strong passwords</a></li>
<li><a href="../198986/index.html">Derby.js Log in</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>