<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Application Caching Strategy</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When talking about caching comes up, a paradoxical situation arises. On the one hand, everyone understands the importance and necessity of caching in ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Application Caching Strategy</h1><div class="post__text post__text-html js-mediator-article">  When talking about caching comes up, a paradoxical situation arises.  On the one hand, everyone understands the importance and necessity of caching in the application architecture.  On the other hand, few people can clearly explain <i>what</i> and <i>how</i> to cache. <br><br>  Usually, people immediately begin to offer ready-made cache implementations, like memcached or HTTP cache, but this is only an answer to the question of <i>where to</i> cache. <br><br>  Caching is one of many topics, along with security and logging, that everyone knows and says, but few can do it right. <br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Why do I need a cache </h4><br>  Kesh brings data to the place of their use.  In the modern world, consisting of 98% of the Internet, data usually lies very far from the user.  All the way from the repository to the user, there are caches that serve only one purpose - to get the user as quickly as possible. <br><br>  If you look more closely, you can see that precious time is spent on processing data at the supplier and transferring data from the supplier to the customer, we do not take into account the time of data processing at the customer. <br><br>  With high loads, caching is a must.  It allows you to serve more customers with the same resources, because data providers are more relaxed.  But even with low loads, caching has a positive effect on the responsiveness of the application. <br><br><h4>  Cache can not just turn on </h4><br>  One of the main misconceptions about caching is that many people think that you can simply turn on the cache. <br><br>  At the dawn of my programming career, I just turned on caching once, literally an hour later I had to turn it off.  Then I ran into the main problem with caching - <i>data obsolescence</i> .  The user after changing the data did not see the result for 15 minutes. <br><br>  It is very important to understand what and how you are going to cache, so as not to violate the logic of the application.  And the first question you need to answer is how outdated data can be given to the client.  Naturally, you can make your cache for each client, it will simplify the decision on the relevance of the data, but will bring many other problems. <br><br><h4>  Types of caching </h4><br>  There are three main types of caching on the mechanics of work: <br><ul><li>  Lazy cache, it‚Äôs also a <i>lazy cache</i> , it‚Äôs also a <i>dumb cache</i> ‚Äî the easiest type of caching to implement; it is often built into frameworks.  The cache simply saves the data and gives it away until it becomes outdated. </li><li>  Synchronized cache, the <i>synchronized cache</i> client with the data is obtained the label of the last change and can ask the supplier whether the data has changed so that you can not re-request it.  This type of caching allows you to always have fresh data, but is very difficult to implement. </li><li>  Write-through cache, or write-through cache ‚Äî any data change is performed immediately in the storage and in the cache.  This type of cache may never become obsolete, but there are problems with the so-called ‚Äú <i>coherence</i> ‚Äù. </li></ul><br><br>  Probably you can come up with other types of caches, but I have not met. <br><br><h4>  Obsolescence and cache coherence </h4><br>  The cache size is always limited.  Often it is less than the amount of data that can be put into this cache.  Therefore, the items placed in the cache will be superseded sooner or later.  Modern caching frameworks allow for very flexible management of obsolescence, taking into account priorities, time of obsolescence, data volumes, etc. <br><br>  If the same data falls into different caches, then the cache coherence problem arises.  For example, the same data is used to form different pages and pages are cached.  Pages generated later will contain updated data, and pages that have been cached earlier will contain outdated data.  Thus, consistency of behavior will be broken. <br><br>  A simple way to maintain coherence is to force a cache to become obsolete (reset) when data changes.  Therefore, increasing the memory for the cache so that it is less obsolete is not always a good idea. <br><br><h4>  Cache efficiency </h4><br>  The main parameter that characterizes the caching system is the <i>percentage of requests hit in the cache</i> .  This parameter is fairly easy to measure in order to understand how effective your caching system is. <br><br>  Frequent cache flushes, caching of rarely requested data, insufficient cache size - all this leads to a waste of operational (usually) memory, without increasing work efficiency. <br><br>  Sometimes data changes so often and unpredictably that caching will have no effect, the percentage of hits will be close to zero.  But usually the data is read much more often than it is written, so the caches are effective. <br><br><h4>  Application of different types of caching </h4><br><h5>  Lazy cache </h5><br>  This is the easiest type of caching, but it should be used carefully, as it gives out obsolete data.  It is possible to reset a lazy cache with each record in order to keep the data current, but then the implementation costs will be comparable to more complex types of caching. <br><br>  This type of caching can be used for data that almost never changes.  Another use case is to make a lazy cache with a short obsolescence time for stable operation during spikes. <br><br>  This type of caching allows you to quickly answer. <br><br><h5>  Synchronized cache </h5><br>  This is the most useful type of caching, as it gives fresh data and allows you to implement a multi-level cache. <br><br>  This type of caching is built into the HTTP protocol.  The server returns the change label, and the client caches the result for you and sends the tag in a subsequent request.  The server can answer that the state has not changed and you can use an object cached on the client.  The server, in turn, having received the label, can ask again whether the store has made any changes or not. <br><br>  This type of caching does not eliminate the overhead of communication between systems.  Therefore, it is often supplemented with other types of caching to speed up the work. <br><br><h5>  Write-through cache </h5><br>  If there is a distributed caching system (memcached, Windows Sever App Fabric, Azure Cache), then write-through cache can be used.  Hand-to-hand implementation of cache synchronization between nodes is itself a separate large project, so you should not engage in it as part of application development. <br><br>  You should not try to cache everything in a synchronized cache, otherwise most of the application code will rebuild the cache. <br><br>  Also, do not forget that distributed caching systems also require communication between systems, which can affect performance. <br><br><h4>  What else should be considered in the cache strategy? </h4><br>  Choose the correct granularity of the cached data.  For example, caching data for each user is likely to be inefficient with a large number of users.  If you cache data for all users at once, then there will be problems with data obsolescence and cache coherence. <br><br>  Cache data as late as possible, just before returning to the external system.  Caching data received from the outside is necessary only in case of performance problems at this stage.  External storage, such as DBMS and file systems, themselves implement caching, so there is usually no point in caching query results. <br><br>  You do not need to fence your bikes for caching in applications, usually there are already ready tools and you need to be able to use them. <br><br><h4>  Conclusion </h4><br>  I hope the article was interesting and useful for you.  Comment, rate, I will be glad to any suggestions. </div><p>Source: <a href="https://habr.com/ru/post/168725/">https://habr.com/ru/post/168725/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../168709/index.html">First household appliances</a></li>
<li><a href="../168711/index.html">We measure the performance of drives or again about IOPS</a></li>
<li><a href="../168719/index.html">Change the speed on Youtube</a></li>
<li><a href="../168721/index.html">A leak. Tegra4 ChromeOS device with the code name PUPPY was found in the OS source. Android is mentioned</a></li>
<li><a href="../168723/index.html">A machine on a controller with the .NET Micro Framework, controlled by an accelerometer Android device</a></li>
<li><a href="../168727/index.html">Chrome Extensions Gallery Switches to WebP</a></li>
<li><a href="../168729/index.html">Began updating Sony Xperia smartphones to Android 4.1</a></li>
<li><a href="../168733/index.html">Recommender system: an introduction to the problem of cold start</a></li>
<li><a href="../168735/index.html">Puzzle Mercator for geography connoisseurs</a></li>
<li><a href="../168737/index.html">Moscow State Technical University im.Bauman launches discipline "Operating Systems" based on ReactOS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>