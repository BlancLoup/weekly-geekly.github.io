<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The formula for calculating the number of days in the month</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Note : This post is a translation of the article cmcenroe.me/2014/12/05/days-in-month-formula.html ( Part I ), as well as the author's supplement to i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The formula for calculating the number of days in the month</h1><div class="post__text post__text-html js-mediator-article">  <i><b>Note</b> : This post is a translation of the article <a href="https://cmcenroe.me/2014/12/05/days-in-month-formula.html">cmcenroe.me/2014/12/05/days-in-month-formula.html</a> ( <b>Part I</b> ), as well as the author's supplement to it ( <b>Part II</b> ).</i>  <i>You should not take the material seriously, but rather as a warm-up for the mind, requiring nothing more than school knowledge of arithmetic and no practical application.</i>  <i>Enjoy everyone!</i> <br><br><h1>  Part I </h1><br><h2>  Introduction </h2><br>  Recently, after another sleepless night, I thought about the methods of memorizing the number of days in each month of the year.  To do this, there is a count, as well as a way to count on the knuckles, but neither did suit me.  I wondered if there was any mathematical formula for solving such a problem, and - not finding one with a quick study - I challenged myself to create it. <br><br>  <s>Formalizing</s> In other words, it is necessary to find a function <i>f</i> , such that the value of <i>f (x)</i> for each month <i>x</i> , represented by a number from 1 to 12, is equal to the number of days in that month.  The table of argument values ‚Äã‚Äãand functions <sup><a href="https://habr.com/ru/post/261773/">1</a></sup> : <br><table><tbody><tr><th>  <i>x</i> </th><td>  one </td><td>  2 </td><td>  3 </td><td>  four </td><td>  five </td><td>  6 </td><td>  7 </td><td>  eight </td><td>  9 </td><td>  ten </td><td>  eleven </td><td>  12 </td></tr><tr><th>  <i>f (x)</i> </th><td>  31 </td><td>  28 </td><td>  31 </td><td>  thirty </td><td>  31 </td><td>  thirty </td><td>  31 </td><td>  31 </td><td>  thirty </td><td>  31 </td><td>  thirty </td><td>  31 </td></tr></tbody></table><br>  If you have a desire to try yourself before reading my decision, now is the time.  If you prefer to see the ready answer immediately, then look under the spoiler. <br><div class="spoiler">  <b class="spoiler_title">Answer</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/3d8/a16/999/3d8a169993f90cd39ee7b551380bf8f5.png"></div></div><br>  Below are my steps to find a solution. <br><a name="habracut"></a><br><h2>  Mathematical apparatus </h2><br>  First, let's briefly refresh two vital operators in solving this task: integer division and remainder of division. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Integer division</b> is an operator used in many programming languages ‚Äã‚Äãwhen dividing two integers and discarding the fractional part of the private part.  I will depict him as <img src="https://habrastorage.org/getpro/habr/post_images/e2f/67d/2ad/e2f67d2ad03502ca3020be81b9b22c87.png">  .  For example: <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4b5/f1a/682/4b5f1a682599e568f151f2cb03aba9d1.png"></div><br>  <b>The remainder of the division</b> is the operator that finds the remainder of the division.  In many programming languages, the <b>%</b> symbol is used, but I will use constructions of the form <img src="https://habrastorage.org/getpro/habr/post_images/508/22d/438/50822d4380d390b807166786a514480d.png">  , eg: <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a5c/fca/98c/a5cfca98c770ef445e46f2b132b3f204.png"></div><br>  I note that the remainder of the division has the same priority as division. <br><br><h2>  The basics </h2><br>  So, let's apply our mathematical apparatus to obtain the basic formula.  <sup><a href="https://habr.com/ru/post/261773/">2</a></sup> In the usual month of 30 or 31 days, so that we can use <img src="https://habrastorage.org/getpro/habr/post_images/987/a33/463/987a3346306b6d029597a83ec6e0b8fa.png">  to get alternately 1 or 0, and then just add a constant to this number: <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a6c/98b/e16/a6c98be164bb8e5c145849483a5c8aec.png"></div><br>  We get the table, the correct values ‚Äã‚Äãare highlighted in bold: <br><table><tbody><tr><th>  <i>x</i> </th><td>  <b>one</b> </td><td>  2 </td><td>  <b>3</b> </td><td>  <b>four</b> </td><td>  <b>five</b> </td><td>  <b>6</b> </td><td>  <b>7</b> </td><td>  eight </td><td>  9 </td><td>  ten </td><td>  eleven </td><td>  12 </td></tr><tr><th>  <i>f (x)</i> </th><td>  <b>31</b> </td><td>  thirty </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>31</b> </td><td>  thirty </td><td>  31 </td><td>  thirty </td><td>  31 </td><td>  thirty </td></tr></tbody></table><br>  Not a bad start!  There are already correct values ‚Äã‚Äãfor January and for the months from March to July inclusive.  February is a special case, and we'll figure it out a little later.  After July, for the remaining months, the order of receiving 0 and 1 should be reversed. <br>  To do this, we can add to the dividend 1: <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/66f/9a2/4f8/66f9a24f8d1be71dda85da88222662ce.png"></div><br><table><tbody><tr><th>  <i>x</i> </th><td>  one </td><td>  2 </td><td>  3 </td><td>  four </td><td>  five </td><td>  6 </td><td>  7 </td><td>  <b>eight</b> </td><td>  <b>9</b> </td><td>  <b>ten</b> </td><td>  <b>eleven</b> </td><td>  <b>12</b> </td></tr><tr><th>  <i>f (x)</i> </th><td>  thirty </td><td>  31 </td><td>  thirty </td><td>  31 </td><td>  thirty </td><td>  31 </td><td>  thirty </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>31</b> </td></tr></tbody></table><br>  Now the correct values ‚Äã‚Äãare from August to December, but, as expected, the values ‚Äã‚Äãfor the other months are incorrect.  Let's see how we can combine these formulas. <br><br><h2>  Mask overlay </h2><br>  For this, a piecewise-defined function is necessary, but - since it seemed boring to me - I thought about a different solution using one part of the function on one interval, the other on the other. <br>  I believe that the easiest way is to find an expression equal to 1 in one application and 0 in the rest.  The method in which multiplying the argument by the expression we exclude it from the formula outside its scope, I called the ‚Äúmask overlay‚Äù, because this behavior is similar to a bit mask. <br>  To use this method in the last part of our function, you need to find an expression equal to 1 for <img src="https://habrastorage.org/getpro/habr/post_images/9af/2e7/ace/9af2e7ace34def58c941b9ff0a3ee434.png">  , and - since the argument values ‚Äã‚Äãare always less than 16 - the integer division by 8 is perfect for this. <br><table><tbody><tr><th>  <i>x</i> </th><td>  one </td><td>  2 </td><td>  3 </td><td>  four </td><td>  five </td><td>  6 </td><td>  7 </td><td>  eight </td><td>  9 </td><td>  ten </td><td>  eleven </td><td>  12 </td></tr><tr><th>  ‚åä <sup><i>x</i></sup> ‚ÅÑ <sub>8</sub> ‚åã </th><td>  0 </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  one </td><td>  one </td><td>  one </td><td>  one </td><td>  one </td></tr></tbody></table><br>  Now using this mask using in delimited <img src="https://habrastorage.org/getpro/habr/post_images/c2c/2b7/bdc/c2c2b7bdc7d7f38ec49249be179fa5ca.png">  expression <img src="https://habrastorage.org/getpro/habr/post_images/afb/aef/2f0/afbaef2f02d2c1a58b63d549e6b392a2.png">  instead of 1, we can replace the order of getting 0 and 1 formula with the reverse: <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f78/2a3/9a3/f782a39a33f0b883d239003211eca9d0.png"></div><br><table><tbody><tr><th>  <i>x</i> </th><td>  <b>one</b> </td><td>  2 </td><td>  <b>3</b> </td><td>  <b>four</b> </td><td>  <b>five</b> </td><td>  <b>6</b> </td><td>  <b>7</b> </td><td>  <b>eight</b> </td><td>  <b>9</b> </td><td>  <b>ten</b> </td><td>  <b>eleven</b> </td><td>  <b>12</b> </td></tr><tr><th>  <i>f (x)</i> </th><td>  <b>31</b> </td><td>  thirty </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>31</b> </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>31</b> </td></tr></tbody></table><br>  Eureka!  Everything is correct, except February.  Surprise surprise. <br><br><h2>  February </h2><br>  In any month 30 or 31 days, except February with its 28th (leap year is beyond the scope of this task).  <sup><a href="https://habr.com/ru/post/261773/">3</a></sup> At the moment, according to our formula, it has 30 days, so it would be nice to subtract an expression equal to 2 when <img src="https://habrastorage.org/getpro/habr/post_images/217/152/fc5/217152fc5a7e6c6ce1d087f69e4de123.png">  . <br>  The best I managed to think of <img src="https://habrastorage.org/getpro/habr/post_images/fac/a87/652/faca876524c10cdac617f5f1e3a7ce37.png">  that puts a mask on all months after February: <br><table><tbody><tr><th>  <i>x</i> </th><td>  one </td><td>  2 </td><td>  3 </td><td>  four </td><td>  five </td><td>  6 </td><td>  7 </td><td>  eight </td><td>  9 </td><td>  ten </td><td>  eleven </td><td>  12 </td></tr><tr><th>  2 mod <i>x</i> </th><td>  0 </td><td>  0 </td><td>  2 </td><td>  2 </td><td>  2 </td><td>  2 </td><td>  2 </td><td>  2 </td><td>  2 </td><td>  2 </td><td>  2 </td><td>  2 </td></tr></tbody></table><br>  Changing the base constant to 28 with the addition of 2 to the remaining months, we obtain the formula: <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2f0/4de/ff1/2f04deff152bf89e85dffb9649b77ad0.png"></div><br><table><tbody><tr><th>  <i>x</i> </th><td>  one </td><td>  <b>2</b> </td><td>  <b>3</b> </td><td>  <b>four</b> </td><td>  <b>five</b> </td><td>  <b>6</b> </td><td>  <b>7</b> </td><td>  <b>eight</b> </td><td>  <b>9</b> </td><td>  <b>ten</b> </td><td>  <b>eleven</b> </td><td>  <b>12</b> </td></tr><tr><th>  <i>f (x)</i> </th><td>  29 </td><td>  <b>28</b> </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>31</b> </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>31</b> </td></tr></tbody></table><br>  Unfortunately, January is now shorter by 2 days.  But, fortunately, to get an expression that will only be used for the first month is very easy: it‚Äôs a rounded down reverse to <img src="https://habrastorage.org/getpro/habr/post_images/345/1e7/d31/3451e7d31758d3d66a1dd2430979cbf2.png">  number.  Multiplying it by 2 yields the final formula: <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3d8/a16/999/3d8a169993f90cd39ee7b551380bf8f5.png"></div><br><table><tbody><tr><th>  <i>x</i> </th><td>  <b>one</b> </td><td>  <b>2</b> </td><td>  <b>3</b> </td><td>  <b>four</b> </td><td>  <b>five</b> </td><td>  <b>6</b> </td><td>  <b>7</b> </td><td>  <b>eight</b> </td><td>  <b>9</b> </td><td>  <b>ten</b> </td><td>  <b>eleven</b> </td><td>  <b>12</b> </td></tr><tr><th>  <i>f (x)</i> </th><td>  <b>31</b> </td><td>  <b>28</b> </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>31</b> </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>31</b> </td></tr></tbody></table><br><br><h2>  Afterword </h2><br>  Here it is - a formula for obtaining the number of days in any month of the year, using simple arithmetic.  The next time you remember how many days in September, just follow <img src="https://habrastorage.org/getpro/habr/post_images/8c9/615/12c/8c961512c6497ab589f69f41245fd8c1.png">  using this single line javascript function: <br><br><pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">f</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">28</span></span> + (x + <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.floor(x/<span class="hljs-number"><span class="hljs-number">8</span></span>)) % <span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span> % x + <span class="hljs-number"><span class="hljs-number">2</span></span> * <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.floor(<span class="hljs-number"><span class="hljs-number">1</span></span>/x); }</code> </pre> <br><h1>  Part II </h1><br><h2>  Introduction </h2><br>  In the first part, a short and even slightly elegant formula was obtained, the main advantages of which are the simplicity of the mathematical apparatus, the absence of branching and conditional expressions, conciseness.  The disadvantages - besides the fact that you will not apply it in your project - can be attributed to the absence of a check for a leap year and a non-leap year. <br>  Therefore, I set myself the task to create a function <i>f</i> , such that the value of <i>f (x, y)</i> for each month <i>x</i> , represented by a number from 1 to 12 and the year <i>y</i> greater than 0, equals the number of days in month <i>x</i> in the year <i>y</i> . <br>  For the impatient under the spoiler is a ready answer, the rest, please follow me. <br><div class="spoiler">  <b class="spoiler_title">Answer</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/f50/866/8b2/f508668b2a87ebdd330120fa8d0ef571.png"></div></div><br><br><h2>  The remainder of the division: <i>mod</i> and ‚åä‚åã </h2><br>  For visual clarity, we agree that in some formulas the division operator with the remainder is replaced by bottom brackets, where it seemed necessary to me: <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/30d/194/67b/30d19467b257fd06d7e915036e8e9147.png"></div><br><br><h2>  Leap year </h2><br>  An additional calendar day is introduced in a leap year: February 29.  As you know, a leap year is a multiple of 4 and not a multiple of 100, or a multiple of 400. We write the expression identical with this statement: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/968/792/a68/968792a68e0801dc3ba6cf31d39a0eef.png"></div><br><br>  To bring this expression into algebraic, you must apply to the result of the expression <img src="https://habrastorage.org/getpro/habr/post_images/508/22d/438/50822d4380d390b807166786a514480d.png">  injection form: <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e35/7d8/a4d/e357d8a4d33d254743808a1f4c9438b5.png"></div><br><br>  That will allow you to get 1 when dividing without remainder and 0 when dividing with remainder, to use it in the formula for determining the number of days in a month. <br><br>  As a function of <i>g ',</i> you can use 1 minus the remainder of the division <img src="https://habrastorage.org/getpro/habr/post_images/78e/944/c38/78e944c3802b7c026451c79a4089a488.png">  for <img src="https://habrastorage.org/getpro/habr/post_images/a67/15d/697/a6715d697dabb968bddc4d313eae2378.png">  : <br><table><tbody><tr><th>  <i>x</i> </th><td>  0 </td><td>  one </td><td>  2 </td><td>  3 </td><td>  four </td><td>  five </td><td>  6 </td><td>  7 </td><td>  eight </td><td>  9 </td><td>  ten </td><td>  eleven </td><td>  12 </td><td>  13 </td><td>  14 </td></tr><tr><th>  <i>g '(x)</i> </th><td>  Infinity </td><td>  one </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  0 </td></tr></tbody></table><br>  It is easy to see that increasing the dividend and the divisor by 1, we get the correct formula <img src="https://habrastorage.org/getpro/habr/post_images/cb9/9cb/156/cb99cb156d3c0558081cf4a4536cbcb0.png">  at <img src="https://habrastorage.org/getpro/habr/post_images/9d6/4aa/c72/9d64aac72b5e9445b2378a0ff5b64c44.png">  : <br><table><tbody><tr><th>  <i>x</i> </th><td>  0 </td><td>  one </td><td>  2 </td><td>  3 </td><td>  four </td><td>  five </td><td>  6 </td><td>  7 </td><td>  eight </td><td>  9 </td><td>  ten </td><td>  eleven </td><td>  12 </td><td>  13 </td><td>  14 </td></tr><tr><th>  <i>g '(x)</i> </th><td>  one </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  0 </td></tr></tbody></table><br><br>  Thus the expression <img src="https://habrastorage.org/getpro/habr/post_images/1c9/89f/670/1c989f6706454a114bc0f1ddca070b7f.png">  write as: <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6a1/cd3/a0e/6a1cd3a0e6d50c21d35a78748ff9f50e.png"></div><br>  And the expression <img src="https://habrastorage.org/getpro/habr/post_images/847/263/74e/84726374ed2fd38da445332dd154dfc8.png">  write as: <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cc5/94f/8f9/cc594f8f987d22b95916225e18fbb122.png"></div><br><br>  Applying this approach, we obtain the following function <i>g (y)</i> , the value of which will be 1 if the year is a leap year, or 0 in the opposite case: <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cff/2ab/9c1/cff2ab9c15e9912576c23551dec02c3e.png"></div><br><table><tbody><tr><th>  <i>y</i> </th><td>  1990 </td><td>  1991 </td><td>  <b>1992</b> </td><td>  1993 </td><td>  1994 </td><td>  1995 </td><td>  <b>1996</b> </td><td>  1997 </td><td>  1998 </td><td>  1999 </td><td>  <b>2000</b> </td></tr><tr><th>  <i>g (y)</i> </th><td>  0 </td><td>  0 </td><td>  <b>one</b> </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  <b>one</b> </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  <b>one</b> </td></tr><tr><th>  <i>y</i> </th><td>  <b>2000</b> </td><td>  2100 </td><td>  2200 </td><td>  2300 </td><td>  <b>2400</b> </td><td>  2500 </td><td>  2600 </td><td>  2700 </td><td>  <b>2800</b> </td><td>  2900 </td><td>  3000 </td></tr><tr><th>  <i>g (y)</i> </th><td>  <b>one</b> </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  <b>one</b> </td><td>  0 </td><td>  0 </td><td>  0 </td><td>  <b>one</b> </td><td>  0 </td><td>  0 </td></tr></tbody></table><br>  Leap years are highlighted in bold. <br><br>  I remind you that within the framework of the accepted agreement, the operator for obtaining the remainder of division can be depicted as <i>mod</i> and ‚åä‚åã. <br><br><h2>  Mask overlay </h2><br>  In the formula <img src="https://habrastorage.org/getpro/habr/post_images/3d8/a16/999/3d8a169993f90cd39ee7b551380bf8f5.png">  part <img src="https://habrastorage.org/getpro/habr/post_images/a98/1d8/ad5/a981d8ad5ad1f3878fdb1ca1b270adae.png">  is an amendment, adding 2 days to January.  If we remove the factor 2 and replace the numerator with 1 by 2, then this formula will add 2 days to January and 1 day to February, which gives us the key to adding a day in a leap year.  For clarity, we use the intermediate value of <i>g (y)</i> in the formula and use 2000 (leap) and 2001 (not leap) years as <i>y</i> : <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a7f/52c/848/a7f52c848dd474abc78fc334c6a248ac.png"></div><br><table><tbody><tr><th>  <i>x</i> </th><td>  one </td><td>  <b>2</b> </td><td>  <b>3</b> </td><td>  <b>four</b> </td><td>  <b>five</b> </td><td>  <b>6</b> </td><td>  <b>7</b> </td><td>  <b>eight</b> </td><td>  <b>9</b> </td><td>  <b>ten</b> </td><td>  <b>eleven</b> </td><td>  <b>12</b> </td></tr><tr><th>  <i>f (x, 2000)</i> </th><td>  <b>31</b> </td><td>  <b>29</b> </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>31</b> </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>31</b> </td></tr><tr><th>  <i>f (x, 2001)</i> </th><td>  thirty </td><td>  <b>28</b> </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>31</b> </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>thirty</b> </td></tr></tbody></table><br>  Values ‚Äã‚Äãfor all months except January are not leap years are correct. <br><br>  To correct this unfortunate misunderstanding, add to January 1 day already known to us by the formula <img src="https://habrastorage.org/getpro/habr/post_images/130/e0a/464/130e0a464e80237f81d18c61896da81e.png">  : <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9c3/dfc/c4e/9c3dfcc4edbda9a3fb64439404efce97.png"></div><br><table><tbody><tr><th>  <i>x</i> </th><td>  one </td><td>  <b>2</b> </td><td>  <b>3</b> </td><td>  <b>four</b> </td><td>  <b>five</b> </td><td>  <b>6</b> </td><td>  <b>7</b> </td><td>  <b>eight</b> </td><td>  <b>9</b> </td><td>  <b>ten</b> </td><td>  <b>eleven</b> </td><td>  <b>12</b> </td></tr><tr><th>  <i>f (x, 2000)</i> </th><td>  32 </td><td>  <b>29</b> </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>31</b> </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>31</b> </td></tr><tr><th>  <i>f (x, 2001)</i> </th><td>  <b>31</b> </td><td>  <b>28</b> </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>31</b> </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>thirty</b> </td></tr></tbody></table><br><br>  Now you need to subtract 1 day from January in the case of a leap year, for which we will be helped by the knowledge that for any <i>x</i> <img src="https://habrastorage.org/getpro/habr/post_images/df6/acd/fc7/df6acdfc7e4c5dfb89cf3068be94665c.png">  , but <img src="https://habrastorage.org/getpro/habr/post_images/634/afd/d21/634afdd214600e406167e27dcef4c9d1.png">  . <br><br>  Then the formula will look like: <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cff/2ab/9c1/cff2ab9c15e9912576c23551dec02c3e.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/933/332/9be/9333329be15af215de0a6174b13409c2.png"></div><br>  Or: <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f50/866/8b2/f508668b2a87ebdd330120fa8d0ef571.png"></div><br><table><tbody><tr><th>  <i>x</i> </th><td>  <b>one</b> </td><td>  <b>2</b> </td><td>  <b>3</b> </td><td>  <b>four</b> </td><td>  <b>five</b> </td><td>  <b>6</b> </td><td>  <b>7</b> </td><td>  <b>eight</b> </td><td>  <b>9</b> </td><td>  <b>ten</b> </td><td>  <b>eleven</b> </td><td>  <b>12</b> </td></tr><tr><th>  <i>f (x, 2000)</i> </th><td>  <b>31</b> </td><td>  <b>29</b> </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>31</b> </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>31</b> </td></tr><tr><th>  <i>f (x, 2001)</i> </th><td>  <b>31</b> </td><td>  <b>28</b> </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>31</b> </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>31</b> </td><td>  <b>thirty</b> </td><td>  <b>thirty</b> </td></tr></tbody></table><br><h2>  Conclusion </h2><br>  As a result, a much more cumbersome, but more universal formula has been obtained, which can also be used to obtain the number of days in a month of a particular year: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">f</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x, y</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">28</span></span> + ((x + <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.floor(x / <span class="hljs-number"><span class="hljs-number">8</span></span>)) % <span class="hljs-number"><span class="hljs-number">2</span></span>) + <span class="hljs-number"><span class="hljs-number">2</span></span> % x + <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.floor((<span class="hljs-number"><span class="hljs-number">1</span></span> + (<span class="hljs-number"><span class="hljs-number">1</span></span> - (y % <span class="hljs-number"><span class="hljs-number">4</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span>) % (y % <span class="hljs-number"><span class="hljs-number">4</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span>)) * ((y % <span class="hljs-number"><span class="hljs-number">100</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span>) % (y % <span class="hljs-number"><span class="hljs-number">100</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span>)) + (<span class="hljs-number"><span class="hljs-number">1</span></span> - (y % <span class="hljs-number"><span class="hljs-number">400</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span>) % (y % <span class="hljs-number"><span class="hljs-number">400</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span>))) / x) + <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.floor(<span class="hljs-number"><span class="hljs-number">1</span></span>/x) - <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.floor(((<span class="hljs-number"><span class="hljs-number">1</span></span> - (y % <span class="hljs-number"><span class="hljs-number">4</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span>) % (y % <span class="hljs-number"><span class="hljs-number">4</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span>)) * ((y % <span class="hljs-number"><span class="hljs-number">100</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span>) % (y % <span class="hljs-number"><span class="hljs-number">100</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span>)) + (<span class="hljs-number"><span class="hljs-number">1</span></span> - (y % <span class="hljs-number"><span class="hljs-number">400</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span>) % (y % <span class="hljs-number"><span class="hljs-number">400</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span>)))/x); }</code> </pre> <br>  An example in C # <a href="http://ideone.com/fANutz">ideone.com/fANutz</a> . <br><hr><br><a name="Footnote1"></a>  <b>1</b> .  I do not know how to use this mnemonic, so I spied on the tablet on the Internet. <br><a name="Footnote2"></a>  <b>2</b>  "Basics," or "Rule With Many Exceptions," like most rules. <br><a name="Footnote3"></a>  <b>3</b>  Initially, in the Roman calendar, February was the last month of the year, so there is a logic that it is shorter than all the others.  There is also a logic to add or delete a day at the end of the year, so its length is variable. <br><br>  <b>Upd.</b>  <b>one:</b> <br>  An alternative translation of the first part in the <a href="https://vk.com/page-30666517_49613056">community VKontakte</a> . <br>  <b>Upd.</b>  <b>2:</b> Thanks to the <a href="http://habrahabr.ru/users/keksmen/" class="user_link">keksmen</a> commentary, the error in the leap year definition formula ( <i>g (y)</i> ) was corrected and the final formula was corrected. </div><p>Source: <a href="https://habr.com/ru/post/261773/">https://habr.com/ru/post/261773/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../261761/index.html">Algorithmic Information Theory and Randomness of Individual Objects</a></li>
<li><a href="../261763/index.html">Antivirus adventure Vkontakte</a></li>
<li><a href="../261765/index.html">Trade Automation: A Service Engineer's View</a></li>
<li><a href="../261767/index.html">Creating a JMS Application Emulator with JMeter</a></li>
<li><a href="../261769/index.html">Puns on css</a></li>
<li><a href="../261775/index.html">Getting Started with Junos PyEZ</a></li>
<li><a href="../261777/index.html">Batcher's even-odd merge sort</a></li>
<li><a href="../261779/index.html">Express analysis of suspicious activity in the web server log</a></li>
<li><a href="../261781/index.html">About the intricacies of privacy in the Telegram Bots API: ‚Äúthis is not a bug, this is a feature‚Äù</a></li>
<li><a href="../261783/index.html">Vim in full: Working with Git</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>