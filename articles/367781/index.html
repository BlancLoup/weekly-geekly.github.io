<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>As I did the LED panel for monitoring servers, and at the same time, the light music for parties</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I am involved in server administration and web services support as a freelancer. With the increase in the number of "wards", simple monitoring began t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>As I did the LED panel for monitoring servers, and at the same time, the light music for parties</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/files/a52/771/e31/a52771e319cd46f6b1d0ae54c6a1d5a9.jpg"></div><br><br>  I am involved in server administration and web services support as a freelancer.  With the increase in the number of "wards", simple monitoring began to take an indecently long time.  I wanted to make for myself a full-fledged information panel.  What came out of this read under the cut. <br><a name="habracut"></a><br>  Yes, I am aware that there are many different ways to receive operational alerts on certain events: a smartphone, various displays, indicators, and even a smart watch.  But‚Ä¶ <br><br>  Many years ago, I liked the <a href="https://yandex.ru/blog/company/22263">traffic warning system in Yandex</a> : the usual traffic lights, which in different colors showed the degree of traffic congestion.  The implementation of Yandex inspired to collect something similar, also unusual, so that it would be useful. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Over time, the idea was formed - a light box with colored LEDs inside - that's what I need! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/a93/af1/7c0/a93af17c0de2451097e702ff5f9d18ed.jpg"></div><br><br><h3>  Want!.. </h3><br>  Originally wanted to see in the finished product: <br><br><ul><li>  Ethernet control </li><li>  the ability to set each LED its own color and brightness, </li><li>  inclusion on the motion sensor, for the night mode. </li></ul><br><h3>  The first!  The first!  Welcome!  Welcome! </h3><br>  As a protocol for communication, I chose the usual HTTP request, in which REQEST itself contains the command, in the form of hexadecimal numbers. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/7b7/baf/2cf/7b7baf2cf2fd4ba3848c627b306f05c0.png"></div><br><br>  This method seemed to me the most versatile.  The command is easy to submit from scripts, applications, even from a regular browser.  Hosts may be different, not connected to each other.  The command from the example will look like this: <br><br>  <b>http: //192.168.1.241/05FF800000000000</b> <br><br><h3>  Muhtar!  To me! </h3><br>  The list of commands is small, but includes the necessary set: <br><br><ul><li>  Turn on a separate LED </li><li>  Batch turn on all LEDs </li><li>  Motion Sensor Setup </li></ul><br>  The controller recognizes them in length. <br><br>  <b>Control of a separate LED</b> (8 bytes) <br><br>  <b>NN RR GG BB rr gg bb AA</b> <br><br>  Where: <br><br>  NN - LED number, <br>  RR GG BB - LED color, <br>  rr gg bb - the second color, when using animation, <br>  AA ‚Äî the transition time between the primary and the second color (animation speed); at zero, the primary color is constantly lit. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/c02/921/617/c02921617e794079b3babc78f0581fd0.png"></div><br><br>  Transition diagram between two colors, with animation enabled <br><br>  <b>Management of all LEDs at once</b> (288 bytes (96 * 3)) <br><br>  <b>RR GG BB RR GG BB RR GG BB ... RR GG BB</b> <br><br>  Where: <br><br>  RR GG BB - LED color. <br>  Batch management is convenient to use in cases when you need to display an animation. <br>  Note: if the number of LEDs is different from 96, the command will change its size to the corresponding number. <br><br>  <b>Motion sensor behavior control</b> (1 byte) <br><br>  <b>CC</b> <br><br>  Where: <br><br>  CC is a team. <br>  List of control commands: <br>  00 - OFF, the glow is off, the motion sensor is off, <br>  01 - ON, the glow is on, the motion sensor is off, <br>  02 - AUTO, the glow turns on when the motion sensor responds. <br>  The duration of work from the motion sensor is regulated by a variable resistor on the sensor itself.  If desired, you can implement the duration defined by the controller, and adjustable via commands. <br><br><h3>  Make me beautiful! </h3><br>  I wanted the device to be not only functional, but also to please the eye with its appearance. <br><br>  Despite the small size, the LEDs themselves are very bright, so the thought immediately came to disperse it through white plastic.  Milk acryl was most suitable for this purpose.  When passing through it, the light is scattered and acquires a pleasant glow to the eye. <br><br>  If you take a simple transparent plexiglass and glue it with a film, it will be cheaper, but the light will not be diffused when passing through it.  And even though the LEDs themselves behind the film will not be visible, but the spot of light will be clear, which looks ugly for my taste. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/973/5a3/e7c/9735a3e7c27c4b6a8476b75829183a8a.jpg" width="480"></div><br><br>  LEDs are mounted on the back with a glue gun.  They keep with this method not too reliably, but nobody will pull them there either.  It is advisable to touch contacts before sticking. <br><br>  The frame is simple, the corners are rounded off to taste, an aluminum or plastic profile is glued along the edge so that you can hang it on the wall as a picture. <br><br><h3>  I never get bored! </h3><br>  The options for the location of the indicators are infinite, who have enough imagination.  In the process of operation, I will not once again refine the scheme and change the position and purpose.  On that she and universality, has bothered one - has made another. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/766/694/e50/766694e500ea4002ba5381cec864a5c2.jpg"></div><br><br>  The top two rows are clocks showing the current time.  The first row is the current hour, the second row is the minutes, rounded down to 5 minutes.  Green highlights the reference values ‚Äã‚Äã(0, 3, 6, and 9). <br><br>  Next are the indicators of different events on the servers (for example, disabled). <br><br>  The sixth row is an indicator of new messages in social networks and mail.  Different indicators for different senders.  With one message, the indicator just lights up and lights up constantly.  With a few - pulsing.  The more messages, the more pulsing. <br><div style="text-align:center;"><img src="https://habrastorage.org/files/dd4/320/19b/dd432019b0e94102826901ed19f4affc.gif" width="80" height="80"></div><br>  I use the bottom two rows as needed for various temporary tasks. <br><br><h3>  I want more! </h3><br>  In the process of creating different ideas came.  Not all were useful to me, but perhaps they seem interesting to someone. <br><br>  When the sensor is triggered, you can send an event to a remote host (server). <br><br>  Implement Watchdog so that the controller tracks the amount of time elapsed since the last access, and when the limit was exceeded, turned on the red indicator and blinked to them more often as the period increased. <br><br>  Add a wifi module for wireless operation. <br><br>  Add a Bluetooth module for direct communication with a smartphone. <br><br>  A smartphone application that will check various events: SMS and missed calls from certain senders, calendar events, etc. <br><br>  Offer your functional options in the comments. <br><br><h3>  From what, from what, from what, are made ours ... </h3><br>  For the technical part of the project, I used the following components: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/d03/f01/bab/d03f01babfe143248007c02b0652a691.jpg"></div><br>  - controlled color LEDs RGB LED 5050 WS2812B (100 pcs) <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/22c/e9b/458/22ce9b458f9744a38978b376731a31e5.jpg"></div><br>  - Microcontroller Arduino Pro Micro 16 MHz, 32 KB ROM, 2.5 KB RAM <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/563/88c/6c7/56388c6c7a8840539c6e4f33695be9df.jpg"></div><br>  - network adapter on ENC28J60 chip <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/8c9/2a9/ff8/8c92a9ff8d1e407098673c956de2fbe8.jpg"></div><br>  - Motion Sensor <br><br>  - power supply 2A <br>  - acrylic plexiglass, white, 420 x 300 mm, 3 mm thick <br>  - aluminum channel 10x10x10x1.5 mm <br><br><h3>  We built, built and finally built! </h3><br>  For me, the benefits are obvious: <br><br>  - time spent on monitoring servers has been significantly reduced, <br>  - there is no need to constantly check mail and messages, <br>  - at night pleases automatically switched on room lighting, <br>  - Guests are delighted with color music. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/d1d/fff/446/d1dfff4465214ff0a86cac4e8f90da72.gif" width="384" height="216"></div><br><br>  The cost of all components of about 2000 p.  ($ 25).  The build scheme and firmware sources can be <a href="https://github.com/pyur/informer">taken on GitHub</a> . </div><p>Source: <a href="https://habr.com/ru/post/367781/">https://habr.com/ru/post/367781/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../367769/index.html">5 things to take with you for aerial shooting</a></li>
<li><a href="../367771/index.html">How to reset FLYME account password on MEIZU smartphones?</a></li>
<li><a href="../367773/index.html">To make the computer work faster</a></li>
<li><a href="../367775/index.html">As we, the WayBot robot collected or a series of articles on "How to become an engineer." Part 1</a></li>
<li><a href="../367777/index.html">Epson and the "School of New Technologies"</a></li>
<li><a href="../367783/index.html">[Informational post] Kingston Co-Logo logo and customization program</a></li>
<li><a href="../367785/index.html">The audio indicator and the option to mute the sound appear on the tabs in Firefox.</a></li>
<li><a href="../367787/index.html">Fitness bracelets of the new generation will analyze the sweat</a></li>
<li><a href="../367791/index.html">The director of the next "Star Wars" wants to make a film on film and in space</a></li>
<li><a href="../367793/index.html">Samsung has built-in wireless charging for smartphones in the monitor</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>