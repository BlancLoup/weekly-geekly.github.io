<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ORM on php for MySQL, reality (part one)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="After a long search for a library of interest to me in php to communicate with MySQL, I sat down and wrote my most suitable for use in projects. This ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>ORM on php for MySQL, reality (part one)</h1><div class="post__text post__text-html js-mediator-article">  After a long search for a library of interest to me in php to communicate with MySQL, I sat down and wrote my most suitable for use in projects.  This topic will take a small series of articles that will be useful not only for professional web application developers, but also for beginners.  It should be noted that the ORM library presented below, which, by the way, I called <b>kitty</b> , is the result of long suffering and is not a mandatory library of all projects. <br><br>  The library in my vision should have two files (at least in the initial stages): <br><ul><li>  library file - kitty.php; </li><li>  The database model object image file is modeldb.php. </li></ul><br><a name="habracut"></a><br>  Let's start with the last one.  The image file of the database must contain classes that are similar in name to the tables and contain fields in accordance with the columns of the tables.  Those.  if we have a <b>authors</b> table with the fields <i>idauthor</i> , <i>Name</i> , <i>Year</i> (ID, name, Years of life), then the class will look like this: <br><pre><code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">authors</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">kitty</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> $idauthor; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> $Name; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> $Year; }</code> </pre> <br>  <b>The ID must follow first.</b> <br><br>  Usually, the database image class contains all the tables that kitty automatically generates, but more on that later (you will not fit everything in this article), and it connects after kitty.  Now let's get down to the most interesting, to our library. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Class properties kitty </h2><br>  The kitty class is an abstract class and has (in my vision) two key properties: <br><pre> <code class="php hljs"> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> $db; <span class="hljs-comment"><span class="hljs-comment">//   private static $stack; // </span></span></code> </pre><br>  An instance of the <b>$ db</b> class stores a connection to the database using the improved <a href="http://www.php.su/articles/%3Fcat%3Dphpdb%26page%3D010" title="View class information">mysqli</a> class. <br>  An instance of the <b>$ stack</b> class stores the stack of queries and the results of these queries using the <a href="https://habrahabr.ru/post/161987/">SplStack</a> class. <br>  At this property ended, all succinctly and simply, now let's move on to the sweet. <br><br><h2>  Kitty class methods </h2><br>  In this article, we will look at several main class methods in order to understand the basic idea of ‚Äã‚Äãbuilding a library.  In OOP, there are static methods that are declared in memory once and do not change, and are not static, appearing in memory when an instance is created and living with it while the instance lives. <br>  The static methods of this library are generalized, not necessary for database instances.  Non-static methods cover the range of one or more database instances. <br><br><h3>  Static methods </h3><br>  The key static method for connecting to a database is setup: <br><pre> <code class="php hljs"> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setup</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(mysqli $dbi,$enc = </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"utf8"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_object($dbi)){ <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::$db = $dbi; <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::$stack = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SplStack(); <span class="hljs-comment"><span class="hljs-comment">//  return self::setEncoding($enc); //   }else{ throw new Exception(" $dbi    mysqli", 1); return false; } }</span></span></code> </pre><br>  As a parameter, we pass an instance of the mysqli class and the encoding, which is by default <b>utf8</b> .  During initialization, an instance of MySQLi and a stack are logged.  The result of the response is a query, i.e.  check on the correctness of the connection.  The line <b>kitty :: setup (new mysqli)</b> is the only library setting. <br>  The encoding is set by the <b>setEncoding</b> request.  The method code is presented below: <br><pre> <code class="php hljs"> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setEncoding</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($enc)</span></span></span></span>{ $result = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::$db-&gt;query(<span class="hljs-string"><span class="hljs-string">"SET NAMES '$enc'"</span></span>); <span class="hljs-comment"><span class="hljs-comment">//  self::$stack-&gt;push("SET NAMES '$enc' [".($result ? "TRUE" : self::getError())."]"); return $result ? true : false; //  }</span></span></code> </pre><br>  In the event of an error, put the request and the error on the stack, and accordingly return <i>false</i> . <br>  The error receiving function is very concise: <br><pre> <code class="php hljs"> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getError</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::$db-&gt;error.<span class="hljs-string"><span class="hljs-string">" ["</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::$db-&gt;errno.<span class="hljs-string"><span class="hljs-string">"]"</span></span>; }</code> </pre><br>  We return the error text (error) and the error code (errno). <br><br><blockquote>  Each self-respecting ORM library must contain screening <i>(Ph.D., Assoc. Prof. Kovzhenkin VS)</i> </blockquote><br><br>  This feature is implemented by the <b>mysqli_real_escape_string</b> function, but it is <i>long</i> and takes two parameters.  Let's replace, for convenience, this function with the one presented below: <br><pre> <code class="php hljs"> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">escape</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($string)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> mysqli_real_escape_string(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::$db,$string); }</code> </pre><br>  The function accepts a string and returns escaped for the SQL query.  With it, we forget about <b>SQL injection</b> , which is an important fact! <br><br>  To select the fields of the table, and more specifically the properties of the class of the table, we use php tools to work with classes. <br>  The function code is shown below: <br><pre> <code class="php hljs"> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_getVars</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> array_filter(get_class_vars(get_called_class()),<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($elem)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!is_object($elem)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; }); }</code> </pre><br>  The function takes all the properties and filters them.  If a property is an object, and it also chooses stack and db, then it is not included.  The output array with the fields of the table.  When calling <b>authors :: _ getVars ();</b>  the function will return the array <b>array (‚Äúidauthor‚Äù, ‚ÄúName‚Äù, ‚ÄúYear‚Äù)</b> . <br><br><h3>  Data retrieval </h3><br>  Data sampling is a delicate subject for ORM libraries and the question is how to get the data and how to present it. <br>  In the current article we will consider only one variant of the request. <br><br>  The method is static and selects one instance from the database by identifier (findID). <br>  The function code is shown below: <br><pre> <code class="php hljs"> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findID</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($id)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_numeric($id)){ <span class="hljs-comment"><span class="hljs-comment">// ,     $query = "SELECT * FROM `".get_called_class()."` WHERE `".key(self::_getVars())."` = $id LIMIT 1"; $result = self::$db-&gt;query($query); //  self::$stack-&gt;push($query." [".$result-&gt;num_rows."]"); //    if ($result-&gt;num_rows == 1){ //    $row = $result-&gt;fetch_object(); //    $cName = get_called_class(); //   $rClass = new $cName(); //   foreach ($row as $key =&gt; $value) $rClass-&gt;$key = $value; //   return $rClass; //  } else return false; //   ,   } else return false; //     }</span></span></code> </pre><br>  The code is described in detail by comments and does not require additional description. <br>  You can get an instance as follows: <br><pre> <code class="php hljs"> $auth = authors::findID(<span class="hljs-number"><span class="hljs-number">2</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($auth){ <span class="hljs-comment"><span class="hljs-comment">// }else{ //   }</span></span></code> </pre><br><br><h3>  Non static methods </h3><br>  Enough of static methods, let's move on to non-static ones.  Methods that relate to a specific instance. <br>  Above, we selected an instance of the author with identifier 2. If the request succeeds, then we will have an instance of the class: <br><pre> <code class="php hljs"> $auth-&gt;idauthor = <span class="hljs-number"><span class="hljs-number">2</span></span>; $auth-&gt;Name = <span class="hljs-string"><span class="hljs-string">"  "</span></span>; $auth-&gt;Year = <span class="hljs-string"><span class="hljs-string">"1818‚Äî1883"</span></span>;</code> </pre><br>  Changing parameters is very simple, but how to save? <br>  Save as easy.  Below is the function code to save: <br><pre> <code class="php hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Save</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ <span class="hljs-comment"><span class="hljs-comment">//  - UPDATE $id = key(self::_getVars()); //  if (!isset($this-&gt;$id) || empty($this-&gt;$id)) return $this-&gt;Add(); // ,  $query = "UPDATE `".get_called_class()."` SET "; //  $columns = self::_getVars(); //   $Update = array(); //  foreach ($columns as $k =&gt; $v) { //   if ($id != $k) //    $Update[] = "`".$k."` = ".self::RenderField($this-&gt;$k); //   } $query .= join(", ",$Update); //   $query .= " WHERE `$id` = ".self::escape($this-&gt;$id)." LIMIT 1"; //   $result = self::$db-&gt;query($query); self::$stack-&gt;push($query." [".($result ? "TRUE" : self::getError())."]"); //  return ($result) ? true : false; //  }</span></span></code> </pre><br>  The code is equipped with comments and does not require additional description.  To change the name in accordance with the previous example, you must run the following code: <br><pre> <code class="php hljs"> $auth-&gt;Name = <span class="hljs-string"><span class="hljs-string">"  "</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $auth-&gt;Save() ? <span class="hljs-string"><span class="hljs-string">""</span></span> : <span class="hljs-string"><span class="hljs-string">"  (("</span></span>;</code> </pre><br><br>  The Save function has a great RenderField function.  The function is very important, it is static and is responsible for the correctness of the query construction, its code is presented below: <br><pre> <code class="php hljs"> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RenderField</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($field)</span></span></span></span>{ $r = <span class="hljs-string"><span class="hljs-string">""</span></span>; <span class="hljs-comment"><span class="hljs-comment">//   switch (gettype($field)) { //    case "integer": case "float": // int  float $r = $field; break; case "NULL": $r = "NULL"; break; // NULL case "boolean": $r = ($field) ? "true" : "false"; break; // boolean case "string": //   $p_function = "/^[a-zA-Z_]+\((.)*\)/"; //   preg_match($p_function, $field,$mathes); //    if (isset($mathes[0])){ // ,   $p_value = "/\((.+)\)/"; //     preg_match($p_value, $field,$mValue); //  if (isset($mValue[0]) &amp;&amp; !empty($mValue[0])){ //        $pv = trim($mValue[0],"()"); //    $pv = "'".self::escape($pv)."'"; //     $r = preg_replace($p_value, "($pv)" , $field); //   } else $r = $field; //    } else $r = "'".self::escape($field)."'"; //    break; default: $r = "'".self::escape($field)."'"; break; //   } return $r; //  }</span></span></code> </pre><br>  The function determines when the text should be in single quotes, and when without. <br><br>  And what if you need to add an instance to the database.  You can create it as an instance of the class by running the code: <br><pre> <code class="php hljs"> $auth = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> authors(); $auth-&gt;Name = <span class="hljs-string"><span class="hljs-string">"  "</span></span>; $auth-&gt;Year = <span class="hljs-string"><span class="hljs-string">"1918-1983"</span></span>; $auth-&gt;Add();</code> </pre><br><br>  The add function code is shown below: <br><pre> <code class="php hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Add</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ <span class="hljs-comment"><span class="hljs-comment">//  - INSERT $query = "INSERT INTO `".get_called_class()."` ("; //  $columns = self::_getVars(); //  $q_column = array(); //    $q_data = array(); //    foreach ($columns as $k =&gt; $v){ //   $q_column[] = "`".$k."`"; //   $q_data[] = self::RenderField($this-&gt;$k); //    } $query .= join(", ",$q_column).") VALUES ("; //   $query .= join(", ",$q_data).")"; //   $result = self::$db-&gt;query($query); //  $insert_id = self::$db-&gt;insert_id; //   self::$stack-&gt;push($query." [".($result ? $insert_id : self::getError())."]"); //  return ($result) ? $insert_id : false; //  }</span></span></code> </pre><br><br><h3>  Deleting an object </h3><br>  And finally, the removal.  In php, there is no <b>delete</b> function and we will not break the tradition, so we will call the method Remove (); <br>  To remove the author's entry from the previous examples, you must run the code: <br><pre> <code class="php hljs"> $auth = authors::findID(<span class="hljs-number"><span class="hljs-number">2</span></span>); $auth-&gt;Remove();</code> </pre><br>  Select an instance and delete.  Everything is very simple and concise!  The function code for deletion is shown below: <br><pre> <code class="php hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Remove</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ <span class="hljs-comment"><span class="hljs-comment">//  - DELETE $id = key(self::_getVars()); //  if (!empty($this-&gt;$id)){ //    $qDel = "DELETE FROM `".get_called_class()."` WHERE `$id` = ".$this-&gt;$id." LIMIT 1"; $rDel = self::$db-&gt;query($qDel); //   self::$stack-&gt;push($qDel." [".($rDel ? "TRUE" : self::getError())."]"); //  return $rDel ? true:false; //  } else return false; //  }</span></span></code> </pre><br><br>  This ORM library is not a monster of the modern world, especially since I just started writing it, but it is quite suitable for use in small projects.  The following will discuss the automatic generation of a database model. </div><p>Source: <a href="https://habr.com/ru/post/305786/">https://habr.com/ru/post/305786/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../305776/index.html">How to approach the creation of a complex product: 3 tips for developers</a></li>
<li><a href="../305778/index.html">Intensive product design from the Mail.Ru Group team in the British</a></li>
<li><a href="../305780/index.html">New Tropical Data Center (TDC) Initiative</a></li>
<li><a href="../305782/index.html">Easter eggs in Mr Robot S02E01</a></li>
<li><a href="../305784/index.html">From design to development: 10 tools to help improve and optimize workflow</a></li>
<li><a href="../305788/index.html">The recent past: a study on the problems of test automation</a></li>
<li><a href="../305790/index.html">Google page speed insights 100 out of 100 on the platform for online store</a></li>
<li><a href="../305792/index.html">The digest of interesting materials for the mobile # 162 developer (July 11-17)</a></li>
<li><a href="../305794/index.html">Introduction to the concept of entropy and its many faces</a></li>
<li><a href="../305796/index.html">Learning OpenGL ES2 for Android Lesson ‚Ññ2. Creating triangles</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>