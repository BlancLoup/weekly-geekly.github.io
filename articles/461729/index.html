<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Using jailbreak to extract data: risks and consequences</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In my new blog on Habr√©, I want to share unique information on how exactly we extract data from smartphones. On our own site, we posted a number of ar...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Using jailbreak to extract data: risks and consequences</h1><div class="post__text post__text-html js-mediator-article">  In my new blog on Habr√©, I want to share unique information on how exactly we extract data from smartphones.  On our own site, we posted a number of articles on this topic, telling, it would seem, everything possible about how to extract data from Apple smartphones and tablets.  Logical analysis, cloud extraction and low-level physical extraction analysis have both strengths and weaknesses;  I will try to talk about them in the following publications. <br><br>  I guess I will never tire of talking about the benefits of physical analysis.  Here is access to all the contents of the file system, and decryption of all entries from the Keychain (and these are passwords, including, by the way, passwords for cryptocurrency wallets and "secret" chats).  Here, extracting data from all applications (and not just those whose developers allowed backup) and access to downloaded e-mail messages, chat rooms and correspondence in a wide variety of applications, including well-protected ones (by hand, we use Telegram and Signal users). <br><br>  How to get to the most interesting?  Of course, we need low-level data access, which is impossible without gaining superuser rights.  How to get superuser rights?  If you are not a police or special services employee from the USA, Israel or the EU, then there is only one option: installing a jailbreak.  Today I will talk about the risks and consequences of physical analysis of devices associated with the use of jailbreak to extract data. <br><a name="habracut"></a><br><h3>  What is jailbreak for? </h3><br>  Probably everyone knows what a jailbreak is for iOS and how it differs from root for Android (hint: for almost everyone).  Jailbreak is the collective name of the application class for the iOS operating system, which allows escalating privileges to obtain superuser rights on the device.  Escalation of privileges is carried out using errors in the iOS security system.  Given the fact that Apple developers quickly fix bugs with the release of iOS updates, the release of new and new jailbreak tools is a continuous process. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Jailbreaks are used both by independent researchers to analyze iOS security systems, and by enthusiastic users who get the opportunity to modify the appearance and behavior of the system, as well as install applications from third-party sources in addition to the official Apple App Store.  For us, these opportunities are superfluous;  all we need is access to the device via SSH, and, of course, full access to the file system. <br><br>  Thus, in our laboratory (as well as in the laboratories of forensic experts), jailbreaks are used to gain unlimited access to the file system, extract data from iPhone and iPad and decrypt Keychains (user passwords stored in Safari, system and third-party applications) . <br><br>  Using the jailbreak has the following benefits: <br><br>  File System Image: <br><br><ul><li>  Working application databases, WAL files, access to recently deleted records </li><li>  Data for all applications, including those for which backups are prohibited </li><li>  Access your chat history in apps like Signal and Telegram </li><li>  Downloaded Email and Exchange </li><li>  System Logs </li></ul><br>  Bunch of keys: <br><br><ul><li>  In addition to user passwords, which can also be extracted from the backup with a password, the records protected by the this_device_only attribute are also decrypted </li><li>  Including iTunes backup password retrieval </li></ul><br>  Using a jailbreak brings not only benefits, but also carries a number of risks. <br><br><h3>  Jailbreak Risks </h3><br>  Installing and using a jailbreak involves some risks.  The risk of installing a jailbreak is often misunderstood.  Most often, they are afraid of ‚Äúscorching‚Äù the device - a situation as a result of which a hacked iPhone or iPad stops loading.  The idea of ‚Äã‚Äãsuch a danger of jailbreaking has been going on since iOS 8 and 9, for which jailbreaks patched the kernel and tried (sometimes - successfully, but more often - not very) to disable Kernel Patch Protection, KPP protection.  The triggering of KPP led to a spontaneous reboot of the device or its bricking. <br><br>  Modern jailbreaks (starting with jailbreaks for iOS 10) have practically no such risk: jailbreaks do not modify the system core and do not affect the boot process (and, of course, do not touch KPP).  Moreover, even devices with jailbreak installed boot in normal mode;  To obtain superuser rights, the jailbreak will need to be run again, after loading. <br><br>  To an absolute minimum, this risk is reduced in jailbreaks of the Rootless category.  These jailbreaks not only do not modify the system, but do not even remount the system partition.  Accordingly, such jailbreaks are not able to influence the boot process of the system in any way. <br><br>  What are the risks of installing a jailbreak?  We list. <br><br>  1. <b>The device‚Äôs Internet connection.</b>  During the installation of the jailbreak, you will have to obtain a digital signature for the IPA package, which contains the jailbreak.  Unsigned IPAs cannot be transferred to the device, much less can not be launched on it.  Digital signature issued by Apple servers;  they must be contacted for its receipt.  The process is automated: it uses a ready-made and very easy to use open source Cydia Impactor application.  However, if you allow the device access to the Internet, you risk: an attacker can remotely send a command to the device to block it or destroy data. <br><br>  <b>Solution: You</b> can work around this problem by using the Apple Developer Program certificate.  See the <a href="https://blog.elcomsoft.com/ru/2019/05/fizicheskij-analiz-ustrojstv-ios-i-ustanovka-dzhejlbrejka-poshagovoe-rukovodstvo/">Walkthrough for</a> details. <br><br>  2. <b>Jailbreak just does not install.</b>  Yes, the second most serious risk is that the jailbreak simply won‚Äôt get on the iPhone.  Jailbreaks do not use one, but a whole chain of vulnerabilities;  finding and using such a chain correctly is hard work.  Alas, the error at any stage leads to the fact that the jailbreak will not be established, and you will find yourself in the best case with a device without a jailbreak, and in the worst case with a device with a remounted system partition, but without a jailbreak (about what is bad - below ) <br><br>  <b>Solution:</b> generally speaking, there are many jailbreaks.  For iOS 12, for example, we counted at least 4 workable jailbreaks (in fact, there are more).  One jailbreak didn‚Äôt work?  Just try another;  about them again in the <a href="https://blog.elcomsoft.com/ru/2019/05/fizicheskij-analiz-ustrojstv-ios-i-ustanovka-dzhejlbrejka-poshagovoe-rukovodstvo/">Walkthrough</a> . <br><br><h3>  Effects </h3><br>  We figured out the risks, the jailbreak is installed.  How could this threaten? <br><br>  Before talking about the risks of jailbreak, we will understand their types.  There are only two of them: ordinary (classic) jailbreaks, and rootless jailbreak. <br><br>  The classic jailbreak provides the user with, so to speak, ‚Äúfull stuffing‚Äù: the digital signature verification is disabled (you can install and run any applications), a third-party application store is installed (most often this is Cydia, but alternative options also began to appear).  For this, quite a lot of files are written to the system partition, and the system partition itself is remounted in r / w mode. <br><br>  What does this mean in practice?  Junk in the system partition, which sometimes cannot be completely removed during the process of jailbreak removal (especially if the user managed to try installing different jailbreaks).  Potential (and often real) device instability.  Finally, the inability to correctly install OTA updates.  Only full firmware recovery through iTunes helps, and sometimes the instability of the device persists, and you have to reset to factory settings.  Not too nice. <br><br>  All these things do not happen if you use the new rootless type of jailbreak, the only representative of which is RootlessJB.  This jailbreak did not win the popularity of its classic counterparts for an obvious reason: it does not install (and does not support work) third-party stores (Cyida and the like).  An ordinary user-enthusiast at this moment, the interest disappears, and he sets up a classic jailbreak. <br><br>  Meanwhile, for our purposes, RootlessJB is of particular value.  The fact is that we should return the iPhone under study in approximately the form in which it was received for analysis.  That is, at least the device should not work less stable than before the analysis, and there should be no problems installing OTA updates.  These are exactly what RootlessJB gives us.  Judge for yourself: this jailbreak does not modify the system partition without writing a single extra file to it.  Moreover, he cannot do this: the principle of operation of this jailbreak does not imply remounting the system partition in r / w mode. <br><br>  Further more.  Since the RootlessJB jailbreak does not need to be supported by a third-party application store, there is no need to disable digital signature verification (you can run individual binaries, but the paths to them must be manually entered into the permission control file).  No need to disable digital signature verification - no need to write anything to the system partition.  The system partition does not need to be opened for recording - you can skip the operation of the corresponding vulnerability, which simplifies the installation process and makes it more reliable.  In other words, for us, RootlessJB is literally a gift. <br><br>  We finish the article with a table in which we compare the consequences of using different types of jailbreaks. <br><br><img src="https://habrastorage.org/webt/nt/qb/jt/ntqbjtkbx1fz6nvu2fkhc85eova.jpeg" alt="image"><br><br><h3>  Conclusion </h3><br>  This article is the first one planned.  I plan to talk about how exactly in the laboratories of the police and special services both in our country and abroad get access to information in Apple devices.  Stay with us, it will be interesting! </div><p>Source: <a href="https://habr.com/ru/post/461729/">https://habr.com/ru/post/461729/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../46172/index.html">Vpornacte</a></li>
<li><a href="../461721/index.html">New Cluster Analysis Method</a></li>
<li><a href="../461723/index.html">Understanding the Context package in Golang</a></li>
<li><a href="../461725/index.html">DataGrip 2019.2: Connection management, data search, filtering in navigation</a></li>
<li><a href="../461727/index.html">Cisco Small Business Solutions: A Good Network Is Not Necessarily Costly</a></li>
<li><a href="../46173/index.html">Chinese cybercafes forcibly translate to Linux</a></li>
<li><a href="../461733/index.html">Learning English: 9 American-style idioms</a></li>
<li><a href="../461735/index.html">FFmpeg DXVA2 Hardware Decoding Practice</a></li>
<li><a href="../461737/index.html">We collect the environment for modern TDD on JavaScript + VS code</a></li>
<li><a href="../461739/index.html">Backend United 4: Okroshka. Incidents</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>