<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Google Analytics: create remarketing lists from old users without limits</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Remarketing is the ability to advertise to users who have previously visited your site on Google Display Network sites. 

 About the benefits and basi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Google Analytics: create remarketing lists from old users without limits</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/zm/d5/t9/zmd5t97qjl1voytx5ef-nybwg3o.png"><br><br>  <b>Remarketing</b> is the ability to advertise to users who have previously visited your site on Google Display Network sites. <br><br>  About the benefits and basic settings written in the <a href="https://support.google.com/adwords/answer/3210317%3Fhl%3Dru">official certificate</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Simplify the logic for remarketing: <br><br><ol><li>  Customize the collection of lists for remarketing. </li><li>  Wait until these lists get users from your site. </li><li>  Enable ads through Adwords. </li></ol><br><h2>  Problem </h2><br>  By creating a remarketing list, you can include users who have already been on your site, but only for the last 30 days. <br><br>  Suppose your analysts have found an audience that performs target actions well, and in the last 90 days there have been ~ 75 thousand users.  Of course, you want to set up remarketing for these users. <br><br>  How to select these users for advertising?  Let's figure it out! <br><a name="habracut"></a><br><h2>  Technical side </h2><br>  Google Analytics marks each client application (browser) with _ga, which contains clientID.  And then, at each interaction with the site (viewing a page or an event), it sends information to its server via the <a href="https://habrahabr.ru/company/englishdom/blog/326788/">Measurement Protocol</a> , and in this request the required parameter is the clientID.  Thus, GA understands that actions are performed by one user. <br><br>  When you turn on the remarketing option in the GA counter, the information is also sent to <a href="https://www.google.com/ads/ga-audiences">www.google.com/ads/ga-audiences</a> : <br><br><pre><code class="hljs objectivec">https:<span class="hljs-comment"><span class="hljs-comment">//www.google.com/ads/ga-audiences?v=1&amp;aip=1&amp;t=sr&amp;_r=4&amp;tid=UA-XXXXXX-X&amp;cid=1446135452.1505374077&amp;jid=1601010692&amp;_v=j67&amp;z=633096611</span></span></code> </pre> <br>  This query is used to combine user information in GA and the Google advertising system. <br><br><h2>  Create an unlimited remarketing list </h2><br>  To create lists through the current method, we need the ClientID of users. <br>  If you don‚Äôt collect them yet, it's time to start.  This can be implemented, for example, through the collection of raw data GA or through the setting of a <a href="https://support.google.com/analytics/answer/2709828%3Fhl%3Dru">special parameter</a> .  And it is better to configure both ways. <br><br>  <i>Sample raw data table</i> <br><br><img src="https://habrastorage.org/webt/fb/9t/fo/fb9tfonhasvqh9psq8aq_fet1pu.png"><br><br>  <i>Example table with clientID in special parameter</i> <br><br><img src="https://habrastorage.org/webt/xo/uy/sj/xouysjbwrrywthnioczzn-clcks.png"><br><br>  Unfortunately, if you have not previously collected clientID, this method will not work for you. <br><br><h3>  Getting clientID </h3><br>  Select the audience that analysts have found, and unload the clientID of these users. <br><br><h3>  Create remarketing list </h3><br>  We open Google Analytics - Settings - Definition of audiences - Audiences. <br><br><img src="https://habrastorage.org/webt/d6/nt/be/d6ntbe6hhrgso5af_4xmaw2hty0.png"><br><br>  Click ‚ÄúCreate a new audience‚Äù. <br><br>  Select the audience of <b>users</b> who committed the events: <br>  Event Category: CustomRemarketing <br>  Event Action: CustomListOne <br><br>  We save.  There are no such users now, the list is empty. <br><br><h3>  Add users to the list </h3><br>  Now, through the Measurement Protocol, we will create events for each of the users. <br><br>  We need to send the parameters to <a href="https://www.google-analytics.com/collect">www.google-analytics.com/collect</a> : <br><br><ul><li>  v = 1 </li><li>  t = event // interaction type - event </li><li>  tid = UA-XXXXXXX-X // site identifier in GA </li><li>  cid = 1001931462.1523543343 // clientID of the user </li><li>  ni = 1 // necessarily - so that a session is not created, but only an event is created </li><li>  ea = CustomListOne // Event Action </li><li>  ec = CustomRemarketing // Event Category </li></ul><br>  Sample link for request: <br><br><pre> <code class="hljs objectivec">https:<span class="hljs-comment"><span class="hljs-comment">//www.google-analytics.com/collect?v=1&amp;t=event&amp;tid=UA-XXXXXXX-X&amp;cid=1001931462.1523543343&amp;ni=1&amp;ea=CustomListOne&amp;ec=CustomRemarketing</span></span></code> </pre><br>  You can send both GET and POST requests. <br><br>  For simplicity and clarity, I will use the Google Table. <br><br><img src="https://habrastorage.org/webt/l7/be/lq/l7belqkkr_bmriqsobbbxkx9nvg.png"><br><br>  In the Image column we write the formula = IMAGE (C2) and stretch it on all the lines. <br>  At this point, get-requests will be sent to each of the links in column C. <br><br>  Please note that in real-time reports you will not see these events.  But a little later in the usual reports they catch up. <br><br><img src="https://habrastorage.org/webt/m2/fk/k6/m2fkk629i6xuinkkcifutvs3lkm.png"><br><br>  And during the day the numbers will be updated in Google Adwords. <br><br><img src="https://habrastorage.org/webt/mt/qn/v_/mtqnv_gaxug9sas20vm6p01idxi.png"><br><br>  Due to the latest news - <a href="https://support.google.com/analytics/answer/7667196%3Fhl%3Dru">do not forget to disable the</a> automatic deletion of user data. <br><br>  Successes! </div><p>Source: <a href="https://habr.com/ru/post/353936/">https://habr.com/ru/post/353936/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../353924/index.html">9 Tips to Improve React Application Code Quality</a></li>
<li><a href="../353926/index.html">The most terrible mistakes that make DS. Meeting at Avito's office on April 24</a></li>
<li><a href="../353928/index.html">"Calendar of the tester" for April. Metrics in QA service</a></li>
<li><a href="../353930/index.html">How to move from BuddyBuild to GitLab CI in 4 hours</a></li>
<li><a href="../353932/index.html">Information Retrieval Course at the Winter Pushchino School: we teach high school students to create search engines</a></li>
<li><a href="../353938/index.html">Services for the selection of keywords on the App Store: a comparative characteristic</a></li>
<li><a href="../353940/index.html">The C ++ Standardization Committee rips the shackles off</a></li>
<li><a href="../353942/index.html">Modular development of Android applications</a></li>
<li><a href="../353944/index.html">Open lesson "iSCSI in Linux"</a></li>
<li><a href="../353946/index.html">Character kotlin</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>